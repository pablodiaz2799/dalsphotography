!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@angular/core"),require("@angular/forms"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("resize-observer-polyfill"),require("jszip/dist/jszip"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("igniteui-angular",["exports","@angular/animations","@angular/core","@angular/forms","@angular/common","rxjs","rxjs/operators","resize-observer-polyfill","jszip/dist/jszip","@angular/platform-browser"],t):t((e=e||self)["igniteui-angular"]={},e.ng.animations,e.ng.core,e.ng.forms,e.ng.common,e.rxjs,e.rxjs.operators,e.ResizeObserver,e.JSZip,e.ng.platformBrowser)}(this,(function(e,t,i,n,o,r,s,a,l,c){"use strict";a=a&&a.hasOwnProperty("default")?a.default:a;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function d(e,t){function i(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var u,h,g,f=function(){return(f=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function m(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}function y(e,t){return function(i,n){t(i,n,e)}}function v(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function b(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return s}function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}(u=e["ɵg"]||(e["ɵg"]={}))[u.quad="cubic-bezier(0.550, 0.085, 0.680, 0.530)"]="quad",u[u.cubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)"]="cubic",u[u.quart="cubic-bezier(0.895, 0.030, 0.685, 0.220)"]="quart",u[u.quint="cubic-bezier(0.755, 0.050, 0.855, 0.060)"]="quint",u[u.sine="cubic-bezier(0.470, 0.000, 0.745, 0.715)"]="sine",u[u.expo="cubic-bezier(0.950, 0.050, 0.795, 0.035)"]="expo",u[u.circ="cubic-bezier(0.600, 0.040, 0.980, 0.335)"]="circ",u[u.back="cubic-bezier(0.600, -0.280, 0.735, 0.045)"]="back",(h=e["ɵh"]||(e["ɵh"]={}))[h.quad="cubic-bezier(0.250, 0.460, 0.450, 0.940)"]="quad",h[h.cubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)"]="cubic",h[h.quart="cubic-bezier(0.165, 0.840, 0.440, 1.000)"]="quart",h[h.quint="cubic-bezier(0.230, 1.000, 0.320, 1.000)"]="quint",h[h.sine="cubic-bezier(0.390, 0.575, 0.565, 1.000)"]="sine",h[h.expo="cubic-bezier(0.190, 1.000, 0.220, 1.000)"]="expo",h[h.circ="cubic-bezier(0.075, 0.820, 0.165, 1.000)"]="circ",h[h.back="cubic-bezier(0.175, 0.885, 0.320, 1.275)"]="back",function(e){e[e.quad="cubic-bezier(0.455, 0.030, 0.515, 0.955)"]="quad",e[e.cubic="cubic-bezier(0.645, 0.045, 0.355, 1.000)"]="cubic",e[e.quart="cubic-bezier(0.770, 0.000, 0.175, 1.000)"]="quart",e[e.quint="cubic-bezier(0.860, 0.000, 0.070, 1.000)"]="quint",e[e.sine="cubic-bezier(0.445, 0.050, 0.550, 0.950)"]="sine",e[e.expo="cubic-bezier(1.000, 0.000, 0.000, 1.000)"]="expo",e[e.circ="cubic-bezier(0.785, 0.135, 0.150, 0.860)"]="circ",e[e.back="cubic-bezier(0.680, -0.550, 0.265, 1.550)"]="back"}(g||(g={}));var C=[t.style({opacity:"{{startOpacity}}"}),t.animate("{{duration}} {{delay}} {{easing}}",t.style({opacity:"{{endOpacity}}"}))],_={delay:"0s",duration:"350ms",easing:e["ɵh"].sine,endOpacity:1,startOpacity:0},w=t.animation(C,{params:_}),I=t.animation(C,{params:{delay:"0s",duration:"350ms",easing:e["ɵh"].sine,endOpacity:0,startOpacity:1}}),S=[t.style({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),t.animate("{{duration}} {{delay}} {{easing}}",t.keyframes([t.style({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),t.style({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],E={delay:"0s",duration:"600ms",easing:e["ɵh"].quad,endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"},D=t.animation(S,{params:f({},E)}),O=t.animation(S,{params:f(f({},E),{endAngle:-180})}),T=t.animation(S,{params:f(f({},E),{rotateX:0,rotateY:1})}),P=t.animation(S,{params:f(f({},E),{endAngle:-180,rotateX:0,rotateY:1})}),R=t.animation(S,{params:f(f({},E),{endDistance:"170px"})}),k=t.animation(S,{params:f(f({},E),{endDistance:"-170px"})}),L=t.animation(S,{params:f(f({},E),{endDistance:"170px",rotateX:0,rotateY:1})}),A=t.animation(S,{params:f(f({},E),{endDistance:"-170px",rotateX:0,rotateY:1})}),M=[t.style({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),t.animate("{{duration}} {{delay}} {{easing}}",t.style({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],V={delay:"0s",duration:"600ms",easing:e["ɵh"].quad,endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"},F=f(f({},V),{easing:e["ɵg"].quad,endOpacity:0,startOpacity:1}),H=t.animation(M,{params:f({},V)}),B=t.animation(M,{params:f({},F)}),j=t.animation(M,{params:f(f({},V),{xPos:"top"})}),N=t.animation(M,{params:f(f({},F),{xPos:"top"})}),G=t.animation(M,{params:f(f({},V),{xPos:"right"})}),z=t.animation(M,{params:f(f({},F),{xPos:"right"})}),W=t.animation(M,{params:f(f({},V),{xPos:"bottom"})}),U=t.animation(M,{params:f(f({},F),{xPos:"bottom"})}),$=t.animation(M,{params:f(f({},V),{xPos:"left"})}),K=t.animation(M,{params:f(f({},F),{xPos:"left"})}),Y=t.animation(M,{params:f(f({},V),{xPos:"right",yPos:"top"})}),X=t.animation(M,{params:f(f({},F),{xPos:"right",yPos:"top"})}),q=t.animation(M,{params:f(f({},V),{xPos:"right",yPos:"bottom"})}),Z=t.animation(M,{params:f(f({},F),{xPos:"right",yPos:"bottom"})}),J=t.animation(M,{params:f(f({},V),{xPos:"left",yPos:"bottom"})}),Q=t.animation(M,{params:f(f({},F),{xPos:"left",yPos:"bottom"})}),ee=t.animation(M,{params:f(f({},V),{xPos:"left",yPos:"top"})}),te=t.animation(M,{params:f(f({},F),{xPos:"left",yPos:"top"})}),ie=t.animation(M,{params:f(f({},V),{rotateX:1,rotateY:1,rotateZ:0})}),ne=t.animation(M,{params:f(f({},F),{rotateX:1,rotateY:1,rotateZ:0})}),oe=t.animation(M,{params:f(f({},V),{rotateX:-1,rotateY:1,rotateZ:0})}),re=t.animation(M,{params:f(f({},F),{rotateX:-1,rotateY:1,rotateZ:0})}),se=t.animation(M,{params:f(f({},V),{rotateX:0,rotateY:1,rotateZ:0})}),ae=t.animation(M,{params:f(f({},F),{rotateX:0,rotateY:1,rotateZ:0})}),le=t.animation(M,{params:f(f({},V),{rotateX:1,rotateY:0,rotateZ:0})}),ce=t.animation(M,{params:f(f({},F),{rotateX:1,rotateY:0,rotateZ:0})}),pe=[t.animate("{{duration}} {{delay}} {{easing}}",t.keyframes([t.style({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),t.style({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),t.style({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),t.style({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),t.style({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),t.style({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),t.style({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),t.style({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),t.style({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),t.style({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),t.style({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))],de={delay:"0s",direction:"X",duration:"800ms",easing:g.quad,endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"},ue=t.animation(pe,{params:f(f({},de),{direction:"X"})}),he=t.animation(pe,{params:f(f({},de),{direction:"Y"})}),ge=t.animation(pe,{params:f(f({},de),{endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"})}),fe=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"})}),me=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"})}),ye=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"})}),ve=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"})}),be=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"})}),xe=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"})}),Ce=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"})}),_e=t.animation(pe,{params:f(f({},de),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"})}),we=[t.style({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),t.animate("{{duration}} {{delay}} {{easing}}",t.keyframes([t.style({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),t.style({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),t.style({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),t.style({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))],Ie=[t.animate("{{duration}} {{delay}} {{easing}}",t.keyframes([t.style({offset:0,transform:"scale({{fromScale}})"}),t.style({offset:.5,transform:"scale({{toScale}})"}),t.style({offset:1,transform:"scale({{fromScale}})"})]))],Se={delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1},Ee=[t.animate("{{duration}} {{delay}} {{easing}}",t.keyframes([t.style({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),t.style({offset:.8,opacity:0,transform:"scale({{midScale}})"}),t.style({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],De=t.animation(Ie,{params:f({},Se)}),Oe=t.animation(Ie,{params:f(f({},Se),{toScale:.9})}),Te=t.animation(we,{params:f({},{delay:"0s",duration:"1.5s",easing:"ease-in-out"})}),Pe=t.animation(Ee,{params:f({},{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2})}),Re=[t.style({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),t.animate("{{duration}} {{delay}} {{easing}}",t.style({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))],ke={delay:"0s",direction:"",duration:"350ms",easing:e["ɵh"].quad,endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"},Le=f(f({},ke),{easing:e["ɵh"].sine,endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}),Ae=t.animation(Re,{params:ke}),Me=t.animation(Re,{params:f(f({},ke),{xPos:"0",yPos:"100%"})}),Ve=t.animation(Re,{params:f(f({},ke),{direction:"Y",fromScale:.4})}),Fe=t.animation(Re,{params:f(f({},ke),{xPos:"50%",yPos:"0"})}),He=t.animation(Re,{params:f(f({},ke),{xPos:"0",yPos:"50%"})}),Be=t.animation(Re,{params:f(f({},ke),{direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"})}),je=t.animation(Re,{params:f(f({},ke),{xPos:"100%",yPos:"0"})}),Ne=t.animation(Re,{params:f(f({},ke),{xPos:"0",yPos:"0"})}),Ge=t.animation(Re,{params:f(f({},ke),{direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"})}),ze=t.animation(Re,{params:f(f({},ke),{xPos:"100%",yPos:"50%"})}),We=t.animation(Re,{params:f(f({},ke),{direction:"X",fromScale:.4})}),Ue=t.animation(Re,{params:f(f({},ke),{xPos:"100%",yPos:"100%"})}),$e=t.animation(Re,{params:f(f({},ke),{direction:"X",fromScale:.4,xPos:"0",yPos:"0"})}),Ke=t.animation(Re,{params:f(f({},ke),{xPos:"50%",yPos:"100%"})}),Ye=t.animation(Re,{params:f(f({},ke),{direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"})}),Xe=t.animation(Re,{params:Le}),qe=t.animation(Re,{params:f(f({},Le),{xPos:"0",yPos:"100%"})}),Ze=t.animation(Re,{params:f(f({},Le),{xPos:"100%",yPos:"100%"})}),Je=t.animation(Re,{params:f(f({},Le),{direction:"Y",toScale:.3})}),Qe=t.animation(Re,{params:f(f({},Le),{direction:"Y",toScale:.3,xPos:"100%",yPos:"0"})}),et=t.animation(Re,{params:f(f({},Le),{direction:"Y",toScale:.3,xPos:"0",yPos:"100%"})}),tt=t.animation(Re,{params:f(f({},Le),{xPos:"50%",yPos:"0"})}),it=t.animation(Re,{params:f(f({},Le),{xPos:"0",yPos:"50%"})}),nt=t.animation(Re,{params:f(f({},Le),{xPos:"100%",yPos:"0"})}),ot=t.animation(Re,{params:f(f({},Le),{xPos:"0",yPos:"0"})}),rt=t.animation(Re,{params:f(f({},Le),{xPos:"100%",yPos:"50%"})}),st=t.animation(Re,{params:f(f({},Le),{xPos:"50%",yPos:"100%"})}),at=t.animation(Re,{params:f(f({},Le),{direction:"X",toScale:.3})}),lt=t.animation(Re,{params:f(f({},Le),{direction:"X",toScale:.3,xPos:"0",yPos:"0"})}),ct=t.animation(Re,{params:f(f({},Le),{direction:"X",toScale:.3,xPos:"100%",yPos:"100%"})}),pt=[t.style({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),t.animate("{{duration}} {{delay}} {{easing}}",t.style({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))],dt={delay:"0s",duration:"350ms",easing:e["ɵh"].quad,endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"},ut={delay:"0s",duration:"350ms",easing:e["ɵg"].quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"},ht=t.animation(pt,{params:dt}),gt=t.animation(pt,{params:{delay:"0s",duration:"350ms",easing:e["ɵh"].quad,endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),ft=t.animation(pt,{params:{delay:"0s",duration:"350ms",easing:e["ɵh"].quad,endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),mt=t.animation(pt,{params:{delay:"0s",duration:"350ms",easing:e["ɵh"].quad,endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),yt=t.animation(pt,{params:f(f({},dt),{fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),vt=t.animation(pt,{params:f(f({},dt),{fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),bt=t.animation(pt,{params:f(f({},dt),{fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),xt=t.animation(pt,{params:f(f({},dt),{fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),Ct=t.animation(pt,{params:ut}),_t=t.animation(pt,{params:f(f({},ut),{toPosition:"translateX(500px)"})}),wt=t.animation(pt,{params:{delay:"0s",duration:"350ms",easing:e["ɵg"].quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),It=t.animation(pt,{params:f(f({},ut),{toPosition:"translateX(-500px)"})}),St=t.animation(pt,{params:f(f({},ut),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"})}),Et=t.animation(pt,{params:f(f({},ut),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"})}),Dt=t.animation(pt,{params:f(f({},ut),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"})}),Ot=t.animation(pt,{params:f(f({},ut),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"})}),Tt=[t.style({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),t.animate("{{duration}} {{delay}} {{easing}}",t.style({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],Pt={delay:"0s",direction:"X",duration:".5s",easing:e["ɵh"].back,endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"},Rt=f(f({},Pt),{duration:".55s",easing:e["ɵg"].back,endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}),kt=t.animation(Tt,{params:f({},Pt)}),Lt=t.animation(Tt,{params:f(f({},Pt),{direction:"Y",xPos:"center",yPos:"right"})}),At=t.animation(Tt,{params:f(f({},Pt),{startAngle:100,xPos:"bottom"})}),Mt=t.animation(Tt,{params:f(f({},Pt),{direction:"Y",startAngle:100,xPos:"center",yPos:"left"})}),Vt=t.animation(Tt,{params:f(f({},Pt),{duration:".6s",startAngle:70})}),Ft=t.animation(Tt,{params:f(f({},Pt),{direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"})}),Ht=t.animation(Tt,{params:f(f({},Pt),{duration:".6s",startAngle:-70,xPos:"bottom"})}),Bt=t.animation(Tt,{params:f(f({},Pt),{direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"})}),jt=t.animation(Tt,{params:f({},Rt)}),Nt=t.animation(Tt,{params:f(f({},Rt),{direction:"Y",xPos:"center",yPos:"right"})}),Gt=t.animation(Tt,{params:f(f({},Rt),{endAngle:-70,xPos:"bottom"})}),zt=t.animation(Tt,{params:f(f({},Rt),{direction:"Y",endAngle:-70,xPos:"center",yPos:"left"})}),Wt=t.animation(Tt,{params:f(f({},Rt),{duration:".45s",endAngle:-100})}),Ut=t.animation(Tt,{params:f(f({},Rt),{direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"})}),$t=t.animation(Tt,{params:f(f({},Rt),{duration:".45s",endAngle:100,xPos:"bottom"})}),Kt=t.animation(Tt,{params:f(f({},Rt),{direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"})}),Yt=[t.style({opacity:"{{ startOpacity }}",height:"{{ startHeight }}"}),t.animate("{{duration}} {{delay}} {{easing}}",t.style({opacity:"{{ endOpacity }}",height:"{{ endHeight }}"}))],Xt={delay:"0s",duration:"350ms",easing:e["ɵg"].quad,startOpacity:0,endOpacity:1,startHeight:"",endHeight:""},qt=t.animation(Yt,{params:f(f({},Xt),{easing:e["ɵh"].quad,startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*"})}),Zt=t.animation(Yt,{params:f(f({},Xt),{easing:e["ɵh"].quad,startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px"})}),Jt=function(){function e(){this.navs={}}return e.prototype.add=function(e,t){this.navs[e]=t},e.prototype.remove=function(e){delete this.navs[e]},e.prototype.get=function(e){if(e)return this.navs[e]},e.prototype.toggle=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.navs[e])return(t=this.navs[e]).toggle.apply(t,x(i))},e.prototype.open=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.navs[e])return(t=this.navs[e]).open.apply(t,x(i))},e.prototype.close=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.navs[e])return(t=this.navs[e]).close.apply(t,x(i))},e=m([i.Injectable()],e)}(),Qt=function(){function e(e){this.state=e}return e.prototype.toggleNavigationDrawer=function(){this.state.toggle(this.target,!0)},e.ctorParameters=function(){return[{type:Jt}]},m([i.Input("igxNavToggle")],e.prototype,"target",void 0),m([i.HostListener("click")],e.prototype,"toggleNavigationDrawer",null),e=m([i.Directive({selector:"[igxNavToggle]"})],e)}(),ei=function(){function e(e){this.state=e}return e.prototype.closeNavigationDrawer=function(){this.state.close(this.target,!0)},e.ctorParameters=function(){return[{type:Jt}]},m([i.Input("igxNavClose")],e.prototype,"target",void 0),m([i.HostListener("click")],e.prototype,"closeNavigationDrawer",null),e=m([i.Directive({selector:"[igxNavClose]"})],e)}(),ti=function(){function e(){}return e=m([i.NgModule({declarations:[ei,Qt],exports:[ei,Qt],providers:[Jt]})],e)}();function ii(e,t){var i=[];if(!e)return i;for(var n=e.length;n--;)i[n]=t?oi(e[n]):e[n];return i}function ni(e,t){var i,n;if(!ri(e))throw new Error("Cannot merge into "+e+". First param must be an object.");if(!ri(t))return e;try{for(var o=v(Object.keys(t)),r=o.next();!r.done;r=o.next()){var s=r.value;e[s]=oi(t[s])}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return e}function oi(e){var t,i;if(si(e))return new Date(e.getTime());if(Array.isArray(e))return x(e);if(e instanceof Map||e instanceof Set)return e;if(ri(e)){var n={};try{for(var o=v(Object.keys(e)),r=o.next();!r.done;r=o.next()){var s=r.value;n[s]=oi(e[s])}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return n}return e}function ri(e){return e&&"[object Object]"===e.toString()}function si(e){return"[object Date]"===Object.prototype.toString.call(e)}function ai(e,t){return si(e)&&si(t)?e.getTime()===t.getTime():e===t}function li(e,t){var i=null;di()||(i=t.style.overflow,t.style.overflow="visible"),e.selectNodeContents(t);var n=e.getBoundingClientRect().width;return di()||(t.style.overflow=i),n}function ci(){return navigator.appVersion.indexOf("Trident/")>0}function pi(){return/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent)}function di(){return/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)}var ui=function(){function e(e){this.platformId=e,this.isBrowser=o.isPlatformBrowser(this.platformId),this.isIOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}return e.ctorParameters=function(){return[{type:Object,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]}]},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e(i["ɵɵinject"](i.PLATFORM_ID))},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"}),y(0,i.Inject(i.PLATFORM_ID))],e)}();function hi(e){return 0===e.button}function gi(e){var t=[];return e.forEach((function(e){if(t.push(e),e.children){var i=Array.isArray(e.children)?e.children:e.children.toArray();t=t.concat(gi(i))}})),t}var fi,mi=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),yi=new Set("right down arrowright arrowdown".split(" ")),vi=new Set("left up arrowleft arrowup".split(" ")),bi=new Set(x(Array.from(mi),["tab","enter","f2","escape","esc"]));function xi(e,t){return e.length===t.length&&e.every((function(e,i){return e.fieldName===t[i].fieldName&&e.value===t[i].value}))}function Ci(e){var t=[];if(void 0!==e&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t}(fi=e.SortingDirection||(e.SortingDirection={}))[fi.None=0]="None",fi[fi.Asc=1]="Asc",fi[fi.Desc=2]="Desc";var _i,wi,Ii,Si=function(){function t(){}return t.instance=function(){return this._instance||(this._instance=new this)},t.prototype.sort=function(t,i,n,o,r){var s=this,a=i,l=n===e.SortingDirection.Desc?-1:1;return this.arraySort(t,(function(e,t){return s.compareObjects(e,t,a,l,o,r)}))},t.prototype.compareValues=function(e,t){var i=null==t;return null==e?i?0:-1:i?1:e>t?1:e<t?-1:0},t.prototype.compareObjects=function(e,t,i,n,o,r){var s=r(e,i),a=r(t,i);return o&&(s=s&&s.toLowerCase?s.toLowerCase():s,a=a&&a.toLowerCase?a.toLowerCase():a),n*this.compareValues(s,a)},t.prototype.arraySort=function(e,t){return e.sort(t)},t._instance=null,t}(),Ei=function(){function e(){}return e.instance=function(){return this._instance||(this._instance=new e)},e.prototype.sort=function(e,t){return e},e._instance=null,e}(),Di=function(){function e(){}return e.prototype.sort=function(e,t){return this.sortDataRecursive(e,t)},e.prototype.groupedRecordsByExpression=function(e,t,i){var n,o,r=[],s=i.fieldName,a=e.length;r.push(e[t]),o=this.getFieldValue(e[t],s),t++;var l=i.groupingComparer||Si.instance().compareValues;for(n=t;n<a&&0===l(this.getFieldValue(e[n],s),o);n++)r.push(e[n]);return r},e.prototype.sortDataRecursive=function(e,t,i){var n,o,r,s,a;void 0===i&&(i=0);var l=t.length,c=e.length;if((i=i||0)>=l||c<=1)return e;if((r=t[i]).strategy||(r.strategy=Si.instance()),e=r.strategy.sort(e,r.fieldName,r.dir,r.ignoreCase,this.getFieldValue),i===l-1)return e;for(n=0;n<c;n++){for((a=(s=this.groupedRecordsByExpression(e,n,r)).length)>1&&(s=this.sortDataRecursive(s,t,i+1)),o=0;o<a;o++)e[n+o]=s[o];n+=a-1}return e},e.prototype.groupDataRecursive=function(e,t,i,n,o,r,s,a){void 0===r&&(r=null),void 0===s&&(s=[]),void 0===a&&(a={data:[],metadata:[]});for(var l=t.expressions,c=t.expansion,p=0,d=[],u=function(){var u,g,f=h.groupedRecordsByExpression(e,p,l[i]),m={expression:l[i],level:i,records:ii(f),value:f[0][l[i].fieldName],groupParent:n,groups:[],height:r?r.renderedRowHeight:null};n?n.groups.push(m):s.push(m);var y=Ci(m),b=c.find((function(e){return xi(e.hierarchy||[{fieldName:m.expression.fieldName,value:m.value}],y)})),C=b?b.expanded:t.defaultExpanded,_=void 0;if(d.push(m),o.push(null),a.data.push(m),a.metadata.push(null),i<l.length-1)_=h.groupDataRecursive(f,t,i+1,m,C?o:[],r,s,a),C&&(d=d.concat(_));else{try{for(var w=(u=void 0,v(f)),I=w.next();!I.done;I=w.next()){var S=I.value;a.metadata.push(m),a.data.push(S)}}catch(e){u={error:e}}finally{try{I&&!I.done&&(g=w.return)&&g.call(w)}finally{if(u)throw u.error}}C&&(o.push.apply(o,x(a.metadata.slice(a.metadata.length-f.length))),d.push.apply(d,x(a.data.slice(a.data.length-f.length))))}p+=f.length},h=this;p<e.length;)u();return d},e.prototype.getFieldValue=function(e,t){return e[t]},e}(),Oi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getFieldValue=function(e,t){return e.data[t]},t}(Di),Ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.groupBy=function(e,t,i,n,o){void 0===o&&(o={data:[],metadata:[]});var r=[];return{data:this.groupDataRecursive(e,t,0,null,r,i,n,o),metadata:r}},t}(Di);(_i=e.PagingError||(e.PagingError={}))[_i.None=0]="None",_i[_i.IncorrectPageIndex=1]="IncorrectPageIndex",_i[_i.IncorrectRecordsPerPage=2]="IncorrectRecordsPerPage",(wi=e.FilteringLogic||(e.FilteringLogic={}))[wi.And=0]="And",wi[wi.Or=1]="Or",(Ii=e.FilteringExpressionsTreeType||(e.FilteringExpressionsTreeType={}))[Ii.Regular=0]="Regular",Ii[Ii.Advanced=1]="Advanced";var Pi,Ri,ki=function(){function e(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}return e.empty=function(e){return!e||!e.filteringOperands||!e.filteringOperands.length},e.prototype.find=function(e){var t=this.findIndex(e);return t>-1?this.filteringOperands[t]:null},e.prototype.findIndex=function(t){for(var i,n=0;n<this.filteringOperands.length;n++)if((i=this.filteringOperands[n])instanceof e){if(this.isFilteringExpressionsTreeForColumn(i,t))return n}else if(i.fieldName===t)return n;return-1},e.prototype.isFilteringExpressionsTreeForColumn=function(t,i){if(t.fieldName===i)return!0;for(var n,o=0;o<t.filteringOperands.length;o++)return(n=t.filteringOperands[o])instanceof e?this.isFilteringExpressionsTreeForColumn(n,i):n.fieldName===i;return!1},e}(),Li=function(){function e(){}return e.instance=function(){return this._instance||(this._instance=new e)},e.prototype.filter=function(e,t,i){return e},e._instance=null,e}(),Ai=function(){function t(){}return t.prototype.findMatchByExpression=function(e,t){var i=t.condition,n=this.getFieldValue(e,t.fieldName);return i.logic(n,t.searchVal,t.ignoreCase)},t.prototype.matchRecord=function(t,i){if(i){if(i instanceof ki){var n=i,o=n.operator,r=void 0,s=void 0;if(n.filteringOperands&&n.filteringOperands.length){for(var a=0;a<n.filteringOperands.length;a++){if(s=n.filteringOperands[a],!(r=this.matchRecord(t,s))&&o===e.FilteringLogic.And)return!1;if(r&&o===e.FilteringLogic.Or)return!0}return r}return!0}var l=i;return this.findMatchByExpression(t,l)}return!0},t}(),Mi=function(e){function t(){return e.call(this)||this}return d(t,e),t.instance=function(){return this._instace||(this._instace=new this)},t.prototype.filter=function(e,t,i){var n,o,r=e.length,s=[];if(ki.empty(t)&&ki.empty(i)||!r)return e;for(n=0;n<r;n++)o=e[n],this.matchRecord(o,t)&&this.matchRecord(o,i)&&s.push(o);return s},t.prototype.getFieldValue=function(e,t){return e[t]},t._instace=null,t}(Ai);(Pi=e.TransactionType||(e.TransactionType={})).ADD="add",Pi.DELETE="delete",Pi.UPDATE="update",(Ri=e.DataType||(e.DataType={})).String="string",Ri.Number="number",Ri.Boolean="boolean",Ri.Date="date";var Vi,Fi=function(){function t(){}return t.sort=function(e,t,i){return void 0===i&&(i=new Di),i.sort(e,t)},t.treeGridSort=function(e,i,n,o){void 0===n&&(n=new Oi);var r=[];return e.forEach((function(e){var s=t.cloneTreeGridRecord(e);s.parent=o,s.children&&(s.children=t.treeGridSort(s.children,i,n,s)),r.push(s)})),r=t.sort(r,i,n)},t.cloneTreeGridRecord=function(e){return{rowID:e.rowID,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}},t.group=function(e,t,i,n,o){void 0===i&&(i=null),void 0===n&&(n=[]),void 0===o&&(o={data:[],metadata:[]});var r=new Ti;return n.splice(0,n.length),r.groupBy(e,t,i,n,o)},t.page=function(t,i){if(!i)return t;var n=t.length,o=i.index,r=[],s=i.recordsPerPage;return i.metadata={countPages:0,countRecords:t.length,error:e.PagingError.None},o<0||isNaN(o)?(i.metadata.error=e.PagingError.IncorrectPageIndex,r):s<=0||isNaN(s)?(i.metadata.error=e.PagingError.IncorrectRecordsPerPage,r):(i.metadata.countPages=Math.ceil(n/s),n?o>=i.metadata.countPages?(i.metadata.error=e.PagingError.IncorrectPageIndex,r):t.slice(o*s,(o+1)*s):t)},t.filter=function(e,t){return t.strategy||(t.strategy=new Mi),t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree)},t.correctPagingState=function(e,t){var i=Math.ceil(t/e.recordsPerPage)-1;!isNaN(i)&&e.index>i&&(e.index=i)},t.getHierarchy=function(e){return Ci(e)},t.isHierarchyMatch=function(e,t){return xi(e,t)},t.mergeTransactions=function(t,i,n,o){return void 0===o&&(o=!1),t.forEach((function(o,r){var s=n?o[n]:o,a=i.find((function(e){return e.id===s}));a&&a.type===e.TransactionType.UPDATE&&(t[r]=a.newValue)})),o&&i.filter((function(t){return t.type===e.TransactionType.DELETE})).forEach((function(e){var i=n?t.findIndex((function(t){return t[n]===e.id})):t.findIndex((function(t){return t===e.id}));0<=i&&i<t.length&&t.splice(i,1)})),t.push.apply(t,x(i.filter((function(t){return t.type===e.TransactionType.ADD})).map((function(e){return e.newValue})))),t},t.mergeHierarchicalTransactions=function(t,i,n,o,r){var s,a;void 0===r&&(r=!1);var l=function(i){if(i.path){var s=c.findParentFromPath(t,o,n,i.path),a=s?s[n]:t;switch(i.type){case e.TransactionType.ADD:s&&!s[n]&&(s[n]=a=[]),a.push(i.newValue);break;case e.TransactionType.UPDATE:var l=a.findIndex((function(e){return e[o]===i.id}));-1!==l&&(a[l]=ni(oi(a[l]),i.newValue));break;case e.TransactionType.DELETE:if(r){var p=a.findIndex((function(e){return e[o]===i.id}));-1!==p&&a.splice(p,1)}}}else t.push(i.newValue)},c=this;try{for(var p=v(i),d=p.next();!d.done;d=p.next()){l(d.value)}}catch(e){s={error:e}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}return t},t.parseValue=function(t,i){return t===e.DataType.Number&&(i=parseFloat(i)),i},t.findParentFromPath=function(e,t,i,n){var o,r,s,a=e,l=function(e){if(!(s=a&&a.find((function(i){return i[t]===e}))))return"break";a=s[i]};try{for(var c=v(n),p=c.next();!p.done;p=c.next()){if("break"===l(p.value))break}}catch(e){o={error:e}}finally{try{p&&!p.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}return s},t}(),Hi=function(){function e(){}return e.getKeysFromData=function(t){var i=t.length;if(0===i)return[];var n=t[0],o=t[Math.floor(i/2)],r=t[i-1],s=Object.keys(n),a=Object.keys(o),l=Object.keys(r),c=new Set(s.concat(a).concat(l));return e.isSpecialData(t)?["Column 1"]:Array.from(c)},e.saveBlobToFile=function(e,t){var i=document.createElement("a");if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=window.URL.createObjectURL(e);i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!==e.length;++n)i[n]=255&e.charCodeAt(n);return t},e.isSpecialData=function(e){var t=e[0];return"string"==typeof t||"number"==typeof t||t instanceof Date},e.hasValue=function(e){return null!=e},e.isNullOrWhitespaces=function(e){return null==e||!e.trim()},e}(),Bi=function(){function t(){this.destroyMap=new Map}return t.prototype.get_column_by_name=function(e){return this.grid.columnList.find((function(t){return t.field===e}))},t.prototype.get_summary_data=function(){var t=this.grid,i=t.filteredData;i||(t.transactions.enabled?(i=Fi.mergeTransactions(ii(t.data),t.transactions.getAggregatedChanges(!0),t.primaryKey),t.transactions.getTransactionLog().filter((function(t){return t.type===e.TransactionType.DELETE})).map((function(e){return e.id})).forEach((function(e){var n=(t.primaryKey?i.map((function(e){return e[t.primaryKey]})):i).indexOf(e);-1!==n&&i.splice(n,1)}))):i=t.data);return i},t.prototype.getRowData=function(e){return this.get_all_data(this.grid.transactions.enabled)[this.get_row_index_in_data(e)]},t.prototype.escape_editMode=function(){this.grid.crudService.end()},t.prototype.get_cell_inEditMode=function(){return this.grid.crudService.cell},t.prototype.get_row_index_in_data=function(e){var t=this.grid;if(!t)return-1;var i=this.get_all_data(t.transactions.enabled);return t.primaryKey?i.findIndex((function(i){return i[t.primaryKey]===e})):i.indexOf(e)},t.prototype.get_row_by_key=function(e){var t=this.grid.primaryKey;return null!=t?this.grid.dataRowList.find((function(i){return i.rowData[t]===e})):this.grid.dataRowList.find((function(t){return t.rowData===e}))},t.prototype.get_row_by_index=function(e){return this.grid.rowList.find((function(t){return t.index===e}))},t.prototype.get_cell_by_key=function(e,t){var i=this.get_row_by_key(e);if(i&&i.cells)return i.cells.find((function(e){return e.column.field===t}))},t.prototype.get_cell_by_index=function(e,t){var i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find((function(e){return e.columnIndex===t}))},t.prototype.get_cell_by_visible_index=function(e,t){var i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find((function(e){return e.visibleColumnIndex===t}))},t.prototype.submit_value=function(){var e=this.grid.crudService.cell;if(e){if(this.update_cell(e,e.editValue).cancel)return;this.escape_editMode()}},t.prototype.update_cell=function(e,t){var i,n=this.get_all_data(this.grid.transactions.enabled),o=this.get_row_index_in_data(e.id.rowID);e.editValue=t;var r=e.createEditEventArgs();return this.grid.onCellEdit.emit(r),r.cancel?r:(r.newValue=e.castToNumber(r.newValue),ai(r.oldValue,r.newValue)?r:(this.grid.summaryService.clearSummaryCache(r),this.updateData(this.grid,e.id.rowID,n[o],e.rowData,((i={})[e.column.field]=r.newValue,i)),this.grid.primaryKey===e.column.field&&(this.grid.selectionService.isRowSelected(e.id.rowID)&&(this.grid.selectionService.deselectRow(e.id.rowID),this.grid.selectionService.selectRowById(r.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)),this.grid.rowEditable&&this.grid.crudService.row&&this.grid.crudService.row.id===e.id.rowID&&this.grid.transactions.enabled||(this.grid.summaryService.clearSummaryCache(r),this.grid._pipeTrigger++),r))},t.prototype.updateData=function(t,i,n,o,r){if(t.transactions.enabled){var s={id:i,type:e.TransactionType.UPDATE,newValue:r};t.transactions.add(s,o)}else ni(n,r)},t.prototype._update_row=function(e,t){var i=this.grid,n=i.crudService.row;if(e.newData=t||i.transactions.getAggregatedValue(e.id,!0),n&&e.id===n.id)e.data=f(f({},e.data),n.transactionState);else if(this.grid.transactions.enabled){var o=i.transactions.getState(e.id);e.data=o?Object.assign({},e.data,o.value):e.data}},t.prototype.update_row=function(e,t){var i=this.grid,n=i.selectionService.isRowSelected(e.id),o=i.crudService.row,r=this.get_all_data(i.transactions.enabled),s=this.get_row_index_in_data(e.id),a=i.hasSummarizedColumns;this._update_row(e,t);var l=e.createEditEventArgs();if(-1===s)return l;if(i.onRowEdit.emit(l),l.cancel)return l;if(o){var c=i.transactions.getState(l.rowID,!0);if(i.transactions.endPending(!1),!c)return l}if(!l.newValue)return l;a&&i.summaryService.removeSummaries(l.rowID),this.updateData(i,e.id,r[s],l.oldValue,l.newValue);var p=i.primaryKey?l.newValue[i.primaryKey]:l.newValue;return n&&(i.selectionService.deselectRow(e.id),i.selectionService.selectRowById(p)),a&&i.summaryService.removeSummaries(p),i._pipeTrigger++,l},t.prototype.update_row_in_array=function(e,t,i){this.grid.data[i]=e},t.prototype.sort=function(t){t.dir===e.SortingDirection.None&&this.remove_grouping_expression(t.fieldName);var i=ii(this.grid.sortingExpressions);this.prepare_sorting_expression([i],t),this.grid.sortingExpressions=i},t.prototype.sort_multiple=function(t){var i,n,o=ii(this.grid.sortingExpressions);try{for(var r=v(t),s=r.next();!s.done;s=r.next()){var a=s.value;a.dir===e.SortingDirection.None&&this.remove_grouping_expression(a.fieldName),this.prepare_sorting_expression([o],a)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this.grid.sortingExpressions=o},t.prototype.filter=function(e,t,i,n){var o=this.grid,r=o.filteringExpressionsTree;o.endEdit(!1),o.paging&&(o.page=0);var s=r.findIndex(e);s>-1&&r.filteringOperands.splice(s,1),this.prepare_filtering_expression(r,e,t,i,n,s),o.filteringExpressionsTree=r},t.prototype.filter_global=function(e,t,i){var n,o;if(t){var r=this.grid,s=r.filteringExpressionsTree;r.endEdit(!1),r.paging&&(r.page=0),s.filteringOperands=[];try{for(var a=v(r.columns),l=a.next();!l.done;l=a.next()){var c=l.value;this.prepare_filtering_expression(s,c.field,e,t,i||c.filteringIgnoreCase)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}r.filteringExpressionsTree=s}},t.prototype.clear_filter=function(e){var t=this.grid;t.endEdit(!1);var i=t.filteringExpressionsTree,n=i.findIndex(e);n>-1?i.filteringOperands.splice(n,1):e||(i.filteringOperands=[]),t.filteringExpressionsTree=i},t.prototype.clear_sort=function(e){var t=this.grid.sortingExpressions,i=t.findIndex((function(t){return t.fieldName===e}));i>-1&&(t.splice(i,1),this.grid.sortingExpressions=t)},t.prototype.prepare_filtering_expression=function(e,t,i,n,o,r){var s;void 0===r&&(r=-1);var a=e.findIndex(t),l=n instanceof ki?n:null,c=n instanceof ki?null:n,p={fieldName:t,searchVal:i,condition:c,ignoreCase:o};-1===a&&(l?r>-1?e.filteringOperands.splice(r,0,l):e.filteringOperands.push(l):c&&((s=new ki(e.operator,t)).filteringOperands.push(p),e.filteringOperands.push(s)))},t.prototype.prepare_sorting_expression=function(t,i){if(i.dir!==e.SortingDirection.None){for(var n=t[0],o=1;o<t.length;o++)n.length<t[o].length&&(n=t[o]);var r=n.find((function(e){return e.fieldName===i.fieldName}));t.forEach((function(e){var t=e.find((function(e){return e.fieldName===i.fieldName}));t||r?!t&&r?(e.push(r),Object.assign(r,i)):Object.assign(t,i):e.push(i)}))}else t.forEach((function(e){e.splice(e.findIndex((function(e){return e.fieldName===i.fieldName})),1)}))},t.prototype.remove_grouping_expression=function(e){},t.prototype.clear_groupby=function(e){},t.prototype.should_apply_number_style=function(t){return t.dataType===e.DataType.Number},t.prototype.get_data=function(){var e=this.grid;return e.data?e.data:[]},t.prototype.get_all_data=function(e){void 0===e&&(e=!1);var t=this.grid,i=t.data?t.data:[];return i=e?t.dataWithAddedInTransactionRows:i},t.prototype.get_filtered_data=function(){return this.grid.filteredData},t.prototype.getSortStrategyPerColumn=function(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:void 0},t.prototype.addRowToData=function(t){var i=this.grid;if(i.transactions.enabled){var n={id:i.primaryKey?t[i.primaryKey]:t,type:e.TransactionType.ADD,newValue:t};i.transactions.add(n)}else i.data.push(t)},t.prototype.deleteRowFromData=function(t,i){var n=this.grid;if(-1!==i)if(n.transactions.enabled){var o={id:t,type:e.TransactionType.DELETE,newValue:null};n.transactions.add(o,n.data[i])}else n.data.splice(i,1);else{var r=n.transactions.getState(t);n.transactions.add({id:t,type:e.TransactionType.DELETE,newValue:null},r&&r.recordRef)}},t.prototype.deleteRowById=function(t){var i,n=this.grid,o=this.get_all_data();i=n.primaryKey?o.map((function(e){return e[n.primaryKey]})).indexOf(t):o.indexOf(t);var r=n.transactions.getState(t),s=r&&r.type!==e.TransactionType.DELETE;if(-1!==i||s){n.endEdit(!0),n.onRowDeleted.emit({data:o[i]}),this.deleteRowFromData(t,i),n.selectionService.isRowSelected(t)?n.selectionService.deselectRow(t):n.selectionService.clearHeaderCBState(),n._pipeTrigger++,n.notifyChanges();var a=n.transactions.enabled?n.dataWithAddedInTransactionRows:o;n.refreshSearch(),a.length%n.perPage==0&&a.length/n.perPage-1<n.page&&0!==n.page&&n.page--}},t.prototype.get_row_id=function(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e},t.prototype.row_deleted_transaction=function(t){var i=this.grid;if(!i)return!1;if(!i.transactions.enabled)return!1;var n=i.transactions.getState(t);return!!n&&n.type===e.TransactionType.DELETE},t.prototype.atInexistingPage=function(){return this.grid.totalPages-1>this.grid.page},t.prototype.get_row_expansion_state=function(e){var t=this.grid,i=t.expansionStates,n=t.primaryKey?e[t.primaryKey]:e,o=i.get(n);return void 0!==o?o:t.getDefaultExpandState(e)},t.prototype.set_row_expansion_state=function(e,t,i){var n=this,o=this.grid,r=o.expansionStates;if(this.allow_expansion_state_change(e,t)){var a={rowID:e,expanded:t,event:i,cancel:!1};if(o.onRowToggle.emit(a),!a.cancel){r.set(e,t),o.expansionStates=r,o.rowEditable&&o.endEdit(!0);var l=i&&i.key?i.key.toLowerCase():null;l&&this.isToggleKey(l)&&this.grid.zone.onStable.pipe(s.debounceTime(30)).pipe(s.first()).subscribe((function(){n.focusActiveCell(e)}))}}},t.prototype.get_rec_by_id=function(e){return this.grid.primaryKey?this.getRowData(e):e},t.prototype.allow_expansion_state_change=function(e,t){return this.grid.expansionStates.get(e)!==t},t.prototype.isToggleKey=function(e){return vi.has(e)||yi.has(e)},t.prototype.focusActiveCell=function(e){var t=!this.grid.verticalScrollContainer.dc.instance.notVirtual,i=this.grid.selectionService.activeElement;if(t&&i){var n=this.get_cell_by_key(e,this.grid.visibleColumns[i.column].field);n&&n.nativeElement.focus()}},t=m([i.Injectable()],t)}(),ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.filter=function(e,t,i){return this.filterImpl(e,t,i,void 0)},t.prototype.filterImpl=function(e,t,i,n){var o,r,s=e.length,a=[];if(ki.empty(t)&&ki.empty(i)||!s)return e;for(o=0;o<s;o++){if((r=Fi.cloneTreeGridRecord(e[o])).parent=n,r.children){var l=this.filterImpl(r.children,t,i,r);r.children=l.length>0?l:null}this.matchRecord(r,t)&&this.matchRecord(r,i)?a.push(r):r.children&&r.children.length>0&&(r.isFilteredOutParent=!0,a.push(r))}return a},t.prototype.getFieldValue=function(e,t){return e.data[t]},t}(Ai),Ni=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o,r,s){var a=this.gridAPI.grid,l={expressionsTree:t,advancedExpressionsTree:n,strategy:new ji};if(i&&(l.strategy=i),this.resetFilteredOutProperty(a.records),ki.empty(l.expressionsTree)&&ki.empty(l.advancedExpressionsTree))return a.filteredData=null,e;var c=this.filter(e,l),p=[];return this.expandAllRecursive(a,c,a.expansionStates,p),a.filteredData=p,c},e.prototype.resetFilteredOutProperty=function(e){for(var t=Array.from(e.keys()),i=0;i<t.length;i++)e.get(t[i]).isFilteredOutParent=void 0},e.prototype.expandAllRecursive=function(e,t,i,n){for(var o=0;o<t.length;o++){var r=t[o];n.push(r.data),this.updateNonProcessedRecord(e,r),r.children&&r.children.length>0&&(i.set(r.rowID,!0),this.expandAllRecursive(e,r.children,i,n))}},e.prototype.updateNonProcessedRecord=function(e,t){e.records.get(t.rowID).isFilteredOutParent=t.isFilteredOutParent},e.prototype.filter=function(e,t){return t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree)},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"treeGridFiltering",pure:!0})],e)}(),Gi=function(){function e(){this.flatRecords=[],this._isTreeGrid=!1,this._indexOfLastPinnedColumn=-1,this._sort=null,this.onRowExport=new i.EventEmitter,this.onColumnExport=new i.EventEmitter}return e.prototype.export=function(e,t){var i=this;if(null==t)throw Error("No options provided!");var n=e.columnList.toArray();this._columnList=new Array(n.length);var o=[],r=-1;n.forEach((function(e){var n=""!==e.header?e.header:e.field,s=!e.hidden||t.ignoreColumnsVisibility,a=t.ignoreColumnsOrder?e.index:e.visibleIndex,l={header:n,field:e.field,skip:!s,formatter:e.formatter,skipFormatter:!1};-1!==a?(i._columnList[a]=l,r=Math.max(r,a)):o.push(l),e.pinned&&s&&i._indexOfLastPinnedColumn++})),o.forEach((function(e){i._columnList[++r]=e}));var s=this.prepareData(e,t);this.exportData(s,t)},e.prototype.exportData=function(e,t){var i=this;if(null==t)throw Error("No options provided!");if(!this._columnList||0===this._columnList.length){var n=Hi.getKeysFromData(e);this._columnList=n.map((function(e){return{header:e,field:e,skip:!1}}))}var o=0,r=1;this._columnList.forEach((function(e,t){if(!e.skip){var n={header:Hi.isNullOrWhitespaces(e.header)?"Column"+r++:e.header,field:e.field,columnIndex:t,cancel:!1,skipFormatter:!1};i.onColumnExport.emit(n),e.header=n.header,e.skip=n.cancel,e.skipFormatter=n.skipFormatter,e.skip&&t<=i._indexOfLastPinnedColumn&&o++,i._sort&&i._sort.fieldName===e.field&&(e.skip?i._sort=null:i._sort.fieldName=e.header)}})),this._indexOfLastPinnedColumn-=o;var s=new Array,a=Hi.isSpecialData(e);e.forEach((function(e,t){i.exportRow(s,e,t,a)})),this.exportDataImplementation(s,t),this.resetDefaults()},e.prototype.exportRow=function(e,t,i,n){var o=this,r={rowData:n?this._isTreeGrid?t.data:t:this._columnList.reduce((function(e,i){if(!i.skip){var n=o._isTreeGrid?t.data[i.field]:t[i.field];e[i.header]=i.formatter&&!i.skipFormatter?i.formatter(n):n}return e}),{}),rowIndex:i,cancel:!1};this.onRowExport.emit(r),r.cancel||e.push({rowData:r.rowData,originalRowData:t})},e.prototype.prepareData=function(e,t){this.flatRecords=[];var i=e.rootRecords;this._isTreeGrid=void 0!==i,this._isTreeGrid&&this.prepareHierarchicalData(i);var n=this._isTreeGrid?this.flatRecords:e.data;if((e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0)&&!t.ignoreFiltering){var o={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,logic:e.filteringLogic};this._isTreeGrid?(this.flatRecords=[],o.strategy=e.filterStrategy?e.filterStrategy:new ji,i=o.strategy.filter(i,o.expressionsTree,o.advancedExpressionsTree),this.prepareHierarchicalData(i),n=this.flatRecords):(o.strategy=e.filterStrategy,n=Fi.filter(n,o))}return e.sortingExpressions&&e.sortingExpressions.length>0&&!t.ignoreSorting&&(this._sort=oi(e.sortingExpressions[0]),this._isTreeGrid?(this.flatRecords=[],i=Fi.treeGridSort(i,e.sortingExpressions,e.sortStrategy),this.prepareHierarchicalData(i),n=this.flatRecords):n=Fi.sort(n,e.sortingExpressions,e.sortStrategy)),n},e.prototype.prepareHierarchicalData=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];this.flatRecords.push(i),this.prepareHierarchicalData(i.children)}},e.prototype.resetDefaults=function(){this._columnList=[],this._indexOfLastPinnedColumn=-1,this._sort=null,this.flatRecords=[]},e}(),zi=function(){function e(e,t){this._data=e,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}return e.prototype.prepareData=function(){if(!this._data||0===this._data.length)return"";var e=Hi.getKeysFromData(this._data);return 0===e.length?"":(this._isSpecialData=Hi.isSpecialData(this._data),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(e,this._escapeCharacters),this._dataRecords=this.processDataRecords(this._data,e,this._escapeCharacters),this._headerRecord+this._dataRecords)},e.prototype.processField=function(e,t){var i=Hi.hasValue(e)?String(e):"";return t.some((function(e){return i.includes(e)}))&&(i='"'+i+'"'),i+this._delimiter},e.prototype.processHeaderRecord=function(e,t){var i,n,o="";try{for(var r=v(e),s=r.next();!s.done;s=r.next()){var a=s.value;o+=this.processField(a,this._escapeCharacters)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o.slice(0,-this._delimiterLength)+this._eor},e.prototype.processRecord=function(e,t,i){var n,o,r="";try{for(var s=v(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=void 0!==e[l]?e[l]:this._isSpecialData?e:"";r+=this.processField(c,this._escapeCharacters)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return r.slice(0,-this._delimiterLength)+this._eor},e.prototype.processDataRecords=function(e,t,i){var n,o,r="";try{for(var s=v(e),a=s.next();!a.done;a=s.next()){var l=a.value;r+=this.processRecord(l,t,i)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return r},e.prototype.setDelimiter=function(e){this._delimiter=e,this._delimiterLength=e.length},e}(),Wi=function(){function e(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.setFileName(e)}return e.prototype.setFileName=function(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")},Object.defineProperty(e.prototype,"fileName",{get:function(){return this._fileName},set:function(e){this.setFileName(e)},enumerable:!0,configurable:!0}),e}(),Ui=function(t){function i(e,n){var o=t.call(this,e,i.getExtensionFromFileType(n))||this;return o.setFileType(n),o.setDelimiter(),o}return d(i,t),i.getExtensionFromFileType=function(t){var i="";switch(t){case e.CsvFileTypes.CSV:i=".csv";break;case e.CsvFileTypes.TSV:i=".tsv";break;case e.CsvFileTypes.TAB:i=".tab";break;default:throw Error("Unsupported CSV file type!")}return i},Object.defineProperty(i.prototype,"valueDelimiter",{get:function(){return this._valueDelimiter},set:function(e){this.setDelimiter(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fileType",{get:function(){return this._fileType},set:function(e){this.setFileType(e)},enumerable:!0,configurable:!0}),i.prototype.setFileType=function(e){if(null!=e&&e!==this._fileType){this._fileType=e;var t=i.getExtensionFromFileType(e);if(!this.fileName.endsWith(t)){var n="."+this.fileName.split(".").pop(),o=this.fileName.replace(n,t);this._fileExtension=t,this.fileName=o}}},i.prototype.setDelimiter=function(t){if(void 0!==t&&""!==t&&null!==t)this._valueDelimiter=t;else switch(this.fileType){case e.CsvFileTypes.CSV:this._valueDelimiter=",";break;case e.CsvFileTypes.TSV:case e.CsvFileTypes.TAB:this._valueDelimiter="\t"}},i}(Wi);(Vi=e.CsvFileTypes||(e.CsvFileTypes={}))[Vi.CSV=0]="CSV",Vi[Vi.TSV=1]="TSV",Vi[Vi.TAB=2]="TAB";var $i,Ki,Yi=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onExportEnded=new i.EventEmitter,e}return d(n,t),n.prototype.exportDataImplementation=function(e,t){e=e.map((function(e){return e.rowData}));var i=new zi(e,t.valueDelimiter);this._stringData=i.prepareData(),this.saveFile(t),this.onExportEnded.emit({csvData:this._stringData})},n.prototype.saveFile=function(t){switch(t.fileType){case e.CsvFileTypes.CSV:this.exportFile(this._stringData,t.fileName,"text/csv;charset=utf-8;");break;case e.CsvFileTypes.TSV:case e.CsvFileTypes.TAB:this.exportFile(this._stringData,t.fileName,"text/tab-separated-values;charset=utf-8;")}},n.prototype.exportFile=function(e,t,i){var n=new Blob(["\ufeff",e],{type:i});Hi.saveBlobToFile(n,t)},m([i.Output()],n.prototype,"onExportEnded",void 0),n=m([i.Injectable()],n)}(Gi);!function(e){e[e.RootExcelFolder=0]="RootExcelFolder",e[e.RootRelsExcelFolder=1]="RootRelsExcelFolder",e[e.DocPropsExcelFolder=2]="DocPropsExcelFolder",e[e.XLExcelFolder=3]="XLExcelFolder",e[e.XLRelsExcelFolder=4]="XLRelsExcelFolder",e[e.ThemeExcelFolder=5]="ThemeExcelFolder",e[e.WorksheetsExcelFolder=6]="WorksheetsExcelFolder",e[e.WorksheetsRelsExcelFolder=7]="WorksheetsRelsExcelFolder",e[e.TablesExcelFolder=8]="TablesExcelFolder"}($i||($i={})),function(e){e[e.RootRelsFile=0]="RootRelsFile",e[e.AppFile=1]="AppFile",e[e.CoreFile=2]="CoreFile",e[e.WorkbookRelsFile=3]="WorkbookRelsFile",e[e.ThemeFile=4]="ThemeFile",e[e.WorksheetFile=5]="WorksheetFile",e[e.StyleFile=6]="StyleFile",e[e.WorkbookFile=7]="WorkbookFile",e[e.ContentTypesFile=8]="ContentTypesFile",e[e.SharedStringsFile=9]="SharedStringsFile",e[e.WorksheetRelsFile=10]="WorksheetRelsFile",e[e.TablesFile=11]="TablesFile"}(Ki||(Ki={}));var Xi,qi,Zi=function(){function e(){}return e.getRels=function(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'},e.getApp=function(){return e.XML_STRING+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>'},e.getCore=function(){return e.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'},e.getTheme=function(){return e.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック Light"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线 Light"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'},e.getStyles=function(t){var i=t?2:1;return e.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+i+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'},e.getWorkbook=function(){return e.XML_STRING+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>'},e.getWorksheetRels=function(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'},e.getWorkbookRels=function(t){var i=e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return t&&(i+=e.SHARED_STRING_RELATIONSHIP),i+="</Relationships>"},e.getSheetXML=function(t,i,n,o,r,s,a){void 0===s&&(s=!1),void 0===a&&(a=0);var l=r?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':"",c=s?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"",p=a>0?'outlineLevelRow="'+a+'"':"";return e.XML_STRING+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n'+c+'\n<dimension ref="'+t+'"/>\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">'+i+'</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" '+p+' x14ac:dyDescent="0.25"/>\n'+n+"\n"+o+'\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n'+l+"</worksheet>"},e.getSharedStringXML=function(t,i,n){return e.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+i+'">'+n+"</sst>"},e.getContentTypesXML=function(t,i){var n=e.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return n+=t?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",n+=i?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",n+="</Types>"},e.getTablesXML=function(t,i,n){return e.XML_STRING+'<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="'+t+'" totalsRowShown="0">\n    <autoFilter ref="'+t+'"/>'+n+i+'<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>'},e.getExcelColumn=function(e){for(var t="";e>=0;){var i=e%26;t=String.fromCharCode(65+i)+t,e=Math.floor(e/26)-1}return t},e.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n',e.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />',e}(),Ji=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file(".rels",Zi.getRels())},e}(),Qi=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("app.xml",Zi.getApp())},e}(),en=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("core.xml",Zi.getCore())},e}(),tn=function(){function e(){}return e.prototype.writeElement=function(e,t){var i=!1===t.isEmpty;e.file("workbook.xml.rels",Zi.getWorkbookRels(i))},e}(),nn=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("theme1.xml",Zi.getTheme())},e}(),on=function(){function e(){}return e.prototype.writeElement=function(t,i){var n,o=[],r=[],s=i.dataDictionary,a="",l=0;if(i.isEmpty)o.push("<sheetData/>"),n="A1";else{o.push("<sheetData>");var c=i.options.rowHeight,p=c?' ht="'+c+'" customHeight="1"':"";o.push('<row r="1"'+p+">");for(var d=0;d<i.columnCount;d++){var u=Zi.getExcelColumn(d)+1,h=s.saveValue(i.keys[d],d,!0);o.push('<c r="'+u+'" t="s"><v>'+h+"</v></c>")}o.push("</row>");for(d=1;d<i.rowCount;d++){if(i.isTreeGridData){var g=i.data[d-1].originalRowData,f=g.expanded?!0===g.expanded?"":' collapsed="1"':"",m=g.parent&&this.hasCollapsedParent(g)?' hidden="1"':"",y=g.level?g.level:0,v=y>0?' outlineLevel="'+y+'"':"";l=l<y?y:l,o.push('<row r="'+(d+1)+'"'+p+v+f+m+">")}else o.push('<row r="'+(d+1)+'"'+p+">");for(var b=0;b<i.columnCount;b++){var x=e.getCellData(i,d,b);o.push(x)}o.push("</row>")}o.push("</sheetData>"),n="A1:"+Zi.getExcelColumn(i.columnCount-1)+i.rowCount,r.push("<cols>");for(d=0;d<i.columnCount;d++){var C=s.columnWidths[d],_=i.options.columnWidth?i.options.columnWidth:Math.max(C/96*14.4,e.MIN_WIDTH);r.push('<col min="'+(d+1)+'" max="'+(d+1)+'" width="'+_+'" customWidth="1"/>')}if(r.push("</cols>"),-1!==i.indexOfLastPinnedColumn&&!i.options.ignorePinning&&!i.options.ignoreColumnsOrder){var w=i.indexOfLastPinnedColumn+1;a='<pane xSplit="'+w+'" topLeftCell="'+(Zi.getExcelColumn(w)+"1")+'" activePane="topRight" state="frozen"/>'}}var I=!i.isEmpty&&i.options.exportAsTable;t.file("sheet1.xml",Zi.getSheetXML(n,a,r.join(""),o.join(""),I,i.isTreeGridData,l))},e.prototype.hasCollapsedParent=function(e){for(var t=!e.parent.expanded;e.parent;)t=t||!e.parent.expanded,e=e.parent;return t},e.getCellData=function(e,t,i){var n=e.dataDictionary,o=Zi.getExcelColumn(i)+(t+1),r=e.keys[i],s=e.data[t-1].rowData,a=e.isSpecialData?s:s[r];if(null==a)return'<c r="'+o+'" s="1"/>';var l=n.saveValue(a,i,!1),c=-1!==l;return'<c r="'+o+'"'+(c?' t="s"':"")+(c?"":' s="1"')+"><v>"+(c?l:a)+"</v></c>"},e.MIN_WIDTH=8.34,e}(),rn=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("styles.xml",Zi.getStyles(t.dataDictionary&&t.dataDictionary.hasNonStringValues))},e}(),sn=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("workbook.xml",Zi.getWorkbook())},e}(),an=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("[Content_Types].xml",Zi.getContentTypesXML(!t.isEmpty,t.options.exportAsTable))},e}(),ln=function(){function e(){}return e.prototype.writeElement=function(e,t){var i,n,o=t.dataDictionary,r=o.getKeys(),s=new Array(r.length);try{for(var a=v(r),l=a.next();!l.done;l=a.next()){var c=l.value;s[o.getSanitizedValue(c)]="<si><t>"+c+"</t></si>"}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}e.file("sharedStrings.xml",Zi.getSharedStringXML(o.stringsCount,r.length,s.join("")))},e}(),cn=function(){function e(){}return e.prototype.writeElement=function(e,t){for(var i=t.columnCount,n=Zi.getExcelColumn(i-1)+t.rowCount,o="A1:"+n,r=t.keys,s="",a='<tableColumns count="'+i+'">',l=0;l<i;l++){a+='<tableColumn id="'+(l+1)+'" name="'+r[l]+'"/>'}if(a+="</tableColumns>",t.sort){var c=t.sort,p=Zi.getExcelColumn(r.indexOf(c.fieldName));s='<sortState ref="A2:'+n+'"><sortCondition descending="'+(c.dir-1)+'" ref="'+p+"1:"+p+'15"/></sortState>'}e.file("table1.xml",Zi.getTablesXML(o,a,s))},e}(),pn=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("sheet1.xml.rels",Zi.getWorksheetRels())},e}(),dn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.ContentTypesFile]},e.prototype.childFolders=function(e){return[$i.RootRelsExcelFolder,$i.DocPropsExcelFolder,$i.XLExcelFolder]},e}(),un=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.RootRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),hn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"docProps"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.AppFile,Ki.CoreFile]},e.prototype.childFolders=function(e){return[]},e}(),gn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"xl"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){var t=[Ki.StyleFile,Ki.WorkbookFile];return e.isEmpty||t.push(Ki.SharedStringsFile),t},e.prototype.childFolders=function(e){var t=[$i.XLRelsExcelFolder,$i.ThemeExcelFolder,$i.WorksheetsExcelFolder];return!e.isEmpty&&e.options.exportAsTable&&t.push($i.TablesExcelFolder),t},e}(),fn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.WorkbookRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),mn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"theme"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.ThemeFile]},e.prototype.childFolders=function(e){return[]},e}(),yn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"worksheets"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.WorksheetFile]},e.prototype.childFolders=function(e){return e.isEmpty||!e.options.exportAsTable?[]:[$i.WorksheetsRelsExcelFolder]},e}(),vn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"tables"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.TablesFile]},e.prototype.childFolders=function(e){return[]},e}(),bn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Ki.WorksheetRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),xn=function(){function e(){}return e.getExcelFolder=function(e){switch(e){case $i.RootExcelFolder:return new dn;case $i.RootRelsExcelFolder:return new un;case $i.DocPropsExcelFolder:return new hn;case $i.XLExcelFolder:return new gn;case $i.XLRelsExcelFolder:return new fn;case $i.ThemeExcelFolder:return new mn;case $i.WorksheetsExcelFolder:return new yn;case $i.WorksheetsRelsExcelFolder:return new bn;case $i.TablesExcelFolder:return new vn;default:throw new Error("Unknown excel folder type!")}},e.getExcelFile=function(e){switch(e){case Ki.RootRelsFile:return new Ji;case Ki.AppFile:return new Qi;case Ki.CoreFile:return new en;case Ki.WorkbookRelsFile:return new tn;case Ki.ThemeFile:return new nn;case Ki.WorksheetFile:return new on;case Ki.StyleFile:return new rn;case Ki.WorkbookFile:return new sn;case Ki.ContentTypesFile:return new an;case Ki.SharedStringsFile:return new ln;case Ki.WorksheetRelsFile:return new pn;case Ki.TablesFile:return new cn;default:throw Error("Unknown excel file type!")}},e}(),Cn=function(){function e(e,t){this.hasNonStringValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._calculateColumnWidth=!t,this._columnWidths=new Array(e),this._columnTypeInfo=new Array(e),this._calculateColumnWidth||this._columnWidths.fill(t),this.stringsCount=0}return Object.defineProperty(e.prototype,"columnWidths",{get:function(){return this._columnWidths},enumerable:!0,configurable:!0}),e.prototype.saveValue=function(e,t,i){void 0===this._columnTypeInfo[t]&&!1===i&&(this._columnTypeInfo[t]="string"==typeof e||"boolean"==typeof e||e instanceof Date);var n="",o=this._columnTypeInfo[t]||i;if(o?(n=this.sanitizeValue(e),void 0===this._dictionary[n]&&(this._dictionary[n]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):this.hasNonStringValues=!0,this._calculateColumnWidth){var r=this.getTextWidth(e),s=Math.max(this._columnWidths[t]||0,r);this._columnWidths[t]=s}return o?this.getSanitizedValue(n):-1},e.prototype.getValue=function(e){return this.getSanitizedValue(this.sanitizeValue(e))},e.prototype.getSanitizedValue=function(e){return this._dictionary[e]},e.prototype.getKeys=function(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys},e.prototype.getTextWidth=function(t){if(void 0===this._widthsDictionary[t]){var i=this.getContext().measureText(t);this._widthsDictionary[t]=i.width+e.TEXT_PADDING}return this._widthsDictionary[t]},e.prototype.getContext=function(){if(!this._context){var t=document.createElement("canvas");this._context=t.getContext("2d"),this._context.font=e.DEFAULT_FONT}return this._context},e.prototype.sanitizeValue=function(e){return!1===Hi.hasValue(e)?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},e.prototype.dirtyKeyCollections=function(){this._keysAreValid=!1},e.DEFAULT_FONT="11pt Calibri",e.TEXT_PADDING=5,e}(),_n=function(){function e(e,t,i,n,o){void 0===o&&(o=!1),this._data=e,this.options=t,this.indexOfLastPinnedColumn=i,this.sort=n,this.isTreeGridData=o,this.initializeData()}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.rowCount||!this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecialData",{get:function(){return this._isSpecialData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataDictionary",{get:function(){return this._dataDictionary},enumerable:!0,configurable:!0}),e.prototype.initializeData=function(){if(this._data&&0!==this._data.length){var e=this._data.map((function(e){return e.rowData}));this._keys=Hi.getKeysFromData(e),0!==this._keys.length&&(this._isSpecialData=Hi.isSpecialData(e),this._columnCount=this._keys.length,this._rowCount=this._data.length+1,this._dataDictionary=new Cn(this._columnCount,this.options.columnWidth))}},e}(),wn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onExportEnded=new i.EventEmitter,t}var n;return d(t,e),n=t,t.populateFolder=function(e,t,i){var o,r,s,a;try{for(var l=v(e.childFolders(i)),c=l.next();!c.done;c=l.next()){var p=c.value,d=xn.getExcelFolder(p),u=t.folder(d.folderName);n.populateFolder(d,u,i)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}try{for(var h=v(e.childFiles(i)),g=h.next();!g.done;g=h.next()){var f=g.value;xn.getExcelFile(f).writeElement(t,i)}}catch(e){s={error:e}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}},t.prototype.exportDataImplementation=function(e,t){var i=this;if(this._isTreeGrid){var o=0;if(e.forEach((function(e){o=Math.max(o,e.originalRowData.level)})),o>7)throw Error("Can create an outline of up to eight levels!")}var r=new _n(e,t,this._indexOfLastPinnedColumn,this._sort,this._isTreeGrid);this._xlsx=new l;var s=xn.getExcelFolder($i.RootExcelFolder);n.populateFolder(s,this._xlsx,r),this._xlsx.generateAsync(n.ZIP_OPTIONS).then((function(e){i.saveFile(e,t.fileName),i.onExportEnded.emit({xlsx:i._xlsx})}))},t.prototype.saveFile=function(e,t){var i=new Blob([Hi.stringToArrayBuffer(atob(e))],{type:""});Hi.saveBlobToFile(i,t)},t.ZIP_OPTIONS={compression:"DEFLATE",type:"base64"},m([i.Output()],t.prototype,"onExportEnded",void 0),t=n=m([i.Injectable()],t)}(Gi),In=function(e){function t(t){var i=e.call(this,t,".xlsx")||this;return i.ignorePinning=!1,i.exportAsTable=!0,i}return d(t,e),Object.defineProperty(t.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e},enumerable:!0,configurable:!0}),t}(Wi);(Xi=e.HorizontalAlignment||(e.HorizontalAlignment={}))[Xi.Left=-1]="Left",Xi[Xi.Center=-.5]="Center",Xi[Xi.Right=0]="Right",(qi=e.VerticalAlignment||(e.VerticalAlignment={}))[qi.Top=-1]="Top",qi[qi.Middle=-.5]="Middle",qi[qi.Bottom=0]="Bottom";var Sn=function(e,t){this.x=e,this.y=t},En=function(){function e(){}return e.getTargetRect=function(e){var t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e.target instanceof HTMLElement)t=e.target.getBoundingClientRect();else if(e.target instanceof Sn){var i=e.target;t={bottom:i.y,height:0,left:i.x,right:i.x,top:i.y,width:0}}return t},e.getViewportRect=function(t){var i=t.documentElement.clientWidth,n=t.documentElement.clientHeight,o=e.getViewportScrollPosition(t);return{top:o.y,left:o.x,right:o.x+i,bottom:o.y+n,width:i,height:n}},e.getViewportScrollPosition=function(e){var t=e.documentElement,i=t.getBoundingClientRect(),n=-i.left||e.body.scrollLeft||window.scrollX||t.scrollLeft||0,o=-i.top||e.body.scrollTop||window.scrollY||t.scrollTop||0;return new Sn(n,o)},e.cloneInstance=function(e){var t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=oi(t.settings),t},e}(),Dn=function(){function t(t){this._defaultSettings={horizontalDirection:e.HorizontalAlignment.Center,verticalDirection:e.VerticalAlignment.Middle,horizontalStartPoint:e.HorizontalAlignment.Center,verticalStartPoint:e.VerticalAlignment.Middle,openAnimation:w,closeAnimation:I,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,t)}return t.prototype.position=function(e,t,i,n){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.setPosition(e,this.settings)},t.prototype.setPosition=function(t,i){switch(this.settings.horizontalDirection){case e.HorizontalAlignment.Left:t.parentElement.style.justifyContent="flex-start";break;case e.HorizontalAlignment.Center:t.parentElement.style.justifyContent="center";break;case e.HorizontalAlignment.Right:t.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case e.VerticalAlignment.Top:t.parentElement.style.alignItems="flex-start";break;case e.VerticalAlignment.Middle:t.parentElement.style.alignItems="center";break;case e.VerticalAlignment.Bottom:t.parentElement.style.alignItems="flex-end"}},t.prototype.clone=function(){return En.cloneInstance(this)},t}(),On=function(e){},Tn=function(e){function t(t){return e.call(this,t)||this}return d(t,e),t.prototype.initialize=function(e,t,i){},t.prototype.attach=function(){},t.prototype.detach=function(){},t}(On);function Pn(e){var t=!1;return function(i,n,o){if(o&&o.value){var r=o.value;return o.value=function(){var o="function"==typeof i?i.name:i.constructor.name;return t=kn(o+"."+n+": "+e,t),r.call(this,arguments)},o}}}function Rn(e){return function(t,i){var n,o,r=!1,s=t.constructor.name+"."+i+": "+e,a=Object.getOwnPropertyDescriptor(t,i);if(a)return n=a.get,o=a.set,n&&(a.get=function(){return r=kn(s,r),n.call(this)}),o&&(a.set=function(e){r=kn(s,r),o.call(this,e)}),a;var l=function(e,t){var i="_"+t;for(;e.hasOwnProperty(i);)i="_"+i;return i}(t,i);Object.defineProperty(t,i,{configurable:!0,enumerable:!0,set:function(e){r=kn(s,r),this[l]=e},get:function(){return r=kn(s,r),this[l]}})}}function kn(e,t){return!t&&i.isDevMode()&&console.warn(e),!0}var Ln,An,Mn=!1,Vn=function(){function e(e,t,n,o,s,a){var l=this;this._factoryResolver=e,this._appRef=t,this._injector=n,this.builder=o,this.document=s,this._zone=a,this._componentId=0,this._overlayInfos=[],this.destroy$=new r.Subject,this._defaultSettings={positionStrategy:new Dn,scrollStrategy:new Tn,modal:!0,closeOnOutsideClick:!0},this.onOpening=new i.EventEmitter,this.onAppended=new i.EventEmitter,this.onOpened=new i.EventEmitter,this.onClosing=new i.EventEmitter,this.onClosed=new i.EventEmitter,this.onAnimation=new i.EventEmitter,this.documentClicked=function(e){for(var t=l._overlayInfos.length;t--;){var i=l._overlayInfos[t];if(i.settings.modal)return;if(i.settings.closeOnOutsideClick){var n=e.target;if(i.elementRef.nativeElement.contains(n))return;var o=i.settings.positionStrategy.settings.target,r=!1;o&&(r=o.contains(n)),i.settings.excludePositionTarget&&r||i.closeAnimationPlayer&&i.closeAnimationPlayer.hasStarted()||l._hide(i.id,e)}}},this.repositionAll=function(){for(var e=l._overlayInfos.length;e--;)l.reposition(l._overlayInfos[e].id)},this._document=this.document}return e.prototype.attach=function(e,t,i){var n;return(n=this.getOverlayInfo(e,i))?(n.id=(this._componentId++).toString(),t=Object.assign({},this._defaultSettings,t),n.settings=t,this._overlayInfos.push(n),n.id):null},e.prototype.show=function(e,t){var i,n;if("string"==typeof e){if(n=e,!(i=this.getOverlayById(e)))return console.warn("igxOverlay.show was called with wrong id: "+e),null}else{if(Mn=kn("`show(component, settings?)` overload is deprecated. Use `attach(component)` to obtain an Id.Then `show(id, settings?)` with provided Id.",Mn),n=(this._componentId++).toString(),!(i=this.getOverlayInfo(e)))return;i.id=n}return t=Object.assign({},this._defaultSettings,i.settings,t),i.settings=t,this._show(i),n},e.prototype.hide=function(e){this._hide(e)},e.prototype.hideAll=function(){for(var e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)},e.prototype.reposition=function(e){var t=this.getOverlayById(e);if(t&&t.settings){var i=t.elementRef.nativeElement.parentElement,n=i.getBoundingClientRect();t.settings.positionStrategy.position(i,{width:n.width,height:n.height},this._document,!1)}else console.error("Wrong id provided in overlay.reposition method. Id: "+e)},e.prototype.setOffset=function(e,t,i){var n=this.getOverlayById(e);if(n){n.transformX+=t,n.transformY+=i;var o="translate("+n.transformX+"px, "+n.transformY+"px)";n.elementRef.nativeElement.parentElement.style.transform=o}},e.prototype._show=function(e){var t={id:e.id,componentRef:e.componentRef,cancel:!1};if(this.onOpening.emit(t),t.cancel)e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy());else{if(!e.closeAnimationPlayer||e.closeAnimationPlayer&&!e.closeAnimationPlayer.hasStarted()){var i=e.elementRef.nativeElement.getBoundingClientRect();e.initialSize={width:i.width,height:i.height},e.hook=this.placeElementHook(e.elementRef.nativeElement),this.moveElementToOverlay(e),e.componentRef&&e.componentRef.changeDetectorRef.detectChanges(),this.onAppended.emit({id:e.id,componentRef:e.componentRef}),this.updateSize(e),-1===this._overlayInfos.indexOf(e)&&this._overlayInfos.push(e),e.settings.positionStrategy.position(e.elementRef.nativeElement.parentElement,{width:e.initialSize.width,height:e.initialSize.height},document,!0),e.settings.scrollStrategy.initialize(this._document,this,e.id),e.settings.scrollStrategy.attach()}this.addOutsideClickListener(e),this.addResizeHandler(e.id),e.settings.modal&&this.setupModalWrapper(e),e.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(e):(e.elementRef.nativeElement.parentElement.style.visibility="",this.onOpened.emit({id:e.id,componentRef:e.componentRef}))}},e.prototype._hide=function(e,t){var i=this.getOverlayById(e);if(i){var n={id:e,componentRef:i.componentRef,cancel:!1,event:t};if(this.onClosing.emit(n),!n.cancel){i.settings.scrollStrategy.detach(),this.removeOutsideClickListener(i),this.removeResizeHandler(i.id);var o=i.elementRef.nativeElement;if(i.settings.modal){var r=o.parentNode.parentNode;this.applyAnimationParams(r,i.settings.positionStrategy.settings.closeAnimation),r.classList.remove("igx-overlay__wrapper--modal"),r.classList.add("igx-overlay__wrapper")}i.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(i):this.onCloseDone(i)}}else console.warn("igxOverlay.hide was called with wrong id: "+e)},e.prototype.getOverlayInfo=function(e,t){var n={ngZone:this._zone,transformX:0,transformY:0};if(e instanceof i.ElementRef)n.elementRef=e;else{var o=void 0,r=t?t.componentFactoryResolver:this._factoryResolver;try{o=r.resolveComponentFactory(e)}catch(e){return console.error(e),null}var s=t?t.injector:this._injector,a=o.create(s);this._appRef.attachView(a.hostView);var l=a.location.nativeElement;n.elementRef={nativeElement:l},n.componentRef=a}return n},e.prototype.placeElementHook=function(e){if(!e.parentElement)return null;var t=this._document.createElement("div");return e.parentElement.insertBefore(t,e),t},e.prototype.moveElementToOverlay=function(e){var t=this.getWrapperElement(),i=this.getContentElement(t,e.settings.modal);this.getOverlayElement(e).appendChild(t),i.appendChild(e.elementRef.nativeElement)},e.prototype.getWrapperElement=function(){var e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e},e.prototype.getContentElement=function(e,t){var i=this._document.createElement("div");return t?(i.classList.add("igx-overlay__content--modal"),i.addEventListener("click",(function(e){e.stopPropagation()}))):i.classList.add("igx-overlay__content"),i.addEventListener("scroll",(function(e){e.stopPropagation()})),i.style.visibility="hidden",e.appendChild(i),i},e.prototype.getOverlayElement=function(e){return e.settings.outlet?e.settings.outlet.nativeElement:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)},e.prototype.updateSize=function(e){e.componentRef&&(e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")},e.prototype.setupModalWrapper=function(e){var t=this,i=e.elementRef.nativeElement.parentElement.parentElement;r.fromEvent(i,"keydown").pipe(s.filter((function(e){return"Escape"===e.key||"Esc"===e.key})),s.takeUntil(this.destroy$)).subscribe((function(){return t.hide(e.id)})),i.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(i,e.settings.positionStrategy.settings.openAnimation),i.classList.add("igx-overlay__wrapper--modal")},e.prototype.onCloseDone=function(e){this.cleanUp(e),this.onClosed.emit({id:e.id,componentRef:e.componentRef})},e.prototype.cleanUp=function(e){var t=e.elementRef.nativeElement,i=this.getOverlayElement(e);if(i.contains(t)){i.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy()),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook));var n=this._overlayInfos.indexOf(e);this._overlayInfos.splice(n,1),0===this._overlayInfos.length&&this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null)}else console.warn("Component with id:"+e.id+" is already removed!")},e.prototype.playOpenAnimation=function(e){var t=this;if(!e.openAnimationPlayer){var i=this.builder.build(e.settings.positionStrategy.settings.openAnimation);e.openAnimationPlayer=i.create(e.elementRef.nativeElement);var n=e.openAnimationPlayer._renderer;e.openAnimationInnerPlayer=n.engine.players[n.engine.players.length-1],e.openAnimationPlayer.onDone((function(){t.onOpened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&(e.openAnimationPlayer.reset(),e.openAnimationPlayer=null),e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()&&e.closeAnimationPlayer.reset()}))}if(!e.openAnimationPlayer.hasStarted()){if(e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()){var o=1-e.closeAnimationInnerPlayer.getPosition();e.closeAnimationPlayer.reset(),e.closeAnimationPlayer=null,e.openAnimationPlayer.init(),e.openAnimationPlayer.setPosition(o)}this.onAnimation.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.elementRef.nativeElement.parentElement.style.visibility="",e.openAnimationPlayer.play()}},e.prototype.playCloseAnimation=function(e){var t=this;if(!e.closeAnimationPlayer){var i=this.builder.build(e.settings.positionStrategy.settings.closeAnimation);e.closeAnimationPlayer=i.create(e.elementRef.nativeElement);var n=e.closeAnimationPlayer._renderer;e.closeAnimationInnerPlayer=n.engine.players[n.engine.players.length-1],e.closeAnimationPlayer.onDone((function(){e.closeAnimationPlayer&&(e.closeAnimationPlayer.reset(),e.closeAnimationPlayer=null),e.openAnimationPlayer&&e.openAnimationPlayer.hasStarted()&&e.openAnimationPlayer.reset(),t.onCloseDone(e)}))}if(!e.closeAnimationPlayer.hasStarted()){if(e.openAnimationPlayer&&e.openAnimationPlayer.hasStarted()){var o=1-e.openAnimationInnerPlayer.getPosition();e.openAnimationPlayer.reset(),e.openAnimationPlayer=null,e.closeAnimationPlayer.init(),e.closeAnimationPlayer.setPosition(o)}this.onAnimation.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.closeAnimationPlayer.play()}},e.prototype.applyAnimationParams=function(e,t){if(t){if(10===t.type&&(t=t.animation),t.options&&t.options.params){var i=t.options.params;i.duration&&(e.style.transitionDuration=i.duration),i.easing&&(e.style.transitionTimingFunction=i.easing)}}else e.style.transitionDuration="0ms"},e.prototype.getOverlayById=function(e){return e?this._overlayInfos.find((function(t){return t.id===e})):null},e.prototype.addOutsideClickListener=function(e){var t=this;e.settings.closeOnOutsideClick&&(e.settings.modal?r.fromEvent(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(s.takeUntil(this.destroy$)).subscribe((function(i){return t._hide(e.id,i)})):this._overlayInfos.filter((function(e){return e.settings.closeOnOutsideClick&&!e.settings.modal})).length-this._overlayInfos.filter((function(e){return e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()})).length==1&&this._document.addEventListener("click",this.documentClicked,!0))},e.prototype.removeOutsideClickListener=function(e){if(!1===e.settings.modal){var t=!0;this._overlayInfos.forEach((function(i){!1===i.settings.modal&&i.id!==e.id&&(t=!1)})),t&&this._document.removeEventListener("click",this.documentClicked,!0)}},e.prototype.addResizeHandler=function(e){var t=this._overlayInfos.filter((function(e){return e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()})).length;this._overlayInfos.length-t==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)},e.prototype.removeResizeHandler=function(e){var t=this._overlayInfos.filter((function(e){return e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()})).length;this._overlayInfos.length-t==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.ctorParameters=function(){return[{type:i.ComponentFactoryResolver},{type:i.ApplicationRef},{type:i.Injector},{type:t.AnimationBuilder},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.NgZone}]},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e(i["ɵɵinject"](i.ComponentFactoryResolver),i["ɵɵinject"](i.ApplicationRef),i["ɵɵinject"](i.INJECTOR),i["ɵɵinject"](t.AnimationBuilder),i["ɵɵinject"](o.DOCUMENT),i["ɵɵinject"](i.NgZone))},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"}),y(4,i.Inject(o.DOCUMENT))],e)}(),Fn=function(e){function t(t){return e.call(this,t)||this}return d(t,e),t.prototype.position=function(e,t,i,n){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex-container"),this.setPosition(e,this.settings)},t}(Dn),Hn=function(){function t(t){this._defaultSettings={target:null,horizontalDirection:e.HorizontalAlignment.Right,verticalDirection:e.VerticalAlignment.Bottom,horizontalStartPoint:e.HorizontalAlignment.Left,verticalStartPoint:e.VerticalAlignment.Bottom,openAnimation:Be,closeAnimation:Qe,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,t)}return t.prototype.calculateElementRectangles=function(e){return{targetRect:En.getTargetRect(this.settings),elementRect:e.getBoundingClientRect()}},t.prototype.position=function(e,t,i,n){var o=this.calculateElementRectangles(e);this.setStyle(e,o.targetRect,o.elementRect,{})},t.prototype.clone=function(){return En.cloneInstance(this)},t.prototype.setStyle=function(t,i,n,o){var r=o.horizontalOffset?o.horizontalOffset:0,s=o.verticalOffset?o.verticalOffset:0,a=i.right+i.width*this.settings.horizontalStartPoint+r,l=i.bottom+i.height*this.settings.verticalStartPoint+s,c=t.parentElement.getBoundingClientRect();switch(t.style.right="",t.style.left="",t.style.bottom="",t.style.top="",this.settings.horizontalDirection){case e.HorizontalAlignment.Left:t.style.right=Math.round(c.right-a)+"px";break;case e.HorizontalAlignment.Center:t.style.left=Math.round(a-c.left-n.width/2)+"px";break;case e.HorizontalAlignment.Right:t.style.left=Math.round(a-c.left)+"px"}switch(this.settings.verticalDirection){case e.VerticalAlignment.Top:t.style.bottom=Math.round(c.bottom-l)+"px";break;case e.VerticalAlignment.Middle:t.style.top=Math.round(l-c.top-n.height/2)+"px";break;case e.VerticalAlignment.Bottom:t.style.top=Math.round(l-c.top)+"px"}},t}(),Bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.position=function(t,i,n,o){var r=e.prototype.calculateElementRectangles.call(this,t),s={};o&&(s.targetRect=r.targetRect,s.contentElementRect=r.elementRect,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),s.viewPortRect=En.getViewportRect(n),this.updateViewPortFit(s),this.shouldFitInViewPort(s)&&this.fitInViewport(t,s)),this.setStyle(t,r.targetRect,r.elementRect,s)},t.prototype.updateViewPortFit=function(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection,e.horizontalOffset?e.horizontalOffset:0),e.right=e.left+e.contentElementRect.width,e.fitHorizontal={back:Math.round(e.left),forward:Math.round(e.viewPortRect.width-e.right)},e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection,e.verticalOffset?e.verticalOffset:0),e.bottom=e.top+e.contentElementRect.height,e.fitVertical={back:Math.round(e.top),forward:Math.round(e.viewPortRect.height-e.bottom)}},t.prototype.calculateLeft=function(e,t,i,n,o){return e.right+e.width*i+t.width*n+o},t.prototype.calculateTop=function(e,t,i,n,o){return e.bottom+e.height*i+t.height*n+o},t.prototype.shouldFitInViewPort=function(e){return e.fitHorizontal.back<0||e.fitHorizontal.forward<0||e.fitVertical.back<0||e.fitVertical.forward<0},t}(Hn),jn=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return d(i,t),i.prototype.fitInViewport=function(e,t){var i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0)if(this.canFlipHorizontal(t))this.flipHorizontal();else{var n=this.horizontalPush(t);i.push("translateX("+n+"px)")}if(t.fitVertical.back<0||t.fitVertical.forward<0)if(this.canFlipVertical(t))this.flipVertical();else{var o=this.verticalPush(t);i.push("translateY("+o+"px)")}e.style.transform=i.join(" ").trim()},i.prototype.canFlipHorizontal=function(e){var t=-1*(this.settings.horizontalStartPoint+1),i=-1*(this.settings.horizontalDirection+1),n=this.calculateLeft(e.targetRect,e.contentElementRect,t,i,0),o=n+e.contentElementRect.width;return 0<n&&o<e.viewPortRect.width},i.prototype.canFlipVertical=function(e){var t=-1*(this.settings.verticalStartPoint+1),i=-1*(this.settings.verticalDirection+1),n=this.calculateTop(e.targetRect,e.contentElementRect,t,i,0),o=n+e.contentElementRect.height;return 0<n&&o<e.viewPortRect.height},i.prototype.flipHorizontal=function(){switch(this.settings.horizontalDirection){case e.HorizontalAlignment.Left:this.settings.horizontalDirection=e.HorizontalAlignment.Right;break;case e.HorizontalAlignment.Right:this.settings.horizontalDirection=e.HorizontalAlignment.Left}switch(this.settings.horizontalStartPoint){case e.HorizontalAlignment.Left:this.settings.horizontalStartPoint=e.HorizontalAlignment.Right;break;case e.HorizontalAlignment.Right:this.settings.horizontalStartPoint=e.HorizontalAlignment.Left}},i.prototype.flipVertical=function(){switch(this.settings.verticalDirection){case e.VerticalAlignment.Top:this.settings.verticalDirection=e.VerticalAlignment.Bottom;break;case e.VerticalAlignment.Bottom:this.settings.verticalDirection=e.VerticalAlignment.Top}switch(this.settings.verticalStartPoint){case e.VerticalAlignment.Top:this.settings.verticalStartPoint=e.VerticalAlignment.Bottom;break;case e.VerticalAlignment.Bottom:this.settings.verticalStartPoint=e.VerticalAlignment.Top}},i.prototype.horizontalPush=function(e){var t=e.left,i=e.right-e.viewPortRect.right;return t<0?Math.abs(t):i>0?-Math.min(i,t):0},i.prototype.verticalPush=function(e){var t=e.top,i=e.bottom-e.viewPortRect.bottom;return t<0?Math.abs(t):i>0?-Math.min(i,t):0},i}(Bn),Nn=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return d(i,t),i.prototype.fitInViewport=function(t,i){t.classList.add("igx-overlay__content--elastic");var n=[];if(i.fitHorizontal.back<0||i.fitHorizontal.forward<0){var o=Math.max(0,i.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,-i.fitHorizontal.back),s=Math.max(0,-i.fitHorizontal.forward),a=Math.min(o,r+s);if(t.style.width=i.contentElementRect.width-a+"px",this.settings.horizontalDirection===e.HorizontalAlignment.Center)(l=r*a/(r+s))>0&&n.push("translateX("+l+"px)")}if(i.fitVertical.back<0||i.fitVertical.forward<0){o=Math.max(0,i.contentElementRect.height-this.settings.minSize.height);var l,c=Math.max(0,-i.fitVertical.back),p=Math.max(0,-i.fitVertical.forward);a=Math.min(o,c+p);if(t.style.height=i.contentElementRect.height-a+"px",this.settings.verticalDirection===e.VerticalAlignment.Middle)(l=c*a/(c+p))>0&&n.push("translateY("+l+"px)")}t.style.transform=n.join(" ").trim()},i}(Bn),Gn=function(e){function t(t){var i=e.call(this,t)||this;return i._initialized=!1,i.onScroll=function(e){var t=i._overlayService.getOverlayById(i._id);t&&(t.elementRef.nativeElement.contains(e.target)||i._overlayService.reposition(i._id))},i._scrollContainer=t,i}return d(t,e),t.prototype.initialize=function(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._zone=t.getOverlayById(i).ngZone,this._initialized=!0)},t.prototype.attach=function(){var e=this;this._zone?this._zone.runOutsideAngular((function(){e.addScrollEventListener()})):this.addScrollEventListener()},t.prototype.detach=function(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1},t.prototype.addScrollEventListener=function(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)},t}(On),zn=function(e){function t(t){var i=e.call(this,t)||this;return i._initialized=!1,i.onScroll=function(e){e.preventDefault(),i._sourceElement&&i._sourceElement===e.target||(i._sourceElement=e.target,i._initialScrollTop=i._sourceElement.scrollTop,i._initialScrollLeft=i._sourceElement.scrollLeft),i._sourceElement.scrollTop=i._initialScrollTop,i._sourceElement.scrollLeft=i._initialScrollLeft},i}return d(t,e),t.prototype.initialize=function(e,t,i){this._initialized||(this._document=e,this._initialized=!0)},t.prototype.attach=function(){this._document.addEventListener("scroll",this.onScroll,!0)},t.prototype.detach=function(){this._document.removeEventListener("scroll",this.onScroll,!0),this._sourceElement=null,this._initialScrollTop=0,this._initialScrollLeft=0,this._initialized=!1},t}(On),Wn=function(e){function t(t){var i=e.call(this,t)||this;return i._initialized=!1,i.onScroll=function(e){i._sourceElement&&(i.cumulativeScrollTop+=i._sourceElement.scrollTop,i.cumulativeScrollLeft+=i._sourceElement.scrollLeft,(Math.abs(i.cumulativeScrollTop-i.initialScrollTop)>i._threshold||Math.abs(i.cumulativeScrollLeft-i.initialScrollLeft)>i._threshold)&&(i._document.removeEventListener("scroll",i.onScroll,!0),i._overlayService.hide(i._id)))},i._scrollContainer=t,i._threshold=10,i.cumulativeScrollTop=0,i.cumulativeScrollLeft=0,i}return d(t,e),t.prototype.initialize=function(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._initialized=!0)},t.prototype.attach=function(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):(this._document.addEventListener("scroll",this.onScroll),document.documentElement.scrollHeight>document.documentElement.clientHeight?this._sourceElement=document.documentElement:document.body.scrollHeight>document.body.clientHeight&&(this._sourceElement=document.body)),this._sourceElement&&(this.cumulativeScrollTop=0,this.cumulativeScrollLeft=0,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft)},t.prototype.detach=function(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll),this._sourceElement=null,this.cumulativeScrollTop=0,this.cumulativeScrollLeft=0,this.initialScrollTop=0,this.initialScrollLeft=0,this._initialized=!1},t}(On),Un=function(){function e(){this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this.onStateUpdate=new i.EventEmitter}return Object.defineProperty(e.prototype,"canRedo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isPending},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))},e.prototype.getTransactionLog=function(e){return[]},e.prototype.undo=function(){},e.prototype.redo=function(){},e.prototype.getAggregatedChanges=function(e){var t=this,i=[];return this._pendingStates.forEach((function(n,o){var r=e?t.getAggregatedValue(o,e):n.value;i.push({id:o,newValue:r,type:n.type})})),i},e.prototype.getState=function(e){return this._pendingStates.get(e)},e.prototype.getAggregatedValue=function(e,t){var i=this._pendingStates.get(e);return i?t?this.updateValue(i):i.value:null},e.prototype.commit=function(e,t){},e.prototype.clear=function(e){this._pendingStates.clear(),this._pendingTransactions=[]},e.prototype.startPending=function(){this._isPending=!0},e.prototype.endPending=function(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]},e.prototype.updateState=function(e,t,i){var n=e.get(t.id);n?ri(n.value)?ni(n.value,t.newValue):n.value=t.newValue:(n={value:oi(t.newValue),recordRef:i,type:t.type},e.set(t.id,n))},e.prototype.updateValue=function(e){return this.mergeValues(e.recordRef,e.value)},e.prototype.mergeValues=function(e,t){return ri(e)||ri(t)?ni(ni({},e),t):t||e},e=m([i.Injectable()],e)}(),$n=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._transactions=[],e._redoStack=[],e._undoStack=[],e._states=new Map,e.onStateUpdate=new i.EventEmitter,e}return d(n,t),Object.defineProperty(n.prototype,"canUndo",{get:function(){return this._undoStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRedo",{get:function(){return this._redoStack.length>0},enumerable:!0,configurable:!0}),n.prototype.add=function(e,t){var i=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(i,e,t),this.addTransaction(e,i,t)},n.prototype.addTransaction=function(e,t,i){this.updateState(t,e,i),(this._isPending?this._pendingTransactions:this._transactions).push(e),this._isPending||(this._undoStack.push([{transaction:e,recordRef:i}]),this._redoStack=[],this.onStateUpdate.emit())},n.prototype.getTransactionLog=function(e){return void 0!==e?this._transactions.filter((function(t){return t.id===e})):x(this._transactions)},n.prototype.getAggregatedChanges=function(e){var t=this,i=[];return this._states.forEach((function(n,o){var r=e?t.mergeValues(n.recordRef,n.value):n.value;i.push({id:o,newValue:r,type:n.type})})),i},n.prototype.getState=function(e,t){return void 0===t&&(t=!1),t?this._pendingStates.get(e):this._states.get(e)},Object.defineProperty(n.prototype,"enabled",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.getAggregatedValue=function(e,i){var n=this._states.get(e),o=t.prototype.getState.call(this,e);if(!n&&!o)return null;var r=t.prototype.getAggregatedValue.call(this,e,!1),s=n&&n.value,a=this.mergeValues(s,r);if(i){var l=n?n.recordRef:o.recordRef;a=this.mergeValues(l,a)}return a},n.prototype.endPending=function(e){var i,n;if(this._isPending=!1,e){var o=[];try{for(var r=v(this._pendingTransactions),s=r.next();!s.done;s=r.next()){var a=s.value,l=this._pendingStates.get(a.id);this._transactions.push(a),this.updateState(this._states,a,l.recordRef),o.push({transaction:a,recordRef:l.recordRef})}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}this._undoStack.push(o),this._redoStack=[],this.onStateUpdate.emit()}t.prototype.endPending.call(this,e)},n.prototype.commit=function(e,t){var i=this;if(void 0!==t){var n=this.getState(t);n&&this.updateRecord(e,n)}else this._states.forEach((function(t){i.updateRecord(e,t)}));this.clear(t)},n.prototype.clear=function(e){void 0!==e?(this._transactions=this._transactions.filter((function(t){return t.id!==e})),this._states.delete(e),this._undoStack=this._undoStack.map((function(t){return t.filter((function(t){return t.transaction.id!==e}))})).filter((function(e){return e.length>0}))):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit()},n.prototype.undo=function(){var e,t,i,n;if(!(this._undoStack.length<=0)){var o=this._undoStack.pop();this._transactions.splice(this._transactions.length-o.length),this._redoStack.push(o),this._states.clear();try{for(var r=v(this._undoStack),s=r.next();!s.done;s=r.next()){var a=s.value;try{for(var l=(i=void 0,v(a)),c=l.next();!c.done;c=l.next()){var p=c.value;this.updateState(this._states,p.transaction,p.recordRef)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.onStateUpdate.emit()}},n.prototype.redo=function(){var e,t;if(this._redoStack.length>0){var i;i=this._redoStack.pop();try{for(var n=v(i),o=n.next();!o.done;o=n.next()){var r=o.value;this.updateState(this._states,r.transaction,r.recordRef),this._transactions.push(r.transaction)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this._undoStack.push(i),this.onStateUpdate.emit()}},n.prototype.verifyAddedTransaction=function(t,i,n){var o=t.get(i.id);switch(i.type){case e.TransactionType.ADD:if(o)throw new Error("Cannot add this transaction. Transaction with id: "+i.id+" has been already added.");break;case e.TransactionType.DELETE:case e.TransactionType.UPDATE:if(o&&o.type===e.TransactionType.DELETE)throw new Error("Cannot add this transaction. Transaction with id: "+i.id+" has been already deleted.");if(!o&&!n&&!this._isPending)throw new Error("Cannot add this transaction. This is first transaction of type "+i.type+" for id "+i.id+". For first transaction of this type recordRef is mandatory.")}},n.prototype.updateState=function(t,i,n){var o=t.get(i.id);if(o)switch(i.type){case e.TransactionType.DELETE:o.type===e.TransactionType.ADD?t.delete(i.id):o.type===e.TransactionType.UPDATE&&(o.value=i.newValue,o.type=e.TransactionType.DELETE);break;case e.TransactionType.UPDATE:ri(o.value)?(o.type===e.TransactionType.ADD&&(o.value=this.mergeValues(o.value,i.newValue)),o.type===e.TransactionType.UPDATE&&ni(o.value,i.newValue)):o.value=i.newValue}else o={value:oi(i.newValue),recordRef:n,type:i.type},t.set(i.id,o);this._isPending||this.cleanState(i.id,t)},n.prototype.cleanState=function(t,i){var n,o,r=i.get(t);if(r&&r.value&&r.recordRef)if(ri(r.recordRef)){try{for(var s=v(Object.keys(r.value)),a=s.next();!a.done;a=s.next()){var l=a.value;JSON.stringify(r.recordRef[l])===JSON.stringify(r.value[l])&&delete r.value[l]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}r.type!==e.TransactionType.DELETE&&0===Object.keys(r.value).length&&i.delete(t)}else r.recordRef===r.value&&i.delete(t)},n.prototype.updateRecord=function(t,i){var n=t.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(i.recordRef||{})}));switch(i.type){case e.TransactionType.ADD:t.push(i.value);break;case e.TransactionType.DELETE:0<=n&&n<t.length&&t.splice(n,1);break;case e.TransactionType.UPDATE:0<=n&&n<t.length&&(t[n]=this.updateValue(i))}},n=m([i.Injectable()],n)}(Un),Kn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return d(n,t),n.prototype.getAggregatedChanges=function(e){var t=this,i=[];return this._states.forEach((function(n,o){var r=e?t.mergeValues(n.recordRef,n.value):oi(n.value);t.clearArraysFromObject(r),i.push({id:o,path:n.path,newValue:r,type:n.type})})),i},n.prototype.updateState=function(i,n,o){if(t.prototype.updateState.call(this,i,n,o),n.path){var r=i.get(n.id);r&&(r.path=n.path),n.type===e.TransactionType.DELETE&&i.forEach((function(t,o){if(t.path&&-1!==t.path.indexOf(n.id))switch(t.type){case e.TransactionType.ADD:i.delete(o);break;case e.TransactionType.UPDATE:i.get(o).type=e.TransactionType.DELETE,i.get(o).value=null}}))}},n.prototype.commit=function(e,i,n,o){if(void 0!==n){var r=this.getAggregatedChanges(!0);void 0!==o&&(r=r.filter((function(e){return e.id===o}))),Fi.mergeHierarchicalTransactions(e,r,n,i,!0)}else t.prototype.commit.call(this,e,o);this.clear(o)},n.prototype.clearArraysFromObject=function(e){var t,i;if(e)try{for(var n=v(Object.keys(e)),o=n.next();!o.done;o=n.next()){var r=o.value;Array.isArray(e[r])&&delete e[r]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},n=m([i.Injectable()],n)}($n),Yn=function(){function e(e,t,n,o){var a=this;this.elementRef=e,this.cdr=t,this.overlayService=n,this.navigationService=o,this.destroy$=new r.Subject,this._overlaySubFilter=[s.filter((function(e){return e.id===a._overlayId})),s.takeUntil(this.destroy$)],this.onOpened=new i.EventEmitter,this.onOpening=new i.EventEmitter,this.onClosed=new i.EventEmitter,this.onClosing=new i.EventEmitter,this._collapsed=!0,this.onAppended=new i.EventEmitter,this.overlayClosed=function(){a._collapsed=!0,a.cdr.detectChanges(),delete a._overlayId,a.unsubscribe(),a.onClosed.emit()}}return Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenClass",{get:function(){return this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultClass",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t,i,n,o,r=this,s=this.overlayService.getOverlayById(this._overlayId),a=!!s&&s.openAnimationPlayer,l=!!s&&s.closeAnimationPlayer;if(!a&&(this._collapsed||l)){s||(this._overlayId=this.overlayService.attach(this.elementRef,e)),this._collapsed=!1,this.cdr.detectChanges();var c={cancel:!1};if(this.onOpening.emit(c),c.cancel)return this._collapsed=!0,void this.cdr.detectChanges();this.unsubscribe(),this._overlayAppendedSub=(t=this.overlayService.onAppended).pipe.apply(t,x(this._overlaySubFilter)).subscribe((function(){r.onAppended.emit()})),this._overlayOpenedSub=(i=this.overlayService.onOpened).pipe.apply(i,x(this._overlaySubFilter)).subscribe((function(){r.onOpened.emit()})),this._overlayClosingSub=(n=this.overlayService.onClosing).pipe.apply(n,x(this._overlaySubFilter)).subscribe((function(e){var t={cancel:!1,event:e.event};r.onClosing.emit(t),e.cancel=t.cancel,e.cancel||r.clearSubscription(r._overlayClosingSub)})),this._overlayClosedSub=(o=this.overlayService.onClosed).pipe.apply(o,x(this._overlaySubFilter)).subscribe(this.overlayClosed),this.overlayService.show(this._overlayId,e)}},e.prototype.close=function(){var e=this.overlayService.getOverlayById(this._overlayId),t=!!e&&e.closeAnimationPlayer;this._collapsed||t||this.overlayService.hide(this._overlayId)},e.prototype.toggle=function(e){this.collapsed||this.isClosing?this.open(e):this.close()},Object.defineProperty(e.prototype,"isClosing",{get:function(){var e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer},enumerable:!0,configurable:!0}),e.prototype.reposition=function(){this.overlayService.reposition(this._overlayId)},e.prototype.setOffset=function(e,t){this.overlayService.setOffset(this._overlayId,e,t)},e.prototype.ngOnInit=function(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navigationService&&this.id&&this.navigationService.remove(this.id),!this.collapsed&&this._overlayId&&this.overlayService.hide(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()},e.prototype.unsubscribe=function(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub),this.clearSubscription(this._overlayAppendedSub)},e.prototype.clearSubscription=function(e){e&&!e.closed&&e.unsubscribe()},e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]},{type:Jt,decorators:[{type:i.Optional}]}]},m([i.Output()],e.prototype,"onOpened",void 0),m([i.Output()],e.prototype,"onOpening",void 0),m([i.Output()],e.prototype,"onClosed",void 0),m([i.Output()],e.prototype,"onClosing",void 0),m([i.Input()],e.prototype,"id",void 0),m([i.HostBinding("class.igx-toggle--hidden"),i.HostBinding("attr.aria-hidden")],e.prototype,"hiddenClass",null),m([i.HostBinding("class.igx-toggle")],e.prototype,"defaultClass",null),m([i.Output()],e.prototype,"onAppended",void 0),e=m([i.Directive({exportAs:"toggle",selector:"[igxToggle]"}),y(2,i.Inject(Vn)),y(3,i.Optional())],e)}(),Xn=function(){function e(e,t){this.element=e,this.navigationService=t}return Object.defineProperty(e.prototype,"target",{get:function(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target},set:function(e){null!==e&&""!==e&&(this._target=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._overlayDefaults={positionStrategy:new Hn({target:this.element.nativeElement}),scrollStrategy:new Gn,closeOnOutsideClick:!0,modal:!1,excludePositionTarget:!0}},e.prototype.onClick=function(){this.outlet&&(this._overlayDefaults.outlet=this.outlet);var e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)},e.prototype.updateOverlaySettings=function(e){if(e&&e.positionStrategy){var t=e.positionStrategy.clone();t.settings.target=this.element.nativeElement,e.positionStrategy=t}return e},e.ctorParameters=function(){return[{type:i.ElementRef},{type:Jt,decorators:[{type:i.Optional}]}]},m([i.Input()],e.prototype,"overlaySettings",void 0),m([i.Input("igxToggleOutlet")],e.prototype,"outlet",void 0),m([i.Input("igxToggleAction")],e.prototype,"target",null),m([i.HostListener("click")],e.prototype,"onClick",null),e=m([i.Directive({exportAs:"toggle-action",selector:"[igxToggleAction]"}),y(1,i.Optional())],e)}(),qn=function(){function e(e){this.element=e}return Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:i.ElementRef}]},e=m([i.Directive({exportAs:"overlay-outlet",selector:"[igxOverlayOutlet]"})],e)}(),Zn=function(){function e(){}return e=m([i.NgModule({declarations:[Yn,Xn,qn],exports:[Yn,Xn,qn],providers:[Jt]})],e)}();!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Ln||(Ln={})),function(e){e.ESCAPE="escape",e.ENTER="enter",e.SPACE="space"}(An||(An={}));var Jn,Qn=new i.InjectionToken("IgxDropDownBaseToken"),eo=function(){function e(){this.selection=new Map}return e.prototype.get=function(e){return this.selection.get(e)},e.prototype.set=function(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)},e.prototype.clear=function(e){this.selection.set(e,this.get_empty())},e.prototype.size=function(e){var t=this.get(e);return t?t.size:0},e.prototype.add_item=function(e,t,i){if(i||(i=new Set(this.get(e))),void 0===i&&(i=this.get_empty()),!t&&0!==t)throw Error("Invalid value for item id!");return i.add(t),i},e.prototype.add_items=function(e,t,i){var n,o=this;return i?n=this.get_empty():t&&0===t.length&&(n=new Set(this.get(e))),t.forEach((function(t){return n=o.add_item(e,t,n)})),n},e.prototype.select_item=function(e,t,i){this.set(e,this.add_item(e,t,i))},e.prototype.select_items=function(e,t,i){this.set(e,this.add_items(e,t,i))},e.prototype.delete_item=function(e,t,i){if(i||(i=new Set(this.get(e))),void 0!==i)return i.delete(t),i},e.prototype.delete_items=function(e,t){var i,n=this;return t.forEach((function(t){return i=n.delete_item(e,t,i)})),i},e.prototype.deselect_item=function(e,t,i){this.set(e,this.delete_item(e,t,i))},e.prototype.deselect_items=function(e,t,i){this.set(e,this.delete_items(e,t))},e.prototype.is_item_selected=function(e,t){var i=this.get(e);return!!i&&i.has(t)},e.prototype.first_item=function(e){var t=this.get(e);if(t&&t.size>0)return t.values().next().value},e.prototype.are_all_selected=function(e,t){return t>0&&t===this.size(e)},e.prototype.are_none_selected=function(e){return 0===this.size(e)},e.prototype.get_all_ids=function(e,t){return null!=t?e.map((function(e){return e[t]})):e},e.prototype.get_empty=function(){return new Set},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"})],e)}(),to=0,io=function(){function e(){this._id=to++,this.role="group",this.groupClass=!0,this.disabled=!1}return Object.defineProperty(e.prototype,"labelId",{get:function(){return"igx-item-group-label-"+this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelledBy",{get:function(){return this.labelId},enumerable:!0,configurable:!0}),m([i.HostBinding("attr.aria-labelledby")],e.prototype,"labelledBy",null),m([i.HostBinding("attr.role")],e.prototype,"role",void 0),m([i.HostBinding("class.igx-drop-down__group")],e.prototype,"groupClass",void 0),m([i.Input(),i.HostBinding("attr.aria-disabled"),i.HostBinding("class.igx-drop-down__group--disabled")],e.prototype,"disabled",void 0),m([i.Input()],e.prototype,"label",void 0),e=m([i.Component({selector:"igx-drop-down-item-group",template:'\n        <label id="{{labelId}}">{{ label }}</label>\n        <ng-content select="igx-drop-down-item"></ng-content>\n    '})],e)}(),no=0,oo=!1,ro=function(){function e(e,t,n,o){this.dropDown=e,this.elementRef=t,this.group=n,this.selection=o,this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this.id="igx-drop-down-item-"+no++,this.selectedChange=new i.EventEmitter,this.role="option"}return Object.defineProperty(e.prototype,"hasIndex",{get:function(){return null!==this._index&&void 0!==this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemID",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return null===this._index?(oo=kn('IgxDropDownItemBaseDirective: Automatic index is deprecated.Bind in the template instead using `<igx-drop-down-item [index]="i"` instead.`',oo),this.itemIndex):this._index},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyleCosy",{get:function(){return"cosy"===this.dropDown.displayDensity&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyleCompact",{get:function(){return"compact"===this.dropDown.displayDensity&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.selected},set:function(e){this.selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return this.isSelectable&&this._focused},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this.focused},set:function(e){this.focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerClassCosy",{get:function(){return this.isHeader&&"cosy"===this.dropDown.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerClassCompact",{get:function(){return this.isHeader&&"compact"===this.dropDown.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemIndex",{get:function(){return this.dropDown.items.indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementHeight",{get:function(){return this.elementRef.nativeElement.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._selected){var e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this):this.dropDown.selectItem(this)}},Object.defineProperty(e.prototype,"isSelectable",{get:function(){return!(this.disabled||this.isHeader)},enumerable:!0,configurable:!0}),e.prototype.ensureItemFocus=function(){if(this.dropDown.allowItemsFocus){var e=this.dropDown.items.find((function(e){return e.focused}));if(!e)return;e.element.nativeElement.focus({preventScroll:!0})}},e.prototype.clicked=function(e){},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Qn]}]},{type:i.ElementRef},{type:io,decorators:[{type:i.Optional}]},{type:eo,decorators:[{type:i.Optional},{type:i.Inject,args:[eo]}]}]},m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"index",null),m([i.Input()],e.prototype,"value",void 0),m([i.HostBinding("class.igx-drop-down__item")],e.prototype,"itemStyle",null),m([i.HostBinding("class.igx-drop-down__item--cosy")],e.prototype,"itemStyleCosy",null),m([i.HostBinding("class.igx-drop-down__item--compact")],e.prototype,"itemStyleCompact",null),m([i.Input(),i.HostBinding("attr.aria-selected"),i.HostBinding("class.igx-drop-down__item--selected")],e.prototype,"selected",null),m([i.Output()],e.prototype,"selectedChange",void 0),m([i.Input(),Rn("IgxDropDownItemBaseDirective `isSelected` property is deprecated.\nUse `selected` instead.")],e.prototype,"isSelected",null),m([i.HostBinding("class.igx-drop-down__item--focused")],e.prototype,"focused",null),m([Rn("IgxDropDownItemBaseDirective `isFocused` property is depracated.\nUse `focused` instead.")],e.prototype,"isFocused",null),m([i.Input(),i.HostBinding("class.igx-drop-down__header")],e.prototype,"isHeader",void 0),m([i.HostBinding("class.igx-drop-down__header--cosy")],e.prototype,"headerClassCosy",null),m([i.HostBinding("class.igx-drop-down__header--compact")],e.prototype,"headerClassCompact",null),m([i.Input(),i.HostBinding("attr.aria-disabled"),i.HostBinding("class.igx-drop-down__item--disabled")],e.prototype,"disabled",null),m([i.Input(),i.HostBinding("attr.role")],e.prototype,"role",void 0),m([i.HostListener("click",["$event"])],e.prototype,"clicked",null),e=m([i.Directive({selector:"[igxDropDownItemBase]"}),y(0,i.Inject(Qn)),y(2,i.Optional()),y(3,i.Optional()),y(3,i.Inject(eo))],e)}(),so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),Object.defineProperty(t.prototype,"focused",{get:function(){var e=this._focused;if(this.hasIndex){var t=this.selection.first_item(this.dropDown.id+"-active"),i=t?t.index:-1;e=this._index===i}return this.isSelectable&&e},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){if(this.hasIndex){var e=this.selection.first_item(""+this.dropDown.id);return!!e&&(e.index===this._index&&e.value===this.value)}return this._selected},set:function(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setTabIndex",{get:function(){return this.dropDown.allowItemsFocus&&this.isSelectable?0:null},enumerable:!0,configurable:!0}),t.prototype.clicked=function(e){this.isSelectable?this.selection&&this.dropDown.selectItem(this,e):this.ensureItemFocus()},m([i.HostBinding("attr.tabindex")],t.prototype,"setTabIndex",null),t=m([i.Component({selector:"igx-drop-down-item",template:"<ng-content></ng-content>"})],t)}(ro);(Jn=e.DisplayDensity||(e.DisplayDensity={})).comfortable="comfortable",Jn.cosy="cosy",Jn.compact="compact";var ao=new i.InjectionToken("DisplayDensity"),lo=function(){function t(t){this.displayDensityOptions=t,this.onDensityChanged=new i.EventEmitter,this.oldDisplayDensityOptions={displayDensity:e.DisplayDensity.comfortable},Object.assign(this.oldDisplayDensityOptions,t)}return Object.defineProperty(t.prototype,"displayDensity",{get:function(){return this._displayDensity||this.displayDensityOptions&&this.displayDensityOptions.displayDensity||e.DisplayDensity.comfortable},set:function(e){var t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){var i={oldDensity:t,newDensity:this._displayDensity};this.onDensityChanged.emit(i)}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initialDensity=this._displayDensity},t.prototype.ngDoCheck=function(){if(!this._displayDensity&&this.displayDensityOptions&&this.oldDisplayDensityOptions.displayDensity!==this.displayDensityOptions.displayDensity){var e={oldDensity:this.oldDisplayDensityOptions.displayDensity,newDensity:this.displayDensityOptions.displayDensity};this.onDensityChanged.emit(e),this.oldDisplayDensityOptions=Object.assign(this.oldDisplayDensityOptions,this.displayDensityOptions)}},t.prototype.getComponentDensityClass=function(t){switch(this.displayDensity){case e.DisplayDensity.cosy:return t+"--"+e.DisplayDensity.cosy;case e.DisplayDensity.compact:return t+"--"+e.DisplayDensity.compact;default:return t}},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.Input()],t.prototype,"displayDensity",null),m([i.Output()],t.prototype,"onDensityChanged",void 0),t=m([i.Directive({selector:"[igxDisplayDensityBase]"}),y(0,i.Optional()),y(0,i.Inject(ao))],t)}(),co=function(){function e(){}return e=m([i.NgModule({declarations:[lo],exports:[lo]})],e)}(),po=0,uo=function(e){function t(t,n,o){var r=e.call(this,o)||this;return r.elementRef=t,r.cdr=n,r._displayDensityOptions=o,r._focusedItem=null,r._id="igx-drop-down-"+po++,r.onSelection=new i.EventEmitter,r.maxHeight=null,r.cssClass=!0,r}return d(t,e),Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e,t,i=[];if(void 0!==this.children)try{for(var n=v(this.children.toArray()),o=n.next();!o.done;o=n.next()){var r=o.value;r.isHeader||i.push(r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){var e,t,i=[];if(void 0!==this.children)try{for(var n=v(this.children.toArray()),o=n.next();!o.done;o=n.next()){var r=o.value;r.isHeader&&i.push(r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),t.prototype.onItemActionKey=function(e,t){switch(e){case An.ENTER:case An.SPACE:this.selectItem(this.focusedItem,t);break;case An.ESCAPE:}},t.prototype.selectItem=function(e,t){this.onSelection.emit({newSelection:e,oldSelection:null,cancel:!1})},Object.defineProperty(t.prototype,"focusedItem",{get:function(){return this._focusedItem},set:function(e){this._focusedItem=e},enumerable:!0,configurable:!0}),t.prototype.navigate=function(e,t){var i=-1;this._focusedItem&&(i=t||this.focusedItem.itemIndex);var n=this.getNearestSiblingFocusableItemIndex(i,e);this.navigateItem(n)},t.prototype.getNearestSiblingFocusableItemIndex=function(e,t){for(var i=e,n=this.items;n[i+t]&&n[i+t].disabled;)i+=t;return(i+=t)>=0&&i<n.length?i:-1},t.prototype.navigateItem=function(e){if(-1!==e){var t=this._focusedItem,i=this.items[e];t&&(t.focused=!1),this.focusedItem=i,this.scrollToHiddenItem(i),this.focusedItem.focused=!0}},t.prototype.navigateFirst=function(){this.navigate(Ln.Down,-1)},t.prototype.navigateLast=function(){this.navigate(Ln.Up,this.items.length)},t.prototype.navigateNext=function(){this.navigate(Ln.Down)},t.prototype.navigatePrev=function(){this.navigate(Ln.Up)},t.prototype.scrollToHiddenItem=function(e){var t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect();i.top>t.top&&(this.scrollContainer.scrollTop-=i.top-t.top),i.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-i.bottom)},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.Output()],t.prototype,"onSelection",void 0),m([i.Input()],t.prototype,"width",void 0),m([i.Input()],t.prototype,"height",void 0),m([i.Input()],t.prototype,"id",void 0),m([i.Input(),i.HostBinding("style.maxHeight")],t.prototype,"maxHeight",void 0),m([i.HostBinding("class.igx-drop-down")],t.prototype,"cssClass",void 0),t=m([i.Directive({selector:"[igxDropDownBase]"}),y(2,i.Optional()),y(2,i.Inject(ao))],t)}(lo),ho=function(){function e(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}return e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.ViewContainerRef}]},m([i.ViewChild("display_container",{read:i.ViewContainerRef,static:!0})],e.prototype,"_vcr",void 0),m([i.HostBinding("class")],e.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-display-container--inactive")],e.prototype,"notVirtual",void 0),e=m([i.Component({selector:"igx-display-container",template:'\n        <ng-template\n            #display_container\n            igxScrollInertia\n            [IgxScrollInertiaScrollContainer]="scrollContainer"\n            [IgxScrollInertiaDirection]="scrollDirection">\n        </ng-template>\n    '})],e)}(),go=function(){function e(e,t){this.elementRef=e,this.cdr=t,this.scrollAmount=0,this._size=0,this._afterViewInit=!1}return e.prototype.ngAfterViewInit=function(){this._afterViewInit=!0},e.prototype.onScroll=function(e){this.scrollAmount=e.target.scrollTop||e.target.scrollLeft},Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroyed=!0},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){this.destroyed||(this._size=e,this._afterViewInit&&this.cdr.detectChanges())},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.HostListener("scroll",["$event"])],e.prototype,"onScroll",null),e=m([i.Directive({selector:"[igxVirtualHelperBase]"})],e)}(),fo=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.elementRef=t,n.cdr=i,n.cssClasses="igx-vhelper--horizontal",n}return d(t,e),t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.ViewChild("horizontal_container",{read:i.ViewContainerRef,static:!0})],t.prototype,"_vcr",void 0),m([i.Input()],t.prototype,"width",void 0),m([i.HostBinding("class")],t.prototype,"cssClasses",void 0),t=m([i.Component({selector:"igx-horizontal-virtual-helper",template:'<div #horizontal_container class="igx-vhelper__placeholder-content" [style.width.px]="size"></div>'})],t)}(go),mo=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.elementRef=t,n.cdr=i,n.cssClasses="igx-vhelper--vertical",n}return d(t,e),t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.HostBinding("scrollTop")],t.prototype,"scrollTop",void 0),m([i.ViewChild("container",{read:i.ViewContainerRef,static:!0})],t.prototype,"_vcr",void 0),m([i.Input()],t.prototype,"itemsLength",void 0),m([i.HostBinding("class")],t.prototype,"cssClasses",void 0),t=m([i.Component({selector:"igx-virtual-helper",template:'<div #container class="igx-vhelper__placeholder-content" [style.height.px]="size"></div>'})],t)}(go),yo=function(){function e(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.setPointerCaptureFName="function"==typeof Element.prototype.msSetPointerCapture?"msSetPointerCapture":"setPointerCapture",this.releasePointerCaptureFName="function"==typeof Element.prototype.msReleasePointerCapture?"msReleasePointerCapture":"releasePointerCapture"}return e.prototype.ngOnInit=function(){var e=this;this._zone.runOutsideAngular((function(){e.parentElement=e.element.nativeElement.parentElement||e.element.nativeElement.parentNode;var t=e.parentElement;t.addEventListener("wheel",(function(t){e.onWheel(t)})),t.addEventListener("touchstart",(function(t){e.onTouchStart(t)})),t.addEventListener("touchmove",(function(t){e.onTouchMove(t)})),t.addEventListener("touchend",(function(t){e.onTouchEnd(t)})),t.addEventListener("pointerdown",(function(t){e.onPointerDown(t)})),t.addEventListener("pointerup",(function(t){e.onPointerUp(t)})),t.addEventListener("MSGestureStart",(function(t){e.onMSGestureStart(t)})),t.addEventListener("MSGestureChange",(function(t){e.onMSGestureChange(t)}))}))},e.prototype.onWheel=function(e){if(this.IgxScrollInertiaScrollContainer){var t,i,n=this.wheelStep,o=1/this.wheelStep;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX?-o<(t=-e.wheelDeltaX/120)&&t<o&&(t=Math.sign(t)*o):e.deltaX&&(t=this.calcAxisCoords(e.deltaX,-1,1)),e.wheelDeltaY?-o<(i=-e.wheelDeltaY/120)&&i<o&&(i=Math.sign(i)*o):e.deltaY&&(i=this.calcAxisCoords(e.deltaY,-1,1)),t&&"horizontal"===this.IgxScrollInertiaDirection){this._scrollToX(this._startX+t*n);var r=this.IgxScrollInertiaScrollContainer.scrollLeft,s=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<r&&r<s&&e.preventDefault()}else i&&"vertical"===this.IgxScrollInertiaDirection&&(this._scrollToY(this._startY+i*n),this.preventParentScroll(e,!0))}},e.prototype.preventParentScroll=function(e,t){var i=this.IgxScrollInertiaScrollContainer.scrollTop,n=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<i&&i<n&&(t&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},e.prototype.onTouchStart=function(e){if("function"==typeof MSGesture||!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);var t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,this._touchPrevented=!1,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)},e.prototype.onTouchMove=function(e){if("function"==typeof MSGesture)return this._touchPrevented=!1,!1;if(this.IgxScrollInertiaScrollContainer){var t,i=e.touches[0],n=this._startX+(this._touchStartX-i.pageX)*Math.sign(this.inertiaStep),o=this._startY+(this._touchStartY-i.pageY)*Math.sign(this.inertiaStep),r=(new Date).getTime()-this._lastTouchEnd;if(0!==r&&r<100){var s=(this._lastTouchX-i.pageX)/r,a=(this._lastTouchY-i.pageY)/r;this._savedSpeedsX.length<5?this._savedSpeedsX.push(s):(this._savedSpeedsX.shift(),this._savedSpeedsX.push(s)),this._savedSpeedsY.length<5?this._savedSpeedsY.push(a):(this._savedSpeedsY.shift(),this._savedSpeedsY.push(a))}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-i.pageX,this._lastMovedY=this._lastTouchY-i.pageY,this._lastTouchX=i.pageX,this._lastTouchY=i.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?t=this._scrollTo(this._startX,o):(this._offsetRecorded||(this._offsetDirection=Math.sign(n-this._startX),this._offsetRecorded=!0),t=this._scrollTo(n-this._offsetDirection*this.swipeToleranceX,o)),0===t.x&&0===t.y&&(this._touchPrevented=!0),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!0)}},e.prototype.onTouchEnd=function(e){if("function"!=typeof MSGesture){for(var t=0,i=0,n=0;n<this._savedSpeedsX.length;n++)t+=this._savedSpeedsX[n],i+=this._savedSpeedsY[n];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(i)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)&&this._inertiaInit(t,i),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}},e.prototype.onPointerDown=function(e){if(!e||2!==e.pointerType&&"touch"!==e.pointerType||"function"!=typeof MSGesture)return!0;this.IgxScrollInertiaScrollContainer&&(e.target[this.setPointerCaptureFName](this._pointer=e.pointerId),this._gestureObject||(this._gestureObject=new MSGesture,this._gestureObject.target=this.parentElement),this._gestureObject.addPointer(this._pointer))},e.prototype.onPointerUp=function(e){if(!this._pointer)return!0;this.IgxScrollInertiaScrollContainer&&(e.target[this.releasePointerCaptureFName](this._pointer),delete this._pointer)},e.prototype.onMSGestureStart=function(e){if(this.IgxScrollInertiaScrollContainer)return this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=e.screenX,this._touchStartY=e.screenY,this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,!1},e.prototype.onMSGestureChange=function(e){if(this.IgxScrollInertiaScrollContainer){var t=e,i=this._startX+this._touchStartX-t.screenX,n=this._startY+this._touchStartY-t.screenY;return this._totalMovedX=this._touchStartX-t.screenX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollToY(n):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,n)),!1}},e.prototype.calcAxisCoords=function(e,t,i){return void 0===e||e<t?e=t:e>i&&(e=i),e},e.prototype._scrollTo=function(e,t){this.IgxScrollInertiaScrollContainer.scrollLeft,this.IgxScrollInertiaScrollContainer.scrollTop;return{x:this._scrollToX(e),y:this._scrollToY(t)}},e.prototype._scrollToX=function(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e},e.prototype._scrollToY=function(e){this.IgxScrollInertiaScrollContainer.scrollTop=e},e.prototype._inertiaInit=function(e,t){var i=this,n=this.inertiaStep,o=this.inertiaDuration,r=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;var s=function(){r>6?cancelAnimationFrame(i._touchInertiaAnimID):(Math.abs(e),Math.abs(t),(r+=.05/(1*o))<=1?(Math.abs(t)<=Math.abs(e)*i.inertiaDeltaY&&(i._nextX+=1*e*15*n),Math.abs(t)>=Math.abs(e)*i.inertiaDeltaX&&(i._nextY+=1*t*15*n)):(Math.abs(t)<=Math.abs(e)*i.inertiaDeltaY&&(i._nextX+=Math.abs(2/(r+.55)-.3)*e*15*n),Math.abs(t)>=Math.abs(e)*i.inertiaDeltaX&&(i._nextY+=Math.abs(2/(r+.55)-.3)*t*15*n)),i._scrollTo(i._nextX,i._nextY),i._touchInertiaAnimID=requestAnimationFrame(s))};this._touchInertiaAnimID=requestAnimationFrame(s)},e.prototype.ngOnDestroy=function(){var e=this;this._zone.runOutsideAngular((function(){var t=e.parentElement;t.removeEventListener("wheel",(function(t){e.onWheel(t)})),t.removeEventListener("touchstart",(function(t){e.onTouchStart(t)})),t.removeEventListener("touchmove",(function(t){e.onTouchMove(t)})),t.removeEventListener("touchend",(function(t){e.onTouchEnd(t)})),t.removeEventListener("pointerdown",(function(t){e.onPointerDown(t)})),t.removeEventListener("pointerup",(function(t){e.onPointerUp(t)})),t.removeEventListener("MSGestureStart",(function(t){e.onMSGestureStart(t)})),t.removeEventListener("MSGestureChange",(function(t){e.onMSGestureChange(t)}))}))},e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},m([i.Input()],e.prototype,"IgxScrollInertiaDirection",void 0),m([i.Input()],e.prototype,"IgxScrollInertiaScrollContainer",void 0),m([i.Input()],e.prototype,"wheelStep",void 0),m([i.Input()],e.prototype,"inertiaStep",void 0),m([i.Input()],e.prototype,"swipeToleranceX",void 0),m([i.Input()],e.prototype,"inertiaDeltaY",void 0),m([i.Input()],e.prototype,"inertiaDeltaX",void 0),m([i.Input()],e.prototype,"inertiaDuration",void 0),e=m([i.Directive({selector:"[igxScrollInertia]"})],e)}(),vo=function(){function e(){}return e=m([i.NgModule({declarations:[yo],exports:[yo],imports:[o.CommonModule]})],e)}(),bo=function(){function e(){this._master=new Map}return e.prototype.isMaster=function(e){return this._master.get(e.igxForScrollOrientation)===e},e.prototype.setMaster=function(e,t){void 0===t&&(t=!1);var i=e.igxForScrollOrientation;!i||!t&&this._master.has(i)||this._master.set(i,e)},e.prototype.resetMaster=function(){this._master.clear()},e.prototype.sizesCache=function(e){return this._master.get(e).sizesCache},e.prototype.chunkSize=function(e){return this._master.get(e).state.chunkSize},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"})],e)}(),xo=function(){function e(){this._masterScroll=new Map}return e.prototype.setScrollMaster=function(e,t){this._masterScroll.set(e,t)},e.prototype.getScrollMaster=function(e){return this._masterScroll.get(e)},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"})],e)}(),Co=function(){function e(e,t,i){this.$implicit=e,this.index=t,this.count=i}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),_o=function(){function e(e,t,n,o,s,a,l){this._viewContainer=e,this._template=t,this._differs=n,this.resolver=o,this.cdr=s,this._zone=a,this.syncScrollService=l,this.igxForScrollOrientation="vertical",this.state={startIndex:0,chunkSize:0},this.totalItemCount=null,this.onChunkLoad=new i.EventEmitter,this.onScrollbarVisibilityChanged=new i.EventEmitter,this.onContentSizeChange=new i.EventEmitter,this.onDataChanged=new i.EventEmitter,this.onBeforeViewDestroyed=new i.EventEmitter,this.onChunkPreload=new i.EventEmitter,this._sizesCache=[],this._differ=null,this.heightCache=[],this.MAX_PERF_SCROLL_DIFF=4,this._virtHeight=0,this._virtHeightRatio=1,this._virtScrollTop=0,this._bScrollInternal=!1,this._embeddedViews=[],this.contentResizeNotify=new r.Subject,this.destroy$=new r.Subject}return Object.defineProperty(e.prototype,"igxForTotalItemCount",{get:function(){return this.totalItemCount},set:function(e){this.totalItemCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayContainer",{get:function(){return this.dc.instance._viewContainer.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"virtualHelper",{get:function(){return this.scrollComponent.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizesCache",{get:function(){return this._sizesCache},set:function(e){this._sizesCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isScrolledToBottom",{get:function(){if(!this.getScroll())return!0;var e=this.getScroll().scrollHeight;return Math.round(this.getScroll().scrollTop+this.igxForContainerSize)===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isAtBottomIndex",{get:function(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return null!==this.totalItemCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this.scrollComponent.scrollAmount},set:function(e){e!==this.scrollComponent.scrollAmount&&("horizontal"===this.igxForScrollOrientation&&this.scrollComponent?this.scrollComponent.nativeElement.scrollLeft=e:this.scrollComponent&&(this.scrollComponent.nativeElement.scrollTop=e))},enumerable:!0,configurable:!0}),e.prototype.removeScrollEventListeners=function(){var e=this;"horizontal"===this.igxForScrollOrientation?this._zone.runOutsideAngular((function(){return e.scrollComponent.nativeElement.removeEventListener("scroll",e.func)})):this._zone.runOutsideAngular((function(){return e.scrollComponent.nativeElement.removeEventListener("scroll",e.verticalScrollHandler)}))},e.prototype.verticalScrollHandler=function(e){this.onScroll(e)},e.prototype.isScrollable=function(){return this.scrollComponent.size>parseInt(this.igxForContainerSize,10)},e.prototype.ngOnInit=function(){var e=this,t=0,i=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;this.igxForSizePropName=this.igxForSizePropName||"width";var n=this.resolver.resolveComponentFactory(ho);if(this.dc=this._viewContainer.createComponent(n,0),this.dc.instance.scrollDirection=this.igxForScrollOrientation,"function"==typeof MSGesture&&(this.dc.instance._viewContainer.element.nativeElement.style.touchAction="none"),this.igxForOf&&this.igxForOf.length){t=this.initSizesCache(this.igxForOf),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.state.chunkSize=this._calculateChunkSize(),this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),this.scrollComponent&&(this.state.startIndex=Math.min(this.getIndexAt(this.scrollPosition,this.sizesCache,0),this.igxForOf.length-this.state.chunkSize));for(var o=this.state.startIndex;o<this.state.startIndex+this.state.chunkSize&&void 0!==this.igxForOf[o];o++){var r=this.igxForOf[o],a=this.dc.instance._vcr.createEmbeddedView(this._template,new Co(r,this.getContextIndex(r),this.igxForOf.length));this._embeddedViews.push(a)}}if("vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px";var l=this.resolver.resolveComponentFactory(mo);this.scrollComponent=i.createComponent(l).instance,this._maxHeight=this._calcMaxBrowserHeight(),this.scrollComponent.size=this.igxForOf?this._calcHeight():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent),this._zone.runOutsideAngular((function(){e.verticalScrollHandler=e.verticalScrollHandler.bind(e),e.scrollComponent.nativeElement.addEventListener("scroll",e.verticalScrollHandler),e.dc.instance.scrollContainer=e.scrollComponent.nativeElement}));var c=s.takeUntil(this.destroy$);this.contentResizeNotify.pipe(c,s.filter((function(){return e.igxForContainerSize&&e.igxForOf&&e.igxForOf.length>0})),s.throttleTime(40,void 0,{leading:!0,trailing:!0})).subscribe((function(){e._zone.runTask((function(){e.updateSizes()}))}))}if("horizontal"===this.igxForScrollOrientation){if(this.func=function(t){e.onHScroll(t)},this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.scrollComponent)this._zone.runOutsideAngular((function(){e.scrollComponent.nativeElement.addEventListener("scroll",e.func),e.dc.instance.scrollContainer=e.scrollComponent.nativeElement}));else{var p=this.resolver.resolveComponentFactory(fo);this.scrollComponent=i.createComponent(p).instance,this.scrollComponent.size=t,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent),this._zone.runOutsideAngular((function(){e.scrollComponent.nativeElement.addEventListener("scroll",e.func),e.dc.instance.scrollContainer=e.scrollComponent.nativeElement}))}this._updateHScrollOffset()}},e.prototype.ngAfterViewInit=function(){var e=this;"vertical"===this.igxForScrollOrientation&&this._zone.runOutsideAngular((function(){e.contentObserver=new a((function(){return e.contentResizeNotify.next()})),e.contentObserver.observe(e.dc.instance._viewContainer.element.nativeElement)}))},e.prototype.ngOnDestroy=function(){this.removeScrollEventListeners(),this.destroy$.next(!0),this.destroy$.complete(),this.contentObserver&&this.contentObserver.disconnect()},e.prototype.ngOnChanges=function(e){if("igxForOf"in e){var t=e.igxForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.igxForTrackBy)}catch(e){throw new Error('Cannot find a differ supporting object "'+t+'" of type "'+wo(t)+'".\n                     NgFor only supports binding to Iterables such as Arrays.')}}"igxForItemSize"in e&&!e.igxForItemSize.firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&(this.initSizesCache(this.igxForOf),this._applyChanges());"igxForContainerSize"in e&&!e.igxForContainerSize.firstChange&&this.igxForOf&&this._recalcOnContainerChange(e)},e.prototype.ngDoCheck=function(){var e=this;this._differ&&(this._differ.diff(this.igxForOf)&&(this.igxForOf||(this.igxForOf=[]),this._updateSizeCache(),this._zone.run((function(){e._applyChanges(),e.cdr.markForCheck(),e._updateScrollOffset(),e.onDataChanged.emit()}))))},e.prototype.addScrollTop=function(e){if(0===e&&"horizontal"===this.igxForScrollOrientation)return!1;var t=this._virtScrollTop,i=parseInt(this.igxForContainerSize,10),n=this._virtHeight-i;if(this._bScrollInternal=!0,this._virtScrollTop+=e,this._virtScrollTop=this._virtScrollTop>0?this._virtScrollTop<n?this._virtScrollTop:n:0,this.scrollPosition+=e/this._virtHeightRatio,Math.abs(e/this._virtHeightRatio)<1){var o=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-o+"px"}var r=this.scrollComponent.nativeElement.scrollHeight-i;return this._virtScrollTop>0&&0===this.scrollPosition||this._virtScrollTop<n&&this.scrollPosition===r?this.scrollPosition=this._virtScrollTop/this._virtHeightRatio:0===this._virtScrollTop&&this.scrollPosition>0?this.scrollPosition=0:this._virtScrollTop===n&&this.scrollPosition<r&&(this.scrollPosition=r),this._virtScrollTop!==t},e.prototype.scrollTo=function(e){if(!(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)){var t=parseInt(this.igxForContainerSize,10),i=e<this.state.startIndex||this.scrollPosition>this.sizesCache[e],n=i?this.sizesCache[e]:this.sizesCache[e+1]-t;if(!(n<0))if("horizontal"===this.igxForScrollOrientation)this.scrollPosition=n;else{var o=this._virtHeight-t;n>o&&(n=o),this._bScrollInternal=!0,this._virtScrollTop=n,this.scrollPosition=this._virtScrollTop/this._virtHeightRatio,this._adjustToIndex=i?null:e}}},e.prototype.scrollNext=function(){var e=Math.ceil(this.scrollPosition),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache,0);this.scrollTo(t)},e.prototype.scrollPrev=function(){this.scrollTo(this.state.startIndex-1)},e.prototype.scrollNextPage=function(){"horizontal"===this.igxForScrollOrientation?this.scrollPosition+=parseInt(this.igxForContainerSize,10):this.addScrollTop(parseInt(this.igxForContainerSize,10))},e.prototype.scrollPrevPage=function(){if("horizontal"===this.igxForScrollOrientation)this.scrollPosition-=parseInt(this.igxForContainerSize,10);else{var e=parseInt(this.igxForContainerSize,10);this.addScrollTop(-e)}},e.prototype.getColumnScrollLeft=function(e){return this.sizesCache[e]},e.prototype.getItemCountInView=function(){var e=this.getIndexAt(this.scrollPosition,this.sizesCache,0);return this.scrollPosition-this.sizesCache[e]>0&&e++,this.getIndexAt(this.scrollPosition+parseInt(this.igxForContainerSize,10),this.sizesCache,0)-e},e.prototype.getScroll=function(){return this.scrollComponent.nativeElement},e.prototype.getSizeAt=function(e){return this.sizesCache[e+1]-this.sizesCache[e]},e.prototype.getScrollForIndex=function(e,t){var i=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-i):this.sizesCache[e]},e.prototype.onScroll=function(e){if(parseInt(this.scrollComponent.nativeElement.style.height,10)){var t=parseInt(this.igxForContainerSize,10),i=e.target.children[0].scrollHeight-t,n=0!==i?e.target.scrollTop/i:0;if(this._bScrollInternal)this._bScrollInternal=!1;else{var o=this._virtHeight-t;this._virtScrollTop=n*o}var r=this.state.startIndex,s=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-s+"px",this.dc.changeDetectorRef.detectChanges(),r!==this.state.startIndex&&this.onChunkLoad.emit(this.state)}},e.prototype.updateSizes=function(){this.recalcUpdateSizes(),this._applyChanges(),this._updateScrollOffset(),this.onContentSizeChange.emit()},e.prototype.recalcUpdateSizes=function(){for(var e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],i=0,n=this._embeddedViews.length,o=this._embeddedViews.map((function(e){return e.rootNodes.find((function(e){return e.nodeType===Node.ELEMENT_NODE}))||e.rootNodes[0].nextElementSibling})),r=0;r<n;r++){var s=o[r];if(s){var a=s.offsetHeight||parseInt(this.igxForItemSize,10),l=this.state.startIndex+r;if(!this.isRemote&&!this.igxForOf[l])continue;var c="height"===e?this.heightCache[l]:this.igxForOf[l][e],p="height"===e?a:s.clientWidth;"height"===e?this.heightCache[l]=p:this.igxForOf[l][e]=p;var d=p-c;t.push(d),i+=d,this.sizesCache[l+1]+=i}}if(Math.abs(i)>0){for(var u=this.state.startIndex+this.state.chunkSize+1;u<this.sizesCache.length;u++)this.sizesCache[u]+=i;if("horizontal"===this.igxForScrollOrientation){var h=parseInt(this.scrollComponent.nativeElement.children[0].style.width,10)+i;this.scrollComponent.nativeElement.children[0].style.width=h+"px"}var g=function(e,t){return e+t};if("vertical"===this.igxForScrollOrientation){var f=this._isScrolledToBottom&&!this.dc.instance.notVirtual,m=this.heightCache.reduce(g);if(m>this._maxHeight&&(this._virtHeightRatio=m/this._maxHeight),this.scrollComponent.size=Math.min(this.scrollComponent.size+i,this._maxHeight),this._virtHeight=m,this.scrollComponent.destroyed||this.scrollComponent.cdr.detectChanges(),f&&!this._isAtBottomIndex){var y=parseInt(this.igxForContainerSize,10),v=this._virtHeight-y;return this._bScrollInternal=!0,this._virtScrollTop=v,void(this.scrollPosition=v)}if(this._adjustToIndex){var b=this._adjustToIndex-this.state.startIndex+1,x=t.slice(0,b).reduce(g),C=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);this.dc.instance._viewContainer.element.nativeElement.style.top=C-x+"px",this._adjustToIndex=null}}}},e.prototype.fixedUpdateAllElements=function(e){var t=this.isRemote?this.totalItemCount:this.igxForOf.length,i=this.getIndexAt(e,this.sizesCache,0);i+this.state.chunkSize>t&&(i=t-this.state.chunkSize);var n=this.state.startIndex,o=i-this.state.startIndex;return this.state.startIndex=i,o&&(this.onChunkPreload.emit(this.state),this.isRemote||(o>0&&o<=this.MAX_PERF_SCROLL_DIFF?this.moveApplyScrollNext(n):o<0&&Math.abs(o)<=this.MAX_PERF_SCROLL_DIFF?this.moveApplyScrollPrev(n):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]},e.prototype.moveApplyScrollNext=function(e){for(var t=e+this.state.chunkSize,i=t;i<t+this.state.startIndex-e&&void 0!==this.igxForOf[i];i++){var n=this.igxForOf[i],o=this._embeddedViews.shift(),r=o.context;r.$implicit=n,r.index=this.getContextIndex(n),r.count=this.igxForOf.length;var s=this.dc.instance._vcr.detach(0);this.dc.instance._vcr.insert(s),this._embeddedViews.push(o)}},e.prototype.moveApplyScrollPrev=function(e){for(var t=e-1;t>=this.state.startIndex&&void 0!==this.igxForOf[t];t--){var i=this.igxForOf[t],n=this._embeddedViews.pop(),o=n.context;o.$implicit=i,o.index=this.getContextIndex(i);var r=this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1);this.dc.instance._vcr.insert(r,0),this._embeddedViews.unshift(n)}},e.prototype.getContextIndex=function(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)},e.prototype.fixedApplyScroll=function(){for(var e=0,t=this.state.startIndex+this.state.chunkSize,i=this.state.startIndex;i<t&&void 0!==this.igxForOf[i];i++){var n=this.igxForOf[i],o=this._embeddedViews[e++].context;o.$implicit=n,o.index=this.getContextIndex(n),o.count=this.igxForOf.length}},e.prototype.onHScroll=function(e){if(parseInt(this.scrollComponent.nativeElement.children[0].style.width,10)){var t=this.state.startIndex,i=this.fixedUpdateAllElements(e.target.scrollLeft);this.dc.instance._viewContainer.element.nativeElement.style.left=-i+"px",this.dc.changeDetectorRef.detectChanges(),t!==this.state.startIndex&&this.onChunkLoad.emit(this.state)}},Object.defineProperty(e.prototype,"igxForTrackBy",{get:function(){return this._trackByFn},set:function(e){this._trackByFn=e},enumerable:!0,configurable:!0}),e.prototype._applyChanges=function(){var e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){var t=Object.assign([],this._embeddedViews),i=this.state.startIndex,n=this.state.chunkSize+this.state.startIndex;this.isRemote&&(i=0,n=this.igxForOf.length);for(var o=i;o<n&&void 0!==this.igxForOf[o];o++){var r=this.igxForOf[o],s=t.shift().context;s.$implicit=r,s.index=this.getContextIndex(r),s.count=this.igxForOf.length}e!==this.state.chunkSize&&this.onChunkLoad.emit(this.state)}},e.prototype._calcMaxBrowserHeight=function(){var e=document.createElement("div"),t=e.style;t.position="absolute",t.top="9999999999999999px",document.body.appendChild(e);var i=Math.abs(e.getBoundingClientRect().top);return document.body.removeChild(e),i},e.prototype._calculateChunkSize=function(){var e=0;return null!==this.igxForContainerSize&&void 0!==this.igxForContainerSize?(this.sizesCache||this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=this.igxForOf.length),e},e.prototype.getElement=function(e,t){var i=e.element.nativeElement.parentNode.getElementsByTagName(t);return i.length>0?i[0]:null},e.prototype.initSizesCache=function(e){var t=0,i=0,n="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",o=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);for(var r=this.isRemote?this.totalItemCount:e.length;o<r;o++)"height"===n?(i=parseInt(this.igxForItemSize,10)||0,this.heightCache.push(i)):i=this._getItemSize(e[o],n),t+=i,this.sizesCache.push(t);return t},e.prototype._updateSizeCache=function(){if("horizontal"!==this.igxForScrollOrientation){var e=(this.heightCache.length>0?this.heightCache.reduce((function(e,t){return e+t})):0)-this.initSizesCache(this.igxForOf);if(Math.abs(e)>0&&this.scrollPosition>0){this.recalcUpdateSizes();var t=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);this.scrollPosition=this.sizesCache[this.state.startIndex]-t}}else this.initSizesCache(this.igxForOf)},e.prototype._calcMaxChunkSize=function(){var e=this,t=0,i=0,n=0,o=[],r=0,s=parseInt(this.igxForContainerSize,10);if(!s)return 0;for(var a="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",l=function(t,i){return t+e._getItemSize(i,a)};t<this.igxForOf.length;t++){var c=this.igxForOf[t];"height"===a&&(c={value:this.igxForOf[t],height:this.heightCache[t]});var p="height"===a?this.heightCache[t]:this._getItemSize(c,a);if((r=o.reduce(l,p))<s){if(o.push(c),i=o.length,t===this.igxForOf.length-1)for(var d="height"===a?o[0].value:o[0],u=this.igxForOf.indexOf(d)-1;u>=0&&r<=s;){d="height"===a?o[0].value:o[0],u=this.igxForOf.indexOf(d)-1;var h=this.igxForOf[u],g="height"===a?this.heightCache[u]:parseInt(h[a],10);r=o.reduce(l,g),o.unshift(h),i=o.length}}else o.push(c),i=o.length+1,o.shift();i>n&&(n=i)}return n},e.prototype.getIndexAt=function(e,t,i){var n=0,o=t.length-1;if(0===e)return 0;for(;n<=o;){var r=Math.floor((n+o)/2),s=e-t[r];if(s>0)n=r+1;else{if(!(s<0))return r;o=r-1}}return o},e.prototype._recalcScrollBarSize=function(){var e=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<e);var t=this.isScrollable();if("horizontal"===this.igxForScrollOrientation){var i=this.igxForContainerSize?this.initSizesCache(this.igxForOf):0;this.scrollComponent.nativeElement.style.width=this.igxForContainerSize+"px",this.scrollComponent.size=i,i<=parseInt(this.igxForContainerSize,10)&&(this.scrollPosition=0,this.scrollComponent.scrollAmount=0)}"vertical"===this.igxForScrollOrientation&&(this.scrollComponent.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.scrollComponent.size=this._calcHeight(),this.scrollComponent.size<=parseInt(this.igxForContainerSize,10)&&(this.scrollPosition=0,this.scrollComponent.scrollAmount=0)),t!==this.isScrollable()&&this.onScrollbarVisibilityChanged.emit()},e.prototype._calcHeight=function(){var e;return e=this.heightCache?this.heightCache.reduce((function(e,t){return e+t}),0):this.initSizesCache(this.igxForOf),this._virtHeight=e,e>this._maxHeight&&(this._virtHeightRatio=e/this._maxHeight,e=this._maxHeight),e},e.prototype._recalcOnContainerChange=function(e){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.dc.instance._viewContainer.element.nativeElement.style.left="0px";var t=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),t!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),this.sizesCache&&"horizontal"===this.igxForScrollOrientation){var i=this.fixedUpdateAllElements(this.scrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.left=-i+"px"}},e.prototype.removeLastElem=function(){var e=this._embeddedViews.pop();this.onBeforeViewDestroyed.emit(e),this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1),e.destroy(),this.state.chunkSize--},e.prototype.addLastElem=function(){var e=this,t=this.state.startIndex+this.state.chunkSize;if(this.isRemote||this.igxForOf){t>=this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize);var i=this.igxForOf[t],n=this.dc.instance._vcr.createEmbeddedView(this._template,new Co(i,this.getContextIndex(i),this.igxForOf.length));this._embeddedViews.push(n),this.state.chunkSize++,this._zone.run((function(){e.cdr.markForCheck()}))}},e.prototype.applyChunkSizeChange=function(){var e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize)for(var t=e-this.state.chunkSize,i=0;i<t;i++)this.addLastElem();else if(e<this.state.chunkSize)for(t=this.state.chunkSize-e,i=0;i<t;i++)this.removeLastElem()},e.prototype._updateScrollOffset=function(){"horizontal"===this.igxForScrollOrientation?this._updateHScrollOffset():this._updateVScrollOffset()},e.prototype._updateVScrollOffset=function(){var e;e=this.scrollComponent.nativeElement&&this.scrollComponent.size?this.scrollPosition-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"},e.prototype._updateHScrollOffset=function(){var e;e=this.scrollComponent.nativeElement&&this.scrollComponent.size?this.scrollPosition-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.left=-e+"px"},e.prototype._getItemSize=function(e,t){var i=e[t];return"number"==typeof i?i:parseInt(this.igxForItemSize,10)||0},e.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:i.IterableDiffers},{type:i.ComponentFactoryResolver},{type:i.ChangeDetectorRef},{type:i.NgZone},{type:xo}]},m([i.Input()],e.prototype,"igxForOf",void 0),m([i.Input()],e.prototype,"igxForSizePropName",void 0),m([i.Input()],e.prototype,"igxForScrollOrientation",void 0),m([i.Input()],e.prototype,"igxForScrollContainer",void 0),m([i.Input()],e.prototype,"igxForContainerSize",void 0),m([i.Input()],e.prototype,"igxForItemSize",void 0),m([i.Input()],e.prototype,"igxForTotalItemCount",null),m([i.Output()],e.prototype,"onChunkLoad",void 0),m([i.Output()],e.prototype,"onScrollbarVisibilityChanged",void 0),m([i.Output()],e.prototype,"onContentSizeChange",void 0),m([i.Output()],e.prototype,"onDataChanged",void 0),m([i.Output()],e.prototype,"onBeforeViewDestroyed",void 0),m([i.Output()],e.prototype,"onChunkPreload",void 0),m([i.Input()],e.prototype,"igxForTrackBy",null),e=m([i.Directive({selector:"[igxFor][igxForOf]"})],e)}();function wo(e){return e.name||typeof e}var Io,So=function(e){function t(t,n,o,r,s,a,l,c){var p=e.call(this,t,n,o,r,s,a,l)||this;return p.syncScrollService=l,p.syncService=c,p.onDataChanging=new i.EventEmitter,p}return d(t,e),Object.defineProperty(t.prototype,"igxGridForOf",{get:function(){return this.igxForOf},set:function(e){this.igxForOf=e},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.syncService.setMaster(this),e.prototype.ngOnInit.call(this),this.removeScrollEventListeners()},t.prototype.ngOnChanges=function(e){if(this.syncService.setMaster(this),"igxGridForOf"in e){var t=e.igxGridForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.igxForTrackBy)}catch(e){throw new Error('Cannot find a differ supporting object "'+t+'" of type "'+wo(t)+'".\n                     NgFor only supports binding to Iterables such as Arrays.')}}"igxForItemSize"in e&&!e.igxForItemSize.firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&this.initSizesCache(this.igxForOf);"igxForContainerSize"in e&&!e.igxForContainerSize.firstChange&&this.igxForOf&&this._recalcOnContainerChange(e)},Object.defineProperty(t.prototype,"sizesCache",{get:function(){return this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation)},set:function(e){this._sizesCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsDimension",{get:function(){return"horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height"},enumerable:!0,configurable:!0}),t.prototype.getItemSize=function(e){var t=0,i="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height";return"height"===i?(t=parseInt(this.igxForItemSize,10)||0,e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[i],10)||0,t},t.prototype.initSizesCache=function(e){if(!this.syncService.isMaster(this)){var t=this.syncService.sizesCache(this.igxForScrollOrientation);return t[t.length-1]}var i=0,n=0,o=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);for(var r=this.isRemote?this.totalItemCount:e.length;o<r;o++)n=this.getItemSize(e[o]),"height"===this.itemsDimension&&this.heightCache.push(n),i+=n,this.sizesCache.push(i);return i},t.prototype._updateSizeCache=function(e){var t=this;if(void 0===e&&(e=null),"horizontal"!==this.igxForScrollOrientation){var i=this.heightCache.length>0?this.heightCache.reduce((function(e,t){return e+t})):0,n=i-(e&&!this.isRemote?this.handleCacheChanges(e):this.initSizesCache(this.igxForOf));Math.abs(n)>0&&requestAnimationFrame((function(){t.recalcUpdateSizes();var e=parseInt(t.dc.instance._viewContainer.element.nativeElement.style.top,10);0!==t.scrollPosition?t.scrollPosition=t.sizesCache[t.state.startIndex]-e:t._updateScrollOffset()}))}else this.initSizesCache(this.igxForOf)},t.prototype.handleCacheChanges=function(e){var t=this,i=[],n=[],o=[];o.push(0);var r=0,s=0;return e.forEachRemovedItem((function(){return s++})),e.forEachIdentityChange((function(e){e.currentIndex!==e.previousIndex&&(i[e.currentIndex]=e)})),e.forEachItem((function(e){null!==e.previousIndex&&(s<2||!i.length||i[e.currentIndex])?n[e.currentIndex]=t.heightCache[e.previousIndex]:n[e.currentIndex]=t.getItemSize(e.item),o[e.currentIndex+1]=o[e.currentIndex]+n[e.currentIndex],r+=n[e.currentIndex]})),this.heightCache=n,this.sizesCache=o,r},t.prototype.assumeMaster=function(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)},t.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.igxForOf);if(e){var t={containerSize:this.igxForContainerSize};this.onDataChanging.emit(t),this.igxForOf||(this.igxForOf=[]),this.igxForOf.length||"vertical"!==this.igxForScrollOrientation||this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize,this._updateSizeCache(e),this._applyChanges(),this._updateScrollOffset(),this.onDataChanged.emit()}}},t.prototype.onScroll=function(e){var t=this;if(parseInt(this.scrollComponent.nativeElement.style.height,10)){var i=parseInt(this.igxForContainerSize,10),n=e.target.children[0].scrollHeight-i,o=0!==n?e.target.scrollTop/n:0;if(this._bScrollInternal)this._bScrollInternal=!1;else{var r=this._virtHeight-i;this._virtScrollTop=o*r}var a=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-a+"px",this._zone.onStable.pipe(s.first()).subscribe((function(){t.recalcUpdateSizes()})),this.cdr.markForCheck()}},t.prototype.onHScroll=function(e){if(this.scrollComponent&&parseInt(this.scrollComponent.nativeElement.children[0].style.width,10)){var t=this.fixedUpdateAllElements(e);this.dc.instance._viewContainer.element.nativeElement.style.left=-t+"px"}},t.prototype.addLastElem=function(){var e=this.state.startIndex+this.state.chunkSize;if(this.isRemote||this.igxForOf){e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);var t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new Co(t,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++}},t.prototype._updateViews=function(e){if(this.igxForOf&&this.igxForOf.length&&this.dc){var t=Object.assign([],this._embeddedViews),i=void 0,n=void 0;this.isRemote?(i=0,n=this.igxForOf.length):((i=this.getIndexAt(this.scrollPosition,this.sizesCache,0))+this.state.chunkSize>this.igxForOf.length&&(i=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=i,n=this.state.chunkSize+this.state.startIndex);for(var o=i;o<n&&void 0!==this.igxForOf[o];o++){var r=this.igxForOf[o],s=t.shift().context;s.$implicit=r,s.index=this.getContextIndex(r),s.count=this.igxForOf.length}e!==this.state.chunkSize&&this.onChunkLoad.emit(this.state)}},t.prototype._applyChanges=function(){var e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)},t.prototype._calcMaxChunkSize=function(){return this.syncService.isMaster(this)?e.prototype._calcMaxChunkSize.call(this):this.syncService.chunkSize(this.igxForScrollOrientation)},t.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:i.IterableDiffers},{type:i.ComponentFactoryResolver},{type:i.ChangeDetectorRef},{type:i.NgZone},{type:xo},{type:bo}]},m([i.Input()],t.prototype,"igxGridForOf",null),m([i.Output()],t.prototype,"onDataChanging",void 0),t=m([i.Directive({selector:"[igxGridFor][igxGridForOf]"})],t)}(_o),Eo=function(){function e(){}return e=m([i.NgModule({declarations:[_o,So,ho,mo,fo,go],entryComponents:[ho,mo,fo],exports:[_o,So],imports:[vo,o.CommonModule]})],e)}(),Do=function(e){function t(t,n,o,s){var a=e.call(this,t,n,s)||this;return a.elementRef=t,a.cdr=n,a.selection=o,a._displayDensityOptions=s,a.destroy$=new r.Subject,a.onOpening=new i.EventEmitter,a.onOpened=new i.EventEmitter,a.onClosing=new i.EventEmitter,a.onClosed=new i.EventEmitter,a.allowItemsFocus=!1,a}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"focusedItem",{get:function(){var e=this;return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find((function(t){return t.index===e._focusedItem.index}))||null:this._focusedItem},set:function(e){if(!e)return this.selection.clear(this.id+"-active"),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(this.id+"-active",new Set([this._focusedItem]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(this.id+"-active")),this.selection.clear(this.id+"-active"),this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listId",{get:function(){return this.id+"-list"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){var e=this.selection.first_item(this.id);return e||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.toggleDirective.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.scrollContainerRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionLength",{get:function(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length},enumerable:!0,configurable:!0}),t.prototype.open=function(e){this.toggleDirective.open(e),this.updateScrollPosition()},t.prototype.close=function(){this.toggleDirective.close()},t.prototype.toggle=function(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()},t.prototype.setSelectedItem=function(e){var t;e<0||e>=this.items.length||(t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t))},t.prototype.navigateItem=function(t){var i=this;if(this.virtDir){if(-1===t||t>=this.collectionLength)return;var n=t>(this.focusedItem?this.focusedItem.index:-1)?Ln.Down:Ln.Up,o=this.isIndexOutOfBounds(t,n);this.focusedItem={value:this.virtDir.igxForOf[t],index:t},o&&this.virtDir.scrollTo(t),o?this.virtDir.onChunkLoad.pipe(s.take(1)).subscribe((function(){i.skipHeader(n)})):this.skipHeader(n)}else e.prototype.navigateItem.call(this,t);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())},t.prototype.isIndexOutOfBounds=function(e,t){var i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,o=this.virtDir.getScrollForIndex(e,t===Ln.Down),r=e<i.startIndex||e>i.chunkSize+i.startIndex,s=t===Ln.Down?n<o:n>o;return r||s},t.prototype.skipHeader=function(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===Ln.Up?this.navigatePrev():this.navigateNext())},t.prototype.updateScrollPosition=function(){if(this.virtDir)if(this.selectedItem){var e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getScroll().scrollTop=e}else this.virtDir.scrollTo(0)},t.prototype.onToggleOpening=function(e){this.onOpening.emit(e),e.cancel||this.virtDir&&(this.virtDir.scrollPosition=this._scrollPosition)},t.prototype.onToggleContentAppended=function(){!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem)},t.prototype.onToggleOpened=function(){this.selectedItem?(this.focusedItem=this.selectedItem,this._focusedItem.focused=!0):this.allowItemsFocus&&this.navigateFirst(),this.onOpened.emit()},t.prototype.onToggleClosing=function(e){this.onClosing.emit(e),this.virtDir&&(this._scrollPosition=this.virtDir.scrollPosition)},t.prototype.onToggleClosed=function(){this._focusedItem&&(this._focusedItem.focused=!1),this.onClosed.emit()},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.clear(this.id),this.selection.clear(this.id+"-active")},t.prototype.scrollToItem=function(e){var t=this,i=this.calculateScrollPosition(e);ci()?setTimeout((function(){t.scrollContainer.scrollTop=i}),1):this.scrollContainer.scrollTop=i},t.prototype.calculateScrollPosition=function(e){if(!e)return 0;var t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect().top-t.top,n=this.scrollContainer.scrollTop-i;return n-=this.scrollContainer.clientHeight/2,n+=e.elementHeight/2,Math.floor(n)},t.prototype.ngOnChanges=function(e){e.id&&(this.toggleDirective.id=e.id.currentValue)},t.prototype.ngAfterViewInit=function(){this.virtDir&&(this.virtDir.igxForItemSize=28)},t.prototype.onItemActionKey=function(t,i){e.prototype.onItemActionKey.call(this,t,i),this.close()},t.prototype.navigateFirst=function(){this.virtDir?this.navigateItem(0):e.prototype.navigateFirst.call(this)},t.prototype.navigateLast=function(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):e.prototype.navigateLast.call(this)},t.prototype.navigateNext=function(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):e.prototype.navigateNext.call(this)},t.prototype.navigatePrev=function(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):e.prototype.navigatePrev.call(this)},t.prototype.selectItem=function(e,t){var i=this.selectedItem;if(e||(e=this.focusedItem),null!==e&&!(e instanceof ro&&e.isHeader)){this.virtDir&&(e={value:e.value,index:e.index});var n={oldSelection:i,newSelection:e,cancel:!1};if(this.onSelection.emit(n),!n.cancel){if(!this.isSelectionValid(n.newSelection))throw new Error("Please provide a valid drop-down item for the selection!");this.selection.set(this.id,new Set([n.newSelection])),this.virtDir||(i&&(i.selected=!1),n.newSelection&&(n.newSelection.selected=!0)),t&&this.toggleDirective.close()}}},t.prototype.clearSelection=function(){var e={oldSelection:this.selectedItem,newSelection:null,cancel:!1};this.onSelection.emit(e),this.selectedItem&&!e.cancel&&(this.selectedItem.selected=!1,this.selection.clear(this.id))},t.prototype.isSelectionValid=function(e){return null===e||this.virtDir&&e.hasOwnProperty("value")&&e.hasOwnProperty("index")||e instanceof so&&!e.isHeader},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:eo},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.ContentChild(_o,{read:_o})],t.prototype,"virtDir",void 0),m([i.ViewChild(Yn,{static:!0})],t.prototype,"toggleDirective",void 0),m([i.ViewChild("scrollContainer",{static:!0})],t.prototype,"scrollContainerRef",void 0),m([i.ContentChildren(i.forwardRef((function(){return so})),{descendants:!0})],t.prototype,"children",void 0),m([i.Output()],t.prototype,"onOpening",void 0),m([i.Output()],t.prototype,"onOpened",void 0),m([i.Output()],t.prototype,"onClosing",void 0),m([i.Output()],t.prototype,"onClosed",void 0),m([i.Input()],t.prototype,"allowItemsFocus",void 0),m([i.Input()],t.prototype,"id",null),t=n=m([i.Component({selector:"igx-drop-down",template:'<div class="igx-drop-down__list" igxToggle [style.width]="width"\n(onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()" (onAppended)="onToggleContentAppended()"\n(onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n    <div class="igx-drop-down__list-scroll" #scrollContainer [attr.id]="this.listId" role="listbox"\n    [style.height]="height"\n    [style.maxHeight]="maxHeight">\n        <ng-container *ngIf="!collapsed">\n            <ng-content></ng-content>\n        </ng-container>\n    </div>\n</div>\n',providers:[{provide:Qn,useExisting:n}]}),y(3,i.Optional()),y(3,i.Inject(ao))],t)}(uo),Oo=function(){function e(e){this.dropdown=e,this._target=null}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e||this.dropdown},enumerable:!0,configurable:!0}),e.prototype.handleKeyDown=function(e){if(e){var t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(An.ESCAPE,e);break;case"enter":this.target.onItemActionKey(An.ENTER,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(An.SPACE,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}},e.prototype.onArrowDownKeyDown=function(){this.target.navigateNext()},e.prototype.onArrowUpKeyDown=function(){this.target.navigatePrev()},e.prototype.onEndKeyDown=function(){this.target.navigateLast()},e.prototype.onHomeKeyDown=function(){this.target.navigateFirst()},e.ctorParameters=function(){return[{type:uo,decorators:[{type:i.Self},{type:i.Optional},{type:i.Inject,args:[Qn]}]}]},m([i.Input("igxDropDownItemNavigation")],e.prototype,"target",null),m([i.HostListener("keydown",["$event"])],e.prototype,"handleKeyDown",null),e=m([i.Directive({selector:"[igxDropDownItemNavigation]"}),y(0,i.Self()),y(0,i.Optional()),y(0,i.Inject(Qn))],e)}(),To=function(){function e(){}return e=m([i.NgModule({declarations:[uo,Do,ro,so,io,Oo],exports:[Do,so,io,Oo],imports:[o.CommonModule,Zn]})],e)}();!function(e){e[e.START=0]="START",e[e.END=1]="END"}(Io||(Io={}));var Po,Ro=function(){function e(e){this._element=e,this._position=Io.START,this.isPositionStart=!1,this.isPositionEnd=!1}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position.toString()},set:function(e){var t=Io[e.toUpperCase()];void 0!==t&&(this._position=t,this._applyPosition(this._position))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._applyPosition(this._position)},e.prototype._applyPosition=function(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case Io.START:this.isPositionStart=!0;break;case Io.END:this.isPositionEnd=!0}},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.HostBinding("class.igx-input-group__hint-item--start")],e.prototype,"isPositionStart",void 0),m([i.HostBinding("class.igx-input-group__hint-item--end")],e.prototype,"isPositionEnd",void 0),m([i.Input("position")],e.prototype,"position",null),e=m([i.Directive({selector:"igx-hint,[igxHint]"})],e)}(),ko=function(){},Lo=["required","pattern","minlength","maxlength","min","max","step"];(Po=e.IgxInputState||(e.IgxInputState={}))[Po.INITIAL=0]="INITIAL",Po[Po.VALID=1]="VALID",Po[Po.INVALID=2]="INVALID";var Ao,Mo=function(){function t(t,i,n,o,r){this.inputGroup=t,this.ngModel=i,this.formControl=n,this.element=o,this.cdr=r,this._valid=e.IgxInputState.INITIAL,this.isInput=!1,this.isTextArea=!1}return Object.defineProperty(t.prototype,"ngControl",{get:function(){return this.ngModel?this.ngModel:this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e,this.checkValidity()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.nativeElement.hasAttribute("disabled")},set:function(e){this.nativeElement.disabled=e,this.inputGroup.disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.nativeElement.hasAttribute("required")},set:function(t){"boolean"==typeof t&&(this.nativeElement.required=this.inputGroup.isRequired=t,t&&!this.nativeElement.checkValidity()?this._valid=e.IgxInputState.INVALID:this._valid=e.IgxInputState.INITIAL)},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(e){this.inputGroup.isFocused=!0},t.prototype.onBlur=function(t){this.inputGroup.isFocused=!1,this._valid=e.IgxInputState.INITIAL,this.ngControl?this.ngControl.valid||(this._valid=e.IgxInputState.INVALID):this._hasValidators()&&!this.nativeElement.checkValidity()&&(this._valid=e.IgxInputState.INVALID)},t.prototype.onInput=function(){this.checkValidity()},t.prototype.ngAfterViewInit=function(){if(this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=e.IgxInputState.INITIAL),!this.inputGroup.isRequired&&this.ngControl&&this.ngControl.control.validator){var t=this.ngControl.control.validator({});this.inputGroup.isRequired=t&&t.required}"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this))),this.cdr.detectChanges()},t.prototype.ngOnDestroy=function(){this._statusChanges$&&this._statusChanges$.unsubscribe()},t.prototype.focus=function(){this.nativeElement.focus()},Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),t.prototype.onStatusChanged=function(){(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this.ngControl.control.touched||this.ngControl.control.dirty?this.inputGroup.isFocused?this._valid=this.ngControl.valid?e.IgxInputState.VALID:e.IgxInputState.INVALID:this._valid=this.ngControl.valid?e.IgxInputState.INITIAL:e.IgxInputState.INVALID:this._valid=e.IgxInputState.INITIAL)},Object.defineProperty(t.prototype,"hasPlaceholder",{get:function(){return this.nativeElement.hasAttribute("placeholder")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.nativeElement.placeholder},enumerable:!0,configurable:!0}),t.prototype._hasValidators=function(){var e,t;try{for(var i=v(Lo),n=i.next();!n.done;n=i.next()){var o=n.value;if(this.nativeElement.hasAttribute(o))return!0}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return!(!this.ngControl||!this.ngControl.control.validator&&!this.ngControl.control.asyncValidator)},Object.defineProperty(t.prototype,"focused",{get:function(){return this.inputGroup.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this._valid},set:function(e){this._valid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this.valid!==e.IgxInputState.INVALID},enumerable:!0,configurable:!0}),t.prototype.checkValidity=function(){!this.ngControl&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?e.IgxInputState.VALID:e.IgxInputState.INVALID)},t.ctorParameters=function(){return[{type:ko},{type:n.NgModel,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[n.NgModel]}]},{type:n.FormControlName,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[n.FormControlName]}]},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.Input("value")],t.prototype,"value",null),m([i.Input()],t.prototype,"disabled",null),m([i.Input()],t.prototype,"required",null),m([i.HostBinding("class.igx-input-group__input")],t.prototype,"isInput",void 0),m([i.HostBinding("class.igx-input-group__textarea")],t.prototype,"isTextArea",void 0),m([i.HostListener("focus",["$event"])],t.prototype,"onFocus",null),m([i.HostListener("blur",["$event"])],t.prototype,"onBlur",null),m([i.HostListener("input")],t.prototype,"onInput",null),t=m([i.Directive({selector:"[igxInput]",exportAs:"igxInput"}),y(1,i.Optional()),y(1,i.Self()),y(1,i.Inject(n.NgModel)),y(2,i.Optional()),y(2,i.Self()),y(2,i.Inject(n.FormControlName))],t)}(),Vo=0,Fo=function(){function e(){this.defaultClass=!0,this.id="igx-label-"+Vo++}return m([i.HostBinding("class.igx-input-group__label")],e.prototype,"defaultClass",void 0),m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),e=m([i.Directive({selector:"[igxLabel]"})],e)}(),Ho=function(){function e(){}return e=m([i.Directive({selector:"igx-prefix,[igxPrefix]"})],e)}(),Bo=function(){function e(){}return e=m([i.NgModule({declarations:[Ho],exports:[Ho]})],e)}(),jo=function(){function e(){}return e=m([i.Directive({selector:"igx-suffix,[igxSuffix]"})],e)}(),No=function(){function e(){}return e=m([i.NgModule({declarations:[jo],exports:[jo]})],e)}(),Go=0;!function(e){e[e.LINE=0]="LINE",e[e.BOX=1]="BOX",e[e.BORDER=2]="BORDER",e[e.FLUENT=3]="FLUENT",e[e.BOOTSTRAP=4]="BOOTSTRAP",e[e.SEARCH=5]="SEARCH",e[e.FLUENT_SEARCH=6]="FLUENT_SEARCH"}(Ao||(Ao={}));var zo,Wo=function(t){function n(e,i){var n=t.call(this,i)||this;return n._element=e,n._displayDensityOptions=i,n._type=Ao.LINE,n._filled=!1,n._supressInputAutofocus=!1,n.id="igx-input-group-"+Go++,n.defaultClass=!0,n.hasPlaceholder=!1,n.isRequired=!1,n.isFocused=!1,n.isBox=!1,n.isBorder=!1,n.isSearch=!1,n.isFluentSearch=!1,n.isFluent=!1,n.isBootstrap=!1,n.disabled=!1,n.hasWarning=!1,n.element=e,n}var o;return d(n,t),o=n,Object.defineProperty(n.prototype,"validClass",{get:function(){return this.input.valid===e.IgxInputState.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"invalidClass",{get:function(){return this.input.valid===e.IgxInputState.INVALID},enumerable:!0,configurable:!0}),n.prototype.onClick=function(e){this._supressInputAutofocus||this.input.focus()},Object.defineProperty(n.prototype,"type",{get:function(){return this._type.toString()},set:function(e){var t=Ao[e.toUpperCase()];if(void 0!==t){switch(this.isBox=this.isBootstrap=this.isFluent=this.isFluentSearch=this.isBorder=this.isSearch=!1,t){case Ao.BOX:this.isBox=!0;break;case Ao.BORDER:this.isBorder=!0;break;case Ao.FLUENT:this.isFluent=!0;break;case Ao.FLUENT_SEARCH:this.isFluentSearch=!0;break;case Ao.SEARCH:this.isSearch=!0;break;case Ao.BOOTSTRAP:this.isBootstrap=!0}this._type=t}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"supressInputAutofocus",{get:function(){return this._supressInputAutofocus},set:function(e){this._supressInputAutofocus=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFilled",{get:function(){return this._filled||this.input&&this.input.value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisplayDensityCosy",{get:function(){return this.displayDensity===e.DisplayDensity.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisplayDensityComfortable",{get:function(){return this.displayDensity===e.DisplayDensity.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisplayDensityCompact",{get:function(){return this.displayDensity===e.DisplayDensity.compact},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasHints",{get:function(){return this.hints.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasBorder",{get:function(){return this._type===Ao.LINE||this._type===Ao.BOX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeLine",{get:function(){return this._type===Ao.LINE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeBox",{get:function(){return this._type===Ao.BOX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeBorder",{get:function(){return this._type===Ao.BORDER},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeFluent",{get:function(){return this._type===Ao.FLUENT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeBootstrap",{get:function(){return this._type===Ao.BOOTSTRAP},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isNotMaterial",{get:function(){return this._type===Ao.FLUENT||this._type===Ao.BOOTSTRAP},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeSearch",{get:function(){return this._type===Ao.SEARCH},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTypeFluentSearch",{get:function(){return this._type===Ao.FLUENT_SEARCH},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",void 0),m([i.HostBinding("class.igx-input-group")],n.prototype,"defaultClass",void 0),m([i.HostBinding("class.igx-input-group--placeholder")],n.prototype,"hasPlaceholder",void 0),m([i.HostBinding("class.igx-input-group--required")],n.prototype,"isRequired",void 0),m([i.HostBinding("class.igx-input-group--focused")],n.prototype,"isFocused",void 0),m([i.HostBinding("class.igx-input-group--box")],n.prototype,"isBox",void 0),m([i.HostBinding("class.igx-input-group--border")],n.prototype,"isBorder",void 0),m([i.HostBinding("class.igx-input-group--search")],n.prototype,"isSearch",void 0),m([i.HostBinding("class.igx-input-group--fluent-search")],n.prototype,"isFluentSearch",void 0),m([i.HostBinding("class.igx-input-group--fluent")],n.prototype,"isFluent",void 0),m([i.HostBinding("class.igx-input-group--bootstrap")],n.prototype,"isBootstrap",void 0),m([i.HostBinding("class.igx-input-group--disabled"),i.Input()],n.prototype,"disabled",void 0),m([i.HostBinding("class.igx-input-group--valid")],n.prototype,"validClass",null),m([i.HostBinding("class.igx-input-group--invalid")],n.prototype,"invalidClass",null),m([i.HostBinding("class.igx-input-group--warning")],n.prototype,"hasWarning",void 0),m([i.ContentChildren(Ro,{read:Ro})],n.prototype,"hints",void 0),m([i.ContentChild(Mo,{read:Mo,static:!0})],n.prototype,"input",void 0),m([i.HostListener("click",["$event"])],n.prototype,"onClick",null),m([i.Input("type")],n.prototype,"type",null),m([i.Input()],n.prototype,"supressInputAutofocus",null),m([i.HostBinding("class.igx-input-group--filled")],n.prototype,"isFilled",null),m([i.HostBinding("class.igx-input-group--cosy")],n.prototype,"isDisplayDensityCosy",null),m([i.HostBinding("class.igx-input-group--comfortable")],n.prototype,"isDisplayDensityComfortable",null),m([i.HostBinding("class.igx-input-group--compact")],n.prototype,"isDisplayDensityCompact",null),n=o=m([i.Component({selector:"igx-input-group",template:'<div class="igx-input-group__wrapper" *ngIf="isTypeBox; else bundle">\n    <ng-container *ngTemplateOutlet="bundle"></ng-container>\n</div>\n\n<div class="igx-input-group__hint">\n    <ng-content select="igx-hint,[igxHint]"></ng-content>\n</div>\n\n<ng-template #label>\n    <ng-content select="[igxLabel]"></ng-content>\n</ng-template>\n\n<ng-template #input>\n    <ng-content select="[igxInput]"></ng-content>\n</ng-template>\n\n<ng-template #inputBundle>\n    <ng-container *ngIf="!isNotMaterial">\n        <ng-container *ngTemplateOutlet="label"></ng-container>\n    </ng-container>\n\n    <ng-container *ngTemplateOutlet="input"></ng-container>\n</ng-template>\n\n<ng-template #bundle>\n    <ng-container *ngIf="isNotMaterial">\n        <ng-container *ngTemplateOutlet="label"></ng-container>\n    </ng-container>\n\n    <div class="igx-input-group__bundle">\n        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n\n        <div *ngIf="!isTypeBootstrap; else inputBundle" class="igx-input-group__bundle-main">\n\n            <ng-container *ngIf="!isNotMaterial">\n                <ng-container *ngTemplateOutlet="label"></ng-container>\n            </ng-container>\n\n            <ng-container *ngTemplateOutlet="input"></ng-container>\n        </div>\n\n        <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n    </div>\n    <div class="igx-input-group__border" *ngIf="hasBorder"></div>\n</ng-template>\n',providers:[{provide:ko,useExisting:o}]}),y(1,i.Optional()),y(1,i.Inject(ao))],n)}(lo),Uo=function(){function e(){}return e=m([i.NgModule({declarations:[Wo,Ro,Mo,Fo],exports:[Wo,Ro,Mo,Fo,Bo,No],imports:[o.CommonModule,Bo,No]})],e)}(),$o=function(e){function t(t,n,o,s,a){var l=e.call(this,null)||this;return l.ngModel=t,l.formControl=n,l.group=o,l.elementRef=s,l.cdr=a,l.defaultSettings={modal:!1,scrollStrategy:new Gn,positionStrategy:new jn({target:l.parentElement}),excludePositionTarget:!0},l.dropDownOpened$=new r.Subject,l.disabled=!1,l.onItemSelected=new i.EventEmitter,l.autofill="off",l.role="combobox",l.select=function(e){if(e.newSelection){e.cancel=!0;var t=e.newSelection.value,i={value:t,cancel:!1};l.onItemSelected.emit(i),i.cancel||(l.close(),l.nativeElement.focus(),l.model?l.model.control.setValue(t):l.nativeElement.value=t)}},l.highlightFirstItem=function(){l.target.focusedItem&&(l.target.focusedItem.focused=!1,l.target.focusedItem=null),l.target.navigateFirst(),l.cdr.detectChanges()},l}return d(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.ngModel||this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.group?this.group.element.nativeElement:this.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){var e=Object.assign({},this.defaultSettings,this.autocompleteSettings);if(!e.positionStrategy.settings.target){var t=e.positionStrategy.clone();t.settings.target=this.parentElement,e.positionStrategy=t}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaExpanded",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPopUp",{get:function(){return"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaOwns",{get:function(){return this.target.listId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaActiveDescendant",{get:function(){return!this.target.collapsed&&this.target.focusedItem?this.target.focusedItem.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaAutocomplete",{get:function(){return"list"},enumerable:!0,configurable:!0}),t.prototype.onInput=function(){this.open()},t.prototype.onArrowDown=function(e){e.preventDefault(),this.open()},t.prototype.onTab=function(){this.close()},t.prototype.handleKeyDown=function(t){if(!this.collapsed)switch(t.key.toLowerCase()){case"space":case"spacebar":case" ":case"home":case"end":return;default:e.prototype.handleKeyDown.call(this,t)}},t.prototype.onArrowDownKeyDown=function(){e.prototype.onArrowDownKeyDown.call(this)},t.prototype.onArrowUpKeyDown=function(){e.prototype.onArrowUpKeyDown.call(this)},t.prototype.onEndKeyDown=function(){e.prototype.onEndKeyDown.call(this)},t.prototype.onHomeKeyDown=function(){e.prototype.onHomeKeyDown.call(this)},t.prototype.close=function(){this.collapsed||(this.target.close(),this.dropDownOpened$.next())},t.prototype.open=function(){!this.disabled&&this.collapsed&&(this.target.width=this.target.width||this.parentElement.clientWidth+"px",this.target.open(this.settings),this.target.onSelection.pipe(s.takeUntil(this.dropDownOpened$)).subscribe(this.select),this.target.onOpened.pipe(s.first()).subscribe(this.highlightFirstItem),this.target.children.changes.pipe(s.takeUntil(this.dropDownOpened$)).subscribe(this.highlightFirstItem))},Object.defineProperty(t.prototype,"collapsed",{get:function(){return!this.target||this.target.collapsed},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.dropDownOpened$.complete()},t.ctorParameters=function(){return[{type:n.NgModel,decorators:[{type:i.Self},{type:i.Optional},{type:i.Inject,args:[n.NgModel]}]},{type:n.FormControlName,decorators:[{type:i.Self},{type:i.Optional},{type:i.Inject,args:[n.FormControlName]}]},{type:Wo,decorators:[{type:i.Optional}]},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.Input("igxAutocomplete")],t.prototype,"target",void 0),m([i.Input("igxAutocompleteDisabled")],t.prototype,"disabled",void 0),m([i.Input("igxAutocompleteSettings")],t.prototype,"autocompleteSettings",void 0),m([i.Output()],t.prototype,"onItemSelected",void 0),m([i.HostBinding("attr.autocomplete")],t.prototype,"autofill",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("attr.aria-expanded")],t.prototype,"ariaExpanded",null),m([i.HostBinding("attr.aria-haspopup")],t.prototype,"hasPopUp",null),m([i.HostBinding("attr.aria-owns")],t.prototype,"ariaOwns",null),m([i.HostBinding("attr.aria-activedescendant")],t.prototype,"ariaActiveDescendant",null),m([i.HostBinding("attr.aria-autocomplete")],t.prototype,"ariaAutocomplete",null),m([i.HostListener("input")],t.prototype,"onInput",null),m([i.HostListener("keydown.ArrowDown",["$event"]),i.HostListener("keydown.Alt.ArrowDown",["$event"]),i.HostListener("keydown.ArrowUp",["$event"]),i.HostListener("keydown.Alt.ArrowUp",["$event"])],t.prototype,"onArrowDown",null),m([i.HostListener("keydown.Tab"),i.HostListener("keydown.Shift.Tab")],t.prototype,"onTab",null),t=m([i.Directive({selector:"[igxAutocomplete]"}),y(0,i.Self()),y(0,i.Optional()),y(0,i.Inject(n.NgModel)),y(1,i.Self()),y(1,i.Optional()),y(1,i.Inject(n.FormControlName)),y(2,i.Optional())],t)}(Oo),Ko=function(){function e(){}return e=m([i.NgModule({imports:[To,o.CommonModule],declarations:[$o],exports:[$o]})],e)}(),Yo=function(t){function n(e,n,o){var r=t.call(this,o)||this;return r.element=e,r._renderer=n,r._displayDensityOptions=o,r._defaultType="flat",r._cssClassPrefix="igx-button",r.buttonClick=new i.EventEmitter,r.role="button",r.selected=!1,r}return d(n,t),Object.defineProperty(n.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"type",{set:function(e){var t=e||this._defaultType;this._type!==t&&(this._renderer.removeClass(this.nativeElement,this._cssClassPrefix+"--"+this._type),this._type=t,this._renderer.addClass(this.nativeElement,this._cssClassPrefix+"--"+this._type))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"color",{set:function(e){this._color=e||this.nativeElement.style.color,this._renderer.setStyle(this.nativeElement,"color",this._color)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"background",{set:function(e){this._backgroundColor=e||this._backgroundColor,this._renderer.setStyle(this.nativeElement,"background",this._backgroundColor)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{set:function(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{set:function(e){e=!!e,this._disabled=e,e?this._renderer.addClass(this.nativeElement,this._cssClassPrefix+"--disabled"):this._renderer.removeClass(this.nativeElement,this._cssClassPrefix+"--disabled")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassCosy",{get:function(){return("flat"===this._type||"raised"===this._type||"outlined"===this._type)&&this.displayDensity===e.DisplayDensity.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassCompact",{get:function(){return("flat"===this._type||"raised"===this._type||"outlined"===this._type)&&this.displayDensity===e.DisplayDensity.compact},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassCosyFab",{get:function(){return"fab"===this._type&&this.displayDensity===e.DisplayDensity.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassCompactFab",{get:function(){return"fab"===this._type&&this.displayDensity===e.DisplayDensity.compact},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabledAttribute",{get:function(){return this._disabled?this._disabled:null},enumerable:!0,configurable:!0}),n.prototype.onClick=function(e){this.buttonClick.emit(e)},n.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.Output()],n.prototype,"buttonClick",void 0),m([i.HostBinding("attr.role")],n.prototype,"role",void 0),m([i.Input("igxButton")],n.prototype,"type",null),m([i.Input("igxButtonColor")],n.prototype,"color",null),m([i.Input("igxButtonBackground")],n.prototype,"background",null),m([i.Input("igxLabel")],n.prototype,"label",null),m([i.Input()],n.prototype,"disabled",null),m([i.HostBinding("class.igx-button--cosy")],n.prototype,"cssClassCosy",null),m([i.HostBinding("class.igx-button--compact")],n.prototype,"cssClassCompact",null),m([i.HostBinding("class.igx-button--fab-cosy")],n.prototype,"cssClassCosyFab",null),m([i.HostBinding("class.igx-button--fab-compact")],n.prototype,"cssClassCompactFab",null),m([i.HostBinding("attr.disabled")],n.prototype,"disabledAttribute",null),m([i.Input()],n.prototype,"selected",void 0),m([i.HostListener("click",["$event"])],n.prototype,"onClick",null),n=m([i.Directive({selector:"[igxButton]"}),y(2,i.Optional()),y(2,i.Inject(ao))],n)}(lo),Xo=function(){function e(){}return e=m([i.NgModule({declarations:[Yo],exports:[Yo]})],e)}();(zo=e.IgxDividerType||(e.IgxDividerType={})).SOLID="solid",zo.DASHED="dashed";var qo,Zo=0,Jo=function(){function t(){this.id="igx-divider-"+Zo++,this._inset="0",this.role="separator",this.type=e.IgxDividerType.SOLID,this.middle=!1,this.vertical=!1}return Object.defineProperty(t.prototype,"isDashed",{get:function(){return this.type===e.IgxDividerType.DASHED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSolid",{get:function(){return this.type===e.IgxDividerType.SOLID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inset",{get:function(){return this.middle?this.vertical?this._inset+" 0":"0 "+this._inset:this.vertical?this._inset+" 0 0 0":"0 0 0 "+this._inset},set:function(e){this._inset=e},enumerable:!0,configurable:!0}),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input("inset")],t.prototype,"_inset",void 0),m([i.HostBinding("attr.role"),i.Input()],t.prototype,"role",void 0),m([i.HostBinding("class.igx-divider"),i.Input()],t.prototype,"type",void 0),m([i.HostBinding("class.igx-divider--dashed")],t.prototype,"isDashed",null),m([i.HostBinding("class.igx-divider--inset"),i.Input()],t.prototype,"middle",void 0),m([i.HostBinding("class.igx-divider--vertical"),i.Input()],t.prototype,"vertical",void 0),m([i.HostBinding("style.margin")],t.prototype,"inset",null),t=m([i.Directive({selector:"igx-divider"})],t)}(),Qo=function(){function e(){}return e=m([i.NgModule({declarations:[Jo],exports:[Jo]})],e)}(),er=function(){function e(){}return e.prototype.dropAction=function(e,t,i){},e}(),tr=function(){function e(e){this._renderer=e}return e.prototype.dropAction=function(e,t,i){var n=e.element.nativeElement,o=t.element.nativeElement;this._renderer.removeChild(n.parentNode,n),this._renderer.appendChild(o,n)},e}(),ir=function(){function e(e){this._renderer=e}return e.prototype.dropAction=function(e,t,i){var n=e.element.nativeElement,o=t.element.nativeElement;this._renderer.removeChild(n.parentNode,n),o.children.length?this._renderer.insertBefore(o,n,o.children[0]):this._renderer.appendChild(o,n)},e}(),nr=function(){function e(e){this._renderer=e}return e.prototype.dropAction=function(e,t,i){if(e.element.nativeElement.parentElement!==t.element.nativeElement||-1!==i){var n=e.element.nativeElement,o=t.element.nativeElement;this._renderer.removeChild(n.parentNode,n),-1!==i&&o.children.length>i?this._renderer.insertBefore(o,n,o.children[i]):this._renderer.appendChild(o,n)}},e}(),or=function(){function e(e){this.element=e,this.baseClass=!0}return e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.HostBinding("class.igx-drag__handle")],e.prototype,"baseClass",void 0),e=m([i.Directive({selector:"[igxDragHandle]"})],e)}();(qo=e.RestrictDrag||(e.RestrictDrag={}))[qo.VERTICALLY=0]="VERTICALLY",qo[qo.HORIZONTALLY=1]="HORIZONTALLY",qo[qo.NONE=2]="NONE";var rr,sr=function(e,t){this._pageX=e,this._pageY=t,this.pageX=parseFloat(e),this.pageY=parseFloat(t)},ar=function(){function e(e,t,n,o,s){this.cdr=e,this.element=t,this.viewContainer=n,this.zone=o,this.renderer=s,this.ghostContext=null,this.dragTolerance=5,this.ghost=!0,this.ghostClass="",this.hideBaseOnDrag=!1,this.animateOnRelease=!1,this.dragStart=new i.EventEmitter,this.dragMove=new i.EventEmitter,this.dragEnd=new i.EventEmitter,this.dragClick=new i.EventEmitter,this.ghostCreate=new i.EventEmitter,this.ghostDestroy=new i.EventEmitter,this.transitioned=new i.EventEmitter,this._visibility="visible",this.baseClass=!0,this.selectDisabled=!1,this.defaultReturnDuration="0.5s",this.animInProgress=!1,this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._dragStarted=!1,this._ghostHostX=0,this._ghostHostY=0,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new r.Subject,this._removeOnDestroy=!0}return Object.defineProperty(e.prototype,"ghostOffsetX",{get:function(){return void 0!==this._offsetX?this._offsetX:this._defaultOffsetX},set:function(e){this._offsetX=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ghostOffsetY",{get:function(){return void 0!==this._offsetY?this._offsetY:this._defaultOffsetY},set:function(e){this._offsetY=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return"visible"===this._visibility},set:function(e){this._visibility=e?"visible":"hidden",this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return new sr(this.pageX,this.pageY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originLocation",{get:function(){return new sr(this.baseOriginLeft,this.baseOriginTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerEventsEnabled",{get:function(){return"undefined"!=typeof PointerEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchEventsEnabled",{get:function(){return"ontouchstart"in window},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageX",{get:function(){return this.ghost&&this.ghostElement?this.ghostLeft:this.baseLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageY",{get:function(){return this.ghost&&this.ghostElement?this.ghostTop:this.baseTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseLeft",{get:function(){return this.element.nativeElement.getBoundingClientRect().left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseTop",{get:function(){return this.element.nativeElement.getBoundingClientRect().top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseOriginLeft",{get:function(){return this.baseLeft-this.getTransformX(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseOriginTop",{get:function(){return this.baseTop-this.getTransformY(this.element.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ghostLeft",{get:function(){return parseInt(this.ghostElement.style.left,10)+this._ghostHostX},set:function(e){if(this.ghostElement){var t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10);this.ghostElement.style.left=e-t-this._ghostHostX+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ghostTop",{get:function(){return parseInt(this.ghostElement.style.top,10)+this._ghostHostY},set:function(e){if(this.ghostElement){var t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.top=e-t-this._ghostHostY+"px"}},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.dragHandles&&this.dragHandles.length||(this.selectDisabled=!0),this.zone.runOutsideAngular((function(){(e.dragHandles&&e.dragHandles.length?e.dragHandles.map((function(e){return e.element.nativeElement})):[e.element.nativeElement]).forEach((function(t){e.pointerEventsEnabled?(r.fromEvent(t,"pointerdown").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerDown(t)})),r.fromEvent(t,"pointermove").pipe(s.throttle((function(){return r.interval(0,r.animationFrameScheduler)})),s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerMove(t)})),r.fromEvent(t,"pointerup").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerUp(t)})),e.ghost||r.fromEvent(t,"lostpointercapture").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerLost(t)}))):e.touchEventsEnabled?r.fromEvent(t,"touchstart").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerDown(t)})):r.fromEvent(t,"mousedown").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerDown(t)}))})),!e.pointerEventsEnabled&&e.touchEventsEnabled?(r.fromEvent(document.defaultView,"touchmove").pipe(s.throttle((function(){return r.interval(0,r.animationFrameScheduler)})),s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerMove(t)})),r.fromEvent(document.defaultView,"touchend").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerUp(t)}))):e.pointerEventsEnabled||(r.fromEvent(document.defaultView,"mousemove").pipe(s.throttle((function(){return r.interval(0,r.animationFrameScheduler)})),s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerMove(t)})),r.fromEvent(document.defaultView,"mouseup").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onPointerUp(t)}))),e.element.nativeElement.addEventListener("transitionend",(function(t){e.onTransitionEnd(t)}))})),this.element.nativeElement.style.transitionDuration="0.0s"},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete(),this.ghost&&this.ghostElement&&this._removeOnDestroy&&(this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null)},e.prototype.setLocation=function(e){if(this.ghost&&this.ghostElement){var t=this.ghostHost?this.ghostHostOffsetLeft(this.ghostHost):0,i=this.ghostHost?this.ghostHostOffsetTop(this.ghostHost):0;this.ghostLeft=e.pageX-t+this.getWindowScrollLeft(),this.ghostTop=e.pageY-i+this.getWindowScrollTop()}else if(!this.ghost){var n=e.pageX-this.pageX,o=e.pageY-this.pageY,r=this.getTransformX(this.element.nativeElement),s=this.getTransformY(this.element.nativeElement);this.setTransformXY(r+n,s+o)}this._startX=this.baseLeft,this._startY=this.baseTop},e.prototype.transitionToOrigin=function(e,t){var i=this;t&&t.pageX===this.baseOriginLeft&&t.pageY===this.baseOriginLeft||!t&&this.ghost&&!this.ghostElement||(t&&t.pageX!==this.pageX&&t.pageY!==this.pageY&&(this.ghost&&!this.ghostElement&&(this._startX=t.pageX,this._startY=t.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY,this.createGhost(this._startX,this._startY)),this.setLocation(t)),this.animInProgress=!0,setTimeout((function(){i.ghost?(i.ghostElement.style.transitionProperty="top, left",i.ghostElement.style.transitionDuration=e&&e.duration?e.duration+"s":i.defaultReturnDuration,i.ghostElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",i.ghostElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",i.setLocation(new sr(i.baseLeft,i.baseTop))):i.ghost||(i.element.nativeElement.style.transitionProperty="transform",i.element.nativeElement.style.transitionDuration=e&&e.duration?e.duration+"s":i.defaultReturnDuration,i.element.nativeElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",i.element.nativeElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",i._startX=i.baseLeft,i._startY=i.baseTop,i.setTransformXY(0,0))}),0))},e.prototype.transitionTo=function(e,t,i){var n=this;i&&this.ghost&&!this.ghostElement?(this._startX=i.pageX,this._startY=i.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY):!i||this.ghost&&!this.ghostElement?this.ghost&&!this.ghostElement&&(this._startX=this.baseLeft,this._startY=this.baseTop,this._ghostStartX=this._startX+this.getWindowScrollLeft(),this._ghostStartY=this._startY+this.getWindowScrollTop()):this.setLocation(i),this.ghost&&!this.ghostElement&&this.createGhost(this._startX,this._startY),this.animInProgress=!0,setTimeout((function(){var i=n.ghost?n.ghostElement:n.element.nativeElement;if(i.style.transitionProperty=n.ghost&&n.ghostElement?"left, top":"transform",i.style.transitionDuration=t&&t.duration?t.duration+"s":n.defaultReturnDuration,i.style.transitionTimingFunction=t&&t.timingFunction?t.timingFunction:"",i.style.transitionDelay=t&&t.delay?t.delay+"s":"",e instanceof sr)n.setLocation(new sr(e.pageX,e.pageY));else{var o=e.nativeElement.getBoundingClientRect();n.setLocation(new sr(o.left-n.getWindowScrollLeft(),o.top-n.getWindowScrollTop()))}}),0)},e.prototype.onPointerDown=function(e){this._clicked=!0,this._pointerDownId=e.pointerId;var t=this.dragHandles.find((function(t){return t.element.nativeElement===e.currentTarget})),i=t?t.element.nativeElement:this.element.nativeElement;this.pointerEventsEnabled?i.setPointerCapture(this._pointerDownId):(i.focus(),e.preventDefault()),this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY),this._defaultOffsetX=this.baseLeft-this._startX+this.getWindowScrollLeft(),this._defaultOffsetY=this.baseTop-this._startY+this.getWindowScrollTop(),this._ghostStartX=this._startX+this.ghostOffsetX,this._ghostStartY=this._startY+this.ghostOffsetY,this._lastX=this._startX,this._lastY=this._startY},e.prototype.onPointerMove=function(e){var t=this;if(this._clicked){var i=void 0,n=void 0;this.pointerEventsEnabled||!this.touchEventsEnabled?(i=e.pageX,n=e.pageY):this.touchEventsEnabled&&(i=e.touches[0].pageX,n=e.touches[0].pageY,e.preventDefault());var o=i-this._startX,r=n-this._startY;if(!this._dragStarted&&(Math.abs(o)>this.dragTolerance||Math.abs(r)>this.dragTolerance)){var s={originalEvent:e,owner:this,startX:i-o,startY:n-r,pageX:i,pageY:n,cancel:!1};if(this.zone.run((function(){t.dragStart.emit(s)})),s.cancel)return;if(this._dragStarted=!0,this.ghost)this.createGhost(i,n);else if(void 0!==this._offsetX||void 0!==this._offsetY){var a=(void 0!==this._offsetX?this._offsetX-this._defaultOffsetX:0)+this.getTransformX(this.element.nativeElement),l=(void 0!==this._offsetY?this._offsetY-this._defaultOffsetY:0)+this.getTransformY(this.element.nativeElement);this.setTransformXY(a,l)}}else if(!this._dragStarted)return;var c={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._lastX,pageY:this._lastY,nextPageX:i,nextPageY:n,cancel:!1};this.dragMove.emit(c);var p=c.nextPageX,d=c.nextPageY,u=p-this._startX,h=d-this._startY;if(!c.cancel){if(this.ghost)this.ghostLeft=this._ghostStartX+u,this.ghostTop=this._ghostStartY+h;else{var g=p-this._lastX,f=d-this._lastY,m=this.getTransformX(this.element.nativeElement)+g,y=this.getTransformY(this.element.nativeElement)+f;this.setTransformXY(m,y)}this.dispatchDragEvents(i,n,e)}this._lastX=p,this._lastY=d}},e.prototype.onPointerUp=function(e){var t=this;if(this._clicked){var i,n;this.pointerEventsEnabled||!this.touchEventsEnabled?(i=e.pageX,n=e.pageY):this.touchEventsEnabled&&(i=e.touches[0].pageX,n=e.touches[0].pageY,e.preventDefault());var o={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:i,pageY:n};this._pointerDownId=null,this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement?this.dispatchDropEvent(e.pageX,e.pageY,e):this.animateOnRelease&&this.transitionToOrigin(),this.zone.run((function(){t.dragEnd.emit(o)})),this.animInProgress||this.onTransitionEnd(null)):this.zone.run((function(){t.dragClick.emit(o)}))}},e.prototype.onPointerLost=function(e){var t=this;if(this._clicked){var i={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:e.pageX,pageY:e.pageY};this._pointerDownId=null,this._clicked=!1,this._dragStarted&&(this.zone.run((function(){t.dragEnd.emit(i)})),this.animateOnRelease?this.transitionToOrigin():this.animInProgress||this.onTransitionEnd(null))}},e.prototype.createGhost=function(e,t,i){var n=this;if(void 0===i&&(i=null),this.ghost){var o;this.ghostTemplate?(o=this.viewContainer.createEmbeddedView(this.ghostTemplate,this.ghostContext),this.ghostElement=o.rootNodes[0]):this.ghostElement=i?i.cloneNode(!0):this.element.nativeElement.cloneNode(!0);var r=e-this._startX,s=t-this._startY;this._ghostHostX=this.ghostHost?this.ghostHostOffsetLeft(this.ghostHost):0,this._ghostHostY=this.ghostHost?this.ghostHostOffsetTop(this.ghostHost):0,this.ghostElement.style.transitionDuration="0.0s",this.ghostElement.style.position="absolute",this.ghostClass&&this.renderer.addClass(this.ghostElement,this.ghostClass);var a={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostCreate.emit(a),a.cancel)return this.ghostElement=null,void(this.ghostTemplate&&o&&o.destroy());this.ghostHost?this.ghostHost.appendChild(this.ghostElement):document.body.appendChild(this.ghostElement);var l=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10),c=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.left=this._ghostStartX-l+r-this._ghostHostX+"px",this.ghostElement.style.top=this._ghostStartY-c+s-this._ghostHostX+"px",this.pointerEventsEnabled&&(null!==this._pointerDownId&&this.ghostElement.setPointerCapture(this._pointerDownId),this.ghostElement.addEventListener("pointermove",(function(e){n.onPointerMove(e)})),this.ghostElement.addEventListener("pointerup",(function(e){n.onPointerUp(e)})),this.ghostElement.addEventListener("lostpointercapture",(function(e){n.onPointerLost(e)}))),this.ghostElement.addEventListener("transitionend",(function(e){n.onTransitionEnd(e)})),this.hideBaseOnDrag&&(this.visible=!1),this.cdr.detectChanges()}},e.prototype.dispatchDragEvents=function(e,t,i){for(var n,o={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i},r=this.getElementsAtPoint(e,t),s=0;s<r.length;s++)if("true"===r[s].getAttribute("droppable")&&r[s]!==this.ghostElement&&r[s]!==this.element.nativeElement){n=r[s];break}if(n&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==n))this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",o),this._lastDropArea=n,this.dispatchEvent(this._lastDropArea,"igxDragEnter",o);else if(!n&&this._lastDropArea)return this.dispatchEvent(this._lastDropArea,"igxDragLeave",o),void(this._lastDropArea=null);n&&this.dispatchEvent(n,"igxDragOver",o)},e.prototype.dispatchDropEvent=function(e,t,i){var n={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i};this.dispatchEvent(this._lastDropArea,"igxDrop",n),this.dispatchEvent(this._lastDropArea,"igxDragLeave",n),this._lastDropArea=null},e.prototype.onTransitionEnd=function(e){var t=this;if((this._dragStarted||this.animInProgress)&&!this._clicked){if(this.ghost&&this.ghostElement){this._ghostStartX=this.baseLeft+this.getWindowScrollLeft(),this._ghostStartY=this.baseTop+this.getWindowScrollTop();var i={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostDestroy.emit(i),i.cancel)return;this.hideBaseOnDrag&&(this.visible=!0),this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null}else this.ghost||(this.element.nativeElement.style.transitionProperty="",this.element.nativeElement.style.transitionDuration="0.0s",this.element.nativeElement.style.transitionTimingFunction="",this.element.nativeElement.style.transitionDelay="");this.animInProgress=!1,this._dragStarted=!1,this.zone.run((function(){t.transitioned.emit({originalEvent:e,owner:t,startX:t._startX,startY:t._startY,pageX:t._startX,pageY:t._startY})}))}},e.prototype.getElementsAtPoint=function(e,t){var i=e-window.pageXOffset,n=t-window.pageYOffset;if(document.msElementsFromPoint){var o=document.msElementsFromPoint(i,n);return null===o?[]:o}return document.elementsFromPoint(i,n)},e.prototype.dispatchEvent=function(e,t,i){var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!1,!1,i),e.dispatchEvent(n)},e.prototype.getTransformX=function(e){var t=0;if(e.style.transform){var i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[1]):0}return t},e.prototype.getTransformY=function(e){var t=0;if(e.style.transform){var i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[2]):0}return t},e.prototype.setTransformXY=function(e,t){this.element.nativeElement.style.transform="translate3d("+e+"px, "+t+"px, 0px)"},e.prototype.getWindowScrollTop=function(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0},e.prototype.getWindowScrollLeft=function(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0},e.prototype.ghostHostOffsetLeft=function(e){var t=document.defaultView.getComputedStyle(e).getPropertyValue("position");return"static"===t&&e.offsetParent&&e.offsetParent===document.body?0:"static"===t&&e.offsetParent?e.offsetParent.getBoundingClientRect().left-this.getWindowScrollLeft():e.getBoundingClientRect().left-this.getWindowScrollLeft()},e.prototype.ghostHostOffsetTop=function(e){var t=document.defaultView.getComputedStyle(e).getPropertyValue("position");return"static"===t&&e.offsetParent&&e.offsetParent===document.body?0:"static"===t&&e.offsetParent?e.offsetParent.getBoundingClientRect().top-this.getWindowScrollTop():e.getBoundingClientRect().top-this.getWindowScrollTop()},e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.ViewContainerRef},{type:i.NgZone},{type:i.Renderer2}]},m([i.Input("igxDrag")],e.prototype,"data",void 0),m([i.Input()],e.prototype,"dragTolerance",void 0),m([i.Input()],e.prototype,"dragChannel",void 0),m([i.Input()],e.prototype,"ghost",void 0),m([i.Input()],e.prototype,"ghostClass",void 0),m([Rn("'hideBaseOnDrag' @Input property is deprecated and will be removed in future major versions.\n        Alternatives to it are using the new no ghost dragging and custom base styling."),i.Input()],e.prototype,"hideBaseOnDrag",void 0),m([Rn("'animateOnRelease' @Input property is deprecated and will be removed in future major versions.\n        Please use 'transitionToOrigin' or 'transitionTo' methods instead."),i.Input()],e.prototype,"animateOnRelease",void 0),m([i.Input()],e.prototype,"ghostTemplate",void 0),m([i.Input()],e.prototype,"ghostHost",void 0),m([i.Input()],e.prototype,"ghostOffsetX",null),m([i.Input()],e.prototype,"ghostOffsetY",null),m([i.Output()],e.prototype,"dragStart",void 0),m([i.Output()],e.prototype,"dragMove",void 0),m([i.Output()],e.prototype,"dragEnd",void 0),m([i.Output()],e.prototype,"dragClick",void 0),m([i.Output()],e.prototype,"ghostCreate",void 0),m([i.Output()],e.prototype,"ghostDestroy",void 0),m([i.Output()],e.prototype,"transitioned",void 0),m([i.ContentChildren(or)],e.prototype,"dragHandles",void 0),m([i.HostBinding("style.visibility")],e.prototype,"_visibility",void 0),m([i.HostBinding("class.igx-drag")],e.prototype,"baseClass",void 0),m([i.HostBinding("class.igx-drag--select-disabled")],e.prototype,"selectDisabled",void 0),m([Rn("'visible' @Input property is deprecated and will be removed in future major versions.\n        Please use native angular ways of hiding the base element using styling.")],e.prototype,"visible",null),e=m([i.Directive({exportAs:"drag",selector:"[igxDrag]"})],e)}(),lr=function(){function e(e,t,n){this.element=e,this._renderer=t,this._zone=n,this.enter=new i.EventEmitter,this.over=new i.EventEmitter,this.leave=new i.EventEmitter,this.dropped=new i.EventEmitter,this.droppable=!0,this.dragover=!1,this._destroy=new r.Subject,this._dropStrategy=new er}return Object.defineProperty(e.prototype,"dropStrategy",{get:function(){return this._dropStrategy},set:function(e){this._dropStrategy=new e(this._renderer)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._zone.runOutsideAngular((function(){r.fromEvent(e.element.nativeElement,"igxDragEnter").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onDragEnter(t)})),r.fromEvent(e.element.nativeElement,"igxDragLeave").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onDragLeave(t)})),r.fromEvent(e.element.nativeElement,"igxDragOver").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onDragOver(t)}))}))},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete()},e.prototype.onDragOver=function(e){var t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,o=e.detail.pageY-i,r={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:o};this.over.emit(r)},e.prototype.onDragEnter=function(e){var t=this;if(this.isDragLinked(e.detail.owner)){this.dragover=!0;var i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),o=e.detail.pageX-i,r=e.detail.pageY-n,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:o,offsetY:r};this._zone.run((function(){t.enter.emit(s)}))}},e.prototype.onDragLeave=function(e){var t=this;if(this.isDragLinked(e.detail.owner)){this.dragover=!1;var i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),o=e.detail.pageX-i,r=e.detail.pageY-n,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:o,offsetY:r};this._zone.run((function(){t.leave.emit(s)}))}},e.prototype.onDragDrop=function(e){var t=this;if(this.isDragLinked(e.detail.owner)){var i=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),n=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),o=e.detail.pageX-i,r=e.detail.pageY-n,s={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:o,offsetY:r,cancel:!1};if(this._zone.run((function(){t.dropped.emit(s)})),this._dropStrategy&&!s.cancel){var a=e.detail.owner.getElementsAtPoint(e.detail.pageX,e.detail.pageY),l=this.getInsertIndexAt(e.detail.owner,a);this._dropStrategy.dropAction(e.detail.owner,this,l)}}},e.prototype.getWindowScrollTop=function(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0},e.prototype.getWindowScrollLeft=function(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0},e.prototype.isDragLinked=function(e){var t=e.dragChannel instanceof Array,i=this.dropChannel instanceof Array;if(!t&&!i)return this.dropChannel===e.dragChannel;if(!t&&i){for(var n=this.dropChannel,o=0;o<n.length;o++)if(n[o]===e.dragChannel)return!0}else if(t&&!i){var r=e.dragChannel;for(o=0;o<r.length;o++)if(r[o]===this.dropChannel)return!0}else for(r=e.dragChannel,n=this.dropChannel,o=0;o<r.length;o++)for(var s=0;s<n.length;s++)if(r[o]===n[s])return!0;return!1},e.prototype.getInsertIndexAt=function(e,t){var i=-1,n=Array.prototype.slice.call(this.element.nativeElement.children);if(!n.length)return i;for(var o=0,r=null;!r&&o<t.length;)t[o].parentElement===this.element.nativeElement&&(r=t[o]),o++;var s=n.indexOf(e.element.nativeElement);return i=n.indexOf(r),-1!==s&&s<i&&i++,i},e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.NgZone}]},m([i.Input("igxDrop")],e.prototype,"data",void 0),m([i.Input()],e.prototype,"dropChannel",void 0),m([i.Input()],e.prototype,"dropStrategy",null),m([i.Output()],e.prototype,"enter",void 0),m([i.Output()],e.prototype,"over",void 0),m([i.Output()],e.prototype,"leave",void 0),m([i.Output()],e.prototype,"dropped",void 0),m([i.HostBinding("attr.droppable")],e.prototype,"droppable",void 0),m([i.HostBinding("class.dragOver")],e.prototype,"dragover",void 0),m([i.HostListener("igxDrop",["$event"])],e.prototype,"onDragDrop",null),e=m([i.Directive({exportAs:"drop",selector:"[igxDrop]"})],e)}(),cr=function(){function e(){}return e=m([i.NgModule({declarations:[ar,lr,or],exports:[ar,lr,or]})],e)}(),pr=function(){function e(){this.inputValue=""}return e.prototype.get_value=function(e,t){var i="";return t&&e[t]?i=e[t].toString():e.element&&(e.element.nativeElement?i=e.element.nativeElement.textContent.trim():e.element.textContent&&(i=e.element.textContent.trim())),i},e.prototype.formatter=function(e){return e.toLowerCase()},e.prototype.matchFn=function(e,t){return e.indexOf(t&&t.toLowerCase()||"")>-1},e.prototype.metConditionFn=function(e){e.hasOwnProperty("hidden")&&(e.hidden=!1)},e.prototype.overdueConditionFn=function(e){e.hasOwnProperty("hidden")&&(e.hidden=!0)},e}(),dr=function(){function e(e,t){this.element=e,this.filtering=new i.EventEmitter(!1),this.filtered=new i.EventEmitter}return e.prototype.ngOnChanges=function(e){e.filterOptions&&e.filterOptions.currentValue&&void 0!==e.filterOptions.currentValue.inputValue&&e.filterOptions.previousValue&&e.filterOptions.currentValue.inputValue!==e.filterOptions.previousValue.inputValue&&this.filter()},e.prototype.filter=function(){if(this.filterOptions.items){var e={cancel:!1,items:this.filterOptions.items};if(this.filtering.emit(e),!e.cancel){var t=(new ur).transform(this.filterOptions.items,this.filterOptions);this.filtered.emit({filteredItems:t})}}},e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2}]},m([i.Output()],e.prototype,"filtering",void 0),m([i.Output()],e.prototype,"filtered",void 0),m([i.Input("igxFilter")],e.prototype,"filterOptions",void 0),e=m([i.Directive({selector:"[igxFilter]"})],e)}(),ur=function(){function e(){}return e.prototype.transform=function(e,t){if(e&&e.length&&t)return t.items&&(e=t.items),e.filter((function(e){var i=t.matchFn(t.formatter(t.get_value(e,t.key)),t.inputValue);return i?t.metConditionFn&&t.metConditionFn(e):t.overdueConditionFn&&t.overdueConditionFn(e),i}))},e=m([i.Pipe({name:"igxFilter",pure:!1})],e)}(),hr=function(){function e(){}return e=m([i.NgModule({declarations:[dr,ur],exports:[dr,ur],imports:[o.CommonModule]})],e)}(),gr=function(){function e(e,t){this.element=e,this.comp=t,this.focusState=!0}return Object.defineProperty(e.prototype,"focused",{get:function(){return this.focusState},set:function(e){this.focusState=e,this.trigger()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.trigger=function(){var e=this;this.focusState&&requestAnimationFrame((function(){return e.nativeElement.focus()}))},e.ctorParameters=function(){return[{type:i.ElementRef},{type:Array,decorators:[{type:i.Inject,args:[n.NG_VALUE_ACCESSOR]},{type:i.Self},{type:i.Optional}]}]},m([i.Input("igxFocus")],e.prototype,"focused",null),e=m([i.Directive({exportAs:"igxFocus",selector:"[igxFocus]"}),y(1,i.Inject(n.NG_VALUE_ACCESSOR)),y(1,i.Self()),y(1,i.Optional())],e)}(),fr=function(){function e(){}return e=m([i.NgModule({declarations:[gr],exports:[gr]})],e)}(),mr=function(){function e(){this.dir="row",this.reverse=!1,this.wrap="nowrap",this.justify="flex-start",this.itemAlign="stretch",this.display="flex"}return Object.defineProperty(e.prototype,"flexwrap",{get:function(){return this.wrap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"justifycontent",{get:function(){return this.justify},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.itemAlign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this.reverse?"row"===this.dir?"row-reverse":"column-reverse":"row"===this.dir?"row":"column"},enumerable:!0,configurable:!0}),m([i.Input("igxLayoutDir")],e.prototype,"dir",void 0),m([i.Input("igxLayoutReverse")],e.prototype,"reverse",void 0),m([i.Input("igxLayoutWrap")],e.prototype,"wrap",void 0),m([i.Input("igxLayoutJustify")],e.prototype,"justify",void 0),m([i.Input("igxLayoutItemAlign")],e.prototype,"itemAlign",void 0),m([i.HostBinding("style.display")],e.prototype,"display",void 0),m([i.HostBinding("style.flex-wrap")],e.prototype,"flexwrap",null),m([i.HostBinding("style.justify-content")],e.prototype,"justifycontent",null),m([i.HostBinding("style.align-items")],e.prototype,"align",null),m([i.HostBinding("style.flex-direction")],e.prototype,"direction",null),e=m([i.Directive({selector:"[igxLayout]"})],e)}(),yr=function(){function e(){this.grow=1,this.shrink=1,this.flex="",this.order=0,this.basis="auto"}return Object.defineProperty(e.prototype,"style",{get:function(){return this.flex?""+this.flex:this.grow+" "+this.shrink+" "+this.basis},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemorder",{get:function(){return this.order||0},enumerable:!0,configurable:!0}),m([i.Input("igxFlexGrow")],e.prototype,"grow",void 0),m([i.Input("igxFlexShrink")],e.prototype,"shrink",void 0),m([i.Input("igxFlex")],e.prototype,"flex",void 0),m([i.Input("igxFlexOrder")],e.prototype,"order",void 0),m([i.Input("igxFlexBasis")],e.prototype,"basis",void 0),m([i.HostBinding("style.flex")],e.prototype,"style",null),m([i.HostBinding("style.order")],e.prototype,"itemorder",null),e=m([i.Directive({selector:"[igxFlex]"})],e)}(),vr=function(){function e(){}return e=m([i.NgModule({declarations:[yr,mr],exports:[yr,mr]})],e)}(),br=["C","&","a","A","?","L","9","0","#"],xr=17,Cr=90,_r=89,wr=8,Ir=46,Sr=function(){function e(){}return Object.defineProperty(e.prototype,"cursor",{get:function(){return this._cursor},enumerable:!0,configurable:!0}),e.prototype.parseValueByMask=function(e,t,i){var n=e,o=t.format,r=this.getMaskLiterals(o),s=Array.from(r.keys()),a=this.getNonLiteralIndeces(o,s);if(n.length<o.length){if(""===n&&-1===i)return this._cursor=0,this.parseValueByMaskOnInit(e,t);if(-1!==a.indexOf(i+1))n=this.insertCharAt(n,i+1,t.promptChar),this._cursor=i+1;else{n=this.insertCharAt(n,i+1,o[i+1]),this._cursor=i+1;for(var l=this._cursor;l<0&&-1!==s.indexOf(this._cursor);l--)this._cursor--}}else{var c=n[i],p=this.validateCharOnPostion(c,i,o);if(-1!==a.indexOf(i))n=this.replaceCharAt(n,i,""),p?(n=this.replaceCharAt(n,i,c),this._cursor=i+1):this._cursor=i;else{n=this.replaceCharAt(n,i,""),this._cursor=++i;for(l=i;l<o.length;l++){if(-1===s.indexOf(this._cursor)){if(p=this.validateCharOnPostion(c,i,o)){n=this.replaceCharAt(n,i,c),this._cursor=++i;break}break}this._cursor=++i}}}return n},e.prototype.parseMask=function(e){var t,i,n=this,o="",r=e.format,s=this.getMaskLiterals(r);try{for(var a=v(r),l=a.next();!l.done;l=a.next()){l.value;o+=e.promptChar}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return s.forEach((function(e,t){o=n.replaceCharAt(o,t,e)})),o},e.prototype.parseValueByMaskOnInit=function(e,t){var i,n,o,r,s=this,a="",l="",c=t.format,p=this.getMaskLiterals(c),d=Array.from(p.keys()),u=this.getNonLiteralIndeces(c,d),h=Array.from(p.values());null!=e&&(l=e.toString());try{for(var g=v(c),f=g.next();!f.done;f=g.next()){f.value;a+=t.promptChar}}catch(e){i={error:e}}finally{try{f&&!f.done&&(n=g.return)&&n.call(g)}finally{if(i)throw i.error}}if(p.forEach((function(e,t){a=s.replaceCharAt(a,t,e)})),!l)return a;for(var m=this.getNonLiteralValues(l,h),y=0;y<m.length;y++){var b=m[y];this.validateCharOnPostion(b,u[y],c)||b===t.promptChar||(m[y]=t.promptChar)}m.length>u.length&&m.splice(u.length);var x=0;try{for(var C=v(m),_=C.next();!_.done;_=C.next()){b=_.value;a=this.replaceCharAt(a,u[x++],b)}}catch(e){o={error:e}}finally{try{_&&!_.done&&(r=C.return)&&r.call(C)}finally{if(o)throw o.error}}return a},e.prototype.restoreValueFromMask=function(e,t){var i,n,o="",r=t.format,s=this.getMaskLiterals(r),a=Array.from(s.values());try{for(var l=v(e),c=l.next();!c.done;c=l.next()){var p=c.value;-1===a.indexOf(p)&&p!==t.promptChar&&(o+=p)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return o},e.prototype.parseValueByMaskUponSelection=function(e,t,i,n){var o=e,r=o[i],s=t.format,a=this.getMaskLiterals(s),l=Array.from(a.keys()),c=this.getNonLiteralIndeces(s,l);if(this.data){if(""===o&&-1===i)return this._cursor=0,this.parseValueByMaskOnInit(e,t);this._cursor<0&&(this._cursor++,i++),i++,this._cursor=i;for(p=0;p<n;p++)-1!==c.indexOf(i)?(o=this.insertCharAt(o,i,t.promptChar),i++):(o=this.insertCharAt(o,i,s[i]),i++)}else if(this._cursor=i<0?++i:i,-1!==c.indexOf(this._cursor)){if(o=this.validateCharOnPostion(r,this._cursor,s)?this.replaceCharAt(o,this._cursor++,r):o=this.replaceCharAt(o,this._cursor++,t.promptChar),--n>0)for(var p=0;p<n;p++)i++,o=-1!==c.indexOf(i)?this.insertCharAt(o,i,t.promptChar):this.insertCharAt(o,i,s[i])}else{o=this.replaceCharAt(o,this._cursor,s[this._cursor]),this._cursor++;var d=!1;if(--n>0){i=this._cursor;for(var p=0;p<n;p++)-1!==c.indexOf(i)?this.validateCharOnPostion(r,i,s)&&!d?(o=this.insertCharAt(o,i,r),i++,this._cursor++,d=!0):(o=this.insertCharAt(o,i,t.promptChar),i++):(o=this.insertCharAt(o,i,s[i]),i===this._cursor&&this._cursor++,i++)}}return o},e.prototype.parseValueByMaskUponCopyPaste=function(e,t,i,n,o){var r,s,a=e,l=t.format,c=this.getMaskLiterals(l),p=Array.from(c.keys()),d=this.getNonLiteralIndeces(l,p),u=i+o;this._cursor=i;try{for(var h=v(n),g=h.next();!g.done;g=h.next()){var f=g.value;if(this._cursor>l.length)return a;if(-1!==d.indexOf(this._cursor))this.validateCharOnPostion(f,this._cursor,l)&&(a=this.replaceCharAt(a,this._cursor++,f));else for(var m=i;m<l.length;m++){if(-1===p.indexOf(this._cursor)){this.validateCharOnPostion(f,this._cursor,l)&&(a=this.replaceCharAt(a,this._cursor++,f));break}this._cursor++}o--}}catch(e){r={error:e}}finally{try{g&&!g.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}if(o>0)for(m=this._cursor;m<u;m++)-1!==p.indexOf(this._cursor)?this._cursor++:a=this.replaceCharAt(a,this._cursor++,t.promptChar);return a},e.prototype.validateCharOnPostion=function(e,t,i){var n;switch(i.charAt(t)){case"C":n=""!==e;break;case"&":n=!new RegExp("[\\u0020]").test(e);break;case"a":n=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"A":n=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"?":n=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"L":n=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"0":n=new RegExp("[\\d]").test(e);break;case"9":n=new RegExp("[\\d\\u0020]").test(e);break;case"#":n=new RegExp("[\\d-\\+]").test(e);break;default:n=null}return n},e.prototype.replaceCharAt=function(e,t,i){if(void 0!==e)return e.substring(0,t)+i+e.substring(t+1)},e.prototype.insertCharAt=function(e,t,i){if(void 0!==e)return e.substring(0,t)+i+e.substring(t)},e.prototype.getMaskLiterals=function(e){for(var t=new Map,i=0;i<e.length;i++){var n=e.charAt(i);-1===br.indexOf(n)&&t.set(i,n)}return t},e.prototype.getNonLiteralIndeces=function(e,t){for(var i=new Array,n=0;n<e.length;n++)-1===t.indexOf(n)&&i.push(n);return i},e.prototype.getNonLiteralValues=function(e,t){var i,n,o=new Array;try{for(var r=v(e),s=r.next();!s.done;s=r.next()){var a=s.value;-1===t.indexOf(a)&&o.push(a)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},e}(),Er=function(){},Dr=Er,Or=function(){function e(e){this.elementRef=e,this.onValueChange=new i.EventEmitter,this._maskOptions={format:"",promptChar:""},this._onTouchedCallback=Er,this._onChangeCallback=Er,this.maskHelper=new Sr}var t;return t=e,Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.nativeElement.setAttribute("placeholder",this._placeholder)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this.nativeElement.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this.nativeElement.selectionEnd},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.promptChar&&this.promptChar.length>1&&(this._maskOptions.promptChar=this.promptChar=this.promptChar.substring(0,1)),this._maskOptions.format=this.mask?this.mask:"CCCCCCCCCC",this._maskOptions.promptChar=this.promptChar?this.promptChar:"_",this.nativeElement.setAttribute("placeholder",this.placeholder?this.placeholder:this._maskOptions.format)},e.prototype.onKeydown=function(e){var t=e.keyCode||e.charCode;ci()&&this._stopPropagation&&(this._stopPropagation=!1),t===xr&&(this._ctrlDown=!0),(this._ctrlDown&&t===Cr||this._ctrlDown&&t===_r)&&e.preventDefault(),this._key=t,this._selection=Math.abs(this.selectionEnd-this.selectionStart)},e.prototype.onKeyup=function(e){(e.keyCode||e.charCode)===xr&&(this._ctrlDown=!1)},e.prototype.onPaste=function(e){this._paste=!0,this._valOnPaste=this.value,this._cursorOnPaste=this.getCursorPosition()},e.prototype.onInputChanged=function(e){if(ci()&&this._stopPropagation)this._stopPropagation=!1;else{if(this._paste){this._paste=!1;var t=this.value.substring(this._cursorOnPaste,this.getCursorPosition());this.value=this.maskHelper.parseValueByMaskUponCopyPaste(this._valOnPaste,this._maskOptions,this._cursorOnPaste,t,this._selection),this.setCursorPosition(this.maskHelper.cursor)}else{var i=this.getCursorPosition();this.maskHelper.data=this._key===wr||this._key===Ir,this.value=this._selection&&0!==this._selection?this.maskHelper.parseValueByMaskUponSelection(this.value,this._maskOptions,i-1,this._selection):this.maskHelper.parseValueByMask(this.value,this._maskOptions,i-1),this.setCursorPosition(this.maskHelper.cursor)}var n=this.maskHelper.restoreValueFromMask(this.value,this._maskOptions);this.dataValue=this.includeLiterals?this.value:n,this._onChangeCallback(this.dataValue),this.onValueChange.emit({rawValue:n,formattedValue:this.value})}},e.prototype.onFocus=function(e){this.focusedValuePipe?(ci()&&(this._stopPropagation=!0),this.value=this.focusedValuePipe.transform(e)):this.value=this.maskHelper.parseValueByMaskOnInit(this.value,this._maskOptions)},e.prototype.onBlur=function(e){this.displayValuePipe?this.value=this.displayValuePipe.transform(e):e===this.maskHelper.parseMask(this._maskOptions)&&(this.value="")},e.prototype.getCursorPosition=function(){return this.nativeElement.selectionStart},e.prototype.setCursorPosition=function(e,t){void 0===t&&(t=e),this.nativeElement.setSelectionRange(e,t)},e.prototype.writeValue=function(e){this.promptChar&&this.promptChar.length>1&&(this._maskOptions.promptChar=this.promptChar.substring(0,1)),this.value=e?this.maskHelper.parseValueByMaskOnInit(e,this._maskOptions):"",this.displayValuePipe&&(this.value=this.displayValuePipe.transform(this.value)),this.dataValue=this.includeLiterals?this.value:e,this._onChangeCallback(this.dataValue),this.onValueChange.emit({rawValue:e,formattedValue:this.value})},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input("igxMask")],e.prototype,"mask",void 0),m([i.Input()],e.prototype,"promptChar",void 0),m([i.Input()],e.prototype,"includeLiterals",void 0),m([i.Input()],e.prototype,"placeholder",null),m([i.Input()],e.prototype,"displayValuePipe",void 0),m([i.Input()],e.prototype,"focusedValuePipe",void 0),m([i.Input()],e.prototype,"dataValue",void 0),m([i.Output()],e.prototype,"onValueChange",void 0),m([i.HostListener("keydown",["$event"])],e.prototype,"onKeydown",null),m([i.HostListener("keyup",["$event"])],e.prototype,"onKeyup",null),m([i.HostListener("paste",["$event"])],e.prototype,"onPaste",null),m([i.HostListener("input",["$event"])],e.prototype,"onInputChanged",null),m([i.HostListener("focus",["$event.target.value"])],e.prototype,"onFocus",null),m([i.HostListener("blur",["$event.target.value"])],e.prototype,"onBlur",null),e=t=m([i.Directive({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t,multi:!0}],selector:"[igxMask]"})],e)}(),Tr=function(){function e(){}return e=m([i.NgModule({declarations:[Or],exports:[Or],imports:[o.CommonModule]})],e)}();(rr=e.RadioLabelPosition||(e.RadioLabelPosition={})).BEFORE="before",rr.AFTER="after";var Pr,Rr,kr=0,Lr=function(){},Ar=function(){function t(){this.id="igx-radio-"+kr++,this.labelId=this.id+"-label",this.labelPosition="after",this.tabindex=null,this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new i.EventEmitter,this.cssClass="igx-radio",this.checked=!1,this.disabled=!1,this.focused=!1,this.inputId=this.id+"-input",this._value=null,this._onTouchedCallback=Lr,this._onChangeCallback=Lr}var o;return o=t,t.prototype._onRadioChange=function(e){e.stopPropagation()},t.prototype._onRadioClick=function(e){e.stopPropagation(),this.select(),ci()&&this.nativeRadio.nativeElement.blur()},t.prototype._onLabelClick=function(){this.select()},t.prototype.select=function(){this.disabled||(this.checked=!0,this.focused=!1,this.change.emit({value:this.value,radio:this}),this._onChangeCallback(this.value))},t.prototype.writeValue=function(e){this._value=e,this.checked=this._value===this.value},t.prototype.getEditElement=function(){return this.nativeRadio.nativeElement},Object.defineProperty(t.prototype,"labelClass",{get:function(){switch(this.labelPosition){case e.RadioLabelPosition.BEFORE:return this.cssClass+"__label--before";case e.RadioLabelPosition.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(){this.focused=!0},t.prototype.onBlur=function(){this.focused=!1,this._onTouchedCallback()},t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},m([i.ViewChild("radio",{static:!0})],t.prototype,"nativeRadio",void 0),m([i.ViewChild("nativeLabel",{static:!0})],t.prototype,"nativeLabel",void 0),m([i.ViewChild("placeholderLabel",{static:!0})],t.prototype,"placeholderLabel",void 0),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"labelId",void 0),m([i.Input()],t.prototype,"labelPosition",void 0),m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"name",void 0),m([i.Input()],t.prototype,"tabindex",void 0),m([i.Input()],t.prototype,"disableRipple",void 0),m([i.Input()],t.prototype,"required",void 0),m([i.Input("aria-labelledby")],t.prototype,"ariaLabelledBy",void 0),m([i.Input("aria-label")],t.prototype,"ariaLabel",void 0),m([i.Output()],t.prototype,"change",void 0),m([i.HostBinding("class.igx-radio")],t.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-radio--checked"),i.Input()],t.prototype,"checked",void 0),m([i.HostBinding("class.igx-radio--disabled"),i.Input()],t.prototype,"disabled",void 0),m([i.HostBinding("class.igx-radio--focused")],t.prototype,"focused",void 0),t=o=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:o,multi:!0}],selector:"igx-radio",template:'<input #radio class="igx-radio__input" type="radio"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (click)="_onRadioClick($event)"\n    (change)="_onRadioChange($event)"\n    (focus)="onFocus()"\n    (blur)="onBlur()" />\n\n<label #nativeLabel class="igx-radio__composite" igxRipple\n    igxRippleTarget=".igx-radio__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300"\n    [for]="inputId">\n    <div class="igx-radio__ripple"></div>\n</label>\n\n<span #placeholderLabel role="label"\n    [id]="labelId"\n    [class]="labelClass"\n    (click)="_onLabelClick()">\n    <ng-content></ng-content>\n</span>\n'})],t)}(),Mr=function(){function e(e,t,i,n){this.builder=e,this.elementRef=t,this.renderer=i,this.zone=n,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}return Object.defineProperty(e.prototype,"centered",{set:function(e){this._centered=e||this.centered},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){var t=this;this.zone.runOutsideAngular((function(){return t._ripple(e)}))},e.prototype.setStyles=function(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",t.radius+"px"),this.renderer.setStyle(e,"height",t.radius+"px"),this.renderer.setStyle(e,"top",t.top+"px"),this.renderer.setStyle(e,"left",t.left+"px"),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)},e.prototype._ripple=function(e){var i=this;if(!this.rippleDisabled){var n=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,o=n.getBoundingClientRect(),r=Math.max(o.width,o.height),s=e.clientX-o.left-r/2,a=e.clientY-o.top-r/2;this._centered&&(s=a=0);var l={radius:r,top:a,left:s},c=this.renderer.createElement("span");this.setStyles(c,l),this.renderer.addClass(n,this.rippleHostClass),this.renderer.appendChild(n,c);var p=this.builder.build([t.style({opacity:.5,transform:"scale(.3)"}),t.animate(this.rippleDuration,t.style({opacity:0,transform:"scale(2)"}))]).create(c);this.animationQueue.push(p),p.onDone((function(){i.animationQueue.splice(i.animationQueue.indexOf(p),1),n.removeChild(c),i.animationQueue.length<1&&i.renderer.removeClass(n,i.rippleHostClass)})),p.play()}},e.ctorParameters=function(){return[{type:t.AnimationBuilder},{type:i.ElementRef},{type:i.Renderer2},{type:i.NgZone}]},m([i.Input("igxRippleTarget")],e.prototype,"rippleTarget",void 0),m([i.Input("igxRipple")],e.prototype,"rippleColor",void 0),m([i.Input("igxRippleDuration")],e.prototype,"rippleDuration",void 0),m([i.Input("igxRippleCentered")],e.prototype,"centered",null),m([i.Input("igxRippleDisabled")],e.prototype,"rippleDisabled",void 0),m([i.HostListener("mousedown",["$event"])],e.prototype,"onMouseDown",null),e=m([i.Directive({selector:"[igxRipple]"})],e)}(),Vr=function(){function e(){}return e=m([i.NgModule({declarations:[Mr],exports:[Mr]})],e)}(),Fr=function(){},Hr=0,Br=function(){function t(){this.change=new i.EventEmitter,this.cssClass="igx-radio-group",this._onChangeCallback=Fr,this._name="igx-radio-group-"+Hr++,this._value=null,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this.destroy$=new r.Subject}var o;return o=t,Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._selectRadioButton())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._setRadioButtonNames())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required!==e&&(this._required=e,this._setRadioButtonsRequired())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._disableRadioButtons())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(t){this._labelPosition!==t&&(this._labelPosition=t===e.RadioLabelPosition.BEFORE?e.RadioLabelPosition.BEFORE:e.RadioLabelPosition.AFTER,this._setRadioButtonLabelPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this.value=e?e.value:null)},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var e=this;this._isInitialized=!0,setTimeout((function(){e._initRadioButtons()}))},t.prototype.writeValue=function(e){this.value=e},t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this.radioButtons&&this.radioButtons.forEach((function(t){t.registerOnTouched(e)}))},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},t.prototype._initRadioButtons=function(){var e=this;if(this.radioButtons){var t={name:this._name,labelPosition:this._labelPosition,disabled:this._disabled,required:this._required};this.radioButtons.forEach((function(i){Object.assign(i,t),i.value===e._value&&(i.checked=!0,e._selected=i),i.change.pipe(s.takeUntil(e.destroy$)).subscribe((function(t){return e._selectedRadioButtonChanged(t)}))}))}},t.prototype._selectedRadioButtonChanged=function(e){this._selected!==e.radio&&(this._selected&&(this._selected.checked=!1),this._selected=e.radio),this._value=e.value,this._isInitialized&&(this.change.emit(e),this._onChangeCallback(this.value))},t.prototype._setRadioButtonNames=function(){var e=this;this.radioButtons&&this.radioButtons.forEach((function(t){t.name=e._name}))},t.prototype._selectRadioButton=function(){var e=this;this.radioButtons&&this.radioButtons.forEach((function(t){e._value&&e._value===t.value?(e._selected!==t&&(e._selected=t),t.checked||t.select()):t.checked&&(t.checked=!1)}))},t.prototype._setRadioButtonLabelPosition=function(){var e=this;this.radioButtons&&this.radioButtons.forEach((function(t){t.labelPosition=e._labelPosition}))},t.prototype._disableRadioButtons=function(){var e=this;this.radioButtons&&this.radioButtons.forEach((function(t){t.disabled=e._disabled}))},t.prototype._setRadioButtonsRequired=function(){var e=this;this.radioButtons&&this.radioButtons.forEach((function(t){t.required=e._required}))},m([i.ContentChildren(Ar,{descendants:!0})],t.prototype,"radioButtons",void 0),m([i.Input()],t.prototype,"value",null),m([i.Input()],t.prototype,"name",null),m([i.Input()],t.prototype,"required",null),m([i.Input()],t.prototype,"disabled",null),m([i.Input()],t.prototype,"labelPosition",null),m([i.Input()],t.prototype,"selected",null),m([i.Output()],t.prototype,"change",void 0),m([i.HostBinding("class.igx-radio-group")],t.prototype,"cssClass",void 0),t=o=m([i.Directive({exportAs:"igxRadioGroup",selector:"igx-radio-group, [igxRadioGroup]",providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:o,multi:!0}]})],t)}(),jr=function(){function e(){}return e=m([i.NgModule({declarations:[Br,Ar],exports:[Br,Ar],imports:[Vr]})],e)}(),Nr=function(){function e(e,i){var n=this;this.element=e,this.renderer=i,this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this._defaultCssClass="igx-highlight",this._defaultActiveCssClass="igx-highlight--active",this.groupName="",this._value="",this.destroy$=new r.Subject,t.onActiveElementChanged.pipe(s.takeUntil(this.destroy$)).subscribe((function(e){n.groupName===e&&(-1!==n._activeElementIndex&&n.deactivate(),n.activateIfNecessary())}))}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=null==e?"":e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastSearchInfo",{get:function(){return this._lastSearchInfo},enumerable:!0,configurable:!0}),e.setActiveHighlight=function(e,i){t.highlightGroupsMap.set(e,i),t.onActiveElementChanged.emit(e)},e.clearActiveHighlight=function(e){t.highlightGroupsMap.set(e,{index:-1}),t.onActiveElementChanged.emit(e)},e.prototype.ngOnDestroy=function(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngOnChanges=function(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())},e.prototype.ngAfterViewInit=function(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===t.highlightGroupsMap.has(this.groupName)&&t.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchedText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild},e.prototype.ngAfterViewChecked=function(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)},e.prototype.highlight=function(e,t,i){var n=!!t,o=!!i;return this.searchNeedsEvaluation(e,n,o)?(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=o,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=o),this._lastSearchInfo.matchCount},e.prototype.clearHighlight=function(){this.clearChildElements(!1),this._lastSearchInfo.searchedText="",this._lastSearchInfo.matchCount=0},e.prototype.activateIfNecessary=function(){var e=t.highlightGroupsMap.get(this.groupName),i=void 0===e.columnIndex?e.column:e.columnIndex,n=void 0===e.rowIndex?e.row:e.rowIndex;i===this.column&&n===this.row&&e.page===this.page&&this.activate(e.index)},e.prototype.observe=function(){var e=this;if(null===this._observer){this._observer=new MutationObserver((function(t){t.forEach((function(t){Array.from(t.removedNodes).forEach((function(t){t===e._container&&(e._nodeWasRemoved=!0,e.clearChildElements(!1))})),Array.from(t.addedNodes).forEach((function(t){t===e.parentElement.firstElementChild&&e._nodeWasRemoved&&(e._container=e.parentElement.firstElementChild,e._nodeWasRemoved=!1,e._forceEvaluation=!0,e.highlight(e._lastSearchInfo.searchedText,e._lastSearchInfo.caseSensitive,e._lastSearchInfo.exactMatch),e._forceEvaluation=!1,e.activateIfNecessary(),e._observer.disconnect(),e._observer=null)}))}))})),this._observer.observe(this.parentElement,{childList:!0})}},e.prototype.activate=function(e){if(this.deactivate(),null!==this._div){var t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;var i=t[e];this.renderer.addClass(i,this._defaultActiveCssClass),this.renderer.addClass(i,this.activeCssClass)}},e.prototype.deactivate=function(){if(-1!==this._activeElementIndex){var e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)this._activeElementIndex=-1;else{var t=e[this._activeElementIndex];this.renderer.removeClass(t,this._defaultActiveCssClass),this.renderer.removeClass(t,this.activeCssClass),this._activeElementIndex=-1}}},e.prototype.clearChildElements=function(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)},e.prototype.getHighlightedText=function(e,t,i){this.appendDiv();var n=String(this.value),o=t?n:n.toLowerCase(),r=t?e:e.toLowerCase(),s=0;if(i)o===r?(this.appendSpan('<span class="'+this._defaultCssClass+" "+(this.cssClass?this.cssClass:"")+'">'+n+"</span>"),s++):this.appendText(n);else{for(var a=o.indexOf(r,0),l=0;-1!==a;){var c=a,p=a+r.length;this.appendText(n.substring(l,c)),this.appendSpan('<span class="'+this._defaultCssClass+" "+(this.cssClass?this.cssClass:"")+'">'+n.substring(c,p)+"</span>"),l=p,s++,a=o.indexOf(r,p)}this.appendText(n.substring(l,n.length))}return s},e.prototype.appendText=function(e){var t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)},e.prototype.appendSpan=function(e){var t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)},e.prototype.appendDiv=function(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)},e.prototype.searchNeedsEvaluation=function(e,t,i){var n=this._lastSearchInfo.searchedText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)},e.onActiveElementChanged=new i.EventEmitter,e.highlightGroupsMap=new Map,e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2}]},m([i.Input("cssClass")],e.prototype,"cssClass",void 0),m([i.Input("activeCssClass")],e.prototype,"activeCssClass",void 0),m([i.Input("containerClass")],e.prototype,"containerClass",void 0),m([i.Input("groupName")],e.prototype,"groupName",void 0),m([i.Input("value")],e.prototype,"value",null),m([i.Input("row")],e.prototype,"row",void 0),m([i.Input("column")],e.prototype,"column",void 0),m([i.Input("page"),Rn("IgxTextHighlightDirective 'page' input property is deprecated.")],e.prototype,"page",void 0),e=t=m([i.Directive({selector:"[igxTextHighlight]"})],e)}(),Gr=function(){function e(){}return e=m([i.NgModule({declarations:[Nr],exports:[Nr]})],e)}(),zr=function(){function e(e){this.element=e,this.selectionState=!0}return Object.defineProperty(e.prototype,"selected",{get:function(){return this.selectionState},set:function(e){this.selectionState=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.trigger()},e.prototype.trigger=function(){var e=this;this.selected&&this.nativeElement.value.length&&requestAnimationFrame((function(){return e.nativeElement.setSelectionRange(0,e.nativeElement.value.length)}))},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input("igxTextSelection")],e.prototype,"selected",null),m([i.HostListener("focus")],e.prototype,"onFocus",null),e=m([i.Directive({exportAs:"igxTextSelection",selector:"[igxTextSelection]"})],e)}(),Wr=function(){function e(){}return e=m([i.NgModule({declarations:[zr],exports:[zr]})],e)}(),Ur=function(n){function o(e,t){var o=n.call(this,e,t)||this;return o._element=e,o._navigationService=t,o.showDelay=500,o.hideDelay=500,o.tooltipDisabled=!1,o.onTooltipShow=new i.EventEmitter,o.onTooltipHide=new i.EventEmitter,o}return d(o,n),Object.defineProperty(o.prototype,"target",{get:function(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target},set:function(e){null!==e&&""!==e&&(this._target=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nativeElement",{get:function(){return this._element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tooltipHidden",{get:function(){return!this.target||this.target.collapsed},enumerable:!0,configurable:!0}),o.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this);var i={target:this.nativeElement,horizontalDirection:e.HorizontalAlignment.Center,horizontalStartPoint:e.HorizontalAlignment.Center,openAnimation:t.useAnimation(Ae,{params:{duration:"150ms"}}),closeAnimation:t.useAnimation(I,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new jn(i),this._overlayDefaults.closeOnOutsideClick=!1},o.prototype.checkOutletAndOutsideClick=function(){this.outlet&&(this._overlayDefaults.outlet=this.outlet)},Object.defineProperty(o.prototype,"mergedOverlaySettings",{get:function(){return Object.assign({},this._overlayDefaults,this.overlaySettings)},enumerable:!0,configurable:!0}),o.prototype.preMouseEnterCheck=function(){if(this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),!this.target.collapsed||this.target.toBeHidden){clearTimeout(this.target.timeoutId);var e={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(e),e.cancel)return!0;this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1}return!1},o.prototype.preMouseLeaveCheck=function(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,this.target.toBeHidden=!1,!0)},o.prototype.onKeydownEscape=function(e){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.close(),this.target.toBeHidden=!1)},o.prototype.onClick=function(){if(!this.target.collapsed){var e={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(e),e.cancel)return;this.target.forceClose(this.mergedOverlaySettings)}},o.prototype.onMouseEnter=function(){var e=this;if(!this.tooltipDisabled&&(this.checkOutletAndOutsideClick(),!this.preMouseEnterCheck())){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipShow.emit(t),t.cancel||(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((function(){e.target.open(e.mergedOverlaySettings),e.target.toBeShown=!1}),this.showDelay))}},o.prototype.onMouseLeave=function(){var e=this;if(!this.tooltipDisabled&&(this.checkOutletAndOutsideClick(),!this.preMouseLeaveCheck()&&!this.target.collapsed)){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((function(){e.target.close(),e.target.toBeHidden=!1}),this.hideDelay))}},o.prototype.onTouchStart=function(e){this.tooltipDisabled||this.showTooltip()},o.prototype.onDocumentTouchStart=function(e){this.tooltipDisabled||this.nativeElement===e.target||this.nativeElement.contains(e.target)||this.hideTooltip()},o.prototype.showTooltip=function(){var e=this;if(clearTimeout(this.target.timeoutId),!this.target.collapsed){var t={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(t),t.cancel)return;this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1}var i={target:this,tooltip:this.target,cancel:!1};this.onTooltipShow.emit(i),i.cancel||(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((function(){e.target.open(e.mergedOverlaySettings),e.target.toBeShown=!1}),this.showDelay))},o.prototype.hideTooltip=function(){var e=this;if(this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((function(){e.target.close(),e.target.toBeHidden=!1}),this.hideDelay))}},o.ctorParameters=function(){return[{type:i.ElementRef},{type:Jt,decorators:[{type:i.Optional}]}]},m([i.Input("showDelay")],o.prototype,"showDelay",void 0),m([i.Input("hideDelay")],o.prototype,"hideDelay",void 0),m([i.Input("tooltipDisabled")],o.prototype,"tooltipDisabled",void 0),m([i.Input("igxTooltipTarget")],o.prototype,"target",null),m([i.Output()],o.prototype,"onTooltipShow",void 0),m([i.Output()],o.prototype,"onTooltipHide",void 0),m([i.HostListener("document:keydown.escape",["$event"])],o.prototype,"onKeydownEscape",null),m([i.HostListener("click")],o.prototype,"onClick",null),m([i.HostListener("mouseenter")],o.prototype,"onMouseEnter",null),m([i.HostListener("mouseleave")],o.prototype,"onMouseLeave",null),m([i.HostListener("touchstart",["$event"])],o.prototype,"onTouchStart",null),m([i.HostListener("document:touchstart",["$event"])],o.prototype,"onDocumentTouchStart",null),o=m([i.Directive({exportAs:"tooltipTarget",selector:"[igxTooltipTarget]"}),y(1,i.Optional())],o)}(Xn),$r=0,Kr=function(e){function t(t,i,n,o){var r=e.call(this,t,i,n,o)||this;return r.toBeHidden=!1,r.toBeShown=!1,r.id="igx-tooltip-"+$r++,r}return d(t,e),Object.defineProperty(t.prototype,"hiddenClass",{get:function(){return this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultClass",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return"tooltip"},enumerable:!0,configurable:!0}),t.prototype.forceOpen=function(e){var t=this.overlayService.getOverlayById(this._overlayId);if(!!t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){var i=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=i}},t.prototype.forceClose=function(e){var t=this.overlayService.getOverlayById(this._overlayId);if(!!t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){var i=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=i}},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]},{type:Jt,decorators:[{type:i.Optional}]}]},m([i.HostBinding("class.igx-tooltip--hidden")],t.prototype,"hiddenClass",null),m([i.HostBinding("class.igx-tooltip--desktop")],t.prototype,"defaultClass",null),m([i.Input("context")],t.prototype,"context",void 0),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",null),t=m([i.Directive({exportAs:"tooltip",selector:"[igxTooltip]"}),y(2,i.Inject(Vn)),y(3,i.Optional())],t)}(Yn),Yr=function(){function e(){}return e=m([i.NgModule({declarations:[Kr,Ur],exports:[Kr,Ur],imports:[o.CommonModule],providers:[Vn]})],e)}(),Xr=function(){function e(){var e=this;this.operations=[{name:"null",isUnary:!0,iconName:"is_null",logic:function(e){return null===e}},{name:"notNull",isUnary:!0,iconName:"is_not_null",logic:function(e){return null!==e}},{name:"in",isUnary:!1,iconName:"is_in",hidden:!0,logic:function(t,i){return e.findValueInSet(t,i)}}]}return e.instance=function(){return this._instance||(this._instance=new this)},e.prototype.findValueInSet=function(e,t){return t.has(e)},e.prototype.conditionList=function(){return this.operations.filter((function(e){return!e.hidden})).map((function(e){return e.name}))},e.prototype.condition=function(e){return this.operations.find((function(t){return t.name===e}))},e.prototype.append=function(e){this.operations.push(e)},e._instance=null,e}(),qr=function(e){function t(){var t=e.call(this)||this;return t.operations=[{name:"all",isUnary:!0,iconName:"all",logic:function(e){return!0}},{name:"true",isUnary:!0,iconName:"is_true",logic:function(e){return!(!e||null==e)}},{name:"false",isUnary:!0,iconName:"is_false",logic:function(e){return!e&&null!=e}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e}}].concat(t.operations),t}return d(t,e),t}(Xr),Zr=function(e){function t(){var i=e.call(this)||this;return i.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,n){if(!e)return!1;i.validateInputData(e);var o=t.getDateParts(e,"yMd"),r=t.getDateParts(n,"yMd");return o.year===r.year&&o.month===r.month&&o.day===r.day}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,n){if(!e)return!0;i.validateInputData(e);var o=t.getDateParts(e,"yMd"),r=t.getDateParts(n,"yMd");return o.year!==r.year||o.month!==r.month||o.day!==r.day}},{name:"before",isUnary:!1,iconName:"is_before",logic:function(e,t){return!!e&&(i.validateInputData(e),e<t)}},{name:"after",isUnary:!1,iconName:"is_after",logic:function(e,t){return!!e&&(i.validateInputData(e),e>t)}},{name:"today",isUnary:!0,iconName:"today",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"yMd"),o=t.getDateParts(new Date,"yMd");return n.year===o.year&&n.month===o.month&&n.day===o.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:function(e){if(!e)return!1;i.validateInputData(e);var n,o=t.getDateParts(e,"yMd"),r=(n=new Date,new Date(n.setDate(n.getDate()-1))),s=t.getDateParts(r,"yMd");return o.year===s.year&&o.month===s.month&&o.day===s.day}},{name:"thisMonth",isUnary:!0,iconName:"this_month",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"yM"),o=t.getDateParts(new Date,"yM");return n.year===o.year&&n.month===o.month}},{name:"lastMonth",isUnary:!0,iconName:"last_month",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"yM"),o=t.getDateParts(new Date,"yM");return o.month?o.month--:(o.month=11,o.year-=1),n.year===o.year&&n.month===o.month}},{name:"nextMonth",isUnary:!0,iconName:"next_month",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"yM"),o=t.getDateParts(new Date,"yM");return 11===o.month?(o.month=0,o.year+=1):o.month++,n.year===o.year&&n.month===o.month}},{name:"thisYear",isUnary:!0,iconName:"this_year",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"y"),o=t.getDateParts(new Date,"y");return n.year===o.year}},{name:"lastYear",isUnary:!0,iconName:"last_year",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"y"),o=t.getDateParts(new Date,"y");return n.year===o.year-1}},{name:"nextYear",isUnary:!0,iconName:"next_year",logic:function(e){if(!e)return!1;i.validateInputData(e);var n=t.getDateParts(e,"y"),o=t.getDateParts(new Date,"y");return n.year===o.year+1}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e}}].concat(i.operations),i}return d(t,e),t.getDateParts=function(e,t){var i={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return e&&t?(t.indexOf("y")>=0&&(i.year=e.getFullYear()),t.indexOf("M")>=0&&(i.month=e.getMonth()),t.indexOf("d")>=0&&(i.day=e.getDate()),t.indexOf("h")>=0&&(i.hours=e.getHours()),t.indexOf("m")>=0&&(i.minutes=e.getMinutes()),t.indexOf("s")>=0&&(i.seconds=e.getSeconds()),t.indexOf("f")>=0&&(i.milliseconds=e.getMilliseconds()),i):i},t.prototype.validateInputData=function(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")},t.prototype.findValueInSet=function(e,t){return!!e&&t.has(new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString())},t}(Xr),Jr=function(e){function t(){var t=e.call(this)||this;return t.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,t){return e===t}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,t){return e!==t}},{name:"greaterThan",isUnary:!1,iconName:"greater_than",logic:function(e,t){return e>t}},{name:"lessThan",isUnary:!1,iconName:"less_than",logic:function(e,t){return e<t}},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"greater_than_or_equal",logic:function(e,t){return e>=t}},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"less_than_or_equal",logic:function(e,t){return e<=t}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e||isNaN(e)}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e&&!isNaN(e)}}].concat(t.operations),t}return d(t,e),t}(Xr),Qr=function(e){function t(){var i=e.call(this)||this;return i.operations=[{name:"contains",isUnary:!1,iconName:"contains",logic:function(e,i,n){var o=t.applyIgnoreCase(i,n);return-1!==(e=t.applyIgnoreCase(e,n)).indexOf(o)}},{name:"doesNotContain",isUnary:!1,iconName:"does_not_contain",logic:function(e,i,n){var o=t.applyIgnoreCase(i,n);return-1===(e=t.applyIgnoreCase(e,n)).indexOf(o)}},{name:"startsWith",isUnary:!1,iconName:"starts_with",logic:function(e,i,n){var o=t.applyIgnoreCase(i,n);return(e=t.applyIgnoreCase(e,n)).startsWith(o)}},{name:"endsWith",isUnary:!1,iconName:"ends_with",logic:function(e,i,n){var o=t.applyIgnoreCase(i,n);return(e=t.applyIgnoreCase(e,n)).endsWith(o)}},{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,i,n){var o=t.applyIgnoreCase(i,n);return(e=t.applyIgnoreCase(e,n))===o}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,i,n){var o=t.applyIgnoreCase(i,n);return(e=t.applyIgnoreCase(e,n))!==o}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e||0===e.length}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e&&e.length>0}}].concat(i.operations),i}return d(t,e),t.applyIgnoreCase=function(e,t){return e=e||"",t?(""+e).toLowerCase():e},t}(Xr),es={strategy:new Mi},ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t}(Array),is=function(){function e(e,t){this._sanitizer=e,this._document=t,this._fontSet="material-icons",this._fontSetAliases=new Map,this._cachedSvgIcons=new Set}return Object.defineProperty(e.prototype,"defaultFontSet",{get:function(){return this._fontSet},set:function(e){this._fontSet=e},enumerable:!0,configurable:!0}),e.prototype.registerFontSetAlias=function(e,t){return void 0===t&&(t=e),this._fontSetAliases.set(e,t),this},e.prototype.fontSetClassName=function(e){return this._fontSetAliases.get(e)||e},e.prototype.addSvgIcon=function(e,t,n){if(void 0===n&&(n=""),!e||!t)throw new Error("You should provide at least `iconName` and `url` to register an svg icon.");var o=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!o)throw new Error("The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: \""+t+'".');if(!this._sanitizer.sanitize(i.SecurityContext.RESOURCE_URL,o))throw new Error('The URL provided was not trusted as a resource URL: "'+t+'".');this.fetchSvg(e,t,n)},e.prototype.addSvgIconFromText=function(e,t,i){if(void 0===i&&(i=""),!e||!t)throw new Error("You should provide at least `iconName` and `iconText` to register an svg icon.");this.cacheSvgIcon(e,t,i)},e.prototype.isSvgIconCached=function(e,t){void 0===t&&(t="");var i=this.getSvgIconKey(e,t);return this._cachedSvgIcons.has(i)},e.prototype.getSvgIconKey=function(e,t){return void 0===t&&(t=""),t+"_"+e},e.prototype.fetchSvg=function(e,t,i){void 0===i&&(i="");var n=this,o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="text",o.onload=function(o){if(!o)throw new Error("Could not fetch SVG from url: "+t+";");var r=o.target;if(200!==r.status)throw new Error("Could not fetch SVG from url: "+t+"; error: "+r.status+" ("+r.statusText+")");n.cacheSvgIcon(e,r.responseText,i)},o.onerror=function(e){if(e){var i=e.target;throw new Error("Could not fetch SVG from url: "+t+"; error status code: "+i.status+" ("+i.statusText+")")}throw new Error("Could not fetch SVG from url: "+t+";")},o.send()},e.prototype.cacheSvgIcon=function(e,t,i){if(void 0===i&&(i=""),e&&t){this.ensureSvgContainerCreated();var n=this._document.createElement("DIV");n.innerHTML=t;var o=n.querySelector("svg");if(o){var r=this.getSvgIconKey(e,i);if(o.setAttribute("id",r),o.setAttribute("fit",""),o.setAttribute("preserveAspectRatio","xMidYMid meet"),o.setAttribute("focusable","false"),this._cachedSvgIcons.has(r)){var s=this._svgContainer.querySelector("svg[id='"+r+"']");this._svgContainer.removeChild(s)}this._svgContainer.appendChild(o),this._cachedSvgIcons.add(r)}}},e.prototype.ensureSvgContainerCreated=function(){this._svgContainer||(this._svgContainer=this._document.documentElement.querySelector(".igx-svg-container"),this._svgContainer||(this._svgContainer=this._document.createElement("DIV"),this._svgContainer.classList.add("igx-svg-container"),this._document.documentElement.appendChild(this._svgContainer)))},e.ctorParameters=function(){return[{type:c.DomSanitizer},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]}]},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e(i["ɵɵinject"](c.DomSanitizer),i["ɵɵinject"](o.DOCUMENT))},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"}),y(1,i.Inject(o.DOCUMENT))],e)}(),ns=0,os=function(){function e(e,t){this._el=e,this.iconService=t,this.cssClass="igx-icon",this.ariaHidden=!0,this.id="igx-icon-"+ns++,this.active=!0,this.el=e,this.font=this.iconService.defaultFontSet,this.iconService.registerFontSetAlias("material","material-icons")}return e.prototype.ngOnInit=function(){this.updateIconClass()},Object.defineProperty(e.prototype,"getFontSet",{get:function(){return this.font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getInactive",{get:function(){return!this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getIconColor",{get:function(){return this.iconColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getIconName",{get:function(){return this.iconName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getSvgKey",{get:function(){return this.iconService.isSvgIconCached(this.iconName,this.font)?"#"+this.iconService.getSvgIconKey(this.iconName,this.font):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.iconName?this.iconService.isSvgIconCached(this.iconName,this.font)?this.svgImage:this.noLigature:this.explicitLigature},enumerable:!0,configurable:!0}),e.prototype.updateIconClass=function(){var e=this.iconService.fontSetClassName(this.font);this.el.nativeElement.classList.add(e),this.iconName&&!this.iconService.isSvgIconCached(this.iconName,this.font)&&this.el.nativeElement.classList.add(this.iconName)},e.ctorParameters=function(){return[{type:i.ElementRef},{type:is}]},m([i.ViewChild("noLigature",{read:i.TemplateRef,static:!0})],e.prototype,"noLigature",void 0),m([i.ViewChild("explicitLigature",{read:i.TemplateRef,static:!0})],e.prototype,"explicitLigature",void 0),m([i.ViewChild("svgImage",{read:i.TemplateRef,static:!0})],e.prototype,"svgImage",void 0),m([i.HostBinding("class.igx-icon")],e.prototype,"cssClass",void 0),m([i.HostBinding("attr.aria-hidden")],e.prototype,"ariaHidden",void 0),m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input("fontSet")],e.prototype,"font",void 0),m([i.Input("isActive")],e.prototype,"active",void 0),m([i.Input("color")],e.prototype,"iconColor",void 0),m([i.Input("name")],e.prototype,"iconName",void 0),m([i.HostBinding("class.igx-icon--inactive")],e.prototype,"getInactive",null),m([i.HostBinding("style.color")],e.prototype,"getIconColor",null),e=m([i.Component({selector:"igx-icon",template:'<ng-template #noLigature></ng-template>\n\n<ng-template #explicitLigature>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #svgImage>\n    <svg>\n        <use [attr.href]="getSvgKey"></use>\n    </svg>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template"></ng-container>\n'})],e)}(),rs=function(){function e(){}return e=m([i.NgModule({declarations:[os],exports:[os],imports:[o.CommonModule]})],e)}(),ss=0;(Pr=e.IgxAvatarSize||(e.IgxAvatarSize={})).SMALL="small",Pr.MEDIUM="medium",Pr.LARGE="large",(Rr=e.IgxAvatarType||(e.IgxAvatarType={})).INITIALS="initials",Rr.IMAGE="image",Rr.ICON="icon",Rr.CUSTOM="custom";var as,ls=function(){function t(t){this.elementRef=t,this.ariaLabel="avatar",this.role="img",this.cssClass="igx-avatar",this._size=e.IgxAvatarSize.SMALL,this.id="igx-avatar-"+ss++,this.roundShape=!1}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){switch(e){case"small":case"medium":case"large":this._size=e;break;default:this._size="small"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.src?e.IgxAvatarType.IMAGE:this.icon?e.IgxAvatarType.ICON:this.initials?e.IgxAvatarType.INITIALS:e.IgxAvatarType.CUSTOM},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){switch(this.type){case e.IgxAvatarType.IMAGE:return this.imageTemplate;case e.IgxAvatarType.INITIALS:return this.initialsTemplate;case e.IgxAvatarType.ICON:return this.iconTemplate;default:return this.defaultTemplate}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.roleDescription=this.getRole()},t.prototype.ngAfterViewInit=function(){this.type!==e.IgxAvatarType.CUSTOM&&this.elementRef.nativeElement.classList.add("igx-avatar--"+this.type),this.elementRef.nativeElement.classList.add("igx-avatar--"+this._size)},t.prototype.getRole=function(){switch(this.type){case e.IgxAvatarType.IMAGE:return"image avatar";case e.IgxAvatarType.ICON:return"icon avatar";case e.IgxAvatarType.INITIALS:return"initials avatar";default:return"custom avatar"}},t.prototype.getSrcUrl=function(){return"url("+this.src+")"},t.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.ViewChild("image")],t.prototype,"image",void 0),m([i.ViewChild("defaultTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultTemplate",void 0),m([i.ViewChild("imageTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"imageTemplate",void 0),m([i.ViewChild("initialsTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"initialsTemplate",void 0),m([i.ViewChild("iconTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"iconTemplate",void 0),m([i.HostBinding("attr.aria-label")],t.prototype,"ariaLabel",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("class.igx-avatar")],t.prototype,"cssClass",void 0),m([i.HostBinding("attr.aria-roledescription")],t.prototype,"roleDescription",void 0),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.HostBinding("class.igx-avatar--rounded"),i.Input()],t.prototype,"roundShape",void 0),m([i.HostBinding("style.color"),i.Input()],t.prototype,"color",void 0),m([i.HostBinding("style.background"),i.Input()],t.prototype,"bgColor",void 0),m([i.Input()],t.prototype,"initials",void 0),m([i.Input()],t.prototype,"icon",void 0),m([i.Input()],t.prototype,"src",void 0),m([i.Input()],t.prototype,"size",null),t=m([i.Component({selector:"igx-avatar",template:'<ng-template #defaultTemplate>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #imageTemplate>\n    <div #image class="igx-avatar__image" [style.backgroundImage]="getSrcUrl()"></div>\n</ng-template>\n\n<ng-template #initialsTemplate>\n    <span>{{initials.substring(0, 2)}}</span>\n</ng-template>\n\n<ng-template #iconTemplate>\n     <igx-icon>{{icon}}</igx-icon>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template"></ng-container>\n'})],t)}(),cs=function(){function e(){}return e=m([i.NgModule({declarations:[ls],exports:[ls],imports:[o.CommonModule,rs]})],e)}(),ps=0;(as=e.IgxBadgeType||(e.IgxBadgeType={})).PRIMARY="primary",as.INFO="info",as.SUCCESS="success",as.WARNING="warning",as.ERROR="error";var ds,us=function(){function t(){this.id="igx-badge-"+ps++,this.type=e.IgxBadgeType.PRIMARY,this.value="",this.role="status",this.cssClass="igx-badge",this.label="badge"}return Object.defineProperty(t.prototype,"roleDescription",{get:function(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"},enumerable:!0,configurable:!0}),t.prototype.setClasses=function(){var t,i,n,o,r,s={};switch(e.IgxBadgeType[this.type.toUpperCase()]){case e.IgxBadgeType.INFO:(t={})[this.cssClass+"__circle--info"]=!0,s=t;break;case e.IgxBadgeType.SUCCESS:(i={})[this.cssClass+"__circle--success"]=!0,s=i;break;case e.IgxBadgeType.WARNING:(n={})[this.cssClass+"__circle--warning"]=!0,s=n;break;case e.IgxBadgeType.ERROR:(o={})[this.cssClass+"__circle--error"]=!0,s=o;break;default:(r={})[this.cssClass+"__circle--default"]=!0,s=r}return s},m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"type",void 0),m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"icon",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("class.igx-badge")],t.prototype,"cssClass",void 0),m([i.HostBinding("attr.aria-label")],t.prototype,"label",void 0),t=m([i.Component({selector:"igx-badge",template:'<div class="igx-badge__circle" [ngClass]="setClasses()" [attr.aria-roledescription]="roleDescription">\n    <span *ngIf="!icon" class="igx-badge__circle-value">{{value}}</span>\n    <igx-icon *ngIf="icon" fontSet="material">{{icon}}</igx-icon>\n</div>\n'})],t)}(),hs=function(){function e(){}return e=m([i.NgModule({declarations:[us],exports:[us],imports:[o.CommonModule,rs]})],e)}(),gs=new i.InjectionToken("IgxExpansionPanelToken"),fs=function(){function e(e,t,i){this.panel=e,this.element=t,this.cdr=i,this._labelledBy="",this._label="",this.cssClass="igx-expansion-panel__body",this.role="region"}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label||this.panel.id+"-region"},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelledBy",{get:function(){return this._labelledBy},set:function(e){this._labelledBy=e},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[gs]}]},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.HostBinding("class.igx-expansion-panel__body")],e.prototype,"cssClass",void 0),m([i.Input(),i.HostBinding("attr.aria-label")],e.prototype,"label",null),m([i.Input(),i.HostBinding("attr.aria-labelledby")],e.prototype,"labelledBy",null),m([i.Input(),i.HostBinding("attr.role")],e.prototype,"role",void 0),e=m([i.Component({selector:"igx-expansion-panel-body",template:"<ng-content></ng-content>"}),y(0,i.Inject(gs))],e)}(),ms=function(){function e(){this.cssClass="igx-expansion-panel__header-title"}return m([i.HostBinding("class.igx-expansion-panel__header-title")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"igx-expansion-panel-title"})],e)}(),ys=function(){function e(){this.cssClass="igx-expansion-panel__header-description"}return m([i.HostBinding("class.igx-expansion-panel__header-description")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"igx-expansion-panel-description"})],e)}(),vs=function(){function e(){}return e=m([i.Directive({selector:"igx-expansion-panel-icon"})],e)}();!function(e){e.LEFT="left",e.NONE="none",e.RIGHT="right"}(ds||(ds={}));var bs,xs=function(){function e(e,t,n){this.panel=e,this.cdr=t,this.elementRef=n,this._iconTemplate=!1,this.id="",this.lv="3",this.role="heading",this.iconPosition=ds.LEFT,this.onInteraction=new i.EventEmitter,this.cssClass="igx-expansion-panel__header",this.disabled=!1,this.id=this.panel.id+"-header"}return Object.defineProperty(e.prototype,"iconTemplate",{get:function(){return this._iconTemplate},set:function(e){this._iconTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.panel.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return!this.panel.collapsed},enumerable:!0,configurable:!0}),e.prototype.onAction=function(e){this.disabled?e.stopPropagation():(this.onInteraction.emit({event:e,panel:this.panel}),this.panel.toggle(e),e.preventDefault())},e.prototype.openPanel=function(e){e.altKey&&(this.panel.expand(e),this.onInteraction.emit({event:e,panel:this.panel}))},e.prototype.closePanel=function(e){e.altKey&&(this.panel.collapse(e),this.onInteraction.emit({event:e,panel:this.panel}))},Object.defineProperty(e.prototype,"iconPositionClass",{get:function(){switch(this.iconPosition){case ds.LEFT:return"igx-expansion-panel__header-icon--start";case ds.RIGHT:return"igx-expansion-panel__header-icon--end";case ds.NONE:return"igx-expansion-panel__header-icon--none";default:return""}},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Host},{type:i.Inject,args:[gs]}]},{type:i.ChangeDetectorRef},{type:i.ElementRef}]},m([i.ContentChild(vs)],e.prototype,"iconTemplate",null),m([i.HostBinding("attr.aria-level"),i.Input()],e.prototype,"lv",void 0),m([i.HostBinding("attr.role"),i.Input()],e.prototype,"role",void 0),m([i.Input()],e.prototype,"iconPosition",void 0),m([i.Output()],e.prototype,"onInteraction",void 0),m([i.HostBinding("class.igx-expansion-panel__header")],e.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-expansion-panel__header--expanded")],e.prototype,"isExpanded",null),m([i.Input(),i.HostBinding("class.igx-expansion-panel--disabled")],e.prototype,"disabled",void 0),m([i.HostListener("keydown.Enter",["$event"]),i.HostListener("keydown.Space",["$event"]),i.HostListener("keydown.Spacebar",["$event"]),i.HostListener("click",["$event"])],e.prototype,"onAction",null),m([i.HostListener("keydown.Alt.ArrowDown",["$event"])],e.prototype,"openPanel",null),m([i.HostListener("keydown.Alt.ArrowUp",["$event"])],e.prototype,"closePanel",null),e=m([i.Component({selector:"igx-expansion-panel-header",template:'<div class="igx-expansion-panel__header-inner" tabindex="0" role="button" [attr.id]="id"\n[attr.aria-disabled]="disabled" [attr.aria-expanded]="isExpanded" [attr.aria-controls]="controls">\n    <div class="igx-expansion-panel__title-wrapper">\n        <ng-content select="igx-expansion-panel-title"></ng-content>\n        <ng-content select="igx-expansion-panel-description"></ng-content>\n    </div>\n    <ng-content></ng-content>\n    <div [class]="iconPositionClass">\n        <ng-content *ngIf="iconTemplate" select="igx-expansion-panel-icon"></ng-content>\n        <igx-icon *ngIf="!iconTemplate" fontSet="material">\n            {{panel.collapsed? \'expand_more\':\'expand_less\'}}\n        </igx-icon>\n    </div>\n</div>\n'}),y(0,i.Host()),y(0,i.Inject(gs))],e)}(),Cs=0,_s=function(){function e(e,t){this.cdr=e,this.builder=t,this._collapsed=!0,this.animationSettings={openAnimation:qt,closeAnimation:Zt},this.id="igx-expansion-panel-"+Cs++,this.cssClass="igx-expansion-panel",this.collapsedChange=new i.EventEmitter,this.onCollapsed=new i.EventEmitter,this.onExpanded=new i.EventEmitter}var n;return n=e,Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._collapsed},set:function(e){this._collapsed=e,this.collapsedChange.emit(this._collapsed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerId",{get:function(){return this.header?this.id+"-header":""},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.body&&this.header&&Promise.resolve().then((function(){e.body.labelledBy=e.body.labelledBy||e.headerId,e.body.label=e.body.label||e.id+"-region"}))},e.prototype.playOpenAnimation=function(e){if(this.body){var i=t.useAnimation(this.animationSettings.openAnimation),n=this.builder.build(i).create(this.body.element.nativeElement);n.onDone((function(){e(),n.reset()})),n.play()}},e.prototype.playCloseAnimation=function(e){if(this.body){var i=t.useAnimation(this.animationSettings.closeAnimation),n=this.builder.build(i).create(this.body.element.nativeElement);n.onDone((function(){e(),n.reset()})),n.play()}},e.prototype.collapse=function(e){var t=this;this.collapsed||this.playCloseAnimation((function(){t.onCollapsed.emit({event:e,panel:t}),t.collapsed=!0}))},e.prototype.expand=function(e){var t=this;this.collapsed&&(this.collapsed=!1,this.cdr.detectChanges(),this.playOpenAnimation((function(){t.onExpanded.emit({event:e,panel:t})})))},e.prototype.toggle=function(e){this.collapsed?this.open(e):this.close(e)},e.prototype.open=function(e){this.expand(e)},e.prototype.close=function(e){this.collapse(e)},e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:t.AnimationBuilder}]},m([i.Input()],e.prototype,"animationSettings",void 0),m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.HostBinding("class.igx-expansion-panel")],e.prototype,"cssClass",void 0),m([i.Input()],e.prototype,"collapsed",null),m([i.Output()],e.prototype,"collapsedChange",void 0),m([i.Output()],e.prototype,"onCollapsed",void 0),m([i.Output()],e.prototype,"onExpanded",void 0),m([i.ContentChild(fs,{read:fs})],e.prototype,"body",void 0),m([i.ContentChild(xs,{read:xs})],e.prototype,"header",void 0),e=n=m([i.Component({selector:"igx-expansion-panel",template:'<ng-content select="igx-expansion-panel-header"></ng-content>\n<ng-content *ngIf="!collapsed" select="igx-expansion-panel-body"></ng-content>\n',providers:[{provide:gs,useExisting:n}]})],e)}(),ws=function(){function e(){}return e=m([i.NgModule({declarations:[_s,xs,fs,ys,ms,vs],entryComponents:[],exports:[_s,xs,fs,ys,ms,vs],imports:[o.CommonModule,Vr,rs,Xo,cs]})],e)}(),Is=function(){function e(){}return e=m([i.Directive({selector:"igx-banner-actions"})],e)}(),Ss=function(){function e(e){this.elementRef=e,this.onOpened=new i.EventEmitter,this.onOpening=new i.EventEmitter,this.onClosed=new i.EventEmitter,this.onClosing=new i.EventEmitter}return Object.defineProperty(e.prototype,"useDefaultTemplate",{get:function(){return!this._bannerActionTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationSettings",{get:function(){return this._animationSettings?this._animationSettings:this._expansionPanel.animationSettings},set:function(e){this._animationSettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._expansionPanel.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayStyle",{get:function(){return this.collapsed?"":"block"},enumerable:!0,configurable:!0}),e.prototype.open=function(e){this._bannerEvent={banner:this,event:e};var t={banner:this,event:e,cancel:!1};this.onOpening.emit(t),t.cancel||this._expansionPanel.open(e)},e.prototype.close=function(e){this._bannerEvent={banner:this,event:e};var t={banner:this,event:e,cancel:!1};this.onClosing.emit(t),t.cancel||this._expansionPanel.close(e)},e.prototype.toggle=function(e){this.collapsed?this.open(e):this.close(e)},e.prototype.onExpansionPanelOpen=function(){this.onOpened.emit(this._bannerEvent)},e.prototype.onExpansionPanelClose=function(){this.onClosed.emit(this._bannerEvent)},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.ViewChild("expansionPanel",{static:!0})],e.prototype,"_expansionPanel",void 0),m([i.ContentChild(Is)],e.prototype,"_bannerActionTemplate",void 0),m([i.ContentChild(os)],e.prototype,"bannerIcon",void 0),m([i.Output()],e.prototype,"onOpened",void 0),m([i.Output()],e.prototype,"onOpening",void 0),m([i.Output()],e.prototype,"onClosed",void 0),m([i.Output()],e.prototype,"onClosing",void 0),m([i.Input()],e.prototype,"animationSettings",null),m([i.HostBinding("style.display")],e.prototype,"displayStyle",null),e=m([i.Component({selector:"igx-banner",template:'<igx-expansion-panel #expansionPanel [animationSettings]="animationSettings" (onCollapsed)="onExpansionPanelClose()" (onExpanded)="onExpansionPanelOpen()"\n    [collapsed]="collapsed" aria-live="polite" [attr.aria-hidden]="collapsed">\n    <igx-expansion-panel-body>\n        <div class="igx-banner">\n            <div class="igx-banner__message">\n                <div *ngIf="bannerIcon" class="igx-banner__illustration">\n                    <ng-content select="igx-icon"></ng-content>\n                </div>\n                <span class="igx-banner__text">\n                    <ng-content></ng-content>\n                </span>\n            </div>\n            <div class="igx-banner__actions">\n                <div class="igx-banner__row">\n                    <ng-container *ngIf="useDefaultTemplate">\n                        <button igxButton="flat" igxRipple (click)="close()">\n                            Dismiss\n                        </button>\n                    </ng-container>\n                    <ng-container *ngIf="!useDefaultTemplate">\n                        <ng-content select="igx-banner-actions"></ng-content>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </igx-expansion-panel-body>\n</igx-expansion-panel>'})],e)}(),Es=function(){function e(){}return e=m([i.NgModule({declarations:[Ss,Is],exports:[Ss,Is],imports:[o.CommonModule,ws,rs,Xo,Vr]})],e)}();(bs=e.ButtonGroupAlignment||(e.ButtonGroupAlignment={}))[bs.horizontal=0]="horizontal",bs[bs.vertical=1]="vertical";var Ds,Os,Ts=0,Ps=function(t){function n(e,n,o){var s=t.call(this,o)||this;return s._cdr=e,s._renderer=n,s._displayDensityOptions=o,s._disabled=!1,s.buttonClickNotifier$=new r.Subject,s.queryListNotifier$=new r.Subject,s.id="igx-buttongroup-"+Ts++,s.zIndex=0,s.multiSelection=!1,s.selectedIndexes=[],s.onSelect=new i.EventEmitter,s.onUnselect=new i.EventEmitter,s}return d(n,t),Object.defineProperty(n.prototype,"buttons",{get:function(){return x(this.viewButtons.toArray(),this.templateButtons.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemContentCssClass",{get:function(){return this._itemContentCssClass},set:function(e){this._itemContentCssClass=e||this._itemContentCssClass},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var t=this;this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach((function(e){return e.disabled=t._disabled})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"alignment",{get:function(){return this._isVertical?e.ButtonGroupAlignment.vertical:e.ButtonGroupAlignment.horizontal},set:function(t){this._isVertical=t===e.ButtonGroupAlignment.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVertical",{get:function(){return this._isVertical},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedButtons",{get:function(){var e=this;return this.buttons.filter((function(t,i){return-1!==e.selectedIndexes.indexOf(i)}))},enumerable:!0,configurable:!0}),n.prototype.selectButton=function(e){var t=this;if(!(e>=this.buttons.length||e<0)){var i=this.buttons[e],n=i.nativeElement;this.selectedIndexes.push(e),i.selected=!0,this._renderer.setAttribute(n,"aria-pressed","true"),this._renderer.addClass(n,"igx-button-group__item--selected"),this.onSelect.emit({button:i,index:e});var o=this.viewButtons.toArray().indexOf(i);-1!==o&&(this.values[o].selected=!0),!this.multiSelection&&this.selectedIndexes.length>1&&this.buttons.forEach((function(i,n){n!==e&&-1!==t.selectedIndexes.indexOf(n)&&t.deselectButton(n)}))}},n.prototype.deselectButton=function(e){if(!(e>=this.buttons.length||e<0)){var t=this.buttons[e],i=t.nativeElement;this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),t.selected=!1,this._renderer.setAttribute(i,"aria-pressed","false"),this._renderer.removeClass(i,"igx-button-group__item--selected"),this.onUnselect.emit({button:t,index:e});var n=this.viewButtons.toArray().indexOf(t);-1!==n&&(this.values[n].selected=!1)}},n.prototype.ngAfterContentInit=function(){var e=this;this.templateButtons.forEach((function(t){t.initialDensity||(t.displayDensity=e.displayDensity)}))},n.prototype.ngAfterViewInit=function(){var e=this,t=function(){e.buttonClickNotifier$.next(),e.selectedIndexes.splice(0,e.selectedIndexes.length),e.buttons.forEach((function(t,i){var n=t.nativeElement;e.disabled&&(t.disabled=!0),t.selected&&e.selectButton(i),t.buttonClick.pipe(s.takeUntil(e.buttonClickNotifier$)).subscribe((function(t){return e._clickHandler(t,i)})),e._renderer.addClass(n,"igx-button-group__item")}))};this.viewButtons.changes.pipe(s.takeUntil(this.queryListNotifier$)).subscribe((function(){return t()})),this.templateButtons.changes.pipe(s.takeUntil(this.queryListNotifier$)).subscribe((function(){return t()})),t(),this._cdr.detectChanges()},n.prototype.ngOnDestroy=function(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete()},n.prototype._clickHandler=function(e,t){-1!==this.selectedIndexes.indexOf(t)?this.deselectButton(t):this.selectButton(t)},n.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.Renderer2},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.ViewChildren(Yo)],n.prototype,"viewButtons",void 0),m([i.ContentChildren(Yo)],n.prototype,"templateButtons",void 0),m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",void 0),m([i.HostBinding("style.zIndex")],n.prototype,"zIndex",void 0),m([i.Input()],n.prototype,"itemContentCssClass",null),m([i.Input()],n.prototype,"multiSelection",void 0),m([i.Input()],n.prototype,"values",void 0),m([i.Input()],n.prototype,"disabled",null),m([i.Input()],n.prototype,"alignment",null),m([i.Output()],n.prototype,"onSelect",void 0),m([i.Output()],n.prototype,"onUnselect",void 0),n=m([i.Component({selector:"igx-buttongroup",template:'<div class="igx-button-group" role="group" [class.igx-button-group--vertical]="isVertical">\n    <button *ngFor="let button of values; let i = \'index\'"\n        type="button"\n        igxButton="flat"\n        [displayDensity]="displayDensity"\n        [selected]="button.selected"\n        [attr.data-togglable]="button.togglable"\n        [disabled]="disabled || button.disabled"\n        [igxButtonColor]="button.color"\n        [igxButtonBackground]="button.bgcolor"\n        [igxLabel]="button.label"\n        [igxRipple]="button.ripple"\n    >\n        <span class="igx-button-group__item-content {{ itemContentCssClass }}">\n            <igx-icon *ngIf="button.icon" fontSet="material">{{button.icon}}</igx-icon>\n            <span class="igx-button-group__button-text" *ngIf="button.label">{{button.label}}</span>\n        </span>\n    </button>\n    <ng-content></ng-content>\n</div>\n'}),y(2,i.Optional()),y(2,i.Inject(ao))],n)}(lo),Rs=function(){function e(){}return e=m([i.NgModule({declarations:[Ps],exports:[Ps],imports:[Xo,o.CommonModule,Vr,rs]})],e)}();(Ds=e.DateRangeType||(e.DateRangeType={}))[Ds.After=0]="After",Ds[Ds.Before=1]="Before",Ds[Ds.Between=2]="Between",Ds[Ds.Specific=3]="Specific",Ds[Ds.Weekdays=4]="Weekdays",Ds[Ds.Weekends=5]="Weekends",function(e){e.Month="month",e.Year="year"}(Os||(Os={}));var ks,Ls=[31,28,31,30,31,30,31,31,30,31,30,31];function As(e,t,i){void 0===e&&(e=0),void 0===i&&(i=1);for(var n=[],o=void 0===t?e:t,r=void 0===t?0:e;i<0?r>o:r<o;r+=i)n.push(r);return n}function Ms(e){return e%4==0&&(e%100!=0||e%400==0)}function Vs(e,t,i){return new Date(e,t,i).getDay()}function Fs(e,t){if(t<0||t>11)throw new Error("Invalid month specified");var i=Vs(e,t,1),n=Ls[t];return 1===t&&Ms(e)&&n++,[i,n]}function Hs(t,i){var n,o,r,s,a=(t=new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime();if(!i)return!1;try{for(var l=v(i),c=l.next();!c.done;c=l.next()){var p=c.value,d=p.dateRange?p.dateRange.map((function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())})):void 0;switch(p.type){case e.DateRangeType.After:if(a>d[0].getTime())return!0;break;case e.DateRangeType.Before:if(a<d[0].getTime())return!0;break;case e.DateRangeType.Between:var u=d.map((function(e){return e.getTime()})),h=Math.min(u[0],u[1]),g=Math.max(u[0],u[1]);if(a>=h&&a<=g)return!0;break;case e.DateRangeType.Specific:var f=d.map((function(e){return e.getTime()}));try{for(var m=(r=void 0,v(f)),y=m.next();!y.done;y=m.next()){if(a===y.value)return!0}}catch(e){r={error:e}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(r)throw r.error}}break;case e.DateRangeType.Weekdays:if(t.getDay()%6!=0)return!0;break;case e.DateRangeType.Weekends:if(t.getDay()%6==0)return!0;break;default:return!1}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return!1}(ks=e.WEEKDAYS||(e.WEEKDAYS={}))[ks.SUNDAY=0]="SUNDAY",ks[ks.MONDAY=1]="MONDAY",ks[ks.TUESDAY=2]="TUESDAY",ks[ks.WEDNESDAY=3]="WEDNESDAY",ks[ks.THURSDAY=4]="THURSDAY",ks[ks.FRIDAY=5]="FRIDAY",ks[ks.SATURDAY=6]="SATURDAY";var Bs,js,Ns=function(){function t(t){void 0===t&&(t=e.WEEKDAYS.SUNDAY),this._firstWeekDay=t}return Object.defineProperty(t.prototype,"firstWeekDay",{get:function(){return this._firstWeekDay%7},set:function(e){this._firstWeekDay=e},enumerable:!0,configurable:!0}),t.prototype.weekdays=function(){var e,t,i=[];try{for(var n=v(As(this.firstWeekDay,this.firstWeekDay+7)),o=n.next();!o.done;o=n.next()){var r=o.value;i.push(r%7)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i},t.prototype.monthdates=function(e,t,i){var n,o;void 0===i&&(i=!1);var r=new Date(e,t,1),s=(r.getDay()-this.firstWeekDay)%7;s<0&&(s=7-Math.abs(s)),r=this.timedelta(r,"day",-s);for(var a,l=[];;)if(a=this.generateICalendarDate(r,e,t),l.push(a),(r=this.timedelta(r,"day",1)).getMonth()!==t&&r.getDay()===this.firstWeekDay){if(i&&l.length<=35)try{for(var c=(n=void 0,v(As(0,7))),p=c.next();!p.done;p=c.next()){p.value;a=this.generateICalendarDate(r,e,t),l.push(a),r=this.timedelta(r,"day",1)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}break}return l},t.prototype.monthdatescalendar=function(e,t,i){var n,o;void 0===i&&(i=!1);var r=this.monthdates(e,t,i),s=[];try{for(var a=v(As(0,r.length,7)),l=a.next();!l.done;l=a.next()){var c=l.value;s.push(r.slice(c,c+7))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return s},t.prototype.timedelta=function(e,t,i){var n=new Date(e),o=function(){n.getDate()!==e.getDate()&&n.setDate(0)};switch(t.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+i),o();break;case"quarter":n.setMonth(n.getMonth()+3*i),o();break;case"month":n.setMonth(n.getMonth()+i),o();break;case"week":n.setDate(n.getDate()+7*i);break;case"day":n.setDate(n.getDate()+i);break;case"hour":n.setTime(n.getTime()+36e5*i);break;case"minute":n.setTime(n.getTime()+6e4*i);break;case"second":n.setTime(n.getTime()+1e3*i);break;default:throw new Error("Invalid interval specifier")}return n},t.prototype.formatToParts=function(e,t,i,n){var o,r,s,a,l=new Intl.DateTimeFormat(t,i),c={date:e,full:l.format(e)};if(l.formatToParts){var p=l.formatToParts(e),d=function(e){var t=p.findIndex((function(t){return t.type===e})),i={value:"",literal:"",combined:""};return"era"===e&&t>-1?(i.value=p[t].value,i):"era"===e&&-1===t?i:(i.value=p[t].value,i.literal=p[t+1]?p[t+1].value:"",i.combined=[i.value,i.literal].join(""),i)};try{for(var u=v(n),h=u.next();!h.done;h=u.next()){c[m=h.value]=d(m)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}}else try{for(var g=v(n),f=g.next();!f.done;f=g.next()){var m;c[m=f.value]={value:"",literal:"",combined:""}}}catch(e){s={error:e}}finally{try{f&&!f.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}return c},t.prototype.getFirstViewDate=function(e,t,i){return this.timedelta(e,t,-i)},t.prototype.getNextMonth=function(e){return this.timedelta(e,Os.Month,1)},t.prototype.getPrevMonth=function(e){return this.timedelta(e,Os.Month,-1)},t.prototype.getNextYear=function(e){return this.timedelta(e,Os.Year,1)},t.prototype.getPrevYear=function(e){return this.timedelta(e,Os.Year,-1)},t.prototype.generateICalendarDate=function(e,t,i){return{date:e,isCurrentMonth:e.getFullYear()===t&&e.getMonth()===i,isNextMonth:this.isNextMonth(e,t,i),isPrevMonth:this.isPreviousMonth(e,t,i)}},t.prototype.isPreviousMonth=function(e,t,i){return e.getFullYear()===t?e.getMonth()<i:e.getFullYear()<t},t.prototype.isNextMonth=function(e,t,i){return e.getFullYear()===t?e.getMonth()>i:e.getFullYear()>t},t}(),Gs=function(){function e(){this.onYearSelection=new i.EventEmitter}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.isCurrentYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.isCurrentYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentYear",{get:function(){return this.date.getFullYear()===this.value.getFullYear()},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){this.onYearSelection.emit(this.value)},m([i.Input("igxCalendarYear")],e.prototype,"value",void 0),m([i.Input()],e.prototype,"date",void 0),m([i.Output()],e.prototype,"onYearSelection",void 0),m([i.HostBinding("class.igx-calendar__year")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-calendar__year--current")],e.prototype,"currentCSS",null),m([i.HostListener("click")],e.prototype,"onClick",null),e=m([i.Directive({selector:"[igxCalendarYear]"})],e)}(),zs=function(){function e(e){this.elementRef=e,this.onMonthSelection=new i.EventEmitter,this.tabindex=0}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentMonth",{get:function(){return this.date.getMonth()===this.value.getMonth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){var e=new Date(this.value.getFullYear(),this.value.getMonth(),this.date.getDate());this.onMonthSelection.emit(e)},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input("igxCalendarMonth")],e.prototype,"value",void 0),m([i.Input()],e.prototype,"date",void 0),m([i.Input()],e.prototype,"index",void 0),m([i.Output()],e.prototype,"onMonthSelection",void 0),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",void 0),m([i.HostBinding("class.igx-calendar__month")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-calendar__month--current")],e.prototype,"currentCSS",null),m([i.HostListener("click")],e.prototype,"onClick",null),e=m([i.Directive({selector:"[igxCalendarMonth]"})],e)}(),Ws=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxCalendarHeader]"})],e)}(),Us=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxCalendarSubheader]"})],e)}(),$s=function(){function e(e,t){this.element=e,this.zone=t,this.destroy$=new r.Subject}return e.prototype.ngAfterViewInit=function(){var e=this;r.fromEvent(this.element.nativeElement,"keyup").pipe(s.debounce((function(){return r.interval(100)})),s.takeUntil(this.destroy$)).subscribe((function(t){e.stopScroll(t)})),this.zone.runOutsideAngular((function(){r.fromEvent(e.element.nativeElement,"keydown").pipe(s.tap((function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation())})),s.debounce((function(){return r.interval(100)})),s.takeUntil(e.destroy$)).subscribe((function(t){" "!==t.key&&"Spacebar"!==t.key&&"Enter"!==t.key||e.zone.run((function(){return e.startScroll(!0)}))}))}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.onMouseDown=function(){this.startScroll()},e.prototype.onMouseUp=function(e){this.stopScroll(e)},e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},m([i.Input()],e.prototype,"startScroll",void 0),m([i.Input()],e.prototype,"stopScroll",void 0),m([i.HostListener("mousedown")],e.prototype,"onMouseDown",null),m([i.HostListener("mouseup",["$event"])],e.prototype,"onMouseUp",null),e=m([i.Directive({selector:"[igxCalendarScrollMonth]"})],e)}();!function(e){e.SINGLE="single",e.MULTI="multi",e.RANGE="range"}(Bs||(Bs={})),function(e){e.PREV="prev",e.NEXT="next",e.NONE="none"}(js||(js={}));var Ks,Ys=function(){function e(){this.hideOutsideDays=!1,this.onSelection=new i.EventEmitter,this._selection=Bs.SINGLE,this.rangeStarted=!1,this._locale="en",this._disabledDates=null,this._specialDates=null,this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.monthScrollDirection=js.NONE,this.scrollMonth$=new r.Subject,this.stopMonthScroll$=new r.Subject,this.startMonthScroll$=new r.Subject,this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.calendarModel=new Ns,this.viewDate=this.viewDate?this.viewDate:new Date,this.calendarModel.firstWeekDay=this.weekStart,this.initFormatters()}return Object.defineProperty(e.prototype,"weekStart",{get:function(){return this.calendarModel.firstWeekDay},set:function(e){this.calendarModel.firstWeekDay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initFormatters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},set:function(e){this._formatOptions=Object.assign(this._formatOptions,e),this.initFormatters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatViews",{get:function(){return this._formatViews},set:function(e){this._formatViews=Object.assign(this._formatViews,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(e){switch(e){case Bs.SINGLE:this.selectedDates=null;break;case Bs.MULTI:case Bs.RANGE:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.selectedDates},set:function(e){!e||e&&0===e.length||this.selectDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewDate",{get:function(){return this._viewDate},set:function(e){this._viewDate=this.getDateOnly(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specialDates",{get:function(){return this._specialDates},set:function(e){this._specialDates=e},enumerable:!0,configurable:!0}),e.prototype.getDateOnlyInMs=function(e){return this.getDateOnly(e).getTime()},e.prototype.generateDateRange=function(e,t){var i=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()!==t.getTime();)e=this.calendarModel.timedelta(e,"day",1),i.push(e);return i},e.prototype.selectSingle=function(e){this.selectedDates=this.getDateOnly(e),this._onChangeCallback(this.selectedDates)},e.prototype.selectMultiple=function(e){var t=this;if(Array.isArray(e)){var i=e.map((function(e){return t.getDateOnly(e).getTime()})),n=this.selectedDates.map((function(e){return t.getDateOnly(e).getTime()}));if(JSON.stringify(i)===JSON.stringify(n))return;this.selectedDates=Array.from(new Set(x(i,n))).map((function(e){return new Date(e)}))}else{var o=this.getDateOnly(e),r=[];this.selectedDates.every((function(e){return e.getTime()!==o.getTime()}))?r.push(o):this.selectedDates=this.selectedDates.filter((function(e){return e.getTime()!==o.getTime()})),r.length>0&&(this.selectedDates=this.selectedDates.concat(r))}this.selectedDates=this.selectedDates.filter((function(e){return!t.isDateDisabled(e)})),this.selectedDates.sort((function(e,t){return e.valueOf()-t.valueOf()})),this._onChangeCallback(this.selectedDates)},e.prototype.selectRange=function(e,t){var i,n,o=this;if(void 0===t&&(t=!1),Array.isArray(e))e.sort((function(e,t){return e.valueOf()-t.valueOf()})),i=this.getDateOnly(e[0]),n=this.getDateOnly(e[e.length-1]),this.selectedDates=x([i],this.generateDateRange(i,n));else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates[0].getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);this.selectedDates.push(e),this.selectedDates.sort((function(e,t){return e.valueOf()-t.valueOf()})),i=this.selectedDates.shift(),n=this.selectedDates.pop(),this.selectedDates=x([i],this.generateDateRange(i,n))}else this.rangeStarted=!0,this.selectedDates=[e];t&&(this.selectedDates=this.selectedDates.filter((function(e){return!o.isDateDisabled(e)}))),this._onChangeCallback(this.selectedDates)},e.prototype.deselectSingle=function(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates)&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))},e.prototype.deselectMultiple=function(e){var t=this;e=e.filter((function(e){return null!==e}));for(var i=this.selectedDates.length,n=new Set(e.map((function(e){return t.getDateOnlyInMs(e)}))),o=this.selectedDates.length-1;o>=0;o--)n.has(this.getDateOnlyInMs(this.selectedDates[o]))&&this.selectedDates.splice(o,1);this.selectedDates.length!==i&&this._onChangeCallback(this.selectedDates)},e.prototype.deselectMultipleInMonth=function(e){var t=this.getDateOnly(e);this.selectedDates=this.selectedDates.filter((function(e){return e.getTime()!==t.getTime()}))},e.prototype.deselectRange=function(e){if(!((e=e.filter((function(e){return null!==e}))).length<1)){e.sort((function(e,t){return e.valueOf()-t.valueOf()}));var t=this.getDateOnlyInMs(e[0]),i=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort((function(e,t){return e.valueOf()-t.valueOf()}));var n=this.getDateOnlyInMs(this.selectedDates[0]),o=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);i<n||t>o||(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}},e.prototype.initFormatters=function(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day})},e.prototype.getDateOnly=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.writeValue=function(e){this.selectDate(e)},e.prototype.isDateDisabled=function(e){return null!==this.disabledDates&&Hs(e,this.disabledDates)},e.prototype.selectDate=function(e){if(!(null==e||Array.isArray(e)&&0===e.length))switch(this.selection){case Bs.SINGLE:si(e)&&!this.isDateDisabled(e)&&this.selectSingle(e);break;case Bs.MULTI:this.selectMultiple(e);break;case Bs.RANGE:this.selectRange(e,!0)}},e.prototype.deselectDate=function(e){if(this.selectedDates&&0!==this.selectedDates.length){if(null==e)return this.selectedDates=this.selection===Bs.SINGLE?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case Bs.SINGLE:this.deselectSingle(e);break;case Bs.MULTI:this.deselectMultiple(e);break;case Bs.RANGE:this.deselectRange(e)}}},e.prototype.selectDateFromClient=function(e){switch(this.selection){case Bs.SINGLE:case Bs.MULTI:this.selectDate(e);break;case Bs.RANGE:this.selectRange(e,!0)}},m([i.Input()],e.prototype,"weekStart",null),m([i.Input()],e.prototype,"locale",null),m([i.Input()],e.prototype,"formatOptions",null),m([i.Input()],e.prototype,"formatViews",null),m([i.Input()],e.prototype,"selection",null),m([i.Input()],e.prototype,"value",null),m([i.Input()],e.prototype,"viewDate",null),m([i.Input()],e.prototype,"disabledDates",null),m([i.Input()],e.prototype,"specialDates",null),m([i.Input()],e.prototype,"hideOutsideDays",void 0),m([i.Output()],e.prototype,"onSelection",void 0),e=m([i.Directive({selector:"[igxCalendarBase]"})],e)}();(Ks=e.CalendarView||(e.CalendarView={}))[Ks.DEFAULT=0]="DEFAULT",Ks[Ks.YEAR=1]="YEAR",Ks[Ks.DECADE=2]="DECADE";var Xs,qs=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.activeViewIdx=0,i.tabindex=0,i._activeView=e.CalendarView.DEFAULT,i}return d(n,t),Object.defineProperty(n.prototype,"activeView",{get:function(){return this._activeView},set:function(e){this._activeView=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDefaultView",{get:function(){return this._activeView===e.CalendarView.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDecadeView",{get:function(){return this._activeView===e.CalendarView.DECADE},enumerable:!0,configurable:!0}),n.prototype.changeYear=function(t){var i=this;this.viewDate=this.calendarModel.getFirstViewDate(t,"month",this.activeViewIdx),this.activeView=e.CalendarView.DEFAULT,requestAnimationFrame((function(){i.yearsBtns&&i.yearsBtns.length&&i.yearsBtns.find((function(e,t){return t===i.activeViewIdx})).nativeElement.focus()}))},n.prototype.activeViewDecade=function(t){void 0===t&&(t=0),this._activeView=e.CalendarView.DECADE,this.activeViewIdx=t},n.prototype.activeViewDecadeKB=function(e,t){void 0===t&&(t=0)," "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.activeViewDecade(t))},n.prototype.formattedYear=function(e){return this.formatViews.year?this.formatterYear.format(e):""+e.getFullYear()},m([i.HostBinding("attr.tabindex")],n.prototype,"tabindex",void 0),m([i.ViewChildren("yearsBtn")],n.prototype,"yearsBtns",void 0),n=m([i.Directive({selector:"[igxMonthPickerBase]"})],n)}(Ys),Zs=0,Js=function(){function e(e){this.el=e,this.id="igx-months-view-"+Zs++,this.date=new Date,this.formatView=!0,this.onSelection=new i.EventEmitter,this.styleClass=!0,this.tabindex=0,this._locale="en",this._monthFormat="short",this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.initMonthFormatter(),this._calendarModel=new Ns}var t;return t=e,Object.defineProperty(e.prototype,"monthFormat",{get:function(){return this._monthFormat},set:function(e){this._monthFormat=e,this.initMonthFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initMonthFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"months",{get:function(){for(var e=new Date(this.date.getFullYear(),0,1),t=[],i=0;i<12;i++)t.push(e),e=this._calendarModel.timedelta(e,"month",1);return t},enumerable:!0,configurable:!0}),e.prototype.formattedMonth=function(e){return this.formatView?this._formatterMonth.format(e):""+e.getMonth()},e.prototype.selectMonth=function(e){this.onSelection.emit(e),this.date=e,this._onChangeCallback(this.date)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.writeValue=function(e){e&&(this.date=e)},e.prototype.monthTracker=function(e,t){return t.getMonth()+"}"},e.prototype.initMonthFormatter=function(){this._formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation();var t=this.monthsRef.find((function(t){return t.nativeElement===e.target}));if(t)for(var i=this.monthsRef.toArray(),n=t.nativeElement.getBoundingClientRect(),o=i.indexOf(t)-1;o>=0;o--){var r=i[o].nativeElement.getBoundingClientRect();if(n.top!==r.top&&r.left-n.left<6){i[o].nativeElement.focus();break}}},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation();var t=this.monthsRef.find((function(t){return t.nativeElement===e.target}));if(t)for(var i=this.monthsRef.toArray(),n=t.nativeElement.getBoundingClientRect(),o=i.indexOf(t)+1;o<i.length;o++){var r=i[o].nativeElement.getBoundingClientRect();if(r.top!==n.top&&n.left-r.left<6){i[o].nativeElement.focus();break}}},e.prototype.onKeydownArrowRight=function(e){e.preventDefault(),e.stopPropagation();var t=this.monthsRef.find((function(t){return t.nativeElement===e.target}));if(t){var i=this.monthsRef.toArray();if(i.indexOf(t)+1<i.length)i[i.indexOf(t)+1].nativeElement.focus()}},e.prototype.onKeydownArrowLeft=function(e){e.preventDefault(),e.stopPropagation();var t=this.monthsRef.find((function(t){return t.nativeElement===e.target}));if(t){var i=this.monthsRef.toArray();if(i.indexOf(t)-1>=0)i[i.indexOf(t)-1].nativeElement.focus()}},e.prototype.onKeydownHome=function(e){e.preventDefault(),e.stopPropagation(),this.monthsRef.toArray()[0].nativeElement.focus()},e.prototype.onKeydownEnd=function(e){e.preventDefault(),e.stopPropagation();var t=this.monthsRef.toArray();t[t.length-1].nativeElement.focus()},e.prototype.onKeydownEnter=function(e){var t=this.monthsRef.find((function(t){return t.nativeElement===e.target})).value;this.date=new Date(t.getFullYear(),t.getMonth(),this.date.getDate()),this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"date",void 0),m([i.Input()],e.prototype,"monthFormat",null),m([i.Input()],e.prototype,"locale",null),m([i.Input()],e.prototype,"formatView",void 0),m([i.Output()],e.prototype,"onSelection",void 0),m([i.HostBinding("class.igx-calendar")],e.prototype,"styleClass",void 0),m([i.ViewChildren(zs,{read:zs})],e.prototype,"monthsRef",void 0),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",void 0),m([i.HostListener("keydown.arrowup",["$event"])],e.prototype,"onKeydownArrowUp",null),m([i.HostListener("keydown.arrowdown",["$event"])],e.prototype,"onKeydownArrowDown",null),m([i.HostListener("keydown.arrowright",["$event"])],e.prototype,"onKeydownArrowRight",null),m([i.HostListener("keydown.arrowleft",["$event"])],e.prototype,"onKeydownArrowLeft",null),m([i.HostListener("keydown.home",["$event"])],e.prototype,"onKeydownHome",null),m([i.HostListener("keydown.end",["$event"])],e.prototype,"onKeydownEnd",null),m([i.HostListener("keydown.enter",["$event"])],e.prototype,"onKeydownEnter",null),e=t=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t,multi:!0}],selector:"igx-months-view",template:'<div class="igx-calendar__body">\n    <div class="igx-calendar__body-row--wrap">\n        <div [igxCalendarMonth]="month" [date]="date" (onMonthSelection)="selectMonth($event)" [index]="i" *ngFor="let month of months; index as i; trackBy: monthTracker">\n            {{ formattedMonth(month) | titlecase }}\n        </div>\n    </div>\n</div>\n\n'})],e)}(),Qs=0,ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}},t}return d(t,e),t=m([i.Injectable()],t)}(c.HammerGestureConfig),ta=function(){function e(e){this.el=e,this.id="igx-years-view-"+Qs++,this.date=new Date,this.onSelection=new i.EventEmitter,this.styleClass=!0,this.tabindex=0,this._locale="en",this._yearFormat="numeric",this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.initYearFormatter(),this._calendarModel=new Ns}var t;return t=e,Object.defineProperty(e.prototype,"yearFormat",{get:function(){return this._yearFormat},set:function(e){this._yearFormat=e,this.initYearFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initYearFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decade",{get:function(){var e,t,i=[],n=this.date.getFullYear()-3,o=this.date.getFullYear()+4;try{for(var r=v(As(n,o)),s=r.next();!s.done;s=r.next()){var a=s.value;i.push(new Date(a,this.date.getMonth(),this.date.getDate()))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),e.prototype.formattedYear=function(e){return this.formatView?this._formatterYear.format(e):""+e.getFullYear()},e.prototype.selectYear=function(e){this.date=e,this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.prototype.scroll=function(e){e.preventDefault(),e.stopPropagation();var t=e.deltaY<0?-1:1;this.generateYearRange(t)},e.prototype.pan=function(e){var t=e.deltaY<0?1:-1;this.generateYearRange(t)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.yearTracker=function(e,t){return t.getFullYear()+"}"},e.prototype.writeValue=function(e){e&&(this.date=e)},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(1)},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(-1)},e.prototype.onKeydownEnter=function(){this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.prototype.initYearFormatter=function(){this._formatterYear=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})},e.prototype.generateYearRange=function(e){var t=(new Date).getFullYear();e>0&&this.date.getFullYear()-t>=95||e<0&&t-this.date.getFullYear()>=95||(this.date=this._calendarModel.timedelta(this.date,"year",e))},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"date",void 0),m([i.Input()],e.prototype,"yearFormat",null),m([i.Input()],e.prototype,"locale",null),m([i.Input()],e.prototype,"formatView",void 0),m([i.Output()],e.prototype,"onSelection",void 0),m([i.HostBinding("class.igx-calendar")],e.prototype,"styleClass",void 0),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",void 0),m([i.HostListener("keydown.arrowdown",["$event"])],e.prototype,"onKeydownArrowDown",null),m([i.HostListener("keydown.arrowup",["$event"])],e.prototype,"onKeydownArrowUp",null),m([i.HostListener("keydown.enter")],e.prototype,"onKeydownEnter",null),e=t=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t,multi:!0},{provide:c.HAMMER_GESTURE_CONFIG,useClass:ea}],selector:"igx-years-view",template:'<div class="igx-calendar__body">\n    <div class="igx-calendar__body-column" (wheel)="scroll($event)" (pan)="pan($event)">\n        <span [igxCalendarYear]="year" [date]="date" (onYearSelection)="selectYear($event)" *ngFor="let year of decade; trackBy: yearTracker">\n            {{ formattedYear(year) }}\n        </span>\n    </div>\n</div>\n'})],e)}(),ia=function(){function e(e){this.elementRef=e,this.hideOutsideDays=!1,this.isLastInRange=!1,this.isFirstInRange=!1,this.isWithinRange=!1,this.onDateSelection=new i.EventEmitter,this._selected=!1}return Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentMonth",{get:function(){return this.date.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPreviousMonth",{get:function(){return this.date.isPrevMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isNextMonth",{get:function(){return this.date.isNextMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedCSS",{get:function(){return!this.isDisabled&&this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInactive",{get:function(){return this.date.isNextMonth||this.date.isPrevMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.hideOutsideDays&&this.isInactive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToday",{get:function(){var e=new Date(Date.now()),t=this.date.date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWeekend",{get:function(){var e=this.date.date.getDay();return 0===e||6===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return null!==this.disabledDates&&Hs(this.date.date,this.disabledDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOutOfRange",{get:function(){return!!this.outOfRangeDates&&Hs(this.date.date,this.outOfRangeDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocusable",{get:function(){return this.isCurrentMonth&&!this.isHidden&&!this.isDisabled&&!this.isOutOfRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWithinRangeCSS",{get:function(){return!this.isSingleSelection&&this.isWithinRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecial",{get:function(){return null!==this.specialDates&&Hs(this.date.date,this.specialDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return this.date.isCurrentMonth&&!(this.isWeekend&&this.selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabledCSS",{get:function(){return this.isHidden||this.isDisabled||this.isOutOfRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleSelection",{get:function(){return this.selection!==Bs.RANGE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){return this.isDisabled||this.isHidden?-1:0},enumerable:!0,configurable:!0}),e.prototype.onSelect=function(){this.onDateSelection.emit(this.date)},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input()],e.prototype,"date",void 0),m([i.Input()],e.prototype,"selection",void 0),m([i.Input()],e.prototype,"selected",null),m([i.Input()],e.prototype,"disabledDates",void 0),m([i.Input()],e.prototype,"outOfRangeDates",void 0),m([i.Input()],e.prototype,"specialDates",void 0),m([i.Input()],e.prototype,"hideOutsideDays",void 0),m([i.Input(),i.HostBinding("class.igx-calendar__date--last")],e.prototype,"isLastInRange",void 0),m([i.Input(),i.HostBinding("class.igx-calendar__date--first")],e.prototype,"isFirstInRange",void 0),m([i.Input()],e.prototype,"isWithinRange",void 0),m([i.Output()],e.prototype,"onDateSelection",void 0),m([i.HostBinding("class.igx-calendar__date--selected")],e.prototype,"isSelectedCSS",null),m([i.HostBinding("class.igx-calendar__date--inactive")],e.prototype,"isInactive",null),m([i.HostBinding("class.igx-calendar__date--hidden")],e.prototype,"isHidden",null),m([i.HostBinding("class.igx-calendar__date--current")],e.prototype,"isToday",null),m([i.HostBinding("class.igx-calendar__date--weekend")],e.prototype,"isWeekend",null),m([i.HostBinding("class.igx-calendar__date--range")],e.prototype,"isWithinRangeCSS",null),m([i.HostBinding("class.igx-calendar__date--special")],e.prototype,"isSpecial",null),m([i.HostBinding("class.igx-calendar__date")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-calendar__date--disabled")],e.prototype,"isDisabledCSS",null),m([i.HostBinding("class.igx-calendar__date--single")],e.prototype,"isSingleSelection",null),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",null),m([i.HostListener("click"),i.HostListener("keydown.enter")],e.prototype,"onSelect",null),e=m([i.Component({selector:"igx-day-item",template:'<span class="igx-calendar__date-content">\n    <ng-content></ng-content>\n</span>\n'})],e)}();!function(e){e.Up="ArrowUp",e.Down="ArrowDown",e.Left="ArrowLeft",e.Right="ArrowRight"}(Xs||(Xs={}));var na,oa=function(){function e(){}return e.prototype.focusNextDate=function(e,t,i){void 0===i&&(i=!1),0===e.childElementCount&&(e=e.parentElement),-1===t.indexOf("Arrow")&&(t="Arrow".concat(t));var n,o,r,s,a=this.monthView,l=a.dates.find((function(t){return t.nativeElement===e})),c=a.dates.toArray(),p=c.indexOf(l);if(l){switch(t){case Xs.Left:for(o=-1,s=this.timedelta(l.date.date,o),r=p;r>0&&(n=i?c[r]:c[r-1],s=n.date.date,!n.date.isPrevMonth);r--)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case Xs.Right:for(o=1,s=this.timedelta(l.date.date,o),r=p;r<c.length-1&&(n=i?c[r]:c[r+1],s=n.date.date,!n.date.isNextMonth);r++)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case Xs.Up:for(o=-7,s=this.timedelta(l.date.date,o),r=p;r-7>-1&&(n=i?c[r]:c[r-7],s=n.date.date,!n.date.isPrevMonth);r-=7)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case Xs.Down:for(o=7,s=this.timedelta(l.date.date,o),r=p;r+7<42&&(n=i?c[r]:c[r+7],s=n.date.date,!n.date.isNextMonth);r+=7)if(n&&n.isFocusable)return void n.nativeElement.focus()}var d,u=o>0?a.nextMonthView:a.prevMonthView;if(u){if((n=(c=u.dates.toArray()).find((function(e){return e.date.date.getTime()===s.getTime()})))&&n.isFocusable)return void n.nativeElement.focus();u.daysNavService.focusNextDate(n.nativeElement,t)}if(n&&!n.isFocusable&&((n=c[r+o])||(s=this.timedelta(l.date.date,o+r-p))),n&&(d=o>0?n.date.isNextMonth:n.date.isPrevMonth),a.changeDaysView&&!u&&(n&&d||!n)){var h=o>0?js.NEXT:js.PREV;a.onViewChanging.emit({monthAction:h,key:t,nextDate:s})}}},e.prototype.focusHomeDate=function(){for(var e=this.monthView;!this.focusFirstDay(e)&&e.nextMonthView;)e=e.nextMonthView},e.prototype.focusEndDate=function(){for(var e=this.monthView;!this.focusLastDay(e)&&e.prevMonthView;)e=e.prevMonthView},e.prototype.timedelta=function(e,t){var i=new Date(e);return i.setDate(i.getDate()+t),i},e.prototype.focusFirstDay=function(e){for(var t=e.dates.filter((function(e){return e.isCurrentMonth})),i=0;i<t.length;i++)if(t[i].isFocusable)return t[i].nativeElement.focus(),!0;return!1},e.prototype.focusLastDay=function(e){for(var t=e.dates.filter((function(e){return e.isCurrentMonth})),i=t.length-1;i>=0;i--)if(t[i].isFocusable)return t[i].nativeElement.focus(),!0;return!1},e=m([i.Injectable()],e)}(),ra=0,sa=function(t){function o(e){var n=t.call(this)||this;return n.daysNavService=e,n.id="igx-days-view-"+ra++,n.changeDaysView=!1,n.onDateSelection=new i.EventEmitter,n.onViewChanging=new i.EventEmitter,n.styleClass=!0,n}var r;return d(o,t),r=o,Object.defineProperty(o.prototype,"getCalendarMonth",{get:function(){return this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth(),!0)},enumerable:!0,configurable:!0}),o.prototype.ngOnInit=function(){this.daysNavService.monthView=this},o.prototype.ngDoCheck=function(){!this.changeDaysView&&this.dates&&this.disableOutOfRangeDates()},o.prototype.formattedDate=function(e){return this.formatViews.day?this.formatterDay.format(e):""+e.getDate()},o.prototype.generateWeekHeader=function(){var e,t,i=[],n=this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth())[0];try{for(var o=v(n),r=o.next();!r.done;r=o.next()){var s=r.value;i.push(this.formatterWeekday.format(s.date))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i},o.prototype.rowTracker=function(e,t){return""+t[e].date.getMonth()+t[e].date.getDate()},o.prototype.dateTracker=function(e,t){return t.date.getMonth()+"--"+t.date.getDate()},o.prototype.isCurrentMonth=function(e){return this.viewDate.getMonth()===e.getMonth()},o.prototype.isCurrentYear=function(e){return this.viewDate.getFullYear()===e.getFullYear()},o.prototype.isSelected=function(e){var t;if(this.isDateDisabled(e.date)||!this.value||Array.isArray(this.value)&&0===this.value.length)return!1;if(this.selection===Bs.SINGLE)return t=this.value,this.getDateOnly(t).getTime()===e.date.getTime();if(t=this.value,this.selection===Bs.RANGE&&1===t.length)return this.getDateOnly(t[0]).getTime()===e.date.getTime();if(this.selection===Bs.MULTI){var i=this.getDateOnly(t[0]),n=this.getDateOnly(t[t.length-1]);return!!this.isWithinRange(e.date,!1,i,n)&&!!t.find((function(t){return t.getTime()===e.date.getTime()}))}return this.isWithinRange(e.date,!0)},o.prototype.isLastInRange=function(e){if(this.isSingleSelection||!this.value)return!1;var t=this.value;return ai(t[t.length-1],e.date)},o.prototype.isFirstInRange=function(e){return!(this.isSingleSelection||!this.value)&&ai(this.value[0],e.date)},o.prototype.isWithinRange=function(t,i,n,o){return!(i&&!(Array.isArray(this.value)&&this.value.length>1))&&(n=n||this.value[0],o=o||this.value[this.value.length-1],Hs(t,[{type:e.DateRangeType.Between,dateRange:[n,o]}]))},o.prototype.focusActiveDate=function(){var e=this.dates.find((function(e){return e.selected}));e||(e=this.dates.find((function(e){return e.isToday}))),e.isFocusable&&e.nativeElement.focus()},o.prototype.selectDay=function(e){this.selectDateFromClient(e.date),this.onDateSelection.emit(e),this.onSelection.emit(this.selectedDates)},o.prototype.disableOutOfRangeDates=function(){var t=[];this.dates.toArray().forEach((function(e){e.isCurrentMonth||t.push(e.date.date)})),this.outOfRangeDates=[{type:e.DateRangeType.Specific,dateRange:t}]},o.prototype.getFirstMonthView=function(){for(var e=this;e.prevMonthView;)e=e.prevMonthView;return e},o.prototype.getLastMonthView=function(){for(var e=this;e.nextMonthView;)e=e.nextMonthView;return e},Object.defineProperty(o.prototype,"isSingleSelection",{get:function(){return this.selection!==Bs.RANGE},enumerable:!0,configurable:!0}),o.prototype.onKeydownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.daysNavService.focusNextDate(e.target,e.key)},o.prototype.onKeydownHome=function(e){e.preventDefault(),e.stopPropagation(),this.getFirstMonthView().daysNavService.focusHomeDate()},o.prototype.onKeydownEnd=function(e){e.preventDefault(),e.stopPropagation(),this.getLastMonthView().daysNavService.focusEndDate()},o.ctorParameters=function(){return[{type:oa}]},m([i.HostBinding("attr.id"),i.Input()],o.prototype,"id",void 0),m([i.Input()],o.prototype,"changeDaysView",void 0),m([i.Output()],o.prototype,"onDateSelection",void 0),m([i.Output()],o.prototype,"onViewChanging",void 0),m([i.ViewChildren(ia,{read:ia})],o.prototype,"dates",void 0),m([i.HostBinding("class.igx-calendar")],o.prototype,"styleClass",void 0),m([i.HostListener("keydown.arrowleft",["$event"]),i.HostListener("keydown.arrowright",["$event"]),i.HostListener("keydown.arrowup",["$event"]),i.HostListener("keydown.arrowdown",["$event"])],o.prototype,"onKeydownArrow",null),m([i.HostListener("keydown.home",["$event"])],o.prototype,"onKeydownHome",null),m([i.HostListener("keydown.end",["$event"])],o.prototype,"onKeydownEnd",null),o=r=m([i.Component({providers:[{multi:!0,provide:n.NG_VALUE_ACCESSOR,useExisting:r},{provide:oa,useClass:oa}],selector:"igx-days-view",template:'<div class="igx-calendar__body-row">\n    <span *ngFor="let dayName of generateWeekHeader()" class="igx-calendar__label">\n        {{ dayName | titlecase }}\n    </span>\n</div>\n\n<div *ngFor="let week of getCalendarMonth; last as isLast; index as i; trackBy: rowTracker"\n    class="igx-calendar__body-row">\n    <igx-day-item\n        *ngFor="let day of week; trackBy: dateTracker"\n        [date]="day"\n        [selection]="selection"\n        [selected]="isSelected(day)"\n        [isLastInRange]="isLastInRange(day)"\n        [isFirstInRange]="isFirstInRange(day)"\n        [isWithinRange]="isWithinRange(day.date, true)"\n        [disabledDates]="disabledDates"\n        [specialDates]="specialDates"\n        [outOfRangeDates]="outOfRangeDates"\n        [hideOutsideDays]="hideOutsideDays"\n        (onDateSelection)="selectDay($event)">\n        {{ formattedDate(day.date) }}\n    </igx-day-item>\n</div>\n'})],o)}(Ys),aa=0,la=function(o){function a(){var e=null!==o&&o.apply(this,arguments)||this;return e.id="igx-calendar-"+aa++,e.hasHeader=!0,e.vertical=!1,e.animationAction="",e.isKeydownTrigger=!1,e.tabindex=0,e.role="grid",e.ariaLabelledBy="calendar",e.styleClass=!0,e._monthsViewNumber=1,e.startPrevMonthScroll=function(t){void 0===t&&(t=!1),e.startMonthScroll$.next(),e.monthScrollDirection=js.PREV,e.previousMonth(t)},e.startNextMonthScroll=function(t){void 0===t&&(t=!1),e.startMonthScroll$.next(),e.monthScrollDirection=js.NEXT,e.nextMonth(t)},e.stopMonthScroll=function(t){t.stopPropagation(),e.daysView.stopMonthScroll$.next(!0),e.daysView.stopMonthScroll$.complete(),e.monthScrollDirection===js.PREV?e.prevMonthBtn.nativeElement.focus():e.monthScrollDirection===js.NEXT&&e.nextMonthBtn.nativeElement.focus(),e.monthScrollDirection=js.NONE},e}var l;return d(a,o),l=a,Object.defineProperty(a.prototype,"monthsViewNumber",{get:function(){return this._monthsViewNumber},set:function(e){e<1||(this._monthsViewNumber=e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"styleVerticalClass",{get:function(){return this.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isYearView",{get:function(){return this.activeView===e.CalendarView.YEAR},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"headerTemplate",{get:function(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null},set:function(e){this.headerTemplateDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"subheaderTemplate",{get:function(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null},set:function(e){this.subheaderTemplateDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"headerContext",{get:function(){var e=this.headerDate;return this.generateContext(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"context",{get:function(){var e=this.viewDate;return this.generateContext(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"headerDate",{get:function(){return this.selectedDates?this.selectedDates:new Date},enumerable:!0,configurable:!0}),a.prototype.ngAfterViewInit=function(){var e=this;this.setSiblingMonths(this.monthViews),this._monthViewsChanges$=this.monthViews.changes.subscribe((function(t){e.setSiblingMonths(t)})),this.startMonthScroll$.pipe(s.takeUntil(this.stopMonthScroll$),s.switchMap((function(){return e.scrollMonth$.pipe(s.skipLast(1),s.debounce((function(){return r.interval(300)})),s.takeUntil(e.stopMonthScroll$))}))).subscribe((function(){switch(e.monthScrollDirection){case js.PREV:e.previousMonth();break;case js.NEXT:e.nextMonth();break;case js.NONE:}}))},a.prototype.formattedMonth=function(e){return this.formatViews.month?this.formatterMonth.format(e):""+e.getMonth()},a.prototype.previousMonth=function(e){void 0===e&&(e=!1),this.viewDate=this.calendarModel.getPrevMonth(this.viewDate),this.animationAction=js.PREV,this.isKeydownTrigger=e},a.prototype.nextMonth=function(e){void 0===e&&(e=!1),this.viewDate=this.calendarModel.getNextMonth(this.viewDate),this.animationAction=js.NEXT,this.isKeydownTrigger=e},a.prototype.onActiveViewDecade=function(e,t){var i=this;o.prototype.activeViewDecade.call(this,t),requestAnimationFrame((function(){i.dacadeView&&(i.dacadeView.date=e,i.dacadeView.el.nativeElement.focus())}))},a.prototype.onActiveViewDecadeKB=function(e,t,i){var n=this;o.prototype.activeViewDecadeKB.call(this,e,i),requestAnimationFrame((function(){n.dacadeView&&(n.dacadeView.date=t,n.dacadeView.el.nativeElement.focus())}))},a.prototype.getFormattedDate=function(){var e=this.headerDate;return{monthday:this.formatterMonthday.format(e),weekday:this.formatterWeekday.format(e)}},a.prototype.childClicked=function(e){e.isPrevMonth&&this.previousMonth(),e.isNextMonth&&this.nextMonth(),this.selectDateFromClient(e.date),"multi"===this.selection&&this.deselectDateInMonthViews(e.date),this.onSelection.emit(this.selectedDates)},a.prototype.viewChanging=function(e){var t=this;this.animationAction=e.monthAction,this.isKeydownTrigger=!0,this.nextDate=e.nextDate,this.callback=function(i){var n=t.daysView.dates.find((function(e){return e.date.date.getTime()===i.getTime()}));n&&t.daysView.daysNavService.focusNextDate(n.nativeElement,e.key,!0)},this.viewDate=this.nextDate},a.prototype.changeMonth=function(t){var i=this;this.viewDate=this.calendarModel.getFirstViewDate(t,"month",this.activeViewIdx),this.activeView=e.CalendarView.DEFAULT,requestAnimationFrame((function(){var e=i.monthsBtns.find((function(e,t){return t===i.activeViewIdx}));e&&e.nativeElement.focus()}))},a.prototype.onActiveViewYear=function(t,i,n){var o=this;this.activeView=e.CalendarView.YEAR,this.activeViewIdx=i,requestAnimationFrame((function(){o.monthsView.date=t,o.focusMonth(n.target)}))},a.prototype.focusMonth=function(e){var t=this.monthsView.monthsRef.find((function(t){return t.index===parseInt(e.parentElement.attributes["data-month"].value,10)}));t&&t.nativeElement.focus()},a.prototype.onActiveViewYearKB=function(e,t,i){" "!==t.key&&"Spacebar"!==t.key&&"Enter"!==t.key||(t.preventDefault(),this.onActiveViewYear(e,i,t))},a.prototype.deselectDate=function(e){var t=this;o.prototype.deselectDate.call(this,e),this.monthViews.forEach((function(e){e.selectedDates=t.selectedDates,e.rangeStarted=!1})),this._onChangeCallback(this.selectedDates)},a.prototype.deselectDateInMonthViews=function(e){this.monthViews.forEach((function(t){t.deselectMultipleInMonth(e)}))},a.prototype.getViewDate=function(e){return this.calendarModel.timedelta(this.viewDate,"month",e)},a.prototype.getContext=function(e){var t=this.getViewDate(e);return this.generateContext(t,e)},a.prototype.animationDone=function(t){if(this.monthScrollDirection!==js.NONE&&this.scrollMonth$.next(),this.activeView===e.CalendarView.DEFAULT){for(var i=this.daysView,n=i.dates.find((function(e){return e.selected}));!n&&i.nextMonthView;)i=i.nextMonthView,n=i.dates.find((function(e){return e.selected}));n&&n.isFocusable&&!this.isKeydownTrigger?setTimeout((function(){n.nativeElement.focus()}),parseInt(ft.options.params.duration,10)):!this.callback||t.toState!==js.NEXT&&t.toState!==js.PREV||this.callback(this.nextDate),this.animationAction=js.NONE}},a.prototype.onKeydownPageDown=function(t){var i=this;if(t.preventDefault(),this.activeView===e.CalendarView.DEFAULT){for(var n,o="PageDown"===t.key,r=o?1:-1,s=this.daysView;!n&&s;)n=s.dates.find((function(e){return e.nativeElement===document.activeElement})),s=s.nextMonthView;if(n){this.nextDate=new Date(n.date.date);var a=this.nextDate.getFullYear(),l=this.nextDate.getMonth()+r;o?l>11&&(l=0,a+=r):l<0&&(l=11,a+=r);var c=Fs(this.nextDate.getFullYear(),l),p=this.nextDate.getDate();p>c[1]&&(p=c[1]),this.nextDate.setDate(p),this.nextDate.setMonth(l),this.nextDate.setFullYear(a),this.callback=function(e){var t;for(s=i.daysView;!t&&s||t&&!t.isCurrentMonth;)t=s.dates.find((function(t){return t.date.date.getTime()===e.getTime()})),s=s.nextMonthView;t&&t.isFocusable&&t.nativeElement.focus()}}o?this.nextMonth(!0):this.previousMonth(!0)}},a.prototype.onKeydownShiftPageUp=function(t){var i=this;if(t.preventDefault(),this.activeView===e.CalendarView.DEFAULT){var n="PageDown"===t.key,o=n?1:-1;this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",o),this.animationAction=n?js.NEXT:js.PREV,this.isKeydownTrigger=!0;for(var r,s=this.daysView;!r&&s;)r=s.dates.find((function(e){return e.nativeElement===document.activeElement})),s=s.nextMonthView;if(r){this.nextDate=new Date(r.date.date);var a=this.nextDate.getFullYear()+o,l=Fs(a,this.nextDate.getMonth()),c=this.nextDate.getDate();c>l[1]&&(c=l[1]),this.nextDate.setDate(c),this.nextDate.setFullYear(a),this.callback=function(e){var t;for(s=i.daysView;!t&&s||t&&!t.isCurrentMonth;)t=s.dates.find((function(t){return t.date.date.getTime()===e.getTime()})),s=s.nextMonthView;t&&t.isFocusable&&t.nativeElement.focus()}}}},a.prototype.onKeydownHome=function(e){this.daysView&&this.daysView.onKeydownHome(e)},a.prototype.onKeydownEnd=function(e){this.daysView&&this.daysView.onKeydownEnd(e)},a.prototype.onMouseUp=function(e){this.monthScrollDirection!==js.NONE&&this.stopMonthScroll(e)},a.prototype.ngOnDestroy=function(){this._monthViewsChanges$&&this._monthViewsChanges$.unsubscribe()},a.prototype.generateContext=function(e,t){var i=this;return{$implicit:f({index:t,monthView:function(){return i.onActiveViewYear(e,t)},yearView:function(){return i.onActiveViewDecade(e,t)}},this.calendarModel.formatToParts(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]))}},a.prototype.setSiblingMonths=function(e){var t=this;e.forEach((function(e,i){var n=t.getMonthView(i-1),o=t.getMonthView(i+1);e.nextMonthView=o,e.prevMonthView=n}))},a.prototype.getMonthView=function(e){return-1===e||e===this.monthViews.length?null:this.monthViews.toArray()[e]},m([i.HostBinding("attr.id"),i.Input()],a.prototype,"id",void 0),m([i.Input()],a.prototype,"hasHeader",void 0),m([i.Input()],a.prototype,"vertical",void 0),m([i.Input()],a.prototype,"monthsViewNumber",null),m([i.Input()],a.prototype,"animationAction",void 0),m([i.HostBinding("attr.tabindex")],a.prototype,"tabindex",void 0),m([i.HostBinding("attr.role")],a.prototype,"role",void 0),m([i.HostBinding("attr.aria-labelledby")],a.prototype,"ariaLabelledBy",void 0),m([i.HostBinding("class.igx-calendar--vertical")],a.prototype,"styleVerticalClass",null),m([i.HostBinding("class.igx-calendar")],a.prototype,"styleClass",void 0),m([i.ViewChild("months",{read:Js})],a.prototype,"monthsView",void 0),m([i.ViewChildren("monthsBtn")],a.prototype,"monthsBtns",void 0),m([i.ViewChild("decade",{read:ta})],a.prototype,"dacadeView",void 0),m([i.ViewChild("days",{read:sa})],a.prototype,"daysView",void 0),m([i.ViewChildren("days",{read:sa})],a.prototype,"monthViews",void 0),m([i.ViewChild("prevMonthBtn")],a.prototype,"prevMonthBtn",void 0),m([i.ViewChild("nextMonthBtn")],a.prototype,"nextMonthBtn",void 0),m([i.ContentChild(i.forwardRef((function(){return Ws})),{read:Ws,static:!0})],a.prototype,"headerTemplateDirective",void 0),m([i.ContentChild(i.forwardRef((function(){return Us})),{read:Us,static:!0})],a.prototype,"subheaderTemplateDirective",void 0),m([i.HostListener("keydown.pagedown",["$event"]),i.HostListener("keydown.pageup",["$event"])],a.prototype,"onKeydownPageDown",null),m([i.HostListener("keydown.shift.pageup",["$event"]),i.HostListener("keydown.shift.pagedown",["$event"])],a.prototype,"onKeydownShiftPageUp",null),m([i.HostListener("keydown.home",["$event"])],a.prototype,"onKeydownHome",null),m([i.HostListener("keydown.end",["$event"])],a.prototype,"onKeydownEnd",null),m([i.HostListener("document:mouseup",["$event"])],a.prototype,"onMouseUp",null),a=l=m([i.Component({providers:[{multi:!0,provide:n.NG_VALUE_ACCESSOR,useExisting:l}],animations:[t.trigger("animateView",[t.transition("void => 0",t.useAnimation(w)),t.transition("void => *",t.useAnimation(Ae,{params:{duration:".2s",fromScale:.9}}))]),t.trigger("animateChange",[t.transition("* => prev",t.useAnimation(gt,{params:{fromPosition:"translateX(-30%)"}})),t.transition("* => next",t.useAnimation(ft,{params:{fromPosition:"translateX(30%)"}}))])],selector:"igx-calendar",template:'<ng-template let-result #defaultHeader>\n    <span>{{ getFormattedDate().weekday }},&nbsp;</span>\n    <span>{{ getFormattedDate().monthday }}</span>\n</ng-template>\n\n<ng-template let-result #defaultMonth let-obj>\n    <span tabindex="0" #monthsBtn (keydown)="onActiveViewYearKB(getViewDate(obj.index), $event, obj.index)" (click)="onActiveViewYear(getViewDate(obj.index), obj.index, $event)"\n        class="igx-calendar-picker__date">\n        {{ formattedMonth(getViewDate(obj.index)) }}\n    </span>\n    <span tabindex="0" #yearsBtn (keydown)="onActiveViewDecadeKB($event, getViewDate(obj.index), obj.index)" (click)="onActiveViewDecade(getViewDate(obj.index), obj.index)"\n        class="igx-calendar-picker__date">\n        {{ formattedYear(getViewDate(obj.index)) }}\n    </span>\n</ng-template>\n\n<div *ngIf="selection === \'single\' && hasHeader" class="igx-calendar__header">\n    <h5 class="igx-calendar__header-year">{{ formattedYear(headerDate) }}</h5>\n    <h2 class="igx-calendar__header-date">\n        <ng-container *ngTemplateOutlet="headerTemplate ? headerTemplate : defaultHeader; context: headerContext">\n        </ng-container>\n    </h2>\n</div>\n\n<div *ngIf="isDefaultView" class="igx-calendar__body" [@animateView]="activeView" (swiperight)="previousMonth()"\n    (swipeleft)="nextMonth()">\n    <div class="igx-calendar-picker">\n        <div tabindex="0" class="igx-calendar-picker__prev" #prevMonthBtn\n            igxCalendarScrollMonth [startScroll]="startPrevMonthScroll" [stopScroll]="stopMonthScroll"  [ngStyle]="{\n                    \'min-width.%\': 100/(monthsViewNumber*7)\n                }">\n            <igx-icon fontSet="material">keyboard_arrow_left</igx-icon>\n        </div>\n        <div class="igx-calendar-picker__dates" *ngFor="let view of monthsViewNumber | IgxMonthViewSlots; index as i;" [style.width.%]="100/monthsViewNumber" [attr.data-month]="i | IgxGetViewDate:viewDate:false">\n            <ng-container *ngTemplateOutlet="subheaderTemplate ? subheaderTemplate : defaultMonth; context: getContext(i)">\n            </ng-container>\n        </div>\n        <div tabindex="0" class="igx-calendar-picker__next" #nextMonthBtn\n            igxCalendarScrollMonth [startScroll]="startNextMonthScroll" [stopScroll]="stopMonthScroll" [ngStyle]="{\n                    \'min-width.%\': 100/(monthsViewNumber*7)\n                }">\n            <igx-icon fontSet="material">keyboard_arrow_right</igx-icon>\n        </div>\n    </div>\n\n    <div style="display: flex"\n        [@animateChange]="animationAction"\n        (@animateChange.done)="animationDone($event)">\n        <igx-days-view *ngFor="let view of monthsViewNumber | IgxMonthViewSlots; index as i;" [changeDaysView]="true" #days\n                [selection]="selection"\n                [locale]="locale"\n                [value]="value"\n                [viewDate]="i | IgxGetViewDate:viewDate"\n                [weekStart]="weekStart"\n                [formatOptions]="formatOptions"\n                [formatViews]="formatViews"\n                [disabledDates]="disabledDates"\n                [specialDates]="specialDates"\n                [hideOutsideDays]="hideOutsideDays"\n                (onViewChanging)="viewChanging($event)"\n                (onDateSelection)="childClicked($event)">\n        </igx-days-view>\n    </div>\n</div>\n\n<igx-months-view *ngIf="isYearView" [@animateView]="activeView" #months\n                 [date]="viewDate"\n                 [locale]="locale"\n                 [formatView]="formatViews.month"\n                 [monthFormat]="formatOptions.month"\n                 (onSelection)="changeMonth($event)">\n</igx-months-view>\n\n<igx-years-view *ngIf="isDecadeView" [@animateView]="activeView" #decade\n                [date]="viewDate"\n                [locale]="locale"\n                [formatView]="formatViews.year"\n                [yearFormat]="formatOptions.year"\n                (onSelection)="changeYear($event)">\n</igx-years-view>\n'})],a)}(qs),ca=0,pa=function(o){function r(){var e=null!==o&&o.apply(this,arguments)||this;return e.id="igx-month-picker-"+ca++,e.styleClass=!0,e.yearAction="",e}var s;return d(r,o),s=r,r.prototype.animationDone=function(){this.yearAction=""},r.prototype.activeViewDecadeKB=function(e){var t=this;o.prototype.activeViewDecadeKB.call(this,e),"ArrowRight"!==e.key&&"Right"!==e.key||(e.preventDefault(),this.nextYear()),"ArrowLeft"!==e.key&&"Left"!==e.key||(e.preventDefault(),this.previousYear()),requestAnimationFrame((function(){t.dacadeView&&t.dacadeView.el.nativeElement.focus()}))},r.prototype.activeViewDecade=function(){var e=this;o.prototype.activeViewDecade.call(this),requestAnimationFrame((function(){e.dacadeView.el.nativeElement.focus()}))},r.prototype.nextYear=function(){this.yearAction="next",this.viewDate=this.calendarModel.getNextYear(this.viewDate),this.selectDate(this.viewDate),this.onSelection.emit(this.selectedDates)},r.prototype.nextYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.nextYear())},r.prototype.previousYear=function(){this.yearAction="prev",this.viewDate=this.calendarModel.getPrevYear(this.viewDate),this.selectDate(this.viewDate),this.onSelection.emit(this.selectedDates)},r.prototype.previousYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.previousYear())},r.prototype.selectYear=function(t){var i=this;this.viewDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.activeView=e.CalendarView.DEFAULT,this.selectDate(t),this.onSelection.emit(this.selectedDates),requestAnimationFrame((function(){i.yearsBtn&&i.yearsBtn.nativeElement.focus()}))},r.prototype.selectMonth=function(e){this.selectDate(e),this.onSelection.emit(this.selectedDates)},r.prototype.selectDate=function(e){if(!e)return new Date;o.prototype.selectDate.call(this,e),this.viewDate=e},r.prototype.writeValue=function(e){e&&(this.viewDate=this.selectedDates=e)},r.prototype.onKeydownPageUp=function(e){e.preventDefault(),this.yearAction="prev",this.viewDate=this.calendarModel.getPrevYear(this.viewDate)},r.prototype.onKeydownPageDown=function(e){e.preventDefault(),this.yearAction="next",this.viewDate=this.calendarModel.getNextYear(this.viewDate)},r.prototype.onKeydownHome=function(e){this.monthsView&&(this.monthsView.el.nativeElement.focus(),this.monthsView.onKeydownHome(e))},r.prototype.onKeydownEnd=function(e){this.monthsView&&(this.monthsView.el.nativeElement.focus(),this.monthsView.onKeydownEnd(e))},m([i.HostBinding("attr.id"),i.Input()],r.prototype,"id",void 0),m([i.HostBinding("class.igx-calendar")],r.prototype,"styleClass",void 0),m([i.ViewChild("months",{read:Js})],r.prototype,"monthsView",void 0),m([i.ViewChild("decade",{read:ta})],r.prototype,"dacadeView",void 0),m([i.ViewChild("days",{read:sa})],r.prototype,"daysView",void 0),m([i.ViewChild("yearsBtn")],r.prototype,"yearsBtn",void 0),m([i.HostListener("keydown.pageup",["$event"])],r.prototype,"onKeydownPageUp",null),m([i.HostListener("keydown.pagedown",["$event"])],r.prototype,"onKeydownPageDown",null),m([i.HostListener("keydown.home",["$event"])],r.prototype,"onKeydownHome",null),m([i.HostListener("keydown.end",["$event"])],r.prototype,"onKeydownEnd",null),r=s=m([i.Component({providers:[{multi:!0,provide:n.NG_VALUE_ACCESSOR,useExisting:s}],animations:[t.trigger("animateView",[t.transition("void => 0",t.useAnimation(w)),t.transition("void => *",t.useAnimation(Ae,{params:{duration:".2s",fromScale:.9}}))]),t.trigger("animateChange",[t.transition("* => prev",t.useAnimation(gt,{params:{fromPosition:"translateX(-30%)"}})),t.transition("* => next",t.useAnimation(ft,{params:{fromPosition:"translateX(30%)"}}))])],selector:"igx-month-picker",template:'<div *ngIf="isDefaultView" [@animateView]="activeView" class="igx-calendar__body" (swiperight)="previousYear()" (swipeleft)="nextYear()">\n    <div class="igx-calendar-picker">\n        <div tabindex="0" class="igx-calendar-picker__prev" (click)="previousYear()" (keydown)="previousYearKB($event)" [ngStyle]="{\n            \'min-width.%\': 25,\n            \'left\': 0\n        }">\n            <igx-icon fontSet="material">keyboard_arrow_left</igx-icon>\n        </div>\n        <div [style.width.%]="100">\n            <span tabindex="0" #yearsBtn (keydown)="activeViewDecadeKB($event)" (click)="activeViewDecade()" class="igx-calendar-picker__date">\n                {{ formattedYear(viewDate) }}\n            </span>\n        </div>\n        <div tabindex="0" class="igx-calendar-picker__next" (click)="nextYear()" (keydown)="nextYearKB($event)" [ngStyle]="{\n            \'min-width.%\': 25,\n            \'right\': 0\n        }">\n            <igx-icon fontSet="material">keyboard_arrow_right</igx-icon>\n        </div>\n    </div>\n\n    <igx-months-view [@animateChange]="yearAction" #months\n                     (@animateChange.done)="animationDone()"\n                     [date]="viewDate"\n                     [locale]="locale"\n                     [formatView]="formatViews.month"\n                     [monthFormat]="formatOptions.month"\n                     (onSelection)="selectMonth($event)">\n    </igx-months-view>\n</div>\n<igx-years-view *ngIf="isDecadeView" [@animateView]="activeView" #decade\n                [date]="viewDate"\n                [locale]="locale"\n                [formatView]="formatViews.year"\n                [yearFormat]="formatOptions.year"\n                (onSelection)="selectYear($event)">\n</igx-years-view>\n'})],r)}(qs),da=function(){function e(){}return e.prototype.transform=function(e){return new Array(e)},e=m([i.Pipe({name:"IgxMonthViewSlots"})],e)}(),ua=function(){function e(){this.calendar=new Ns}return e.prototype.transform=function(e,t,i){void 0===i&&(i=!0);var n=this.calendar.timedelta(t,"month",e);return i?n:n.getMonth()},e=m([i.Pipe({name:"IgxGetViewDate"})],e)}(),ha=function(){function e(){}return e=m([i.NgModule({declarations:[Ys,qs,ia,sa,la,Ws,zs,Gs,Us,$s,Js,ta,pa,da,ua],exports:[la,sa,Js,ta,pa,Ws,zs,Gs,Us],imports:[o.CommonModule,n.FormsModule,rs]})],e)}(),ga=0,fa=function(){function e(){this.cssClass="igx-card__media",this.width="auto",this.height="auto",this.role="img"}return m([i.HostBinding("class.igx-card__media")],e.prototype,"cssClass",void 0),m([i.HostBinding("style.width"),i.HostBinding("style.min-width"),i.Input()],e.prototype,"width",void 0),m([i.HostBinding("style.height"),i.Input()],e.prototype,"height",void 0),m([i.HostBinding("attr.role"),i.Input()],e.prototype,"role",void 0),e=m([i.Directive({selector:"igx-card-media"})],e)}(),ma=function(){function e(){this.cssClass="igx-card-header",this.vertical=!1,this.role="header"}return m([i.HostBinding("class.igx-card-header")],e.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-card-header--vertical"),i.Input()],e.prototype,"vertical",void 0),m([i.HostBinding("attr.role")],e.prototype,"role",void 0),e=m([i.Component({selector:"igx-card-header",template:'<div class="igx-card-header__thumbnail">\n    <ng-content select="igx-avatar, igx-card-media, [igxCardThumbnail]"></ng-content>\n</div>\n\n<div class="igx-card-header__titles">\n    <ng-content select="\n        [igxCardHeaderTitle],\n        [igxCardHeaderSubtitle],\n        .igx-card-header__title,\n        .igx-card-header__subtitle">\n    </ng-content>\n</div>\n\n<ng-content></ng-content>\n'})],e)}(),ya=function(){function e(){}return e=m([i.Directive({selector:"[igxCardThumbnail]"})],e)}(),va=function(){function e(){this.cssClass="igx-card__header__title"}return m([i.HostBinding("class.igx-card-header__title")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"[igxCardHeaderTitle]"})],e)}(),ba=function(){function e(){this.cssClass="igx-card-header__subtitle"}return m([i.HostBinding("class.igx-card-header__subtitle")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"[igxCardHeaderSubtitle]"})],e)}(),xa=function(){function e(){this.cssClass="igx-card-content"}return m([i.HostBinding("class.igx-card-content")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"igx-card-content"})],e)}(),Ca=function(){function e(){this.role="footer"}return m([i.HostBinding("attr.role"),i.Input()],e.prototype,"role",void 0),e=m([i.Directive({selector:"igx-card-footer"})],e)}();(na=e.IgxCardType||(e.IgxCardType={})).ELEVATED="elevated",na.OUTLINED="outlined";var _a,wa=function(){function t(){this.id="igx-card-"+ga++,this.role="group",this.type=e.IgxCardType.ELEVATED,this.horizontal=!1}return Object.defineProperty(t.prototype,"isOutlinedCard",{get:function(){return this.type===e.IgxCardType.OUTLINED},enumerable:!0,configurable:!0}),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.HostBinding("attr.role"),i.Input()],t.prototype,"role",void 0),m([i.HostBinding("class.igx-card"),i.Input()],t.prototype,"type",void 0),m([i.HostBinding("class.igx-card--outlined")],t.prototype,"isOutlinedCard",null),m([i.HostBinding("class.igx-card--horizontal"),i.Input()],t.prototype,"horizontal",void 0),t=m([i.Component({selector:"igx-card",template:"<ng-container select='igx-card-media'></ng-container>\n\n<ng-container select='igx-card-header'></ng-container>\n<ng-container select='igx-card-content'>\n    <ng-content></ng-content>\n</ng-container>\n\n<ng-container select='igx-card-actions'></ng-container>\n"})],t)}();(_a=e.IgxCardActionsLayout||(e.IgxCardActionsLayout={})).START="start",_a.JUSTIFY="justify";var Ia,Sa=function(){function t(t){this.card=t,this.isVerticalSet=!1,this.layout=e.IgxCardActionsLayout.START,this.reverse=!1}return Object.defineProperty(t.prototype,"isJustifyLayout",{get:function(){return this.layout===e.IgxCardActionsLayout.JUSTIFY},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){for(var t in e)"vertical"===t&&(this.isVerticalSet=!0)},t.prototype.ngOnInit=function(){this.vertical=!this.isVerticalSet&&this.card.horizontal},t.ctorParameters=function(){return[{type:wa,decorators:[{type:i.Optional},{type:i.Inject,args:[wa]}]}]},m([i.HostBinding("class.igx-card-actions"),i.Input()],t.prototype,"layout",void 0),m([i.HostBinding("class.igx-card-actions--vertical"),i.Input()],t.prototype,"vertical",void 0),m([i.HostBinding("class.igx-card-actions--justify")],t.prototype,"isJustifyLayout",null),m([i.HostBinding("class.igx-card-actions--reverse"),i.Input()],t.prototype,"reverse",void 0),t=m([i.Component({selector:"igx-card-actions",template:'<div class="igx-card-actions__icons">\n    <ng-content select="igx-icon, [igxButton=\'icon\']"></ng-content>\n</div>\n\n<div #buttons class="igx-card-actions__buttons">\n    <ng-content select="[igxButton]"></ng-content>\n</div>\n\n\n<ng-content></ng-content>\n'}),y(0,i.Optional()),y(0,i.Inject(wa))],t)}(),Ea=function(){function e(){}return e=m([i.NgModule({declarations:[wa,ma,fa,xa,Sa,Ca,va,ba,ya],exports:[wa,ma,fa,xa,Sa,Ca,va,ba,ya],imports:[o.CommonModule,Xo]})],e)}(),Da=function(){function e(){}return e=m([i.Directive({selector:"[igxCarouselIndicator]"})],e)}(),Oa=function(){function e(){}return e=m([i.Directive({selector:"[igxCarouselNextButton]"})],e)}(),Ta=function(){function e(){}return e=m([i.Directive({selector:"[igxCarouselPrevButton]"})],e)}();!function(e){e[e.NONE=0]="NONE",e[e.NEXT=1]="NEXT",e[e.PREV=2]="PREV"}(Ia||(Ia={}));var Pa=function(){function e(e){this.elementRef=e,this._active=!1,this._destroy$=new r.Subject,this.cssClass="igx-slide",this.previous=!1,this.activeChange=new i.EventEmitter}return Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.active?0:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaSelected",{get:function(){return this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaLive",{get:function(){return this.active?"polite":null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this._active=!!e,this.activeChange.emit(this._active)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDestroyed",{get:function(){return this._destroy$},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input()],e.prototype,"index",void 0),m([i.Input()],e.prototype,"direction",void 0),m([i.HostBinding("attr.tabindex")],e.prototype,"tabIndex",null),m([i.HostBinding("attr.aria-selected")],e.prototype,"ariaSelected",null),m([i.HostBinding("attr.aria-selected")],e.prototype,"ariaLive",null),m([i.HostBinding("class.igx-slide")],e.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-slide--current"),i.Input()],e.prototype,"active",null),m([i.HostBinding("class.igx-slide--previous"),i.Input()],e.prototype,"previous",void 0),m([i.Output()],e.prototype,"activeChange",void 0),e=m([i.Component({selector:"igx-slide",template:"<ng-content></ng-content>\n"})],e)}(),Ra={GridResStrings:oi({igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_show:"Show column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_advanced_filter_title:"Advanced Filtering",igx_grid_advanced_filter_and_group:'"And" Group',igx_grid_advanced_filter_or_group:'"Or" Group',igx_grid_advanced_filter_end_group:"End Group",igx_grid_advanced_filter_create_and_group:'Create "And" Group',igx_grid_advanced_filter_create_or_group:'Create "Or" Group',igx_grid_advanced_filter_and_label:"and",igx_grid_advanced_filter_or_label:"or",igx_grid_advanced_filter_add_condition:"Condition",igx_grid_advanced_filter_ungroup:"Ungroup",igx_grid_advanced_filter_delete:"Delete",igx_grid_advanced_filter_delete_filters:"Delete filters",igx_grid_advanced_filter_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_grid_advanced_filter_column_placeholder:"Select column",igx_grid_advanced_filter_value_placeholder:"Value"}),TimePickerResStrings:oi({igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel"}),PaginatorResStrings:oi({igx_paginator_label:"Items per page"}),CarouselResStrings:oi({igx_carousel_of:"of"})};function ka(e,t){var i,n;try{for(var o=v(Object.keys(t)),r=o.next();!r.done;r=o.next()){var s=r.value;s in e&&(e[s]=t[s])}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}}var La,Aa,Ma=0;(La=e.CarouselIndicatorsOrientation||(e.CarouselIndicatorsOrientation={})).bottom="bottom",La.top="top",(Aa=e.CarouselAnimationType||(e.CarouselAnimationType={})).none="none",Aa.slide="slide",Aa.fade="fade";var Va,Fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:Hammer.DIRECTION_HORIZONTAL}},t}return d(t,e),t=m([i.Injectable()],t)}(c.HammerGestureConfig),Ha=function(){function n(t,n,o,s){this.element=t,this.iterableDiffers=n,this.builder=o,this.platformUtil=s,this.role="region",this.id="igx-carousel-"+Ma++,this.ariaLabel="carousel",this.cssClass="igx-carousel",this.loop=!0,this.pause=!0,this.navigation=!0,this.keyboardSupport=!0,this.gesturesSupport=!0,this.maximumIndicatorsCount=5,this.indicatorsOrientation=e.CarouselIndicatorsOrientation.bottom,this.animationType=e.CarouselAnimationType.slide,this.indicatorTemplate=null,this.nextButtonTemplate=null,this.prevButtonTemplate=null,this.onSlideChanged=new i.EventEmitter,this.onSlideAdded=new i.EventEmitter,this.onSlideRemoved=new i.EventEmitter,this.onCarouselPaused=new i.EventEmitter,this.onCarouselPlaying=new i.EventEmitter,this._resourceStrings=Ra.CarouselResStrings,this.destroy$=new r.Subject,this.differ=null,this.animationDuration=320,this.animationPosition=0,this.newDuration=0,this.differ=this.iterableDiffers.find([]).create(null)}return Object.defineProperty(n.prototype,"tabIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"touchAction",{get:function(){return this.gesturesSupport?"pan-y":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=+e,this.restartInterval()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){var e=this;this.slides.changes.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.initSlides(t)})),this.initSlides(this.slides)},n.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete(),this.destroyed=!0,this.lastInterval&&clearInterval(this.lastInterval)},n.prototype.unsubscriber=function(e){return r.merge(this.destroy$,e.isDestroyed)},n.prototype.onSlideActivated=function(t){var i=this;if(t.active&&t!==this.currentSlide){if(t.direction===Ia.NONE){var n=t.index;t.direction=n>this.current?Ia.NEXT:Ia.PREV}if(this.currentSlide){var o=this.finishAnimations();this.currentSlide.direction=t.direction,this.currentSlide.active=!1,this.previousSlide=this.currentSlide,this.currentSlide=t,this.animationType!==e.CarouselAnimationType.none&&(o?requestAnimationFrame((function(){i.playAnimations()})):this.playAnimations())}else this.currentSlide=t;this.onSlideChanged.emit({carousel:this,slide:t}),this.restartInterval()}},n.prototype.playAnimations=function(){this.playLeaveAnimation(),this.playEnterAnimation()},n.prototype.finishAnimations=function(){var e=!1;return this.previousSlide&&this.previousSlide.previous&&(this.previousSlide.previous=!1),this.leaveAnimationPlayer&&(e=!0,this.leaveAnimationPlayer.finish()),this.enterAnimationPlayer&&(e=!0,this.enterAnimationPlayer.finish()),e},n.prototype.getAnimation=function(){var i;switch(i=this.newDuration?this.animationPosition?this.animationPosition*this.newDuration:this.newDuration:this.animationPosition?this.animationPosition*this.animationDuration:this.animationDuration,this.animationType){case e.CarouselAnimationType.slide:var n=this.animationPosition?100*this.animationPosition:100;return{enterAnimation:t.useAnimation(gt,{params:{delay:"0s",duration:i+"ms",endOpacity:1,startOpacity:1,fromPosition:"translateX("+(1===this.currentSlide.direction?n:-n)+"%)",toPosition:"translateX(0%)"}}),leaveAnimation:t.useAnimation(gt,{params:{delay:"0s",duration:i+"ms",endOpacity:1,startOpacity:1,fromPosition:"translateX(0%)",toPosition:"translateX("+(1===this.currentSlide.direction?-n:n)+"%)"}})};case e.CarouselAnimationType.fade:return{enterAnimation:t.useAnimation(w,{params:{duration:i+"ms",startOpacity:""+this.animationPosition}}),leaveAnimation:null}}return{enterAnimation:null,leaveAnimation:null}},n.prototype.playEnterAnimation=function(){var e=this;if(this.getAnimation().enterAnimation){var t=this.builder.build(this.getAnimation().enterAnimation);this.enterAnimationPlayer=t.create(this.currentSlide.nativeElement),this.enterAnimationPlayer.onDone((function(){e.enterAnimationPlayer&&(e.enterAnimationPlayer.reset(),e.enterAnimationPlayer=null),e.animationPosition=0,e.newDuration=0,e.previousSlide.previous=!1})),this.previousSlide.previous=!0,this.enterAnimationPlayer.play()}},n.prototype.playLeaveAnimation=function(){var e=this;if(this.getAnimation().leaveAnimation){var t=this.builder.build(this.getAnimation().leaveAnimation);this.leaveAnimationPlayer=t.create(this.previousSlide.nativeElement),this.leaveAnimationPlayer.onDone((function(){e.leaveAnimationPlayer&&(e.leaveAnimationPlayer.reset(),e.leaveAnimationPlayer=null),e.animationPosition=0,e.newDuration=0})),this.leaveAnimationPlayer.play()}},n.prototype.initSlides=function(e){var t=this,i=this.differ.diff(e.toArray());i&&(this.slides.reduce((function(e,t,i){return t.index=i}),0),i.forEachAddedItem((function(e){var i=e.item;t.onSlideAdded.emit({carousel:t,slide:i}),i.active&&(t.currentSlide=i),i.activeChange.pipe(s.takeUntil(t.unsubscriber(i))).subscribe((function(){return t.onSlideActivated(i)}))})),i.forEachRemovedItem((function(e){var i=e.item;t.onSlideRemoved.emit({carousel:t,slide:i}),i.active&&(i.active=!1,t.currentSlide=t.get(i.index<t.total?i.index:t.total-1))})),this.updateSlidesSelection())},n.prototype.updateSlidesSelection=function(){var e=this;requestAnimationFrame((function(){e.currentSlide?(e.currentSlide.active=!0,e.slides.filter((function(t){return t.active&&t.index!==e.currentSlide.index})).forEach((function(e){e.active=!1}))):e.total&&(e.slides.first.active=!0);e.play()}))},Object.defineProperty(n.prototype,"getIndicatorTemplate",{get:function(){return this.indicatorTemplate?this.indicatorTemplate:this.defaultIndicator},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getNextButtonTemplate",{get:function(){return this.nextButtonTemplate?this.nextButtonTemplate:this.defaultNextButton},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getPrevButtonTemplate",{get:function(){return this.prevButtonTemplate?this.prevButtonTemplate:this.defaultPrevButton},enumerable:!0,configurable:!0}),n.prototype.setAriaLabel=function(e){return"Item "+(e.index+1)+" of "+this.total},Object.defineProperty(n.prototype,"indicatorsOrientationClass",{get:function(){return"igx-carousel-indicators--"+this.indicatorsOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showIndicators",{get:function(){return this.total<=this.maximumIndicatorsCount&&this.total>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showIndicatorsLabel",{get:function(){return this.total>this.maximumIndicatorsCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getCarouselLabel",{get:function(){return this.current+1+" "+this.resourceStrings.igx_carousel_of+" "+this.total},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"total",{get:function(){return this.slides.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"current",{get:function(){return this.currentSlide?this.currentSlide.index:0},enumerable:!0,configurable:!0}),n.prototype.getNextIndex=function(){return(this.current+1)%this.total},n.prototype.getPrevIndex=function(){return this.current-1<0?this.total-1:this.current-1},Object.defineProperty(n.prototype,"isPlaying",{get:function(){return this.playing},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDestroyed",{get:function(){return this.destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),n.prototype.get=function(e){return this.slides.find((function(t){return t.index===e}))},n.prototype.add=function(e){var t=this.slides.toArray();t.push(e),this.slides.reset(t),this.slides.notifyOnChanges()},n.prototype.remove=function(e){if(e&&e===this.get(e.index)){var t=this.slides.toArray();t.splice(e.index,1),this.slides.reset(t),this.slides.notifyOnChanges()}},n.prototype.select=function(e,t){void 0===t&&(t=Ia.NONE),e&&e!==this.currentSlide&&(e.direction=t,e.active=!0)},n.prototype.next=function(){var e=this.getNextIndex();if(0!==e||this.loop)return this.select(this.get(e),Ia.NEXT);this.stop()},n.prototype.prev=function(){var e=this.getPrevIndex();if(this.loop||e!==this.total-1)return this.select(this.get(e),Ia.PREV);this.stop()},n.prototype.play=function(){this.playing||(this.playing=!0,this.onCarouselPlaying.emit(this),this.restartInterval(),this.stoppedByInteraction=!1)},n.prototype.stop=function(){this.pause&&(this.playing=!1,this.onCarouselPaused.emit(this),this.resetInterval())},n.prototype.resetInterval=function(){this.lastInterval&&(clearInterval(this.lastInterval),this.lastInterval=null)},n.prototype.restartInterval=function(){var e=this;this.resetInterval(),!isNaN(this.interval)&&this.interval>0&&this.platformUtil.isBrowser&&(this.lastInterval=setInterval((function(){var t=+e.interval;e.playing&&e.total&&!isNaN(t)&&t>0?e.next():e.stop()}),this.interval))},Object.defineProperty(n.prototype,"nextButtonDisabled",{get:function(){return!this.loop&&this.current===this.total-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"prevButtonDisabled",{get:function(){return!this.loop&&0===this.current},enumerable:!0,configurable:!0}),n.prototype.onKeydownArrowRight=function(e){var t=this;this.keyboardSupport&&(e.preventDefault(),this.next(),requestAnimationFrame((function(){return t.nativeElement.focus()})))},n.prototype.onKeydownArrowLeft=function(e){var t=this;this.keyboardSupport&&(e.preventDefault(),this.prev(),requestAnimationFrame((function(){return t.nativeElement.focus()})))},n.prototype.onTap=function(e){e.target&&e.target.classList.contains("igx-slide")&&(this.isPlaying?(this.pause&&(this.stoppedByInteraction=!0),this.stop()):this.stoppedByInteraction&&this.play())},n.prototype.onKeydownHome=function(e){var t=this;this.keyboardSupport&&this.slides.length>0&&(e.preventDefault(),this.slides.first.active=!0,requestAnimationFrame((function(){return t.nativeElement.focus()})))},n.prototype.onKeydownEnd=function(e){var t=this;this.keyboardSupport&&this.slides.length>0&&(e.preventDefault(),this.slides.last.active=!0,requestAnimationFrame((function(){return t.nativeElement.focus()})))},n.prototype.onMouseEnter=function(){this.pause&&this.isPlaying&&(this.stoppedByInteraction=!0),this.stop()},n.prototype.onMouseLeave=function(){this.stoppedByInteraction&&this.play()},n.prototype.onPanLeft=function(e){this.pan(e)},n.prototype.onPanRight=function(e){this.pan(e)},n.prototype.resetSlideStyles=function(e){e.nativeElement.style.transform="",e.nativeElement.style.opacity=""},n.prototype.pan=function(t){var i=this.currentSlide.nativeElement.offsetWidth,n=i/1e3,o=t.deltaX,r=o<0?this.getNextIndex():this.getPrevIndex(),s=o<0?i+o:-i+o;!this.gesturesSupport||t.isFinal||Math.abs(o)+n>=i||(this.loop||!(0===this.current&&o>0||this.current===this.total-1&&o<0)?(t.preventDefault(),this.isPlaying&&(this.stoppedByInteraction=!0,this.stop()),this.finishAnimations(),this.incomingSlide?r!==this.incomingSlide.index&&(this.resetSlideStyles(this.incomingSlide),this.incomingSlide.previous=!1,this.incomingSlide=this.get(r)):this.incomingSlide=this.get(r),this.incomingSlide.previous=!0,this.animationType===e.CarouselAnimationType.fade?this.currentSlide.nativeElement.style.opacity=""+Math.abs(s)/i:(this.currentSlide.nativeElement.style.transform="translateX("+o+"px)",this.incomingSlide.nativeElement.style.transform="translateX("+s+"px)")):this.incomingSlide=null)},n.prototype.onPanEnd=function(t){if(this.gesturesSupport){t.preventDefault();var i=this.currentSlide.nativeElement.offsetWidth,n=i/1e3,o=Math.abs(t.deltaX)+n<i?Math.abs(t.deltaX):i-n,r=Math.abs(t.velocity);this.resetSlideStyles(this.currentSlide),this.incomingSlide&&(this.resetSlideStyles(this.incomingSlide),i/2<o||r>1?(this.incomingSlide.direction=t.deltaX<0?Ia.NEXT:Ia.PREV,this.incomingSlide.previous=!1,this.animationPosition=this.animationType===e.CarouselAnimationType.fade?o/i:(i-o)/i,r>1&&(this.newDuration=this.animationDuration/r),this.incomingSlide.active=!0):(this.currentSlide.direction=t.deltaX>0?Ia.NEXT:Ia.PREV,this.previousSlide=this.incomingSlide,this.previousSlide.previous=!0,this.animationPosition=this.animationType===e.CarouselAnimationType.fade?Math.abs((i-o)/i):o/i,this.playAnimations())),this.stoppedByInteraction&&this.play()}},n.ctorParameters=function(){return[{type:i.ElementRef},{type:i.IterableDiffers},{type:t.AnimationBuilder},{type:ui}]},m([i.HostBinding("attr.role")],n.prototype,"role",void 0),m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",void 0),m([i.HostBinding("attr.aria-label")],n.prototype,"ariaLabel",void 0),m([i.HostBinding("attr.tabindex")],n.prototype,"tabIndex",null),m([i.HostBinding("class.igx-carousel")],n.prototype,"cssClass",void 0),m([i.HostBinding("style.touch-action")],n.prototype,"touchAction",null),m([i.Input()],n.prototype,"loop",void 0),m([i.Input()],n.prototype,"pause",void 0),m([i.Input()],n.prototype,"interval",null),m([i.Input()],n.prototype,"navigation",void 0),m([i.Input()],n.prototype,"keyboardSupport",void 0),m([i.Input()],n.prototype,"gesturesSupport",void 0),m([i.Input()],n.prototype,"maximumIndicatorsCount",void 0),m([i.Input()],n.prototype,"indicatorsOrientation",void 0),m([i.Input()],n.prototype,"animationType",void 0),m([i.Input()],n.prototype,"resourceStrings",null),m([i.ViewChild("defaultIndicator",{read:i.TemplateRef,static:!0})],n.prototype,"defaultIndicator",void 0),m([i.ViewChild("defaultNextButton",{read:i.TemplateRef,static:!0})],n.prototype,"defaultNextButton",void 0),m([i.ViewChild("defaultPrevButton",{read:i.TemplateRef,static:!0})],n.prototype,"defaultPrevButton",void 0),m([i.ContentChild(Da,{read:i.TemplateRef,static:!1})],n.prototype,"indicatorTemplate",void 0),m([i.ContentChild(Oa,{read:i.TemplateRef,static:!1})],n.prototype,"nextButtonTemplate",void 0),m([i.ContentChild(Ta,{read:i.TemplateRef,static:!1})],n.prototype,"prevButtonTemplate",void 0),m([i.ContentChildren(Pa)],n.prototype,"slides",void 0),m([i.Output()],n.prototype,"onSlideChanged",void 0),m([i.Output()],n.prototype,"onSlideAdded",void 0),m([i.Output()],n.prototype,"onSlideRemoved",void 0),m([i.Output()],n.prototype,"onCarouselPaused",void 0),m([i.Output()],n.prototype,"onCarouselPlaying",void 0),m([i.HostListener("keydown.arrowright",["$event"])],n.prototype,"onKeydownArrowRight",null),m([i.HostListener("keydown.arrowleft",["$event"])],n.prototype,"onKeydownArrowLeft",null),m([i.HostListener("tap",["$event"])],n.prototype,"onTap",null),m([i.HostListener("keydown.home",["$event"])],n.prototype,"onKeydownHome",null),m([i.HostListener("keydown.end",["$event"])],n.prototype,"onKeydownEnd",null),m([i.HostListener("mouseenter")],n.prototype,"onMouseEnter",null),m([i.HostListener("mouseleave")],n.prototype,"onMouseLeave",null),m([i.HostListener("panleft",["$event"])],n.prototype,"onPanLeft",null),m([i.HostListener("panright",["$event"])],n.prototype,"onPanRight",null),m([i.HostListener("panend",["$event"])],n.prototype,"onPanEnd",null),n=m([i.Component({providers:[{provide:c.HAMMER_GESTURE_CONFIG,useClass:Fa}],selector:"igx-carousel",template:'<ng-template #defaultIndicator let-slide>\n    <div class="igx-nav-dot"\n        [class.igx-nav-dot--active]="slide.active"\n    >\n    </div>\n</ng-template>\n\n<ng-template #defaultNextButton let-disabled>\n    <a class="igx-nav-arrow"\n        [class.igx-nav-arrow--disabled]="disabled"\n    >\n        <igx-icon fontSet="material">arrow_forward</igx-icon>\n    </a>\n</ng-template>\n\n<ng-template #defaultPrevButton let-disabled>\n    <a class="igx-nav-arrow"\n        [class.igx-nav-arrow--disabled]="disabled"\n    >\n        <igx-icon fontSet="material">arrow_back</igx-icon>\n    </a>\n</ng-template>\n\n\n<div *ngIf="showIndicators" [ngClass]="indicatorsOrientationClass">\n    <div *ngFor="let slide of slides"\n        class="igx-carousel-indicators__indicator"\n        (click)="select(slide)"\n        [attr.aria-label]="setAriaLabel(slide)"\n        [attr.aria-selected]="slide.active">\n        <ng-container *ngTemplateOutlet="getIndicatorTemplate; context: {$implicit: slide};"></ng-container>\n    </div>\n</div>\n\n<div *ngIf="showIndicatorsLabel" [ngClass]="indicatorsOrientationClass">\n    <span class="igx-carousel__label">{{getCarouselLabel}}</span>\n</div>\n\n<div class="igx-carousel__inner" role="list">\n    <ng-content></ng-content>\n</div>\n\n<div *ngIf="navigation && slides.length" role="button" tabindex="0" class="igx-carousel__arrow--prev" (click)="prev()">\n    <ng-container *ngTemplateOutlet="getPrevButtonTemplate; context: {$implicit: prevButtonDisabled};"></ng-container>\n</div>\n\n<div *ngIf="navigation && slides.length" role="button" tabindex="0" class="igx-carousel__arrow--next" (click)="next()">\n    <ng-container *ngTemplateOutlet="getNextButtonTemplate; context: {$implicit: nextButtonDisabled};"></ng-container>\n</div>\n\n\n\n',styles:["\n    :host {\n        display: block;\n        outline-style: none;\n    }"]})],n)}(),Ba=function(){function e(){}return e=m([i.NgModule({declarations:[Ha,Pa,Da,Oa,Ta],exports:[Ha,Pa,Da,Oa,Ta],imports:[o.CommonModule,rs]})],e)}();(Va=e.LabelPosition||(e.LabelPosition={})).BEFORE="before",Va.AFTER="after";var ja,Na=function(){},Ga=0,za=function(){function t(){this.id="igx-checkbox-"+Ga++,this.labelId=this.id+"-label",this.tabindex=null,this.labelPosition=e.LabelPosition.AFTER,this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new i.EventEmitter,this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.checked=!1,this.disabled=!1,this.readonly=!1,this.disableTransitions=!1,this.inputId=this.id+"-input",this._onTouchedCallback=Na,this._onChangeCallback=Na}var o;return o=t,t.prototype.toggle=function(){this.disabled||this.readonly||(this.indeterminate=!1,this.focused=!1,this.checked=!this.checked,this.change.emit({checked:this.checked,checkbox:this}),this._onChangeCallback(this.checked))},t.prototype._onCheckboxChange=function(e){e.stopPropagation()},t.prototype._onCheckboxClick=function(e){e.stopPropagation(),this.readonly&&e.preventDefault(),ci()&&this.nativeCheckbox.nativeElement.blur(),this.toggle()},t.prototype._onLabelClick=function(e){this.toggle()},t.prototype.onFocus=function(e){this.focused=!0},t.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},t.prototype.writeValue=function(e){this._value=e,this.checked=!!this._value},Object.defineProperty(t.prototype,"labelClass",{get:function(){switch(this.labelPosition){case e.LabelPosition.BEFORE:return this.cssClass+"__label--before";case e.LabelPosition.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},t.prototype.getEditElement=function(){return this.nativeCheckbox.nativeElement},m([i.ViewChild("checkbox",{static:!0})],t.prototype,"nativeCheckbox",void 0),m([i.ViewChild("label",{static:!0})],t.prototype,"nativeLabel",void 0),m([i.ViewChild("placeholderLabel",{static:!0})],t.prototype,"placeholderLabel",void 0),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"labelId",void 0),m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"name",void 0),m([i.Input()],t.prototype,"tabindex",void 0),m([i.Input()],t.prototype,"labelPosition",void 0),m([i.Input()],t.prototype,"disableRipple",void 0),m([i.Input()],t.prototype,"required",void 0),m([i.Input("aria-labelledby")],t.prototype,"ariaLabelledBy",void 0),m([i.Input("aria-label")],t.prototype,"ariaLabel",void 0),m([i.Output()],t.prototype,"change",void 0),m([i.HostBinding("class.igx-checkbox")],t.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-checkbox--focused")],t.prototype,"focused",void 0),m([i.HostBinding("class.igx-checkbox--indeterminate"),i.Input()],t.prototype,"indeterminate",void 0),m([i.HostBinding("class.igx-checkbox--checked"),i.Input()],t.prototype,"checked",void 0),m([i.HostBinding("class.igx-checkbox--disabled"),i.Input()],t.prototype,"disabled",void 0),m([i.Input()],t.prototype,"readonly",void 0),m([i.HostBinding("class.igx-checkbox--plain"),i.Input()],t.prototype,"disableTransitions",void 0),t=o=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:o,multi:!0}],selector:"igx-checkbox",preserveWhitespaces:!1,template:'<input #checkbox class="igx-checkbox__input"\n    type="checkbox"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [indeterminate]="indeterminate"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (change)="_onCheckboxChange($event)"\n    (click)="_onCheckboxClick($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<div\n    igxRipple\n    igxRippleTarget=".igx-checkbox__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300"\n    class="igx-checkbox__composite-wrapper"\n>\n    <label #label class="igx-checkbox__composite"\n        [attr.for]="inputId">\n        <svg class="igx-checkbox__composite-mark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n            <path d="M4.1,12.7 9,17.6 20.3,6.3" />\n        </svg>\n    </label>\n\n    <div class="igx-checkbox__ripple"></div>\n</div>\n\n<span #placeholderLabel role="label"\n    [class]="labelClass"\n    [id]="labelId"\n    (click)="_onLabelClick($event)">\n    <ng-content></ng-content>\n</span>\n'})],t)}(),Wa={provide:n.NG_VALIDATORS,useExisting:i.forwardRef((function(){return Ua})),multi:!0},Ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t=m([i.Directive({selector:"igx-checkbox[required][formControlName],\n    igx-checkbox[required][formControl],\n    igx-checkbox[required][ngModel]",providers:[Wa]})],t)}(n.CheckboxRequiredValidator),$a=function(){function e(){}return e=m([i.NgModule({declarations:[za,Ua],exports:[za,Ua],imports:[Vr]})],e)}(),Ka=0,Ya=function(e){function t(t,n,o,r){var s=e.call(this,r)||this;return s.cdr=t,s.elementRef=n,s.renderer=o,s._displayDensityOptions=r,s.id="igx-chip-"+Ka++,s.draggable=!1,s.animateOnRelease=!0,s.hideBaseOnDrag=!0,s.removable=!1,s.selectable=!1,s.class="",s.disabled=!1,s.selectedChange=new i.EventEmitter,s.onMoveStart=new i.EventEmitter,s.onMoveEnd=new i.EventEmitter,s.onRemove=new i.EventEmitter,s.onClick=new i.EventEmitter,s.onSelection=new i.EventEmitter,s.onSelectionDone=new i.EventEmitter,s.onKeyDown=new i.EventEmitter,s.onDragEnter=new i.EventEmitter,s._selected=!1,s._selectedItemClass="igx-chip__item--selected",s._movedWhileRemoving=!1,s}return d(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this.changeSelection(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.chipArea.nativeElement.style.backgroundColor},set:function(e){this.chipArea.nativeElement.style.backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostClass",{get:function(){var e=[this.getComponentDensityClass("igx-chip")];return e.push(this.disabled?"igx-chip--disabled":""),e.push(this.class),e.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeButtonTemplate",{get:function(){return this.removeIcon||this.defaultRemoveIcon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectIconTemplate",{get:function(){return this.selectIcon||this.defaultSelectIcon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ghostClass",{get:function(){return this.getComponentDensityClass("igx-chip__ghost")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chipTabindex",{get:function(){return this.disabled?"":0},enumerable:!0,configurable:!0}),t.prototype.selectClass=function(e){var t;return(t={})["igx-chip__select"]=e,t["igx-chip__select--hidden"]=!e,t},t.prototype.changeSelection=function(e,t){var i=this;void 0===t&&(t=null);var n={originalEvent:t,owner:this,selected:!1,cancel:!1};r.fromEvent(this.selectContainer.nativeElement,"transitionend").pipe(s.filter((function(e){return"width"===e.propertyName})),s.take(1)).subscribe((function(e){return i.onSelectTransitionDone(e)})),e&&!this._selected?(n.selected=!0,this.onSelection.emit(n),n.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected))):!e&&this._selected&&(this.onSelection.emit(n),n.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected)))},t.prototype.onSelectTransitionDone=function(e){e.target.tagName&&this.onSelectionDone.emit({owner:this,originalEvent:e})},t.prototype.onChipKeyDown=function(e){var t={originalEvent:e,owner:this,cancel:!1};this.onKeyDown.emit(t),t.cancel||("Delete"!==e.key&&"Del"!==e.key||!this.removable||this.onRemove.emit({originalEvent:e,owner:this})," "!==e.key&&"Spacebar"!==e.key||!this.selectable||this.disabled||this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())},t.prototype.onRemoveBtnKeyDown=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(this.onRemove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())},t.prototype.onRemoveMouseDown=function(e){e.stopPropagation()},t.prototype.onRemoveClick=function(e){this.onRemove.emit({originalEvent:e,owner:this})},t.prototype.onRemoveTouchMove=function(){this._movedWhileRemoving=!0},t.prototype.onRemoveTouchEnd=function(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1},t.prototype.onChipDragStart=function(e){this.onMoveStart.emit({originalEvent:e,owner:this}),e.cancel=!this.draggable||this.disabled},t.prototype.onChipDragEnd=function(){this.animateOnRelease&&this.dragDirective.transitionToOrigin()},t.prototype.onChipMoveEnd=function(e){this.onMoveEnd.emit({originalEvent:e,owner:this}),this.selected&&this.chipArea.nativeElement.focus()},t.prototype.onChipDragClicked=function(e){var t={originalEvent:e,owner:this,cancel:!1};this.onClick.emit(t),t.cancel||!this.selectable||this.disabled||this.changeSelection(!this.selected,e)},t.prototype.onChipDragEnterHandler=function(e){if(this.dragDirective!==e.drag&&e.drag.data&&e.drag.data.chip){var t={owner:this,dragChip:e.drag.data.chip,originalEvent:e};this.onDragEnter.emit(t)}},t.prototype.onChipDrop=function(e){e.cancel=!0},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.Renderer2},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"data",void 0),m([i.Input()],t.prototype,"draggable",void 0),m([i.Input()],t.prototype,"animateOnRelease",void 0),m([i.Input()],t.prototype,"hideBaseOnDrag",void 0),m([i.Input()],t.prototype,"removable",void 0),m([i.Input()],t.prototype,"removeIcon",void 0),m([i.Input()],t.prototype,"selectable",void 0),m([i.Input()],t.prototype,"selectIcon",void 0),m([i.Input()],t.prototype,"class",void 0),m([i.Input()],t.prototype,"disabled",void 0),m([i.Input()],t.prototype,"selected",null),m([i.Output()],t.prototype,"selectedChange",void 0),m([i.Input()],t.prototype,"color",null),m([i.Output()],t.prototype,"onMoveStart",void 0),m([i.Output()],t.prototype,"onMoveEnd",void 0),m([i.Output()],t.prototype,"onRemove",void 0),m([i.Output()],t.prototype,"onClick",void 0),m([i.Output()],t.prototype,"onSelection",void 0),m([i.Output()],t.prototype,"onSelectionDone",void 0),m([i.Output()],t.prototype,"onKeyDown",void 0),m([i.Output()],t.prototype,"onDragEnter",void 0),m([i.HostBinding("attr.class")],t.prototype,"hostClass",null),m([i.ViewChild("chipArea",{read:ar,static:!0})],t.prototype,"dragDirective",void 0),m([i.ViewChild("chipArea",{read:i.ElementRef,static:!0})],t.prototype,"chipArea",void 0),m([i.ViewChild("selectContainer",{read:i.ElementRef,static:!0})],t.prototype,"selectContainer",void 0),m([i.ViewChild("defaultRemoveIcon",{read:i.TemplateRef,static:!0})],t.prototype,"defaultRemoveIcon",void 0),m([i.ViewChild("defaultSelectIcon",{read:i.TemplateRef,static:!0})],t.prototype,"defaultSelectIcon",void 0),t=m([i.Component({selector:"igx-chip",template:'<div #chipArea class="igx-chip__item"\n    [attr.tabindex]="chipTabindex"\n    (keydown)="onChipKeyDown($event)"\n    [igxDrag]="{chip: this}"\n    [hideBaseOnDrag]="hideBaseOnDrag"\n    [ghostClass]="ghostClass"\n    (dragStart)="onChipDragStart($event)"\n    (dragEnd)="onChipDragEnd()"\n    (transitioned)="onChipMoveEnd($event)"\n    (dragClick)="onChipDragClicked($event)"\n    igxDrop\n    (enter)="onChipDragEnterHandler($event)"\n    (dropped)="onChipDrop($event)">\n\n    <div #selectContainer [ngClass]="selectClass(selected)">\n        <ng-container *ngTemplateOutlet="selectIconTemplate"></ng-container>\n    </div>\n\n    <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n\n    <div class="igx-chip__content">\n        <ng-content></ng-content>\n    </div>\n\n    <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n\n    <div class="igx-chip__remove" *ngIf="removable"\n        tabindex="0"\n        (keydown)="onRemoveBtnKeyDown($event)"\n        (pointerdown)="onRemoveMouseDown($event)"\n        (mousedown)="onRemoveMouseDown($event)"\n        (click)="onRemoveClick($event)"\n        (touchmove)="onRemoveTouchMove()"\n        (touchend)="onRemoveTouchEnd($event)">\n        <ng-container *ngTemplateOutlet="removeButtonTemplate"></ng-container>\n    </div>\n</div>\n\n<ng-template #defaultSelectIcon>\n    <igx-icon>done</igx-icon>\n</ng-template>\n\n<ng-template #defaultRemoveIcon>\n    <igx-icon>cancel</igx-icon>\n</ng-template>\n'}),y(3,i.Optional()),y(3,i.Inject(ao))],t)}(lo),Xa=function(){function e(e,t,n){this.cdr=e,this.element=t,this._iterableDiffers=n,this.class="",this.onReorder=new i.EventEmitter,this.onSelection=new i.EventEmitter,this.onMoveStart=new i.EventEmitter,this.onMoveEnd=new i.EventEmitter,this._differ=null,this.destroy$=new r.Subject,this._differ=this._iterableDiffers.find([]).create(null)}return Object.defineProperty(e.prototype,"hostClass",{get:function(){var e=["igx-chip-area"];return e.push(this.class),e.join(" ")},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){if(this.chipsList.length){var e=this.chipsList.filter((function(e){return e.selected}));e.length&&this.onSelection.emit({originalEvent:null,newSelection:e,owner:this})}},e.prototype.ngDoCheck=function(){var e=this;if(this.chipsList){var t=this._differ.diff(this.chipsList.toArray());t&&(t.forEachAddedItem((function(t){t.item.onMoveStart.pipe(s.takeUntil(e.destroy$)).subscribe((function(t){e.onChipMoveStart(t)})),t.item.onMoveEnd.pipe(s.takeUntil(e.destroy$)).subscribe((function(t){e.onChipMoveEnd(t)})),t.item.onDragEnter.pipe(s.takeUntil(e.destroy$)).subscribe((function(t){e.onChipDragEnter(t)})),t.item.onKeyDown.pipe(s.takeUntil(e.destroy$)).subscribe((function(t){e.onChipKeyDown(t)})),t.item.selectable&&t.item.onSelection.pipe(s.takeUntil(e.destroy$)).subscribe((function(t){e.onChipSelectionChange(t)}))})),this.modifiedChipsArray=this.chipsList.toArray())}},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.onChipKeyDown=function(e){var t=this,i=this.chipsList.toArray(),n=i.findIndex((function(t){return t===e.owner}));!0===e.originalEvent.shiftKey?"ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key?this.positionChipAtIndex(n,n-1,!1,e.originalEvent)&&setTimeout((function(){t.chipsList.toArray()[n-1].chipArea.nativeElement.focus()})):"ArrowRight"!==e.originalEvent.key&&"Right"!==e.originalEvent.key||this.positionChipAtIndex(n,n+1,!0,e.originalEvent):("ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key)&&n>0?i[n-1].chipArea.nativeElement.focus():("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&n<i.length-1&&i[n+1].chipArea.nativeElement.focus()},e.prototype.onChipMoveStart=function(e){this.onMoveStart.emit({originalEvent:e.originalEvent,owner:this})},e.prototype.onChipMoveEnd=function(e){this.onMoveEnd.emit({originalEvent:e.originalEvent,owner:this})},e.prototype.onChipDragEnter=function(e){var t=this.chipsList.toArray().findIndex((function(t){return t===e.owner})),i=this.chipsList.toArray().findIndex((function(t){return t===e.dragChip}));i<t?this.positionChipAtIndex(i,t,!0,e.originalEvent):this.positionChipAtIndex(i,t,!1,e.originalEvent)},e.prototype.positionChipAtIndex=function(e,t,i,n){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;for(var o=this.chipsList.toArray(),r=[],s=0;s<o.length;s++)i?e<=s&&s<t?r.push(o[s+1]):s===t?r.push(o[e]):r.push(o[s]):t<s&&s<=e?r.push(o[s-1]):s===t?r.push(o[e]):r.push(o[s]);this.modifiedChipsArray=r;var a={chipsArray:this.modifiedChipsArray,originalEvent:n,owner:this};return this.onReorder.emit(a),!0},e.prototype.onChipSelectionChange=function(e){var t=this.chipsList.filter((function(e){return e.selected}));e.selected&&!t.includes(e.owner)?t.push(e.owner):!e.selected&&t.includes(e.owner)&&(t=t.filter((function(t){return t.id!==e.owner.id}))),this.onSelection.emit({originalEvent:e.originalEvent,newSelection:t,owner:this})},e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.IterableDiffers}]},m([i.Input()],e.prototype,"class",void 0),m([i.HostBinding("attr.class")],e.prototype,"hostClass",null),m([i.HostBinding("style.width.px"),i.Input()],e.prototype,"width",void 0),m([i.HostBinding("style.height.px"),i.Input()],e.prototype,"height",void 0),m([i.Output()],e.prototype,"onReorder",void 0),m([i.Output()],e.prototype,"onSelection",void 0),m([i.Output()],e.prototype,"onMoveStart",void 0),m([i.Output()],e.prototype,"onMoveEnd",void 0),m([i.ContentChildren(Ya,{descendants:!0})],e.prototype,"chipsList",void 0),e=m([i.Component({selector:"igx-chips-area",template:"<ng-content></ng-content>\n"})],e)}(),qa=function(){function e(){}return e=m([i.NgModule({declarations:[Xa,Ya],exports:[Xa,Ya,Ho,jo],imports:[o.CommonModule,Vr,rs,Xo,cs,cr,Bo,No]})],e)}(),Za=function(){function e(){}return e=m([i.Directive({selector:"[igxComboHeader]"})],e)}(),Ja=function(){function e(){}return e=m([i.Directive({selector:"[igxComboFooter]"})],e)}(),Qa=function(){function e(){}return e=m([i.Directive({selector:"[igxComboItem]"})],e)}(),el=function(){function e(){}return e=m([i.Directive({selector:"[igxComboEmpty]"})],e)}(),tl=function(){function e(){}return e=m([i.Directive({selector:"[igxComboHeaderItem]"})],e)}(),il=function(){function e(){}return e=m([i.Directive({selector:"[igxComboAddItem]"})],e)}(),nl=function(){function e(){}return e=m([i.Directive({selector:"[igxComboToggleIcon]"})],e)}(),ol=function(){function e(){}return e=m([i.Directive({selector:"[igxComboClearIcon]"})],e)}(),rl=function(){function e(){this.disableTransitions=!1}return e.prototype.register=function(e){this.combo=e},e.prototype.clear=function(){this.combo=null},Object.defineProperty(e.prototype,"valueKey",{get:function(){return null!==this.combo.valueKey&&void 0!==this.combo.valueKey?this.combo.valueKey:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"item_focusable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return this.combo.isRemote},enumerable:!0,configurable:!0}),e.prototype.add_custom_item=function(){this.combo&&this.combo.addItemToCollection()},Object.defineProperty(e.prototype,"comboID",{get:function(){return this.combo.id},enumerable:!0,configurable:!0}),e.prototype.set_selected_item=function(e,t){var i=this.combo.isItemSelected(e);null!=e&&(i?this.combo.deselectItems([e],t):this.combo.selectItems([e],!1,t))},e.prototype.is_item_selected=function(e){return this.combo.isItemSelected(e)},e=m([i.Injectable()],e)}(),sl=function(e){function t(t,i,n,o){var r=e.call(this,i,n,null,o)||this;return r.comboAPI=t,r.dropDown=i,r.elementRef=n,r.selection=o,r.itemHeight="",r}return d(t,e),Object.defineProperty(t.prototype,"itemID",{get:function(){var e=this.comboAPI.valueKey;return null!==e?this.value[e]:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comboID",{get:function(){return this.comboAPI.comboID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableTransitions",{get:function(){return this.comboAPI.disableTransitions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.comboAPI.is_item_selected(this.itemID)},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),t.prototype.isVisible=function(e){var t=this.element.nativeElement.getBoundingClientRect(),i=this.element.nativeElement.parentElement.parentElement.getBoundingClientRect();return e===Ln.Down?t.y+t.height<=i.y+i.height:t.y>=i.y},t.prototype.clicked=function(e){this.comboAPI.disableTransitions=!1,this.isSelectable&&(this.dropDown.navigateItem(this.index),this.comboAPI.set_selected_item(this.itemID,e))},t.prototype.disableCheck=function(e){e.preventDefault()},t.prototype.ngDoCheck=function(){},t.ctorParameters=function(){return[{type:rl},{type:void 0,decorators:[{type:i.Inject,args:[Qn]}]},{type:i.ElementRef},{type:eo,decorators:[{type:i.Inject,args:[eo]}]}]},m([i.Input(),i.HostBinding("style.height.px")],t.prototype,"itemHeight",void 0),t=m([i.Component({selector:"igx-combo-item",template:'<ng-container *ngIf="!isHeader">\n    <igx-checkbox [checked]="selected" disableRipple="true" [disableTransitions]="disableTransitions" [tabindex]="-1" (click)="disableCheck($event)" class="igx-combo__checkbox"></igx-checkbox>\n</ng-container>\n<ng-content></ng-content>\n'}),y(1,i.Inject(Qn)),y(3,i.Inject(eo))],t)}(so),al=new i.InjectionToken("IgxComboComponentToken"),ll=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"selected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.clicked=function(e){this.comboAPI.disableTransitions=!1,this.comboAPI.add_custom_item()},t=n=m([i.Component({selector:"igx-combo-add-item",template:"<ng-content></ng-content>",providers:[{provide:sl,useExisting:n}]})],t)}(sl),cl=function(e){function t(t,i,n,o,r,s){var a=e.call(this,t,i,n,s)||this;return a.elementRef=t,a.cdr=i,a.selection=n,a.combo=o,a.comboAPI=r,a._displayDensityOptions=s,a.children=null,a.scrollHandler=function(){a.comboAPI.disableTransitions=!0},a}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.virtDir.dc.location.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isScrolledToLast",{get:function(){var e=this.virtDir.scrollPosition,t=this.virtDir.getScroll().scrollHeight;return Math.floor(e+this.virtDir.igxForContainerSize)===t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastVisibleIndex",{get:function(){return this.combo.totalItemCount?Math.floor(this.combo.itemsMaxHeight/this.combo.itemHeight):this.items.length-1},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(){this.focusedItem=this._focusedItem||this.items[0]},t.prototype.onBlur=function(e){this.focusedItem=null},t.prototype.onToggleOpened=function(){this.onOpened.emit()},t.prototype.navigateFirst=function(){this.navigateItem(this.virtDir.igxForOf.findIndex((function(e){return!e.isHeader})))},t.prototype.navigatePrev=function(){this._focusedItem&&0===this._focusedItem.index&&0===this.virtDir.state.startIndex?this.combo.focusSearchInput(!1):e.prototype.navigatePrev.call(this)},t.prototype.navigateNext=function(){var t=this.combo.totalItemCount?this.combo.totalItemCount-1:this.virtDir.igxForOf.length-1;this._focusedItem&&this._focusedItem.index===t?this.focusAddItemButton():e.prototype.navigateNext.call(this)},t.prototype.selectItem=function(e){null!=e&&(this.comboAPI.set_selected_item(e.itemID),this._focusedItem=e)},t.prototype.focusAddItemButton=function(){this.combo.isAddButtonVisible()&&(this.focusedItem=this.items[this.items.length-1])},t.prototype.scrollToHiddenItem=function(e){},Object.defineProperty(t.prototype,"sortedChildren",{get:function(){return void 0!==this.children?this.children.toArray().sort((function(e,t){return e.index-t.index})):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e,t,i=[];if(void 0!==this.children){var n=this.sortedChildren;try{for(var o=v(n),r=o.next();!r.done;r=o.next()){var s=r.value;s.isHeader||i.push(s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}return i},enumerable:!0,configurable:!0}),t.prototype.updateScrollPosition=function(){this.virtDir.getScroll().scrollTop=this._scrollPosition},t.prototype.onItemActionKey=function(e){switch(e){case An.ENTER:this.handleEnter();break;case An.SPACE:this.handleSpace();break;case An.ESCAPE:this.close()}},t.prototype.handleEnter=function(){this.isAddItemFocused()?this.combo.addItemToCollection():this.close()},t.prototype.handleSpace=function(){this.isAddItemFocused()||this.selectItem(this.focusedItem)},t.prototype.isAddItemFocused=function(){return this.focusedItem instanceof ll},t.prototype.ngAfterViewInit=function(){this.virtDir.getScroll().addEventListener("scroll",this.scrollHandler)},t.prototype.ngOnDestroy=function(){this.virtDir.getScroll().removeEventListener("scroll",this.scrollHandler),this.destroy$.next(!0),this.destroy$.complete()},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:eo},{type:void 0,decorators:[{type:i.Inject,args:[al]}]},{type:rl},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.ContentChildren(sl,{descendants:!0})],t.prototype,"children",void 0),t=n=m([i.Component({selector:"igx-combo-drop-down",template:'<div class="igx-drop-down__list" igxToggle [style.width]="width"\n(onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()" (onAppended)="onToggleContentAppended()"\n(onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n    <div class="igx-drop-down__list-scroll" #scrollContainer [attr.id]="this.listId" role="listbox"\n    [style.height]="height"\n    [style.maxHeight]="maxHeight">\n        <ng-container *ngIf="!collapsed">\n            <ng-content></ng-content>\n        </ng-container>\n    </div>\n</div>\n',providers:[{provide:Qn,useExisting:n}]}),y(3,i.Inject(al)),y(5,i.Optional()),y(5,i.Inject(ao))],t)}(Do),pl=function(){function e(){}return e.prototype.transform=function(e,t,i,n){if(!e)return[];if(t&&n){var o=t.toLowerCase().trim();return null!=i?e.filter((function(e){return e[i].toLowerCase().includes(o)})):e.filter((function(e){return e.toLowerCase().includes(o)}))}return e},e=m([i.Pipe({name:"comboFiltering"})],e)}(),dl=function(){function t(e){this.combo=e}return t.prototype.transform=function(t,i,n){var o;if(this.combo.filteredData=t,!i&&0!==i||!t.length)return t;for(var r=Fi.sort(ii(t),[{fieldName:i,dir:e.SortingDirection.Asc,ignoreCase:!0,strategy:Si.instance()}]),s=ii(r),a=0,l=null,c=0;c<r.length;c++){var p=0;l!==r[c][i]&&(l=r[c][i],p=1),p&&(s.splice(c+a,0,((o={})[n]=l,o[i]=l,o.isHeader=!0,o)),a++)}return s},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[al]}]}]},t=m([i.Pipe({name:"comboGrouping"}),y(0,i.Inject(al))],t)}();!function(e){e.EMPTY="empty",e.PRIMITIVE="primitive",e.COMPLEX="complex",e.PRIMARYKEY="valueKey"}(ja||(ja={}));var ul,hl={comfortable:40,cosy:32,compact:28};function gl(e,t){var i=[];return e.forEach((function(e){t.has(e)||i.push(e)})),i}(ul=e.IgxComboState||(e.IgxComboState={}))[ul.INITIAL=0]="INITIAL",ul[ul.VALID=1]="VALID",ul[ul.INVALID=2]="INVALID";var fl,ml=0,yl=function(){},vl=function(t){function o(n,o,s,a,l,c){var p=t.call(this,l)||this;return p.elementRef=n,p.cdr=o,p.selection=s,p.comboAPI=a,p._displayDensityOptions=l,p._injector=c,p.customValueFlag=!0,p.defaultFallbackGroup="Other",p.stringFilters=Qr,p.booleanFilters=qr,p._groupKey="",p._prevInputValue="",p._dataType="",p.ngControl=null,p.destroy$=new r.Subject,p._data=[],p._filteredData=[],p._itemHeight=null,p._itemsMaxHeight=null,p._remoteSelection={},p._onChangeCallback=yl,p._onTouchedCallback=yl,p._overlaySettings={scrollStrategy:new Gn,positionStrategy:new Hn,modal:!1,closeOnOutsideClick:!0,excludePositionTarget:!0},p._value="",p._valid=e.IgxComboState.INITIAL,p.overlaySettings=null,p.searchInput=null,p.itemTemplate=null,p.headerTemplate=null,p.footerTemplate=null,p.headerItemTemplate=null,p.addItemTemplate=null,p.emptyTemplate=null,p.toggleIconTemplate=null,p.clearIconTemplate=null,p.dropdownContainer=null,p.onSelectionChange=new i.EventEmitter,p.onOpening=new i.EventEmitter,p.onOpened=new i.EventEmitter,p.onClosing=new i.EventEmitter,p.onClosed=new i.EventEmitter,p.onAddition=new i.EventEmitter,p.onSearchInput=new i.EventEmitter,p.onDataPreLoad=new i.EventEmitter,p.id="igx-combo-"+ml++,p.cssClass="igx-combo",p.role="combobox",p.allowCustomValues=!1,p.filteringLogic=e.FilteringLogic.Or,p.searchPlaceholder="Enter a Search Term",p.valueKey=null,p.filterable=!0,p.disabled=!1,p.type="box",p.searchValue="",p.onStatusChanged=function(){(p.ngControl.control.touched||p.ngControl.control.dirty)&&(p.ngControl.control.validator||p.ngControl.control.asyncValidator)&&(p.valid=p.ngControl.valid?e.IgxComboState.VALID:e.IgxComboState.INVALID),p.manageRequiredAsterisk()},p.comboAPI.register(p),p}var a;return d(o,t),a=o,Object.defineProperty(o.prototype,"displaySearchInput",{get:function(){return this.filterable||this.allowCustomValues},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ariaExpanded",{get:function(){return!this.dropdown.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasPopUp",{get:function(){return"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ariaOwns",{get:function(){return this.dropdown.id},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemsMaxHeight",{get:function(){return null===this._itemsMaxHeight||void 0===this._itemsMaxHeight?10*this.itemHeight:this._itemsMaxHeight},set:function(e){this._itemsMaxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"itemHeight",{get:function(){return null===this._itemHeight||void 0===this._itemHeight?hl[this.displayDensity]:this._itemHeight},set:function(e){this._itemHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputEmpty",{get:function(){return!this.value&&!this.placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"displayKey",{get:function(){return this._displayKey?this._displayKey:this.valueKey},set:function(e){this._displayKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"groupKey",{get:function(){return this._groupKey},set:function(e){this._groupKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"valid",{get:function(){return this._valid},set:function(t){this._valid=t,this.comboInput.valid=e.IgxInputState[e.IgxComboState[t]]},enumerable:!0,configurable:!0}),o.prototype.onArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.open()},o.prototype.onInputClick=function(e){e.stopPropagation(),e.preventDefault(),this.toggle()},Object.defineProperty(o.prototype,"virtualizationState",{get:function(){return this.virtDir.state},set:function(e){this.virtDir.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"totalItemCount",{get:function(){return this.virtDir.totalItemCount},set:function(e){this.virtDir.totalItemCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filteredData",{get:function(){return this.filterable?this._filteredData:this.data},set:function(e){this._filteredData=this.groupKey?(e||[]).filter((function(e){return!0!==e.isHeader})):e,this.checkMatch()},enumerable:!0,configurable:!0}),o.prototype.handleKeyUp=function(e){"ArrowDown"===e.key||"Down"===e.key?(this.dropdown.focusedItem=this.dropdown.items[0],this.dropdownContainer.nativeElement.focus()):"Escape"!==e.key&&"Esc"!==e.key||this.toggle()},o.prototype.handleKeyDown=function(e){"ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),e.stopPropagation(),this.close())},o.prototype.checkMatch=function(){var e=this,t=this.displayKey,i=this.filteredData.some((function(i){return(t?i[t]:i).toString().toLowerCase()===e.searchValue.trim().toLowerCase()}));this.customValueFlag=this.allowCustomValues&&!i},o.prototype.handleInputChange=function(e){void 0!==e&&this.onSearchInput.emit(e),this.checkMatch()},Object.defineProperty(o.prototype,"dataType",{get:function(){return this.displayKey?ja.COMPLEX:ja.PRIMITIVE},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isRemote",{get:function(){return this.totalItemCount>0&&this.valueKey&&this.dataType===ja.COMPLEX},enumerable:!0,configurable:!0}),o.prototype.registerRemoteEntries=function(e,t){var i,n,o,r;if(void 0===t&&(t=!0),t){var s=this.getValueDisplayPairs(e);try{for(var a=v(s),l=a.next();!l.done;l=a.next()){var c=l.value;this._remoteSelection[c[this.valueKey]]=c[this.displayKey]}}catch(e){i={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}}else try{for(var p=v(e),d=p.next();!d.done;d=p.next()){c=d.value;delete this._remoteSelection[c]}}catch(e){o={error:e}}finally{try{d&&!d.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}},o.prototype.getValueDisplayPairs=function(e){var t=this;return this.data.filter((function(i){return e.indexOf(i[t.valueKey])>-1})).map((function(e){var i;return(i={})[t.valueKey]=e[t.valueKey],i[t.displayKey]=e[t.displayKey],i}))},o.prototype.isItemSelected=function(e){return this.selection.is_item_selected(this.id,e)},o.prototype.triggerCheck=function(){this.cdr.detectChanges()},o.prototype.isAddButtonVisible=function(){return""!==this.searchValue&&this.customValueFlag},o.prototype.handleSelectAll=function(e){e.checked?this.selectAllItems():this.deselectAllItems()},o.prototype.addItemToCollection=function(){var e,t;if(this.searchValue){var i=this.searchValue.trim(),n=this.displayKey?((e={})[this.valueKey]=i,e[this.displayKey]=i,e):i;this.groupKey&&Object.assign(n,((t={})[this.groupKey]=this.defaultFallbackGroup,t));var o=this.data,r=x(this.data);r.push(n);var s={oldCollection:o,addedItem:n,newCollection:r};this.onAddition.emit(s),this.data.push(n),this.data=ii(this.data),this.selectItems(null!==this.comboAPI.valueKey?[n[this.valueKey]]:[n],!1),this.customValueFlag=!1,this.searchInput.nativeElement.focus(),this.dropdown.focusedItem=null,this.virtDir.scrollTo(0)}},o.prototype.focusSearchInput=function(e){this.displaySearchInput&&this.searchInput?this.searchInput.nativeElement.focus():e?this.dropdownContainer.nativeElement.focus():(this.comboInput.nativeElement.focus(),this.toggle())},o.prototype.manageRequiredAsterisk=function(){if(this.ngControl&&this.ngControl.control.validator){var e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required}},o.prototype.onBlur=function(){this.collapsed&&(this._onTouchedCallback(),this.ngControl&&!this.ngControl.valid?this.valid=e.IgxComboState.INVALID:this.valid=e.IgxComboState.INITIAL)},o.prototype.onFocus=function(){this.collapsed&&this._onTouchedCallback()},o.prototype.ngOnInit=function(){this.ngControl=this._injector.get(n.NgControl,null),this._overlaySettings.positionStrategy.settings.target=this.elementRef.nativeElement,this.selection.set(this.id,new Set)},o.prototype.ngAfterViewInit=function(){var e=this;this.filteredData=x(this.data),this.ngControl&&(this.ngControl.statusChanges.pipe(s.takeUntil(this.destroy$)).subscribe(this.onStatusChanged),this.manageRequiredAsterisk(),this.cdr.detectChanges()),this.virtDir.onChunkPreload.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.onDataPreLoad.emit(t)}))},o.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.comboAPI.clear(),this.selection.clear(this.id)},o.prototype.writeValue=function(e){this.selectItems(e,!0),this.cdr.markForCheck()},o.prototype.registerOnChange=function(e){this._onChangeCallback=e},o.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},o.prototype.setDisabledState=function(e){this.disabled=e},o.prototype.getEditElement=function(){return this.comboInput.nativeElement},Object.defineProperty(o.prototype,"template",{get:function(){return this._dataType=this.dataType,this.itemTemplate?this.itemTemplate:this._dataType===ja.COMPLEX?this.complexTemplate:this.primitiveTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),o.prototype.handleClearItems=function(e){this.deselectAllItems(!0,e),this.collapsed?this.getEditElement().focus():this.focusSearchInput(!0),e.stopPropagation()},o.prototype.toggle=function(){var e=Object.assign({},this._overlaySettings,this.overlaySettings);this.dropdown.toggle(e)},o.prototype.open=function(){var e=Object.assign({},this._overlaySettings,this.overlaySettings);this.dropdown.open(e)},o.prototype.close=function(){this.dropdown.close()},Object.defineProperty(o.prototype,"collapsed",{get:function(){return this.dropdown.collapsed},enumerable:!0,configurable:!0}),o.prototype.selectedItems=function(){return Array.from(this.selection.get(this.id))},o.prototype.selectItems=function(e,t,i){if(e){var n=this.selection.add_items(this.id,e,t);this.setSelection(n,i)}},o.prototype.deselectItems=function(e,t){if(e){var i=this.selection.delete_items(this.id,e);this.setSelection(i,t)}},o.prototype.selectAllItems=function(e,t){var i=this.selection.get_all_ids(e?this.data:this.filteredData,this.valueKey),n=this.selection.add_items(this.id,i);this.setSelection(n,t)},o.prototype.deselectAllItems=function(e,t){var i=this.selection.get_empty();this.filteredData.length===this.data.length||e||(i=this.selection.delete_items(this.id,this.selection.get_all_ids(this.filteredData,this.valueKey))),this.setSelection(i,t)},o.prototype.setSelectedItem=function(e,t,i){void 0===t&&(t=!0),null!=e&&(t?this.selectItems([e],!1,i):this.deselectItems([e],i))},o.prototype.setSelection=function(e,t){var i=gl(this.selection.get(this.id),e),n=gl(e,this.selection.get(this.id)),o=Array.from(e),r=Array.from(this.selection.get(this.id)||[]),s=this.createDisplayText(o,r),a={newSelection:o,oldSelection:r,added:n,removed:i,event:t,displayText:s,cancel:!1};this.onSelectionChange.emit(a),a.cancel||(this.selection.select_items(this.id,a.newSelection,!0),this._value=s!==a.displayText?a.displayText:this.createDisplayText(a.newSelection,a.oldSelection),this._onChangeCallback(a.newSelection))},o.prototype.concatDisplayText=function(e){var t=this;return null!==this.displayKey&&void 0!==this.displayKey?this.convertKeysToItems(e).map((function(e){return e[t.displayKey]})).join(", "):e.join(", ")},o.prototype.createDisplayText=function(e,t){var i=this,n="";if(this.isRemote)if(e.length){var o=t.filter((function(t){return e.indexOf(t)<0})),r=e.filter((function(e){return t.indexOf(e)<0}));this.registerRemoteEntries(r),this.registerRemoteEntries(o,!1),n=Object.keys(this._remoteSelection).map((function(e){return i._remoteSelection[e]})).join(", ")}else this.registerRemoteEntries(t,!1);else n=this.concatDisplayText(e);return n},o.prototype.convertKeysToItems=function(e){var t=this;return null===this.comboAPI.valueKey?e:e.map((function(e){return t.data.find((function(i){return i[t.valueKey]===e}))})).filter((function(e){return void 0!==e}))},o.prototype.handleOpening=function(e){this.onOpening.emit(e),e.cancel},o.prototype.handleOpened=function(){this.triggerCheck(),this.focusSearchInput(!0),this.onOpened.emit()},o.prototype.handleClosing=function(e){this.onClosing.emit(e),e.cancel||(this.searchValue="",this.comboInput.nativeElement.focus())},o.prototype.handleClosed=function(){this.onClosed.emit()},o.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:eo},{type:rl},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]},{type:i.Injector,decorators:[{type:i.Optional}]}]},m([i.ViewChild(_o,{read:_o,static:!0})],o.prototype,"virtDir",void 0),m([i.Input()],o.prototype,"overlaySettings",void 0),m([i.ViewChild("inputGroup",{read:Wo,static:!0})],o.prototype,"inputGroup",void 0),m([i.ViewChild("comboInput",{read:Mo,static:!0})],o.prototype,"comboInput",void 0),m([i.ViewChild(cl,{read:cl,static:!0})],o.prototype,"dropdown",void 0),m([i.ViewChild("searchInput")],o.prototype,"searchInput",void 0),m([i.ContentChild(Qa,{read:i.TemplateRef})],o.prototype,"itemTemplate",void 0),m([i.ContentChild(Za,{read:i.TemplateRef})],o.prototype,"headerTemplate",void 0),m([i.ContentChild(Ja,{read:i.TemplateRef})],o.prototype,"footerTemplate",void 0),m([i.ContentChild(tl,{read:i.TemplateRef})],o.prototype,"headerItemTemplate",void 0),m([i.ContentChild(il,{read:i.TemplateRef})],o.prototype,"addItemTemplate",void 0),m([i.ContentChild(el,{read:i.TemplateRef})],o.prototype,"emptyTemplate",void 0),m([i.ContentChild(nl,{read:i.TemplateRef})],o.prototype,"toggleIconTemplate",void 0),m([i.ContentChild(ol,{read:i.TemplateRef})],o.prototype,"clearIconTemplate",void 0),m([i.ViewChild("primitive",{read:i.TemplateRef,static:!0})],o.prototype,"primitiveTemplate",void 0),m([i.ViewChild("complex",{read:i.TemplateRef,static:!0})],o.prototype,"complexTemplate",void 0),m([i.ViewChild(_o,{static:!0})],o.prototype,"virtualScrollContainer",void 0),m([i.ViewChild("dropdownItemContainer",{static:!0})],o.prototype,"dropdownContainer",void 0),m([i.Output()],o.prototype,"onSelectionChange",void 0),m([i.Output()],o.prototype,"onOpening",void 0),m([i.Output()],o.prototype,"onOpened",void 0),m([i.Output()],o.prototype,"onClosing",void 0),m([i.Output()],o.prototype,"onClosed",void 0),m([i.Output()],o.prototype,"onAddition",void 0),m([i.Output()],o.prototype,"onSearchInput",void 0),m([i.Output()],o.prototype,"onDataPreLoad",void 0),m([i.HostBinding("attr.id"),i.Input()],o.prototype,"id",void 0),m([i.HostBinding("style.width"),i.Input()],o.prototype,"width",void 0),m([i.HostBinding("class.igx-combo")],o.prototype,"cssClass",void 0),m([i.HostBinding("attr.role")],o.prototype,"role",void 0),m([i.HostBinding("attr.aria-expanded")],o.prototype,"ariaExpanded",null),m([i.HostBinding("attr.aria-haspopup")],o.prototype,"hasPopUp",null),m([i.HostBinding("attr.aria-owns")],o.prototype,"ariaOwns",null),m([i.Input()],o.prototype,"allowCustomValues",void 0),m([i.Input()],o.prototype,"itemsMaxHeight",null),m([i.Input()],o.prototype,"itemsWidth",void 0),m([i.Input()],o.prototype,"itemHeight",null),m([i.Input()],o.prototype,"placeholder",void 0),m([i.Input()],o.prototype,"searchPlaceholder",void 0),m([i.Input()],o.prototype,"data",null),m([i.Input()],o.prototype,"valueKey",void 0),m([i.Input()],o.prototype,"displayKey",null),m([i.Input()],o.prototype,"groupKey",null),m([i.Input()],o.prototype,"filterable",void 0),m([i.Input(),i.HostBinding("attr.aria-labelledby")],o.prototype,"ariaLabelledBy",void 0),m([i.Input()],o.prototype,"disabled",void 0),m([i.Input()],o.prototype,"type",void 0),m([i.HostListener("keydown.ArrowDown",["$event"]),i.HostListener("keydown.Alt.ArrowDown",["$event"])],o.prototype,"onArrowDown",null),o=a=m([i.Component({selector:"igx-combo",template:'<igx-input-group #inputGroup [displayDensity]="displayDensity" [type]="type" (click)="onInputClick($event)">\n    <ng-container ngProjectAs="[igxLabel]">\n        <ng-content select="[igxLabel]"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-prefix">\n        <ng-content select="igx-prefix"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-hint, [igxHint]">\n        <ng-content select="igx-hint, [igxHint]"></ng-content>\n    </ng-container>\n    <input igxInput #comboInput name="comboInput" type="text" [value]="value" readonly [attr.placeholder]="placeholder"\n        [disabled]="disabled" (blur)="onBlur()" (focus)="onFocus()"/>\n    <ng-container ngProjectAs="igx-suffix">\n        <ng-content select="igx-suffix"></ng-content>\n    </ng-container>\n    <igx-suffix *ngIf="value.length" aria-label="Clear Selection" class="igx-combo__clear-button"\n        (click)="handleClearItems($event)">\n        <ng-container *ngIf="clearIconTemplate">\n            <ng-container *ngTemplateOutlet="clearIconTemplate"></ng-container>\n        </ng-container>\n        <igx-icon *ngIf="!clearIconTemplate" fontSet="material">\n            clear\n        </igx-icon>\n    </igx-suffix>\n    <igx-suffix igxButton="icon" class="igx-combo__toggle-button" igxRipple>\n        <ng-container *ngIf="toggleIconTemplate">\n            <ng-container *ngTemplateOutlet="toggleIconTemplate; context: {$implicit: this.collapsed}"></ng-container>\n        </ng-container>\n        <igx-icon *ngIf="!toggleIconTemplate" fontSet="material">\n            {{ dropdown.collapsed ? \'arrow_drop_down\' : \'arrow_drop_up\'}}\n        </igx-icon>\n    </igx-suffix>\n</igx-input-group>\n<igx-combo-drop-down #igxComboDropDown class="igx-combo__drop-down" [displayDensity]="displayDensity"\n    [width]="itemsWidth || \'100%\'" (onOpening)="handleOpening($event)" (onClosing)="handleClosing($event)"\n    (onOpened)="handleOpened()" (onClosed)="handleClosed()">\n    <igx-input-group *ngIf="displaySearchInput" [displayDensity]="displayDensity" class="igx-combo__search">\n        <input class="igx-combo-input" igxInput #searchInput name="searchInput" autocomplete="off" type="text"\n            [(ngModel)]="searchValue" (ngModelChange)="handleInputChange($event)" (keyup)="handleKeyUp($event)"\n            (keydown)="handleKeyDown($event)" (focus)="dropdown.onBlur($event)" [attr.placeholder]="searchPlaceholder"\n            aria-autocomplete="both" [attr.aria-owns]="dropdown.id" [attr.aria-labelledby]="ariaLabelledBy" />\n    </igx-input-group>\n    <ng-container *ngTemplateOutlet="headerTemplate">\n    </ng-container>\n    <div #dropdownItemContainer class="igx-combo__content" [style.overflow]="\'hidden\'"\n        [style.maxHeight.px]="itemsMaxHeight" [igxDropDownItemNavigation]="dropdown" (focus)="dropdown.onFocus()"\n        [tabindex]="dropdown.collapsed ? -1 : 0" role="listbox" [attr.id]="dropdown.id">\n        <igx-combo-item role="option" [itemHeight]=\'itemHeight\'\n            *igxFor="let item of data\n            | comboFiltering:searchValue:displayKey:filterable\n            | comboGrouping:groupKey:valueKey;\n            index as rowIndex; containerSize: itemsMaxHeight; scrollOrientation: \'vertical\'; itemSize: itemHeight"\n            [value]="item" [isHeader]="item.isHeader" [index]="rowIndex">\n            <ng-container *ngIf="item.isHeader">\n                <ng-container\n                    *ngTemplateOutlet="headerItemTemplate ? headerItemTemplate : headerItemBase;\n                    context: {$implicit: item, data: data, valueKey: valueKey, groupKey: groupKey, displayKey: displayKey}">\n                </ng-container>\n            </ng-container>\n            <ng-container *ngIf="!item.isHeader">\n                <ng-container #listItem\n                    *ngTemplateOutlet="template; context: {$implicit: item, data: data, valueKey: valueKey, displayKey: displayKey};">\n                </ng-container>\n            </ng-container>\n        </igx-combo-item>\n    </div>\n    <div class="igx-combo__add" *ngIf="filteredData.length === 0 || isAddButtonVisible()">\n        <div class="igx-combo__empty" *ngIf="filteredData.length === 0">\n            <ng-container *ngTemplateOutlet="emptyTemplate ? emptyTemplate : empty">\n            </ng-container>\n        </div>\n        <igx-combo-add-item [itemHeight]=\'itemHeight\' *ngIf="isAddButtonVisible()"\n            [tabindex]="dropdown.collapsed ? -1 : customValueFlag ? 1 : -1" class="igx-combo__add-item" role="button"\n            aria-label="Add Item" [index]="virtualScrollContainer.igxForOf.length">\n            <ng-container *ngTemplateOutlet="addItemTemplate ? addItemTemplate : addItemDefault">\n            </ng-container>\n        </igx-combo-add-item>\n    </div>\n    <ng-container *ngTemplateOutlet="footerTemplate">\n    </ng-container>\n</igx-combo-drop-down>\n<ng-template #complex let-display let-data="data" let-key="displayKey">\n    {{display[key]}}\n</ng-template>\n<ng-template #primitive let-display>\n    {{display}}\n</ng-template>\n<ng-template #empty>\n    <span>The list is empty</span>\n</ng-template>\n<ng-template #addItemDefault let-control>\n    <button igxButton="flat" igxRipple>Add item</button>\n</ng-template>\n<ng-template #headerItemBase let-item let-key="valueKey" let-groupKey="groupKey">\n    {{ item[key] }}\n</ng-template>',providers:[rl,{provide:al,useExisting:a},{provide:n.NG_VALUE_ACCESSOR,useExisting:a,multi:!0}]}),y(4,i.Optional()),y(4,i.Inject(ao)),y(5,i.Optional())],o)}(lo),bl=function(){function e(){}return e=m([i.NgModule({declarations:[vl,sl,dl,pl,cl,ll,Qa,el,tl,Za,Ja,il,nl,ol],exports:[vl,sl,cl,ll,Qa,el,tl,Za,Ja,il,nl,ol],imports:[Vr,o.CommonModule,Uo,n.FormsModule,n.ReactiveFormsModule,Eo,Zn,$a,To,Xo,rs]})],e)}(),xl=function(){function e(){}return e.parseDateFormat=function(t,i){void 0===i&&(i=e.DEFAULT_LOCALE);var n=[];if(void 0!==t||ci()){var o=t||e.SHORT_DATE_MASK,r=Array.from(o),s=o.indexOf("M"),a=o.indexOf("d"),l=o.indexOf("y");-1!==l&&n.push({type:"year",initialPosition:l,formatType:e.getYearFormatType(o)}),-1!==s&&n.push({type:"month",initialPosition:s,formatType:e.getMonthFormatType(o)}),-1!==a&&n.push({type:"day",initialPosition:a,formatType:e.getDayFormatType(o)});for(var c=0;c<r.length;c++)e.isDateChar(r[c])||n.push({type:e.SEPARATOR,initialPosition:c,value:r[c]});n.sort((function(e,t){return e.initialPosition-t.initialPosition})),e.fillDatePartsPositions(n)}else n=e.getDefaultLocaleMask(i);return n},e.getInputMask=function(t){for(var i=[],n=0;n<t.length;n++)if(t[n].type===e.SEPARATOR)i.push(t[n].value);else if("day"===t[n].type||"month"===t[n].type)i.push("00");else if("year"===t[n].type)switch(t[n].formatType){case"numeric":i.push("0000");break;case"2-digit":i.push("00")}return i.join("")},e.getMask=function(t){for(var i=[],n=0;n<t.length;n++){switch(t[n].formatType){case"numeric":"day"===t[n].type?i.push("d"):"month"===t[n].type?i.push("M"):i.push("yyyy");break;case"2-digit":"day"===t[n].type?i.push("dd"):"month"===t[n].type?i.push("MM"):i.push("yy")}t[n].type===e.SEPARATOR&&i.push(t[n].value)}return i.join("")},e.parseDateArray=function(t,i,n){var o,r,s=e.getDayValueFromInput(t,n),a=e.getMonthValueFromInput(t,n),l=e.getYearValueFromInput(t,n),c=e.getDateFormatPart(t,"year").formatType,p=""!==s?parseInt(s,10):1,d=""!==a?parseInt(a,10)-1:0;if(o=""===l?"2-digit"===c?"00":"2000":l,i){var u=i.getFullYear().toString();4===u.length&&(r=u.substring(0,2))}else r="20";var h="2-digit"===c?r.concat(o):o;return d<0||d>11||NaN===d?{state:"invalid",value:n}:p<1||p>e.daysInMonth(h,d+1)||NaN===p?{state:"invalid",value:n}:{state:"valid",date:new Date(h,d,p)}},e.maskToPromptChars=function(t){return t.replace(/0|L/g,e.PROMPT_CHAR)},e.trimUnderlines=function(e){return e.replace(/_/g,"")},e.getModifiedDateInput=function(t,i,n,o,r){var s,a,l,c=e.getDatePartOnPosition(t,n),p=c.type,d=c.formatType,u=e.getDateValueFromInput(t,p,i);s=parseInt(u,10);var h=e.getMinMaxValue(t,c,i);l=h.min,a=h.max,isNaN(s)&&(s="infinite"===l?2e3:l);var g=s;g+=o,"infinite"===a&&"infinite"===l&&(s=g),r?(g>a&&(g=l),g<l&&(g=a),s=g):g<=a&&g>=l&&(s=g);var f=c.position[0],m=c.position[1],y=i.slice(0,f),v=i.slice(m,i.length),b=e.getNumericFormatPrefix(d);return""+y+(s<10?""+b+s:""+s)+v},e.addPromptCharsEditMode=function(t,i,n){for(var o=Array.from(n),r=0;r<t.length;r++)"numeric"===t[r].formatType&&("day"===t[r].type&&i.getDate()<10||"month"===t[r].type&&i.getMonth()+1<10)&&(o.splice(t[r].position[0],0,e.PROMPT_CHAR),o.join(""));return o.join("")},e.checkForCompleteDateInput=function(t,i){var n=e.getDayValueFromInput(t,i),o=e.getMonthValueFromInput(t,i),r=e.getYearValueFromInput(t,i),s=e.getDayValueFromInput(t,i,!1),a=e.getMonthValueFromInput(t,i,!1);return e.isFullInput(n,s)&&e.isFullInput(o,a)&&e.isFullYearInput(t,r)?"complete":""===n&&""===o&&""===r?"empty":""===n||""===o||""===r?"partial":""},e.getYearFormatType=function(e){switch(e.match(new RegExp("y","g")).length){case 1:case 4:return"numeric";case 2:return"2-digit"}},e.getMonthFormatType=function(e){switch(e.match(new RegExp("M","g")).length){case 1:return"numeric";case 2:return"2-digit"}},e.getDayFormatType=function(e){switch(e.match(new RegExp("d","g")).length){case 1:return"numeric";case 2:return"2-digit"}},e.getDefaultLocaleMask=function(t){for(var i=[],n=new Intl.DateTimeFormat(t),o=n.formatToParts(new Date),r=0;r<o.length;r++)o[r].type===e.SEPARATOR?i.push({type:e.SEPARATOR,value:o[r].value}):i.push({type:o[r].type});var s=n.resolvedOptions();for(r=0;r<i.length;r++)switch(i[r].type){case"day":i[r].formatType=s.day;break;case"month":case"year":i[r].formatType=s.month}return e.fillDatePartsPositions(i),i},e.isDateChar=function(e){return"y"===e||"M"===e||"d"===e},e.getNumericFormatPrefix=function(t){switch(t){case"2-digit":return"0";case"numeric":return e.PROMPT_CHAR}},e.getMinMaxValue=function(t,i,n){var o,r;switch(i.type){case"month":r=1,o=e.NUMBER_OF_MONTHS;break;case"day":r=1,o=e.daysInMonth(e.getFullYearFromString(e.getDateFormatPart(t,"year"),n),parseInt(e.getMonthValueFromInput(t,n),10));break;case"year":"2-digit"===i.formatType?(r=0,o=99):(r="infinite",o="infinite")}return{min:r,max:o}},e.daysInMonth=function(e,t){return new Date(e,t,0).getDate()},e.getDateValueFromInput=function(t,i,n,o){void 0===o&&(o=!0);var r=e.getDateFormatPart(t,i).position,s=n.substring(r[0],r[1]);return o?e.trimUnderlines(s):s},e.getDayValueFromInput=function(t,i,n){return void 0===n&&(n=!0),e.getDateValueFromInput(t,"day",i,n)},e.getMonthValueFromInput=function(t,i,n){return void 0===n&&(n=!0),e.getDateValueFromInput(t,"month",i,n)},e.getYearValueFromInput=function(t,i,n){return void 0===n&&(n=!0),e.getDateValueFromInput(t,"year",i,n)},e.getDateFormatPart=function(e,t){return e.filter((function(e){return e.type===t}))[0]},e.isFullInput=function(t,i){return""!==t&&2===i.length&&i.charAt(1)!==e.PROMPT_CHAR},e.isFullYearInput=function(t,i){switch(e.getDateFormatPart(t,"year").formatType){case"numeric":return""!==i&&4===i.length;case"2-digit":return""!==i&&2===i.length;default:return!1}},e.getDatePartOnPosition=function(t,i){return t.filter((function(t){return t.position[0]<=i&&i<=t.position[1]&&t.type!==e.SEPARATOR}))[0]},e.getFullYearFromString=function(e,t){return parseInt(t.substring(e.position[0],e.position[1]),10)},e.fillDatePartsPositions=function(t){for(var i=0,n=0;n<t.length;n++)if("day"===t[n].type||"month"===t[n].type)t[n].position=[i,i+2],i+=2;else if("year"===t[n].type)switch(t[n].formatType){case"numeric":t[n].position=[i,i+4],i+=4;break;case"2-digit":t[n].position=[i,i+2],i+=2}else t[n].type===e.SEPARATOR&&(t[n].position=[i,i+1],i++)},e.SHORT_DATE_MASK="MM/dd/yy",e.SEPARATOR="literal",e.NUMBER_OF_MONTHS=12,e.PROMPT_CHAR="_",e.DEFAULT_LOCALE="en",e}(),Cl=function(){function e(e){this._datePicker=e}return e.prototype.transform=function(e,t){return""!==e?e===xl.maskToPromptChars(this._datePicker.inputMask)?"":(this._datePicker.rawDateString=e,xl.trimUnderlines(e)):""},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:["IgxDatePickerComponentToken"]}]}]},e=m([i.Pipe({name:"displayValue"}),y(0,i.Inject("IgxDatePickerComponentToken"))],e)}(),_l=function(){function e(e){this._datePicker=e}return e.prototype.transform=function(e,t){return""!==this._datePicker.invalidDate?this._datePicker.invalidDate:null===this._datePicker.value||void 0===this._datePicker.value?xl.maskToPromptChars(this._datePicker.inputMask):xl.addPromptCharsEditMode(this._datePicker.dateFormatParts,this._datePicker.value,e)},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:["IgxDatePickerComponentToken"]}]}]},e=m([i.Pipe({name:"inputValue"}),y(0,i.Inject("IgxDatePickerComponentToken"))],e)}(),wl=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxDatePickerTemplate]"})],e)}(),Il=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxDatePickerActions]"})],e)}();(fl=e.InteractionMode||(e.InteractionMode={})).DropDown="dropdown",fl.Dialog="dialog";var Sl,El=function(){function t(){this.mode=e.InteractionMode.Dialog,this.vertical=!1,this.onClose=new i.EventEmitter,this.onTodaySelection=new i.EventEmitter,this.styleClass="igx-date-picker"}return Object.defineProperty(t.prototype,"dropdownCSS",{get:function(){return this.mode===e.InteractionMode.DropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCSS",{get:function(){return this.vertical&&this.mode===e.InteractionMode.Dialog},enumerable:!0,configurable:!0}),t.prototype.onEscape=function(e){e.preventDefault(),this.onClose.emit()},Object.defineProperty(t.prototype,"isReadonly",{get:function(){return this.mode===e.InteractionMode.Dialog},enumerable:!0,configurable:!0}),t.prototype.closeCalendar=function(){this.onClose.emit()},t.prototype.triggerTodaySelection=function(){this.onTodaySelection.emit()},m([i.ViewChild("calendar",{static:!0})],t.prototype,"calendar",void 0),m([i.Input()],t.prototype,"mode",void 0),m([i.Input()],t.prototype,"vertical",void 0),m([i.Input()],t.prototype,"cancelButtonLabel",void 0),m([i.Input()],t.prototype,"todayButtonLabel",void 0),m([i.Input()],t.prototype,"datePickerActions",void 0),m([i.Output()],t.prototype,"onClose",void 0),m([i.Output()],t.prototype,"onTodaySelection",void 0),m([i.HostBinding("class.igx-date-picker")],t.prototype,"styleClass",void 0),m([i.HostBinding("class.igx-date-picker--dropdown")],t.prototype,"dropdownCSS",null),m([i.HostBinding("class.igx-date-picker--vertical")],t.prototype,"verticalCSS",null),m([i.HostListener("keydown.esc",["$event"]),i.HostListener("keydown.alt.arrowup",["$event"])],t.prototype,"onEscape",null),t=m([i.Component({selector:"igx-calendar-container",template:'<ng-template #defaultDatePickerActions>\n    <div *ngIf="cancelButtonLabel || todayButtonLabel" class="igx-date-picker__buttons">\n        <button #closeButton *ngIf="cancelButtonLabel" igxButton="flat" igxRipple (click)="closeCalendar()">\n            {{ cancelButtonLabel }}\n        </button>\n        <button #todayButton *ngIf="todayButtonLabel" igxButton="flat" igxRipple (click)="triggerTodaySelection()">\n            {{ todayButtonLabel }}\n        </button>\n    </div>\n</ng-template>\n<igx-calendar #calendar></igx-calendar>\n<ng-container *ngTemplateOutlet="datePickerActions ? datePickerActions.template : defaultDatePickerActions"></ng-container>\n',styles:[":host {display: block;}"]})],t)}(),Dl=0;(Sl=e.PredefinedFormatOptions||(e.PredefinedFormatOptions={})).ShortDate="shortDate",Sl.MediumDate="mediumDate",Sl.LongDate="longDate",Sl.FullDate="fullDate";var Ol,Tl=function(){},Pl=function(){function t(t,n,o,s,a){this._overlayService=t,this.element=n,this._cdr=o,this._moduleRef=s,this._injector=a,this.label="Date",this.labelVisibility=!0,this.weekStart=e.WEEKDAYS.SUNDAY,this.monthsViewNumber=1,this.id="igx-date-picker-"+Dl++,this.vertical=!1,this.mode=e.InteractionMode.Dialog,this.isSpinLoop=!0,this.onOpened=new i.EventEmitter,this.onClosed=new i.EventEmitter,this.onClosing=new i.EventEmitter,this.onSelection=new i.EventEmitter,this.valueChange=new i.EventEmitter,this.onDisabledDate=new i.EventEmitter,this.onValidationFailed=new i.EventEmitter,this.hasHeader=!0,this.collapsed=!0,this.displayValuePipe=new Cl(this),this.inputValuePipe=new _l(this),this.dateFormatParts=[],this.isEmpty=!0,this.invalidDate="",this.spinDelta=1,this.defaultLocale="en",this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this._destroy$=new r.Subject,this._disabledDates=null,this._specialDates=null,this._onOpen=new i.EventEmitter,this._onClose=new i.EventEmitter,this._ngControl=null,this._onChangeCallback=Tl,this._onTouchedCallback=Tl}var a;return a=t,Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},set:function(e){this._formatOptions=Object.assign(this._formatOptions,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return void 0===this._format?e.PredefinedFormatOptions.ShortDate:this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatViews",{get:function(){return this._formatViews},set:function(e){this._formatViews=Object.assign(this._formatViews,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specialDates",{get:function(){return this._specialDates},set:function(e){this._specialDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modalOverlaySettings",{get:function(){return this._modalOverlay},set:function(e){this._modalOverlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownOverlaySettings",{get:function(){return this._dropDownOverlaySettings||this._defaultDropDownOverlaySettings},set:function(e){this._dropDownOverlaySettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayData",{get:function(){return this.value?this._customFormatChecker(this.formatter,this.value):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDate",{get:function(){return this._value?(this._transformedDate=this._isInEditMode?this._getEditorDate(this._value):this._getDisplayDate(this._value),this.isEmpty=!1):this._transformedDate=this._isInEditMode?xl.maskToPromptChars(this.inputMask):"",this._transformedDate},set:function(e){this._transformedDate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.datePickerTemplateDirective?this.datePickerTemplateDirective.template:this.mode===e.InteractionMode.Dialog?this.readOnlyDatePickerTemplate:this.editableDatePickerTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){var e=this;return{disabled:this.disabled,disabledDates:this.disabledDates,displayData:this.displayData,format:this.format,isSpinLoop:this.isSpinLoop,label:this.label,labelVisibility:this.labelVisibility,locale:this.locale,mask:this.mask,mode:this.mode,specialDates:this.specialDates,value:this.value,openDialog:function(t){return e.openDialog(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){var e=this._ngControl.control.validator({});return e&&e.required}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._onChangeCallback(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onOpen",{get:function(){return this._onOpen},set:function(e){this._onOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClose",{get:function(){return this._onClose},set:function(e){this._onClose=e},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(e){this._value=e,this._cdr.markForCheck()},t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype.onSpaceClick=function(e){this.openDialog(this.getInputGroupElement()),e.preventDefault()},t.prototype.getEditElement=function(){var e=this._inputElementRef||this._inputUserTemplateElementRef;return e?e.nativeElement:null},t.prototype.getInputGroupElement=function(){return this.inputGroup?this.inputGroup.element.nativeElement:null},t.prototype.ngOnInit=function(){var t=this;this._positionSettings={openAnimation:w,closeAnimation:I},this._defaultDropDownOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new Gn,positionStrategy:new jn(this._positionSettings),outlet:this.outlet},this._modalOverlaySettings={closeOnOutsideClick:!0,modal:!0,outlet:this.outlet},this._overlayService.onOpening.pipe(s.filter((function(e){return e.id===t._componentID})),s.takeUntil(this._destroy$)).subscribe((function(e){t._onOpening(e)})),this._overlayService.onOpened.pipe(s.filter((function(e){return e.id===t._componentID})),s.takeUntil(this._destroy$)).subscribe((function(){t._onOpened()})),this._overlayService.onClosed.pipe(s.filter((function(e){return e.id===t._componentID})),s.takeUntil(this._destroy$)).subscribe((function(){t._onClosed()})),this._overlayService.onClosing.pipe(s.filter((function(e){return e.id===t._componentID})),s.takeUntil(this._destroy$)).subscribe((function(i){if(t.onClosing.emit(i),!i.cancel){var n=t.getEditElement();!n||i.event&&t.mode===e.InteractionMode.DropDown?t._updateValidityOnBlur():n.focus()}})),this.mode===e.InteractionMode.DropDown&&(this.dateFormatParts=xl.parseDateFormat(this.mask,this.locale),void 0===this.mask&&(this.mask=xl.getMask(this.dateFormatParts)),this.inputMask=xl.getInputMask(this.dateFormatParts)),this._ngControl=this._injector.get(n.NgControl,null)},t.prototype.ngAfterViewInit=function(){var t=this;this.mode===e.InteractionMode.DropDown&&this._inputElementRef&&r.fromEvent(this._inputElementRef.nativeElement,"keydown").pipe(s.throttle((function(){return r.interval(0,r.animationFrameScheduler)})),s.takeUntil(this._destroy$)).subscribe((function(e){return t.onKeyDown(e)})),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)))},t.prototype.ngAfterViewChecked=function(){this.inputGroup&&this.inputGroup.isRequired!==this.required&&(this.inputGroup.isRequired=this.required,this._cdr.detectChanges())},t.prototype.onStatusChanged=function(){(this._ngControl.control.touched||this._ngControl.control.dirty)&&(this._ngControl.control.validator||this._ngControl.control.asyncValidator)&&(this.inputGroup.isFocused?this._inputDirective.valid=this._ngControl.valid?e.IgxInputState.VALID:e.IgxInputState.INVALID:this._inputDirective.valid=this._ngControl.valid?e.IgxInputState.INITIAL:e.IgxInputState.INVALID),this.inputGroup&&this.inputGroup.isRequired!==this.required&&(this.inputGroup.isRequired=this.required)},t.prototype.ngOnDestroy=function(){this._componentID&&this._overlayService.hide(this._componentID),this._destroy$.next(!0),this._destroy$.complete()},t.prototype.triggerTodaySelection=function(){var e=new Date(Date.now());this.handleSelection(e)},t.prototype.selectDate=function(e){var t=this.value;this.value=e,this.emitValueChangeEvent(t,this.value),this.onSelection.emit(e)},t.prototype.deselectDate=function(){var e=this.value;this.value=null,this.emitValueChangeEvent(e,this.value),this.calendar&&this.calendar.deselectDate()},t.prototype.openDialog=function(t){if(this.collapsed)switch(this.mode){case e.InteractionMode.Dialog:this.hasHeader=!0;var i=void 0!==this.modalOverlaySettings?this._modalOverlay:this._modalOverlaySettings;this._componentID=this._overlayService.attach(El,i,this._moduleRef),this._overlayService.show(this._componentID);break;case e.InteractionMode.DropDown:this.hasHeader=!1,t&&(this.dropDownOverlaySettings.positionStrategy.settings.target=t),this._componentID=this._overlayService.attach(El,this.dropDownOverlaySettings,this._moduleRef),this._overlayService.show(this._componentID)}},t.prototype.mouseDown=function(e){e.target!==this.getEditElement()&&e.preventDefault()},t.prototype.closeCalendar=function(){this._overlayService.hide(this._componentID)},t.prototype.clear=function(){this.isEmpty=!0,this.invalidDate="",this.deselectDate(),this._setCursorPosition(0)},t.prototype.handleSelection=function(e){this.value&&(e.setHours(this.value.getHours()),e.setMinutes(this.value.getMinutes()),e.setSeconds(this.value.getSeconds()),e.setMilliseconds(this.value.getMilliseconds()));var t=this.value;this.value=e,this.emitValueChangeEvent(t,this.value),this.calendar.viewDate=e,this.closeCalendar(),this.onSelection.emit(e)},t.prototype.onBlur=function(t){this._isInEditMode=!1,this.mode===e.InteractionMode.DropDown&&this.calculateDate(t.target.value,t.type),this.collapsed&&this._updateValidityOnBlur()},t.prototype.onFocus=function(){this._isInEditMode=!0,this.value&&""===this.invalidDate&&(this._transformedDate=this._getEditorDate(this.value))},t.prototype.onKeyDown=function(e){switch(e.key){case"ArrowUp":case"Up":e.preventDefault(),e.stopPropagation(),this.spinValue(e.target.value,1,e.type);break;case"ArrowDown":case"Down":e.altKey?this.openDialog(this.getInputGroupElement()):(e.preventDefault(),e.stopPropagation(),this.spinValue(e.target.value,-1,e.type))}},t.prototype.onWheel=function(e){if(this._isInEditMode){e.preventDefault(),e.stopPropagation();var t=e.deltaY>0?-1:1;this.spinValue(e.target.value,t,e.type)}},t.prototype.onInput=function(e){var t=this,i=e.target.value,n=this._getCursorPosition(),o=xl.checkForCompleteDateInput(this.dateFormatParts,i);this._isInEditMode=!0,i!==xl.maskToPromptChars(this.inputMask)&&(this.isEmpty=!1),"complete"===o&&"deleteContentBackward"!==e.inputType?(this._transformedDate=i,this.calculateDate(i,e.type),this._setCursorPosition(n)):"partial"===o?(this.deselectDate(),requestAnimationFrame((function(){t.getEditElement().value=i,t._setCursorPosition(n)}))):"empty"===o&&(this.isEmpty=!0,this.deselectDate())},t.prototype.emitValueChangeEvent=function(e,t){ai(e,t)||this.valueChange.emit(t)},t.prototype.calculateDate=function(e,t){if(""!==e){var i=this.value,n="blur"===t?this.rawDateString:e,o=xl.parseDateArray(this.dateFormatParts,i,n);if("valid"===o.state){var r=o.date;if(i&&(r.setHours(i.getHours()),r.setMinutes(i.getMinutes()),r.setSeconds(i.getSeconds()),r.setMilliseconds(i.getMilliseconds())),null===this.disabledDates||null!==this.disabledDates&&!Hs(r,this.disabledDates)){var s=this.value;this.value=r,this.emitValueChangeEvent(s,this.value),this.invalidDate=""}else{var a={datePicker:this,currentValue:r};this.onDisabledDate.emit(a)}}else{a={datePicker:this,prevValue:i};this.invalidDate=e,this.onValidationFailed.emit(a)}}},t.prototype.spinValue=function(e,t,i){this._isInEditMode=!0,this.isEmpty=!1;var n=this._getCursorPosition(),o=xl.getModifiedDateInput(this.dateFormatParts,e,n,this.spinDelta*t,this.isSpinLoop);this.getEditElement().value=o,this._setCursorPosition(n),"complete"===xl.checkForCompleteDateInput(this.dateFormatParts,o)&&(this._isInEditMode=!0,this.calculateDate(o,i),this._setCursorPosition(n))},t.prototype._onOpening=function(e){this._initializeCalendarContainer(e.componentRef.instance),this.collapsed=!1},t.prototype._onOpened=function(){this.onOpened.emit(this),this._onOpen.emit(this),this.calendar&&this._focusCalendarDate()},t.prototype._onClosed=function(){this.collapsed=!0,this._componentID=null,this.onClosed.emit(this)},t.prototype._initializeCalendarContainer=function(t){var i=this;this.calendar=t.calendar;var n=this.vertical&&this.mode===e.InteractionMode.Dialog;this.calendar.hasHeader=this.hasHeader,this.calendar.formatOptions=this.formatOptions,this.calendar.formatViews=this.formatViews,this.calendar.locale=this.locale,this.calendar.vertical=n,this.calendar.weekStart=this.weekStart,this.calendar.specialDates=this.specialDates,this.calendar.disabledDates=this.disabledDates,this.calendar.headerTemplate=this.headerTemplate,this.calendar.subheaderTemplate=this.subheaderTemplate,this.calendar.hideOutsideDays=this.hideOutsideDays,this.calendar.monthsViewNumber=this.monthsViewNumber,this.calendar.onSelection.pipe(s.takeUntil(this._destroy$)).subscribe((function(e){return i.handleSelection(e)})),this.value&&(this.calendar.value=this.value,this.calendar.viewDate=this.value),t.mode=this.mode,t.vertical=n,t.cancelButtonLabel=this.cancelButtonLabel,t.todayButtonLabel=this.todayButtonLabel,t.datePickerActions=this.datePickerActionsDirective,t.onClose.pipe(s.takeUntil(this._destroy$)).subscribe((function(){return i.closeCalendar()})),t.onTodaySelection.pipe(s.takeUntil(this._destroy$)).subscribe((function(){return i.triggerTodaySelection()}))},t.prototype._focusCalendarDate=function(){var e=this;requestAnimationFrame((function(){e.calendar.daysView.focusActiveDate()}))},t.prototype._setLocaleToDate=function(e){return ci()?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).toLocaleDateString(this.locale):e.toLocaleDateString(this.locale)},t.prototype._getCursorPosition=function(){return this.getEditElement().selectionStart},t.prototype._setCursorPosition=function(e,t){var i=this;void 0===t&&(t=e),requestAnimationFrame((function(){i.getEditElement().setSelectionRange(e,t)}))},t.prototype._customFormatChecker=function(e,t){return this.formatter?this.formatter(t):this._setLocaleToDate(t)},t.prototype._getDisplayDate=function(e){if(this.format&&!this.formatter){var t=this.locale||this.defaultLocale;return o.formatDate(e,this.format,t)}return this._customFormatChecker(this.formatter,e)},t.prototype._getEditorDate=function(e){var t=this.locale||this.defaultLocale,i=e?o.formatDate(e,this.mask,t):"";return xl.addPromptCharsEditMode(this.dateFormatParts,this.value,i)},t.prototype._updateValidityOnBlur=function(){this._onTouchedCallback();var t=this._inputDirective||this._inputDirectiveUserTemplate;t&&this._ngControl&&!this._ngControl.valid?t.valid=e.IgxInputState.INVALID:t.valid=e.IgxInputState.INITIAL},t.ctorParameters=function(){return[{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]},{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:i.NgModuleRef},{type:i.Injector}]},m([i.Input()],t.prototype,"label",void 0),m([i.Input()],t.prototype,"labelVisibility",void 0),m([i.Input()],t.prototype,"locale",void 0),m([i.Input()],t.prototype,"weekStart",void 0),m([i.Input()],t.prototype,"formatOptions",null),m([i.Input()],t.prototype,"hideOutsideDays",void 0),m([i.Input()],t.prototype,"monthsViewNumber",void 0),m([i.Input()],t.prototype,"format",null),m([i.Input()],t.prototype,"mask",void 0),m([i.Input()],t.prototype,"formatViews",null),m([i.Input()],t.prototype,"disabledDates",null),m([i.Input()],t.prototype,"specialDates",null),m([i.Input()],t.prototype,"modalOverlaySettings",null),m([i.Input()],t.prototype,"dropDownOverlaySettings",null),m([i.Input()],t.prototype,"value",null),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"formatter",void 0),m([i.Input()],t.prototype,"disabled",void 0),m([i.Input()],t.prototype,"vertical",void 0),m([i.Input()],t.prototype,"todayButtonLabel",void 0),m([i.Input()],t.prototype,"cancelButtonLabel",void 0),m([i.Input()],t.prototype,"mode",void 0),m([i.Input()],t.prototype,"isSpinLoop",void 0),m([i.Input()],t.prototype,"outlet",void 0),m([Rn("'onOpen' @Output property is deprecated. Use 'onOpened' instead."),i.Output()],t.prototype,"onOpen",null),m([i.Output()],t.prototype,"onOpened",void 0),m([Rn("'onClose' @Output property is deprecated. Use 'onClosed' instead."),i.Output()],t.prototype,"onClose",null),m([i.Output()],t.prototype,"onClosed",void 0),m([i.Output()],t.prototype,"onClosing",void 0),m([i.Output()],t.prototype,"onSelection",void 0),m([i.Output()],t.prototype,"valueChange",void 0),m([i.Output()],t.prototype,"onDisabledDate",void 0),m([i.Output()],t.prototype,"onValidationFailed",void 0),m([i.ViewChild("readOnlyDatePickerTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"readOnlyDatePickerTemplate",void 0),m([i.ViewChild("editableDatePickerTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"editableDatePickerTemplate",void 0),m([i.ViewChild(Wo)],t.prototype,"inputGroup",void 0),m([i.ViewChild(Mo,{read:i.ElementRef})],t.prototype,"_inputElementRef",void 0),m([i.ContentChild(Mo,{read:i.ElementRef})],t.prototype,"_inputUserTemplateElementRef",void 0),m([i.ViewChild(Mo)],t.prototype,"_inputDirective",void 0),m([i.ContentChild(Mo)],t.prototype,"_inputDirectiveUserTemplate",void 0),m([i.ContentChild(wl,{read:wl})],t.prototype,"datePickerTemplateDirective",void 0),m([i.ContentChild(Ws,{read:Ws})],t.prototype,"headerTemplate",void 0),m([i.ContentChild(Us,{read:Us})],t.prototype,"subheaderTemplate",void 0),m([i.ContentChild(Il,{read:Il})],t.prototype,"datePickerActionsDirective",void 0),m([i.HostListener("keydown.spacebar",["$event"]),i.HostListener("keydown.space",["$event"])],t.prototype,"onSpaceClick",null),t=a=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:a,multi:!0}],selector:"igx-date-picker",template:'<ng-template #readOnlyDatePickerTemplate>\n    <igx-input-group (click)="openDialog()" (mousedown)="mouseDown($event)">\n        <igx-prefix>\n            <igx-icon>today</igx-icon>\n        </igx-prefix>\n        <label *ngIf="labelVisibility" igxLabel>{{label}}</label>\n        <input\n            class="igx-date-picker__input-date"\n            igxInput\n            [value]="displayData || \'\'"\n            [disabled]="disabled"\n            (blur)="onBlur($event)"\n            readonly\n        />\n    </igx-input-group>\n</ng-template>\n\n<ng-template #editableDatePickerTemplate>\n    <igx-input-group #editableInputGroup [supressInputAutofocus]="true" (mousedown)="mouseDown($event)">\n        <igx-prefix (click)="openDialog(editableInputGroup.element.nativeElement)">\n            <igx-icon>today</igx-icon>\n        </igx-prefix>\n        <label *ngIf="labelVisibility" igxLabel>{{label}}</label>\n        <input\n            class="igx-date-picker__input-date"\n            igxInput\n            [igxTextSelection]="true"\n            type="text"\n            [value]="transformedDate"\n            [igxMask]="inputMask"\n            [placeholder]="mask"\n            [disabled]="disabled"\n            [displayValuePipe]="displayValuePipe"\n            [focusedValuePipe]="inputValuePipe"\n            (blur)="onBlur($event)"\n            (wheel)="onWheel($event)"\n            (input)="onInput($event)"\n            (focus)="onFocus()"\n        />\n        <igx-suffix *ngIf="!isEmpty" (click)="clear()">\n            <igx-icon>clear</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}),y(0,i.Inject(Vn))],t)}(),Rl=function(){function e(){}return e=m([i.NgModule({declarations:[Pl,El,Il,wl,Cl,_l],entryComponents:[El],exports:[Pl,wl,Il,Cl,_l],imports:[o.CommonModule,rs,Uo,ha,Xo,Vr,Tr,Wr]})],e)}(),kl=function(){function e(){this.defaultStyle=!0}return m([i.HostBinding("class.igx-dialog__window-title")],e.prototype,"defaultStyle",void 0),e=m([i.Directive({selector:"igx-dialog-title,[igxDialogTitle]"})],e)}(),Ll=function(){function e(){this.defaultClass=!0}return m([i.HostBinding("class.igx-dialog__window-actions")],e.prototype,"defaultClass",void 0),e=m([i.Directive({selector:"igx-dialog-actions,[igxDialogActions]"})],e)}(),Al=0,Ml=function(){function e(e,o){this.elementRef=e,this.navService=o,this.id="igx-dialog-"+Al++,this.title="",this.message="",this.leftButtonLabel="",this.leftButtonType="flat",this.leftButtonColor="",this.leftButtonBackgroundColor="",this.leftButtonRipple="",this.rightButtonLabel="",this.rightButtonType="flat",this.rightButtonColor="",this.rightButtonBackgroundColor="",this.rightButtonRipple="",this.onOpen=new i.EventEmitter,this.onClose=new i.EventEmitter,this.onLeftButtonSelect=new i.EventEmitter,this.onRightButtonSelect=new i.EventEmitter,this._positionSettings={openAnimation:t.useAnimation(mt,{params:{fromPosition:"translateY(100%)"}}),closeAnimation:t.useAnimation(Ct,{params:{toPosition:"translateY(-100%)"}})},this._closeOnOutsideSelect=!1,this._isModal=!0,this.destroy$=new r.Subject,this.tabindex=-1,this._titleId=n.NEXT_ID+++"_title",this._overlayDefaultSettings={positionStrategy:new Dn(this._positionSettings),scrollStrategy:new Tn,modal:this.isModal,closeOnOutsideClick:this.closeOnOutsideSelect}}var n;return n=e,Object.defineProperty(e.prototype,"isModal",{get:function(){return this._isModal},set:function(e){this._overlayDefaultSettings.modal=e,this._isModal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnOutsideSelect",{get:function(){return this._closeOnOutsideSelect},set:function(e){this._overlayDefaultSettings.closeOnOutsideClick=e,this._closeOnOutsideSelect=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionSettings",{get:function(){return this._positionSettings},set:function(e){this._positionSettings=e,this._overlayDefaultSettings.positionStrategy=new Dn(this._positionSettings)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.isOpen?"open":"close"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!this.toggleRef.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.toggleRef.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return""!==this.leftButtonLabel&&""!==this.rightButtonLabel?"dialog":""!==this.leftButtonLabel||""!==this.rightButtonLabel?"alertdialog":"alert"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleId",{get:function(){return this._titleId},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.toggleRef.onClosing.pipe(s.takeUntil(this.destroy$)).subscribe((function(){return e.emitCloseFromDialog()}))},e.prototype.emitCloseFromDialog=function(){this.onClose.emit({dialog:this,event:null})},e.prototype.open=function(e){void 0===e&&(e=this._overlayDefaultSettings),this.toggleRef.open(e),this.onOpen.emit({dialog:this,event:null}),this.leftButtonLabel||this.rightButtonLabel||this.toggleRef.element.focus()},e.prototype.close=function(){this.toggleRef.close()},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e.prototype.onDialogSelected=function(e){e.stopPropagation(),this.isOpen&&this.closeOnOutsideSelect&&e.target.classList.contains(n.DIALOG_CLASS)&&this.close()},e.prototype.onInternalLeftButtonSelect=function(e){this.onLeftButtonSelect.emit({dialog:this,event:e})},e.prototype.onInternalRightButtonSelect=function(e){this.onRightButtonSelect.emit({dialog:this,event:e})},e.prototype.ngOnInit=function(){this.navService&&this.id&&this.navService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navService&&this.id&&this.navService.remove(this.id)},e.NEXT_ID=1,e.DIALOG_CLASS="igx-dialog",e.ctorParameters=function(){return[{type:i.ElementRef},{type:Jt,decorators:[{type:i.Optional}]}]},m([i.ViewChild(Yn,{static:!0})],e.prototype,"toggleRef",void 0),m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"isModal",null),m([i.Input()],e.prototype,"title",void 0),m([i.Input()],e.prototype,"message",void 0),m([i.Input()],e.prototype,"leftButtonLabel",void 0),m([i.Input()],e.prototype,"leftButtonType",void 0),m([i.Input()],e.prototype,"leftButtonColor",void 0),m([i.Input()],e.prototype,"leftButtonBackgroundColor",void 0),m([i.Input()],e.prototype,"leftButtonRipple",void 0),m([i.Input()],e.prototype,"rightButtonLabel",void 0),m([i.Input()],e.prototype,"rightButtonType",void 0),m([i.Input()],e.prototype,"rightButtonColor",void 0),m([i.Input()],e.prototype,"rightButtonBackgroundColor",void 0),m([i.Input()],e.prototype,"rightButtonRipple",void 0),m([i.Input()],e.prototype,"closeOnOutsideSelect",null),m([i.Input()],e.prototype,"positionSettings",null),m([i.Output()],e.prototype,"onOpen",void 0),m([i.Output()],e.prototype,"onClose",void 0),m([i.Output()],e.prototype,"onLeftButtonSelect",void 0),m([i.Output()],e.prototype,"onRightButtonSelect",void 0),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",void 0),m([i.Input()],e.prototype,"isOpen",null),m([i.HostBinding("class.igx-dialog--hidden")],e.prototype,"isCollapsed",null),m([i.Input()],e.prototype,"role",null),m([i.Input()],e.prototype,"titleId",null),e=n=m([i.Component({selector:"igx-dialog",template:'<div tabindex="0" #dialog class="igx-dialog" igxToggle (click)="onDialogSelected($event)">\n    <div #dialogWindow class="igx-dialog__window"  [attr.role]="role" [attr.aria-labelledby]="titleId">\n\n        <div *ngIf="title" [attr.id]="titleId" class="igx-dialog__window-title">\n            {{ title }}\n        </div>\n        <ng-content *ngIf="!title" select="igx-dialog-title,[igxDialogTitle]"></ng-content>\n\n        <div class="igx-dialog__window-content" *ngIf="message">{{ message }}</div>\n        <ng-content *ngIf="!message"></ng-content>\n\n        <div *ngIf="leftButtonLabel || rightButtonLabel" class="igx-dialog__window-actions">\n            <button *ngIf="leftButtonLabel" type="button" [igxFocus]="isOpen" igxButton="{{ leftButtonType }}" igxButtonColor="{{ leftButtonColor }}" igxButtonBackground="{{ leftButtonBackgroundColor }}"\n                igxRipple="{{ leftButtonRipple }}" (click)="onInternalLeftButtonSelect($event)">\n                {{ leftButtonLabel }}\n            </button>\n            <button *ngIf="rightButtonLabel" type="button" [igxFocus]="isOpen" igxButton="{{ rightButtonType }}" igxButtonColor="{{ rightButtonColor }}" igxButtonBackground="{{ rightButtonBackgroundColor }}"\n                igxRipple="{{ rightButtonRipple }}" (click)="onInternalRightButtonSelect($event)">\n                {{ rightButtonLabel }}\n            </button>\n        </div>\n        <ng-content *ngIf="!leftButtonLabel && !rightButtonLabel" select="igx-dialog-actions,[igxDialogActions]"></ng-content>\n\n    </div>\n</div>\n'}),y(1,i.Optional())],e)}(),Vl=function(){function e(){}return e=m([i.NgModule({declarations:[Ml,kl,Ll],exports:[Ml,kl,Ll],imports:[o.CommonModule,Zn,Xo,Vr,fr]})],e)}(),Fl=function(){function e(e,t,n){this._viewContainerRef=e,this._zone=t,this.cdr=n,this._embeddedViewsMap=new Map,this.onViewCreated=new i.EventEmitter,this.onViewMoved=new i.EventEmitter,this.onCachedViewLoaded=new i.EventEmitter,this.onBeforeViewDetach=new i.EventEmitter}return e.prototype.ngOnChanges=function(e){switch(this._getActionType(e)){case Ol.CreateView:this._recreateView();break;case Ol.MoveView:this._moveView();break;case Ol.UseCachedView:this._useCachedView();break;case Ol.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}},e.prototype.cleanCache=function(){this._embeddedViewsMap.forEach((function(e){e.destroyed||e.destroy()})),this._embeddedViewsMap.clear()},e.prototype.cleanView=function(e){var t=this._embeddedViewsMap.get(e);t&&(t.destroy(),this._embeddedViewsMap.delete(e))},e.prototype._recreateView=function(){var e=this._viewRef?this._viewContainerRef.indexOf(this._viewRef):-1;(-1!==e&&(this.onBeforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(e)),this.igxTemplateOutlet)&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.onViewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID,this._viewRef)))},e.prototype._moveView=function(){var e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef?(-1!==t._viewContainerRef.indexOf(e)&&(this.onBeforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),t._viewContainerRef.detach(t._viewContainerRef.indexOf(e))),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&(this.onBeforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.onViewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext})):this._updateExistingContext(this.igxTemplateOutletContext)},e.prototype._useCachedView=function(){var e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e):null;this._viewContainerRef.length>0&&(this.onBeforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=t;var i=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.onCachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:i})},e.prototype._shouldRecreateView=function(e){var t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)},e.prototype._hasContextShapeChanged=function(e){var t,i,n=Object.keys(e.previousValue||{}),o=Object.keys(e.currentValue||{});if(n.length===o.length){try{for(var r=v(o),s=r.next();!s.done;s=r.next()){var a=s.value;if(-1===n.indexOf(a))return!0}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return!1}return!0},e.prototype._updateExistingContext=function(e){var t,i;try{for(var n=v(Object.keys(e)),o=n.next();!o.done;o=n.next()){var r=o.value;this._viewRef.context[r]=this.igxTemplateOutletContext[r]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.prototype._cloneContext=function(e){var t,i,n={};try{for(var o=v(Object.keys(e)),r=o.next();!r.done;r=o.next()){var s=r.value;n[s]=e[s]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return n},e.prototype._getActionType=function(e){var t=this.igxTemplateOutletContext.moveView,i=this.igxTemplateOutletContext.templateID,n=i?this._embeddedViewsMap.get(i):null,o=this._shouldRecreateView(e);return t?Ol.MoveView:o&&n?Ol.UseCachedView:!this._viewRef||o?Ol.CreateView:this.igxTemplateOutletContext?Ol.UpdateViewContext:void 0},e.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.NgZone},{type:i.ChangeDetectorRef}]},m([i.Input()],e.prototype,"igxTemplateOutletContext",void 0),m([i.Input()],e.prototype,"igxTemplateOutlet",void 0),m([i.Output()],e.prototype,"onViewCreated",void 0),m([i.Output()],e.prototype,"onViewMoved",void 0),m([i.Output()],e.prototype,"onCachedViewLoaded",void 0),m([i.Output()],e.prototype,"onBeforeViewDetach",void 0),e=m([i.Directive({selector:"[igxTemplateOutlet]"})],e)}();!function(e){e[e.CreateView=0]="CreateView",e[e.MoveView=1]="MoveView",e[e.UseCachedView=2]="UseCachedView",e[e.UpdateViewContext=3]="UpdateViewContext"}(Ol||(Ol={}));var Hl=function(){function e(){}return e=m([i.NgModule({declarations:[Fl],entryComponents:[],exports:[Fl],imports:[o.CommonModule]})],e)}(),Bl=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxProcessBarText]"})],e)}(),jl=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxProgressBarGradient]"})],e)}(),Nl=new i.InjectionToken("dir-doc",{providedIn:"root",factory:Gl});function Gl(){return i.inject(o.DOCUMENT)}var zl,Wl,Ul=function(){function e(e){this._document=e;var t=this._document.body?this._document.body.dir:null,i=this._document.documentElement?this._document.documentElement.dir:null,n=t||i;this._dir="ltr"===n||"rtl"===n?n:"ltr"}return Object.defineProperty(e.prototype,"value",{get:function(){return this._dir},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rtl",{get:function(){return"rtl"===this._dir},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Nl]}]}]},e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e(i["ɵɵinject"](Nl))},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"}),y(0,i.Inject(Nl))],e)}();(zl=e.IgxTextAlign||(e.IgxTextAlign={})).START="start",zl.CENTER="center",zl.END="end",(Wl=e.IgxProgressType||(e.IgxProgressType={})).ERROR="error",Wl.INFO="info",Wl.WARNING="warning",Wl.SUCCESS="success";var $l=function(){function e(){this.requestAnimationId=void 0,this._valueInPercent=0,this._max=100,this._value=0,this._animate=!0}return Object.defineProperty(e.prototype,"valueInPercent",{get:function(){return this._valueInPercent},set:function(e){this._valueInPercent=e},enumerable:!0,configurable:!0}),e.prototype.runAnimation=function(e,t){var i=this;this.requestAnimationId=requestAnimationFrame((function(){return i.updateProgressSmoothly.call(i,e,t)}))},e.prototype.updateProgressSmoothly=function(e,t){var i=this;this._value+=t;var n=Ql(e,this._max),o=Ql(this._value,this._max);this.valueInPercent===n?(this.updateProgress(e),cancelAnimationFrame(this.requestAnimationId)):this.isInLimitRange(o,n,t)?(this.updateProgress(e),cancelAnimationFrame(this.requestAnimationId)):(this.valueInPercent=o,this.requestAnimationId=requestAnimationFrame((function(){return i.updateProgressSmoothly.call(i,e,t)})))},e.prototype.updateProgressDirectly=function(e){this._value=e,this.valueInPercent=Ql(this._value,this._max)},e.prototype.directionFlow=function(e,t,i){return e<t?i:-i},e.prototype.isInLimitRange=function(e,t,i){return this.isExceedingUpperLimit(e,t,i)||this.isExceedingLowerLimit(e,t,i)},e.prototype.isExceedingUpperLimit=function(e,t,i){return e>t&&i>0},e.prototype.isExceedingLowerLimit=function(e,t,i){return e<t&&i<0},e.prototype.updateProgress=function(e){this._value=e,this.valueInPercent=Ql(this._value,this._max)},e}(),Kl=0,Yl=0,Xl=0,ql=function(t){function n(){var n=t.call(this)||this;return n.valueMin=0,n.cssClass="igx-linear-bar",n.striped=!1,n.indeterminate=!1,n.role="progressbar",n.id="igx-linear-bar-"+Kl++,n.textAlign=e.IgxTextAlign.START,n.textVisibility=!0,n.textTop=!1,n.type="default",n.onProgressChanged=new i.EventEmitter,n}return d(n,t),Object.defineProperty(n.prototype,"animate",{get:function(){return this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"step",{get:function(){return this._step?this._step:.01*this._max},set:function(e){this._step=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},set:function(e){if(e=Number(e),this._value!==e&&!this.indeterminate){var i=Jl(e,this.max);if(!isNaN(i)){var n={currentValue:i,previousValue:this._value},o=t.prototype.directionFlow.call(this,this._value,e,this.step);this._animate&&e>=this.step?t.prototype.runAnimation.call(this,i,o):t.prototype.updateProgressDirectly.call(this,i),this.onProgressChanged.emit(n)}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"error",{get:function(){return this.type===e.IgxProgressType.ERROR},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"info",{get:function(){return this.type===e.IgxProgressType.INFO},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"warning",{get:function(){return this.type===e.IgxProgressType.WARNING},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"success",{get:function(){return this.type===e.IgxProgressType.SUCCESS},enumerable:!0,configurable:!0}),m([i.Input()],n.prototype,"animate",null),m([i.HostBinding("attr.aria-valuemax"),i.Input()],n.prototype,"max",null),m([i.Input()],n.prototype,"step",null),m([i.HostBinding("attr.aria-valuemin")],n.prototype,"valueMin",void 0),m([i.HostBinding("class.igx-linear-bar")],n.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-linear-bar--striped"),i.Input()],n.prototype,"striped",void 0),m([i.HostBinding("class.igx-linear-bar--indeterminate"),i.Input()],n.prototype,"indeterminate",void 0),m([i.HostBinding("attr.role"),i.Input()],n.prototype,"role",void 0),m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",void 0),m([i.Input()],n.prototype,"textAlign",void 0),m([i.Input()],n.prototype,"textVisibility",void 0),m([i.Input()],n.prototype,"textTop",void 0),m([i.Input()],n.prototype,"text",void 0),m([i.Input()],n.prototype,"type",void 0),m([i.HostBinding("attr.aria-valuenow"),i.Input()],n.prototype,"value",null),m([i.Output()],n.prototype,"onProgressChanged",void 0),m([i.HostBinding("class.igx-linear-bar--danger")],n.prototype,"error",null),m([i.HostBinding("class.igx-linear-bar--info")],n.prototype,"info",null),m([i.HostBinding("class.igx-linear-bar--warning")],n.prototype,"warning",null),m([i.HostBinding("class.igx-linear-bar--success")],n.prototype,"success",null),n=m([i.Component({selector:"igx-linear-bar",template:"<div class=\"igx-linear-bar__base\">\n    <div class=\"igx-linear-bar__indicator\" [style.width.%]=\"valueInPercent\"></div>\n</div>\n\n<span\n    class=\"igx-linear-bar__value\"\n    [ngClass]=\"{\n        'igx-linear-bar__value--start': textAlign === 'start',\n        'igx-linear-bar__value--center': textAlign === 'center',\n        'igx-linear-bar__value--end': textAlign === 'end',\n        'igx-linear-bar__value--top': textTop,\n        'igx-linear-bar__value--hidden': !textVisibility\n    }\">\n        {{text ? text : valueInPercent + '%'}}\n</span>\n"})],n)}($l),Zl=function(e){function t(t,n){var o=e.call(this)||this;return o.renderer=t,o._directionality=n,o.STROKE_OPACITY_DVIDER=100,o.STROKE_OPACITY_ADDITION=.2,o.cssClass="igx-circular-bar",o.onProgressChanged=new i.EventEmitter,o.id="igx-circular-bar-"+Yl++,o.gradientId="igx-circular-gradient-"+Xl++,o.indeterminate=!1,o.textVisibility=!0,o._circleRadius=46,o._circumference=2*Math.PI*o._circleRadius,o}return d(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animate",{get:function(){return this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step?this._step:.01*this._max},set:function(e){this._step=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(t=Number(t),this._value!==t&&!this.indeterminate){var i=Jl(t,this.max);if(!isNaN(i)){var n={currentValue:i,previousValue:this._value},o=e.prototype.directionFlow.call(this,this._value,t,this.step);this.animate&&t>=this.step?e.prototype.runAnimation.call(this,i,o):this.updateProgressDirectly(i),this.onProgressChanged.emit(n)}}},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.renderer.setStyle(this._svgCircle.nativeElement,"stroke","url(#"+this.gradientId+")")},t.prototype.updateProgressSmoothly=function(t,i){var n=[{strokeDashoffset:this.getProgress(this._value),strokeOpacity:this._value/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION},{strokeDashoffset:this.getProgress(this.valueInPercent),strokeOpacity:this.valueInPercent/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION}];this._svgCircle.nativeElement.animate(n,{easing:"ease-out",fill:"forwards"}),e.prototype.updateProgressSmoothly.call(this,t,i)},Object.defineProperty(t.prototype,"textContent",{get:function(){return this.text},enumerable:!0,configurable:!0}),t.prototype.updateProgressDirectly=function(t){e.prototype.updateProgressDirectly.call(this,t),this.renderer.setStyle(this._svgCircle.nativeElement,"stroke-dashoffset",this.getProgress(this.valueInPercent)),this.renderer.setStyle(this._svgCircle.nativeElement,"stroke-opacity",this.valueInPercent/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION)},t.prototype.getProgress=function(e){return this._directionality.rtl?this._circumference+e*this._circumference/100:this._circumference-e*this._circumference/100},t.ctorParameters=function(){return[{type:i.Renderer2},{type:Ul}]},m([i.HostBinding("class.igx-circular-bar")],t.prototype,"cssClass",void 0),m([i.Output()],t.prototype,"onProgressChanged",void 0),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.HostBinding("class.igx-circular-bar--indeterminate"),i.Input()],t.prototype,"indeterminate",void 0),m([i.Input()],t.prototype,"textVisibility",void 0),m([i.Input()],t.prototype,"text",void 0),m([i.ContentChild(Bl,{read:Bl})],t.prototype,"textTemplate",void 0),m([i.ContentChild(jl,{read:jl})],t.prototype,"gradientTemplate",void 0),m([i.Input()],t.prototype,"animate",null),m([i.Input()],t.prototype,"max",null),m([i.Input()],t.prototype,"step",null),m([i.Input()],t.prototype,"value",null),m([i.ViewChild("circle",{static:!0})],t.prototype,"_svgCircle",void 0),t=m([i.Component({selector:"igx-circular-bar",template:'<svg #svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"\n    viewBox="0 0 100 100"\n    preserveAspectRatio="xMidYMid meet"\n    role="progressbar"\n    aria-valuemin="0"\n    [attr.aria-valuemax]="max"\n    [attr.aria-valuenow]="value">\n    <svg:circle class="igx-circular-bar__inner" cx="50" cy="50" r="46" />\n    <svg:circle #circle class="igx-circular-bar__outer" cx="50" cy="50" r="46" />\n    <svg:text *ngIf="textVisibility" text-anchor="middle" x="50" y="60">\n        <ng-container *ngTemplateOutlet="textTemplate ? textTemplate.template : defaultTextTemplate;\n            context: context">\n        </ng-container>\n    </svg:text>\n\n    <svg:defs>\n        <ng-container\n            *ngTemplateOutlet="gradientTemplate ? gradientTemplate.template : defaultGradientTemplate;\n            context: { $implicit: gradientId }">\n        </ng-container>\n    </svg:defs>\n\n    <ng-template #defaultTextTemplate>\n        <svg:tspan class="igx-circular-bar__text">\n            {{textContent ? textContent: valueInPercent + \'%\'}}\n        </svg:tspan>\n    </ng-template>\n\n    <ng-template #defaultGradientTemplate>\n        <svg:linearGradient [id]="gradientId" gradientTransform="rotate(90)">\n          <stop offset="0%"   class="igx-circular-bar__gradient-start" />\n          <stop offset="100%" class="igx-circular-bar__gradient-end" />\n        </svg:linearGradient>\n    </ng-template>\n</svg>\n\n'})],t)}($l);function Jl(e,t,i){return void 0===i&&(i=0),Math.max(Math.min(e,t),i)}function Ql(e,t){return Math.floor(100*e/t)}var ec=function(){function e(){}return e=m([i.NgModule({declarations:[ql,Zl,Bl,jl],exports:[ql,Zl,Bl,jl],imports:[o.CommonModule]})],e)}(),tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemText",{get:function(){return void 0!==this._text?this._text:this.elementRef.nativeElement.textContent.trim()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)},set:function(e){!e||this.isHeader||this.disabled||this.dropDown.selectItem(this)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){},m([i.Input()],t.prototype,"text",null),t=m([i.Component({selector:"igx-select-item",template:"<ng-content></ng-content>"})],t)}(so),ic=function(t){function i(i,n){var o=t.call(this)||this;return o.select=i,o._selectDefaultSettings={horizontalDirection:e.HorizontalAlignment.Right,verticalDirection:e.VerticalAlignment.Bottom,horizontalStartPoint:e.HorizontalAlignment.Left,verticalStartPoint:e.VerticalAlignment.Top,openAnimation:w,closeAnimation:I},o.global_yOffset=0,o.global_xOffset=0,o.global_styles={},o.settings=Object.assign({},o._selectDefaultSettings,n),o}return d(i,t),i.prototype.position=function(e,i,n,o){var r=t.prototype.calculateElementRectangles.call(this,e),s={verticalOffset:this.global_yOffset,horizontalOffset:this.global_xOffset,targetRect:r.targetRect,contentElementRect:r.elementRect,styles:this.global_styles,scrollContainer:this.select.scrollContainer,scrollContainerRect:this.select.scrollContainer.getBoundingClientRect()};o&&(s.viewPortRect=En.getViewportRect(n),s.itemElement=this.getInteractionItemElement(),s.itemRect=s.itemElement.getBoundingClientRect(),s.styles=this.calculateStyles(s),s.scrollAmount=this.calculateScrollAmount(s),this.calculateYoffset(s),this.calculateXoffset(s),t.prototype.updateViewPortFit.call(this,s),(s.fitVertical.back<0||s.fitVertical.forward<0)&&this.fitInViewport(e,s),this.select.scrollContainer.scrollTop=s.scrollAmount),this.setStyles(e,s)},i.prototype.calculateScrollAmount=function(e){var t=e.itemRect,i=e.scrollContainer,n=e.scrollContainerRect,o=n.top-t.top,r=i.scrollTop-o;return r-=i.clientHeight/2,r+=t.height/2,Math.round(Math.min(Math.max(0,r),i.scrollHeight-n.height))},i.prototype.fitInViewport=function(e,t){var i=t.scrollContainerRect.bottom-t.contentElementRect.bottom,n=t.scrollContainerRect.top-t.contentElementRect.top,o=t.targetRect.bottom+t.styles.itemTextToInputTextDiff-i,r=t.targetRect.top-t.styles.itemTextToInputTextDiff-n;t.fitVertical.back<0?t.scrollContainer.scrollHeight-t.scrollContainerRect.height-t.scrollAmount+t.fitVertical.back>0&&r>t.viewPortRect.top?(t.scrollAmount-=t.fitVertical.back,t.verticalOffset-=t.fitVertical.back,this.global_yOffset=t.verticalOffset):(t.verticalOffset=0,this.global_yOffset=0):t.fitVertical.forward<0&&(t.scrollAmount+t.fitVertical.forward>0&&o<t.viewPortRect.bottom?(t.scrollAmount+=t.fitVertical.forward,t.verticalOffset+=t.fitVertical.forward,this.global_yOffset=t.verticalOffset):(t.verticalOffset=-t.contentElementRect.height+t.targetRect.height,this.global_yOffset=t.verticalOffset))},i.prototype.setStyles=function(e,i){t.prototype.setStyle.call(this,e,i.targetRect,i.contentElementRect,i),e.style.width=i.styles.contentElementNewWidth+"px",this.global_styles.contentElementNewWidth=i.styles.contentElementNewWidth},i.prototype.calculateStyles=function(e){var t={},i=window.getComputedStyle(this.settings.target),n=window.getComputedStyle(e.itemElement),o=parseFloat(i.fontSize),r=parseFloat(n.fontSize),s=(e.targetRect.bottom-e.targetRect.top-o)/2,a=(e.itemRect.height-r)/2,l=(parseFloat(i.paddingTop)-parseFloat(i.paddingBottom))/2;t.itemTextToInputTextDiff=Math.round(a-s+l);var c=parseFloat(n.paddingLeft),p=parseFloat(n.textIndent);return t.itemTextPadding=c,t.itemTextIndent=p,t.contentElementNewWidth=e.targetRect.width+24+2*c,t},i.prototype.getInteractionItemElement=function(){var e;return this.select.selectedItem?(e=this.select.selectedItem.element.nativeElement,ci()&&(this.select.scrollContainer.scrollTop=this.select.calculateScrollPosition(this.select.selectedItem))):e=this.select.getFirstItemElement(),e},i.prototype.calculateYoffset=function(e){e.verticalOffset=-(e.itemRect.top-e.contentElementRect.top+e.styles.itemTextToInputTextDiff-e.scrollAmount),this.global_yOffset=e.verticalOffset},i.prototype.calculateXoffset=function(e){e.horizontalOffset=e.styles.itemTextIndent-e.styles.itemTextPadding,this.global_xOffset=e.horizontalOffset},i}(Bn),nc=function(){function e(){}return e=m([i.Directive({selector:"[igxSelectToggleIcon]"})],e)}(),oc=function(){function e(){}return e=m([i.Directive({selector:"[igxSelectHeader]"})],e)}(),rc=function(){function e(){}return e=m([i.Directive({selector:"[igxSelectFooter]"})],e)}(),sc=function(){},ac=function(t){function o(e,i,n,o,r){var s=t.call(this,e,i,n,o)||this;return s.elementRef=e,s.cdr=i,s.selection=n,s._displayDensityOptions=o,s._injector=r,s.ngControl=null,s.cssClass=!1,s.allowItemsFocus=!1,s.disabled=!1,s.maxHeight="256px",s.type="line",s.toggleIconTemplate=null,s.headerTemplate=null,s.footerTemplate=null,s._onChangeCallback=sc,s._onTouchedCallback=sc,s.writeValue=function(e){s.value=e},s}var r;return d(o,t),r=o,Object.defineProperty(o.prototype,"value",{get:function(){return this._value},set:function(e){var t=this;this._value!==e&&(this._value=e,this.setSelection(this.items.find((function(e){return e.value===t.value}))))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectionValue",{get:function(){var e=this.selectedItem;return e?e.itemText:""},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectedItem",{get:function(){return this.selection.first_item(this.id)},enumerable:!0,configurable:!0}),o.prototype.registerOnChange=function(e){this._onChangeCallback=e},o.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},o.prototype.setDisabledState=function(e){this.disabled=e},o.prototype.getEditElement=function(){return this.input.nativeElement},o.prototype.selectItem=function(e,t){var i=this.selectedItem;if(t&&this.toggleDirective.close(),null!==e&&e!==i&&!e.disabled&&!e.isHeader){var n={oldSelection:i,newSelection:e,cancel:!1};this.onSelection.emit(n),n.cancel||(this.setSelection(e),this._value=e.value,this.cdr.detectChanges(),this._onChangeCallback(this.value))}},o.prototype.getFirstItemElement=function(){return this.children.first.element.nativeElement},o.prototype.open=function(e){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),t.prototype.open.call(this,Object.assign({},this._overlayDefaults,this.overlaySettings,e)))},o.prototype.ngAfterContentInit=function(){var e=this;this._overlayDefaults={modal:!1,closeOnOutsideClick:!1,positionStrategy:new ic(this,{target:this.getEditElement()}),scrollStrategy:new Gn,excludePositionTarget:!0},this.children.changes.subscribe((function(){e.setSelection(e.items.find((function(t){return t.value===e.value}))),e.cdr.detectChanges()})),Promise.resolve().then((function(){return e.children.notifyOnChanges()}))},o.prototype.onToggleOpening=function(e){this.onOpening.emit(e),e.cancel||this.scrollToItem(this.selectedItem)},o.prototype.navigate=function(e,i){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),t.prototype.navigate.call(this,e,i)},o.prototype.manageRequiredAsterisk=function(){if(this.ngControl&&this.ngControl.control.validator){var e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.cdr.markForCheck()}},o.prototype.setSelection=function(e){e&&void 0!==e.value&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)},o.prototype.onBlur=function(){this._onTouchedCallback(),this.ngControl&&!this.ngControl.valid?this.input.valid=e.IgxInputState.INVALID:this.input.valid=e.IgxInputState.INITIAL,this.collapsed||this.toggleDirective.close()},o.prototype.onFocus=function(){this._onTouchedCallback()},o.prototype.onStatusChanged=function(){(this.ngControl.control.touched||this.ngControl.control.dirty)&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?e.IgxInputState.VALID:e.IgxInputState.INVALID:this.input.valid=this.ngControl.valid?e.IgxInputState.INITIAL:e.IgxInputState.INVALID),this.manageRequiredAsterisk()},o.prototype.ngOnInit=function(){this.ngControl=this._injector.get(n.NgControl,null)},o.prototype.ngAfterViewInit=function(){this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()},o.prototype.ngOnDestroy=function(){this.selection.clear(this.id),this._statusChanges$&&this._statusChanges$.unsubscribe()},o.prototype.mousedownHandler=function(e){e.preventDefault()},o.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:eo},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]},{type:i.Injector}]},m([i.ViewChild("inputGroup",{read:Wo,static:!0})],o.prototype,"inputGroup",void 0),m([i.ViewChild("input",{read:Mo,static:!0})],o.prototype,"input",void 0),m([i.ContentChildren(i.forwardRef((function(){return tc})),{descendants:!0})],o.prototype,"children",void 0),m([i.ContentChild(i.forwardRef((function(){return Fo})),{static:!0})],o.prototype,"label",void 0),m([i.Input()],o.prototype,"value",null),m([i.Input()],o.prototype,"placeholder",void 0),m([i.Input()],o.prototype,"disabled",void 0),m([i.Input()],o.prototype,"overlaySettings",void 0),m([i.HostBinding("style.maxHeight")],o.prototype,"maxHeight",void 0),m([i.Input()],o.prototype,"type",void 0),m([i.ContentChild(nc,{read:i.TemplateRef})],o.prototype,"toggleIconTemplate",void 0),m([i.ContentChild(oc,{read:i.TemplateRef,static:!1})],o.prototype,"headerTemplate",void 0),m([i.ContentChild(rc,{read:i.TemplateRef,static:!1})],o.prototype,"footerTemplate",void 0),o=r=m([i.Component({selector:"igx-select",template:'<igx-input-group #inputGroup class="input-group" [disabled]="disabled" (click)="toggle()" [type]="type" [displayDensity]="displayDensity">\n    <ng-container ngProjectAs="[igxLabel]">\n        <ng-content select="[igxLabel]"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-prefix">\n        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n    </ng-container>\n    <input #input class="input" type="text" igxInput [igxSelectItemNavigation]="this"\n        readonly="true"\n        [attr.placeholder]="this.placeholder"\n        [value]="this.selectionValue"\n        role="combobox"\n        aria-haspopup="listbox"\n        [attr.aria-labelledby]="this.label ? this.label.id : \'\'"\n        [attr.aria-expanded]="!this.collapsed"\n        [attr.aria-owns]="this.listId"\n        [attr.aria-activedescendant]="!this.collapsed ? this.focusedItem?.id : null"\n        (blur)="onBlur()"\n        (focus)="onFocus()"\n    />\n    <ng-container ngProjectAs="igx-suffix">\n            <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n    </ng-container>\n    <igx-suffix>\n            <ng-container *ngIf="toggleIconTemplate">\n                <ng-container *ngTemplateOutlet="toggleIconTemplate; context: {$implicit: this.collapsed}"></ng-container>\n                </ng-container>\n            <igx-icon *ngIf="!toggleIconTemplate" fontSet="material">{{ collapsed ? \'arrow_drop_down\' : \'arrow_drop_up\'}}</igx-icon>\n    </igx-suffix>\n</igx-input-group>\n<div igxToggle class="igx-drop-down__list" (mousedown)="mousedownHandler($event);" (onOpening)="onToggleOpening($event)"\n    (onOpened)="onToggleOpened()" (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n\n    <div *ngIf="headerTemplate" class="igx-drop-down__select-header">\n        <ng-content *ngTemplateOutlet="headerTemplate"></ng-content>\n    </div>\n\n    <div #scrollContainer class="igx-drop-down__list-scroll" [style.maxHeight]="maxHeight" [attr.id]="this.listId" role="listbox">\n        <ng-content select="igx-select-item, igx-select-item-group"></ng-content>\n    </div>\n\n    <div *ngIf="footerTemplate" class="igx-drop-down__select-footer">\n        <ng-container *ngTemplateOutlet="footerTemplate"></ng-container>\n    </div>\n</div>\n',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:r,multi:!0},{provide:Qn,useExisting:r}],styles:["\n        :host {\n            display: block;\n        }\n    "]}),y(3,i.Optional()),y(3,i.Inject(ao))],o)}(Do),lc=function(e){function t(){var t=e.call(this,null)||this;return t.inputStream="",t.clearStream$=r.Subscription.EMPTY,t}return d(t,e),t.prototype.handleKeyDown=function(t){if(t&&!t.shiftKey){var i=t.key.toLowerCase();if(!t.altKey||"arrowdown"!==i&&"arrowup"!==i&&"down"!==i&&"up"!==i){if(this.target.collapsed)switch(i){case"space":case"spacebar":case" ":case"enter":return t.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void t.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void t.preventDefault()}e.prototype.handleKeyDown.call(this,t)}else this.target.toggle()}},t.prototype.captureKey=function(e){var t=this;if(e&&e.key&&!(e.key.length>1)){this.clearStream$.unsubscribe(),this.clearStream$=r.timer(500).subscribe((function(){t.inputStream=""})),this.inputStream+=e.key;var i=this.target.focusedItem;i&&this.inputStream.length>1&&i.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}},t.prototype.activateItemByText=function(e){var t=this.target.items,i=t.indexOf(this.target.focusedItem)||0,n=t.slice(i+1).find((function(t){return!t.disabled&&t.itemText.toLowerCase().startsWith(e.toLowerCase())}));n||(n=t.slice(0,i).find((function(t){return!t.disabled&&t.itemText.toLowerCase().startsWith(e.toLowerCase())}))),n&&(this.target.collapsed&&this.target.selectItem(n),this.target.navigateItem(t.indexOf(n)))},t.prototype.ngOnDestroy=function(){this.clearStream$.unsubscribe()},m([i.Input("igxSelectItemNavigation")],t.prototype,"target",void 0),m([i.HostListener("keyup",["$event"])],t.prototype,"captureKey",null),t=m([i.Directive({selector:"[igxSelectItemNavigation]"})],t)}(Oo),cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t=m([i.Component({selector:"igx-select-item-group",template:'\n        <label id="{{labelId}}">{{ label }}</label>\n        <ng-content select="igx-select-item"></ng-content>\n    '})],t)}(io),pc=function(){function e(){}return e=m([i.NgModule({declarations:[ac,tc,lc,nc,cc,oc,rc],exports:[ac,tc,lc,nc,cc,oc,rc],imports:[Vr,o.CommonModule,Uo,n.FormsModule,n.ReactiveFormsModule,Zn,To,Xo,rs],providers:[]})],e)}();function dc(){return function(e,t,n){var o="_"+t.toString();(n=n||{configurable:!0,enumerable:!0}).get=n.get||function(){return this[o]};var r=n.set||function(e){this[o]=e};return n.set=function(e){var n,o=this._init,s=this[t];if((e!==s||"object"==typeof e&&e===s)&&(r.call(this,e),this.ngOnChanges&&!o)){var a=((n={})[t]=new i.SimpleChange(s,e,!1),n);this.ngOnChanges(a)}},n}}function uc(){return function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i}}function hc(e){return void 0===e&&(e=!1),function(t,i,n){var o="__"+i,r=(n=n||{enumerable:!0,configurable:!0})?n.set:null;return n.get=n.get||function(){return this[o]},n.set=function(t){if(r)r.call(this,t),this.grid&&this.grid.notifyChanges(e);else{if(t===this[i])return;this[o]=t,this.grid&&this.grid.notifyChanges(e)}},n}}var gc=function(){function e(){this.change=new r.Subject,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}return e.prototype.register=function(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new r.Subject)},e.prototype.unsubscribe=function(e){this.state.delete(e.id)},e.prototype.get=function(e){return this.state.get(e)},e.prototype.unset=function(e){this.state.delete(e),this.destroyMap.delete(e)},e.prototype.reset=function(e,t){var i=this.destroyMap.get(e),n=this.get(e);this.unset(e),n&&this.state.set(t,n),i&&this.destroyMap.set(t,i)},e.prototype.registerChildRowIsland=function(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new r.Subject)},e.prototype.unsetChildRowIsland=function(e){this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)},e.prototype.getChildRowIsland=function(e){return this.childRowIslands.get(e)},e.prototype.registerChildGrid=function(e,t){this.childGrids.set(e,t)},e.prototype.getChildGrids=function(e){var t=[];return this.childGrids.forEach((function(e){t.push(e)})),e&&this.childRowIslands.forEach((function(i){t=t.concat(i.rowIslandAPI.getChildGrids(e))})),t},e.prototype.getChildGridByID=function(e){return this.childGrids.get(e)},e=m([i.Injectable()],e)}(),fc=function(){function e(e,t,i){this.id=e,this.index=t,this.data=i}return e.prototype.createEditEventArgs=function(){return{rowID:this.id,oldValue:f({},this.data),newValue:this.newData,cancel:!1}},e}(),mc=function(){function e(e,t,i,n,o,r){this.id=e,this.rowIndex=t,this.column=i,this.value=n,this.editValue=o,this.rowData=r}return e.prototype.castToNumber=function(e){if("number"===this.column.dataType&&!this.column.inlineEditorTemplate){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0}return e},e.prototype.createEditEventArgs=function(){return{rowID:this.id.rowID,cellID:this.id,oldValue:this.value,newValue:this.editValue,cancel:!1}},e}(),yc=function(){function e(){this.cell=null,this.row=null}return e.prototype.createCell=function(e){return new mc(e.cellID,e.rowIndex,e.column,e.value,e.value,e.row.rowData)},e.prototype.createRow=function(e){return new fc(e.id.rowID,e.rowIndex,e.rowData)},e.prototype.sameRow=function(e){return this.row&&this.row.id===e},e.prototype.sameCell=function(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID},Object.defineProperty(e.prototype,"inEditMode",{get:function(){return!!this.cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEditing",{get:function(){return this.grid.rowEditable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryKey",{get:function(){return this.grid.primaryKey},enumerable:!0,configurable:!0}),e.prototype.beginRowEdit=function(){!this.grid.rowEditable||void 0!==this.grid.primaryKey&&null!==this.grid.primaryKey||console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!"),this.row=this.createRow(this.cell);var e={rowID:this.row.id,oldValue:this.row.data,cancel:!1};this.grid.onRowEditEnter.emit(e),e.cancel?this.endRowEdit():(this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id))},e.prototype.endRowEdit=function(){this.row=null},e.prototype.begin=function(e){var t=this.createCell(e);t.primaryKey=this.primaryKey;var i={cellID:t.id,rowID:t.id.rowID,oldValue:t.value,cancel:!1};if(this.grid.onCellEditEnter.emit(i),i.cancel)this.end();else if(this.rowEditing){if(this.row&&!this.sameRow(t.id.rowID))return this.grid.endEdit(!0),this.cell=t,void this.beginRowEdit();if(this.cell=t,!this.row)return void this.beginRowEdit()}else this.cell=t,this.endRowEdit()},e.prototype.end=function(){this.cell=null},e.prototype.isInEditMode=function(e,t){return!!this.cell&&(this.cell.column.index===t&&this.cell.rowIndex===e)},e=m([i.Injectable()],e)}(),vc=function(){function e(e){this.zone=e,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.selection=new Map,this.temp=new Map,this._ranges=new Set,this.rowSelection=new Set,this.initPointerState(),this.initKeyboardState()}return Object.defineProperty(e.prototype,"ranges",{get:function(){this.addKeyboardRange();var e=Array.from(this._ranges).map((function(e){return JSON.parse(e)}));return!e.length&&this.activeElement&&this.grid.isCellSelectable&&e.push(this.generateRange(this.activeElement)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryButton",{get:function(){return this.pointerState.primaryButton},set:function(e){this.pointerState.primaryButton=e},enumerable:!0,configurable:!0}),e.prototype.initKeyboardState=function(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1},e.prototype.initPointerState=function(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0},e.prototype.add=function(e,t){void 0===t&&(t=!0),this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),t&&this._ranges.add(JSON.stringify(this.generateRange(e)))},e.prototype.addKeyboardRange=function(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))},e.prototype.remove=function(e){this.selection.has(e.row)&&this.selection.get(e.row).delete(e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges.delete(JSON.stringify(this.generateRange(e)))},e.prototype.isInMap=function(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)},e.prototype.selected=function(e){return this.isActiveNode(e)&&this.grid.isCellSelectable||this.isInMap(e)},e.prototype.isActiveNode=function(e){if(this.activeElement){var t=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(this.grid.hasColumnLayouts){var i=this.activeElement.layout;return t&&this.isActiveLayout(i,e.layout)}return t}return!1},e.prototype.isActiveLayout=function(e,t){return e.columnVisibleIndex===t.columnVisibleIndex},e.prototype.addRangeMeta=function(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))},e.prototype.removeRangeMeta=function(e,t){this._ranges.delete(JSON.stringify(this.generateRange(e,t)))},e.prototype.generateRange=function(e,t){if(!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};var i=t.node,n=i.row,o=i.column;return{rowStart:Math.min(e.row,n),rowEnd:Math.max(e.row,n),columnStart:Math.min(e.column,o),columnEnd:Math.max(e.column,o)}},e.prototype.keyboardStateOnKeydown=function(e,t,i){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!i,this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=e)},e.prototype.keyboardStateOnFocus=function(e,t,i){var n=this.keyboardState;if(n.active){if(bc()&&this._moveSelectionChrome(i),n.shift)return this.dragSelect(e,n),n.range=this.generateRange(e,n),void t.emit(this.generateRange(e,n));this.initKeyboardState(),this.clear(),this.add(e)}},e.prototype.pointerDown=function(e,t,i){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=i,this.pointerState.shift=t,i||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e},e.prototype.pointerDownShiftKey=function(e){this.clear(),this.selectRange(e,this.pointerState)},e.prototype.mergeMap=function(e,t){for(var i,n,o=t.entries(),r=o.next(),s=function(){var t;if(t=b(r.value,2),i=t[0],n=t[1],e.has(i)){var s=e.get(i);n.forEach((function(e){return s.add(e)})),e.set(i,s)}else e.set(i,n);r=o.next()};!r.done;)s()},e.prototype.pointerEnter=function(e,t){return this.dragMode=1===t.buttons&&-1===t.button,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)},e.prototype.pointerUp=function(e,t){var i=this;return this.dragMode?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask((function(){return t.emit(i.generateRange(e,i.pointerState))})),this.temp.clear(),this.dragMode=!1,!0):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.add(e),!1)},e.prototype.selectRange=function(e,t,i){void 0===i&&(i=this.selection),i===this.temp&&i.clear();for(var n=this.generateRange(e,t),o=n.rowStart,r=n.rowEnd,s=n.columnStart,a=n.columnEnd,l=o;l<=r;l++)for(var c=s;c<=a;c++)i.has(l)?i.get(l).add(c):i.set(l,new Set).get(l).add(c)},e.prototype.dragSelect=function(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)},e.prototype.clear=function(e){void 0===e&&(e=!1),e&&(this.activeElement=null),this.selection.clear(),this.temp.clear(),this._ranges.clear()},e.prototype.clearTextSelection=function(){var e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())},e.prototype.restoreTextSelection=function(){var e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||document.createRange())},e.prototype._moveSelectionChrome=function(e){var t=window.getSelection();t.removeAllRanges();var i=new Range;i.selectNode(e),i.collapse(!0),t.addRange(i)},e.prototype.getSelectedRows=function(){return this.rowSelection.size?Array.from(this.rowSelection.keys()):[]},e.prototype.clearRowSelection=function(e){var t=this,i=this.isFilteringApplied()?this.getRowIDs(this.allData).filter((function(e){return t.isRowSelected(e)})):this.getSelectedRows(),n=this.isFilteringApplied()?this.getSelectedRows().filter((function(e){return!i.includes(e)})):[];this.emitRowSelectionEvent(n,[],i,e)},e.prototype.selectAllRows=function(e){var t=this,i=this.getRowIDs(this.allData).filter((function(e){return!t.isRowSelected(e)})),n=this.rowSelection.size?this.getSelectedRows().concat(i):i;this.emitRowSelectionEvent(n,i,[],e)},e.prototype.selectRowById=function(e,t,i){if(this.grid.isRowSelectable&&!this.isRowDeleted(e)){var n=(t=!this.grid.isMultiRowSelectionEnabled||t)?[e]:-1!==this.getSelectedRows().indexOf(e)?this.getSelectedRows():x(this.getSelectedRows(),[e]),o=t?this.getSelectedRows():[];this.emitRowSelectionEvent(n,[e],o,i)}},e.prototype.deselectRow=function(e,t){if(this.isRowSelected(e)){var i=this.getSelectedRows().filter((function(t){return t!==e}));this.rowSelection.size&&this.rowSelection.has(e)&&this.emitRowSelectionEvent(i,[],[e],t)}},e.prototype.selectRowsWithNoEvent=function(e,t){var i=this;t&&this.rowSelection.clear(),e.forEach((function(e){i.rowSelection.add(e)})),this.allRowsSelected=void 0},e.prototype.deselectRowsWithNoEvent=function(e){var t=this;e.forEach((function(e){return t.rowSelection.delete(e)})),this.allRowsSelected=void 0},e.prototype.isRowSelected=function(e){return this.rowSelection.size>0&&this.rowSelection.has(e)},e.prototype.selectMultipleRows=function(e,t,i){var n=this;if(this.allRowsSelected=void 0,this.rowSelection.size&&!this.isRowDeleted(e)){var o=this.allData,r=this.getSelectedRows()[this.rowSelection.size-1],s=o.indexOf(this.getRowDataById(r)),a=o.indexOf(t),l=o.slice(Math.min(s,a),Math.max(s,a)+1),c=this.getRowIDs(l).filter((function(e){return!n.isRowSelected(e)})),p=this.getSelectedRows().concat(c);this.emitRowSelectionEvent(p,c,[],i)}else this.selectRowById(e)},e.prototype.areAllRowSelected=function(){if(!this.grid.data)return!1;if(void 0!==this.allRowsSelected)return this.allRowsSelected;var e=this.getRowIDs(this.allData);return this.allRowsSelected=Math.min(this.rowSelection.size,e.length)>0&&new Set(Array.from(this.rowSelection.values()).concat(e)).size===this.rowSelection.size},e.prototype.hasSomeRowSelected=function(){var e=this,t=!this.isFilteringApplied()||this.getRowIDs(this.grid.filteredData).some((function(t){return e.isRowSelected(t)}));return this.rowSelection.size>0&&t&&!this.areAllRowSelected()},Object.defineProperty(e.prototype,"filteredSelectedRowIds",{get:function(){var e=this;return this.isFilteringApplied()?this.getRowIDs(this.allData).filter((function(t){return e.isRowSelected(t)})):this.getSelectedRows().filter((function(t){return!e.isRowDeleted(t)}))},enumerable:!0,configurable:!0}),e.prototype.emitRowSelectionEvent=function(e,t,i,n){var o=this.getSelectedRows();if(!this.areEqualCollections(o,e)){var r={oldSelection:o,newSelection:e,added:t,removed:i,event:n,cancel:!1};this.grid.onRowSelectionChange.emit(r),r.cancel||this.selectRowsWithNoEvent(r.newSelection,!0)}},e.prototype.getRowDataById=function(e){if(!this.grid.primaryKey)return e;var t=this.getRowIDs(this.grid.gridAPI.get_all_data(!0)).indexOf(e);return t<0?{}:this.grid.gridAPI.get_all_data(!0)[t]},e.prototype.getRowIDs=function(e){var t=this;return this.grid.primaryKey&&e.length?e.map((function(e){return e[t.grid.primaryKey]})):e},e.prototype.clearHeaderCBState=function(){this.allRowsSelected=void 0},e.prototype.clearAllSelectedRows=function(){this.rowSelection.clear(),this.clearHeaderCBState()},Object.defineProperty(e.prototype,"allData",{get:function(){var e=this;return(this.isFilteringApplied()||this.grid.sortingExpressions.length?this.grid.filteredSortedData:this.grid.gridAPI.get_all_data(!0)).filter((function(t){return!e.isRowDeleted(e.grid.gridAPI.get_row_id(t))}))},enumerable:!0,configurable:!0}),e.prototype.areEqualCollections=function(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length},e.prototype.isFilteringApplied=function(){var e=this.grid;return!ki.empty(e.filteringExpressionsTree)||!ki.empty(e.advancedFilteringExpressionsTree)},e.prototype.isRowDeleted=function(e){return this.grid.gridAPI.row_deleted_transaction(e)},e.ctorParameters=function(){return[{type:i.NgZone}]},e=m([i.Injectable()],e)}();function bc(){return(/Chrom|e?ium/g.test(navigator.userAgent)||/Google Inc/g.test(navigator.vendor))&&!/Edge/g.test(navigator.userAgent)}var xc,Cc,_c,wc,Ic,Sc,Ec=function(){function e(e,t,i){this._zone=e,this.doc=t,this.platformUtil=i,this.hammerOptions={},this._hammerManagers=[],this.platformBrowser=this.platformUtil.isBrowser,this.platformBrowser&&(this.hammerOptions={inputClass:Hammer.TouchInput,recognizers:[[Hammer.Pan,{threshold:0}],[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}],[Hammer.Tap],[Hammer.Tap,{event:"doubletap",taps:2},["tap"]]]})}return e.prototype.supports=function(e){return e.toLowerCase().endsWith(".precise")},e.prototype.addEventListener=function(e,t,i,n){var o=this;if(void 0===n&&(n=null),this.platformBrowser)return this._zone.runOutsideAngular((function(){var r=o.getManagerForElement(e);null===r&&(r=new Hammer(e,Object.assign(o.hammerOptions,n)),o.addManagerForElement(e,r));var s=function(e){o._zone.run((function(){i(e)}))};return r.on(t,s),function(){r.off(t,s)}}))},e.prototype.addGlobalEventListener=function(e,t,i){if(this.platformBrowser){var n=this.getGlobalEventTarget(e);return this.addEventListener(n,t,i)}},e.prototype.getGlobalEventTarget=function(e){return c["ɵgetDOM"]().getGlobalEventTarget(this.doc,e)},e.prototype.setManagerOption=function(e,t,i){this.getManagerForElement(e).get(t).set(i)},e.prototype.addManagerForElement=function(e,t){this._hammerManagers.push({element:e,manager:t})},e.prototype.getManagerForElement=function(e){var t=this._hammerManagers.filter((function(t,i,n){return t.element===e}));return t.length?t[0].manager:null},e.prototype.removeManagerForElement=function(e){for(var t=null,i=0;i<this._hammerManagers.length;i++)if(e===this._hammerManagers[i].element){t=i;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()},e.prototype.destroy=function(){var e,t;try{for(var i=v(this._hammerManagers),n=i.next();!n.done;n=i.next()){n.value.manager.destroy()}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._hammerManagers=[]},e.ctorParameters=function(){return[{type:i.NgZone},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:ui}]},e=m([i.Injectable(),y(1,i.Inject(o.DOCUMENT))],e)}();(xc=e.FilterMode||(e.FilterMode={})).quickFilter="quickFilter",xc.excelStyleFilter="excelStyleFilter",(Cc=e.GridSummaryPosition||(e.GridSummaryPosition={})).top="top",Cc.bottom="bottom",(_c=e.GridSummaryCalculationMode||(e.GridSummaryCalculationMode={})).rootLevelOnly="rootLevelOnly",_c.childLevelsOnly="childLevelsOnly",_c.rootAndChildLevels="rootAndChildLevels",(wc=e.GridKeydownTargetType||(e.GridKeydownTargetType={})).dataCell="dataCell",wc.summaryCell="summaryCell",wc.groupRow="groupRow",wc.hierarchicalRow="hierarchicalRow",(Ic=e.GridSelectionMode||(e.GridSelectionMode={})).none="none",Ic.single="single",Ic.multiple="multiple",(Sc=e.ColumnDisplayOrder||(e.ColumnDisplayOrder={})).Alphabetical="Alphabetical",Sc.DisplayOrder="DisplayOrder";var Dc,Oc=function(){function t(t,i,n,o,r,s,a,l){var c=this;this.selectionService=t,this.crudService=i,this.gridAPI=n,this.cdr=o,this.element=r,this.zone=s,this.touchManager=a,this.platformUtil=l,this._vIndex=-1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this.lastPinned=!1,this.editMode=!1,this.tabindex=0,this.role="gridcell",this.width="",this.focused=!1,this.isInCompositionMode=!1,this._cellSelection=e.GridSelectionMode.multiple,this.pointerdown=function(e){if(!hi(e))return c.selectionService.addKeyboardRange(),c.selectionService.initKeyboardState(),void(c.selectionService.primaryButton=!1);c.selectionService.pointerDown(c.selectionNode,e.shiftKey,e.ctrlKey)},this.pointerenter=function(e){c.selectionService.pointerEnter(c.selectionNode,e)&&c.grid.cdr.detectChanges()},this.pointerup=function(e){c.grid.hasColumnLayouts&&c.grid.navigation.setStartNavigationCell(c.colStart,c.rowStart,null),hi(e)&&(c.selectionService.pointerUp(c.selectionNode,c.grid.onRangeSelection)&&c.grid.cdr.detectChanges(),c._updateCRUDStatus())},this.onDoubleClick=function(e){"doubletap"===e.type&&e.preventDefault(),!c.editable||c.editMode||c.row.deleted||c.crudService.begin(c),c.grid.onDoubleClick.emit({cell:c,event:e})}}return Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:this.value,cell:this}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){if(this.editMode){var e=this.column.inlineEditorTemplate;return e||this.inlineEditorTemplate}return this.cellTemplate?this.cellTemplate:this.defaultCellTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridID",{get:function(){return this.row.gridID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowIndex",{get:function(){return this.row.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnIndex",{get:function(){return this.column.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleColumnIndex",{get:function(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex},set:function(e){this._vIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellID",{get:function(){var e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inEditMode",{get:function(){return this.editMode},set:function(e){this.setEditMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellSelectionMode",{get:function(){return this._cellSelection},set:function(t){var i=this;this._cellSelection!==t&&(this.zone.runOutsideAngular((function(){t===e.GridSelectionMode.multiple?i.addPointerListeners(t):i.removePointerListeners(i._cellSelection)})),this._cellSelection=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastSearchInfo",{set:function(e){this._lastSearchInfo=e,this.highlightText(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return!this.column.editable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridRowSpan",{get:function(){return this.column.gridRowSpan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridColumnSpan",{get:function(){return this.column.gridColumnSpan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowEnd",{get:function(){return this.column.rowEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colEnd",{get:function(){return this.column.colEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowStart",{get:function(){return this.column.rowStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colStart",{get:function(){return this.column.colStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedby",{get:function(){return this.row.gridID+"_"+this.column.field},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.selectionService.selected(this.selectionNode)},set:function(e){var t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t),this.grid.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){if(!this.grid.rowEditable){var e=this.grid.transactions.getState(this.row.rowID);return e&&e.value&&(e.value[this.column.field]||0===e.value[this.column.field]||!1===e.value[this.column.field])}var t=this.grid.transactions.getAggregatedValue(this.row.rowID,!1);return!!t&&(void 0!==t[this.column.field]&&null!==t[this.column.field])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editValue",{get:function(){if(this.crudService.inEditMode)return this.crudService.cell.editValue},set:function(e){this.crudService.inEditMode&&(this.crudService.cell.editValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this.column.editable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlight",{get:function(){return this._highlight},set:function(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionNode",{get:function(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}},enumerable:!0,configurable:!0}),t.prototype.addPointerListeners=function(t){t===e.GridSelectionMode.multiple&&(this.nativeElement.addEventListener("pointerdown",this.pointerdown),this.nativeElement.addEventListener("pointerenter",this.pointerenter),this.nativeElement.addEventListener("pointerup",this.pointerup))},t.prototype.removePointerListeners=function(t){t===e.GridSelectionMode.multiple&&(this.nativeElement.removeEventListener("pointerdown",this.pointerdown),this.nativeElement.removeEventListener("pointerenter",this.pointerenter),this.nativeElement.removeEventListener("pointerup",this.pointerup))},t.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular((function(){e.addPointerListeners(e.cellSelectionMode),ci()&&(e.compositionStartHandler=function(){return e.isInCompositionMode=!0},e.compositionEndHandler=function(){return e.isInCompositionMode=!1},e.nativeElement.addEventListener("compositionstart",e.compositionStartHandler),e.nativeElement.addEventListener("compositionend",e.compositionEndHandler))})),this.platformUtil.isIOS&&this.touchManager.addEventListener(this.nativeElement,"doubletap",this.onDoubleClick,{cssProps:{}})},t.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular((function(){e.removePointerListeners(e.cellSelectionMode),ci()&&(e.nativeElement.removeEventListener("compositionstart",e.compositionStartHandler),e.nativeElement.removeEventListener("compositionend",e.compositionEndHandler))})),this.touchManager.destroy()},t.prototype._updateCRUDStatus=function(){if(!this.editMode){var e=this.crudService,t=this.crudService.cell,i=!(!e.row&&!e.cell);if(this.editable&&i&&!this.row.deleted)return t&&(this.gridAPI.update_cell(t,t.editValue),this.grid.sortingExpressions.length&&this.grid.sortingExpressions.indexOf(t.column.field)&&this.grid.cdr.detectChanges()),e.end(),this.grid.notifyChanges(),void e.begin(this);t&&e.sameRow(this.cellID.rowID)?this.gridAPI.submit_value():i&&!e.sameRow(this.cellID.rowID)&&this.grid.endEdit(!0)}},t.prototype.isCellSelected=function(){return this.selectionService.selected(this.selectionNode)},t.prototype.ngOnChanges=function(e){e.value&&!e.value.firstChange&&this.highlight&&(this.highlight.lastSearchInfo.searchedText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch)},t.prototype.setEditMode=function(e){this.row.deleted||(this.editable&&e?(this.gridAPI.submit_value(),this.crudService.begin(this)):this.gridAPI.escape_editMode(),this.grid.notifyChanges())},t.prototype.update=function(e){if(!this.row.deleted){var t=this.crudService.createCell(this),i=this.gridAPI.update_cell(t,e);if(this.crudService.cell&&this.crudService.sameCell(t)){if(i.cancel)return;this.gridAPI.escape_editMode()}this.cdr.markForCheck()}},t.prototype.onClick=function(e){this.grid.onCellClick.emit({cell:this,event:e})},t.prototype.onContextMenu=function(e){this.grid.onContextMenu.emit({cell:this,event:e})},t.prototype.onFocus=function(t){if(!this.focused){this.focused=!0,this.row.focused=!0;var i=this.selectionNode,n=!this.selectionService.isActiveNode(i);this.selectionService.primaryButton?(this._updateCRUDStatus(),this.selectionService.activeElement=i):(this.selectionService.activeElement=null,this.crudService.inEditMode&&!this.editMode&&this.gridAPI.submit_value()),this.selectionService.primaryButton=!0,this.cellSelectionMode===e.GridSelectionMode.multiple&&this.selectionService.activeElement&&(this.selectionService.add(this.selectionService.activeElement,!1),this.selectionService.keyboardStateOnFocus(i,this.grid.onRangeSelection,this.nativeElement)),this.grid.isCellSelectable&&n&&this.grid.onSelection.emit({cell:this,event:t})}},t.prototype.onBlur=function(){this.focused=!1,this.row.focused=!1},t.prototype.handleAlt=function(e,t){if(this.isToggleKey(e)){var i=this.row.expanded&&vi.has(e);!this.row.expanded&&yi.has(e)?this.gridAPI.set_row_expansion_state(this.row.rowID,!0,t):i&&this.gridAPI.set_row_expansion_state(this.row.rowID,!1,t),this.grid.notifyChanges()}},t.prototype.handleTab=function(e){e?this.grid.navigation.performShiftTabKey(this.row.nativeElement,this.selectionNode):this.grid.navigation.performTab(this.row.nativeElement,this.selectionNode)},t.prototype.handleEnd=function(e){e?this.grid.navigation.goToLastCell():this.grid.navigation.onKeydownEnd(this.rowIndex,!1,this.rowStart)},t.prototype.handleHome=function(e){e?this.grid.navigation.goToFirstCell():this.grid.navigation.onKeydownHome(this.rowIndex,!1,this.rowStart)},t.prototype.dispatchEvent=function(e){var t=e.key.toLowerCase(),i=e.shiftKey,n=e.ctrlKey,o=this.selectionNode;if(bi.has(t)){e.stopPropagation();var r={targetType:"dataCell",target:this,event:e,cancel:!1};if(!ci()||229!==r.event.keyCode||"Tab"!==e.key){if(this.grid.onGridKeydown.emit(r),r.cancel)return this.selectionService.clear(),void(this.selectionService.keyboardState.active=!0);if(e.altKey)return e.preventDefault(),void this.handleAlt(t,e);if(this.selectionService.keyboardStateOnKeydown(o,i,i&&"tab"===t),"tab"===t&&e.preventDefault(),this.editMode&&mi.has(t)){if(this.column.inlineEditorTemplate)return;["date","boolean"].indexOf(this.column.dataType)}else switch(mi.has(t)&&e.preventDefault(),t){case"tab":this.handleTab(i);break;case"end":this.handleEnd(n);break;case"home":this.handleHome(n);break;case"arrowleft":case"left":if(n){this.grid.navigation.onKeydownHome(o.row,!1,this.rowStart);break}this.grid.navigation.onKeydownArrowLeft(this.nativeElement,this.selectionNode);break;case"arrowright":case"right":if(n){this.grid.navigation.onKeydownEnd(o.row,!1,this.rowStart);break}this.grid.navigation.onKeydownArrowRight(this.nativeElement,this.selectionNode);break;case"arrowup":case"up":if(n){this.grid.navigation.navigateTop(this.visibleColumnIndex);break}this.grid.navigation.navigateUp(this.row.nativeElement,this.selectionNode);break;case"arrowdown":case"down":if(n){this.grid.navigation.navigateBottom(this.visibleColumnIndex);break}this.grid.navigation.navigateDown(this.row.nativeElement,this.selectionNode);break;case"enter":case"f2":this.onKeydownEnterEditMode();break;case"escape":case"esc":this.onKeydownExitEditMode();break;case" ":case"spacebar":case"space":this.grid.isRowSelectable&&(this.row.selected?this.selectionService.deselectRow(this.row.rowID,e):this.selectionService.selectRowById(this.row.rowID,!1,e));break;default:return}}}},t.prototype.onKeydownEnterEditMode=function(){this.isInCompositionMode||this.column.editable&&!this.row.deleted&&(this.editMode?(this.grid.endEdit(!0),this.nativeElement.focus()):this.crudService.begin(this))},t.prototype.onKeydownExitEditMode=function(){if(!this.isInCompositionMode&&this.editMode){var e=this.crudService.cell.createEditEventArgs();if(this.grid.onCellEditCancel.emit(e),e.cancel)return;this.grid.endEdit(!1),this.nativeElement.focus()}},t.prototype.highlightText=function(e,t,i){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,i):0},t.prototype.clearHighlight=function(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()},t.prototype.calculateSizeToFit=function(e){return Math.max.apply(Math,x(Array.from(this.nativeElement.children).map((function(t){return li(e,t)}))))},t.prototype.isToggleKey=function(e){return vi.has(e)||yi.has(e)},t.ctorParameters=function(){return[{type:vc},{type:yc},{type:Bi},{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.NgZone},{type:Ec},{type:ui}]},m([i.Input()],t.prototype,"column",void 0),m([i.Input()],t.prototype,"row",void 0),m([i.Input()],t.prototype,"rowData",void 0),m([i.Input()],t.prototype,"cellTemplate",void 0),m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"formatter",void 0),m([i.HostBinding("attr.data-rowIndex")],t.prototype,"rowIndex",null),m([i.HostBinding("attr.data-visibleIndex"),i.Input()],t.prototype,"visibleColumnIndex",null),m([Rn("'inEditMode' is deprecated\nUse 'editMode' to get the current state and 'setEditMode(boolean)' as a setter")],t.prototype,"inEditMode",null),m([i.Input()],t.prototype,"cellSelectionMode",null),m([i.Input()],t.prototype,"lastSearchInfo",null),m([i.Input(),i.HostBinding("class.igx-grid__td--pinned-last")],t.prototype,"lastPinned",void 0),m([i.Input(),i.HostBinding("class.igx-grid__td--editing")],t.prototype,"editMode",void 0),m([i.HostBinding("attr.tabindex")],t.prototype,"tabindex",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("attr.aria-readonly")],t.prototype,"readonly",null),m([i.HostBinding("attr.aria-describedby")],t.prototype,"describedby",null),m([i.Input()],t.prototype,"width",void 0),m([i.HostBinding("attr.aria-selected"),i.HostBinding("class.igx-grid__td--selected")],t.prototype,"selected",null),m([i.HostBinding("class.igx-grid__td--edited")],t.prototype,"dirty",null),m([i.HostBinding("class.igx-grid__td--active")],t.prototype,"focused",void 0),m([i.ViewChild("defaultCell",{read:i.TemplateRef,static:!0})],t.prototype,"defaultCellTemplate",void 0),m([i.ViewChild("inlineEditor",{read:i.TemplateRef,static:!0})],t.prototype,"inlineEditorTemplate",void 0),m([i.ViewChild(Nr,{read:Nr})],t.prototype,"highlight",null),m([Pn("'isCellSelected' is deprecated. Use 'selected' property instead.")],t.prototype,"isCellSelected",null),m([i.HostListener("dblclick",["$event"])],t.prototype,"onDoubleClick",void 0),m([i.HostListener("click",["$event"])],t.prototype,"onClick",null),m([i.HostListener("contextmenu",["$event"])],t.prototype,"onContextMenu",null),m([i.HostListener("focus",["$event"])],t.prototype,"onFocus",null),m([i.HostListener("blur")],t.prototype,"onBlur",null),m([i.HostListener("keydown",["$event"])],t.prototype,"dispatchEvent",null),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,selector:"igx-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" />\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue"\n            [igxFocus]="focused" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n            [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n        </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n',providers:[Ec]})],t)}(),Tc=function(){function t(e,t,i,n,o){this.gridAPI=e,this.crudService=t,this.selectionService=i,this.element=n,this.cdr=o,this.role="row",this.dragging=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr"}return Object.defineProperty(t.prototype,"rowData",{get:function(){return this.inEditMode?Object.assign({},this._rowData,this.grid.transactions.getAggregatedValue(this.rowID,!1)):this._rowData},set:function(e){this._rowData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleClasses",{get:function(){return this.resolveClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.selectionService.isRowSelected(this.rowID)},set:function(e){e?this.selectionService.selectRowsWithNoEvent([this.rowID]):this.selectionService.deselectRowsWithNoEvent([this.rowID]),this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.grid.visibleColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewIndex",{get:function(){return this.grid.groupingExpressions.length?this.grid.filteredSortedData.indexOf(this.rowData):this.index+this.grid.page*this.grid.perPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinnedColumns",{get:function(){return this.grid.pinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRowSelectors",{get:function(){return this.grid.showRowSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){var t=this.grid.transactions.getState(this.rowID);return!!t&&(t.type===e.TransactionType.ADD||t.type===e.TransactionType.UPDATE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.selectionService.isRowSelected(this.rowID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowDraggable",{get:function(){return this.grid.rowDraggable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"added",{get:function(){var t=this.grid.transactions.getState(this.rowID);return!!t&&t.type===e.TransactionType.ADD},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleted",{get:function(){return this.gridAPI.row_deleted_transaction(this.rowID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inEditMode",{get:function(){if(this.grid.rowEditable){var e=this.crudService.row;return e&&e.id===this.rowID||!1}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowID",{get:function(){var e=this.grid.primaryKey;return e?this._rowData[e]:this._rowData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){"none"===this.grid.rowSelection||this.deleted||(e.shiftKey&&"multiple"===this.grid.rowSelection?this.selectionService.selectMultipleRows(this.rowID,this.rowData,e):this.selectionService.selectRowById(this.rowID,!e.ctrlKey,e))},t.prototype.onRowSelectorClick=function(e){e.stopPropagation(),e.shiftKey&&"multiple"===this.grid.rowSelection?this.selectionService.selectMultipleRows(this.rowID,this.rowData,e):this.selected?this.selectionService.deselectRow(this.rowID,e):this.selectionService.selectRowById(this.rowID,!1,e)},t.prototype.update=function(e){var t=this.crudService;t.inEditMode&&t.cell.id.rowID===this.rowID&&this.grid.endEdit(!1);var i=new fc(this.rowID,this.index,this.rowData);this.gridAPI.update_row(i,e),this.cdr.markForCheck()},t.prototype.delete=function(){this.grid.deleteRowById(this.rowID)},Object.defineProperty(t.prototype,"rowCheckboxAriaLabel",{get:function(){return this.grid.primaryKey?this.selected?"Deselect row with key "+this.rowID:"Select row with key "+this.rowID:this.selected?"Deselect row":"Select row"},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){this.cdr.markForCheck()},t.prototype.resolveClasses=function(){var e=this.index%2?this.grid.evenRowCSS:this.grid.oddRowCSS,t=this.selected?"igx-grid__tr--selected":"",i=this.inEditMode?"igx-grid__tr--edit":"",n=this.dirty?"igx-grid__tr--edited":"",o=this.deleted?"igx-grid__tr--deleted":"",r=this.grid.hasColumnLayouts?"igx-grid__tr--mrl":"",s=this.dragging?"igx-grid__tr--drag":"";return(this.defaultCssClass+" "+e+" "+t+" "+i+" "+n+"\n         "+o+" "+r+" "+s).trim()},Object.defineProperty(t.prototype,"resolveDragIndicatorClasses",{get:function(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:Bi},{type:yc},{type:vc},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"rowData",null),m([i.Input()],t.prototype,"index",void 0),m([i.Input()],t.prototype,"gridID",void 0),m([i.ViewChild("igxDirRef",{read:So})],t.prototype,"virtDirRow",void 0),m([i.ViewChild(i.forwardRef((function(){return za})),{read:za})],t.prototype,"checkboxElement",void 0),m([i.ViewChildren(i.forwardRef((function(){return Oc})))],t.prototype,"cells",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("attr.data-rowIndex")],t.prototype,"dataRowIndex",null),m([i.HostBinding("class")],t.prototype,"styleClasses",null),m([i.Input(),i.HostBinding("attr.aria-selected")],t.prototype,"selected",null),m([Rn("isSelected property is deprecated. Use selected property instead.")],t.prototype,"isSelected",null),m([i.HostListener("click",["$event"])],t.prototype,"onClick",null),t=m([i.Directive({selector:"[igxRowBaseComponent]"})],t)}(),Pc=function(e){return 0===e||Boolean(e)},Rc=function(e){return e[0]},kc=Rc,Lc=function(e){return e[e.length-1]},Ac=Lc,Mc=function(){function e(){}return e.count=function(e){return e.length},e.prototype.operate=function(t,i,n){return void 0===t&&(t=[]),void 0===i&&(i=[]),[{key:"count",label:"Count",summaryResult:e.count(t)}]},e}(),Vc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.min=function(e){return e.length&&e.filter(Pc).length?e.filter(Pc).reduce((function(e,t){return Math.min(e,t)})):0},t.max=function(e){return e.length&&e.filter(Pc).length?e.filter(Pc).reduce((function(e,t){return Math.max(e,t)})):0},t.sum=function(e){return e.length&&e.filter(Pc).length?e.filter(Pc).reduce((function(e,t){return+e+ +t})):0},t.average=function(e){return e.length&&e.filter(Pc).length?this.sum(e)/this.count(e):0},t.prototype.operate=function(i,n,o){void 0===i&&(i=[]),void 0===n&&(n=[]);var r=e.prototype.operate.call(this,i,n,o);return r.push({key:"min",label:"Min",summaryResult:t.min(i)}),r.push({key:"max",label:"Max",summaryResult:t.max(i)}),r.push({key:"sum",label:"Sum",summaryResult:t.sum(i)}),r.push({key:"average",label:"Avg",summaryResult:t.average(i)}),r},t}(Mc),Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.latest=function(e){return e.length&&e.filter(Pc).length?Rc(e.filter(Pc).sort((function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()}))):void 0},t.earliest=function(e){return e.length&&e.filter(Pc).length?Lc(e.filter(Pc).sort((function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()}))):void 0},t.prototype.operate=function(i,n,o){void 0===i&&(i=[]),void 0===n&&(n=[]);var r=e.prototype.operate.call(this,i,n,o);return r.push({key:"earliest",label:"Earliest",summaryResult:t.earliest(i)}),r.push({key:"latest",label:"Latest",summaryResult:t.latest(i)}),r},t}(Mc),Hc=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxFilterCellTemplate]"})],e)}(),Bc=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxCell]"})],e)}(),jc=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxHeader]"})],e)}(),Nc=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxFooter]"})],e)}(),Gc=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxCellEditor]"})],e)}(),zc=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxCollapsibleIndicator]"})],e)}(),Wc=function(){function t(t,n,o){this.gridAPI=t,this.cdr=n,this.rowIslandAPI=o,this.header="",this.sortable=!1,this.groupable=!1,this.filterable=!0,this.resizable=!1,this.hiddenChange=new i.EventEmitter,this.expandedChange=new i.EventEmitter,this.collapsibleChange=new i.EventEmitter,this.visibleWhenCollapsedChange=new i.EventEmitter,this.disableHiding=!1,this.disablePinning=!1,this.movable=!1,this.widthChange=new i.EventEmitter,this._calcWidth=null,this.headerClasses="",this.headerGroupClasses="",this.cellStyles=null,this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.dataType=e.DataType.String,this.pinnedChange=new i.EventEmitter,this.searchable=!0,this.collapsible=!1,this.expanded=!0,this.parent=null,this._pinned=!1,this._summaries=null,this._filters=null,this._sortStrategy=Si.instance(),this._hidden=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._collapsible=!1,this._expanded=!0,this._vIndex=NaN}return Object.defineProperty(t.prototype,"editable",{get:function(){var e=this.grid&&this.grid.rowEditable,t=this.grid&&this.grid.transactions.enabled;return(!this.isPrimaryColumn||!e&&!t)&&(void 0!==this._editable?this._editable:e)},set:function(e){this._editable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSummary",{get:function(){return this._hasSummary},set:function(e){this._hasSummary=e,this.grid&&this.grid.summaryService.resetSummaryHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){if(this._hidden!==e){if(this._hidden=e,this.hiddenChange.emit(this._hidden),this.columnLayoutChild&&this.parent.hidden!==e)return void(this.parent.hidden=e);this.grid&&(this.grid.endEdit(!1),this.grid.summaryService.resetSummaryHeight(),this.grid.filteringService.refreshExpressions(),this.grid.notifyChanges())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.widthSetByUser?this._width:this.defaultWidth},set:function(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,("number"==typeof e||e.match(/^[0-9]*$/))&&(e+="px"),this._width=e,this.grid&&this.cacheCalcWidth(),this.widthChange.emit(this._width))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calcWidth",{get:function(){return this.getCalcWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth},set:function(e){var t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.grid.columns.indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinned",{get:function(){return this._pinned},set:function(e){if(this._pinned!==e){if(this.grid&&this.width&&!isNaN(parseInt(this.width,10)))return void(e?this.pin():this.unpin());this._unpinnedIndex=this.grid?this.grid.columns.filter((function(e){return!e.pinned})).indexOf(this):0,this._pinned=e,this.pinnedChange.emit(this._pinned)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summaries",{get:function(){return this._summaries},set:function(e){this._summaries=new e,this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid._summaryPipeTrigger++,this.grid.summaryService.resetSummaryHeight())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortStrategy",{get:function(){return this._sortStrategy},set:function(e){this._sortStrategy=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupingComparer",{get:function(){return this._groupingComparer},set:function(e){this._groupingComparer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultMinWidth",{get:function(){if(!this.grid)return"80";switch(this.grid.displayDensity){case e.DisplayDensity.cosy:return"64";case e.DisplayDensity.compact:return"56";default:return"80"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyTemplate",{get:function(){return this._bodyTemplate},set:function(e){this._bodyTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerTemplate",{get:function(){return this._headerTemplate},set:function(e){this._headerTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inlineEditorTemplate",{get:function(){return this._inlineEditorTemplate},set:function(e){this._inlineEditorTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterCellTemplate",{get:function(){return this._filterCellTemplate},set:function(e){this._filterCellTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){var e=this;return this.grid.rowList.filter((function(e){return e instanceof Tc})).map((function(t){if(t.cells)return t.cells.filter((function(t){return t.columnIndex===e.index}))})).reduce((function(e,t){return e.concat(t)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleIndex",{get:function(){var e=this;if(!isNaN(this._vIndex))return this._vIndex;var t=this.grid.unpinnedColumns.filter((function(e){return!e.columnGroup})),i=this.grid.pinnedColumns.filter((function(e){return!e.columnGroup})),n=this,o=-1;if(this.columnGroup&&(n=this.allChildren.filter((function(e){return!e.columnGroup}))[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find((function(t){return t.column===e})).index;if(this.pinned)o=i.indexOf(n);else{var r=t.indexOf(n);o=-1===r?-1:i.length+r}return this._vIndex=o,o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroup",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayoutChild",{get:function(){return this.parent&&this.parent.columnLayout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allChildren",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this.parent,t=0;e;)t++,e=e.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLastPinned",{get:function(){return this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridRowSpan",{get:function(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridColumnSpan",{get:function(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleWhenCollapsed",{get:function(){return this._visibleWhenCollapsed},set:function(e){this._visibleWhenCollapsed=e,this.visibleWhenCollapsedChange.emit(this._visibleWhenCollapsed),this.parent&&this.parent.setExpandCollapseState()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteringExpressionsTree",{get:function(){return this.grid.filteringExpressionsTree.find(this.field)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPrimaryColumn",{get:function(){return void 0!==this.field&&void 0!==this.grid&&this.field===this.grid.primaryKey},enumerable:!0,configurable:!0}),t.prototype.resetCaches=function(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()},t.prototype.ngAfterContentInit=function(){if(this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),!this.summaries)switch(this.dataType){case e.DataType.String:case e.DataType.Boolean:this.summaries=Mc;break;case e.DataType.Number:this.summaries=Vc;break;case e.DataType.Date:this.summaries=Fc;break;default:this.summaries=Mc}if(!this.filters)switch(this.dataType){case e.DataType.Boolean:this.filters=qr.instance();break;case e.DataType.Number:this.filters=Jr.instance();break;case e.DataType.Date:this.filters=Zr.instance();break;case e.DataType.String:default:this.filters=Qr.instance()}},t.prototype.getGridTemplate=function(e,t){if(e){var i=this.grid.multiRowLayoutRowSize;return t?"(1fr)["+i+"]":"repeat("+i+",1fr)"}return this.getColumnSizesString(this.children)},t.prototype.getInitialChildColumnSizes=function(e){var t=this,i=[];e.forEach((function(e){if(e.colStart){var n=e.widthSetByUser&&i[e.colStart-1]&&!i[e.colStart-1].widthSetByUser,o=i[e.colStart-1]&&i[e.colStart-1].colSpan>e.gridColumnSpan,r=e.widthSetByUser&&i[e.colStart-1]&&i[e.colStart-1].widthSetByUser,s=!e.widthSetByUser&&i[e.colStart-1]&&!i[e.colStart-1].widthSetByUser;if(void 0===i[e.colStart-1])i[e.colStart-1]={ref:e,width:e.widthSetByUser||t.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(n||o&&(r||s)){if(r&&o)for(var a=e.colStart-1+e.gridColumnSpan;a<i[e.colStart-1].colEnd-1&&(!i[a]||!i[a].widthSetByUser);a++)i[a]=i[e.colStart-1];i[e.colStart-1]={ref:e,width:e.widthSetByUser||t.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(r&&i[e.colStart-1].colSpan<e.gridColumnSpan)for(a=e.colStart-1+i[e.colStart-1].colSpan;a<e.colStart-1+e.gridColumnSpan&&(!i[a]||!i[a].widthSetByUser);a++)i[a]={ref:e,width:e.widthSetByUser||t.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}}));for(var n=0;n<i.length;n++)if(i[n]&&i[n].colSpan>1){for(var o=1;o<i[n].colSpan&&n+o+1<i[n].colEnd&&(!i[n+o]||!(!i[n].width&&i[n+o].width||!i[n].width&&!i[n+o].width&&i[n+o].colSpan<=i[n].colSpan||i[n+o].width&&i[n+o].colSpan<=i[n].colSpan));o++){var r=i[n].widthSetByUser?i[n].width/i[n].colSpan:i[n].width;i[n+o]={ref:i[n].ref,width:r,colSpan:1,colEnd:i[n].colEnd,widthSetByUser:i[n].widthSetByUser}}i[n].width=i[n].widthSetByUser?i[n].width/i[n].colSpan:i[n].width,i[n].colSpan=1,n+=o-1}return i},t.prototype.getFilledChildColumnSizes=function(e){for(var t=this.getInitialChildColumnSizes(e),i=[],n=0;n<t.length;n++)t[n]&&t[n].width?i.push(t[n].width+"px"):i.push(parseInt(this.grid.getPossibleColumnWidth(),10)+"px");return i},t.prototype.getColumnSizesString=function(e){return this.getFilledChildColumnSizes(e).join(" ")},t.prototype.getResizableColUnderEnd=function(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];for(var e=this.getInitialChildColumnSizes(this.parent.children),t=[],i=this.colEnd?this.colEnd:this.colStart+1,n=0;n<e.length;n++)this.colStart<=n+1&&n+1<i&&t.push({target:e[n].ref,spanUsed:1});for(var o=[],r=0;r<t.length;r++)o.length&&o[o.length-1].target.field===t[r].target.field?o[o.length-1].spanUsed++:o.push(t[r]);return o},t.prototype.pin=function(e){if(this.grid&&this.grid.endEdit(!0),this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);var t=this.grid,i=void 0!==e;if(i&&(e<0||e>=t.pinnedColumns.length))return!1;if(!this.parent&&!this.pinnable)return!1;this._pinned=!0,this.pinnedChange.emit(this._pinned),this._unpinnedIndex=t._unpinnedColumns.indexOf(this),e=void 0!==e?e:t._pinnedColumns.length;var n=t._pinnedColumns[e],o={column:this,insertAtIndex:e,isPinned:!0};return t.onColumnPinning.emit(o),-1===t._pinnedColumns.indexOf(this)&&(t._pinnedColumns.splice(o.insertAtIndex,0,this),-1!==t._unpinnedColumns.indexOf(this)&&t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1)),i&&t._moveColumns(this,n),this.columnGroup&&(this.allChildren.forEach((function(e){return e.pin()})),t.reinitPinStates()),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((function(e){return e.columnLayout})).forEach((function(e){return e.populateVisibleIndexes()})),this.grid.filteringService.refreshExpressions(),!0},t.prototype.unpin=function(e){if(this.grid&&this.grid.endEdit(!0),!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);var t=this.grid,i=void 0!==e;if(i&&(e<0||e>=t._unpinnedColumns.length))return!1;e=void 0!==e?e:void 0!==this._unpinnedIndex?this._unpinnedIndex:this.index,this._pinned=!1,this.pinnedChange.emit(this._pinned);var n=t._unpinnedColumns[e];t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1),i&&t._moveColumns(this,n),this.columnGroup&&this.allChildren.forEach((function(e){return e.unpin()})),t.reinitPinStates(),t.resetCaches();var o={column:this,insertAtIndex:t._unpinnedColumns.indexOf(this),isPinned:!1};return t.onColumnPinning.emit(o),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((function(e){return e.columnLayout})).forEach((function(e){return e.populateVisibleIndexes()})),this.grid.filteringService.refreshExpressions(),!0},Object.defineProperty(t.prototype,"topLevelParent",{get:function(){for(var e=this.parent;e&&e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerCell",{get:function(){var e=this;return this.grid.headerCellList.find((function(t){return t.column===e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterCell",{get:function(){var e=this;return this.grid.filterCellList.find((function(t){return t.column===e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerGroup",{get:function(){var e=this;return this.grid.headerGroupsList.find((function(t){return t.column===e}))},enumerable:!0,configurable:!0}),t.prototype.autosize=function(){this.columnGroup||(this.width=this.getLargestCellWidth(),this.grid.reflow())},t.prototype.getCalcWidth=function(){return null===this._calcWidth||isNaN(this.calcPixelWidth)?(this.cacheCalcWidth(),this._calcWidth):this._calcWidth},t.prototype.getLargestCellWidth=function(){var e=this.grid.document.createRange(),t=new Map;if(this.cells.length>0){var i=[];this.cells[0].nativeElement.children.length>0?this.cells.forEach((function(t){return i.push(t.calculateSizeToFit(e))})):i=this.cells.map((function(t){return li(e,t.nativeElement)}));var n=i.indexOf(Math.max.apply(Math,x(i))),o=this.grid.document.defaultView.getComputedStyle(this.cells[n].nativeElement),r=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderRightWidth);t.set(Math.max.apply(Math,x(i)),r)}if(this.headerCell){var s=void 0;s=this.headerTemplate&&this.headerCell.elementRef.nativeElement.children[0].children.length>0?Math.max.apply(Math,x(Array.from(this.headerCell.elementRef.nativeElement.children[0].children).map((function(t){return li(e,t)})))):li(e,this.headerCell.elementRef.nativeElement.children[0]),(this.sortable||this.filterable)&&(s+=this.headerCell.elementRef.nativeElement.children[1].getBoundingClientRect().width);var a=this.grid.document.defaultView.getComputedStyle(this.headerCell.elementRef.nativeElement),l=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderRightWidth);t.set(s,l)}var c=Math.max.apply(Math,x(Array.from(t.keys()))),p=Math.ceil(c+t.get(c));return Number.isNaN(p)?this.width:p+"px"},t.prototype.getCellWidth=function(){var e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(e&&!t){var i=e;return"string"==typeof i&&!1!==i.endsWith("px")||(i+="px"),i}return e},t.prototype.cacheCalcWidth=function(){var e=this.gridAPI.grid,t=this.width,i=t&&"string"==typeof t&&-1!==t.indexOf("%");this._calcWidth=i?parseInt(t,10)/100*(e.calcWidth-e.featureColumnsWidth()):t?this.width:this.defaultWidth||e.getPossibleColumnWidth(),this.calcPixelWidth=parseInt(this._calcWidth,10)},t.prototype.setExpandCollapseState=function(){var e=this;this.children.filter((function(e){return void 0!==e.visibleWhenCollapsed})).forEach((function(t){e.collapsible?t.hidden=e._expanded?t.visibleWhenCollapsed:!t.visibleWhenCollapsed:t.hidden=e.hidden}))},t.prototype.checkCollapsibleState=function(){if(!this.children)return!1;var e=this.children.map((function(e){return e.visibleWhenCollapsed}));return e.some((function(e){return!0===e}))&&e.some((function(e){return!1===e}))},Object.defineProperty(t.prototype,"pinnable",{get:function(){return this.grid._init||!this.pinned},enumerable:!0,configurable:!0}),t.prototype.populateVisibleIndexes=function(){},t.ctorParameters=function(){return[{type:Bi},{type:i.ChangeDetectorRef},{type:gc}]},m([i.Input()],t.prototype,"field",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"header",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"sortable",void 0),m([hc(!0),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"groupable",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"editable",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"filterable",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"resizable",void 0),m([hc(!0),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"hasSummary",null),m([hc(!0),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"hidden",null),m([i.Output()],t.prototype,"hiddenChange",void 0),m([i.Output()],t.prototype,"expandedChange",void 0),m([i.Output()],t.prototype,"collapsibleChange",void 0),m([i.Output()],t.prototype,"visibleWhenCollapsedChange",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"disableHiding",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"disablePinning",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},hc(),i.Input()],t.prototype,"movable",void 0),m([hc(!0),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"width",null),m([i.Output()],t.prototype,"widthChange",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"maxWidth",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"minWidth",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"headerClasses",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"headerGroupClasses",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"cellClasses",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"cellStyles",void 0),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"formatter",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"filteringIgnoreCase",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"sortingIgnoreCase",void 0),m([i.Input()],t.prototype,"dataType",void 0),m([function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"pinned",null),m([i.Output()],t.prototype,"pinnedChange",void 0),m([Rn("The property is deprecated. Please, use `column.grid.id` instead.")],t.prototype,"gridID",void 0),m([hc(!0),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"summaries",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"searchable",void 0),m([i.Input()],t.prototype,"filters",null),m([i.Input()],t.prototype,"sortStrategy",null),m([i.Input()],t.prototype,"groupingComparer",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input("cellTemplate")],t.prototype,"bodyTemplate",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input()],t.prototype,"headerTemplate",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input("cellEditorTemplate")],t.prototype,"inlineEditorTemplate",null),m([hc(),function(e,t,i){var n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};var o=i.set||function(e){this[n]=e};return i.set=function(e){this._init;var i=this[t];o.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.rowIslandAPI.rowIsland&&this.rowIslandAPI.rowIsland.updateColumnList()},i},i.Input("filterCellTemplate")],t.prototype,"filterCellTemplate",null),m([i.Input("collapsibleIndicatorTemplate")],t.prototype,"collapsibleIndicatorTemplate",void 0),m([i.Input()],t.prototype,"rowEnd",void 0),m([i.Input()],t.prototype,"colEnd",void 0),m([i.Input()],t.prototype,"rowStart",void 0),m([i.Input()],t.prototype,"colStart",void 0),m([hc(!0),i.Input()],t.prototype,"visibleWhenCollapsed",null),m([i.ContentChild(Bc,{read:Bc})],t.prototype,"cellTemplate",void 0),m([i.ContentChildren(jc,{read:jc,descendants:!1})],t.prototype,"headTemplate",void 0),m([i.ContentChild(Gc,{read:Gc})],t.prototype,"editorTemplate",void 0),m([i.ContentChild(Hc,{read:Hc})],t.prototype,"filterCellTemplateDirective",void 0),m([i.ContentChild(zc,{read:zc,static:!1})],t.prototype,"collapseIndicatorTemplate",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-column",template:""})],t)}(),Uc=function(){function e(){}return e=m([i.Directive({selector:"[igxGridBody]",providers:[bo]})],e)}(),$c=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTop=!1,e.isTopInitialPosition=null,e}return d(i,t),i.prototype.position=function(i,n,o,r){var s=this.settings.container,a=this.settings.target;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:s.getBoundingClientRect().bottom<a.getBoundingClientRect().bottom+i.getBoundingClientRect().height,i.style.width=a.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?e.VerticalAlignment.Top:e.VerticalAlignment.Bottom,this.settings.openAnimation=this.isTop?Ge:Be,t.prototype.position.call(this,i,{width:a.clientWidth,height:a.clientHeight},o,r)},i}(Hn),Kc=function(){function e(e){this.valueChanged=new i.EventEmitter,this._propName=e}return Object.defineProperty(e.prototype,"object",{get:function(){return this._object},set:function(e){e&&(this._object=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.object?this.object[this._propName]:null},set:function(e){this.onValueChanged(e)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(e){var t=this.value;e!==t&&(this.object[this._propName]=e,this.valueChanged.emit({oldValue:t,newValue:e}))},e.ctorParameters=function(){return[{type:String}]},m([i.Input()],e.prototype,"value",null),m([i.Output()],e.prototype,"valueChanged",void 0),e=m([i.Directive()],e)}(),Yc=function(e){function t(t){var i=e.call(this,t)||this;return i.prop=t,i.indentation=30,i}return d(t,e),Object.defineProperty(t.prototype,"column",{get:function(){return this.object},set:function(e){e&&(this.object=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.column?this.column.header?this.column.header:this.column.field:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.column.level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calcIndent",{get:function(){return this.indentation*this.level},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:String}]},m([i.Input()],t.prototype,"column",null),m([i.Input()],t.prototype,"indentation",void 0),m([i.Input()],t.prototype,"container",void 0),t=m([i.Directive()],t)}(Kc),Xc=function(e){function t(){return e.call(this,"hidden")||this}return d(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.column.disableHiding},enumerable:!0,configurable:!0}),t=m([i.Directive({selector:"[igxColumnHidingItem]"})],t)}(Yc),qc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.filter=function(e,t){var i=this,n=[];return e.forEach((function(e){i.matchRecord(e,t.filteringOperands[0])?n.push(e):e.column.columnGroup&&e.column.allChildren.findIndex((function(e){return i.matchRecord(e,t.filteringOperands[1])||i.matchRecord(e,t.filteringOperands[2])}))>-1&&n.push(e)})),n},t}(Mi),Zc=function(){function t(t){this.cdr=t,this.disableFilter=!1,this.columnsAreaMaxHeight="100%",this.cssClass="igx-column-hiding",this._currentColumns=[],this._gridColumns=[],this._rawColumns=[],this._columnDisplayOrder=e.ColumnDisplayOrder.DisplayOrder,this._filterCriteria="",this._filterColumnsPrompt="",this._title=""}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._gridColumns},set:function(e){e&&(this._gridColumns=e,this.createColumnItems(),this.filterCriteria&&this.filter())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterColumnsPrompt",{get:function(){return this._filterColumnsPrompt},set:function(e){this._filterColumnsPrompt=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnItems",{get:function(){return this._currentColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterCriteria",{get:function(){return this._filterCriteria},set:function(e){if(!e||0===e.length)return this.clearFiltering(),this._filterCriteria="",void this.cdr.detectChanges();this._filterCriteria&&this._filterCriteria.length>e.length&&this.clearFiltering(),this._filterCriteria=e,this.filter(),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnDisplayOrder",{get:function(){return this._columnDisplayOrder},set:function(e){void 0!==e&&(this.orderColumns(e),this._filterCriteria.length>0&&this.filter())},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){var e,t;try{for(var i=v(this._currentColumns),n=i.next();!n.done;n=i.next()){n.value.valueChanged.unsubscribe()}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t.prototype.createColumnItems=function(){var e=this;this._gridColumns.length>0&&(this._rawColumns=[],this._gridColumns.forEach((function(t){var i=e.createColumnItem(e,t);i&&e._rawColumns.push(i)})),this._currentColumns=this._rawColumns.slice(0),this.orderColumns(this._columnDisplayOrder))},t.prototype.orderColumns=function(t){this._columnDisplayOrder=t,t===e.ColumnDisplayOrder[e.ColumnDisplayOrder.Alphabetical]||t===e.ColumnDisplayOrder.Alphabetical?this._currentColumns=this._rawColumns.slice(0).sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())})):this._currentColumns=this._rawColumns},t.prototype.filter=function(){var t=new ki(e.FilteringLogic.Or);t.filteringOperands.push(this.createFilteringExpression("name")),t.filteringOperands.push(this.createFilteringExpression("field")),t.filteringOperands.push(this.createFilteringExpression("header"));var i=new qc;this._currentColumns=i.filter(this._currentColumns,t)},t.prototype.createFilteringExpression=function(e){return{condition:Qr.instance().condition("contains"),fieldName:e,ignoreCase:!0,searchVal:this._filterCriteria}},t.prototype.clearFiltering=function(){this.createColumnItems()},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"columns",null),m([i.Input()],t.prototype,"title",null),m([i.Input()],t.prototype,"filterColumnsPrompt",null),m([i.Input()],t.prototype,"disableFilter",void 0),m([i.Input()],t.prototype,"columnItems",null),m([i.Input()],t.prototype,"filterCriteria",null),m([i.Input()],t.prototype,"columnDisplayOrder",null),m([i.Input()],t.prototype,"columnsAreaMaxHeight",void 0),m([i.HostBinding("attr.class")],t.prototype,"cssClass",void 0),t=m([i.Directive()],t)}(),Jc=function(e){function t(t){var n=e.call(this,t)||this;return n.cdr=t,n.showAllText="Show All",n.hideAllText="Hide All",n.onColumnVisibilityChanged=new i.EventEmitter,n.destroy$=new r.Subject,n}return d(t,e),Object.defineProperty(t.prototype,"disableHideAll",{get:function(){return!this.columnItems||this.columnItems.length<1||this.hiddenColumnsCount===this.columns.length||(this.hidableColumns.length<1||this.hidableColumns.length===this.hidableColumns.filter((function(e){return e.value})).length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableShowAll",{get:function(){return!this.columnItems||this.columnItems.length<1||this.hiddenColumnsCount<1||this.hidableColumns.length<1||this.hidableColumns.length===this.hidableColumns.filter((function(e){return!e.value})).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenColumnsCount",{get:function(){return this.columns?this.columns.filter((function(e){return e.hidden})).length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidableColumns",{get:function(){return this.columnItems.filter((function(e){return!e.disabled}))},enumerable:!0,configurable:!0}),t.prototype.createColumnItem=function(e,t){var i=this;if(t.grid.hasColumnLayouts&&!t.columnLayout)return null;var n=new Xc;return n.container=e,n.column=t,n.valueChanged.pipe(s.takeUntil(this.destroy$)).subscribe((function(e){i.onVisibilityChanged({column:n.column,newValue:e.newValue})})),n},t.prototype.showAllColumns=function(){var e,t,i=this.hidableColumns;try{for(var n=v(i),o=n.next();!o.done;o=n.next()){o.value.value=!1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.hideAllColumns=function(){var e,t,i=this.hidableColumns;try{for(var n=v(i),o=n.next();!o.done;o=n.next()){o.value.value=!0}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.onVisibilityChanged=function(e){this.onColumnVisibilityChanged.emit(e)},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"disableHideAll",null),m([i.Input()],t.prototype,"disableShowAll",null),m([i.Input()],t.prototype,"showAllText",void 0),m([i.Input()],t.prototype,"hideAllText",void 0),m([i.Output()],t.prototype,"onColumnVisibilityChanged",void 0),t=m([i.Component({preserveWhitespaces:!1,selector:"igx-column-hiding",template:'<div class="igx-column-hiding__header">\n    <h4 class="igx-column-hiding__header-title" *ngIf="title">{{ title }}</h4>\n\n    <igx-input-group class="igx-column-hiding__header-input" *ngIf="!disableFilter">\n        <input igxInput\n            type="text"\n            [(ngModel)]="filterCriteria"\n            [placeholder]="filterColumnsPrompt"\n            autocomplete="off" />\n    </igx-input-group>\n</div>\n\n<div class="igx-column-hiding__columns"\n    [style.max-height]="columnsAreaMaxHeight">\n    <igx-checkbox\n        *ngFor="let columnItem of hidableColumns"\n        class="igx-column-hiding__columns-item"\n        (onColumnVisibilityChanged)="onVisibilityChanged($event)"\n        (change)="columnItem.value = !columnItem.value"\n        [checked]="columnItem.value"\n        [disabled]="columnItem.disabled"\n        [style.margin-left.px]="columnItem.calcIndent">\n        {{ columnItem.name }}\n    </igx-checkbox>\n</div>\n\n<div class="igx-column-hiding__buttons">\n    <button igxButton igxRipple (click)="showAllColumns()" [disabled]="disableShowAll">{{ showAllText }}</button>\n    <button igxButton igxRipple (click)="hideAllColumns()" [disabled]="disableHideAll">{{ hideAllText }}</button>\n</div>\n'})],t)}(Zc),Qc=function(e){function t(){return e.call(this,"pinned")||this}return d(t,e),Object.defineProperty(t.prototype,"pinnable",{get:function(){return this.column.pinnable},enumerable:!0,configurable:!0}),t=m([i.Directive({selector:"[igxColumnPinningItem]"})],t)}(Yc),ep=function(e){function t(t){var i=e.call(this,t)||this;return i.cdr=t,i}return d(t,e),t.prototype.createColumnItem=function(e,t){if(0!==t.level||t.disablePinning)return null;var i=new Qc;return i.container=e,i.column=t,i},t.prototype.checkboxValueChange=function(e,t){if(e.checked&&!t.pinnable)return e.checkbox.checked=!1,!1;t.value=!t.value},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},t=m([i.Component({preserveWhitespaces:!1,selector:"igx-column-pinning",template:'\n<div class="igx-column-hiding__header">\n    <h4 class="igx-column-hiding__header-title" *ngIf="title">{{ title }}</h4>\n\n    <igx-input-group class="igx-column-hiding__header-input" *ngIf="!disableFilter">\n        <input igxInput\n            type="text"\n            [(ngModel)]="filterCriteria"\n            [placeholder]="filterColumnsPrompt"\n            autocomplete="off" />\n    </igx-input-group>\n</div>\n\n<div class="igx-column-hiding__columns"\n    [style.max-height]="columnsAreaMaxHeight">\n    <igx-checkbox igxColumnPinningItem\n        *ngFor="let columnItem of columnItems"\n        class="igx-column-hiding__columns-item"\n        (change)="checkboxValueChange($event, columnItem)"\n        [checked]="columnItem.value">\n        {{ columnItem.name }}\n    </igx-checkbox>\n</div>\n'})],t)}(Zc),tp=function(t){function n(i,n,o,r,s){var a=t.call(this,s)||this;return a.gridAPI=i,a.cdr=n,a.excelExporter=o,a.csvExporter=r,a._displayDensityOptions=s,a._filterColumnsPrompt="Filter columns list ...",a._positionSettings={horizontalDirection:e.HorizontalAlignment.Left,horizontalStartPoint:e.HorizontalAlignment.Right,verticalDirection:e.VerticalAlignment.Bottom,verticalStartPoint:e.VerticalAlignment.Bottom},a._overlaySettings={positionStrategy:new Hn(a._positionSettings),scrollStrategy:new Gn,modal:!1,closeOnOutsideClick:!0,excludePositionTarget:!0},a}return d(n,t),Object.defineProperty(n.prototype,"filterColumnsPrompt",{get:function(){return this._filterColumnsPrompt},set:function(e){this._filterColumnsPrompt=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultDropDownsMaxHeight",{get:function(){var e=this.grid.calcHeight;return e?.7*e+"px":"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldShowExportButton",{get:function(){return null!=this.grid&&(this.grid.exportExcel||this.grid.exportCsv)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldShowExportExcelButton",{get:function(){return null!=this.grid&&this.grid.exportExcel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"shouldShowExportCsvButton",{get:function(){return null!=this.grid&&this.grid.exportCsv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pinnedColumnsCount",{get:function(){return this.grid.pinnedColumns.filter((function(e){return!e.columnLayout})).length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hostClass",{get:function(){return this.getComponentDensityClass("igx-grid-toolbar")},enumerable:!0,configurable:!0}),n.prototype.getTitle=function(){return null!=this.grid?this.grid.toolbarTitle:""},n.prototype.getExportText=function(){return null!=this.grid?this.grid.exportText:""},n.prototype.getExportExcelText=function(){return null!=this.grid?this.grid.exportExcelText:""},n.prototype.getExportCsvText=function(){return null!=this.grid?this.grid.exportCsvText:""},n.prototype.exportClicked=function(){this._overlaySettings.positionStrategy.settings.target=this.exportButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.exportDropdown.toggle(this._overlaySettings)},n.prototype.exportToExcelClicked=function(){this.performExport(this.excelExporter,"excel")},n.prototype.exportToCsvClicked=function(){this.performExport(this.csvExporter,"csv")},n.prototype.performExport=function(t,i){this.exportClicked();var n="excel"===i?new In("ExportedData"):new Ui("ExportedData",e.CsvFileTypes.CSV),o={grid:this.grid,exporter:t,options:n,cancel:!1};this.grid.onToolbarExporting.emit(o),o.cancel||t.export(this.grid,n)},n.prototype.toggleColumnHidingUI=function(){this._overlaySettings.positionStrategy.settings.target=this.columnHidingButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.columnHidingDropdown.toggle(this._overlaySettings)},n.prototype.toggleColumnPinningUI=function(){this._overlaySettings.positionStrategy.settings.target=this.columnPinningButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.columnPinningDropdown.toggle(this._overlaySettings)},n.prototype.showAdvancedFilteringUI=function(){this.grid.openAdvancedFilteringDialog()},Object.defineProperty(n.prototype,"context",{get:function(){return{grid:this.grid,toolbar:this}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customContentTemplate",{get:function(){return null!=this.grid&&null!=this.grid.toolbarCustomContentTemplate?this.grid.toolbarCustomContentTemplate.template:null},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:Bi},{type:i.ChangeDetectorRef},{type:wn,decorators:[{type:i.Optional}]},{type:Yi,decorators:[{type:i.Optional}]},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.HostBinding("class.igx-grid-toolbar"),i.Input()],n.prototype,"gridID",void 0),m([i.Input()],n.prototype,"filterColumnsPrompt",null),m([i.Input()],n.prototype,"defaultDropDownsMaxHeight",null),m([i.ViewChild("columnHidingDropdown",{read:Do})],n.prototype,"columnHidingDropdown",void 0),m([i.ViewChild(Jc)],n.prototype,"columnHidingUI",void 0),m([i.ViewChild("columnHidingButton",{read:Yo})],n.prototype,"columnHidingButton",void 0),m([i.ViewChild("exportDropdown",{read:Do})],n.prototype,"exportDropdown",void 0),m([i.ViewChild("btnExport",{read:Yo})],n.prototype,"exportButton",void 0),m([i.ViewChild("columnPinningDropdown",{read:Do})],n.prototype,"columnPinningDropdown",void 0),m([i.ViewChild(ep)],n.prototype,"columnPinningUI",void 0),m([i.ViewChild("columnPinningButton",{read:Yo})],n.prototype,"columnPinningButton",void 0),m([i.HostBinding("attr.class")],n.prototype,"hostClass",null),n=m([i.Component({selector:"igx-grid-toolbar",template:'<span class="igx-grid-toolbar__title" *ngIf="getTitle()">\n    {{ getTitle() }}\n</span>\n\n<div class="igx-grid-toolbar__custom-content" *ngIf="customContentTemplate != null">\n    <ng-container *ngTemplateOutlet="customContentTemplate; context: context">\n    </ng-container>\n</div>\n\n<div class="igx-grid-toolbar__actions">\n    <div *ngIf="grid.allowAdvancedFiltering">\n        <button igxButton="outlined" [displayDensity]="grid.displayDensity" #advancedFilteringButton name="btnAdvancedFiltering" igxRipple\n            (click)="showAdvancedFilteringUI()"\n                [ngClass]="grid.advancedFilteringExpressionsTree ? \'igx-grid-toolbar__adv-filter--filtered\' : \'igx-grid-toolbar__adv-filter\'">\n            <div class="igx-grid-toolbar__button-space">\n                <igx-icon>\n                    filter_list\n                </igx-icon>\n                <span>{{grid.resourceStrings.igx_grid_advanced_filter_title}}</span>\n            </div>\n        </button>\n    </div>\n\n    <div *ngIf="grid.columnHiding">\n        <button igxButton="outlined" [displayDensity]="grid.displayDensity" #columnHidingButton name="btnColumnHiding" igxRipple\n            (click)="toggleColumnHidingUI()">\n            <div  class="igx-grid-toolbar__button-space">\n                <igx-icon *ngIf="grid.hiddenColumnsCount > 0">visibility_off</igx-icon>\n                <igx-icon *ngIf="grid.hiddenColumnsCount === 0">visibility</igx-icon>\n                <span>{{ grid.hiddenColumnsCount }}</span>\n                <span>{{ grid.hiddenColumnsText }}</span>\n            </div>\n        </button>\n        <igx-drop-down #columnHidingDropdown>\n            <igx-column-hiding\n                [columns]="grid.columns"\n                [title]="grid.columnHidingTitle"\n                [filterColumnsPrompt]="filterColumnsPrompt"\n                [columnsAreaMaxHeight]="defaultDropDownsMaxHeight"\n                (onColumnVisibilityChanged)="grid.toggleColumnVisibility($event)">\n            </igx-column-hiding>\n        </igx-drop-down>\n    </div>\n    <div *ngIf="grid.columnPinning">\n        <button igxButton="outlined" [displayDensity]="grid.displayDensity" #columnPinningButton name="btnColumnPinning" igxRipple\n            (click)="toggleColumnPinningUI()">\n            <div  class="igx-grid-toolbar__button-space">\n                <igx-icon *ngIf="pinnedColumnsCount > 0">lock</igx-icon>\n                <igx-icon *ngIf="pinnedColumnsCount === 0">lock_open</igx-icon>\n                <span>{{ pinnedColumnsCount }}</span>\n                <span>{{ grid.pinnedColumnsText }}</span>\n                <span></span>\n            </div>\n        </button>\n        <igx-drop-down #columnPinningDropdown>\n            <igx-column-pinning\n                [columns]="grid.columns"\n                [title]="grid.columnPinningTitle"\n                [filterColumnsPrompt]="filterColumnsPrompt"\n                [columnsAreaMaxHeight]="defaultDropDownsMaxHeight"></igx-column-pinning>\n        </igx-drop-down>\n    </div>\n\n    <div class="igx-grid-toolbar__dropdown" *ngIf="shouldShowExportButton" id="btnExport">\n        <button igxButton="outlined" [displayDensity]="grid.displayDensity" igxRipple #btnExport\n                (click)="exportClicked()">\n            <span class="igx-grid-toolbar__button-space">\n                <igx-icon fontSet="material">import_export</igx-icon>\n                <span>{{ getExportText() }}</span>\n                <igx-icon fontSet="material">arrow_drop_down</igx-icon>\n            </span>\n        </button>\n\n        <igx-drop-down #exportDropdown>\n            <ul class="igx-grid-toolbar__dd-list">\n                <li class="igx-grid-toolbar__dd-list-items" igxRipple *ngIf="shouldShowExportExcelButton" id="btnExportExcel"\n                (click)="exportToExcelClicked()">{{ getExportExcelText() }}</li>\n                <li class="igx-grid-toolbar__dd-list-items" igxRipple *ngIf="shouldShowExportCsvButton" id="btnExportCsv"\n                (click)="exportToCsvClicked()">{{ getExportCsvText() }}</li>\n            </ul>\n        </igx-drop-down>\n    </div>\n</div>\n'}),y(2,i.Optional()),y(3,i.Optional()),y(4,i.Optional()),y(4,i.Inject(ao))],n)}(lo),ip=function(){function e(){}return e=m([i.Directive({selector:"[igxRowEdit]"})],e)}(),np=function(){function e(){}return e=m([i.Directive({selector:"[igxRowEditText]"})],e)}(),op=function(){function e(){}return e=m([i.Directive({selector:"[igxRowEditActions]"})],e)}(),rp=function(){function e(e,t){var i=this;this.api=e,this.element=t,this.activateCell=function(){var e=i.grid.rowInEditMode.cells.find((function(e){return e.visibleColumnIndex===i.currentCellIndex}));e.nativeElement.focus(),e.setEditMode(!0),i.currentCellIndex=-1}}return Object.defineProperty(e.prototype,"grid",{get:function(){return this.api.grid},enumerable:!0,configurable:!0}),e.prototype.handleTab=function(e){e.stopPropagation(),(this.grid.rowEditTabs.last===this&&!e.shiftKey||this.grid.rowEditTabs.first===this&&e.shiftKey)&&this.move(e)},e.prototype.handleEscape=function(e){this.grid.endEdit(!1,e);var t=this.grid.selectionService.activeElement;t&&this.grid.navigation.getCellElementByVisibleIndex(t.row,t.layout?t.layout.columnVisibleIndex:t.column).focus()},e.prototype.move=function(e){e.preventDefault(),this.currentCellIndex=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,this.grid.navigation.isColumnFullyVisible(this.currentCellIndex)?this.activateCell():this.grid.navigation.performHorizontalScrollToCell(this.grid.rowInEditMode.index,this.currentCellIndex,!1,this.activateCell)},e.ctorParameters=function(){return[{type:Bi},{type:i.ElementRef}]},m([i.HostListener("keydown.Tab",["$event"]),i.HostListener("keydown.Shift.Tab",["$event"])],e.prototype,"handleTab",null),m([i.HostListener("keydown.Escape",["$event"])],e.prototype,"handleEscape",null),e=m([i.Directive({selector:"[igxRowEditTabStop]"})],e)}(),sp=function(){function t(e,t,i,n){this.gridAPI=e,this.gridSelection=t,this.element=i,this.cdr=n,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.isFocused=!1,this.tabindex=0}return Object.defineProperty(t.prototype,"focused",{get:function(){return this.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this.grid.isExpandedGroup(this.groupRow)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedBy",{get:function(){var e=void 0!==this.groupRow.expression?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleClasses",{get:function(){return this.defaultCssClass+" "+this.paddingIndentationCssClass+"-"+this.groupRow.level+(this.focused?" "+this.defaultCssClass+"--active":"")},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(){this.isFocused=!0},t.prototype.onBlur=function(){this.isFocused=!1},t.prototype.toggle=function(){var e=!this.grid.verticalScrollContainer.dc.instance.notVirtual,t=this.index;if(this.grid.toggleGroup(this.groupRow),e){var i=this.grid.nativeElement.querySelector('[data-rowIndex="'+t+'"]');i&&i.focus()}},Object.defineProperty(t.prototype,"iconTemplate",{get:function(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultGroupByExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultGroupByCollapsedTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionNode",{get:function(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}},enumerable:!0,configurable:!0}),t.prototype.onKeydown=function(e){var t=e.key.toLowerCase();if(bi.has(t)){e.stopPropagation();var i={targetType:"groupRow",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(i),!i.cancel&&(e.preventDefault(),this.isKeySupportedInGroupRow(t,e.shiftKey,e.altKey)&&!e.ctrlKey))if(this.isToggleKey(t,e.altKey))(this.expanded&&vi.has(t)||!this.expanded&&yi.has(t))&&this.toggle();else{var n=this.gridSelection;n.keyboardState.shift=e.shiftKey&&!("tab"===t);var o=n.activeElement?Object.assign({},n.activeElement):this.selectionNode;switch(o.row=this.index,t){case"arrowdown":case"down":this.grid.navigation.navigateDown(this.nativeElement,o);break;case"arrowup":case"up":this.grid.navigation.navigateUp(this.nativeElement,o);break;case"tab":this.handleTabKey(e.shiftKey,o)}}}},Object.defineProperty(t.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){var t=this.grid.getColumnByName(this.groupRow.expression.fieldName);return t&&t.dataType||e.DataType.String},enumerable:!0,configurable:!0}),t.prototype.handleTabKey=function(e,t){if(e)this.grid.navigation.performShiftTabKey(this.nativeElement,t);else if(this.index===this.grid.dataView.length-1&&this.grid.rootSummariesEnabled)this.grid.navigation.onKeydownHome(0,!0);else{var i=this.grid.navigation.gridOrderedColumns,n=i[i.length-1];t.column=n.columnLayoutChild?n.parent.visibleIndex:n.visibleIndex,this.grid.navigation.performTab(this.nativeElement,t)}},t.prototype.isKeySupportedInGroupRow=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!1),t?-1!==["down","up","arrowdown","arrowup","tab"].indexOf(e):!!this.isToggleKey(e,i)||-1!==["down","up","arrowdown","arrowup","tab"].indexOf(e)},t.prototype.isToggleKey=function(e,t){return t&&-1!==["left","right","up","down","arrowleft","arrowright","arrowup","arrowdown"].indexOf(e)},t.ctorParameters=function(){return[{type:Bi},{type:vc},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.ViewChild("defaultGroupByExpandedTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultGroupByExpandedTemplate",void 0),m([i.ViewChild("defaultGroupByCollapsedTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultGroupByCollapsedTemplate",void 0),m([i.Input()],t.prototype,"isFocused",void 0),m([i.Input()],t.prototype,"index",void 0),m([i.Input()],t.prototype,"gridID",void 0),m([i.Input()],t.prototype,"groupRow",void 0),m([i.ViewChild("groupContent",{static:!0})],t.prototype,"groupContent",void 0),m([i.HostBinding("attr.aria-expanded")],t.prototype,"expanded",null),m([i.HostBinding("attr.tabindex")],t.prototype,"tabindex",void 0),m([i.HostBinding("attr.aria-describedby")],t.prototype,"describedBy",null),m([i.HostBinding("attr.data-rowIndex")],t.prototype,"dataRowIndex",null),m([i.HostBinding("class")],t.prototype,"styleClasses",null),m([i.HostListener("focus")],t.prototype,"onFocus",null),m([i.HostListener("blur")],t.prototype,"onBlur",null),m([i.HostListener("keydown",["$event"])],t.prototype,"onKeydown",null),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-groupby-row",template:'<ng-container #defaultGroupRow>\n    <div (click)="toggle()" class="igx-grid__grouping-indicator">\n            <ng-container *ngTemplateOutlet="iconTemplate; context: { $implicit: this }">\n            </ng-container>\n    </div>\n\n    <div class="igx-grid__group-content" #groupContent>\n        <ng-container *ngTemplateOutlet="grid.groupRowTemplate ? grid.groupRowTemplate : defaultGroupByTemplate; context: { $implicit: groupRow }">\n        </ng-container>\n    </div>\n\n    <ng-template #defaultGroupByExpandedTemplate>\n        <igx-icon fontSet="material">expand_more</igx-icon>\n    </ng-template>\n\n    <ng-template #defaultGroupByCollapsedTemplate>\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n    </ng-template>\n\n\n    <ng-template #defaultGroupByTemplate>\n        <div class="igx-group-label">\n            <igx-icon fontSet="material" class="igx-group-label__icon">group_work</igx-icon>\n            <span class="igx-group-label__column-name">\n            {{ groupRow.expression ? groupRow.expression.fieldName : \'\' }}:\n            </span>\n\n            <ng-container *ngIf="dataType === \'boolean\' || dataType === \'string\'; else default" >\n                <span class="igx-group-label__text">{{ groupRow.value }}</span>\n            </ng-container>\n            <ng-template #default>\n                <ng-container *ngIf="dataType === \'number\'">\n                    <span class="igx-group-label__text">{{ groupRow.value | number }}</span>\n                </ng-container>\n                <ng-container *ngIf="dataType === \'date\'">\n                    <span class="igx-group-label__text">{{ groupRow.value | date }}</span>\n                </ng-container>\n            </ng-template>\n\n            <igx-badge [value]="groupRow.records ? groupRow.records.length : 0" class=\'igx-group-label__count-badge\'></igx-badge>\n        </div>\n    </ng-template>\n</ng-container>\n'})],t)}();!function(e){e.LEFT="left",e.RIGHT="right"}(Dc||(Dc={}));var ap,lp=function(){function t(){}return Object.defineProperty(t.prototype,"displayContainerWidth",{get:function(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayContainerScrollLeft",{get:function(){return Math.ceil(this.grid.headerContainer.scrollPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalDisplayContainerElement",{get:function(){return this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement},enumerable:!0,configurable:!0}),t.prototype.horizontalScroll=function(e){var t=this.grid.dataRowList.find((function(t){return t.index===e}))||this.grid.dataRowList.first;return t||(t=this.grid.summariesRowList.find((function(t){return t.index===e}))),t.virtDirRow},t.prototype.getColumnUnpinnedIndex=function(e){var t=this.grid.unpinnedColumns.find((function(t){return!t.columnGroup&&t.visibleIndex===e}));return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter((function(e){return!e.columnGroup})).indexOf(t):e},t.prototype.isColumnFullyVisible=function(e){return this.isColumnRightEdgeVisible(e)&&this.isColumnLeftEdgeVisible(e)},t.prototype.isColumnRightEdgeVisible=function(e){var t=this.forOfDir();if(this.isColumnPinned(e,t))return!0;var i=this.getColumnUnpinnedIndex(e);return this.displayContainerWidth>=t.getColumnScrollLeft(i+1)-this.displayContainerScrollLeft},t.prototype.isColumnLeftEdgeVisible=function(e){var t=this.forOfDir();if(this.isColumnPinned(e,t))return!0;var i=this.getColumnUnpinnedIndex(e);return this.displayContainerScrollLeft<=t.getColumnScrollLeft(i)},t.prototype.forOfDir=function(){return this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer},t.prototype.isColumnPinned=function(e,t){var i=t.getScroll(),n=this.grid.columnList.filter((function(e){return!e.columnGroup})).find((function(t){return t.visibleIndex===e}));return!i.clientWidth||n.pinned},Object.defineProperty(t.prototype,"gridOrderedColumns",{get:function(){return x(this.grid.pinnedColumns,this.grid.unpinnedColumns).filter((function(e){return!e.columnGroup}))},enumerable:!0,configurable:!0}),t.prototype.isRowInEditMode=function(e){return this.grid.rowEditable&&this.grid.rowInEditMode&&this.grid.rowInEditMode.index===e},t.prototype.findNextEditable=function(e,t){var i=this.gridOrderedColumns,n=t,o=0,r=0,s=-1;e===Dc.LEFT?(o=0,r=-1):e===Dc.RIGHT&&(o=i.length-1,r=1);for(var a=n;a*r<=o;a+=r){if(i[a].editable){s=a;break}}return s},t.prototype.getCellElementByVisibleIndex=function(e,t,i){void 0===i&&(i=!1);var n=this.getCellSelector(t,i);return this.grid.nativeElement.querySelector(n+'[data-rowindex="'+e+'"][data-visibleIndex="'+t+'"]')},t.prototype.onKeydownArrowRight=function(e,t){var i=t.row,n=t.column,o=t.isSummaryRow;this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex!==n&&(this.isColumnRightEdgeVisible(n+1)?e.classList.contains("igx-grid__td--pinned-last")||e.classList.contains("igx-grid-summary--pinned-last")?this.isColumnLeftEdgeVisible(n+1)?e.nextElementSibling.firstElementChild.focus({preventScroll:!0}):(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe((function(){e.nextElementSibling.firstElementChild.focus({preventScroll:!0})})),this.horizontalScroll(i).scrollTo(0)):e.nextElementSibling.focus({preventScroll:!0}):this.performHorizontalScrollToCell(i,n+1,o))},t.prototype.onKeydownArrowLeft=function(e,t){var i=t.row,n=t.column,o=t.isSummaryRow;if(0!==n){var r=this.getColumnUnpinnedIndex(n-1);!e.previousElementSibling&&this.grid.pinnedColumns.length&&-1===r?e.parentNode.previousElementSibling.focus({preventScroll:!0}):this.isColumnLeftEdgeVisible(n-1)?e.previousElementSibling.focus({preventScroll:!0}):this.performHorizontalScrollToCell(i,n-1,o)}},t.prototype.movePreviousEditable=function(e,t){var i=this.findNextEditable(Dc.LEFT,t-1);if(-1===i){if(this.grid.rowEditTabs.length)return this.grid.gridAPI.submit_value(),void this.grid.rowEditTabs.last.element.nativeElement.focus();i=this.grid.lastEditableColumnIndex}this.focusEditableTarget(e,i)},t.prototype.moveNextEditable=function(e,t){var i=this.findNextEditable(Dc.RIGHT,t+1);if(-1===i){if(this.grid.rowEditTabs.length)return this.grid.gridAPI.submit_value(),void this.grid.rowEditTabs.first.element.nativeElement.focus();i=this.grid.firstEditableColumnIndex}this.focusEditableTarget(e,i)},t.prototype.focusEditableTarget=function(e,t){this.isColumnFullyVisible(t)?this.getCellElementByVisibleIndex(e,t).focus():this.performHorizontalScrollToCell(e,t)},t.prototype.onKeydownHome=function(e,t){void 0===t&&(t=!1);var i=(t?this.grid.summariesRowList:this.grid.dataRowList).find((function(t){return t.index===e})),n=this.getCellSelector(0,t);if(i){var o=(i=i.nativeElement).querySelector(n);this.grid.pinnedColumns.length||0===this.displayContainerScrollLeft?o.focus({preventScroll:!0}):(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe((function(){(o=i.querySelector(n)).focus({preventScroll:!0})})),this.horizontalScroll(e).scrollTo(0))}},t.prototype.onKeydownEnd=function(e,t){var i=this;void 0===t&&(t=!1);var n=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex,o=(t?this.grid.summariesRowList:this.grid.dataRowList).find((function(t){return t.index===e}));if(o)if(o=o.nativeElement,this.isColumnRightEdgeVisible(n)){var r=o.querySelectorAll(this.getCellSelector(-1,t));r[r.length-1].focus({preventScroll:!0})}else this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe((function(){var e=o.querySelectorAll(i.getCellSelector(-1,t));e[e.length-1].focus({preventScroll:!0})})),this.horizontalScroll(e).scrollTo(this.getColumnUnpinnedIndex(n))},t.prototype.navigateTop=function(e){var t=this,i=this.findFirstDataRowIndex(),n=this.grid.verticalScrollContainer.getScroll(),o=this.getCellSelector(e);this.grid.verticalScrollContainer.getScrollForIndex(i,!1)>=n.scrollTop?this.grid.nativeElement.querySelectorAll(o+'[data-visibleIndex="'+e+'"]')[0].focus():(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(-1!==i?i:0),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.debounceTime(10)).pipe(s.first()).subscribe((function(){var i=t.grid.nativeElement.querySelectorAll(o+'[data-visibleIndex="'+e+'"]');i.length>0&&i[0].focus()})))},t.prototype.findFirstDataRowIndex=function(){var e=this;return this.grid.dataView.findIndex((function(t){return!e.grid.isGroupByRecord(t)&&!e.grid.isDetailRecord(t)}))},t.prototype.findLastDataRowIndex=function(){for(var e=this.grid.dataView.length;e--;){var t=this.grid.dataView[e];if(!this.grid.isGroupByRecord(t)&&!this.grid.isDetailRecord(t))return e}},t.prototype.navigateBottom=function(e){var t=this,i=this.findLastDataRowIndex(),n=this.grid.verticalScrollContainer.getScrollForIndex(i,!0),o=this.grid.verticalScrollContainer.getScroll(),r=this.getCellSelector(e);if(0===o.scrollHeight||o.scrollTop===n){var a=this.grid.nativeElement.querySelectorAll(r+'[data-visibleIndex="'+e+'"]');a[a.length-1].focus()}else this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(-1!==i?i:this.grid.dataView.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.debounceTime(10)).pipe(s.first()).subscribe((function(){var i=t.grid.nativeElement.querySelectorAll(r+'[data-visibleIndex="'+e+'"]');i.length>0&&i[i.length-1].focus({preventScroll:!0})}))},t.prototype.navigateUp=function(e,t){var i=this,n=t.row,o=t.column;if(0!==n){var r=parseInt(this.verticalDisplayContainerElement.style.top,10);!e.previousElementSibling||e.previousElementSibling.offsetTop<Math.abs(r)?(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(n-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){var t=e.tagName.toLowerCase();e=i.getRowByIndex(n,t),i.focusPreviousElement(e,o)}))):this.focusPreviousElement(e,o)}},t.prototype.focusPreviousElement=function(e,t){this.focusElem(e.previousElementSibling,t)},t.prototype.navigateDown=function(e,t){var i=this,n=t.row,o=t.column;if(n!==this.grid.dataView.length-1&&(0!==n||"igx-grid-summary-row"!==e.tagName.toLowerCase())){var r=this.grid.verticalScrollContainer.getSizeAt(n+1),a=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,l=e.nextElementSibling?e.nextElementSibling.offsetTop+r+parseInt(this.verticalDisplayContainerElement.style.top,10):a+r;if(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),a&&a<l){var c=n+1;this.grid.verticalScrollContainer.scrollTo(c),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){e=i.getNextRowByIndex(c),i.focusElem(e,o)}))}else this.focusNextElement(e,o)}},t.prototype.focusElem=function(e,t){if("igx-grid-groupby-row"===e.tagName.toLowerCase()||"igx-grid__tr-container"===e.className)e.focus();else{var i="igx-grid-summary-row"===e.tagName.toLowerCase();if(this.isColumnFullyVisible(t)){var n=this.getCellSelector(t,i),o=e.querySelector(n+'[data-visibleIndex="'+t+'"]');return o.focus(),o}this.performHorizontalScrollToCell(parseInt(e.getAttribute("data-rowindex"),10),t,i)}},t.prototype.focusNextElement=function(e,t){return this.focusElem(e.nextElementSibling,t)},t.prototype.goToFirstCell=function(){var e=this,t=this.findFirstDataRowIndex(),i=this.grid.verticalScrollContainer.getScrollForIndex(t,!1);this.grid.verticalScrollContainer.getScroll().scrollTop===i?this.onKeydownHome(this.grid.dataRowList.first.index):(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(-1!==t?t:0),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){e.onKeydownHome(e.grid.dataRowList.first.index)})))},t.prototype.goToLastCell=function(){var e=this,t=this.findLastDataRowIndex(),i=this.grid.verticalScrollContainer.getScrollForIndex(t,!0),n=this.grid.verticalScrollContainer.getScroll();if(0===n.scrollHeight||n.scrollTop===i){var o=this.getAllRows(),r=parseInt(o[o.length-1].getAttribute("data-rowIndex"),10);this.onKeydownEnd(r)}else this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(-1!==t?t:this.grid.dataView.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){var t=e.getAllRows();if(t.length>0){var i=parseInt(t[t.length-1].getAttribute("data-rowIndex"),10);e.onKeydownEnd(i)}}))},t.prototype.goToLastBodyElement=function(){var e=this,t=this.grid.verticalScrollContainer.getScroll();if(0===t.scrollHeight||t.scrollTop===t.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var i=this.grid.dataView.length-1,n=this.grid.nativeElement.querySelector('[data-rowindex="'+i+'"]'),o="igx-grid-groupby-row"===n.tagName.toLowerCase()||this.grid.isDetailRecord(this.grid.dataView[i]);if(n&&o)return void n.focus();var r=!(!n||"igx-grid-summary-row"!==n.tagName.toLowerCase());this.onKeydownEnd(i,r)}else this.grid.verticalScrollContainer.scrollTo(this.grid.dataView.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){var t=e.grid.dataView.length-1,i=e.grid.nativeElement.querySelector('[data-rowindex="'+t+'"]'),n="igx-grid-groupby-row"===i.tagName.toLowerCase()||e.grid.isDetailRecord(e.grid.dataView[t]);if(i&&n)i.focus();else{var o=!(!i||"igx-grid-summary-row"!==i.tagName.toLowerCase());e.onKeydownEnd(t,o)}}))},t.prototype.performTab=function(e,t){var i=t.row,n=t.column,o=t.isSummaryRow,r=i+1<=this.grid.dataView.length-1&&this.grid.isDetailRecord(this.grid.dataView[i+1]),s=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex===n;if(!o||0!==i||this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex!==n)if(this.isRowInEditMode(i))this.moveNextEditable(i,n);else if(r&&s)this.navigateDown(e,{row:i,column:n});else if(s){var a=this.grid.rowList.find((function(e){return e.index===i+1}))?this.grid.rowList.find((function(e){return e.index===i+1})):this.grid.summariesRowList.find((function(e){return e.index===i+1}));if(i===this.grid.dataView.length-1&&this.grid.rootSummariesEnabled)return void this.onKeydownHome(0,!0);a&&this.navigateDown(e,{row:i,column:0})}else{var l=this.getCellElementByVisibleIndex(i,n,o);l&&this.onKeydownArrowRight(l,t)}},t.prototype.moveFocusToFilterCell=function(e){if(this.grid.filteringService.isFilterRowVisible)this.grid.filteringService.focusFilterRowCloseButton();else{var t=this.grid.filteringService.unpinnedFilterableColumns,i=e?0:t.length-1,n=t[i].visibleIndex;(e?this.isColumnLeftEdgeVisible(n):this.isColumnRightEdgeVisible(n))?this.grid.filteringService.focusFilterCellChip(t[i],!1):this.grid.filteringService.scrollToFilterCell(t[i],!1)}},t.prototype.navigatePrevFilterCell=function(e,t){var i=this.grid.filteringService.unpinnedFilterableColumns,n=i.indexOf(e)-1,o=e.visibleIndex;if(0===o||n<0){var r=this.getFirstPinnedFilterableColumn();r&&e!==r||t.preventDefault()}else{var s=i[n],a=s.visibleIndex;n>=0&&o>0&&!this.isColumnLeftEdgeVisible(a)&&!e.pinned&&(t.preventDefault(),this.grid.filteringService.scrollToFilterCell(s,!1))}},t.prototype.navigateFirstCellIfPossible=function(e){if(this.grid.rowList.length>0){if(this.grid.rowList.filter((function(e){return e instanceof sp})).length>0)return void e.stopPropagation();this.goToFirstCell()}else this.grid.rootSummariesEnabled&&this.onKeydownHome(0,!0);e.preventDefault()},t.prototype.navigateNextFilterCell=function(e,t){var i=this.grid.filteringService.unpinnedFilterableColumns,n=i.indexOf(e)+1;if(n>=this.grid.filteringService.unpinnedFilterableColumns.length)this.navigateFirstCellIfPossible(t);else{var o=i[n],r=o.visibleIndex;e.pinned||this.isColumnRightEdgeVisible(r)?e!==this.getLastPinnedFilterableColumn()||this.isColumnRightEdgeVisible(r)||(this.grid.filteringService.scrollToFilterCell(o,!1),t.stopPropagation()):(t.preventDefault(),this.grid.filteringService.scrollToFilterCell(o,!0))}},t.prototype.getLastPinnedFilterableColumn=function(){var e=this.grid.pinnedColumns.filter((function(e){return!e.columnGroup&&e.filterable}));return e[e.length-1]},t.prototype.getFirstPinnedFilterableColumn=function(){return this.grid.pinnedColumns.filter((function(e){return!e.columnGroup&&e.filterable}))[0]},t.prototype.performShiftTabKey=function(t,i){var n=this,o=i.row,r=i.column,s=i.isSummaryRow;if(s&&0===o&&0===r&&this.grid.rowList.length)this.goToLastBodyElement();else if(this.isRowInEditMode(o))this.movePreviousEditable(o,r);else{var a=o>0&&this.grid.isDetailRecord(this.grid.dataView[o-1]);if(0===r&&a){var l=t.previousElementSibling,c=function(){(l=n.getRowByIndex(o-1,"")).focus({preventScroll:!0})};l?c():this.performVerticalScrollToCell(o-1,r,(function(){c()}))}else if(0===r)0===o&&this.grid.allowFiltering&&this.grid.filterMode===e.FilterMode.quickFilter?this.moveFocusToFilterCell():this.navigateUp(t,{row:o,column:this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex});else{var p=this.getCellElementByVisibleIndex(o,r,s);p&&this.onKeydownArrowLeft(p,i)}}},t.prototype.shouldPerformVerticalScroll=function(e,t){var i=parseInt(this.verticalDisplayContainerElement.style.top,10),n=this.getRowByIndex(e,""),o=this.grid.verticalScrollContainer.getSizeAt(e),r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=n?n.offsetTop+o+i:r+o;return!!(!n||n.offsetTop<Math.abs(i)||r&&r<s)},t.prototype.performVerticalScrollToCell=function(e,t,i){this.grid.verticalScrollContainer.scrollTo(e),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){i()}))},t.prototype.performHorizontalScrollToCell=function(e,t,i,n){var o=this;void 0===i&&(i=!1);var r=this.getColumnUnpinnedIndex(t);this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe((function(){if(n)n();else{var r=o.getCellElementByVisibleIndex(e,t,i);r&&r.focus({preventScroll:!0})}})),this.horizontalScroll(e).scrollTo(r)},t.prototype.getFocusableGrid=function(){return this.grid},t.prototype.getRowByIndex=function(e,t){var i=this;void 0===t&&(t=this.getRowSelector());var n=this.grid.nativeElement.tagName.toLocaleLowerCase();return Array.from(this.grid.tbody.nativeElement.querySelectorAll(t+'[data-rowindex="'+e+'"]')).find((function(e){return i.getClosestElemByTag(e,n).getAttribute("id")===i.grid.id}))},t.prototype.getNextRowByIndex=function(e){var t=this,i=this.grid.nativeElement.tagName.toLocaleLowerCase();return Array.from(this.grid.tbody.nativeElement.querySelectorAll('[data-rowindex="'+e+'"]')).find((function(e){return t.getClosestElemByTag(e,i).getAttribute("id")===t.grid.id}))},t.prototype.getAllRows=function(){var e=this.getRowSelector();return this.grid.nativeElement.querySelectorAll(e)},t.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),0===e&&this.grid.hasDetails&&!t?"igx-expandable-grid-cell":t?"igx-grid-summary-cell":"igx-grid-cell"},t.prototype.getRowSelector=function(){return"igx-grid-row"},t.prototype.getClosestElemByTag=function(e,t){for(var i=e;null!==i&&1===i.nodeType;){if(i.tagName.toLowerCase()===t.toLowerCase())return i;i=i.parentNode}return null},t=m([i.Injectable()],t)}(),cp=[{name:"add_filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19 15v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3zM5 10h10v2H5zM2 5h16v2H2zM8 15h4v2H8z"/>\n      </svg>'},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">\n        <path d="M3 3v18h18V3zm16 16H5V5h14z"/>\n        <path d="M12 11.3a4.39 4.39 0 0 0-2.54.63 2.07 2.07 0 0 0-.9 1.78 2.29 2.29 0 0 0 .66 1.74 2.63 2.63 0 0 0 1.89.63 2.39 2.39 0 0 0 1.32-.37 3.05 3.05 0 0 0 1-.93 3.72 3.72 0 0 0 .08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 0 1-.21-.88 5.57 5.57 0 0 1-.07-.93v-3.5a2.44 2.44 0 0 0-.84-2 3.34 3.34 0 0 0-2.22-.7 3.54 3.54 0 0 0-2.3.72A1.93 1.93 0 0 0 9 10.29h1.71a.93.93 0 0 1 .29-.71 1.5 1.5 0 0 1 1-.29 1.45 1.45 0 0 1 1 .35 1.3 1.3 0 0 1 .37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 0 1-.71.77 2.27 2.27 0 0 1-1.21.34 1.18 1.18 0 0 1-.84-.27.92.92 0 0 1-.3-.72 1.16 1.16 0 0 1 .44-.9 1.76 1.76 0 0 1 1.22-.39z"/>\n      </svg>'},{name:"does_not_contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21,19.74V3H4.26L2.89,1.63,1.63,2.92,3,4.29V21H19.73l1.37,1.37,1.27-1.26ZM5,19V6.28l5.28,5.27a3.19,3.19,0,0,0-.81.38,2.07,2.07,0,0,0-.9,1.78,2.29,2.29,0,0,0,.66,1.74,2.63,2.63,0,0,0,1.89.63,2.39,2.39,0,0,0,1.32-.37,3.05,3.05,0,0,0,1-.93,3.72,3.72,0,0,0,.08.57c0,.19.1.38.16.58h1L17.73,19Zm5.79-6.23a1.31,1.31,0,0,1,.45-.25l1.37,1.36.28.29a1.57,1.57,0,0,1-.19.15,2.27,2.27,0,0,1-1.21.34,1.18,1.18,0,0,1-.84-.27.92.92,0,0,1-.3-.72A1.16,1.16,0,0,1,10.79,12.77Zm2.6-1.47h-.83L10.94,9.68l.08-.1a1.5,1.5,0,0,1,1-.29,1.45,1.45,0,0,1,1,.35,1.3,1.3,0,0,1,.37,1ZM19,17.74l-3.85-3.85V10.62a2.44,2.44,0,0,0-.84-2,3.34,3.34,0,0,0-2.22-.7,3.64,3.64,0,0,0-2.24.67L6.26,5H19Z"/>\n    </svg>'},{name:"all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M2 14h8v2H2zM2 6h12v2H2zM16 17l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/>\n      </svg>\n      '},{name:"empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 17h2v2H5zM13 17h2v2h-2zM5 13h2v2H5zM17 17h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zM17 9h2v2h-2zM17 13h2v2h-2zM17 5h2v2h-2zM5 9h2v2H5zM5 5h2v2H5zM9 5h2v2H9z"/>\n      </svg>'},{name:"end_expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/>\n        <path d="M11.91 11h2v2h-2zM7.91 11h2v2h-2zM3.91 11h2v2h-2z"/>\n      </svg>'},{name:"ends_with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M3 14.5h2v2H3zM11 14.5h2v2h-2zM7 14.5h2v2H7zM20.8 14.8v-3A2.1 2.1 0 0 0 20 10a3 3 0 0 0-2-.6 3 3 0 0 0-2 .6 1.7 1.7 0 0 0-.7 1.5h1.5a.8.8 0 0 1 .3-.7 1.3 1.3 0 0 1 .9-.3 1.3 1.3 0 0 1 .9.4 1.1 1.1 0 0 1 .3.8v.6H18a3.8 3.8 0 0 0-2.2.6 1.8 1.8 0 0 0-.8 1.5 2 2 0 0 0 .6 1.6 2.3 2.3 0 0 0 1.6.6 2.1 2.1 0 0 0 1.2-.4 2.8 2.8 0 0 0 .8-.8 4.3 4.3 0 0 0 .1.5l.1.5H21a4.1 4.1 0 0 1-.2-.7 5.4 5.4 0 0 1 0-1zm-1.6-.5a1.5 1.5 0 0 1-.6.7 2 2 0 0 1-1 .2 1.1 1.1 0 0 1-.8-.2.8.8 0 0 1-.2-.6 1 1 0 0 1 .3-.8 1.5 1.5 0 0 1 1.1-.3h1.2z"/>\n      </svg>'},{name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 13.5h14v2H5zM5 8.5h14v2H5z"/>\n      </svg>'},{name:"greater_than_or_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/>\n      </svg>'},{name:"greater_than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/>\n      </svg>\n      '},{name:"is_after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15 7h4v10h-4v2h6V5h-6v2zM11 3h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zM3 17h2v2H3zM3 13h2v2H3zM3 9h2v2H3zM7 17h2v2H7z"/>\n      </svg>'},{name:"is_before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M3 19h6v-2H5V7h4V5H3v14zM11 3h2v18h-2zM15 5h2v2h-2zM19 5h2v2h-2zM19 13h2v2h-2zM15 17h2v2h-2zM19 17h2v2h-2zM19 9h2v2h-2z"/>\n      </svg>'},{name:"is_false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7z"/>\n        <path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/>\n      </svg>'},{name:"is_not_null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 0 0-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 0 0 7.43-12.87zM6.5 12A5.5 5.5 0 0 1 12 6.5a5.65 5.65 0 0 1 1.84.32l-5.41 9.36A5.49 5.49 0 0 1 6.5 12zm5.5 5.5a5.65 5.65 0 0 1-1.84-.32l5.41-9.36A5.5 5.5 0 0 1 12 17.5z"/>\n      </svg>'},{name:"is_null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M12 4.5a7.5 7.5 0 1 0 7.5 7.5A7.5 7.5 0 0 0 12 4.5zm0 13a5.5 5.5 0 1 1 5.5-5.5 5.5 5.5 0 0 1-5.5 5.5z"/>\n      </svg>'},{name:"is_true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19.44 14.22zM16.56 14.22zM16.56 14.22L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/>\n        <path d="M18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7zM8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/>\n      </svg>'},{name:"last_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M17.5 14a4.48 4.48 0 1 0 4.5 4.5 4.47 4.47 0 0 0-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z"/>\n        <path d="M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z"/>\n      </svg>'},{name:"last_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 10v11H7v2h14a2 2 0 0 0 2-2V10z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/>\n      </svg>'},{name:"less_than_or_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/>\n      </svg>'},{name:"less_than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/>\n      </svg>'},{name:"next_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M20 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z"/>\n        <path d="M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z"/>\n      </svg>'},{name:"next_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/>\n      </svg>'},{name:"not_empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 9h2v2H5zM9 17h2v2H9zM13 17h2v2h-2zM17 9h2v2h-2zM17 5h2v2h-2zM5 17h2v2H5zM13 5h2v2h-2zM5 13h2v2H5zM19 15v-2h-2v.47L18.53 15H19zM11 7V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/>\n      </svg>'},{name:"not_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/>\n      </svg>'},{name:"start_expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M18.1 11h2v2h-2zM10.1 11h2v2h-2z"/>\n        <path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zM14.1 11h2v2h-2z"/>\n      </svg>'},{name:"starts_with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" d="M4.97 13.23h3.06L6.5 9.12l-1.53 4.11z"/>\n        <path d="M5.89 7.5L2 16.5h1.72l.73-1.8h4.1l.73 1.8H11l-3.89-9zM5 13.23l1.5-4.11L8 13.23zM12 14.5h2v2h-2zM20 14.5h2v2h-2zM16 14.5h2v2h-2z"/>\n      </svg>'},{name:"this_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 9h2v2H6zM6 13h2v2H6zM11 13h2v2h-2zM6 17h2v2H6zM11 17h2v2h-2zM11 9h2v2h-2zM16 9h2v2h-2zM21 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/>\n        <path d="M5 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H5z"/>\n      </svg>'},{name:"this_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/>\n      </svg>'},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z"/>\n        <path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/>\n      </svg>'},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15 15h5v5h-5zM6 13h5v5H6zM13 6h5v5h-5zM6 6h5v5H6z"/>\n        <path d="M20 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h9v-2H4V4h16v9h2V4a2 2 0 0 0-2-2z"/>\n      </svg>'},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/>\n        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z"/>\n      </svg>'},{name:"pin",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/>\n      </svg>'},{name:"unpin",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" d="M0 0h24v25H0V0z"/>\n        <path d="M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z" />\n      </svg>'},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n          <path d="M18,4.5H6A1.5,1.5,0,0,0,4.5,6V18A1.5,1.5,0,0,0,6,19.5h6.75V18H6V6H18v6.75h1.5V6A1.5,1.5,0,0,0,18,4.5Z"/>\n          <rect x="7.5" y="12.75" width="3.75" height="3.75"/>\n          <rect x="14.25" y="14.25" width="3.75" height="3.75"/>\n          <rect x="7.5" y="7.5" width="3.75" height="3.75"/>\n          <rect x="12.75" y="7.5" width="3.75" height="3.75"/>\n        </svg>'}],pp=function(){function e(){}return e.prototype.transform=function(e,t,i,n,o){var r,s;if(!e)return"";var a=[];try{for(var l=v(Object.keys(e)),c=l.next();!c.done;c=l.next()){var p=c.value,d=e[p];("function"==typeof d?d(i,n,t,o):d)&&a.push(p)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return a.join(" ")},e=m([i.Pipe({name:"igxCellStyleClasses"})],e)}(),dp=function(){function e(){}return e.prototype.transform=function(e,t,i,n,o){var r,s,a={};if(!e)return a;try{for(var l=v(Object.keys(e)),c=l.next();!c.done;c=l.next()){var p=c.value,d=e[p];a[p]="function"==typeof d?d(i,n,t,o):d}}catch(e){r={error:e}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return a},e=m([i.Pipe({name:"igxCellStyles"})],e)}(),up=function(){function e(){}return e.prototype.transform=function(e){return e.filter((function(e){return!e.columnGroup}))},e=m([i.Pipe({name:"igxNotGrouped"})],e)}(),hp=function(){function e(){}return e.prototype.transform=function(e){return e.filter((function(e){return 0===e.level}))},e=m([i.Pipe({name:"igxTopLevel"})],e)}(),gp=function(){function e(){}return e.prototype.transform=function(e){return e.split(/(?=[A-Z])/).join(" ")},e=m([i.Pipe({name:"filterCondition",pure:!0})],e)}(),fp=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i){var n=this.gridAPI.grid;return n.transactions.enabled?Fi.mergeTransactions(ii(e),n.transactions.getAggregatedChanges(!0),n.primaryKey):e},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridTransaction",pure:!0})],e)}(),mp=function(){function e(){}return e.prototype.transform=function(e){return Array.from(new Set(x(e))).sort((function(e,t){return e-t}))},e=m([i.Pipe({name:"paginatorOptions",pure:!0})],e)}(),yp=function(){function e(){}return e.prototype.transform=function(e,t){return e&&e.length?t?e:[]:e},e=m([i.Pipe({name:"visibleColumns",pure:!0})],e)}(),vp=function(e){function t(t){var i=e.call(this,t)||this;return i.DEFAULT_DATE_FORMAT="mediumDate",i}return d(t,e),t.prototype.transform=function(t,i){return t&&t instanceof Date?i?e.prototype.transform.call(this,t,this.DEFAULT_DATE_FORMAT,void 0,i):e.prototype.transform.call(this,t):t},t.ctorParameters=function(){return[{type:String,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]},t=m([i.Pipe({name:"igxdate"}),y(0,i.Inject(i.LOCALE_ID))],t)}(o.DatePipe),bp=function(e){function t(t){return e.call(this,t)||this}return d(t,e),t.prototype.transform=function(t,i){return t&&"number"==typeof t?i?e.prototype.transform.call(this,t,void 0,i):e.prototype.transform.call(this,t):t},t.ctorParameters=function(){return[{type:String,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]},t=m([i.Pipe({name:"igxdecimal"}),y(0,i.Inject(i.LOCALE_ID))],t)}(o.DecimalPipe),xp=function(){this.isSelected=!1,this.isVisible=!0},Cp=function(){function t(e,t){this.gridAPI=e,this.iconService=t,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new r.Subject,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this._filterIconsRegistered=!1,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToFocus=null,this.shouldFocusNext=!1,this.columnToMoreIconHidden=new Map}return t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},Object.defineProperty(t.prototype,"displayContainerWidth",{get:function(){return parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayContainerScrollLeft",{get:function(){return this.grid.headerContainer.scrollPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areAllColumnsInView",{get:function(){return 0===parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unpinnedFilterableColumns",{get:function(){return this.grid.unpinnedColumns.filter((function(e){return!e.columnGroup&&e.filterable}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns.filter((function(e){return!e.columnGroup}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"datePipe",{get:function(){return this._datePipe||(this._datePipe=new vp(this.grid.locale)),this._datePipe},enumerable:!0,configurable:!0}),t.prototype.subscribeToEvents=function(){var e=this;this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.onColumnResized.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.updateFilteringCell(t.column)})),this.grid.parentVirtDir.onChunkLoad.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){t.startIndex!==e.columnStartIndex&&(e.columnStartIndex=t.startIndex,e.grid.filterCellList.forEach((function(e){e.updateFilterCellArea()}))),e.columnToFocus&&(e.focusFilterCellChip(e.columnToFocus,!1),e.columnToFocus=null)})),this.grid.onColumnMovingEnd.pipe(s.takeUntil(this.destroy$)).subscribe((function(){e.grid.filterCellList.forEach((function(e){e.updateFilterCellArea()}))})),this.grid.onColumnVisibilityChanged.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.grid.filteringRow&&e.grid.filteringRow.column===t.column&&e.grid.filteringRow.close()})))},t.prototype.filterInternal=function(e,t){var i;void 0===t&&(t=null),this.isFiltering=!0,0===(i=t instanceof ki?t:this.createSimpleFilteringTree(e,t)).filteringOperands.length?this.clearFilter(e):this.filter(e,null,i),this.isFiltering=!1},t.prototype.filter=function(e,t,i,n){var o=this,r=this.gridAPI.get_column_by_name(e),s=n||!!r&&r.filteringIgnoreCase;if(i)this.gridAPI.filter(e,t,i,s);else{var a=this.grid.filteringExpressionsTree.find(e);if(!a)throw new Error("Invalid condition or Expression Tree!");if(a instanceof ki)this.gridAPI.filter(e,t,a,s);else{var l=a;this.gridAPI.filter(e,t,l.condition,s)}}requestAnimationFrame((function(){return o.grid.onFilteringDone.emit(r.filteringExpressionsTree)}))},t.prototype.clearFilter=function(e){var t=this;if(e&&!this.gridAPI.get_column_by_name(e))return;(this.isFiltering=!0,this.gridAPI.clear_filter(e),requestAnimationFrame((function(){return t.grid.onFilteringDone.emit(null)})),e)&&(this.getExpressions(e).length=0);this.isFiltering=!1},t.prototype.filterGlobal=function(e,t,i){var n=this;this.gridAPI.filter_global(e,t,i),requestAnimationFrame((function(){return n.grid.onFilteringDone.emit(n.grid.filteringExpressionsTree)}))},t.prototype.registerSVGIcons=function(){var e,t;if(!this._filterIconsRegistered){try{for(var i=v(cp),n=i.next();!n.done;n=i.next()){var o=n.value;this.iconService.isSvgIconCached(o.name,"filtering-icons")||this.iconService.addSvgIconFromText(o.name,o.value,"filtering-icons")}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._filterIconsRegistered=!0}},t.prototype.getExpressions=function(e){if(!this.columnToExpressionsMap.has(e)){var t=this.grid.columns.find((function(t){return t.field===e})),i=new Array;return t&&(this.generateExpressionsList(t.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,i),this.columnToExpressionsMap.set(e,i)),i}return this.columnToExpressionsMap.get(e)},t.prototype.refreshExpressions=function(){var e=this;this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach((function(t,i){var n=e.grid.columns.find((function(e){return e.field===i}));n?(t.length=0,e.generateExpressionsList(n.filteringExpressionsTree,e.grid.filteringExpressionsTree.operator,t),e.isFilteringTreeComplex(n.filteringExpressionsTree)&&e.columnsWithComplexFilter.add(i),e.updateFilteringCell(n)):e.columnToExpressionsMap.delete(i)})))},t.prototype.removeExpression=function(e,t){var i=this.getExpressions(e);0===t&&i.length>1?i[1].beforeOperator=null:t===i.length-1?i[t-1].afterOperator=null:(i[t-1].afterOperator=i[t+1].beforeOperator,i[0].beforeOperator=null,i[i.length-1].afterOperator=null),i.splice(t,1)},t.prototype.createSimpleFilteringTree=function(t,i){void 0===i&&(i=null);for(var n,o,r=i||this.getExpressions(t),s=new ki(e.FilteringLogic.Or,t),a=0;a<r.length;a++)(o=r[a]).expression.condition.isUnary||null!==o.expression.searchVal?void 0!==o.beforeOperator&&null!==o.beforeOperator&&o.beforeOperator!==e.FilteringLogic.Or||o.afterOperator!==e.FilteringLogic.And?o.beforeOperator===e.FilteringLogic.And?n.filteringOperands.push(o.expression):(s.filteringOperands.push(o.expression),n=null):(n=new ki(e.FilteringLogic.And,t),s.filteringOperands.push(n),n.filteringOperands.push(o.expression)):o.afterOperator!==e.FilteringLogic.And||n||(n=new ki(e.FilteringLogic.And,t),s.filteringOperands.push(n));return s},t.prototype.isFilterComplex=function(e){if(this.columnsWithComplexFilter.has(e))return!0;var t=this.grid.columns.find((function(t){return t.field===e})),i=t&&this.isFilteringTreeComplex(t.filteringExpressionsTree);return i&&this.columnsWithComplexFilter.add(e),i},t.prototype.getOperatorAsString=function(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or},t.prototype.getChipLabel=function(e){return e.condition.isUnary?this.grid.resourceStrings["igx_grid_filter_"+e.condition.name]||e.condition.name:e.searchVal instanceof Date?this.datePipe.transform(e.searchVal,this.grid.locale):e.searchVal},t.prototype.updateFilteringCell=function(e){var t=e.filterCell;t&&t.updateFilterCellArea()},t.prototype.focusFilterCellChip=function(e,t){var i=e.filterCell;i&&i.focusChip(t)},t.prototype.focusFilterRowCloseButton=function(){this.grid.filteringRow.closeButton.nativeElement.focus()},Object.defineProperty(t.prototype,"filteredData",{get:function(){return this.grid.filteredData},enumerable:!0,configurable:!0}),t.prototype.scrollToFilterCell=function(e,t){this.grid.nativeElement.focus({preventScroll:!0}),this.columnToFocus=e,this.shouldFocusNext=t;for(var i=0,n=0,o=0;o<this.unpinnedColumns.length;o++)if(i+=parseInt(this.unpinnedColumns[o].width,10),this.unpinnedColumns[o]===e){n=i-parseInt(this.unpinnedColumns[o].width,10);break}var r=this.grid.headerContainer,s=this.displayContainerWidth+this.displayContainerScrollLeft;t?r.scrollPosition+=i-s:r.scrollPosition=n},t.prototype.isFilteringTreeComplex=function(t){if(!t)return!1;if(t instanceof ki){var i=t;if(i.operator===e.FilteringLogic.Or)return this.getChildAndOperatorsCount(i)>1;for(var n=!1,o=0;o<i.filteringOperands.length;o++)n=n||this.isFilteringTreeComplex(i.filteringOperands[o]);return n}return!1},t.prototype.getChildAndOperatorsCount=function(t){for(var i,n=0,o=0;o<t.filteringOperands.length;o++)(i=t[o])instanceof ki&&(i.operator===e.FilteringLogic.And&&n++,n+=this.getChildAndOperatorsCount(i));return n},t.prototype.generateExpressionsList=function(e,t,i){this.generateExpressionsListRecursive(e,t,i),i.length&&(i[i.length-1].afterOperator=null)},t.prototype.generateExpressionsListRecursive=function(e,t,i){if(e)if(e instanceof ki){for(var n=e,o=0;o<n.filteringOperands.length;o++)this.generateExpressionsListRecursive(n.filteringOperands[o],n.operator,i);i.length&&(i[i.length-1].afterOperator=t)}else{var r=new xp;r.expression=e,r.afterOperator=t;var s=i[i.length-1];s&&(r.beforeOperator=s.afterOperator),i.push(r)}},t.prototype.isFilteringExpressionsTreeEmpty=function(e){if(ki.empty(e))return!0;for(var t,i=0;i<e.filteringOperands.length;i++){if(!((t=e.filteringOperands[i])instanceof ki))return!1;var n=t;if(n.filteringOperands&&n.filteringOperands.length)return!1}return!0},t.ctorParameters=function(){return[{type:Bi},{type:is}]},t=m([i.Injectable()],t)}(),_p=function(){function e(e){this.zone=e,this.resizeCursor=null,this.showResizer=!1}return Object.defineProperty(e.prototype,"resizerHeight",{get:function(){var e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictResizeMin",{get:function(){var e=parseFloat(this.column.minWidth),t=e<parseFloat(this.column.width)?e:parseFloat(this.column.width);return this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictResizeMax",{get:function(){var e=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;return this.column.maxWidth?parseFloat(this.column.maxWidth)-e:Number.MAX_SAFE_INTEGER},enumerable:!0,configurable:!0}),e.prototype.autosizeColumnOnDblClick=function(){var e=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width,t=this.column.getLargestCellWidth();this.column.maxWidth&&parseFloat(t)>parseFloat(this.column.maxWidth)?this.column.width=parseFloat(this.column.maxWidth)+"px":parseFloat(t)<parseFloat(this.column.minWidth)?this.column.width=this.column.minWidth+"px":this.column.width=t,this.zone.run((function(){})),this.column.grid.onColumnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})},e.prototype.resizeColumn=function(e){this.showResizer=!1;var t=e.clientX-this.startResizePos,i=parseFloat(this.column.width),n=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;i=Number.isNaN(i)||i<n?n:i;var o=this.getColMinWidth(this.column),r=this.getColMaxWidth(this.column);this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,t):this.column.width=i+t<o?o+"px":r&&i+t>r?r+"px":i+t+"px",this.zone.run((function(){})),i!==parseFloat(this.column.width)&&this.column.grid.onColumnResized.emit({column:this.column,prevWidth:i.toString(),newWidth:this.column.width}),this.isColumnResizing=!1},e.prototype.getColMinWidth=function(e){var t=parseFloat(e.width),i=e.headerCell.elementRef.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<i?i:t;var n=parseFloat(e.minWidth);return n<t?n:t},e.prototype.getColMaxWidth=function(e){return e.pinned?parseFloat(this.pinnedMaxWidth):parseFloat(e.maxWidth)},e.prototype.resizeColumnLayoutFor=function(e,t){var i=this,n=e.getResizableColUnderEnd(),o=n.reduce((function(e,t){return e+t.spanUsed}),0),r=x(n),s=t,a=o,l=!1,c=function(){l=!1;var e=a,n=[];r.forEach((function(o){var r=parseFloat(o.target.calcWidth),c=t/a*o.target.gridColumnSpan,p=i.getColMinWidth(o.target),d=i.getColMaxWidth(o.target);r+c<p?(o.target.width=p+"px",s+=r-p,e-=o.spanUsed,l=!0):d&&r+c>d?(o.target.width=d+"px",s-=d-r,e-=o.spanUsed,l=!0):n.push(o)})),a=e,r=n};do{c()}while(l);r.forEach((function(e){var t=parseFloat(e.target.calcWidth),i=s/a*e.target.gridColumnSpan;e.target.width=t+i+"px"}))},e.ctorParameters=function(){return[{type:i.NgZone}]},e=m([i.Injectable()],e)}(),wp=function(e){function t(t){var i=e.call(this,t)||this;return i._displayDensityOptions=t,i}return d(t,e),t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},t=m([i.Directive({selector:"[igxListBase]"}),y(0,i.Optional()),y(0,i.Inject(ao))],t)}(lo);(ap=e.IgxListPanState||(e.IgxListPanState={}))[ap.NONE=0]="NONE",ap[ap.LEFT=1]="LEFT",ap[ap.RIGHT=2]="RIGHT";var Ip,Sp=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxEmptyList]"})],e)}(),Ep=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxDataLoading]"})],e)}(),Dp=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxListItemLeftPanning]"})],e)}(),Op=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxListItemRightPanning]"})],e)}(),Tp=function(){function t(t,i,n){this.list=t,this.elementRef=i,this._renderer=n,this._panState=e.IgxListPanState.NONE,this.panOffset=0,this._index=null,this.lastPanDir=e.IgxListPanState.NONE,this.hidden=!1,this.touchAction="pan-y"}return Object.defineProperty(t.prototype,"role",{get:function(){return this.isHeader?"separator":"listitem"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerStyle",{get:function(){return this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerStyle",{get:function(){return!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this.hidden?"none":""},enumerable:!0,configurable:!0}),t.prototype.clicked=function(t){this.list.onItemClicked.emit({item:this,event:t,direction:this.lastPanDir}),this.lastPanDir=e.IgxListPanState.NONE},t.prototype.panStart=function(e){this.isTrue(this.isHeader)||this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning)},t.prototype.panMove=function(e){if(!this.isTrue(this.isHeader)&&(this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning))){var t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}},t.prototype.panEnd=function(t){if(!this.isTrue(this.isHeader)&&(this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning))){var i=this.panOffset,n=this.width*this.list.panEndTriggeringThreshold;if(0!==i){var o=i>0?e.IgxListPanState.RIGHT:e.IgxListPanState.LEFT;this.lastPanDir=o;var r=this._panState;if(Math.abs(i)<n)return this.setContentElementLeft(0),this._panState=e.IgxListPanState.NONE,void this.hideLeftAndRightPanTemplates();var s={item:this,direction:o,keepItem:!1};if(o===e.IgxListPanState.LEFT?this.list.onLeftPan.emit(s):this.list.onRightPan.emit(s),!0===s.keepItem?(this.setContentElementLeft(0),this._panState=e.IgxListPanState.NONE):o===e.IgxListPanState.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=e.IgxListPanState.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=e.IgxListPanState.RIGHT),r!==this._panState){var a={oldState:r,newState:this._panState,item:this};this.list.onPanStateChange.emit(a)}this.hideLeftAndRightPanTemplates()}}},t.prototype.showLeftPanTemplate=function(){this.setLeftAndRightTemplatesVisibility("visible","hidden")},t.prototype.showRightPanTemplate=function(){this.setLeftAndRightTemplatesVisibility("hidden","visible")},t.prototype.hideLeftAndRightPanTemplates=function(){var e=this;setTimeout((function(){e.setLeftAndRightTemplatesVisibility("hidden","hidden")}),500)},t.prototype.setLeftAndRightTemplatesVisibility=function(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)},Object.defineProperty(t.prototype,"panState",{get:function(){return this._panState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentElement",{get:function(){var e=this.element.getElementsByClassName("igx-list__item-content");return e&&e.length>0?e[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){if(this.element)return this.element.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLeft",{get:function(){return-this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxRight",{get:function(){return this.width},enumerable:!0,configurable:!0}),t.prototype.setContentElementLeft=function(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"},t.prototype.isTrue=function(e){return"boolean"==typeof e?e:"true"===e},t.ctorParameters=function(){return[{type:wp},{type:i.ElementRef},{type:i.Renderer2}]},m([i.ViewChild("leftPanningTmpl")],t.prototype,"leftPanningTemplateElement",void 0),m([i.ViewChild("rightPanningTmpl")],t.prototype,"rightPanningTemplateElement",void 0),m([i.Input()],t.prototype,"isHeader",void 0),m([i.Input()],t.prototype,"hidden",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",null),m([i.HostBinding("attr.aria-label")],t.prototype,"ariaLabel",void 0),m([i.HostBinding("style.touch-action")],t.prototype,"touchAction",void 0),m([i.HostBinding("class.igx-list__header")],t.prototype,"headerStyle",null),m([i.HostBinding("class.igx-list__item-base")],t.prototype,"innerStyle",null),m([i.HostBinding("style.display")],t.prototype,"display",null),m([i.HostListener("click",["$event"])],t.prototype,"clicked",null),m([i.HostListener("panstart",["$event"])],t.prototype,"panStart",null),m([i.HostListener("panmove",["$event"])],t.prototype,"panMove",null),m([i.HostListener("panend",["$event"])],t.prototype,"panEnd",null),m([i.Input()],t.prototype,"index",null),t=m([i.Component({providers:[Ec],selector:"igx-list-item",template:'   \n<div *ngIf="!isHeader && list.listItemLeftPanningTemplate != null" #leftPanningTmpl class="igx-list__item-right"\n    [style.width.px]="this.element.offsetWidth" [style.height.px]="this.element.offsetHeight">\n    <ng-container *ngTemplateOutlet="list.listItemLeftPanningTemplate.template; context: context">\n    </ng-container>\n</div>\n\n<div *ngIf="!isHeader && list.listItemRightPanningTemplate != null" #rightPanningTmpl class="igx-list__item-left"\n    [style.width.px]="this.element.offsetWidth" [style.height.px]="this.element.offsetHeight">\n    <ng-container *ngTemplateOutlet="list.listItemRightPanningTemplate.template; context: context">\n    </ng-container>\n</div>\n\n<ng-template #itemsContent>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #itemThumbnails>\n    <div class="igx-list__item-thumbnail">\n        <ng-content select="[igxListThumbnail], igx-list__item-thumbnail, igx-avatar"></ng-content>\n    </div>\n</ng-template>\n\n<ng-template #itemLines>\n    <div class="igx-list__item-lines">\n        <ng-content select="[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle"></ng-content>\n    </div>\n</ng-template>\n\n<ng-template #itemActions>\n    <div class="igx-list__item-actions">\n        <ng-content select="[igxListAction], .igx-list__item-actions"></ng-content>\n    </div>\n</ng-template>\n\n    \n<ng-container *ngIf="isHeader">\n    <ng-container *ngTemplateOutlet="itemsContent"></ng-container>\n</ng-container>\n\n<ng-container *ngIf="!isHeader">\n    <div class="igx-list__item-content">\n        <ng-container *ngTemplateOutlet="itemThumbnails"></ng-container>\n        <ng-container *ngTemplateOutlet="itemLines"></ng-container>\n        <ng-container *ngTemplateOutlet="itemActions"></ng-container>\n        <ng-container *ngTemplateOutlet="itemsContent"></ng-container>\n    </div>\n</ng-container>\n',changeDetection:i.ChangeDetectionStrategy.OnPush})],t)}(),Pp=0,Rp=function(){function e(){}return e=m([i.Directive({selector:"[igxListThumbnail]"})],e)}(),kp=function(){function e(){}return e=m([i.Directive({selector:"[igxListAction]"})],e)}(),Lp=function(){function e(){}return e=m([i.Directive({selector:"[igxListLine]"})],e)}(),Ap=function(){function e(){this.cssClass="igx-list__item-line-title"}return m([i.HostBinding("class.igx-list__item-line-title")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"[igxListLineTitle]"})],e)}(),Mp=function(){function e(){this.cssClass="igx-list__item-line-subtitle"}return m([i.HostBinding("class.igx-list__item-line-subtitle")],e.prototype,"cssClass",void 0),e=m([i.Directive({selector:"[igxListLineSubTitle]"})],e)}(),Vp=function(t){function n(e,n){var o=t.call(this,n)||this;return o.element=e,o._displayDensityOptions=n,o.panEndTriggeringThreshold=.5,o.id="igx-list-"+Pp++,o.allowLeftPanning=!1,o.allowRightPanning=!1,o.isLoading=!1,o.onLeftPan=new i.EventEmitter,o.onRightPan=new i.EventEmitter,o.onPanStateChange=new i.EventEmitter,o.onItemClicked=new i.EventEmitter,o}var o;return d(n,t),o=n,Object.defineProperty(n.prototype,"sortedChildren",{get:function(){return void 0!==this.children?this.children.toArray().sort((function(e,t){return e.index-t.index})):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"role",{get:function(){return"list"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isListEmpty",{get:function(){return!this.children||0===this.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return!this.isListEmpty&&this.displayDensity===e.DisplayDensity.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassCompact",{get:function(){return!this.isListEmpty&&this.displayDensity===e.DisplayDensity.compact},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassCosy",{get:function(){return!this.isListEmpty&&this.displayDensity===e.DisplayDensity.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var e,t,i=[];if(void 0!==this.children)try{for(var n=v(this.sortedChildren),o=n.next();!o.done;o=n.next()){var r=o.value;r.isHeader||i.push(r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headers",{get:function(){var e,t,i=[];if(void 0!==this.children)try{for(var n=v(this.children.toArray()),o=n.next();!o.done;o=n.next()){var r=o.value;r.isHeader&&i.push(r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"template",{get:function(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.ContentChildren(i.forwardRef((function(){return Tp})),{descendants:!0})],n.prototype,"children",void 0),m([i.ContentChild(Sp,{read:Sp})],n.prototype,"emptyListTemplate",void 0),m([i.ContentChild(Ep,{read:Ep})],n.prototype,"dataLoadingTemplate",void 0),m([i.ContentChild(Dp,{read:Dp})],n.prototype,"listItemLeftPanningTemplate",void 0),m([i.ContentChild(Op,{read:Op})],n.prototype,"listItemRightPanningTemplate",void 0),m([i.Input()],n.prototype,"panEndTriggeringThreshold",void 0),m([i.ViewChild("defaultEmptyList",{read:i.TemplateRef,static:!0})],n.prototype,"defaultEmptyListTemplate",void 0),m([i.ViewChild("defaultDataLoading",{read:i.TemplateRef,static:!0})],n.prototype,"defaultDataLoadingTemplate",void 0),m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",void 0),m([i.Input()],n.prototype,"allowLeftPanning",void 0),m([i.Input()],n.prototype,"allowRightPanning",void 0),m([i.Input()],n.prototype,"isLoading",void 0),m([i.Output()],n.prototype,"onLeftPan",void 0),m([i.Output()],n.prototype,"onRightPan",void 0),m([i.Output()],n.prototype,"onPanStateChange",void 0),m([i.Output()],n.prototype,"onItemClicked",void 0),m([i.HostBinding("attr.role")],n.prototype,"role",null),m([i.HostBinding("class.igx-list-empty")],n.prototype,"isListEmpty",null),m([i.HostBinding("class.igx-list")],n.prototype,"cssClass",null),m([i.HostBinding("class.igx-list--compact")],n.prototype,"cssClassCompact",null),m([i.HostBinding("class.igx-list--cosy")],n.prototype,"cssClassCosy",null),n=o=m([i.Component({selector:"igx-list",template:'<ng-content></ng-content>\n\n<ng-template #defaultEmptyList>\n    <article class="message">\n        There are no items in the list.\n    </article>\n</ng-template>\n\n<ng-template #defaultDataLoading>\n    <article class="message">\n        Loading data from the server...\n    </article>\n</ng-template>\n\n<ng-container *ngIf="!children || children.length === 0 || isLoading">\n    <ng-container *ngTemplateOutlet="template; context: context">\n    </ng-container>\n</ng-container>\n',providers:[{provide:wp,useExisting:o}]}),y(1,i.Optional()),y(1,i.Inject(ao))],n)}(wp),Fp=function(){function e(){}return e=m([i.NgModule({declarations:[wp,Vp,Tp,Rp,kp,Lp,Ap,Mp,Ep,Sp,Dp,Op],exports:[Vp,Tp,Rp,kp,Lp,Ap,Mp,Ep,Sp,Dp,Op],imports:[o.CommonModule,Vr]})],e)}(),Hp=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxExcelStyleLoading]"})],e)}(),Bp=function(){function t(e){this.cdr=e}return Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._isLoading},set:function(e){this._isLoading=e,this.cdr.destroyed||this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valuesLoadingTemplate",{get:function(){return this.grid.excelStyleLoadingValuesTemplateDirective?this.grid.excelStyleLoadingValuesTemplateDirective.template:this.defaultExcelStyleLoadingValuesTemplate},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.refreshSize()},t.prototype.refreshSize=function(){var e=this;requestAnimationFrame((function(){e.virtDir.recalcUpdateSizes()}))},t.prototype.clearInput=function(){this.searchValue=null},t.prototype.onCheckboxChange=function(e){var t=this;0===this.data.indexOf(e.checkbox.value)?this.data.forEach((function(i){i.isSelected=e.checked,t.data[0].indeterminate=!1})):(e.checkbox.value.isSelected=e.checked,this.data.slice(1,this.data.length).find((function(e){return!1===e.isSelected}))?this.data.slice(1,this.data.length).find((function(e){return!0===e.isSelected}))?this.data[0].indeterminate=!0:(this.data[0].indeterminate=!1,this.data[0].isSelected=!1):(this.data[0].indeterminate=!1,this.data[0].isSelected=!0)),e.checkbox.nativeCheckbox.nativeElement.blur()},Object.defineProperty(t.prototype,"itemSize",{get:function(){var t="40px";switch(this.displayDensity){case e.DisplayDensity.cosy:t="32px";break;case e.DisplayDensity.compact:t="24px"}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerSize",{get:function(){return this.list.element.nativeElement.offsetHeight},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"grid",void 0),m([i.Input()],t.prototype,"data",void 0),m([i.Input()],t.prototype,"inline",void 0),m([i.Input()],t.prototype,"column",void 0),m([i.ViewChild("input",{read:Mo,static:!0})],t.prototype,"searchInput",void 0),m([i.ViewChild("list",{read:Vp,static:!0})],t.prototype,"list",void 0),m([i.Input()],t.prototype,"displayDensity",void 0),m([i.ViewChild(_o,{static:!0})],t.prototype,"virtDir",void 0),m([i.ViewChild("defaultExcelStyleLoadingValuesTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExcelStyleLoadingValuesTemplate",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-search",template:'<igx-input-group\n            type="box"\n            [displayDensity]="displayDensity"\n            [supressInputAutofocus]="true">\n    <igx-icon igxPrefix>search</igx-icon>\n    <input\n        #input\n        igxInput\n        tabindex="0"\n        [(ngModel)]="searchValue"\n        [placeholder]="column.grid.resourceStrings.igx_grid_excel_search_placeholder"\n        autocomplete="off"/>\n    <igx-icon\n        igxSuffix\n        *ngIf="searchValue || searchValue === 0"\n        (click)="clearInput()"\n        tabindex="0">\n        clear\n    </igx-icon>\n</igx-input-group>\n\n<igx-list #list [displayDensity]="displayDensity" [isLoading]="isLoading">\n    <div [style.overflow]="\'hidden\'" [style.position]="\'relative\'">\n        <igx-list-item\n            *igxFor="let item of data | excelStyleSearchFilter: searchValue; scrollOrientation : \'vertical\'; containerSize: containerSize; itemSize: itemSize">\n            <igx-checkbox\n            [value]="item"\n            tabindex="-1"\n            [checked]="item.isSelected"\n            [disableRipple]="true"\n            [indeterminate]="item.indeterminate"\n            [disableTransitions]="true"\n            (change)="onCheckboxChange($event)">\n                {{ column.formatter && !item.isSpecial ? column.formatter(item.label) : column.dataType === \'number\' ? (item.label | igxdecimal:\n                    column.grid.locale) : column.dataType === \'date\' ? (item.label | igxdate: column.grid.locale) : item.label }}\n            </igx-checkbox>\n        </igx-list-item>\n    </div>\n\n    <ng-template igxDataLoading>        \n        <div class="igx-excel-filter__loading">\n            <ng-container *ngTemplateOutlet="valuesLoadingTemplate">\n            </ng-container>\n        </div>\n    </ng-template>\n</igx-list>\n\n<ng-template #defaultExcelStyleLoadingValuesTemplate>\n    <igx-circular-bar [indeterminate]="true">\n    </igx-circular-bar>\n</ng-template>\n'})],t)}(),jp=function(){function t(e){this.cdr=e,this._dropDownOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new Hn,scrollStrategy:new Wn},this.onExpressionRemoved=new i.EventEmitter,this.onLogicOperatorChanged=new i.EventEmitter}return Object.defineProperty(t.prototype,"inputValuesElement",{get:function(){return this.inputValuesDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLast",{get:function(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingle",{get:function(){return 1===this.expressionsList.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputConditionsPlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputValuePlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){switch(this.column.dataType){case e.DataType.Number:return"number";default:return"text"}},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this._dropDownOverlaySettings.outlet=this.column.grid.outletDirective,this._dropDownOverlaySettings.positionStrategy.settings.target=this.inputGroupConditions.element.nativeElement},t.prototype.focus=function(){var e=this;requestAnimationFrame((function(){return e.inputValuesElement.focus()}))},t.prototype.isConditionSelected=function(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e},t.prototype.getConditionName=function(e){return e?this.translateCondition(e.name):null},t.prototype.getInputWidth=function(){return this.inputGroupConditions.element.nativeElement.offsetWidth+"px"},Object.defineProperty(t.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),t.prototype.translateCondition=function(e){return this.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},t.prototype.getIconName=function(){return this.column.dataType===e.DataType.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"},t.prototype.toggleCustomDialogDropDown=function(){this.dropdownConditions.toggle(this._dropDownOverlaySettings)},t.prototype.getCondition=function(e){return this.column.filters.condition(e)},t.prototype.onConditionsChanged=function(e){var t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()},t.prototype.onValuesInput=function(e){this.expressionUI.expression.searchVal=Fi.parseValue(this.column.dataType,e.target.value)},t.prototype.onLogicOperatorButtonClicked=function(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.onLogicOperatorChanged.emit({target:this.expressionUI,newValue:t})},t.prototype.onLogicOperatorKeyDown=function(e,t){"Enter"===e.key&&(this.logicOperatorButtonGroup.selectButton(t),this.onLogicOperatorChanged.emit({target:this.expressionUI,newValue:t}))},t.prototype.onRemoveButtonClick=function(){this.onExpressionRemoved.emit(this.expressionUI)},t.prototype.onInputConditionsKeyDown=function(e){!e.altKey||"ArrowDown"!==e.key&&"Down"!==e.key||this.toggleCustomDialogDropDown(),"Tab"===e.key&&e.shiftKey&&this.expressionsList[0]===this.expressionUI&&e.preventDefault(),event.stopPropagation()},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"column",void 0),m([i.Input()],t.prototype,"expressionUI",void 0),m([i.Input()],t.prototype,"expressionsList",void 0),m([i.Input()],t.prototype,"grid",void 0),m([i.Input()],t.prototype,"displayDensity",void 0),m([i.Output()],t.prototype,"onExpressionRemoved",void 0),m([i.Output()],t.prototype,"onLogicOperatorChanged",void 0),m([i.ViewChild("inputGroupConditions",{read:Wo,static:!0})],t.prototype,"inputGroupConditions",void 0),m([i.ViewChild("inputValues",{read:Mo,static:!0})],t.prototype,"inputValuesDirective",void 0),m([i.ViewChild("dropdownConditions",{read:Do,static:!0})],t.prototype,"dropdownConditions",void 0),m([i.ViewChild("logicOperatorButtonGroup",{read:Ps})],t.prototype,"logicOperatorButtonGroup",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-default-expression",template:'<igx-drop-down\n    #dropdownConditions\n    [maxHeight]="\'200px\'"\n    [width]="getInputWidth()"\n    [displayDensity]="displayDensity"\n    (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item *ngFor="let condition of conditions" [value]="condition" [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span>{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<igx-input-group\n    #inputGroupConditions\n    (click)="toggleCustomDialogDropDown()"\n    type="box"\n    [displayDensity]="displayDensity"\n    [supressInputAutofocus]="true">\n\n    <igx-prefix>\n        <igx-icon *ngIf="expressionUI.expression.condition" fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>\n    </igx-prefix>\n\n    <input\n        igxInput\n        (keydown)="onInputConditionsKeyDown($event)"\n        [igxDropDownItemNavigation]="dropdownConditions"\n        tabindex="0"\n        [placeholder]="inputConditionsPlaceholder"\n        autocomplete="off"\n        [value]="getConditionName(expressionUI.expression.condition)"\n        [readonly]="true"\n    />\n</igx-input-group>\n\n<igx-input-group #inputGroupValues type="box" [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n    <input\n        #inputValues\n        igxInput\n        [type]="type"\n        tabindex="0"\n        [placeholder]="inputValuePlaceholder"\n        [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"\n        autocomplete="off"\n        [value]="expressionUI.expression.searchVal"\n        (input)="onValuesInput($event)"\n    />\n</igx-input-group>\n\n<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle">\n    <igx-icon>cancel</igx-icon>\n</button>\n\n<igx-buttongroup #logicOperatorButtonGroup\n    *ngIf="!isLast"\n    [multiSelection]="false">\n    <span igxButton [displayDensity]="displayDensity"\n        tabindex="0"\n        #andButton\n        (keydown)="onLogicOperatorKeyDown($event, 0)"\n        [selected]="expressionUI.afterOperator === 0"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 0)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_and }}\n    </span>\n\n    <span igxButton [displayDensity]="displayDensity"\n        tabindex="0"\n        #orButton\n        (keydown)="onLogicOperatorKeyDown($event, 1)"\n        [selected]="expressionUI.afterOperator === 1"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 1)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_or }}\n    </span>\n</igx-buttongroup>\n'})],t)}(),Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),Object.defineProperty(t.prototype,"inputValuesElement",{get:function(){return this.datePicker.getEditElement()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDatePlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder},enumerable:!0,configurable:!0}),m([i.ViewChild("datePicker",{read:Pl,static:!0})],t.prototype,"datePicker",void 0),m([i.Input()],t.prototype,"displayDensity",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-date-expression",template:'<igx-drop-down\n    #dropdownConditions\n    [maxHeight]="\'200px\'"\n    [width]="getInputWidth()"\n    [displayDensity]="displayDensity"\n    (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item *ngFor="let condition of conditions" [value]="condition" [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span>{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<igx-input-group\n    #inputGroupConditions\n    (click)="toggleCustomDialogDropDown()"\n    type="box"\n    [displayDensity]="displayDensity"\n    [supressInputAutofocus]="true">\n\n    <igx-prefix>\n        <igx-icon *ngIf="expressionUI.expression.condition" fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>\n    </igx-prefix>\n\n    <input\n        igxInput\n        (keydown)="onInputConditionsKeyDown($event)"\n        tabindex="0"\n        [igxDropDownItemNavigation]="dropdownConditions"\n        [placeholder]="inputConditionsPlaceholder"\n        autocomplete="off"\n        [value]="getConditionName(expressionUI.expression.condition)"\n        [readonly]="true"\n    />\n</igx-input-group>\n\n<igx-date-picker #datePicker mode="dropdown" [(ngModel)]="expressionUI.expression.searchVal" [locale]="grid.locale" [outlet]="grid.outletDirective">\n    <ng-template igxDatePickerTemplate let-openDialog="openDialog" let-value="value">\n        <igx-input-group #dropDownTarget type="box" [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n            <input #input\n                    igxInput\n                    tabindex="0"\n                    (click)="openDialog(dropDownTarget.element.nativeElement)"\n                    [placeholder]="inputDatePlaceholder"\n                    autocomplete="off"\n                    [value]="value | igxdate: grid.locale"\n                    [readonly]="true"\n                    [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"/>\n        </igx-input-group>\n    </ng-template>\n</igx-date-picker>\n\n<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle" >\n    <igx-icon>cancel</igx-icon>\n</button>\n\n<igx-buttongroup #logicOperatorButtonGroup\n    *ngIf="!isLast"\n    [multiSelection]="false">\n    <span igxButton [displayDensity]="displayDensity"\n        #andButton\n        (keydown)="onLogicOperatorKeyDown($event, 0)"\n        tabindex="0"\n        [selected]="expressionUI.afterOperator === 0"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 0)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_and }}\n    </span>\n\n    <span igxButton [displayDensity]="displayDensity"\n        #orButton\n        tabindex="0"\n        (keydown)="onLogicOperatorKeyDown($event, 1)"\n        [selected]="expressionUI.afterOperator === 1"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 1)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_or }}\n    </span>\n</igx-buttongroup>\n'})],t)}(jp),Gp=function(){function t(t){this.cdr=t,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:e.VerticalAlignment.Middle,horizontalDirection:e.HorizontalAlignment.Center,horizontalStartPoint:e.HorizontalAlignment.Center,verticalStartPoint:e.VerticalAlignment.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new jn(this._customDialogPositionSettings),scrollStrategy:new Gn}}return t.prototype.ngAfterViewInit=function(){this._customDialogOverlaySettings.outlet=this.grid.outlet},Object.defineProperty(t.prototype,"template",{get:function(){return this.column.dataType===e.DataType.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.filteringService.grid},enumerable:!0,configurable:!0}),t.prototype.onCustomDialogOpening=function(){this.selectedOperator&&this.createInitialExpressionUIElement()},t.prototype.onCustomDialogOpened=function(){this.expressionComponents.first&&this.expressionComponents.first.focus()},t.prototype.open=function(e){this._customDialogOverlaySettings.positionStrategy.settings.target=this.overlayComponentId?this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement:e,this.toggle.open(this._customDialogOverlaySettings)},t.prototype.onClearButtonClick=function(){this.filteringService.clearFilter(this.column.field),this.createInitialExpressionUIElement(),this.cdr.detectChanges()},t.prototype.closeDialog=function(){this.overlayComponentId?this.overlayService.hide(this.overlayComponentId):this.toggle.close()},t.prototype.onApplyButtonClick=function(){this.expressionsList=this.expressionsList.filter((function(e){return e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary)})),this.expressionsList.length>0&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()},t.prototype.onAddButtonClick=function(){var t=new xp;t.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=e.FilteringLogic.And,t.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(t),this.markChildrenForCheck(),this.scrollToBottom()},t.prototype.onExpressionRemoved=function(e){var t=this.expressionsList.indexOf(e);0===t&&this.expressionsList.length>1?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()},t.prototype.onLogicOperatorChanged=function(e){var t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)},t.prototype.onKeyDown=function(e){e.stopPropagation()},t.prototype.onApplyButtonKeyDown=function(e){"Tab"!==e.key||e.shiftKey||(e.stopPropagation(),e.preventDefault())},t.prototype.createCondition=function(t){switch(this.column.dataType){case e.DataType.Boolean:return qr.instance().condition(t);case e.DataType.Number:return Jr.instance().condition(t);case e.DataType.Date:return Zr.instance().condition(t);default:return Qr.instance().condition(t)}},t.prototype.markChildrenForCheck=function(){this.expressionComponents.forEach((function(e){return e.cdr.markForCheck()})),this.expressionDateComponents.forEach((function(e){return e.cdr.markForCheck()}))},t.prototype.createInitialExpressionUIElement=function(){this.expressionsList=[];var t=new xp;t.expression={condition:this.createCondition(this.selectedOperator),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.afterOperator=e.FilteringLogic.And,this.expressionsList.push(t);var i=new xp;i.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},i.beforeOperator=e.FilteringLogic.And,this.expressionsList.push(i)},t.prototype.scrollToBottom=function(){var e=this;requestAnimationFrame((function(){e.expressionsContainer.nativeElement.scrollTop=e.expressionsContainer.nativeElement.scrollHeight}))},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"expressionsList",void 0),m([i.Input()],t.prototype,"column",void 0),m([i.Input()],t.prototype,"selectedOperator",void 0),m([i.Input()],t.prototype,"filteringService",void 0),m([i.Input()],t.prototype,"overlayComponentId",void 0),m([i.Input()],t.prototype,"overlayService",void 0),m([i.Input()],t.prototype,"displayDensity",void 0),m([i.ViewChildren(jp)],t.prototype,"expressionComponents",void 0),m([i.ViewChildren(Np)],t.prototype,"expressionDateComponents",void 0),m([i.ViewChild("toggle",{read:Yn,static:!0})],t.prototype,"toggle",void 0),m([i.ViewChild("defaultExpressionTemplate",{read:i.TemplateRef})],t.prototype,"defaultExpressionTemplate",void 0),m([i.ViewChild("dateExpressionTemplate",{read:i.TemplateRef})],t.prototype,"dateExpressionTemplate",void 0),m([i.ViewChild("expressionsContainer",{static:!0})],t.prototype,"expressionsContainer",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-custom-dialog",template:'<article #toggle igxToggle\n    class="igx-excel-filter__secondary"\n    [ngClass]="{\n        \'igx-excel-filter__secondary--cosy\': grid.displayDensity === \'cosy\',\n        \'igx-excel-filter__secondary--compact\': grid.displayDensity === \'compact\'\n    }"\n    (keydown)="onKeyDown($event)"\n    (onOpening)="onCustomDialogOpening()"\n    (onOpened)="onCustomDialogOpened()">\n    <header class="igx-excel-filter__secondary-header">\n        <h4 class="igx-typography__h6">\n            {{ grid.resourceStrings.igx_grid_excel_custom_dialog_header }}{{ column.header || column.field }}\n        </h4>\n    </header>\n\n    <article #expressionsContainer class="igx-excel-filter__secondary-main">\n        <ng-container *ngIf="column.dataType === \'date\'">\n            <igx-excel-style-date-expression *ngFor="let expression of expressionsList;"\n                class="igx-excel-filter__condition"\n                [expressionUI]="expression"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="displayDensity"\n                [expressionsList]="expressionsList"\n                (onExpressionRemoved)="onExpressionRemoved($event)"\n                (onLogicOperatorChanged)="onLogicOperatorChanged($event)">\n            </igx-excel-style-date-expression>\n        </ng-container>\n\n        <ng-container *ngIf="column.dataType !== \'date\'">\n            <igx-excel-style-default-expression *ngFor="let expression of expressionsList;"\n                class="igx-excel-filter__condition"\n                [expressionUI]="expression"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="displayDensity"\n                [expressionsList]="expressionsList"\n                (onExpressionRemoved)="onExpressionRemoved($event)"\n                (onLogicOperatorChanged)="onLogicOperatorChanged($event)">\n            </igx-excel-style-default-expression>\n        </ng-container>\n\n        <button igxButton [displayDensity]="displayDensity"\n            class="igx-excel-filter__add-filter"\n            (click)="onAddButtonClick()">\n            <igx-icon>add</igx-icon>\n            <span>{{ grid.resourceStrings.igx_grid_excel_custom_dialog_add }}</span>\n        </button>\n    </article>\n\n    <footer class="igx-excel-filter__secondary-footer">\n        <button igxButton [displayDensity]="displayDensity" (click)="onClearButtonClick()">{{ grid.resourceStrings.igx_grid_excel_custom_dialog_clear }}</button>\n\n        <div>\n            <button igxButton [displayDensity]="displayDensity" (click)="closeDialog()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n            <button igxButton="raised" [displayDensity]="displayDensity" (click)="onApplyButtonClick()" (keydown)="onApplyButtonKeyDown($event)">\n                {{ grid.resourceStrings.igx_grid_excel_apply }}\n            </button>\n        </div>\n    </footer>\n</article>\n'})],t)}(),zp=function(){function e(){this.destroy$=new r.Subject}return e.prototype.ngAfterViewInit=function(){var e=this;this.grid.sortingExpressionsChange.pipe(s.takeUntil(this.destroy$)).subscribe((function(){e.updateSelectedButtons(e.column.field)})),this.updateSelectedButtons(this.column.field)},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngOnChanges=function(e){e.column&&!e.column.firstChange&&this.updateSelectedButtons(e.column.currentValue.field)},e.prototype.updateSelectedButtons=function(e){var t=this,i=this.grid.sortingExpressions.findIndex((function(t){return t.fieldName===e}));if(this.sortButtonGroup.buttons.forEach((function(e,i){t.sortButtonGroup.deselectButton(i)})),-1!==i){var n=this.grid.sortingExpressions[i].dir;this.sortButtonGroup.selectButton(n-1)}},e.prototype.onSortButtonClicked=function(e){0===this.sortButtonGroup.selectedIndexes.length?this.grid.isColumnGrouped(this.column.field)?this.sortButtonGroup.selectButton(e-1):this.grid.clearSort(this.column.field):this.grid.sort({fieldName:this.column.field,dir:e,ignoreCase:!0})},m([i.Input()],e.prototype,"column",void 0),m([i.Input()],e.prototype,"grid",void 0),m([i.Input()],e.prototype,"displayDensity",void 0),m([i.ViewChild("sortButtonGroup",{read:Ps,static:!0})],e.prototype,"sortButtonGroup",void 0),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-sorting",template:'<header>\n    {{ grid.resourceStrings.igx_grid_excel_filter_sorting_header }}\n</header>\n<igx-buttongroup #sortButtonGroup [multiSelection]="false">\n    <button igxButton \n        [displayDensity]="displayDensity"\n        [attr.data-togglable]="true"\n        (click)="onSortButtonClicked(1)"\n        >\n        <igx-icon>arrow_upwards</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:\n            grid.resourceStrings.igx_grid_excel_filter_sorting_asc  }}\n        </span>\n    </button>\n\n    <button igxButton\n        [displayDensity]="displayDensity"\n        [attr.data-togglable]="true"\n        (click)="onSortButtonClicked(2)"\n        >\n        <igx-icon>arrow_downwards</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:\n            grid.resourceStrings.igx_grid_excel_filter_sorting_desc\n         }}\n        </span>\n    </button>\n</igx-buttongroup>\n'})],e)}(),Wp=function(){this.isSpecial=!1},Up=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxExcelStyleSorting]"})],e)}(),$p=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxExcelStyleMoving]"})],e)}(),Kp=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxExcelStyleHiding]"})],e)}(),Yp=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxExcelStylePinning]"})],e)}(),Xp=function(){function t(t){this.cdr=t,this.shouldOpenSubMenu=!0,this.expressionsList=new Array,this.destroy$=new r.Subject,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set,this.listData=new Array,this.uniqueValues=[],this._subMenuPositionSettings={verticalStartPoint:e.VerticalAlignment.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new jn(this._subMenuPositionSettings),scrollStrategy:new Gn},this.className="igx-excel-filter",this.inline=!0}var n;return n=t,Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){var t=this;this._column=e,this._columnPinning&&this._columnPinning.unsubscribe(),this._columnVisibilityChanged&&this._columnVisibilityChanged.unsubscribe(),this._filteringChanged&&this._filteringChanged.unsubscribe(),this._densityChanged&&this._densityChanged.unsubscribe(),this._column&&(this._column.grid.filteringService.registerSVGIcons(),this.isColumnPinnable=this.column.pinnable,this.init(),this._columnPinning=this.grid.onColumnPinning.pipe(s.takeUntil(this.destroy$)).subscribe((function(){requestAnimationFrame((function(){t.isColumnPinnable=t.column.pinnable,t.cdr.destroyed||t.cdr.detectChanges()}))})),this._columnVisibilityChanged=this.grid.onColumnVisibilityChanged.pipe(s.takeUntil(this.destroy$)).subscribe((function(){t.cdr.detectChanges()})),this._filteringChanged=this.grid.filteringExpressionsTreeChange.pipe(s.takeUntil(this.destroy$)).subscribe((function(){t.init()})),this._densityChanged=this.grid.onDensityChanged.pipe(s.takeUntil(this.destroy$)).subscribe((function(){t.cdr.detectChanges()})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteringService",{get:function(){return this.grid.filteringService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){if(!this.inline){var t=600;switch(this.grid.displayDensity){case e.DisplayDensity.cosy:t=465;break;case e.DisplayDensity.compact:t=330}return t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){if(!this.inline){var t=730;switch(this.grid.displayDensity){case e.DisplayDensity.cosy:t=565;break;case e.DisplayDensity.compact:t=405}return t+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.column.grid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subMenuText",{get:function(){switch(this.column.dataType){case e.DataType.Boolean:return this.grid.resourceStrings.igx_grid_excel_boolean_filter;case e.DataType.Number:return this.grid.resourceStrings.igx_grid_excel_number_filter;case e.DataType.Date:return this.grid.resourceStrings.igx_grid_excel_date_filter;default:return this.grid.resourceStrings.igx_grid_excel_text_filter}},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},t.prototype.init=function(){this.expressionsList=new Array,this.filteringService.generateExpressionsList(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.populateColumnData()},t.prototype.clearFilterClass=function(){return this.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"},t.prototype.pinClass=function(){return this.isColumnPinnable?"igx-excel-filter__actions-pin":"igx-excel-filter__actions-pin--disabled"},t.prototype.initialize=function(e,t,i){var n=this;this.inline=!1,this.column=e,this.overlayService=t,this.overlayComponentId=i,this._subMenuOverlaySettings.outlet=this.grid.outlet,requestAnimationFrame((function(){n.excelStyleSearch.searchInput.nativeElement.focus()})),this.grid.onColumnMoving.pipe(s.takeUntil(this.destroy$)).subscribe((function(){n.closeDropdown()}))},t.prototype.getCondition=function(e){return this.column.filters.condition(e)},t.prototype.translateCondition=function(e){return this.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},t.prototype.onPin=function(){this.column.pinned=!this.column.pinned,this.closeDropdown()},t.prototype.onHideToggle=function(){this.column.hidden=!this.column.hidden,this.grid.onColumnVisibilityChanged.emit({column:this.column,newValue:this.column.hidden}),this.closeDropdown()},t.prototype.onTextFilterClick=function(t){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.positionStrategy.settings.target=t.currentTarget;var i=this.grid.nativeElement.getBoundingClientRect(),n=this.mainDropdown.nativeElement.getBoundingClientRect(),o=n.left+n.width,r=i.left+i.width;o+=window.pageXOffset,r+=window.pageXOffset,Math.abs(o-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=e.HorizontalAlignment.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=e.HorizontalAlignment.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=e.HorizontalAlignment.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=e.HorizontalAlignment.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}},t.prototype.onTextFilterKeyDown=function(e){"Enter"===e.key&&this.onTextFilterClick(e)},t.prototype.onSubMenuClosed=function(){var e=this;requestAnimationFrame((function(){e.shouldOpenSubMenu=!0}))},t.prototype.onSubMenuSelection=function(e){this.expressionsList&&this.expressionsList.length&&"in"!==this.expressionsList[0].expression.condition.name&&(this.customDialog.expressionsList=this.expressionsList),this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.overlayComponentId&&(this.mainDropdown.nativeElement.style.display="none"),this.subMenu.close(),this.customDialog.open(this.mainDropdown.nativeElement)},t.prototype.areExpressionsSelectable=function(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter((function(e){return!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name)})).length===this.expressionsList.length},t.prototype.areExpressionsValuesInTheList=function(){if(this.column.dataType===e.DataType.Boolean)return!0;if(1===this.filterValues.size){var t=this.filterValues.values().next().value;if(!t&&0!==t)return!0}for(var i=0;i<this.uniqueValues.length;i++)if(this.filterValues.has(this.uniqueValues[i]))return!0;return!1},t.prototype.populateColumnData=function(){this.grid.uniqueColumnValuesStrategy?(this.cdr.detectChanges(),this.renderColumnValuesRemotely()):this.renderColumnValuesFromData()},t.prototype.renderColumnValuesRemotely=function(){var t=this;this.excelStyleSearch.isLoading=!0;var i=this.getColumnFilterExpressionsTree();this.grid.uniqueColumnValuesStrategy(this.column,i,(function(i){var n=t.column.dataType===e.DataType.Date?i.map((function(e){return e?e.toDateString():e})):i;t.renderValues(n),t.excelStyleSearch.isLoading=!1,t.excelStyleSearch.refreshSize()}))},t.prototype.renderColumnValuesFromData=function(){var t=this.column.gridAPI.get_all_data(this.grid.id),i=this.getColumnFilterExpressionsTree();if(i.filteringOperands.length){var n={expressionsTree:i};t=Fi.filter(ii(t),n)}var o=this.column.field,r=this.column.dataType===e.DataType.Date?t.map((function(e){return e[o]?e[o].toDateString():e[o]})):t.map((function(e){return e[o]}));this.renderValues(r)},t.prototype.renderValues=function(t){this.generateUniqueValues(t),this.generateFilterValues(this.column.dataType===e.DataType.Date),this.generateListData()},t.prototype.generateUniqueValues=function(e){this.uniqueValues=Array.from(new Set(e))},t.prototype.generateFilterValues=function(e){void 0===e&&(e=!1),this.filterValues=e?new Set(this.expressionsList.reduce((function(e,t){return"in"===t.expression.condition.name?x(e,Array.from(t.expression.searchVal.values()).map((function(e){return new Date(e).toDateString()}))):x(e,[t.expression.searchVal?t.expression.searchVal.toDateString():t.expression.searchVal])}),[])):new Set(this.expressionsList.reduce((function(e,t){return"in"===t.expression.condition.name?x(e,Array.from(t.expression.searchVal.values())):x(e,[t.expression.searchVal])}),[]))},t.prototype.generateListData=function(){var t=this;this.listData=new Array;var i=this.areExpressionsSelectable()&&this.areExpressionsValuesInTheList();this.column.dataType===e.DataType.Boolean?this.addBooleanItems():this.addItems(i),this.listData.sort((function(e,i){return t.sortData(e,i)})),this.column.dataType===e.DataType.Date&&(this.uniqueValues=this.uniqueValues.map((function(e){return new Date(e)}))),this.containsNullOrEmpty&&this.addBlanksItem(i),this.addSelectAllItem(),this.cdr.destroyed||this.cdr.detectChanges()},t.prototype.getColumnFilterExpressionsTree=function(){var e,t,i=this.grid.filteringExpressionsTree,n=new ki(i.operator,i.fieldName);try{for(var o=v(i.filteringOperands),r=o.next();!r.done;r=o.next()){var s=r.value;if(s instanceof ki)if(s.fieldName===this.column.field)break;n.filteringOperands.push(s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},t.prototype.addBooleanItems=function(){var e=this;this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach((function(t){var i=new Wp;null!=t&&""!==t?(e.column.filteringExpressionsTree?!0===t&&e.expressionsList.find((function(e){return"true"===e.expression.condition.name}))?(i.isSelected=!0,e.selectAllIndeterminate=!0):!1===t&&e.expressionsList.find((function(e){return"false"===e.expression.condition.name}))?(i.isSelected=!0,e.selectAllIndeterminate=!0):i.isSelected=!1:i.isSelected=!0,i.value=t,i.label=t,i.indeterminate=!1,e.listData.push(i)):e.containsNullOrEmpty=!0}))},t.prototype.addItems=function(t){var i=this;this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach((function(n){if(null!=n&&""!==n){var o=new Wp;i.column.filteringExpressionsTree?t?(i.filterValues.has(n)?o.isSelected=!0:o.isSelected=!1,i.selectAllIndeterminate=!0):(o.isSelected=!1,i.selectAllSelected=!1):o.isSelected=!0,i.column.dataType===e.DataType.Date?(o.value=new Date(n),o.label=new Date(n)):(o.value=n,o.label=n),o.indeterminate=!1,i.listData.push(o)}else i.containsNullOrEmpty=!0}))},t.prototype.addSelectAllItem=function(){var e=new Wp;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,this.listData.unshift(e)},t.prototype.addBlanksItem=function(e){var t=new Wp;this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?t.isSelected=!0:t.isSelected=!1):t.isSelected=!0,t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,this.listData.unshift(t)},t.prototype.sortData=function(t,i){var n=t.value,o=i.value;return typeof t===e.DataType.String&&(n=t.value.toUpperCase(),o=i.value.toUpperCase()),n<o?-1:n>o?1:0},t.prototype.selectAllFilterItems=function(){this.listData.forEach((function(e){e.isSelected=!0,e.indeterminate=!1})),this.excelStyleSearch.cdr.detectChanges()},Object.defineProperty(t.prototype,"sortingTemplate",{get:function(){return this.grid.excelStyleSortingTemplateDirective?this.grid.excelStyleSortingTemplateDirective.template:this.defaultExcelStyleSortingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"movingTemplate",{get:function(){return this.grid.excelStyleMovingTemplateDirective?this.grid.excelStyleMovingTemplateDirective.template:this.defaultExcelStyleMovingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinningTemplate",{get:function(){return this.grid.excelStylePinningTemplateDirective?this.grid.excelStylePinningTemplateDirective.template:this.defaultExcelStylePinningTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidingTemplate",{get:function(){return this.grid.excelStyleHidingTemplateDirective?this.grid.excelStyleHidingTemplateDirective.template:this.defaultExcelStyleHidingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applyButtonDisabled",{get:function(){return this.listData[0]&&!this.listData[0].isSelected&&!this.listData[0].indeterminate},enumerable:!0,configurable:!0}),t.prototype.applyFilter=function(){var t=this,i=new ki(e.FilteringLogic.Or,this.column.field),o=this.listData.slice(1,this.listData.length).filter((function(e){return!0===e.isSelected}));if(this.listData.slice(1,this.listData.length).find((function(e){return!1===e.isSelected}))){if(o.length<=n.filterOptimizationThreshold)o.forEach((function(n){var o=null;o=null!==n.value&&void 0!==n.value?t.column.dataType===e.DataType.Boolean?t.createCondition(n.value.toString()):t.createCondition("equals"):t.createCondition("empty"),i.filteringOperands.push({condition:o,fieldName:t.column.field,ignoreCase:t.column.filteringIgnoreCase,searchVal:n.value})}));else{var r=o.findIndex((function(e){return null===e.value||void 0===e.value})),s=void 0;r>=0&&(s=o[r],o.splice(r,1)),i.filteringOperands.push({condition:this.createCondition("in"),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:new Set(this.column.dataType===e.DataType.Date?o.map((function(e){return new Date(e.value.getFullYear(),e.value.getMonth(),e.value.getDate()).toISOString()})):o.map((function(e){return e.value})))}),s&&i.filteringOperands.push({condition:this.createCondition("empty"),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:s.value})}this.filteringService.filterInternal(this.column.field,i),this.expressionsList=new Array,this.filteringService.generateExpressionsList(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList)}else this.filteringService.clearFilter(this.column.field);this.closeDropdown()},t.prototype.cancel=function(){this.overlayComponentId||this.init(),this.closeDropdown()},t.prototype.closeDropdown=function(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)},t.prototype.onKeyDown=function(e){"Escape"!==e.key&&"Esc"!==e.key||this.closeDropdown(),e.stopPropagation()},t.prototype.clearFilter=function(){this.filteringService.clearFilter(this.column.field),this.selectAllFilterItems()},t.prototype.onClearFilterKeyDown=function(e){"Enter"===e.key&&this.clearFilter()},t.prototype.showCustomFilterItem=function(){var e=this.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)},t.prototype.createCondition=function(t){switch(this.column.dataType){case e.DataType.Boolean:return qr.instance().condition(t);case e.DataType.Number:return Jr.instance().condition(t);case e.DataType.Date:return Zr.instance().condition(t);default:return Qr.instance().condition(t)}},t.filterOptimizationThreshold=2,t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"column",null),m([i.HostBinding("style.max-height")],t.prototype,"maxHeight",null),m([i.HostBinding("class.igx-excel-filter")],t.prototype,"className",void 0),m([i.HostBinding("class.igx-excel-filter--inline")],t.prototype,"inline",void 0),m([i.ViewChild("dropdown",{read:i.ElementRef})],t.prototype,"mainDropdown",void 0),m([i.ViewChild("subMenu",{read:Do})],t.prototype,"subMenu",void 0),m([i.ViewChild("customDialog",{read:Gp})],t.prototype,"customDialog",void 0),m([i.ViewChild("excelStyleSearch",{read:Bp})],t.prototype,"excelStyleSearch",void 0),m([i.ViewChild("excelStyleSorting",{read:zp})],t.prototype,"excelStyleSorting",void 0),m([i.ViewChild("defaultExcelStyleSortingTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExcelStyleSortingTemplate",void 0),m([i.ViewChild("defaultExcelStyleHidingTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExcelStyleHidingTemplate",void 0),m([i.ViewChild("defaultExcelStyleMovingTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExcelStyleMovingTemplate",void 0),m([i.ViewChild("defaultExcelStylePinningTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExcelStylePinningTemplate",void 0),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-excel-style-filtering",template:'<ng-template #defaultExcelStyleSortingTemplate>\n    <igx-excel-style-sorting #excelStyleSorting\n        class="igx-excel-filter__sort"\n        [column]="column"\n        [grid]="grid"\n        [displayDensity]="grid.displayDensity">\n    </igx-excel-style-sorting>\n</ng-template>\n\n<ng-template #defaultExcelStyleMovingTemplate>\n    <igx-excel-style-column-moving\n        class="igx-excel-filter__move"\n        [column]="column"\n        [grid]="grid"\n        [isColumnPinnable]="isColumnPinnable"\n        [displayDensity]="grid.displayDensity">\n    </igx-excel-style-column-moving>\n</ng-template>\n\n<ng-template #defaultExcelStylePinningTemplate>\n    <div [ngClass]="pinClass()"\n        (click)="onPin()"\n        tabindex="0"\n        *ngIf="!column.pinned">\n        <span>{{ grid.resourceStrings.igx_grid_excel_pin }}</span>\n        <igx-icon fontSet="filtering-icons" name="pin"></igx-icon>\n    </div>\n\n    <div class="igx-excel-filter__actions-unpin"\n        (click)="onPin()"\n        tabindex="0"\n        *ngIf="column.pinned">\n        <span>{{ grid.resourceStrings.igx_grid_excel_unpin }}</span>\n        <igx-icon fontSet="filtering-icons" name="unpin"></igx-icon>\n    </div>\n</ng-template>\n\n<ng-template #defaultExcelStyleHidingTemplate>\n    <div class="igx-excel-filter__actions-hide"\n        tabindex="0"\n        (click)="onHideToggle()">\n        <span>{{ column.hidden ? grid.resourceStrings.igx_grid_excel_show : grid.resourceStrings.igx_grid_excel_hide }}</span>\n        <igx-icon>{{ column.hidden ? \'visibility\' : \'visibility_off\' }}</igx-icon>\n    </div>\n</ng-template>\n\n<article #dropdown\n    *ngIf="column"\n    class="igx-excel-filter__menu"\n    [ngClass]="{\n        \'igx-excel-filter__menu--cosy\': grid.displayDensity === \'cosy\',\n        \'igx-excel-filter__menu--compact\': grid.displayDensity === \'compact\'\n    }"\n    [id]="overlayComponentId"\n    (keydown)="onKeyDown($event)"\n    [style.min-height]="minHeight"\n    [style.max-height]="maxHeight">\n\n    <header class="igx-excel-filter__menu-header">\n        <h4>{{ column.header || column.field }}</h4>\n        <div *ngIf="grid.displayDensity!==\'comfortable\'" class="igx-excel-filter__menu-header-actions">\n            <button *ngIf="!column.disablePinning && !column.pinned"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                (click)="onPin()"\n                [disabled]="!isColumnPinnable"\n                tabindex="0">\n                <igx-icon fontSet="filtering-icons" name="pin"></igx-icon>\n            </button>\n            <button *ngIf="!column.disablePinning && column.pinned"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                (click)="onPin()"\n                tabindex="0">\n                <igx-icon fontSet="filtering-icons" name="unpin"></igx-icon>\n            </button>\n            <button *ngIf="!column.disableHiding"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                tabindex="0"\n                (click)="onHideToggle()">\n                <igx-icon>{{ column.hidden ? \'visibility\' : \'visibility_off\' }}</igx-icon>\n            </button>\n        </div>\n    </header>\n\n    <div *ngIf="column.sortable">\n        <ng-container *ngTemplateOutlet="sortingTemplate"></ng-container>\n    </div>\n\n    <section class="igx-excel-filter__actions">\n\n        <div *ngIf="column.movable">\n            <ng-container *ngTemplateOutlet="movingTemplate"></ng-container>\n        </div>\n\n        <div *ngIf="!column.disablePinning && grid.displayDensity===\'comfortable\'">\n            <ng-container *ngTemplateOutlet="pinningTemplate"></ng-container>\n        </div>\n\n        <div *ngIf="!column.disableHiding && grid.displayDensity===\'comfortable\'">\n            <ng-container *ngTemplateOutlet="hidingTemplate"></ng-container>\n        </div>\n\n        <div\n            tabindex="0"\n            [ngClass]="clearFilterClass()"\n            (keydown)="onClearFilterKeyDown($event)"\n            (click)="clearFilter()">\n            <span>{{ grid.resourceStrings.igx_grid_excel_filter_clear }}</span>\n            <igx-icon>clear</igx-icon>\n        </div>\n\n        <div\n            tabindex="0"\n            class="igx-excel-filter__actions-filter"\n            (keydown)="onTextFilterKeyDown($event)"\n            (click)="onTextFilterClick($event)"\n            [igxDropDownItemNavigation]="subMenu" >\n            <span>{{ subMenuText }}</span>\n            <igx-icon>keyboard_arrow_right</igx-icon>\n        </div>\n    </section>\n\n    <igx-excel-style-search\n        class="igx-excel-filter__menu-main"\n        #excelStyleSearch\n        [column]="column"\n        [data]="listData"\n        [grid]="grid"\n        [inline]="inline"\n        [displayDensity]="grid.displayDensity">\n    </igx-excel-style-search>\n\n    <footer class="igx-excel-filter__menu-footer">\n        <button igxButton [displayDensity]="grid.displayDensity" (click)="cancel()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n        <button igxButton="raised" [displayDensity]="grid.displayDensity" [disabled]="applyButtonDisabled" (click)="applyFilter()">{{ grid.resourceStrings.igx_grid_excel_apply }}</button>\n    </footer>\n</article>\n\n<igx-drop-down\n    *ngIf="column"\n    #subMenu\n    [maxHeight]="\'397px\'"\n    [displayDensity]="grid.displayDensity"\n    (onSelection)="onSubMenuSelection($event)"\n    (onClosed)="onSubMenuClosed()">\n    <div>\n        <igx-drop-down-item\n            *ngFor="let condition of conditions"\n            [value]="condition">\n            <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n            <span style="margin-left: 16px">{{ translateCondition(condition) }}</span>\n        </igx-drop-down-item>\n        <igx-drop-down-item *ngIf="showCustomFilterItem()">\n            <igx-icon>filter_list</igx-icon>\n            <span style="margin-left: 16px">{{ grid.resourceStrings.igx_grid_excel_custom_filter }}</span>\n        </igx-drop-down-item>\n    </div>\n</igx-drop-down>\n\n<igx-excel-style-custom-dialog\n    *ngIf="column"\n    #customDialog\n    [column]="column"\n    [filteringService]="filteringService"\n    [overlayComponentId]="overlayComponentId"\n    [overlayService]="overlayService"\n    [displayDensity]="grid.displayDensity">\n</igx-excel-style-custom-dialog>\n'})],t)}(),qp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.shouldFitInViewPort=function(e){return!0},t.prototype.fitInViewport=function(t,i){i.contentElementRect.height-i.viewPortRect.height>0?(t.style.width="auto",t.style.height=i.viewPortRect.height+"px"):t.style.height=Math.max(i.viewPortRect.height-i.targetRect.bottom-1,i.contentElementRect.height)+"px",e.prototype.fitInViewport.call(this,t,i)},t}(jn),Zp=function(){function n(t,i,n,o,s,a,l,c){this.gridAPI=t,this.colResizingService=i,this.cdr=n,this.elementRef=o,this.zone=s,this._filteringService=a,this._moduleRef=l,this._overlayService=c,this._destroy$=new r.Subject,this.hostRole="columnheader",this.tabindex=0,this.sortDirection=e.SortingDirection.None}return Object.defineProperty(n.prototype,"styleClasses",{get:function(){var t,i,n=["igx-grid__th--fw",this.column.headerClasses],o={"igx-grid__th":!this.column.columnGroup,asc:this.ascending,desc:this.descending,"igx-grid__th--number":this.column.dataType===e.DataType.Number,"igx-grid__th--sortable":this.column.sortable,"igx-grid__th--filtrable":this.column.filterable&&this.grid.filteringService.isFilterRowVisible,"igx-grid__th--sorted":this.sorted};try{for(var r=v(Object.keys(o)),s=r.next();!s.done;s=r.next()){var a=s.value;o[a]&&n.push(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.grid.hasColumnGroups?(this.grid.maxLevelHeaderDepth+1-this.column.level)*this.grid.defaultRowHeight/this.grid._baseFontSize:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ascending",{get:function(){return this.sortDirection===e.SortingDirection.Asc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"descending",{get:function(){return this.sortDirection===e.SortingDirection.Desc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortingIcon",{get:function(){return this.sortDirection!==e.SortingDirection.None?this.sortDirection===e.SortingDirection.Asc?"arrow_upward":"arrow_downward":"arrow_upward"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sorted",{get:function(){return this.sortDirection!==e.SortingDirection.None},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterIconClassName",{get:function(){return this.column.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerID",{get:function(){return this.gridID+"_"+this.column.field},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.initFilteringSettings()},n.prototype.ngDoCheck=function(){this.getSortDirection(),this.cdr.markForCheck()},n.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete(),this._componentOverlayId&&this._overlayService.hide(this._componentOverlayId)},n.prototype.onClick=function(e){this.colResizingService.isColumnResizing||(e.stopPropagation(),this.grid.filteringService.isFilterRowVisible?!this.column.filterable||this.column.columnGroup||this.grid.filteringService.isFilterComplex(this.column.field)||(this.grid.filteringService.filteredColumn=this.column):this.column.sortable&&this.triggerSort())},n.prototype.onFilteringIconClick=function(e){e.stopPropagation(),this.toggleFilterDropdown()},Object.defineProperty(n.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),n.prototype.getSortDirection=function(){var t=this,i=this.gridAPI.grid.sortingExpressions.find((function(e){return e.fieldName===t.column.field}));this.sortDirection=i?i.dir:e.SortingDirection.None},n.prototype.onSortingIconClick=function(e){this.grid.filteringService.isFilterRowVisible&&(e.stopPropagation(),this.triggerSort())},n.prototype.triggerSort=function(){var t=this,i=(this.grid.groupingExpressions?this.grid.groupingExpressions.find((function(e){return e.fieldName===t.column.field})):null)?this.sortDirection+1>e.SortingDirection.Desc?e.SortingDirection.Asc:e.SortingDirection.Desc:this.sortDirection+1>e.SortingDirection.Desc?e.SortingDirection.None:this.sortDirection+1;this.sortDirection=i,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})},n.prototype.toggleFilterDropdown=function(){if(!this._componentOverlayId){var e=this.elementRef.nativeElement.querySelector("."+this.filterIconClassName);this._filterMenuOverlaySettings.positionStrategy.settings.target=e,this._filterMenuOverlaySettings.outlet=this.grid.outlet,this._componentOverlayId=this._overlayService.attach(Xp,this._filterMenuOverlaySettings,this._moduleRef),this._overlayService.show(this._componentOverlayId,this._filterMenuOverlaySettings)}},n.prototype.initFilteringSettings=function(){var i=this;this._filterMenuPositionSettings={verticalStartPoint:e.VerticalAlignment.Bottom,openAnimation:t.useAnimation(w,{params:{duration:"250ms"}}),closeAnimation:t.useAnimation(I,{params:{duration:"200ms"}})},this._filterMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new qp(this._filterMenuPositionSettings),scrollStrategy:new Gn},this._overlayService.onOpening.pipe(s.filter((function(e){return e.id===i._componentOverlayId})),s.takeUntil(this._destroy$)).subscribe((function(e){i.onOverlayOpening(e)})),this._overlayService.onClosed.pipe(s.filter((function(e){return e.id===i._componentOverlayId})),s.takeUntil(this._destroy$)).subscribe((function(){i.onOverlayClosed()}))},n.prototype.onOverlayOpening=function(e){var t=e.componentRef.instance;t&&t.initialize(this.column,this._overlayService,e.id)},n.prototype.onOverlayClosed=function(){this._componentOverlayId=null},n.ctorParameters=function(){return[{type:Bi},{type:_p},{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.NgZone},{type:Cp},{type:i.NgModuleRef},{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]}]},m([i.Input()],n.prototype,"column",void 0),m([i.Input()],n.prototype,"gridID",void 0),m([i.HostBinding("class")],n.prototype,"styleClasses",null),m([i.HostBinding("style.height.rem")],n.prototype,"height",null),m([i.HostBinding("attr.role")],n.prototype,"hostRole",void 0),m([i.HostBinding("attr.tabindex")],n.prototype,"tabindex",void 0),m([i.HostBinding("attr.id")],n.prototype,"headerID",null),m([i.HostListener("click",["$event"])],n.prototype,"onClick",null),n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-header",template:'<ng-template #defaultColumn>\n    <span [attr.title]="column.header || column.field">{{ column.header || column.field }}</span>\n</ng-template>\n\n<span class="igx-grid__th-title">\n    <ng-container *ngTemplateOutlet="column.headerTemplate ? column.headerTemplate : defaultColumn; context: { $implicit: column, column: column}">\n    </ng-container>\n</span>\n<div class="igx-grid__th-icons" *ngIf="!column.columnGroup">\n    <igx-icon [attr.draggable]="false"\n        class="sort-icon"\n        *ngIf="column.sortable"\n        (click)="onSortingIconClick($event)">\n        {{sortingIcon}}\n    </igx-icon>\n\n    <igx-icon [ngClass]="filterIconClassName" [attr.draggable]="false" (click)="onFilteringIconClick($event)"\n        *ngIf="grid.allowFiltering == true && column.filterable && grid.filterMode == \'excelStyleFilter\'">\n        filter_list\n    </igx-icon>\n</div>\n'}),y(7,i.Inject(Vn))],n)}(),Jp=function(){function e(e,t){this.cdr=e,this.filteringService=t,this.baseClass="igx-grid__filtering-cell-indicator",this.currentTemplate=null,this.moreFiltersCount=0,this.cssClass="igx-grid__filtering-cell",this.filteringService.subscribeToEvents()}return e.prototype.ngOnInit=function(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)},e.prototype.ngAfterViewInit=function(){this.updateFilterCellArea()},e.prototype.ngDoCheck=function(){this.updateFilterCellArea()},e.prototype.onTabKeyDown=function(e){this.isLastElementFocused()&&this.filteringService.grid.navigation.navigateNextFilterCell(this.column,e),e.stopPropagation()},e.prototype.onShiftTabKeyDown=function(e){this.isFirstElementFocused()&&this.filteringService.grid.navigation.navigatePrevFilterCell(this.column,e),e.stopPropagation()},e.prototype.isChipVisible=function(e){var t=this.expressionsList[e];return!(!t||!t.isVisible)},e.prototype.updateFilterCellArea=function(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()},Object.defineProperty(e.prototype,"template",{get:function(){if(!this.column.filterable)return this.currentTemplate=null,null;if(this.column.filterCellTemplate)return this.currentTemplate=this.column.filterCellTemplate,this.column.filterCellTemplate;var e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?(this.currentTemplate=this.complexFilter,this.complexFilter):(this.currentTemplate=this.defaultFilter,this.defaultFilter):(this.currentTemplate=this.emptyFilter,this.emptyFilter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{column:this.column}},enumerable:!0,configurable:!0}),e.prototype.onChipClicked=function(e){e?this.expressionsList.forEach((function(t){t.isSelected=t.expression===e})):this.expressionsList.length>0&&(this.expressionsList.forEach((function(e){e.isSelected=!1})),this.expressionsList[0].isSelected=!0);var t=this.filteringService.unpinnedFilterableColumns.indexOf(this.column);t>=0&&!this.isColumnRightVisible(t)?this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[t],!0):t>=0&&!this.isColumnLeftVisible(t)&&this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[t],!1),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=e},e.prototype.onChipRemoved=function(e,t){var i=this.expressionsList.indexOf(t);this.removeExpression(i),this.focusChip()},e.prototype.clearFiltering=function(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()},e.prototype.onChipKeyDown=function(e,t){"Enter"===e.key&&(e.preventDefault(),this.onChipClicked(t))},e.prototype.filteringIndicatorClass=function(){var e;return(e={})[this.baseClass]=!this.isMoreIconHidden(),e[this.baseClass+"--hidden"]=this.isMoreIconHidden(),e},e.prototype.focusChip=function(e){void 0===e&&(e=!1),this.currentTemplate===this.defaultFilter?e?this.focusFirstElement():this.focusElement():this.currentTemplate===this.emptyFilter?this.ghostChip.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.currentTemplate===this.complexFilter&&this.complexChip.elementRef.nativeElement.querySelector(".igx-chip__item").focus()},e.prototype.removeExpression=function(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()},e.prototype.isMoreIconHidden=function(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)},e.prototype.updateVisibleFilters=function(){if(this.expressionsList.forEach((function(e){return e.isVisible=!0})),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&this.expressionsList.length>1){for(var e=this.chipsArea.element.nativeElement.offsetWidth,t=0,i=this.chipsArea.element.nativeElement.children,n=0,o=this.moreIcon.nativeElement.offsetWidth-parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10),r=0;r<i.length-1;r++){if(!(t+i[r].offsetWidth<e)){r%2!=0&&t+o>e?n--:n>0&&t-i[r-1].offsetWidth+o>e&&n--,this.moreFiltersCount=this.expressionsList.length-n,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=i[r].offsetWidth,r%2==0?n++:(t+=parseInt(document.defaultView.getComputedStyle(i[r])["margin-left"],10),t+=parseInt(document.defaultView.getComputedStyle(i[r])["margin-right"],10))}for(var s=n;s<this.expressionsList.length;s++)this.expressionsList[s].isVisible=!1;this.cdr.detectChanges()}},e.prototype.isFirstElementFocused=function(){return!(this.chipsArea&&this.chipsArea.chipsList.length>0&&this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item")!==document.activeElement)},e.prototype.isLastElementFocused=function(){if(this.chipsArea){if(this.isMoreIconHidden()&&this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(".igx-chip__remove")!==document.activeElement)return!1;if(!this.isMoreIconHidden()&&this.moreIcon.nativeElement!==document.activeElement)return!1}return!0},e.prototype.focusFirstElement=function(){this.chipsArea.chipsList.length>0?this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.moreIcon.nativeElement.focus()},e.prototype.focusElement=function(){this.filteringService.shouldFocusNext?this.isMoreIconHidden()||0!==this.chipsArea.chipsList.length?this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.moreIcon.nativeElement.focus():this.isMoreIconHidden()?this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(".igx-chip__remove").focus():this.moreIcon.nativeElement.focus()},e.prototype.isColumnRightVisible=function(e){if(this.filteringService.areAllColumnsInView)return!0;for(var t=0,i=0;i<this.filteringService.unpinnedColumns.length&&(t+=parseInt(this.filteringService.unpinnedColumns[i].width,10),this.filteringService.unpinnedColumns[i]!==this.filteringService.unpinnedFilterableColumns[e]);i++);return t<=this.filteringService.displayContainerWidth+this.filteringService.displayContainerScrollLeft},e.prototype.isColumnLeftVisible=function(e){if(this.filteringService.areAllColumnsInView)return!0;for(var t=0,i=0;i<this.filteringService.unpinnedColumns.length&&this.filteringService.unpinnedColumns[i]!==this.filteringService.unpinnedFilterableColumns[e];i++)t+=parseInt(this.filteringService.unpinnedColumns[i].width,10);return t>=this.filteringService.displayContainerScrollLeft},e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:Cp}]},m([i.Input()],e.prototype,"column",void 0),m([i.ViewChild("emptyFilter",{read:i.TemplateRef,static:!0})],e.prototype,"emptyFilter",void 0),m([i.ViewChild("defaultFilter",{read:i.TemplateRef,static:!0})],e.prototype,"defaultFilter",void 0),m([i.ViewChild("complexFilter",{read:i.TemplateRef,static:!0})],e.prototype,"complexFilter",void 0),m([i.ViewChild("chipsArea",{read:Xa})],e.prototype,"chipsArea",void 0),m([i.ViewChild("moreIcon",{read:i.ElementRef})],e.prototype,"moreIcon",void 0),m([i.ViewChild("ghostChip",{read:Ya})],e.prototype,"ghostChip",void 0),m([i.ViewChild("complexChip",{read:Ya})],e.prototype,"complexChip",void 0),m([i.HostBinding("class.igx-grid__filtering-cell")],e.prototype,"cssClass",void 0),m([i.HostListener("keydown.tab",["$event"])],e.prototype,"onTabKeyDown",null),m([i.HostListener("keydown.shift.tab",["$event"])],e.prototype,"onShiftTabKeyDown",null),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-filtering-cell",template:'<ng-template #emptyFilter>\n        <igx-chips-area [attr.draggable]="false" class="igx-filtering-chips">\n            <igx-chip #ghostChip [attr.draggable]="false" (click)="onChipClicked()" (keydown)="onChipKeyDown($event)" [displayDensity]="\'cosy\'">\n                <igx-icon [attr.draggable]="false" igxPrefix>filter_list</igx-icon>\n                <span [attr.draggable]="false">{{filteringService.grid.resourceStrings.igx_grid_filter}}</span>\n            </igx-chip>\n        </igx-chips-area>\n</ng-template>\n\n<ng-template #defaultFilter>\n    <igx-chips-area #chipsArea class="igx-filtering-chips">\n        <ng-container *ngFor="let item of expressionsList; let last = last; let index = index;" >\n            <igx-chip\n                *ngIf="isChipVisible(index)"\n                [removable]="true"\n                [displayDensity]="\'cosy\'"\n                (click)="onChipClicked(item.expression)"\n                (keydown)="onChipKeyDown($event, item.expression)"\n                (onRemove)="onChipRemoved($event, item)">\n                <igx-icon igxPrefix\n                    fontSet="filtering-icons"\n                    [name]="item.expression.condition.iconName">\n                </igx-icon>\n                <span #label>\n                    {{filteringService.getChipLabel(item.expression)}}\n                </span>\n            </igx-chip>\n            <span class="igx-filtering-chips__connector" *ngIf="!last && isChipVisible(index + 1)">{{filteringService.getOperatorAsString(item.afterOperator)}}</span>\n        </ng-container>\n        <div #moreIcon [ngClass]="filteringIndicatorClass()" (click)="onChipClicked()" (keydown)="onChipKeyDown($event)" tabindex="0">\n            <igx-icon>filter_list</igx-icon>\n            <igx-badge [value]="moreFiltersCount"></igx-badge>\n        </div>\n    </igx-chips-area>\n</ng-template>\n\n<ng-template #complexFilter>\n    <igx-chip #complexChip [removable]="true" [displayDensity]="\'cosy\'" (onRemove)="clearFiltering()">\n        <igx-icon igxPrefix>filter_list</igx-icon>\n        <span>{{filteringService.grid.resourceStrings.igx_grid_complex_filter}}</span>\n    </igx-chip>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n'})],e)}(),Qp=function(){function e(e,t,i,n,o){this.cdr=e,this.gridAPI=t,this.element=i,this.colResizingService=n,this.filteringService=o}var t;return t=e,Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.column.gridRowSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.column.gridColumnSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEnd",{get:function(){return this.column.rowEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colEnd",{get:function(){return this.column.colEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowStart",{get:function(){return this.column.rowStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colStart",{get:function(){return this.column.colStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.grid.getHeaderGroupWidth(this.column)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){var e,t,i=["igx-grid__thead-item",this.column.headerGroupClasses],n={"igx-grid__th--pinned":this.isPinned,"igx-grid__th--pinned-last":this.isLastPinned,"igx-grid__drag-col-header":this.isHeaderDragged,"igx-grid__th--filtering":this.isFiltered};try{for(var o=v(Object.keys(n)),r=o.next();!r.done;r=o.next()){var s=r.value;n[s]&&i.push(s)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFiltered",{get:function(){return this.filteringService.filteredColumn===this.column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPinned",{get:function(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDisplayStyle",{get:function(){return this.grid.hasColumnLayouts&&this.column.children&&!ci()?"flex":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPinned",{get:function(){return this.column.pinned},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHeaderDragged",{get:function(){return this.grid.draggedColumn===this.column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLastPinnedChildColumn",{get:function(){return this.column.allChildren.some((function(e){return e.isLastPinned}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.element.nativeElement.getBoundingClientRect().height},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){e.preventDefault()},e.prototype.ngDoCheck=function(){this.cdr.markForCheck()},e.ctorParameters=function(){return[{type:i.ChangeDetectorRef},{type:Bi},{type:i.ElementRef},{type:_p},{type:Cp}]},m([i.HostBinding("style.-ms-grid-row-span")],e.prototype,"gridRowSpan",null),m([i.HostBinding("style.-ms-grid-column-span")],e.prototype,"gridColumnSpan",null),m([i.HostBinding("style.grid-row-end")],e.prototype,"rowEnd",null),m([i.HostBinding("style.grid-column-end")],e.prototype,"colEnd",null),m([i.HostBinding("style.-ms-grid-row"),i.HostBinding("style.grid-row-start")],e.prototype,"rowStart",null),m([i.HostBinding("style.-ms-grid-column"),i.HostBinding("style.grid-column-start")],e.prototype,"colStart",null),m([i.Input()],e.prototype,"column",void 0),m([i.Input()],e.prototype,"gridID",void 0),m([i.ViewChild(Zp)],e.prototype,"headerCell",void 0),m([i.ViewChild(Jp)],e.prototype,"filterCell",void 0),m([i.ViewChildren(i.forwardRef((function(){return t})),{read:t})],e.prototype,"children",void 0),m([i.HostBinding("class")],e.prototype,"styleClasses",null),m([i.HostBinding("style.z-index")],e.prototype,"zIndex",null),m([i.HostBinding("style.display")],e.prototype,"groupDisplayStyle",null),m([i.HostListener("mousedown",["$event"])],e.prototype,"onMouseDown",null),e=t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-header-group",template:'<ng-container *ngIf="grid.hasColumnLayouts && column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <div class="igx-grid__thead-group igx-grid__mrl-block"\n     [ngClass]="{\'igx-grid__th--pinned-last\': hasLastPinnedChildColumn}"\n     [ngStyle]="{\'grid-template-rows\':column.getGridTemplate(true, false),\n     \'grid-template-columns\':column.getGridTemplate(false, false),\n     \'-ms-grid-rows\':column.getGridTemplate(true, true),\n     \'-ms-grid-columns\':column.getGridTemplate(false, true)}">\n        <ng-container *ngFor="let child of column.children" >\n            <igx-grid-header-group *ngIf="!child.hidden" class="igx-grid__thead-subgroup"\n                [column]="child"\n                [gridID]="child.grid.id"\n                [igxColumnMovingDrag]="child"\n                [ghostHost]="grid.outletDirective.nativeElement"\n                [attr.droppable]="true"\n                [igxColumnMovingDrop]="child">\n            </igx-grid-header-group>\n        </ng-container>\n    </div>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n\n\n<ng-template #defaultColumn>\n    <span class="igx-grid__th-group-title" [attr.title]="column.header">{{column.header}}</span>\n</ng-template>\n\n<ng-template #defaultCollapseIndicator>\n    <igx-icon [attr.draggable]="false" >\n            {{column.expanded ? \'expand_more\' : \'chevron_right\'}} </igx-icon>\n</ng-template>\n\n<ng-container *ngIf="!grid.hasColumnLayouts && column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <div class="igx-grid__thead-title"\n        role="columnheader"\n        [attr.aria-label]="column.header || column.field"\n        [attr.aria-expanded]="column.expanded"\n        tabindex="0"\n        [ngClass]="{\'igx-grid__th--pinned-last\': hasLastPinnedChildColumn, \'igx-grid__th--collapsible\': column.collapsible}"\n        [igxColumnMovingDrag]="column"\n        [ghostHost]="grid.outletDirective.nativeElement"\n        [attr.droppable]="true"\n        [igxColumnMovingDrop]="column">\n        <ng-container *ngIf="column.collapsible">\n            <div class="igx-grid__th-expander" (click)="column.expanded = !column.expanded">\n                <ng-container\n                    *ngTemplateOutlet="column.collapsibleIndicatorTemplate ? column.collapsibleIndicatorTemplate : defaultCollapseIndicator; context: {$implicit: column, column: column}">\n                </ng-container>\n            </div>\n        </ng-container>\n        <ng-container *ngTemplateOutlet="column.headerTemplate ? column.headerTemplate : defaultColumn; context: { $implicit: column, column: column}">\n        </ng-container>\n    </div>\n    <div class="igx-grid__thead-group">\n        <ng-container *ngFor="let child of column.children">\n            <igx-grid-header-group *ngIf="!child.hidden" class="igx-grid__thead-subgroup"\n                                [column]="child"\n                                [gridID]="child.grid.id"\n                                [style.min-width]="grid.getHeaderGroupWidth(child)"\n                                [style.flex-basis]="grid.getHeaderGroupWidth(child)">\n            </igx-grid-header-group>\n        </ng-container>\n    </div>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n\n<ng-container *ngIf="!column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <igx-grid-header [igxColumnMovingDrag]="column" [ghostHost]="grid.outletDirective.nativeElement" [attr.droppable]="true" [igxColumnMovingDrop]="column" [gridID]="column.grid.id" [column]="column"></igx-grid-header>\n    <igx-grid-filtering-cell *ngIf="grid.allowFiltering && grid.filterMode == \'quickFilter\'" [column]="column" [attr.draggable]="false"></igx-grid-filtering-cell>\n    <span *ngIf="!column.columnGroup && column.resizable" class="igx-grid__th-resize-handle"\n          [igxResizeHandle]="column"\n          [attr.draggable]="false"\n          [style.cursor]="colResizingService.resizeCursor">\n    </span>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n'})],e)}(),ed=function(){function e(){this.summaryCacheMap=new Map,this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLenght=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1}return e.prototype.recalculateSummaries=function(){this.resetSummaryHeight(),this.grid.notifyChanges(!0)},e.prototype.clearSummaryCache=function(e){if(this.summaryCacheMap.size){if(!e)return this.summaryCacheMap.clear(),void(this.grid&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++);if(e.data){var t=this.grid.primaryKey?e.data[this.grid.primaryKey]:e.data;this.removeSummaries(t)}if(void 0!==e.rowID&&null!==e.rowID){var i=e.cellID?this.grid.columnList.find((function(t){return t.index===e.cellID.columnID})).field:void 0;if(i&&this.grid.rowEditable)return;var n=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map((function(e){return e.fieldName})).indexOf(i);i&&n&&(i=void 0),this.removeSummaries(e.rowID,i)}}},e.prototype.removeSummaries=function(e,t){var i=this;if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if(this.isTreeGrid){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else if(this.isHierarchicalGrid)this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear());else{this.getSummaryID(e,this.grid.groupingExpressions).forEach((function(e){i.deleteSummaryCache(e,t)}))}},e.prototype.removeSummariesCachePerColumn=function(e){this.summaryCacheMap.forEach((function(t){t.get(e)&&t.delete(e)})),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++},e.prototype.calcMaxSummaryHeight=function(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;var e=0;return this.grid.columnList.filter((function(e){return e.hasSummary&&!e.hidden})).forEach((function(t){var i=t.summaries.operate([],[],t.field).length;i&&e<i&&(e=i)})),this.maxSummariesLenght=e,this.summaryHeight=e*this.grid.defaultSummaryHeight,this.summaryHeight},e.prototype.calculateSummaries=function(e,t){var i=this.summaryCacheMap.get(e);return i||(i=new Map,this.summaryCacheMap.set(e,i)),this.hasSummarizedColumns&&t?(this.grid.columnList.filter((function(e){return e.hasSummary})).forEach((function(e){i.get(e.field)||i.set(e.field,e.summaries.operate(t.map((function(t){return t[e.field]})),t,e.field))})),i):i},e.prototype.resetSummaryHeight=function(){this.summaryHeight=0,this.grid._summaryPipeTrigger++,this.grid.rootSummariesEnabled&&this.retriggerRootPipe++},e.prototype.updateSummaryCache=function(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns)if(0!==this.groupingExpressions.length){if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map((function(e){return e.fieldName}))}else this.groupingExpressions=e.expressions.map((function(e){return e.fieldName}))},Object.defineProperty(e.prototype,"hasSummarizedColumns",{get:function(){return this.grid.columnList.filter((function(e){return e.hasSummary&&!e.hidden})).length>0},enumerable:!0,configurable:!0}),e.prototype.deleteSummaryCache=function(e,t){if(this.summaryCacheMap.get(e)){var i=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map((function(e){return e.fieldName})).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!i?this.summaryCacheMap.get(e).delete(t):this.summaryCacheMap.delete(e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}},e.prototype.getSummaryID=function(e,t){var i=this;if(0===t.length)return[];var n=[],o=this.grid.data;this.grid.transactions.enabled&&(o=Fi.mergeTransactions(ii(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey));var r=this.grid.primaryKey?o.find((function(t){return t[i.grid.primaryKey]===e})):e,s="{ ";return t.forEach((function(e){s+="'"+e.fieldName+"': '"+r[e.fieldName]+"'",n.push(s.concat(" }")),s+=", "})),n},e.prototype.removeAllTreeGridSummaries=function(e,t){var i=this.grid.records.get(e);if(i)for(i=i.children?i:i.parent;i;)e=i.rowID,this.deleteSummaryCache(e,t),i=i.parent},e.prototype.removeChildRowSummaries=function(e,t){},e.prototype.compareGroupingExpressions=function(e,t){var i=this,n=t.expressions.map((function(e){return e.fieldName})),o=t.ungroupedColumns;if(e.length<=n.length){var r=n.slice(0,e.length).toString();e.toString()!==r&&this.clearSummaryCache()}else{if(e.slice(0,n.length).toString()!==n.toString())return void this.clearSummaryCache();o.map((function(e){return e.field})).forEach((function(e){i.summaryCacheMap.forEach((function(t,n){-1!==n.indexOf(e)&&i.summaryCacheMap.delete(n)}))}))}},Object.defineProperty(e.prototype,"isTreeGrid",{get:function(){return"igx-tree-grid"===this.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHierarchicalGrid",{get:function(){return"igx-hierarchical-grid"===this.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),e=m([i.Injectable()],e)}(),td=function(){function e(e){this.element=e,this.firstCellIndentation=0,this.hasSummary=!1,this.tabindex=0}return Object.defineProperty(e.prototype,"visibleColumnIndex",{get:function(){return this.column.visibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describeby",{get:function(){return"Summary_"+this.column.field},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.focused=!0},e.prototype.onBlur=function(){this.focused=!1},Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}},enumerable:!0,configurable:!0}),e.prototype.dispatchEvent=function(e){var t=e.key.toLowerCase(),i=e.ctrlKey,n=e.shiftKey;if(bi.has(t)){e.stopPropagation();var o={targetType:"summaryCell",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(o),!o.cancel&&(e.preventDefault(),this.isKeySupportedInCell(t,i))){this.grid.selectionService.keyboardState.shift=n&&!("tab"===t);var r=this.getRowElementByIndex(this.rowIndex);switch(t){case"tab":if(n){this.grid.navigation.performShiftTabKey(r,this.selectionNode);break}this.grid.navigation.performTab(r,this.selectionNode);break;case"arrowleft":case"home":case"left":if(i||"home"===t){this.grid.navigation.onKeydownHome(this.rowIndex,!0);break}this.grid.navigation.onKeydownArrowLeft(this.nativeElement,this.selectionNode);break;case"end":case"arrowright":case"right":if(i||"end"===t){this.grid.navigation.onKeydownEnd(this.rowIndex,!0);break}this.grid.navigation.onKeydownArrowRight(this.nativeElement,this.selectionNode);break;case"arrowup":case"up":this.grid.navigation.navigateUp(r,this.selectionNode);break;case"arrowdown":case"down":this.grid.navigation.navigateDown(r,this.selectionNode)}}}},Object.defineProperty(e.prototype,"width",{get:function(){return this.column.getCellWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDatatype",{get:function(){return this.column.dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemHeight",{get:function(){return this.column.grid.defaultSummaryHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.column.grid},enumerable:!0,configurable:!0}),e.prototype.getRowElementByIndex=function(e){return this.grid.summariesRowList.toArray().find((function(t){return t.dataRowIndex===e})).nativeElement},e.prototype.isKeySupportedInCell=function(e,t){return t?-1===["arrowup","arrowdown","up","down","end","home"].indexOf(e):-1!==["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","tab"].indexOf(e)},e.prototype.translateSummary=function(e){return this.grid.resourceStrings["igx_grid_summary_"+e.key]||e.label},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input()],e.prototype,"summaryResults",void 0),m([i.Input()],e.prototype,"column",void 0),m([i.Input()],e.prototype,"firstCellIndentation",void 0),m([i.Input()],e.prototype,"hasSummary",void 0),m([i.Input()],e.prototype,"density",void 0),m([i.Input(),i.HostBinding("attr.data-rowIndex")],e.prototype,"rowIndex",void 0),m([i.HostBinding("attr.data-visibleIndex")],e.prototype,"visibleColumnIndex",null),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",void 0),m([i.HostBinding("attr.aria-describedby")],e.prototype,"describeby",null),m([i.HostBinding("class.igx-grid-summary--active")],e.prototype,"focused",void 0),m([i.HostListener("focus")],e.prototype,"onFocus",null),m([i.HostListener("blur")],e.prototype,"onBlur",null),m([i.HostListener("keydown",["$event"])],e.prototype,"dispatchEvent",null),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-summary-cell",template:'<ng-container *ngIf="hasSummary">\n    <ng-container *ngFor="let summary of summaryResults">\n            <div class="igx-grid-summary__item" [style.height.px]="itemHeight">\n\n                <ng-container *ngIf="visibleColumnIndex === 0 && firstCellIndentation >= 0">\n                    <div class="igx-grid__tree-cell--padding-level-{{firstCellIndentation}}"></div>\n\n                    <div #indicator class="igx-grid__tree-grouping-indicator" style="visibility: hidden">\n                        <igx-icon fontSet="material">chevron_right</igx-icon>\n                    </div>\n                </ng-container>\n\n                <span class="igx-grid-summary__label" title="{{ summary.label }}">{{ translateSummary(summary) }}</span>\n                <span class="igx-grid-summary__result" title="{{ summary.summaryResult }}">\n                    {{ columnDatatype === \'number\' ? (summary.summaryResult | igxdecimal: grid.locale) : columnDatatype === \'date\' ? (summary.summaryResult | igxdate: grid.locale) : (summary.summaryResult) }}\n                </span>\n            </div>\n    </ng-container>\n</ng-container>\n'})],e)}(),id=function(){function e(e,t,i){this.gridAPI=e,this.element=t,this.cdr=i,this.firstCellIndentation=-1}return Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.grid.summaryService.calcMaxSummaryHeight()-1},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.cdr.markForCheck()},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.getColumnSummaries=function(e){return this.summaries.get(e)?this.summaries.get(e):[]},Object.defineProperty(e.prototype,"pinnedColumns",{get:function(){return this.grid.pinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:Bi},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.Input()],e.prototype,"summaries",void 0),m([i.Input()],e.prototype,"gridID",void 0),m([i.Input()],e.prototype,"index",void 0),m([i.Input()],e.prototype,"firstCellIndentation",void 0),m([i.HostBinding("attr.data-rowIndex")],e.prototype,"dataRowIndex",null),m([i.ViewChildren(td,{read:td})],e.prototype,"summaryCells",void 0),m([i.ViewChild("igxDirRef",{read:So})],e.prototype,"virtDirRow",void 0),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-summary-row",template:'<ng-container *ngIf="summaries.size">\n    <ng-container *ngIf="grid.summariesMargin">\n        <div\n        class="igx-grid__summaries-patch"\n        [style.min-width.px]="grid.summariesMargin"\n        [style.flex-basis.px]="grid.summariesMargin"\n        ></div>\n    </ng-container>\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-summary-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid-summary igx-grid-summary--fw igx-grid-summary--pinned"\n            [class.igx-grid-summary--cosy]="grid.displayDensity === \'cosy\'"\n            [class.igx-grid-summary--compact]="grid.displayDensity === \'compact\'"\n            [class.igx-grid-summary--empty]="!col.hasSummary"\n            [class.igx-grid-summary--pinned-last]="col.isLastPinned"\n            [column]="col"\n            [firstCellIndentation]="firstCellIndentation"\n            [rowIndex]="index"\n            [summaryResults]="getColumnSummaries(col.field)"\n            [hasSummary]="col.hasSummary"\n            [density]="grid.displayDensity"\n            [style.max-height.px]="minHeight"\n            [style.min-height.px]="minHeight"\n            [style.min-width]="col.getCellWidth()"\n            [style.max-width]="col.getCellWidth()"\n            [style.flex-basis]="col.getCellWidth()">\n        </igx-grid-summary-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]="grid.unpinnedWidth" [igxForTrackBy]="grid.trackColumnChanges" [igxForSizePropName]=\'"calcPixelWidth"\' #igxDirRef>\n        <igx-grid-summary-cell\n            class="igx-grid-summary igx-grid-summary--fw"\n            [class.igx-grid-summary--cosy]="grid.displayDensity === \'cosy\'"\n            [class.igx-grid-summary--compact]="grid.displayDensity === \'compact\'"\n            [class.igx-grid-summary--empty]="!col.hasSummary"\n            [column]="col"\n            [rowIndex]="index"\n            [firstCellIndentation]="firstCellIndentation"\n            [summaryResults]="getColumnSummaries(col.field)"\n            [hasSummary]="col.hasSummary"\n            [density]="grid.displayDensity"\n            [style.max-height.px]="minHeight"\n            [style.min-height.px]="minHeight"\n            [style.min-width]="col.getCellWidth()"\n            [style.max-width]="col.getCellWidth()"\n            [style.flex-basis]="col.getCellWidth()">\n        </igx-grid-summary-cell>\n    </ng-template>\n</ng-container>\n',providers:[bo]})],e)}();!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.RIGHT=3]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.TOPLEFT=5]="TOPLEFT",e[e.TOPRIGHT=6]="TOPRIGHT",e[e.BOTTOMLEFT=7]="BOTTOMLEFT",e[e.BOTTOMRIGHT=8]="BOTTOMRIGHT"}(Ip||(Ip={}));var nd,od=function(){function e(e,t){var n=this;this.ref=e,this.zone=t,this.onDragStop=new i.EventEmitter,this.onDragScroll=new i.EventEmitter,this.end$=new r.Subject,this.lastDirection=Ip.NONE,this.startDragSelection=function(e){if(n.activeDrag){var t=e.clientX,i=e.clientY,o=n._measureDimensions(t,i);o!==n.lastDirection&&(n.unsubscribe(),n._sub=n._interval$.subscribe((function(){return n.onDragScroll.emit(o)})),n.lastDirection=o)}},this.stopDragSelection=function(){n.activeDrag&&(n.onDragStop.emit(!1),n.unsubscribe(),n.lastDirection=Ip.NONE)},this._interval$=r.interval(100).pipe(s.takeUntil(this.end$),s.filter((function(){return n.activeDrag})))}return Object.defineProperty(e.prototype,"activeDrag",{get:function(){return this._activeDrag},set:function(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.ref.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientRect",{get:function(){return this.nativeElement.getBoundingClientRect()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular((function(){e.nativeElement.addEventListener("pointerover",e.startDragSelection),e.nativeElement.addEventListener("pointerleave",e.stopDragSelection)}))},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular((function(){e.nativeElement.removeEventListener("pointerover",e.startDragSelection),e.nativeElement.removeEventListener("pointerleave",e.stopDragSelection)})),this.unsubscribe(),this.end$.complete()},e.prototype._measureDimensions=function(e,t){var i=this.clientRect,n=Math.trunc(e-i.left),o=Math.trunc(t-i.top),r=n<=.15*i.width,s=n>=.85*i.width,a=o<=.15*i.height,l=o>=.85*i.height;return a&&r?Ip.TOPLEFT:a&&s?Ip.TOPRIGHT:l&&r?Ip.BOTTOMLEFT:l&&s?Ip.BOTTOMRIGHT:a?Ip.TOP:l?Ip.BOTTOM:r?Ip.LEFT:s?Ip.RIGHT:Ip.NONE},e.prototype.unsubscribe=function(){this._sub&&this._sub.unsubscribe()},e.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone}]},m([i.Input("igxGridDragSelect")],e.prototype,"activeDrag",null),m([i.Output()],e.prototype,"onDragStop",void 0),m([i.Output()],e.prototype,"onDragScroll",void 0),e=m([i.Directive({selector:"[igxGridDragSelect]"})],e)}(),rd=function(){function e(e,t,i){var n=this;this.element=e,this.document=t,this.zone=i,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new r.Subject,this.resizeStart=new r.Subject,this.resize=new r.Subject,this._destroy=new r.Subject,this.resizeStart.pipe(s.map((function(e){return e.clientX})),s.takeUntil(this._destroy),s.switchMap((function(e){return n.resize.pipe(s.map((function(t){return t.clientX-e})),s.takeUntil(n.resizeEnd),s.takeUntil(n._destroy))}))).subscribe((function(e){var t=n._left+e,i=n._left-n.restrictHResizeMin,o=n._left+n.restrictHResizeMax;n.left=t<i?i:t,t>o&&(n.left=o)}))}return e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular((function(){r.fromEvent(e.document.defaultView,"mousemove").pipe(s.throttle((function(){return r.interval(0,r.animationFrameScheduler)})),s.takeUntil(e._destroy)).subscribe((function(t){return e.onMousemove(t)})),r.fromEvent(e.document.defaultView,"mouseup").pipe(s.takeUntil(e._destroy)).subscribe((function(t){return e.onMouseup(t)}))}))},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete()},Object.defineProperty(e.prototype,"left",{set:function(e){var t=this;requestAnimationFrame((function(){return t.element.nativeElement.style.left=e+"px"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{set:function(e){var t=this;requestAnimationFrame((function(){return t.element.nativeElement.style.top=e+"px"}))},enumerable:!0,configurable:!0}),e.prototype.onMouseup=function(e){this.resizeEnd.next(e),this.resizeEnd.complete()},e.prototype.onMousedown=function(e){e.preventDefault();var t=this.element.nativeElement.parentElement.parentElement;this.left=this._left=e.clientX-t.getBoundingClientRect().left,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)},e.prototype.onMousemove=function(e){e.preventDefault(),this.resize.next(e)},e.ctorParameters=function(){return[{type:i.ElementRef},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.NgZone}]},m([i.Input()],e.prototype,"restrictHResizeMin",void 0),m([i.Input()],e.prototype,"restrictHResizeMax",void 0),m([i.Output()],e.prototype,"resizeEnd",void 0),m([i.Output()],e.prototype,"resizeStart",void 0),m([i.Output()],e.prototype,"resize",void 0),e=m([i.Directive({selector:"[igxResizer]"}),y(1,i.Inject(o.DOCUMENT))],e)}(),sd=function(){function e(e){this.colResizingService=e}return e.ctorParameters=function(){return[{type:_p}]},m([i.ViewChild(rd,{static:!0})],e.prototype,"resizer",void 0),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-column-resizer",template:'<div class="igx-grid__th-resize-line"\n    [style.left.px]="-99999" igxResizer\n    [style.height.px]="colResizingService.resizerHeight"\n    [restrictHResizeMax]="colResizingService.restrictResizeMax"\n    [restrictHResizeMin]="colResizingService.restrictResizeMin"\n    (resizeEnd)="colResizingService.resizeColumn($event)">\n</div>\n'})],e)}(),ad=function(){function t(t,i,n){this.filteringService=t,this.element=i,this.cdr=n,this._positionSettings={horizontalStartPoint:e.HorizontalAlignment.Left,verticalStartPoint:e.VerticalAlignment.Bottom},this._conditionsOverlaySettings={excludePositionTarget:!0,closeOnOutsideClick:!0,modal:!1,scrollStrategy:new Gn,positionStrategy:new Hn(this._positionSettings)},this._operatorsOverlaySettings={excludePositionTarget:!0,closeOnOutsideClick:!0,modal:!1,scrollStrategy:new Gn,positionStrategy:new Hn(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this.cssClass="igx-grid__filtering-row"}return Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this._column&&this.expressionsList.forEach((function(e){return e.isSelected=!1})),e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.expression?this.expression.searchVal:null},set:function(e){var t=this;e||0===e?(this.expression.searchVal=Fi.parseValue(this.column.dataType,e),void 0===this.expressionsList.find((function(e){return e.expression===t.expression}))&&this.addExpression(!0)):(this.expression.searchVal=null,this.showHideArrowButtons()),this.filter()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this._conditionsOverlaySettings.outlet=this.column.grid.outletDirective,this._operatorsOverlaySettings.outlet=this.column.grid.outletDirective;var e=this.expressionsList.find((function(e){return!0===e.isSelected}));e&&(this.expression=e.expression),this.input.nativeElement.focus()},t.prototype.onTabKeydown=function(e){e.stopPropagation(),document.activeElement!==this.closeButton.nativeElement||e.shiftKey||this.filteringService.grid.navigation.navigateFirstCellIfPossible(e)},t.prototype.onEscKeydown=function(e){e.preventDefault(),e.stopPropagation(),this.close()},Object.defineProperty(t.prototype,"disabled",{get:function(){return!(this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.column.dataType===e.DataType.Date?this.defaultDateUI:this.defaultFilterUI},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){switch(this.column.dataType){case e.DataType.String:case e.DataType.Boolean:return"text";case e.DataType.Number:return"number"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUnaryCondition",{get:function(){return!this.expression.condition||this.expression.condition.isUnary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===e.DataType.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===e.DataType.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder},enumerable:!0,configurable:!0}),t.prototype.onPrefixKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||!this.dropDownConditions.collapsed?"Tab"===e.key&&(e.shiftKey?(e.preventDefault(),e.stopPropagation()):this.dropDownConditions.collapsed||this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation())},t.prototype.onInputKeyDown=function(t){if(this.isKeyPressed=!0,this.column.dataType===e.DataType.Boolean&&("Enter"===t.key||" "===t.key||"Spacebar"===t.key))return this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),void t.stopPropagation();if("Enter"===t.key){if(this.isComposing)return;this.commitInput()}else!t.altKey||"ArrowDown"!==t.key&&"Down"!==t.key?"Escape"!==t.key&&"Esc"!==t.key||(t.preventDefault(),this.close()):(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement));t.stopPropagation()},t.prototype.onInputKeyUp=function(e){this.isKeyPressed=!1},t.prototype.onInput=function(e){(pi()||this.isKeyPressed||e.target.value)&&(this.value=e.target.value)},t.prototype.onCompositionStart=function(){this.isComposing=!0},t.prototype.onCompositionEnd=function(){this.isComposing=!1},t.prototype.onInputClick=function(){this.column.dataType===e.DataType.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))},t.prototype.datePickerClose=function(){this.input.nativeElement.focus()},t.prototype.getCondition=function(e){return this.column.filters.condition(e)},t.prototype.translateCondition=function(e){return this.filteringService.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},t.prototype.getIconName=function(){return this.column.dataType===e.DataType.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName},t.prototype.isConditionSelected=function(e){return!!this.expression.condition&&this.expression.condition.name===e},t.prototype.clearFiltering=function(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)},t.prototype.commitInput=function(){this.expressionsList.filter((function(e){return!0===e.isSelected})).forEach((function(e){return e.isSelected=!1}));for(var e=-1,t=0;t<this.expressionsList.length;t++){var i=this.expressionsList[t].expression;null!==i.searchVal||i.condition.isUnary||(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this.scrollChipsWhenAddingExpression()},t.prototype.clearInput=function(){this.value=null},t.prototype.onClearKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.clearInput(),this.input.nativeElement.focus())},t.prototype.onClearClick=function(){this.clearInput(),this.input.nativeElement.focus()},t.prototype.onCommitKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.commitInput(),this.input.nativeElement.focus())},t.prototype.onCommitClick=function(){this.commitInput(),this.input.nativeElement.focus()},t.prototype.onInputGroupFocusout=function(){var e=this;(this.value||0===this.value||!this.expression.condition||this.expression.condition.isUnary)&&requestAnimationFrame((function(){var t=document.activeElement;"igx-chip__remove"!==t.className&&(t&&e.inputGroup.nativeElement.contains(t)||!e.dropDownConditions.collapsed||e.commitInput())}))},t.prototype.close=function(){var e=this;1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary?this.filteringService.getExpressions(this.column.field).pop():this.expressionsList.forEach((function(t){null!==t.expression.searchVal||t.expression.condition.isUnary||e.filteringService.removeExpression(e.column.field,e.expressionsList.indexOf(t))})),this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.focusFilterCellChip(this.column,!0),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)},t.prototype.noop=function(){},t.prototype.onDateSelected=function(e){this.value=e,this.commitInput()},t.prototype.toggleConditionsDropDown=function(e){this._conditionsOverlaySettings.positionStrategy.settings.target=e,this.dropDownConditions.toggle(this._conditionsOverlaySettings)},t.prototype.toggleOperatorsDropDown=function(e,t){this._operatorsOverlaySettings.positionStrategy.settings.target=e.target.parentElement,this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)},t.prototype.onConditionsChanged=function(e){var t=this,i=e.newSelection.value;this.expression.condition=this.getCondition(i),this.expression.condition.isUnary?requestAnimationFrame((function(){return t.unaryConditionChangedCallback()})):requestAnimationFrame((function(){return t.conditionChangedCallback()})),this.input&&requestAnimationFrame((function(){return t.input.nativeElement.focus()}))},t.prototype.onChipPointerdown=function(e,t){var i=document.activeElement;this._cancelChipClick=t.selected&&i&&this.inputGroup.nativeElement.contains(i)},t.prototype.onChipClick=function(e,t){this._cancelChipClick||(this._cancelChipClick=!1,this.expressionsList.forEach((function(e){return e.isSelected=!1})),this.toggleChip(t))},t.prototype.toggleChip=function(e){e.isSelected=!e.isSelected,e.isSelected&&(this.expression=e.expression,this.input&&this.input.nativeElement.focus())},t.prototype.onChipKeyDown=function(e,t){"Enter"===e.key&&(e.preventDefault(),this.toggleChip(t))},t.prototype.onLeftArrowKeyDown=function(e){"Tab"===e.key&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))},t.prototype.onChipRemoved=function(e,t){var i=this.expressionsList.indexOf(t);this.removeExpression(i,t.expression),this.scrollChipsOnRemove()},t.prototype.onLogicOperatorChanged=function(e,t){var i=this;e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame((function(){return i.filter()})))},t.prototype.scrollChipsOnArrowPress=function(e){var t=0,i=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(var o=0;o<i.length;o++)Math.ceil(i[o].getBoundingClientRect().right)<Math.ceil(n.right)&&t++;t<i.length&&(this.chipAreaScrollOffset-=Math.ceil(i[t].getBoundingClientRect().right)-Math.ceil(n.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(o=0;o<i.length;o++)Math.ceil(i[o].getBoundingClientRect().left)<Math.ceil(n.left)&&t++;t>0&&(this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(i[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}},t.prototype.showHideArrowButtons=function(){var e=this;requestAnimationFrame((function(){if(e.filteringService.isFilterRowVisible){var t=e.container.nativeElement.getBoundingClientRect().width;e.chipsAreaWidth=e.chipsArea.element.nativeElement.getBoundingClientRect().width,e.showArrows=e.chipsAreaWidth>=t&&e.isColumnFiltered,e.cdr.destroyed||e.cdr.detectChanges()}}))},t.prototype.addExpression=function(t){var i=new xp;i.expression=this.expression,i.beforeOperator=this.expressionsList.length>0?e.FilteringLogic.And:null,i.isSelected=t,this.expressionsList.push(i);var n=this.expressionsList.length;this.expressionsList[n-2]&&(this.expressionsList[n-2].afterOperator=this.expressionsList[n-1].beforeOperator),this.showHideArrowButtons()},t.prototype.removeExpression=function(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()},t.prototype.resetExpression=function(){this.expression={fieldName:this.column.field,condition:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==e.DataType.Boolean&&(this.expression.condition=this.getCondition(this.conditions[0])),this.column.dataType===e.DataType.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()},t.prototype.scrollChipsWhenAddingExpression=function(){var e=this.chipsArea.element.nativeElement.children;if(e&&0!==e.length){var t=Math.ceil(this.container.nativeElement.getBoundingClientRect().right),i=Math.ceil(e[e.length-1].getBoundingClientRect().right);i>=t&&(this.chipAreaScrollOffset-=i-t,this.transform(this.chipAreaScrollOffset))}},t.prototype.resetChipsArea=function(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()},t.prototype.transform=function(e){var t=this;requestAnimationFrame((function(){t.chipsArea.element.nativeElement.style.transform="translate("+e+"px)"}))},t.prototype.scrollChipsOnRemove=function(){for(var e=0,t=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect(),n=0;n<t.length;n++)Math.ceil(t[n].getBoundingClientRect().right)<Math.ceil(i.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{var o="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(t[o].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)},t.prototype.conditionChangedCallback=function(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)},t.prototype.unaryConditionChangedCallback=function(){var e=this;this.value&&(this.value=null),void 0===this.expressionsList.find((function(t){return t.expression===e.expression}))&&this.addExpression(!0),this.filter()},t.prototype.filter=function(){this.filteringService.filterInternal(this.column.field)},Object.defineProperty(t.prototype,"isColumnFiltered",{get:function(){return this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:Cp},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.Input()],t.prototype,"column",null),m([i.Input()],t.prototype,"value",null),m([i.ViewChild("defaultFilterUI",{read:i.TemplateRef,static:!0})],t.prototype,"defaultFilterUI",void 0),m([i.ViewChild("defaultDateUI",{read:i.TemplateRef,static:!0})],t.prototype,"defaultDateUI",void 0),m([i.ViewChild("input",{read:i.ElementRef})],t.prototype,"input",void 0),m([i.ViewChild("inputGroupConditions",{read:Do,static:!0})],t.prototype,"dropDownConditions",void 0),m([i.ViewChild("chipsArea",{read:Xa,static:!0})],t.prototype,"chipsArea",void 0),m([i.ViewChildren("operators",{read:Do})],t.prototype,"dropDownOperators",void 0),m([i.ViewChild("inputGroup",{read:i.ElementRef})],t.prototype,"inputGroup",void 0),m([i.ViewChild("inputGroupPrefix",{read:i.ElementRef})],t.prototype,"inputGroupPrefix",void 0),m([i.ViewChild("container",{static:!0})],t.prototype,"container",void 0),m([i.ViewChild("operand")],t.prototype,"operand",void 0),m([i.ViewChild("closeButton",{static:!0})],t.prototype,"closeButton",void 0),m([i.HostBinding("class.igx-grid__filtering-row")],t.prototype,"cssClass",void 0),m([i.HostListener("keydown.shift.tab",["$event"]),i.HostListener("keydown.tab",["$event"])],t.prototype,"onTabKeydown",null),m([i.HostListener("keydown.esc",["$event"])],t.prototype,"onEscKeydown",null),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-filtering-row",template:'\x3c!-- Have to apply styles inline because of the overlay outlet ... --\x3e\n<igx-drop-down #inputGroupConditions [height]="\'200px\'" (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item\n        *ngFor="let condition of conditions"\n        [value]="condition"\n        [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span style="margin-left: 16px">{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<ng-template #defaultFilterUI>\n    <igx-input-group #inputGroup type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true" (focusout)="onInputGroupFocusout()">\n        <igx-prefix #inputGroupPrefix\n                    (click)="toggleConditionsDropDown(inputGroupPrefix)"\n                    (keydown)="onPrefixKeyDown($event)"\n                    tabindex="0"\n                    [igxDropDownItemNavigation]="inputGroupConditions">\n            <igx-icon fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        </igx-prefix>\n        <input\n            #input\n            igxInput\n            tabindex="0"\n            [placeholder]="placeholder"\n            autocomplete="off"\n            [value]="value"\n            (input)="onInput($event)"\n            [type]="type"\n            [readonly]="isUnaryCondition"\n            (click)="onInputClick()"\n            (compositionstart)="onCompositionStart()"\n            (compositionend)="onCompositionEnd()"\n            (keydown)="onInputKeyDown($event)"\n            (keyup)="onInputKeyUp($event)"/>\n            <igx-suffix *ngIf="value || value === 0" >\n                <igx-icon (keydown)="onCommitKeyDown($event)" (click)="onCommitClick()" tabindex="0">done</igx-icon>\n                <igx-icon (keydown)="onClearKeyDown($event)" (click)="onClearClick()" tabindex="0">clear</igx-icon>\n            </igx-suffix>\n    </igx-input-group>\n</ng-template>\n\n<ng-template #defaultDateUI>\n    <igx-date-picker\n        tabindex="0"\n        mode="dropdown"\n        [value]="value"\n        [outlet]="filteringService.grid.outletDirective"\n        [locale]="filteringService.grid.locale"\n        (onSelection)="onDateSelected($event)"\n        (onClose)="datePickerClose()">\n        <ng-template igxDatePickerTemplate let-openDialog="openDialog">\n            <igx-input-group #inputGroup type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true" (focusout)="onInputGroupFocusout()">\n                <igx-prefix #inputGroupPrefix\n                            tabindex="0"\n                            (click)="toggleConditionsDropDown(inputGroupPrefix)"\n                            (keydown)="onPrefixKeyDown($event)"\n                            [igxDropDownItemNavigation]="inputGroupConditions">\n                    <igx-icon fontSet="filtering-icons" [name]="expression.condition.iconName"></igx-icon>\n                </igx-prefix>\n                <input #input\n                       igxInput\n                       tabindex="0"\n                       (click)="expression.condition.isUnary ? noop() : openDialog(inputGroup.element.nativeElement)"\n                       [placeholder]="placeholder"\n                       autocomplete="off"\n                       [value]="value | igxdate: filteringService.grid.locale"\n                       [readonly]="true"\n                       (keydown)="onInputKeyDown($event)"/>\n                <igx-suffix *ngIf="value" (keydown)="onClearKeyDown($event)" (click)="clearInput()" tabindex="0">\n                    <igx-icon>clear</igx-icon>\n                </igx-suffix>\n            </igx-input-group>\n            </ng-template>\n    </igx-date-picker>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this }"></ng-container>\n\n<button igxButton="icon" class="igx-grid__filtering-row-scroll-start" *ngIf="showArrows" (keydown)="onLeftArrowKeyDown($event)" (click)="scrollChipsOnArrowPress(\'left\')">\n    <igx-icon>navigate_before</igx-icon>\n</button>\n\n<div #container class="igx-grid__filtering-row-main">\n    <div>\n         <igx-chips-area #chipsArea>\n            <ng-container *ngFor="let item of expressionsList; index as i; let last = last;" tabindex="0">\n                <igx-chip #chip id=\'chip\'\n                    (pointerdown)="onChipPointerdown($event, chip)"\n                    (click)="onChipClick($event, item)"\n                    (keydown)="onChipKeyDown($event, item)"\n                    (onRemove)="onChipRemoved($event, item)"\n                    [selectable]="false"\n                    [selected]="item.isSelected"\n                    [displayDensity]="\'cosy\'"\n                    [removable]="true">\n                    <igx-icon\n                        igxPrefix\n                        fontSet="filtering-icons"\n                        [name]="item.expression.condition.iconName">\n                    </igx-icon>\n                    <span>{{filteringService.getChipLabel(item.expression)}}</span>\n                </igx-chip>\n\n                <span id=\'operand\' *ngIf="!last">\n                    <button igxButton (click)="toggleOperatorsDropDown($event, i)" [igxDropDownItemNavigation]="operators">\n                        <igx-icon>expand_more</igx-icon>\n                        <span>{{filteringService.getOperatorAsString(item.afterOperator)}}</span>\n                    </button>\n                    <igx-drop-down #operators (onSelection)="onLogicOperatorChanged($event, item)">\n                            <igx-drop-down-item [value]="0" [selected]="item.afterOperator === 0">{{filteringService.grid.resourceStrings.igx_grid_filter_operator_and}}</igx-drop-down-item>\n                            <igx-drop-down-item [value]="1" [selected]="item.afterOperator === 1">{{filteringService.grid.resourceStrings.igx_grid_filter_operator_or}}</igx-drop-down-item>\n                    </igx-drop-down>\n                </span>\n            </ng-container>\n        </igx-chips-area>\n    </div>\n</div>\n\n<button igxButton="icon" class="igx-grid__filtering-row-scroll-end" *ngIf="showArrows" (click)="scrollChipsOnArrowPress(\'right\')">\n    <igx-icon>navigate_next</igx-icon>\n</button>\n\n<div #buttonsContainer class="igx-grid__filtering-row-editing-buttons">\n    <button igxButton igxRipple (click)="clearFiltering()" [disabled]="disabled" [tabindex]="disabled">{{filteringService.grid.resourceStrings.igx_grid_filter_row_reset}}</button>\n    <button #closeButton igxButton igxRipple (click)="close()">{{filteringService.grid.resourceStrings.igx_grid_filter_row_close}}</button>\n</div>\n'})],t)}();!function(e){e[e.BeforeDropTarget=0]="BeforeDropTarget",e[e.AfterDropTarget=1]="AfterDropTarget",e[e.None=2]="None"}(nd||(nd={}));var ld,cd=function(){function e(){}return Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(e){e&&(this._column=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){e&&(this._icon=e)},enumerable:!0,configurable:!0}),e.ɵprov=i["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e=m([i.Injectable({providedIn:"root"})],e)}(),pd=function(e){function t(t,i,n,o,r,s){var a=e.call(this,r,t,i,n,o)||this;return a.element=t,a.viewContainer=i,a.zone=n,a.renderer=o,a.cdr=r,a.cms=s,a._ghostClass="igx-grid__drag-ghost-image",a.ghostImgIconClass="igx-grid__drag-ghost-image-icon",a.ghostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",a}return d(t,e),Object.defineProperty(t.prototype,"data",{set:function(e){this._column=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.column&&(this.column.movable||this.column.groupable&&!this.column.columnGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.cms.icon},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._unsubscribe()},t.prototype.onEscape=function(e){this.cms.cancelDrop=!0,this.onPointerUp(e)},t.prototype.onPointerDown=function(t){var i=this;if(this.draggable&&"false"!==t.target.getAttribute("draggable")){t.preventDefault(),t.stopPropagation(),this._removeOnDestroy=!1,this.cms.column=this.column,this.ghostClass=this._ghostClass,e.prototype.onPointerDown.call(this,t),this.cms.isColumnMoving=!0,this.column.grid.cdr.detectChanges();var n={source:this.column};this.column.grid.onColumnMovingStart.emit(n),this.subscription$=r.fromEvent(this.column.grid.document.defaultView,"keydown").subscribe((function(e){"Escape"!==e.key&&"Esc"!==e.key||i.onEscape(e)}))}},t.prototype.onPointerMove=function(t){if(t.preventDefault(),e.prototype.onPointerMove.call(this,t),this._dragStarted&&this.ghostElement&&!this.column.grid.draggedColumn&&(this.column.grid.draggedColumn=this.column,this.column.grid.cdr.detectChanges()),this.cms.isColumnMoving){var i={source:this.column,cancel:!1};this.column.grid.onColumnMoving.emit(i),i.cancel&&this.onEscape(t)}},t.prototype.onPointerUp=function(t){var i=this;this.zone.run((function(){e.prototype.onPointerUp.call(i,t),i.cms.isColumnMoving=!1,i.column.grid.draggedColumn=null,i.column.grid.cdr.detectChanges()})),this._unsubscribe()},t.prototype.createGhost=function(t,i){e.prototype.createGhost.call(this,t,i),this.ghostElement.style.height=null,this.ghostElement.style.minWidth=null,this.ghostElement.style.flexBasis=null,this.ghostElement.style.position=null;var n=document.createElement("i"),o=document.createTextNode("block");n.appendChild(o),n.classList.add("material-icons"),this.cms.icon=n,this.column.columnGroup?(this.ghostElement.insertBefore(n,this.ghostElement.childNodes[0]),this.renderer.addClass(n,this.ghostImgIconGroupClass),this.ghostElement.children[0].style.paddingLeft="0px",this.ghostLeft=this._ghostStartX=t-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=i-this.ghostElement.getBoundingClientRect().height/3*2):(this.renderer.addClass(n,this.ghostImgIconClass),this.ghostElement.insertBefore(n,this.ghostElement.firstElementChild),this.ghostLeft=this._ghostStartX=t-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=i-this.ghostElement.getBoundingClientRect().height/3*2)},t.prototype._unsubscribe=function(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.ViewContainerRef},{type:i.NgZone},{type:i.Renderer2},{type:i.ChangeDetectorRef},{type:cd}]},m([i.Input("igxColumnMovingDrag")],t.prototype,"data",null),t=m([i.Directive({selector:"[igxColumnMovingDrag]"})],t)}(ar),dd=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxGroupByRow]"})],e)}(),ud=function(){function e(){}return e=m([i.Directive({selector:"[igxGridDetail]"})],e)}(),hd=function(){function e(){}return e=m([i.Directive({selector:"[igxRowExpandedIndicator]"})],e)}(),gd=function(){function e(){}return e=m([i.Directive({selector:"[igxRowCollapsedIndicator]"})],e)}(),fd=function(){function e(){}return e=m([i.Directive({selector:"[igxHeaderExpandedIndicator]"})],e)}(),md=function(){function e(){}return e=m([i.Directive({selector:"[igxHeaderCollapsedIndicator]"})],e)}(),yd=function(t){function n(e,i,n){var o=t.call(this,e,i,n)||this;return o.elementRef=e,o.renderer=i,o.zone=n,o.hovered=!1,o}return d(n,t),n.prototype.onDragEnter=function(e){var t=e.detail.owner,i=t.column;if(this.columnBelongsToGrid(i)){var n=-1!==i.grid.groupingExpressions.findIndex((function(e){return e.fieldName===i.field}));i.groupable&&!n&&!i.columnGroup&&i.field?(t.icon.innerText="group_work",this.hovered=!0):(t.icon.innerText="block",this.hovered=!1)}},n.prototype.onDragLeave=function(e){var t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)},n.prototype.onDragDrop=function(t){var i=t.detail.owner;if(i instanceof pd){var n=i.column;if(!this.columnBelongsToGrid(n))return;var o=n.grid,r=-1!==o.groupingExpressions.findIndex((function(e){return e.fieldName===n.field}));n.groupable&&!r&&!n.columnGroup&&n.field&&o.groupBy({fieldName:n.field,dir:e.SortingDirection.Asc,ignoreCase:n.sortingIgnoreCase,strategy:n.sortStrategy,groupingComparer:n.groupingComparer})}},n.prototype.closestParentByAttr=function(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)},n.prototype.columnBelongsToGrid=function(e){var t=this.elementRef.nativeElement,i=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){var n=e.grid;return!(!n||n.id!==i)}return!1},n.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.NgZone}]},m([i.HostBinding("class.igx-drop-area--hover")],n.prototype,"hovered",void 0),n=m([i.Directive({selector:"[igxGroupAreaDrop]"})],n)}(lr),vd=function(e){this.parent=e},bd=function(e){function t(t,i){var n=e.call(this,i)||this;return n.operator=t,n.children=[],n}return d(t,e),t}(vd),xd=function(e){function t(t,i){var n=e.call(this,i)||this;return n.expression=t,n}return d(t,e),t}(vd),Cd=function(){function t(t){this.cdr=t,this.inline=!0,this.selectedExpressions=[],this.selectedGroups=[],this._positionSettings={horizontalStartPoint:e.HorizontalAlignment.Right,verticalStartPoint:e.VerticalAlignment.Top},this._overlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new Hn(this._positionSettings),scrollStrategy:new Wn},this.columnSelectOverlaySettings={scrollStrategy:new Gn,modal:!1,closeOnOutsideClick:!1,excludePositionTarget:!0},this.conditionSelectOverlaySettings={scrollStrategy:new Gn,modal:!1,closeOnOutsideClick:!1,excludePositionTarget:!0},this.display="block",this.destroy$=new r.Subject,this._dblClickDelay=200,this._preventChipClick=!1}return Object.defineProperty(t.prototype,"editingInputsContainer",{get:function(){return this._editingInputsContainer},set:function(e){var t=this;(e&&!this._editingInputsContainer||e&&this._editingInputsContainer&&this._editingInputsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((function(){t.scrollElementIntoView(e.nativeElement)})),this._editingInputsContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addModeContainer",{get:function(){return this._addModeContainer},set:function(e){var t=this;(e&&!this._addModeContainer||e&&this._addModeContainer&&this._addModeContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((function(){t.scrollElementIntoView(e.nativeElement)})),this._addModeContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentGroupButtonsContainer",{get:function(){return this._currentGroupButtonsContainer},set:function(e){var t=this;(e&&!this._currentGroupButtonsContainer||e&&this._currentGroupButtonsContainer&&this._currentGroupButtonsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((function(){t.scrollElementIntoView(e.nativeElement)})),this._currentGroupButtonsContainer=e},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this._overlaySettings.outlet=this.overlayOutlet,this.columnSelectOverlaySettings.outlet=this.overlayOutlet,this.conditionSelectOverlaySettings.outlet=this.overlayOutlet},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},Object.defineProperty(t.prototype,"displayDensity",{get:function(){return this.grid.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedColumn",{get:function(){return this._selectedColumn},set:function(e){var t=this._selectedColumn;this._selectedColumn!==e&&(this._selectedColumn=e,t&&this._selectedColumn&&this._selectedColumn.dataType!==t.dataType&&(this.selectedCondition=null,this.searchValue=null,this.cdr.detectChanges()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},set:function(e){var t=this;this._grid=e,this._filteringChange&&this._filteringChange.unsubscribe(),this._grid&&(this._grid.filteringService.registerSVGIcons(),this._filteringChange=this._grid.advancedFilteringExpressionsTreeChange.pipe(s.takeUntil(this.destroy$)).subscribe((function(){t.init()})),this.init())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterableColumns",{get:function(){return this.grid.columns.filter((function(e){return!e.columnGroup&&e.filterable}))},enumerable:!0,configurable:!0}),t.prototype.dragStart=function(e){this._overlayComponentId?this.contextMenuToggle.collapsed||(this.contextMenuToggle.element.style.display="none"):e.cancel=!0},t.prototype.dragEnd=function(e){this.contextMenuToggle.collapsed||(this.calculateContextMenuTarget(),this.contextMenuToggle.reposition(),this.contextMenuToggle.element.style.display="")},t.prototype.onDragMove=function(e){var t=e.nextPageX-e.pageX,i=e.nextPageY-e.pageY;e.cancel=!0,this._overlayService.setOffset(this._overlayComponentId,t,i)},t.prototype.addCondition=function(e,t){this.cancelOperandAdd();var i=new xd({fieldName:null,condition:null,ignoreCase:!0,searchVal:null},e);if(t){var n=e.children.indexOf(t);e.children.splice(n+1,0,i)}else e.children.push(i);this.enterExpressionEdit(i)},t.prototype.addAndGroup=function(t,i){this.addGroup(e.FilteringLogic.And,t,i)},t.prototype.addOrGroup=function(t,i){this.addGroup(e.FilteringLogic.Or,t,i)},t.prototype.endGroup=function(e){this.currentGroup=e.parent},t.prototype.commitOperandEdit=function(){this.editedExpression&&(this.editedExpression.expression.fieldName=this.selectedColumn.field,this.editedExpression.expression.condition=this.selectedColumn.filters.condition(this.selectedCondition),this.editedExpression.expression.searchVal=Fi.parseValue(this.selectedColumn.dataType,this.searchValue),this.editedExpression.columnHeader=this.selectedColumn.header,this.editedExpression.inEditMode=!1,this.editedExpression=null)},t.prototype.cancelOperandAdd=function(){this.addModeExpression&&(this.addModeExpression.inAddMode=!1,this.addModeExpression=null)},t.prototype.cancelOperandEdit=function(){this.editedExpression&&(this.editedExpression.inEditMode=!1,this.editedExpression.expression.fieldName||this.deleteItem(this.editedExpression),this.editedExpression=null)},t.prototype.operandCanBeCommitted=function(){return this.selectedColumn&&this.selectedCondition&&(!!this.searchValue||this.selectedColumn.filters.condition(this.selectedCondition).isUnary)},t.prototype.exitOperandEdit=function(){this.editedExpression&&(this.operandCanBeCommitted()?this.commitOperandEdit():this.cancelOperandEdit())},t.prototype.isExpressionGroup=function(e){return e instanceof bd},t.prototype.addGroup=function(e,t,i){this.cancelOperandAdd();var n=new bd(e,t);if(t)if(i){var o=t.children.indexOf(i);t.children.splice(o+1,0,n)}else t.children.push(n);else this.rootGroup=n;this.addCondition(n),this.currentGroup=n},t.prototype.createExpressionGroupItem=function(e,t){var i,n,o;if(e){o=new bd(e.operator,t);try{for(var r=v(e.filteringOperands),s=r.next();!s.done;s=r.next()){var a=s.value;if(a instanceof ki)o.children.push(this.createExpressionGroupItem(a,o));else{var l=a,c={fieldName:l.fieldName,condition:l.condition,searchVal:l.searchVal,ignoreCase:l.ignoreCase},p=new xd(c,o),d=this.grid.getColumnByName(l.fieldName);p.columnHeader=d.header,o.children.push(p)}}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}return o},t.prototype.createExpressionsTreeFromGroupItem=function(e){var t,i;if(!e)return null;var n=new ki(e.operator);try{for(var o=v(e.children),r=o.next();!r.done;r=o.next()){var s=r.value;if(s instanceof bd){var a=this.createExpressionsTreeFromGroupItem(s);n.filteringOperands.push(a)}else n.filteringOperands.push(s.expression)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return n},t.prototype.onChipRemove=function(e){this.deleteItem(e)},t.prototype.onChipClick=function(e){var t=this;this._clickTimer=setTimeout((function(){t._preventChipClick||t.onToggleExpression(e),t._preventChipClick=!1}),this._dblClickDelay)},t.prototype.onChipDblClick=function(e){clearTimeout(this._clickTimer),this._preventChipClick=!0,this.enterExpressionEdit(e)},t.prototype.enterExpressionEdit=function(e){this.clearSelection(),this.exitOperandEdit(),this.cancelOperandAdd(),this.editedExpression&&(this.editedExpression.inEditMode=!1),e.hovered=!1,this.selectedColumn=e.expression.fieldName?this.grid.getColumnByName(e.expression.fieldName):null,this.selectedCondition=e.expression.condition?e.expression.condition.name:null,this.searchValue=e.expression.searchVal,e.inEditMode=!0,this.editedExpression=e,this.cdr.detectChanges(),this.columnSelectOverlaySettings.positionStrategy=new jn({target:this.columnSelect.element}),this.conditionSelectOverlaySettings.positionStrategy=new jn({target:this.conditionSelect.element}),this.selectedColumn?this.selectedColumn.filters.condition(this.selectedCondition).isUnary?this.conditionSelect.input.nativeElement.focus():this.searchValueInput.nativeElement.focus():this.columnSelect.input.nativeElement.focus()},t.prototype.clearSelection=function(){var e,t,i,n;try{for(var o=v(this.selectedGroups),r=o.next();!r.done;r=o.next()){r.value.selected=!1}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.selectedGroups=[];try{for(var s=v(this.selectedExpressions),a=s.next();!a.done;a=s.next()){a.value.selected=!1}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}this.selectedExpressions=[],this.toggleContextMenu()},t.prototype.enterExpressionAdd=function(e){this.clearSelection(),this.exitOperandEdit(),this.addModeExpression&&(this.addModeExpression.inAddMode=!1),e.inAddMode=!0,this.addModeExpression=e,e.selected&&this.toggleExpression(e)},t.prototype.onToggleExpression=function(e){this.exitOperandEdit(),this.toggleExpression(e),this.toggleContextMenu()},t.prototype.toggleExpression=function(e){if(e.selected=!e.selected,e.selected)this.selectedExpressions.push(e);else{var t=this.selectedExpressions.indexOf(e);this.selectedExpressions.splice(t,1),this.deselectParentRecursive(e)}},t.prototype.contextMenuClosed=function(){this.contextualGroup=null},t.prototype.toggleContextMenu=function(){var t=this.findSingleSelectedGroup();t||this.selectedExpressions.length>1?(this.contextualGroup=t,t&&(this.filteringLogics=[{label:this.grid.resourceStrings.igx_grid_filter_operator_and,selected:t.operator===e.FilteringLogic.And},{label:this.grid.resourceStrings.igx_grid_filter_operator_or,selected:t.operator===e.FilteringLogic.Or}])):this.contextMenuToggle&&this.contextMenuToggle.close()},t.prototype.findSingleSelectedGroup=function(){var e,t,i=this,n=function(e){if(o.selectedExpressions.every((function(t){return i.isInsideGroup(t,e)})))return{value:e}},o=this;try{for(var r=v(this.selectedGroups),s=r.next();!s.done;s=r.next()){var a=n(s.value);if("object"==typeof a)return a.value}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},t.prototype.isInsideGroup=function(e,t){return!!e&&(e.parent===t||this.isInsideGroup(e.parent,t))},t.prototype.deleteItem=function(e){if(!e.parent)return this.rootGroup=null,void(this.currentGroup=null);e===this.currentGroup&&(this.currentGroup=this.currentGroup.parent);var t=e.parent.children,i=t.indexOf(e);t.splice(i,1),t.length||this.deleteItem(e.parent)},t.prototype.onKeyDown=function(e){e.stopPropagation(),this.contextMenuToggle.collapsed||"Escape"!==e.key&&"Esc"!==e.key||this.clearSelection()},t.prototype.createAndGroup=function(){this.createGroup(e.FilteringLogic.And)},t.prototype.createOrGroup=function(){this.createGroup(e.FilteringLogic.Or)},t.prototype.createGroup=function(e){var t,i,n=this.chips.toArray(),o=this.selectedExpressions.reduce((function(e,t){return Math.min(e,n.findIndex((function(e){return e.data===t})))}),Number.MAX_VALUE),r=n[o].data,s=r.parent,a=new bd(e,s),l=s.children.indexOf(r);s.children.splice(l,0,a);try{for(var c=v(this.selectedExpressions),p=c.next();!p.done;p=c.next()){var d=p.value;this.deleteItem(d),a.children.push(d),d.parent=a}}catch(e){t={error:e}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}this.clearSelection()},t.prototype.deleteFilters=function(){var e,t;try{for(var i=v(this.selectedExpressions),n=i.next();!n.done;n=i.next()){var o=n.value;this.deleteItem(o)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.clearSelection()},t.prototype.onGroupClick=function(e){this.toggleGroup(e)},t.prototype.toggleGroup=function(e){this.exitOperandEdit(),e.children&&e.children.length&&(this.toggleGroupRecursive(e,!e.selected),e.selected||this.deselectParentRecursive(e),this.toggleContextMenu())},t.prototype.toggleGroupRecursive=function(e,t){var i,n;if(e.selected!==t)if(e.selected=t,e.selected)this.selectedGroups.push(e);else{var o=this.selectedGroups.indexOf(e);this.selectedGroups.splice(o,1)}try{for(var r=v(e.children),s=r.next();!s.done;s=r.next()){var a=s.value;if(a instanceof bd)this.toggleGroupRecursive(a,t);else{var l=a;l.selected!==t&&this.toggleExpression(l)}}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},t.prototype.deselectParentRecursive=function(e){var t=e.parent;if(t){if(t.selected){t.selected=!1;var i=this.selectedGroups.indexOf(t);this.selectedGroups.splice(i,1)}this.deselectParentRecursive(t)}},t.prototype.calculateContextMenuTarget=function(){var e=this,t=this.expressionsContainer.nativeElement.getBoundingClientRect(),i=this.chips.filter((function(t){return-1!==e.selectedExpressions.indexOf(t.data)})),n=i.reduce((function(e,t){return Math.min(e,t.elementRef.nativeElement.getBoundingClientRect().top)}),Number.MAX_VALUE);n=Math.max(t.top,n),n=Math.min(t.bottom,n);var o=i.reduce((function(e,t){return Math.max(e,t.elementRef.nativeElement.getBoundingClientRect().right)}),0);o=Math.max(o,t.left),o=Math.min(o,t.right),this._overlaySettings.positionStrategy.settings.target=new Sn(o,n)},t.prototype.scrollElementIntoView=function(e){var t=this.expressionsContainer.nativeElement,i=e.offsetTop-t.offsetTop;t.scrollTop+10>i?t.scrollTop=i-10:t.scrollTop+t.clientHeight<i+e.offsetHeight+10&&(t.scrollTop=i+e.offsetHeight+10-t.clientHeight)},t.prototype.ungroup=function(){var e,t,i,n=this.contextualGroup,o=n.parent;if(o){var r=o.children.indexOf(n);(e=o.children).splice.apply(e,x([r,1],n.children));try{for(var s=v(n.children),a=s.next();!a.done;a=s.next()){a.value.parent=o}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}this.clearSelection()},t.prototype.deleteGroup=function(){var e=this.contextualGroup,t=e.parent;if(t){var i=t.children.indexOf(e);t.children.splice(i,1)}else this.rootGroup=null;this.clearSelection()},t.prototype.selectFilteringLogic=function(e){this.contextualGroup.operator=e.index},t.prototype.getConditionFriendlyName=function(e){return this.grid.resourceStrings["igx_grid_filter_"+e]||e},t.prototype.isDate=function(e){return e instanceof Date},t.prototype.onExpressionsScrolled=function(){this.contextMenuToggle.collapsed||(this.calculateContextMenuTarget(),this.contextMenuToggle.reposition())},t.prototype.invokeClick=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),e.currentTarget.click())},t.prototype.onOutletPointerDown=function(e){e.preventDefault()},t.prototype.getConditionList=function(){return this.selectedColumn?this.selectedColumn.filters.conditionList():[]},t.prototype.initialize=function(e,t,i){this.inline=!1,this.grid=e,this._overlayService=t,this._overlayComponentId=i},t.prototype.setAddButtonFocus=function(){this.addRootAndGroupButton?this.addRootAndGroupButton.nativeElement.focus():this.addConditionButton&&this.addConditionButton.nativeElement.focus()},t.prototype.init=function(){this.clearSelection(),this.cancelOperandAdd(),this.cancelOperandEdit(),this.rootGroup=this.createExpressionGroupItem(this.grid.advancedFilteringExpressionsTree),this.currentGroup=this.rootGroup},t.prototype.context=function(e,t){return{$implicit:e,afterExpression:t}},t.prototype.onClearButtonClick=function(){this.grid.advancedFilteringExpressionsTree=null},t.prototype.closeDialog=function(){this._overlayComponentId&&this._overlayService.hide(this._overlayComponentId)},t.prototype.applyChanges=function(){this.exitOperandEdit(),this.grid.advancedFilteringExpressionsTree=this.createExpressionsTreeFromGroupItem(this.rootGroup)},t.prototype.cancelChanges=function(){this._overlayComponentId||this.init(),this.closeDialog()},t.prototype.onApplyButtonClick=function(){this.applyChanges(),this.closeDialog()},t.prototype.onChipSelectionEnd=function(){var e=this.findSingleSelectedGroup();(e||this.selectedExpressions.length>1)&&(this.contextualGroup=e,this.calculateContextMenuTarget(),this.contextMenuToggle.collapsed?this.contextMenuToggle.open(this._overlaySettings):this.contextMenuToggle.reposition())},t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},m([i.ViewChild("columnSelect",{read:ac})],t.prototype,"columnSelect",void 0),m([i.ViewChild("conditionSelect",{read:ac})],t.prototype,"conditionSelect",void 0),m([i.ViewChild("searchValueInput",{read:i.ElementRef})],t.prototype,"searchValueInput",void 0),m([i.ViewChild("addRootAndGroupButton",{read:i.ElementRef})],t.prototype,"addRootAndGroupButton",void 0),m([i.ViewChild("addConditionButton",{read:i.ElementRef})],t.prototype,"addConditionButton",void 0),m([i.ViewChild("editingInputsContainer",{read:i.ElementRef})],t.prototype,"editingInputsContainer",null),m([i.ViewChild("addModeContainer",{read:i.ElementRef})],t.prototype,"addModeContainer",null),m([i.ViewChild("currentGroupButtonsContainer",{read:i.ElementRef})],t.prototype,"currentGroupButtonsContainer",null),m([i.ViewChild(Yn)],t.prototype,"contextMenuToggle",void 0),m([i.ViewChildren(Ya)],t.prototype,"chips",void 0),m([i.ViewChild("expressionsContainer")],t.prototype,"expressionsContainer",void 0),m([i.ViewChild("overlayOutlet",{read:qn,static:!0})],t.prototype,"overlayOutlet",void 0),m([i.HostBinding("style.display")],t.prototype,"display",void 0),m([i.Input()],t.prototype,"grid",null),t=m([i.Component({selector:"igx-advanced-filtering-dialog",template:'<article\n    *ngIf="grid"\n    class="igx-advanced-filter"\n    igxDrag\n    [ghost]="false"\n    [dragTolerance]="0"\n    (dragStart)="dragStart($event)"\n    (dragEnd)="dragEnd($event)"\n    (dragMove)="onDragMove($event)"\n    (keydown)="onKeyDown($event)"\n    [ngClass]="{\n        \'igx-advanced-filter--cosy\': grid.displayDensity === \'cosy\',\n        \'igx-advanced-filter--compact\': grid.displayDensity === \'compact\',\n        \'igx-advanced-filter--inline\': inline\n    }"\n>\n    <header class="igx-advanced-filter__header" igxDragHandle>\n        <h4 class="igx-typography__h6" style="pointer-events: none;">\n            {{ grid.resourceStrings.igx_grid_advanced_filter_title }}\n        </h4>\n        <div class="igx-filter-legend">\n            <div class="igx-filter-legend__item--and">\n                <span>{{ grid.resourceStrings.igx_grid_advanced_filter_and_label }}</span>\n            </div>\n            <div class="igx-filter-legend__item--or">\n                <span>{{ grid.resourceStrings.igx_grid_advanced_filter_or_label }}</span>\n            </div>\n        </div>\n    </header>\n\n    <article #expressionsContainer\n             class="igx-advanced-filter__main"\n             (scroll)="onExpressionsScrolled()">\n        <ng-container *ngIf="!rootGroup">\n\n            <button #addRootAndGroupButton\n                igxButton="outlined"\n                [displayDensity]="displayDensity"\n                (click)="addAndGroup()"\n            >\n                <igx-icon fontSet="material">add</igx-icon>\n                <span>{{grid.resourceStrings.igx_grid_advanced_filter_and_group}}</span>\n            </button>\n\n            <button igxButton="outlined" [displayDensity]="displayDensity" (click)="addOrGroup()">\n                <igx-icon fontSet="material">add</igx-icon>\n                <span>{{grid.resourceStrings.igx_grid_advanced_filter_or_group}}</span>\n            </button>\n\n            <div class="igx-filter-empty">\n                <h6 class="igx-filter-empty__title">\n                    {{grid.resourceStrings.igx_grid_advanced_filter_initial_text}}\n                </h6>\n            </div>\n        </ng-container>\n\n        <ng-template #addExpressionsTemplate let-expressionItem let-afterExpression="afterExpression">\n            <button #addConditionButton\n                    igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    [disabled]="editedExpression"\n                    (click)="addCondition(expressionItem, afterExpression)"\n            >\n                <igx-icon fontSet="material">add</igx-icon>\n                <span>{{grid.resourceStrings.igx_grid_advanced_filter_add_condition}}</span>\n            </button>\n\n            <button igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    [disabled]="editedExpression"\n                    (click)="addAndGroup(expressionItem, afterExpression)">\n                <igx-icon fontSet="material">add</igx-icon>\n                <span>{{grid.resourceStrings.igx_grid_advanced_filter_and_group}}</span>\n            </button>\n\n            <button igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    [disabled]="editedExpression"\n                    (click)="addOrGroup(expressionItem, afterExpression)">\n                <igx-icon fontSet="material">add</igx-icon>\n                <span>{{grid.resourceStrings.igx_grid_advanced_filter_or_group}}</span>\n            </button>\n\n        </ng-template>\n\n        <ng-template #filterOperandTemplate let-expressionItem>\n            <div *ngIf="!expressionItem.inEditMode"\n                class="igx-filter-tree__expression-item"\n                (mouseenter)="expressionItem.hovered = true"\n                (mouseleave)="expressionItem.hovered = false"\n                >\n                <igx-chip [data]="expressionItem"\n                          [displayDensity]="displayDensity === \'compact\' ? \'cosy\' : displayDensity"\n                          [removable]="true"\n                          [selected]="expressionItem.selected"\n                          (keydown)="invokeClick($event)"\n                          (click)="onChipClick(expressionItem)"\n                          (dblclick)="onChipDblClick(expressionItem)"\n                          (onRemove)="onChipRemove(expressionItem)"\n                          (onSelectionDone)="onChipSelectionEnd()"\n                    >\n                    <span igxPrefix class="igx-filter-tree__expression-column">{{ expressionItem.columnHeader || expressionItem.expression.fieldName }}</span>\n                    <igx-icon\n                        igxPrefix\n                        fontSet="filtering-icons"\n                        [name]="expressionItem.expression.condition.iconName"\n                    >\n                    </igx-icon>\n                    <span class="igx-filter-tree__expression-condition">\n                        {{ getConditionFriendlyName(expressionItem.expression.condition.name) }}\n                    </span>\n                    <span igxSuffix *ngIf="!expressionItem.expression.condition.isUnary">\n                        {{ isDate(expressionItem.expression.searchVal) ? (expressionItem.expression.searchVal | igxdate:grid.locale) : expressionItem.expression.searchVal }}\n                    </span>\n                </igx-chip>\n                <div class="igx-filter-tree__expression-actions"\n                *ngIf="(expressionItem.selected && selectedExpressions.length === 1) || expressionItem.hovered">\n                    <igx-icon\n                        tabindex="0"\n                        (keydown)="invokeClick($event)"\n                        (click)="enterExpressionEdit(expressionItem)">\n                        edit\n                    </igx-icon>\n                    <igx-icon\n                        tabindex="0"\n                        (keydown)="invokeClick($event)"\n                        (click)="enterExpressionAdd(expressionItem)"\n                        *ngIf="!expressionItem.inAddMode && (expressionItem.parent !== currentGroup || expressionItem !== currentGroup.children[currentGroup.children.length - 1])"\n                    >\n                        add\n                    </igx-icon>\n                </div>\n            </div>\n\n            <div *ngIf="expressionItem.inEditMode"\n                #editingInputsContainer\n                class="igx-filter-tree__inputs"\n            >\n                <igx-select #columnSelect\n                            type="box"\n                            [displayDensity]="\'compact\'"\n                            [overlaySettings]="columnSelectOverlaySettings"\n                            [placeholder]="grid.resourceStrings.igx_grid_advanced_filter_column_placeholder"\n                            [(ngModel)]="selectedColumn">\n                    <igx-select-item *ngFor="let column of filterableColumns" [value]="column">\n                        {{column.header || column.field}}\n                    </igx-select-item>\n                </igx-select>\n\n                <igx-select #conditionSelect\n                            type="box"\n                            [displayDensity]="\'compact\'"\n                            [overlaySettings]="conditionSelectOverlaySettings"\n                            [placeholder]="grid.resourceStrings.igx_grid_filter_condition_placeholder"\n                            [(ngModel)]="selectedCondition"\n                            [disabled]="!selectedColumn">\n                    <igx-icon *ngIf="selectedColumn && conditionSelect.value && selectedColumn.filters.condition(conditionSelect.value)"\n                              igxPrefix\n                              fontSet="filtering-icons"\n                              [name]="selectedColumn.filters.condition(conditionSelect.value).iconName">\n                    </igx-icon>\n                    <igx-select-item *ngFor="let condition of getConditionList()" [value]="condition">\n                        <igx-icon fontSet="filtering-icons"\n                                  [name]="selectedColumn.filters.condition(condition).iconName">\n                        </igx-icon>\n                        <span>{{getConditionFriendlyName(condition)}}</span>\n                    </igx-select-item>\n                </igx-select>\n\n                <igx-input-group *ngIf="!selectedColumn || selectedColumn.dataType !== \'date\'"\n                                 type="box"\n                                 [disabled]="!selectedColumn || !selectedCondition || (selectedColumn && selectedColumn.filters.condition(selectedCondition).isUnary)"\n                                 [displayDensity]="\'compact\'">\n                    <input #searchValueInput\n                           igxInput\n                           [type]="selectedColumn && selectedColumn.dataType === \'number\' ? \'number\' : \'text\'"\n                           [placeholder]="grid.resourceStrings.igx_grid_advanced_filter_value_placeholder"\n                           [(ngModel)]="searchValue"/>\n                </igx-input-group>\n\n                <igx-date-picker *ngIf="selectedColumn && selectedColumn.dataType === \'date\'"\n                                 mode="dropdown"\n                                 [(ngModel)]="searchValue"\n                                 [locale]="grid.locale"\n                                 [outlet]="grid.outletDirective">\n                    <ng-template igxDatePickerTemplate let-openDialog="openDialog" let-value="value">\n                        <igx-input-group #dropDownTarget type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true">\n                            <input #searchValueInput\n                                    igxInput\n                                    tabindex="0"\n                                    (keydown)="invokeClick($event)"\n                                    (click)="openDialog(dropDownTarget.element.nativeElement)"\n                                    [placeholder]="grid.resourceStrings.igx_grid_filter_row_date_placeholder"\n                                    autocomplete="off"\n                                    [value]="value | igxdate: grid.locale"\n                                    [readonly]="true"\n                                    [disabled]="!selectedColumn || !selectedCondition || (selectedColumn && selectedColumn.filters.condition(selectedCondition).isUnary)"/>\n                        </igx-input-group>\n                    </ng-template>\n                </igx-date-picker>\n\n                <div class="igx-filter-tree__inputs-actions">\n                    <button igxButton="icon"\n                            [displayDensity]="displayDensity"\n                            [disabled]="!operandCanBeCommitted()"\n                            (click)="commitOperandEdit()">\n                        <igx-icon fontSet="material">check</igx-icon>\n                    </button>\n                    <button igxButton="icon"\n                            [displayDensity]="displayDensity"\n                            (click)="cancelOperandEdit()">\n                        <igx-icon fontSet="material">close</igx-icon>\n                    </button>\n                </div>\n            </div>\n\n            <div *ngIf="expressionItem.inAddMode"\n                #addModeContainer\n                class="igx-filter-tree__buttons"\n            >\n                <ng-container *ngTemplateOutlet="addExpressionsTemplate; context: context(expressionItem.parent, expressionItem)"></ng-container>\n                <button igxButton="icon"\n                        [displayDensity]="displayDensity"\n                        (click)="cancelOperandAdd()">\n                    <igx-icon fontSet="material">close</igx-icon>\n                </button>\n            </div>\n\n        </ng-template>\n\n        <ng-template #expressionTreeTemplate let-expressionItem>\n            <div class="igx-filter-tree">\n                <div tabindex="0"\n                     class="igx-filter-tree__line"\n                     [ngClass]="{\n                         \'igx-filter-tree__line--and\': expressionItem.operator === 0,\n                         \'igx-filter-tree__line--or\': expressionItem.operator === 1,\n                         \'igx-filter-tree__line--selected\': expressionItem.selected\n                     }"\n                     (keydown)="invokeClick($event)"\n                     (click)="onGroupClick(expressionItem)"\n                ></div>\n\n                <div class="igx-filter-tree__expression">\n                    <ng-container *ngFor="let expr of expressionItem.children">\n                        <ng-container *ngTemplateOutlet="isExpressionGroup(expr) ? expressionTreeTemplate : filterOperandTemplate; context: context(expr)"></ng-container>\n                    </ng-container>\n                    <div *ngIf="currentGroup === expressionItem"\n                        #currentGroupButtonsContainer\n                        class="igx-filter-tree__buttons">\n                        <ng-container *ngTemplateOutlet="addExpressionsTemplate; context: context(expressionItem)"></ng-container>\n                        <button igxButton="outlined"\n                                *ngIf="expressionItem !== rootGroup"\n                                [displayDensity]="displayDensity"\n                                [disabled]="editedExpression || expressionItem.children.length < 2"\n                                (click)="endGroup(expressionItem)">\n                            <span>{{grid.resourceStrings.igx_grid_advanced_filter_end_group}}</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n        </ng-template>\n\n        <ng-container *ngIf="rootGroup">\n            <ng-container *ngTemplateOutlet="expressionTreeTemplate; context: context(rootGroup)"></ng-container>\n        </ng-container>\n\n        <div igxToggle\n            class="igx-filter-contextual-menu"\n            (keydown)="onKeyDown($event)"\n            (onClosed)="contextMenuClosed()"\n            [ngClass]="{\n                \'igx-filter-contextual-menu--cosy\': displayDensity === \'cosy\',\n                \'igx-filter-contextual-menu--compact\': displayDensity === \'compact\'\n            }"\n        >\n            <button igxButton="icon"\n                    class="igx-filter-contextual-menu__close-btn"\n                    (click)="clearSelection()"\n            >\n                <igx-icon>close</igx-icon>\n            </button>\n\n            <ng-container *ngIf="contextualGroup">\n                <igx-buttongroup [displayDensity]="displayDensity"\n                                 [multiSelection]="false"\n                                 [values]="filteringLogics"\n                                 type="outline"\n                                 (onSelect)="selectFilteringLogic($event)">\n                </igx-buttongroup>\n\n                <button\n                    igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    [disabled]="!contextualGroup.parent"\n                    (click)="ungroup()"\n                >\n                    <igx-icon fontSet="filtering-icons" name="ungroup"></igx-icon>\n                    <span>{{grid.resourceStrings.igx_grid_advanced_filter_ungroup}}</span>\n                </button>\n                <button\n                    igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    (click)="deleteGroup()"\n                    class="igx-filter-contextual-menu__delete-btn"\n                >\n                    <igx-icon>delete</igx-icon>\n                    <span>{{grid.resourceStrings.igx_grid_advanced_filter_delete}}</span>\n                </button>\n            </ng-container>\n            <ng-container *ngIf="!contextualGroup">\n                <button\n                    igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    (click)="createAndGroup()"\n                >\n                    {{grid.resourceStrings.igx_grid_advanced_filter_create_and_group}}\n                </button>\n                <button\n                    igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    (click)="createOrGroup()"\n                >\n                    {{grid.resourceStrings.igx_grid_advanced_filter_create_or_group}}\n                </button>\n                <button\n                    igxButton="outlined"\n                    [displayDensity]="displayDensity"\n                    (click)="deleteFilters()"\n                    class="igx-filter-contextual-menu__delete-btn"\n                >\n                    {{grid.resourceStrings.igx_grid_advanced_filter_delete_filters}}\n                </button>\n            </ng-container>\n        </div>\n    </article>\n\n    <footer class="igx-excel-filter__secondary-footer">\n        <button igxButton [displayDensity]="displayDensity" (click)="onClearButtonClick()">{{ grid.resourceStrings.igx_grid_excel_custom_dialog_clear }}</button>\n\n        <div>\n            <button igxButton [displayDensity]="displayDensity" (click)="cancelChanges()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n            <button igxButton="raised" [displayDensity]="displayDensity" (click)="onApplyButtonClick()">\n                {{ grid.resourceStrings.igx_grid_excel_apply }}\n            </button>\n        </div>\n    </footer>\n</article>\n<div #overlayOutlet\n     igxOverlayOutlet\n     class="igx-advanced-filter__outlet"\n     (pointerdown)="onOutletPointerDown($event)">\n</div>\n'})],t)}(),_d=function(){function e(e){this.templateRef=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxRowSelector]"})],e)}(),wd=function(){function e(e){this.templateRef=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxHeadSelector]"})],e)}(),Id=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxToolbarCustomContent]"})],e)}(),Sd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=new i.QueryList,t.searchable=!0,t.hiddenChange=new i.EventEmitter,t}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"collapsible",{get:function(){return this._collapsible&&this.checkCollapsibleState()},set:function(e){this._collapsible=e,this.collapsibleChange.emit(this._collapsible),this.children&&!this.hidden&&(this._collapsible?this.setExpandCollapseState():this.children.forEach((function(e){return e.hidden=!1})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(e){this._expanded=e,this.expandedChange.emit(this._expanded),this.collapsible&&!this.hidden&&this.children&&this.setExpandCollapseState()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summaries",{get:function(){return this._summaries},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyTemplate",{get:function(){return this._bodyTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapsibleIndicatorTemplate",{get:function(){return this._collapseIndicatorTemplate},set:function(e){this._collapseIndicatorTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inlineEditorTemplate",{get:function(){return this._inlineEditorTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.allChildren.every((function(e){return e.hidden}))},set:function(e){var t=this;this._hidden=e,this.hiddenChange.emit(this._hidden),this._hidden||!this.collapsible?this.children.forEach((function(e){return e.hidden=t._hidden})):this.children.forEach((function(e){void 0!==e.visibleWhenCollapsed?e.hidden=t.expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=!1}))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var e=this;this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.collapseIndicatorTemplate&&(this._collapseIndicatorTemplate=this.collapseIndicatorTemplate.template),this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((function(t){t.parent=e})),this.collapsible&&this.setExpandCollapseState()},Object.defineProperty(t.prototype,"allChildren",{get:function(){return gi(this.children.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroup",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e,t=!1;return e=""+this.children.reduce((function(e,i){return i.hidden?e:"string"==typeof i.width&&-1!==i.width.indexOf("%")?(t=!0,e+parseInt(i.width,10)):e+parseInt(i.calcWidth,10)}),0),t?e+"%":e+"px"},set:function(e){},enumerable:!0,configurable:!0}),m([i.ContentChildren(Wc,{read:Wc})],t.prototype,"children",void 0),m([i.Input()],t.prototype,"collapsible",null),m([i.Input()],t.prototype,"expanded",null),m([i.Input()],t.prototype,"summaries",null),m([i.Input()],t.prototype,"searchable",void 0),m([i.Input()],t.prototype,"filters",null),m([i.Input()],t.prototype,"collapsibleIndicatorTemplate",null),m([i.Input()],t.prototype,"hidden",null),m([i.Output()],t.prototype,"hiddenChange",void 0),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[{provide:Wc,useExisting:i.forwardRef((function(){return n}))}],selector:"igx-column-group",template:""})],t)}(Wc),Ed=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rowDragStarted=!1,t.transitionEndEvent=function(e){t.ghostElement&&t.ghostElement.removeEventListener("transitionend",t.transitionEndEvent,!1),t.endDragging()},t}return d(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.row},set:function(e){this.row=e},enumerable:!0,configurable:!0}),t.prototype.onPointerDown=function(t){t.preventDefault(),this._rowDragStarted=!1,this._removeOnDestroy=!1,e.prototype.onPointerDown.call(this,t)},t.prototype.onPointerMove=function(t){var i=this;if(e.prototype.onPointerMove.call(this,t),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;var n={dragDirective:this,dragData:this.row,cancel:!1,owner:this.row.grid};if(this.row.grid.onRowDragStart.emit(n),n.cancel)return this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dragStarted=!1,void(this._clicked=!1);this.row.dragging=!0,this.row.grid.rowDragging=!0,this.row.grid.markForCheck(),this.subscription$=r.fromEvent(this.row.grid.document.defaultView,"keydown").subscribe((function(e){"Escape"!==e.key&&"Esc"!==e.key||(i._lastDropArea=!1,i.onPointerUp(t))}))}},t.prototype.onPointerUp=function(t){var i=this;if(this._clicked){var n={dragDirective:this,dragData:this.row,animation:!1,owner:this.row.grid};this.zone.run((function(){i.row.grid.onRowDragEnd.emit(n)}));var o=this._lastDropArea;e.prototype.onPointerUp.call(this,t),!o&&this.ghostElement?this.ghostElement.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}},t.prototype.createGhost=function(t,i){if(this.row.grid.endEdit(!0),this.row.grid.markForCheck(),this.ghostContext={$implicit:this.row.rowData,data:this.row.rowData,grid:this.row.grid},e.prototype.createGhost.call(this,t,i,this.row.nativeElement),this.isHierarchicalGrid){var n=this.row;if(n.expander){var o=n.expander.nativeElement.getBoundingClientRect().width;this._ghostHostX+=o}}var r=this.ghostElement,s=this.row.grid.nativeElement.getBoundingClientRect(),a=this.row.nativeElement.getBoundingClientRect();r.style.overflow="hidden",r.style.width=s.width+"px",r.style.height=a.height+"px",this.renderer.addClass(r,"igx-grid__tr--ghost"),this.renderer.removeClass(r,"igx-grid__tr--selected");for(var l=r.getElementsByClassName("igx-grid__td"),c=0;c<l.length;c++)this.renderer.removeClass(l[c],"igx-grid__td--selected"),this.renderer.removeClass(l[c],"igx-grid__td--active")},t.prototype._unsubscribe=function(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()},t.prototype.endDragging=function(){this.onTransitionEnd(null),this.row.dragging=!1,this.row.grid.rowDragging=!1,this.row.grid.markForCheck(),this._unsubscribe()},Object.defineProperty(t.prototype,"isHierarchicalGrid",{get:function(){return"igx-hierarchical-grid"===this.row.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),m([i.Input("igxRowDrag")],t.prototype,"data",null),t=m([i.Directive({selector:"[igxRowDrag]"})],t)}(ar),Dd=function(){function e(){}return e=m([i.Directive({selector:"[igxDragIndicatorIcon]"})],e)}(),Od=function(){function e(e){this.templateRef=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxRowDragGhost]"})],e)}(),Td=function(){function e(){}return e=m([i.NgModule({declarations:[Ed,Dd,Od],entryComponents:[],exports:[Ed,Dd,Od],imports:[]})],e)}(),Pd=new i.InjectionToken("IgxGridTransaction"),Rd=function(t){function n(n,o,l,c,p,d,u,h,g,f,m,y,v,b,x,C,_){var w=t.call(this,_)||this;return w.selectionService=n,w.crudService=o,w.colResizingService=l,w.gridAPI=c,w._transactions=p,w.elementRef=d,w.zone=u,w.document=h,w.cdr=g,w.resolver=f,w.differs=m,w.viewRef=y,w.navigation=v,w.filteringService=b,w.overlayService=x,w.summaryService=C,w._displayDensityOptions=_,w._init=!0,w._cdrRequests=!1,w._cdrRequestRepaint=!1,w._resourceStrings=Ra.GridResStrings,w._emptyGridMessage=null,w._emptyFilteredGridMessage=null,w._isLoading=!1,w._locale=null,w._destroyed=!1,w.overlayIDs=[],w._advancedFilteringPositionSettings={verticalDirection:e.VerticalAlignment.Middle,horizontalDirection:e.HorizontalAlignment.Center,horizontalStartPoint:e.HorizontalAlignment.Center,verticalStartPoint:e.VerticalAlignment.Middle},w._advancedFilteringOverlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new Hn(w._advancedFilteringPositionSettings)},w.autoGenerate=!1,w.filteringExpressionsTreeChange=new i.EventEmitter,w.advancedFilteringExpressionsTreeChange=new i.EventEmitter,w.pageChange=new i.EventEmitter,w.perPageChange=new i.EventEmitter,w.rowDragging=!1,w.evenRowCSS="igx-grid__tr--even",w.oddRowCSS="igx-grid__tr--odd",w.columnHidingTitle="",w.columnPinningTitle="",w.onCellClick=new i.EventEmitter,w.onSelection=new i.EventEmitter,w.onRowSelectionChange=new i.EventEmitter,w.onColumnPinning=new i.EventEmitter,w.onCellEditCancel=new i.EventEmitter,w.onCellEditEnter=new i.EventEmitter,w.onCellEdit=new i.EventEmitter,w.onRowEditEnter=new i.EventEmitter,w.onRowEdit=new i.EventEmitter,w.onRowEditCancel=new i.EventEmitter,w.onColumnInit=new i.EventEmitter,w.onSortingDone=new i.EventEmitter,w.onFilteringDone=new i.EventEmitter,w.onPagingDone=new i.EventEmitter,w.onRowAdded=new i.EventEmitter,w.onRowDeleted=new i.EventEmitter,w.onDataPreLoad=new i.EventEmitter,w.onColumnResized=new i.EventEmitter,w.onContextMenu=new i.EventEmitter,w.onDoubleClick=new i.EventEmitter,w.onColumnVisibilityChanged=new i.EventEmitter,w.onColumnMovingStart=new i.EventEmitter,w.onColumnMoving=new i.EventEmitter,w.onColumnMovingEnd=new i.EventEmitter,w.onGridKeydown=new i.EventEmitter,w.onRowDragStart=new i.EventEmitter,w.onRowDragEnd=new i.EventEmitter,w.onGridCopy=new i.EventEmitter,w.expansionStatesChange=new i.EventEmitter,w.onRowToggle=new i.EventEmitter,w.columnList=new i.QueryList,w.tmpOutlets=new i.QueryList,w.rowExpandedIndicatorTemplate=null,w.rowCollapsedIndicatorTemplate=null,w.headerExpandIndicatorTemplate=null,w.headerCollapseIndicatorTemplate=null,w.tabindex=0,w.hostRole="grid",w.sortingExpressionsChange=new i.EventEmitter,w.columnsWithNoSetWidths=null,w._showToolbar=!1,w._exportExcel=!1,w._exportCsv=!1,w._toolbarTitle=null,w._exportText=null,w._exportExcelText=null,w._exportCsvText=null,w._rowEditable=!1,w._filteredSortedData=null,w.toolbar=null,w.toolbarHtml=null,w.clipboardOptions={enabled:!0,copyHeaders:!0,copyFormatters:!0,separator:"\t"},w.onToolbarExporting=new i.EventEmitter,w.onRangeSelection=new i.EventEmitter,w.calcHeight=0,w.chipsGoupingExpressions=[],w.disableTransitions=!1,w.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},w.columnWidthSetByUser=!1,w.destroy$=new r.Subject,w._perPage=15,w._page=0,w._paging=!1,w._hideRowSelectors=!1,w._rowDrag=!1,w._pipeTrigger=0,w._filteringPipeTrigger=0,w._summaryPipeTrigger=0,w._columns=[],w._pinnedColumns=[],w._unpinnedColumns=[],w._filteringExpressionsTree=new ki(e.FilteringLogic.And),w._sortingExpressions=[],w._maxLevelHeaderDepth=null,w._columnHiding=!1,w._columnPinning=!1,w._allowFiltering=!1,w._allowAdvancedFiltering=!1,w._filterMode=e.FilterMode.quickFilter,w.observer=new a((function(){})),w.resizeNotify=new r.Subject,w._hiddenColumnsText="",w._pinnedColumnsText="",w._height="100%",w._width="100%",w._horizontalForOfs=[],w._multiRowLayoutRowSize=1,w._expansionStates=new Map,w._defaultExpandState=!1,w._totalWidth=NaN,w._pinnedVisible=[],w._unpinnedVisible=[],w._pinnedWidth=NaN,w._unpinnedWidth=NaN,w._visibleColumns=[],w._columnGroups=!1,w._autoGeneratedCols=[],w._headerFeaturesWidth=NaN,w._defaultTargetRecordNumber=10,w._summaryPosition=e.GridSummaryPosition.bottom,w._summaryCalculationMode=e.GridSummaryCalculationMode.rootAndChildLevels,w._cellSelectionMode=e.GridSelectionMode.multiple,w._rowSelectionMode=e.GridSelectionMode.none,w.rowEditPositioningStrategy=new $c({horizontalDirection:e.HorizontalAlignment.Right,verticalDirection:e.VerticalAlignment.Bottom,horizontalStartPoint:e.HorizontalAlignment.Left,verticalStartPoint:e.VerticalAlignment.Bottom,closeAnimation:null}),w.rowEditSettings={scrollStrategy:new Gn,modal:!1,closeOnOutsideClick:!1,outlet:w.rowOutletDirective,positionStrategy:w.rowEditPositioningStrategy},w.verticalScrollHandler=function(e){w.verticalScrollContainer.onScroll(e),pi()&&w.wheelHandler(!1),w.disableTransitions=!0,w.zone.run((function(){w.zone.onStable.pipe(s.first()).subscribe((function(){w.verticalScrollContainer.onChunkLoad.emit(w.verticalScrollContainer.state)})),w.rowEditable&&w.changeRowEditingOverlayStateOnScroll(w.rowInEditMode)})),w.disableTransitions=!1,w.hideOverlays()},w.horizontalScrollHandler=function(e){var t=e.target.scrollLeft;pi()&&w.wheelHandler(!0),w.headerContainer.onHScroll(t),w._horizontalForOfs.forEach((function(e){return e.onHScroll(t)})),w.cdr.markForCheck(),w.zone.run((function(){w.zone.onStable.pipe(s.first()).subscribe((function(){w.parentVirtDir.onChunkLoad.emit(w.headerContainer.state)}))})),w.hideOverlays()},w.keydownHandler=function(e){var t=e.key.toLowerCase();(function(e){return-1!==["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "].indexOf(e)}(t)&&32!==e.keyCode||"tab"===t||"pagedown"===t||"pageup"===t)&&(e.preventDefault(),"pagedown"===t?(w.verticalScrollContainer.scrollNextPage(),w.nativeElement.focus()):"pageup"===t&&(w.verticalScrollContainer.scrollPrevPage(),w.nativeElement.focus()))},w.scrollHandler=function(e){w.headerContainer.scrollPosition+=e.target.scrollLeft,w.verticalScrollContainer.scrollPosition+=e.target.scrollTop,e.target.scrollLeft=0,e.target.scrollTop=0},w.wheelHandler=function(e){void 0===e&&(e=!1),w.document.activeElement&&(w.document.activeElement.compareDocumentPosition(w.tbody.nativeElement)&Node.DOCUMENT_POSITION_CONTAINS||w.document.activeElement.compareDocumentPosition(w.tfoot.nativeElement)&Node.DOCUMENT_POSITION_CONTAINS&&e)&&w.document.activeElement.blur()},w.rowEditingWheelHandler=function(e){e.deltaY>0?w.verticalScrollContainer.scrollNext():w.verticalScrollContainer.scrollPrev()},w.cdr.detach(),w}return d(n,t),Object.defineProperty(n.prototype,"scrollWidth",{get:function(){return this._scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filteringLogic",{get:function(){return this._filteringExpressionsTree.operator},set:function(e){this._filteringExpressionsTree.operator=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filteringExpressionsTree",{get:function(){return this._filteringExpressionsTree},set:function(t){if(t&&t instanceof ki){for(var i=t,n=0;n<i.filteringOperands.length;n++)if(!(i.filteringOperands[n]instanceof ki)){var o=new ki(e.FilteringLogic.And,i.filteringOperands[n].fieldName);o.filteringOperands.push(i.filteringOperands[n]),i.filteringOperands[n]=o}t.type=e.FilteringExpressionsTreeType.Regular,this._filteringExpressionsTree=t,this._filteringPipeTrigger++,this.filteringExpressionsTreeChange.emit(this._filteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&!this.advancedFilteringExpressionsTree&&(this.filteredData=null),this.filteringService.refreshExpressions(),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"advancedFilteringExpressionsTree",{get:function(){return this._advancedFilteringExpressionsTree},set:function(t){var i=this;t&&t instanceof ki?(t.type=e.FilteringExpressionsTreeType.Advanced,this._advancedFilteringExpressionsTree=t,this._filteringPipeTrigger++):this._advancedFilteringExpressionsTree=null,this.advancedFilteringExpressionsTreeChange.emit(this._advancedFilteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&!this.advancedFilteringExpressionsTree&&(this.filteredData=null),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges(),requestAnimationFrame((function(){return i.onFilteringDone.emit(i._advancedFilteringExpressionsTree)}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"locale",{get:function(){return this._locale?this._locale:"en"},set:function(e){this._locale=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paging",{get:function(){return this._paging},set:function(e){this._paging=e,this._pipeTrigger++,this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(e){e===this._page||e<0||e>this.totalPages-1||(this.selectionService.clear(!0),this.onPagingDone.emit({previous:this._page,current:e}),this._page=e,this.pageChange.emit(this._page),this.navigateTo(0),this.notifyChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"perPage",{get:function(){return this._perPage},set:function(e){e<0||(this.selectionService.clear(!0),this._perPage=e,this.perPageChange.emit(this._perPage),this.page=0,this.endEdit(!0),this.notifyChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnHiding",{get:function(){return this._columnHiding},set:function(e){this._columnHiding!==e&&(this._columnHiding=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSelectable",{get:function(){return this.isRowSelectable},set:function(t){this.rowSelection=t?e.GridSelectionMode.multiple:e.GridSelectionMode.none},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideRowSelectors",{get:function(){return this._hideRowSelectors},set:function(e){this._hideRowSelectors=e,this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowDraggable",{get:function(){return this._rowDrag&&this.hasVisibleColumns},set:function(e){this._rowDrag=e,this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowEditable",{get:function(){return this._rowEditable},set:function(e){this._init||this.refreshGridState(),this._rowEditable=e,this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.nativeElement.style.height=e,this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hostWidth",{get:function(){return this._width||this._hostWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.nativeElement.style.width=e,this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerWidth",{get:function(){return parseInt(this.width,10)-17},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowHeight",{get:function(){return this._rowHeight?this._rowHeight:this.defaultRowHeight},set:function(e){this._rowHeight=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(e){this._columnWidth=e,this.columnWidthSetByUser=!0,this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emptyGridMessage",{get:function(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message},set:function(e){this._emptyGridMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},set:function(e){var t=this;this._isLoading!==e&&(this._isLoading=e,this.evaluateLoadingState()),Promise.resolve().then((function(){t.notifyChanges()}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emptyFilteredGridMessage",{get:function(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message},set:function(e){this._emptyFilteredGridMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnPinning",{get:function(){return this._columnPinning},set:function(e){this._columnPinning!==e&&(this._columnPinning=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowFiltering",{get:function(){return this._allowFiltering},set:function(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.calcGridHeadRow(),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowAdvancedFiltering",{get:function(){return this._allowAdvancedFiltering},set:function(e){this._allowAdvancedFiltering!==e&&(this._allowAdvancedFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterMode",{get:function(){return this._filterMode},set:function(e){this._filterMode=e,this.filteringService.isFilterRowVisible&&this.filteringRow.close(),this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"summaryPosition",{get:function(){return this._summaryPosition},set:function(e){this._summaryPosition=e,this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"summaryCalculationMode",{get:function(){return this._summaryCalculationMode},set:function(e){this._summaryCalculationMode=e,this._init||(this.endEdit(!0),this.summaryService.resetSummaryHeight(),this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterStrategy",{get:function(){return this._filteringStrategy},set:function(e){this._filteringStrategy=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortStrategy",{get:function(){return this._sortingStrategy},set:function(e){this._sortingStrategy=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerGroupsList",{get:function(){return this.headerGroups?gi(this.headerGroups.toArray()):[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerCellList",{get:function(){return this.headerGroupsList.map((function(e){return e.headerCell})).filter((function(e){return e}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterCellList",{get:function(){return this.headerGroupsList.map((function(e){return e.filterCell})).filter((function(e){return e}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"summariesRowList",{get:function(){var e=new i.QueryList;if(!this._summaryRowList)return e;var t=this._summaryRowList.filter((function(e){return null!==e.element.nativeElement.parentElement}));return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowList",{get:function(){var e=new i.QueryList;if(!this._rowList)return e;var t=this._rowList.filter((function(e){return null!==e.element.nativeElement.parentElement})).sort((function(e,t){return e.index-t.index}));return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataRowList",{get:function(){var e=new i.QueryList;if(!this._dataRowList)return e;var t=this._dataRowList.filter((function(e){return null!==e.element.nativeElement.parentElement})).sort((function(e,t){return e.index-t.index}));return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"toolbarCustomContentTemplate",{get:function(){return this.toolbarCustomContentTemplates.first},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headSelectorTemplate",{get:function(){return this.headSelectorsTemplates&&this.headSelectorsTemplates.first?this.headSelectorsTemplates.first.templateRef:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSelectorTemplate",{get:function(){return this.rowSelectorsTemplates&&this.rowSelectorsTemplates.first?this.rowSelectorsTemplates.first.templateRef:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outletDirective",{get:function(){return this._outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowOutletDirective",{get:function(){return this.rowEditingOutletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentRowOutletDirective",{get:function(){return this.outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowEditContainer",{get:function(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dragIndicatorIconTemplate",{get:function(){return this._customDragIndicatorIconTemplate||this.dragIndicatorIconTemplates.first},set:function(e){this._customDragIndicatorIconTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowInEditMode",{get:function(){var e=this.crudService.row;return null!==e?this.rowList.find((function(t){return t.rowID===e.id})):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstEditableColumnIndex",{get:function(){var e=this.navigation.gridOrderedColumns.findIndex((function(e){return e.editable}));return-1!==e?e:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastEditableColumnIndex",{get:function(){var e=this.navigation.gridOrderedColumns,t=e.reverse().findIndex((function(e){return e.editable}));return-1!==t?e.length-1-t:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowEditTabs",{get:function(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hostClass",{get:function(){return this.getComponentDensityClass("igx-grid")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bannerClass",{get:function(){var e=this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom";return this.getComponentDensityClass("igx-banner")+" "+e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pipeTrigger",{get:function(){return this._pipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filteringPipeTrigger",{get:function(){return this._filteringPipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"summaryPipeTrigger",{get:function(){return this._summaryPipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortingExpressions",{get:function(){return this._sortingExpressions},set:function(e){this._sortingExpressions=ii(e),this.sortingExpressionsChange.emit(this._sortingExpressions),this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLevelHeaderDepth",{get:function(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this.columnList.reduce((function(e,t){return Math.max(e,t.rowStart)}),0):this.columnList.reduce((function(e,t){return Math.max(e,t.level)}),0)),this._maxLevelHeaderDepth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hiddenColumnsCount",{get:function(){return this.columnList.filter((function(e){return!1===e.columnGroup&&!0===e.hidden})).length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hiddenColumnsText",{get:function(){return this._hiddenColumnsText},set:function(e){this._hiddenColumnsText=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pinnedColumnsText",{get:function(){return this._pinnedColumnsText},set:function(e){this._pinnedColumnsText=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"transactions",{get:function(){return this._transactions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentRowState",{get:function(){return this._currentRowState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showToolbar",{get:function(){return this._showToolbar},set:function(e){this._showToolbar!==e&&(this._showToolbar=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"toolbarTitle",{get:function(){return this._toolbarTitle},set:function(e){this._toolbarTitle!==e&&(this._toolbarTitle=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exportExcel",{get:function(){return this.getExportExcel()},set:function(e){this._exportExcel!==e&&(this._exportExcel=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exportCsv",{get:function(){return this.getExportCsv()},set:function(e){this._exportCsv!==e&&(this._exportCsv=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exportText",{get:function(){return this._exportText},set:function(e){this._exportText!==e&&(this._exportText=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exportExcelText",{get:function(){return this._exportExcelText},set:function(e){this._exportExcelText!==e&&(this._exportExcelText=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exportCsvText",{get:function(){return this._exportCsvText},set:function(e){this._exportCsvText!==e&&(this._exportCsvText=e,this._init||this.notifyChanges(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellSelection",{get:function(){return this._cellSelectionMode},set:function(e){this._cellSelectionMode=e,this.gridAPI.grid&&(this.selectionService.clear(!0),this.notifyChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSelection",{get:function(){return this._rowSelectionMode},set:function(e){this._rowSelectionMode=e,this.gridAPI.grid&&this.columnList&&(this.selectionService.clearAllSelectedRows(),this.notifyChanges(!0))},enumerable:!0,configurable:!0}),n.prototype.isDetailRecord=function(e){return!1},n.prototype.isGroupByRecord=function(e){return!1},Object.defineProperty(n.prototype,"hasDetails",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"virtualizationState",{get:function(){return this.verticalScrollContainer.state},set:function(e){this.verticalScrollContainer.state=e},enumerable:!0,configurable:!0}),n.prototype.hideOverlays=function(){var e=this;this.overlayIDs.forEach((function(t){e.overlayService.hide(t),e.overlayService.onClosed.pipe(s.filter((function(e){return e.id===t})),s.takeUntil(e.destroy$)).subscribe((function(){e.nativeElement.focus()}))}))},n.prototype._setupServices=function(){this.gridAPI.grid=this,this.crudService.grid=this,this.selectionService.grid=this,this.navigation.grid=this,this.filteringService.grid=this,this.summaryService.grid=this},n.prototype._setupListeners=function(){var e=this,t=s.takeUntil(this.destroy$);this.onRowAdded.pipe(t).subscribe((function(t){return e.refreshGridState(t)})),this.onRowDeleted.pipe(t).subscribe((function(t){e.summaryService.deleteOperation=!0,e.summaryService.clearSummaryCache(t)})),this.transactions.onStateUpdate.pipe(t).subscribe((function(){e.selectionService.clearHeaderCBState(),e.summaryService.clearSummaryCache(),e._pipeTrigger++,e.notifyChanges(),0===e.transactions.getAggregatedChanges(!1).length&&e.gridAPI.atInexistingPage()&&e.page--})),this.resizeNotify.pipe(t,s.filter((function(){return!e._init})),s.throttleTime(100)).subscribe((function(){e.zone.run((function(){e.notifyChanges(!0)}))})),this.onPagingDone.pipe(t).subscribe((function(){e.endEdit(!0),e.selectionService.clear(!0)})),this.onColumnMoving.pipe(t).subscribe((function(){return e.endEdit(!0)})),this.onColumnResized.pipe(t).subscribe((function(){return e.endEdit(!0)})),this.overlayService.onOpening.pipe(t).subscribe((function(t){if(e._advancedFilteringOverlayId===t.id){var i=t.componentRef.instance;i&&i.initialize(e,e.overlayService,t.id)}})),this.overlayService.onOpened.pipe(t).subscribe((function(t){if(e._advancedFilteringOverlayId!==t.id)e.overlayService.getOverlayById(t.id).settings.outlet===e.outletDirective&&e.overlayIDs.indexOf(t.id)<0&&e.overlayIDs.push(t.id);else{var i=t.componentRef.instance;i&&i.setAddButtonFocus()}})),this.overlayService.onClosed.pipe(t,s.filter((function(){return!e._init}))).subscribe((function(t){if(e._advancedFilteringOverlayId!==t.id){var i=e.overlayIDs.indexOf(t.id);-1!==i&&e.overlayIDs.splice(i,1)}else e._advancedFilteringOverlayId=null})),this.verticalScrollContainer.onDataChanging.pipe(t,s.filter((function(){return!e._init}))).subscribe((function(t){e.isPercentHeight&&(!e.calcHeight||e.calcHeight===e.getDataBasedBodyHeight()||e.calcHeight===e.renderedRowHeight*e._defaultTargetRecordNumber)&&(e.calculateGridHeight(),t.containerSize=e.calcHeight),e.evaluateLoadingState()})),this.verticalScrollContainer.onScrollbarVisibilityChanged.pipe(t,s.filter((function(){return!e._init}))).subscribe((function(){e.notifyChanges(!0)})),this.verticalScrollContainer.onContentSizeChange.pipe(t,s.filter((function(){return!e._init}))).subscribe((function(t){e.calculateGridSizes(!1)})),this.onDensityChanged.pipe(t).subscribe((function(){e._headerFeaturesWidth=NaN,e.summaryService.summaryHeight=0,e.endEdit(!0),e.cdr.markForCheck()}))},n.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this._setupServices(),this._setupListeners(),this.columnListDiffer=this.differs.find([]).create(null),this.calcWidth=this.width&&-1===this.width.indexOf("%")?parseInt(this.width,10):0,this.shouldGenerate=this.autoGenerate,this._scrollWidth=this.getScrollWidth()},n.prototype.setupColumns=function(){var e=this;this.autoGenerate&&this.autogenerateColumns(),this.initColumns(this.columnList,(function(t){return e.onColumnInit.emit(t)})),this.columnListDiffer.diff(this.columnList),this.columnList.changes.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.onColumnsChanged(t)}))},n.prototype.resetColumnsCaches=function(){this.columnList.forEach((function(e){return e.resetCaches()}))},n.prototype.resetForOfCache=function(){var e=this.dataRowList.first;e&&(this._cdrRequests&&e.virtDirRow.cdr.detectChanges(),e.virtDirRow.assumeMaster())},n.prototype.resetColumnCollections=function(){this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0},n.prototype.resetCachedWidths=function(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN},n.prototype.resetCaches=function(e){void 0===e&&(e=!0),e&&(this._headerFeaturesWidth=NaN),this.resetForOfCache(),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetCachedWidths(),this.hasVisibleColumns=void 0,this._columnGroups=this.columnList.some((function(e){return e.columnGroup}))},n.prototype.ngAfterContentInit=function(){this.setupColumns()},n.prototype._setupRowObservers=function(){var e=this,t=function(t){return e.isDefined(t.nativeElement.parentElement)},i=r.pipe(s.map((function(e){return e.filter(t).map((function(e){return e.virtDirRow}))}))),n=i(this._dataRowList.changes),o=i(this._summaryRowList.changes),a=function(){e._horizontalForOfs=x(e._dataRowList.filter(t).map((function(e){return e.virtDirRow})),e._summaryRowList.filter(t).map((function(e){return e.virtDirRow})))};n.pipe(s.takeUntil(this.destroy$)).subscribe(a),o.pipe(s.takeUntil(this.destroy$)).subscribe(a),a()},n.prototype._zoneBegoneListeners=function(){var e=this;this.zone.runOutsideAngular((function(){e.nativeElement.addEventListener("keydown",e.keydownHandler),e.verticalScrollContainer.getScroll().addEventListener("scroll",e.verticalScrollHandler),e.headerContainer.getScroll().addEventListener("scroll",e.horizontalScrollHandler),e.observer=new a((function(){return e.resizeNotify.next()})),e.observer.observe(e.nativeElement)}))},n.prototype.ngAfterViewInit=function(){var e=this;this.initPinning(),this.calculateGridSizes(),this._init=!1,this.cdr.reattach(),this._setupRowObservers(),this._zoneBegoneListeners();var t=this.verticalScrollContainer.displayContainer;t.addEventListener("scroll",this.scrollHandler),t.addEventListener("wheel",(function(){return e.wheelHandler()}))},n.prototype.notifyChanges=function(e){void 0===e&&(e=!1),this._cdrRequests=!0,this._cdrRequestRepaint=e,this.cdr.markForCheck()},n.prototype.resetNotifyChanges=function(){this._cdrRequestRepaint=!1,this._cdrRequests=!1},n.prototype.ngDoCheck=function(){if(t.prototype.ngDoCheck.call(this),!this._init)return this._cdrRequestRepaint?(this.resetNotifyChanges(),this.calculateGridSizes(),void this.refreshSearch(!0)):void(this._cdrRequests&&(this.resetNotifyChanges(),this.cdr.detectChanges()))},n.prototype.getDragGhostCustomTemplate=function(){return this.dragGhostCustomTemplates&&this.dragGhostCustomTemplates.first?this.dragGhostCustomTemplates.first:null},n.prototype.ngOnDestroy=function(){var e=this;this.tmpOutlets.forEach((function(e){e.cleanCache()})),this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this._advancedFilteringOverlayId&&this.overlayService.hide(this._advancedFilteringOverlayId),this.zone.runOutsideAngular((function(){e.observer.disconnect(),e.nativeElement.removeEventListener("keydown",e.keydownHandler),e.verticalScrollContainer.getScroll().removeEventListener("scroll",e.verticalScrollHandler),e.headerContainer.getScroll().removeEventListener("scroll",e.horizontalScrollHandler);var t=e.verticalScrollContainer.displayContainer;t.removeEventListener("scroll",e.scrollHandler),t.removeEventListener("wheel",(function(){return e.wheelHandler()}))}))},n.prototype.dataLoading=function(e){this.onDataPreLoad.emit(e)},n.prototype.toggleColumnVisibility=function(e){var t=e.column?this.columnList.find((function(t){return t===e.column})):void 0;t&&(t.hidden=e.newValue,this.onColumnVisibilityChanged.emit(e))},Object.defineProperty(n.prototype,"expansionStates",{get:function(){return this._expansionStates},set:function(e){this._expansionStates=new Map(e),this.expansionStatesChange.emit(this._expansionStates),this.gridAPI.grid&&this.cdr.detectChanges()},enumerable:!0,configurable:!0}),n.prototype.expandAll=function(){this._defaultExpandState=!0,this.expansionStates=new Map},n.prototype.collapseAll=function(){this._defaultExpandState=!1,this.expansionStates=new Map},n.prototype.expandRow=function(e){this.gridAPI.set_row_expansion_state(e,!0)},n.prototype.collapseRow=function(e){this.gridAPI.set_row_expansion_state(e,!1)},n.prototype.toggleRow=function(e){var t=this.gridAPI.get_rec_by_id(e),i=this.gridAPI.get_row_expansion_state(t);this.gridAPI.set_row_expansion_state(e,!i)},n.prototype.getDefaultExpandState=function(e){return this._defaultExpandState},Object.defineProperty(n.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outlet",{get:function(){return this.outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultRowHeight",{get:function(){switch(this.displayDensity){case e.DisplayDensity.cosy:return 40;case e.DisplayDensity.compact:return 32;default:return 50}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultSummaryHeight",{get:function(){switch(this.displayDensity){case e.DisplayDensity.cosy:return 30;case e.DisplayDensity.compact:return 24;default:return 36}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"defaultHeaderGroupMinWidth",{get:function(){switch(this.displayDensity){case e.DisplayDensity.cosy:return 32;case e.DisplayDensity.compact:return 24;default:return 48}},enumerable:!0,configurable:!0}),n.prototype.paginatorClassName=function(){switch(this.displayDensity){case e.DisplayDensity.cosy:return"igx-paginator--cosy";case e.DisplayDensity.compact:return"igx-paginator--compact";default:return"igx-paginator"}},Object.defineProperty(n.prototype,"pinnedWidth",{get:function(){return isNaN(this._pinnedWidth)?(this._pinnedWidth=this.getPinnedWidth(),this._pinnedWidth):this._pinnedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unpinnedWidth",{get:function(){return isNaN(this._unpinnedWidth)?(this._unpinnedWidth=this.getUnpinnedWidth(),this._unpinnedWidth):this._unpinnedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isHorizontalScrollHidden",{get:function(){var e=this.unpinnedWidth-this.totalWidth;return null===this.width||e>=0},enumerable:!0,configurable:!0}),n.prototype.featureColumnsWidth=function(e){if(Number.isNaN(this._headerFeaturesWidth)){var t=this.headerSelectorContainer?this.headerSelectorContainer.nativeElement.getBoundingClientRect().width:0,i=this.rowDraggable&&this.headerDragContainer?this.headerDragContainer.nativeElement.getBoundingClientRect().width:0,n=this.headerGroupContainer?this.headerGroupContainer.nativeElement.getBoundingClientRect().width:0,o=e?e.nativeElement.getBoundingClientRect().width:0;this._headerFeaturesWidth=t+i+n+o}return this._headerFeaturesWidth},Object.defineProperty(n.prototype,"summariesMargin",{get:function(){return this.featureColumnsWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pinnedColumns",{get:function(){return this._pinnedVisible.length?this._pinnedVisible:(this._pinnedVisible=this._pinnedColumns.filter((function(e){return!e.hidden})),this._pinnedVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"unpinnedColumns",{get:function(){return this._unpinnedVisible.length?this._unpinnedVisible:(this._unpinnedVisible=this._unpinnedColumns.filter((function(e){return!e.hidden})),this._unpinnedVisible)},enumerable:!0,configurable:!0}),n.prototype.getHeaderGroupWidth=function(e){if(this.hasColumnLayouts)return"";var t=e.width,i=this.defaultHeaderGroupMinWidth;return!(t&&"string"==typeof t&&-1!==t.indexOf("%"))&&parseInt(t,10)<i?i+"px":t},n.prototype.getColumnByName=function(e){return this.columnList.find((function(t){return t.field===e}))},n.prototype.getRowByIndex=function(e){return this.gridAPI.get_row_by_index(e)},n.prototype.getRowByKey=function(e){return this.gridAPI.get_row_by_key(e)},Object.defineProperty(n.prototype,"visibleColumns",{get:function(){return this._visibleColumns.length?this._visibleColumns:(this._visibleColumns=this.columnList.filter((function(e){return!e.hidden})),this._visibleColumns)},enumerable:!0,configurable:!0}),n.prototype.getCellByColumn=function(e,t){var i=this.columnList.map((function(e){return e.field})).indexOf(t);if(-1!==i)return this.gridAPI.get_cell_by_index(e,i)},n.prototype.getCellByKey=function(e,t){return this.gridAPI.get_cell_by_key(e,t)},Object.defineProperty(n.prototype,"totalPages",{get:function(){return this.pagingState?this.pagingState.metadata.countPages:-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFirstPage",{get:function(){return 0===this.page},enumerable:!0,configurable:!0}),n.prototype.nextPage=function(){this.isLastPage||(this.page+=1)},n.prototype.previousPage=function(){this.isFirstPage||(this.page-=1)},Object.defineProperty(n.prototype,"totalRecords",{get:function(){if(this.pagingState)return this.pagingState.metadata.countRecords},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLastPage",{get:function(){return this.page+1>=this.totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalWidth",{get:function(){if(!isNaN(this._totalWidth))return this._totalWidth;for(var e=this.visibleColumns.filter((function(e){return 0===e.level&&!e.pinned})),t=0,i=0;i<e.length;i++)t+=parseInt(e[i].calcWidth,10)||0;return this._totalWidth=t,t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showRowSelectors",{get:function(){return this.isRowSelectable&&this.hasVisibleColumns&&!this.hideRowSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDragIcons",{get:function(){return this.rowDraggable&&this.columns.length>this.hiddenColumnsCount},enumerable:!0,configurable:!0}),n.prototype._moveColumns=function(e,t,i){var n=this.columnList.toArray(),o=n.indexOf(e),r=n.indexOf(t);i===nd.BeforeDropTarget&&--r<0&&(r=0),i===nd.AfterDropTarget&&r++,n.splice.apply(n,x([r,0],n.splice(o,1)));var s=this._resetColumnList(n);this.columnList.reset(s),this.columnList.notifyOnChanges(),this._columns=this.columnList.toArray()},n.prototype._resetColumnList=function(e){e||(e=this.columnList.toArray());var t=[];return e.filter((function(e){return 0===e.level})).forEach((function(e){t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))})),t},n.prototype._reorderColumns=function(e,t,i,n){var o=n.indexOf(t);t.columnGroup&&(o+=t.allChildren.length),i===nd.BeforeDropTarget&&o--,i===nd.AfterDropTarget&&o++,n.splice.apply(n,x([o,0],n.splice(n.indexOf(e),1)))},n.prototype._moveChildColumns=function(e,t,i,n){var o=e.children.toArray(),r=o.indexOf(t),s=o.indexOf(i);n===nd.BeforeDropTarget&&s--,n===nd.AfterDropTarget&&s++,o.splice.apply(o,x([s,0],o.splice(r,1))),e.children.reset(o)},n.prototype.moveColumn=function(e,t,i){void 0===i&&(i=nd.None);var n=i,o=e.visibleIndex,r=t.visibleIndex;if(n=i===nd.BeforeDropTarget&&o<r?nd.BeforeDropTarget:i===nd.AfterDropTarget&&o>r?nd.AfterDropTarget:nd.None,e.level===t.level&&e.topLevelParent===t.topLevelParent){if(this.endEdit(!0),e.level&&this._moveChildColumns(e.parent,e,t,n),t.pinned&&e.pinned&&this._reorderColumns(e,t,n,this._pinnedColumns),t.pinned&&!e.pinned&&(e.pin(),this._reorderColumns(e,t,n,this._pinnedColumns)),!t.pinned&&e.pinned){e.unpin();var s=[],a=(s=-1===this.pinnedColumns.indexOf(e)&&-1===this.pinnedColumns.indexOf(t)?this._unpinnedColumns:this._pinnedColumns).indexOf(e),l=s.indexOf(t);n=i===nd.BeforeDropTarget&&a<l?nd.BeforeDropTarget:i===nd.AfterDropTarget&&a>l?nd.AfterDropTarget:nd.None}t.pinned||this._reorderColumns(e,t,n,this._unpinnedColumns),this._moveColumns(e,t,n),this.notifyChanges(),this.hasColumnLayouts&&this.columns.filter((function(e){return e.columnLayout})).forEach((function(e){return e.populateVisibleIndexes()}));var c={source:e,target:t};this.onColumnMovingEnd.emit(c)}},n.prototype.paginate=function(e){e<0||e>this.totalPages-1||(this.page=e)},n.prototype.markForCheck=function(){this.cdr.detectChanges()},n.prototype.addRow=function(e){this.endEdit(!0),this.gridAPI.addRowToData(e),this.onRowAdded.emit({data:e}),this._pipeTrigger++,this.notifyChanges()},n.prototype.deleteRow=function(e){void 0!==this.primaryKey&&null!==this.primaryKey&&this.deleteRowById(e)},n.prototype.deleteRowById=function(e){this.gridAPI.deleteRowById(e)},n.prototype.deleteRowFromData=function(t,i){if(-1!==i)if(this.transactions.enabled){var n={id:t,type:e.TransactionType.DELETE,newValue:null};this.transactions.add(n,this.data[i])}else this.data.splice(i,1);else{var o=this.transactions.getState(t);this.transactions.add({id:t,type:e.TransactionType.DELETE,newValue:null},o&&o.recordRef)}},n.prototype.updateCell=function(e,t,i){if(this.isDefined(this.primaryKey)){var n=this.columnList.toArray().find((function(e){return e.field===i}));if(n){var o=this.gridAPI.getRowData(t),r=this.gridAPI.get_row_index_in_data(t);if(r<0)return;var s={rowID:t,columnID:n.index,rowIndex:r},a=new mc(s,r,n,o[n.field],o[n.field],o),l=this.gridAPI.update_cell(a,e);if(this.crudService.cell&&this.crudService.sameCell(a)){if(l.cancel)return;this.gridAPI.escape_editMode()}this.cdr.detectChanges()}}},n.prototype.updateRow=function(e,t){if(this.isDefined(this.primaryKey)){var i=this.crudService.cell;i&&i.id.rowID===t&&this.gridAPI.escape_editMode();var n=new fc(t,-1,this.gridAPI.getRowData(t));this.gridAPI.update_row(n,e),this.notifyChanges()}},n.prototype.sort=function(e){var t=this;this.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),requestAnimationFrame((function(){return t.onSortingDone.emit(e)}))},n.prototype.filter=function(e,t,i,n){this.filteringService.filter(e,t,i,n)},n.prototype.filterGlobal=function(e,t,i){this.filteringService.filterGlobal(e,t,i)},n.prototype.enableSummaries=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1])},n.prototype.disableSummaries=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)},n.prototype.clearFilter=function(e){this.filteringService.clearFilter(e)},n.prototype.clearSort=function(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]},n.prototype.refreshGridState=function(e){this.endEdit(!0),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(e)},n.prototype.pinColumn=function(e,t){return(e instanceof Wc?e:this.getColumnByName(e)).pin(t)},n.prototype.unpinColumn=function(e,t){return(e instanceof Wc?e:this.getColumnByName(e)).unpin(t)},n.prototype.reflow=function(){this.calculateGridSizes()},n.prototype.findNext=function(e,t,i){return this.find(e,1,t,i)},n.prototype.findPrev=function(e,t,i){return this.find(e,-1,t,i)},n.prototype.refreshSearch=function(e){var t=this;if(this.lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){var i=Nr.highlightGroupsMap.get(this.id);this.lastSearchInfo.matchInfoCache.forEach((function(e,n){e.column===i.column&&e.row===i.row&&e.index===i.index&&(t.lastSearchInfo.activeMatchIndex=n)}))}return this.find(this.lastSearchInfo.searchText,0,this.lastSearchInfo.caseSensitive,this.lastSearchInfo.exactMatch,!1)}return 0},n.prototype.clearSearch=function(){this.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},this.rowList.forEach((function(e){e.cells&&e.cells.forEach((function(e){e.clearHighlight()}))}))},Object.defineProperty(n.prototype,"hasSortableColumns",{get:function(){return this.columnList.some((function(e){return e.sortable}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasEditableColumns",{get:function(){return this.columnList.some((function(e){return e.editable}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasFilterableColumns",{get:function(){return this.columnList.some((function(e){return e.filterable}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasSummarizedColumns",{get:function(){return this.summaryService.hasSummarizedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rootSummariesEnabled",{get:function(){return this.summaryCalculationMode!==e.GridSummaryCalculationMode.childLevelsOnly},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasVisibleColumns",{get:function(){return void 0===this._hasVisibleColumns?!!this.columnList&&this.columnList.some((function(e){return!e.hidden})):this._hasVisibleColumns},set:function(e){this._hasVisibleColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasMovableColumns",{get:function(){return this.columnList&&this.columnList.some((function(e){return e.movable}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasColumnGroups",{get:function(){return this._columnGroups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasColumnLayouts",{get:function(){return!!this.columnList.some((function(e){return e.columnLayout}))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedCells",{get:function(){return this.dataRowList?this.dataRowList.map((function(e){return e.cells.filter((function(e){return e.selected}))})).reduce((function(e,t){return e.concat(t)}),[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiRowLayoutRowSize",{get:function(){return this._multiRowLayoutRowSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowBasedHeight",{get:function(){return this.dataLength*this.rowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPercentWidth",{get:function(){return this.width&&-1!==this.width.indexOf("%")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPercentHeight",{get:function(){return this._height&&-1!==this._height.indexOf("%")},enumerable:!0,configurable:!0}),n.prototype._derivePossibleWidth=function(){var e=this;this.columnWidthSetByUser||(this._columnWidth=null!==this.width?this.getPossibleColumnWidth():"136px"),this.columnList.forEach((function(t){if(e.hasColumnLayouts&&parseInt(e._columnWidth,10)){var i=parseInt(e._columnWidth,10)*(t.colEnd?t.colEnd-t.colStart:1);t.defaultWidth=i+"px"}else t.defaultWidth=e._columnWidth,t.resetCaches()})),this.resetCachedWidths()},Object.defineProperty(n.prototype,"defaultTargetBodyHeight",{get:function(){var e=this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paging?Math.min(e,this.perPage):e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderedRowHeight",{get:function(){return this.rowHeight+1},enumerable:!0,configurable:!0}),n.prototype.calcGridHeadRow=function(){if(this.maxLevelHeaderDepth){this._baseFontSize=parseFloat(getComputedStyle(this.document.documentElement).getPropertyValue("font-size"));var t=(this.maxLevelHeaderDepth+1)*this.defaultRowHeight/this._baseFontSize;this._allowFiltering&&this._filterMode===e.FilterMode.quickFilter&&(t+=51/this._baseFontSize),this.theadRow.nativeElement.style.minHeight=t+"rem"}},n.prototype.calculateGridHeight=function(){this.calcGridHeadRow(),this.summariesHeight=0,this.hasSummarizedColumns&&this.rootSummariesEnabled&&(this.summariesHeight=this.summaryService.calcMaxSummaryHeight()),this.calcHeight=this._calculateGridBodyHeight()},n.prototype.getGroupAreaHeight=function(){return 0},n.prototype.getToolbarHeight=function(){var e=0;return this.showToolbar&&null!=this.toolbarHtml&&(e=this.toolbarHtml.nativeElement.firstElementChild?this.toolbarHtml.nativeElement.offsetHeight:0),e},n.prototype.getPagingHeight=function(){var e=0;return this.paging&&this.footer&&(e=this.footer.nativeElement.firstElementChild?this.footer.nativeElement.offsetHeight:0),e},n.prototype.getFilterCellHeight=function(){var e=0!==this.headerGroupsList.length?this.headerGroupsList[0].element.nativeElement:null,t=e?e.querySelector("igx-grid-filtering-cell"):null;return t?t.offsetHeight:0},n.prototype._calculateGridBodyHeight=function(){if(!this._height)return null;var t=!this.allowFiltering||this.allowFiltering&&this.filterMode!==e.FilterMode.quickFilter?this.theadRow.nativeElement.offsetHeight-this.getFilterCellHeight():this.theadRow.nativeElement.offsetHeight,i=this.summariesHeight||this.tfoot.nativeElement.offsetHeight-this.tfoot.nativeElement.clientHeight,n=this.getToolbarHeight()+t+i+this.getPagingHeight()+this.getGroupAreaHeight()+this.scr.nativeElement.clientHeight,o=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("height"),r=0;if(this.isPercentHeight){if(this._shouldAutoSize(n)||-1!==o.indexOf("%"))return(s=this.getDataBasedBodyHeight())>0?s:null;r=parseInt(o,10)}else r=parseInt(this._height,10);var s,a=Math.abs(r-n);return 0===a||isNaN(r)?(s=this.defaultTargetBodyHeight)>0?s:null:a},n.prototype.checkContainerSizeChange=function(){var e=this.nativeElement.parentElement.offsetHeight;this.nativeElement.style.display="none";var t=this.nativeElement.parentElement.offsetHeight;return this.nativeElement.style.display="",e!==t},n.prototype._shouldAutoSize=function(e){this.tbody.nativeElement.style.display="none";var t=!this.nativeElement.parentElement||0===this.nativeElement.parentElement.clientHeight||this.nativeElement.parentElement.clientHeight===e;return bc()||(t=this.checkContainerSizeChange()),this.tbody.nativeElement.style.display="",t},Object.defineProperty(n.prototype,"outerWidth",{get:function(){return this.hasVerticalSroll()?this.calcWidth+this.scrollWidth:this.calcWidth},enumerable:!0,configurable:!0}),n.prototype.getVisibleContentHeight=function(){var e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e},n.prototype.getPossibleColumnWidth=function(e){var t;void 0===e&&(e=null),t=null!==e?e:this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10),t-=this.featureColumnsWidth();var i=this.visibleColumns.filter((function(e){return!e.columnGroup})),n=[],o=this.visibleColumns.filter((function(e){return e.columnGroup})).map((function(e){return e.getInitialChildColumnSizes(e.children)})),r=o.reduce((function(e,t){return e+t.length}),0);o.forEach((function(e){return n=n.concat(e)}));var s=this.hasColumnLayouts?n.filter((function(e){return e.widthSetByUser})):i.filter((function(e){return e.widthSetByUser})),a=this.hasColumnLayouts?r-s.length:i.length-s.length,l=s.reduce((function(e,i){var n=i.width,o=parseInt(n,10);return e+(n&&"string"==typeof n&&-1!==n.indexOf("%")?o/100*t:o)}),0);return l||a?Math.floor(Number.isFinite(l)?Math.max((t-l)/a,136):Math.max(t/a,136))+"px":"0px"},n.prototype.calculateGridWidth=function(){var e,t=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width");!(e=this.isPercentWidth?-1===t.indexOf("%")?parseInt(t,10):null:parseInt(this.width,10))&&this.nativeElement&&(e=this.nativeElement.offsetWidth),null!==this.width&&e||(e=this.getColumnWidthSum()),this.hasVerticalSroll()&&null!==this.width&&(e-=this.scrollWidth),!Number.isFinite(e)&&null!==e||e===this.calcWidth||(this.calcWidth=e),this._derivePossibleWidth()},n.prototype.getColumnWidthSum=function(){var e=0;return(this.hasColumnLayouts?this.visibleColumns.filter((function(e){return e.columnLayout})):this.visibleColumns.filter((function(e){return!e.columnGroup}))).forEach((function(t){t.width&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&(t.width=t.calcWidth||"136px"),e+=parseInt(t.width||t.defaultWidth,10)||136})),e?(this.cdr.detectChanges(),e+=this.featureColumnsWidth()):null},n.prototype.hasVerticalSroll=function(){if(this._init)return!1;var e=!!this.verticalScrollContainer&&this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.dataView&&this.dataView.length>0&&e)},n.prototype.getDataBasedBodyHeight=function(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight},n.prototype.onColumnsChanged=function(e){var t=this,i=this.columnListDiffer.diff(e);if(this.autoGenerate&&0===this.columnList.length&&this._autoGeneratedCols.length>0)this.columnList.reset(this._autoGeneratedCols);else if(i){var n=!1,o=!1;this.initColumns(this.columnList),i.forEachAddedItem((function(e){t.onColumnInit.emit(e.item),n=!0})),i.forEachRemovedItem((function(e){e.item instanceof Sd||(t.gridAPI.clear_groupby(e.item.field),t.gridAPI.clear_filter(e.item.field),t.filteringService.isFilterRowVisible&&t.filteringService.filteredColumn&&t.filteringService.filteredColumn.field===e.item.field&&t.filteringRow.close(),t.gridAPI.clear_sort(e.item.field)),o=!0})),this.resetCaches(),(n||o)&&(this.summaryService.clearSummaryCache(),Promise.resolve().then((function(){t.notifyChanges(!0)})))}},n.prototype.calculateGridSizes=function(e){var t=this;void 0===e&&(e=!0),this.resetCaches(e),this.cdr.detectChanges();var i=this.hasVerticalSroll();this.calculateGridWidth(),this.resetCaches(e),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),i!==this.hasVerticalSroll()&&(this.calculateGridWidth(),this.cdr.detectChanges()),this.zone.isStable?this.zone.run((function(){t._applyWidthHostBinding(),t.cdr.detectChanges()})):this.zone.onStable.pipe(s.first()).subscribe((function(){t.zone.run((function(){t._applyWidthHostBinding()}))})),this.resetCaches(e)},n.prototype._applyWidthHostBinding=function(){var e=this._width;if(null===e){var t=this.calcWidth;this.hasVerticalSroll()&&(t+=this.scrollWidth),e=t+"px",this.resetCaches()}this._hostWidth=e,this.cdr.markForCheck()},n.prototype.getPinnedWidth=function(e){var t,i;void 0===e&&(e=!1);var n=e?this._pinnedColumns:this.pinnedColumns,o=0;try{for(var r=v(n),s=r.next();!s.done;s=r.next()){var a=s.value;0===a.level&&(o+=parseInt(a.calcWidth,10))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return o+=this.featureColumnsWidth()},n.prototype.getUnpinnedWidth=function(e){void 0===e&&(e=!1);var t=this.isPercentWidth?this.calcWidth:parseInt(this.width,10)||parseInt(this.hostWidth,10)||this.calcWidth;return this.hasVerticalSroll()&&!this.isPercentWidth&&(t-=this.scrollWidth),t-this.getPinnedWidth(e)},n.prototype._summaries=function(e,t,i){var n=this.gridAPI.get_column_by_name(e);n&&(n.hasSummary=t,i&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,n.summaries=i))},n.prototype._multipleSummaries=function(e,t){var i=this;e.forEach((function(e){i._summaries(e.fieldName,t,e.customSummary)}))},n.prototype._disableMultipleSummaries=function(e){var t=this;e.forEach((function(e){var i=e&&e.fieldName?e.fieldName:e;t._summaries(i,!1)}))},n.prototype.resolveDataTypes=function(t){return"number"==typeof t?e.DataType.Number:"boolean"==typeof t?e.DataType.Boolean:"object"==typeof t&&t instanceof Date?e.DataType.Date:e.DataType.String},n.prototype.getScrollWidth=function(){var e=document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",document.body.appendChild(e);var i=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),i},n.prototype.autogenerateColumns=function(){var e=this,t=this.gridAPI.get_data(),i=this.resolver.resolveComponentFactory(Wc),n=this.generateDataFields(t),o=[];n.forEach((function(n){var r=i.create(e.viewRef.injector);r.instance.field=n,r.instance.dataType=e.resolveDataTypes(t[0][n]),r.changeDetectorRef.detectChanges(),o.push(r.instance)})),this._autoGeneratedCols=o,this.columnList.reset(o),t&&t.length>0&&(this.shouldGenerate=!1)},n.prototype.generateDataFields=function(e){return Object.keys(e&&0!==e.length?e[0]:[])},n.prototype.onlyTopLevel=function(e){return e.filter((function(e){return 0===e.level}))},n.prototype.initColumns=function(e,t){var i=this;if(void 0===t&&(t=null),this._columnGroups=this.columnList.some((function(e){return e.columnGroup})),this.hasColumnLayouts&&this.columnList.forEach((function(e){if(e.columnLayout){var t=e.children?e.children.reduce((function(e,t){return Math.max(t.rowStart+t.gridRowSpan-1,e)}),1):1;i._multiRowLayoutRowSize=Math.max(t,i._multiRowLayoutRowSize)}})),this.hasColumnLayouts&&this.hasColumnGroups){var n=this.columnList.filter((function(e){return e.columnLayout||e.columnLayoutChild}));this.columnList.reset(n)}this._maxLevelHeaderDepth=null,this._columns=this.columnList.toArray(),e.forEach((function(e){e.defaultWidth=i.columnWidthSetByUser?i._columnWidth:e.defaultWidth?e.defaultWidth:"",t&&t(e)})),this.reinitPinStates(),this.hasColumnLayouts&&e.forEach((function(e){e.populateVisibleIndexes()}))},n.prototype.reinitPinStates=function(){var e=this;this._pinnedColumns=this.hasColumnGroups?this.columnList.filter((function(e){return e.pinned})):this.columnList.filter((function(e){return e.pinned})).sort((function(t,i){return e._pinnedColumns.indexOf(t)-e._pinnedColumns.indexOf(i)})),this._unpinnedColumns=this.hasColumnGroups?this.columnList.filter((function(e){return!e.pinned})):this.columnList.filter((function(e){return!e.pinned})).sort((function(t,i){return e._unpinnedColumns.indexOf(t)-e._unpinnedColumns.indexOf(i)}))},n.prototype.isColumnGrouped=function(e){return!1},n.prototype.onHeaderSelectorClick=function(e){this.isMultiRowSelectionEnabled&&(this.selectionService.areAllRowSelected()?this.selectionService.clearRowSelection(e):this.selectionService.selectAllRows(e))},Object.defineProperty(n.prototype,"headSelectorBaseAriaLabel",{get:function(){return this._filteringExpressionsTree.filteringOperands.length>0?this.selectionService.areAllRowSelected()?"Deselect all filtered":"Select all filtered":this.selectionService.areAllRowSelected()?"Deselect all":"Select all"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalRowsCountAfterFilter",{get:function(){return this.data?this.selectionService.allData.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataView",{get:function(){return this.verticalScrollContainer.igxForOf},enumerable:!0,configurable:!0}),n.prototype.selectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.selectRows=function(e,t){this.selectionService.selectRowsWithNoEvent(e,t),this.notifyChanges()},n.prototype.deselectRows=function(e){this.selectionService.deselectRowsWithNoEvent(e),this.notifyChanges()},n.prototype.selectAllRows=function(e){var t=this;void 0===e&&(e=!0);var i=e&&this.filteredData?this.filteredData:this.gridAPI.get_all_data(!0),n=this.selectionService.getRowIDs(i).filter((function(e){return!t.gridAPI.row_deleted_transaction(e)}));this.selectRows(n)},n.prototype.deselectAllRows=function(e){void 0===e&&(e=!0),e&&this.filteredData&&this.filteredData.length>0?this.deselectRows(this.selectionService.getRowIDs(this.filteredData)):(this.selectionService.clearAllSelectedRows(),this.notifyChanges())},n.prototype.clearCellSelection=function(){this.selectionService.clear(!0),this.notifyChanges()},n.prototype.dragScroll=function(e){var t=this.headerContainer.getScroll(),i=this.verticalScrollContainer.getScroll();switch(e){case Ip.LEFT:t.scrollLeft-=48;break;case Ip.RIGHT:t.scrollLeft+=48;break;case Ip.TOP:i.scrollTop-=48;break;case Ip.BOTTOM:i.scrollTop+=48;break;case Ip.BOTTOMLEFT:t.scrollLeft-=48,i.scrollTop+=48;break;case Ip.BOTTOMRIGHT:t.scrollLeft+=48,i.scrollTop+=48;break;case Ip.TOPLEFT:t.scrollLeft-=48,i.scrollTop-=48;break;case Ip.TOPRIGHT:t.scrollLeft+=48,i.scrollTop-=48;break;default:return}this.wheelHandler()},n.prototype.isDefined=function(e){return null!=e},n.prototype.selectRange=function(e){var t=this;this.isDefined(e)?(e instanceof Array?e.forEach((function(e){return t.setSelection(e)})):this.setSelection(e),this.notifyChanges()):this.clearCellSelection()},n.prototype.columnToVisibleIndex=function(e){var t=this.visibleColumns;return"number"==typeof e?e:t.find((function(t){return t.field===e})).visibleIndex},n.prototype.setSelection=function(e){var t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},i={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(i,this.selectionService.pointerState),this.selectionService.addRangeMeta(i,this.selectionService.pointerState),this.selectionService.initPointerState()},n.prototype.getSelectedRanges=function(){return this.selectionService.ranges},n.prototype.extractDataFromSelection=function(t,i,n){var o,r;void 0===i&&(i=!1),void 0===n&&(n=!1);var s={},a=[],l=this.selectionService.activeElement,c=Array.from(this.selectionService.selection).filter((function(e){return e[0]<t.length}));this.cellSelection===e.GridSelectionMode.single&&l&&c.push([l.row,(new Set).add(l.column)]);var p=function(e,o){var r,l;if(!t[e]||void 0!==t[e].detailsData)return"continue";var c=Array.from(o);try{for(var p=(r=void 0,v(c)),u=p.next();!u.done;u=p.next()){var h=u.value;d.getSelectableColumnsAt(h).forEach((function(o){if(o){var r=n&&o.header||o.field;s[r]=i&&o.formatter?o.formatter(t[e][o.field]):t[e][o.field]}}))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(l=p.return)&&l.call(p)}finally{if(r)throw r.error}}Object.keys(s).length&&a.push(s),s={}},d=this;try{for(var u=v(c),h=u.next();!h.done;h=u.next()){var g=b(h.value,2);p(g[0],g[1])}}catch(e){o={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}return a},n.prototype.getSelectableColumnsAt=function(e){if(this.hasColumnLayouts){var t=this.visibleColumns.filter((function(e){return e.columnLayout})).sort((function(e,t){return e.visibleIndex-t.visibleIndex}))[e];return t?t.children.toArray():[]}return[this.visibleColumns.filter((function(e){return!e.columnGroup})).sort((function(e,t){return e.visibleIndex-t.visibleIndex}))[e]]},n.prototype.getSelectedData=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=this.dataView;return this.extractDataFromSelection(i,e,t)},n.prototype.copyHandlerIE=function(){ci()&&this.copyHandler(null,!0)},n.prototype.copyHandler=function(e,t){if(void 0===t&&(t=!1),this.clipboardOptions.enabled&&!this.crudService.inEditMode){var i={data:this.getSelectedData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),cancel:!1};if(this.onGridCopy.emit(i),!i.cancel){var n=new zi(i.data,this.clipboardOptions.separator).prepareData();this.clipboardOptions.copyHeaders||(n=n.substring(n.indexOf("\n")+1)),t?window.clipboardData.setData("Text",n):(e.preventDefault(),e.stopPropagation(),e.clipboardData.setData("text/plain",n))}}},n.prototype.navigateTo=function(e,t,i){var n=this;if(void 0===t&&(t=-1),void 0===i&&(i=null),!(e<0||e>this.dataView.length-1||-1!==t&&-1===this.columnList.map((function(e){return e.visibleIndex})).indexOf(t))){this.wheelHandler(),this.dataView.slice(e,e+1).find((function(e){return e.expression||e.childGridsData}))&&(t=-1);var o=this.navigation.shouldPerformVerticalScroll(e,t),r=-1!==t&&!this.navigation.isColumnFullyVisible(t);o?this.navigation.performVerticalScrollToCell(e,t,(function(){n.navigateTo(e,t,i)})):r?this.navigation.performHorizontalScrollToCell(e,t,!1,(function(){n.navigateTo(e,t,i)})):this.executeCallback(e,t,i)}},n.prototype.getNextCell=function(e,t,i){void 0===i&&(i=null);var n=this.columnList.filter((function(e){return!e.columnGroup&&e.visibleIndex>=0}));if(!this.isValidPosition(e,t))return{rowIndex:e,visibleColumnIndex:t};var o=i?n.filter((function(e){return i(e)})).map((function(e){return e.visibleIndex})).sort((function(e,t){return e-t})):n.map((function(e){return e.visibleIndex})).sort((function(e,t){return e-t})),r=o.find((function(e){return e>t}));return this.dataView.slice(e,e+1).find((function(e){return!e.expression&&!e.summaries&&!e.childGridsData}))&&void 0!==r?{rowIndex:e,visibleColumnIndex:r}:0===o.length||this.getNextDataRowIndex(e)===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:this.getNextDataRowIndex(e),visibleColumnIndex:o[0]}},n.prototype.getPreviousCell=function(e,t,i){void 0===i&&(i=null);var n=this.columnList.filter((function(e){return!e.columnGroup&&e.visibleIndex>=0}));if(!this.isValidPosition(e,t))return{rowIndex:e,visibleColumnIndex:t};var o=i?n.filter((function(e){return i(e)})).map((function(e){return e.visibleIndex})).sort((function(e,t){return t-e})):n.map((function(e){return e.visibleIndex})).sort((function(e,t){return t-e})),r=o.find((function(e){return e<t}));return this.dataView.slice(e,e+1).find((function(e){return!e.expression&&!e.summaries&&!e.childGridsData}))&&void 0!==r?{rowIndex:e,visibleColumnIndex:r}:0===o.length||this.getPrevDataRowIndex(e)===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:this.getPrevDataRowIndex(e),visibleColumnIndex:o[0]}},n.prototype.executeCallback=function(t,i,n){if(void 0===i&&(i=-1),void 0===n&&(n=null),n){var o,r,s=this.summariesRowList.filter((function(e){return 0!==e.index})).concat(this.rowList.toArray()).find((function(e){return e.index===t}));if(s){switch(s.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":o=e.GridKeydownTargetType.groupRow,r=s;break;case"igx-grid-summary-row":o=e.GridKeydownTargetType.summaryCell,r=-1!==i?s.summaryCells.find((function(e){return e.visibleColumnIndex===i})):s.summaryCells.first;break;case"igx-child-grid-row":o=e.GridKeydownTargetType.hierarchicalRow,r=s;break;default:o=e.GridKeydownTargetType.dataCell,r=-1!==i?s.cells.find((function(e){return e.visibleColumnIndex===i})):s.cells.first}n({targetType:o,target:r})}}},n.prototype.getPrevDataRowIndex=function(e){if(e<=0)return e;var t=this.dataView.slice(0,e).reverse().find((function(e){return!e.expression&&!e.summaries&&!e.childGridsData}));return t?this.dataView.indexOf(t):e},n.prototype.getNextDataRowIndex=function(e){if(e===this.dataView.length)return e;var t=this.dataView.slice(e+1,this.dataView.length).find((function(e){return!e.expression&&!e.summaries&&!e.childGridsData}));return t?this.dataView.indexOf(t):e},n.prototype.isValidPosition=function(e,t){var i=this.summariesRowList.filter((function(e){return 0!==e.index})).concat(this.rowList.toArray()).length,n=this.columnList.filter((function(e){return!e.columnGroup&&e.visibleIndex>=0&&!e.hidden})).length;return!(i<1||n<1)&&(e>-1&&e<this.dataView.length&&t>-1&&t<n)},n.prototype.trackColumnChanges=function(e,t){return t.field+t._calcWidth},n.prototype.find=function(e,t,i,n,o){if(!this.rowList)return 0;if(this.endEdit(!1),!e)return this.clearSearch(),0;var r=!!i,s=!!n,a=!1;if(this.lastSearchInfo.searchText!==e||this.lastSearchInfo.caseSensitive!==r||this.lastSearchInfo.exactMatch!==s?(this.lastSearchInfo={searchText:e,activeMatchIndex:0,caseSensitive:r,exactMatch:s,matchInfoCache:[]},a=!0):this.lastSearchInfo.activeMatchIndex+=t,a&&(this.rowList.forEach((function(t){t.cells&&t.cells.forEach((function(t){t.highlightText(e,r,s)}))})),this.rebuildMatchCache()),this.lastSearchInfo.activeMatchIndex>=this.lastSearchInfo.matchInfoCache.length?this.lastSearchInfo.activeMatchIndex=0:this.lastSearchInfo.activeMatchIndex<0&&(this.lastSearchInfo.activeMatchIndex=this.lastSearchInfo.matchInfoCache.length-1),this.lastSearchInfo.matchInfoCache.length){var l=this.lastSearchInfo.matchInfoCache[this.lastSearchInfo.activeMatchIndex];this.lastSearchInfo=f({},this.lastSearchInfo),!1!==o&&this.scrollTo(l.row,l.column),Nr.setActiveHighlight(this.id,{column:l.column,row:l.row,index:l.index})}else Nr.clearActiveHighlight(this.id);return this.lastSearchInfo.matchInfoCache.length},Object.defineProperty(n.prototype,"filteredSortedData",{get:function(){return this._filteredSortedData},set:function(e){this._filteredSortedData=e,this.refreshSearch(!0)},enumerable:!0,configurable:!0}),n.prototype.initPinning=function(){var e=[],t=[];this.calculateGridWidth(),this.resetCaches(),this._pinnedColumns.forEach((function(e){e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach((function(e){return e.pinned=!0}))}));for(var i=0;i<this._columns.length;i++){if(this._columns[i].pinned&&!this._columns[i].parent)parseInt(this._columns[i].width,10),e.push(this._columns[i]);else this._columns[i].pinned&&this._columns[i].parent?this._columns[i].topLevelParent.pinned?e.push(this._columns[i]):(this._columns[i].pinned=!1,t.push(this._columns[i])):t.push(this._columns[i])}this._pinnedColumns=e,this._unpinnedColumns=t,this.notifyChanges()},n.prototype.scrollTo=function(e,t,i){var n=this;void 0===i&&(i=this.filteredSortedData);var o=!1;if(this.paging&&"number"!=typeof e){var r=i.indexOf(e),a=Math.floor(r/this.perPage);this.page!==a&&(o=!0,this.page=a)}o?this.verticalScrollContainer.onDataChanged.pipe(s.first()).subscribe((function(){n.scrollDirective(n.verticalScrollContainer,"number"==typeof e?e:n.dataView.indexOf(e))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.dataView.indexOf(e)),this.scrollToHorizontally(t)},n.prototype.scrollToHorizontally=function(e){var t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,i=this.rowList.find((function(e){return e.virtDirRow})),n=i?i.virtDirRow:null;this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(n,t)):this.scrollDirective(n,t)},n.prototype.scrollDirective=function(e,t){e&&e.scrollTo(t)},n.prototype.rebuildMatchCache=function(){var e=this;this.lastSearchInfo.matchInfoCache=[];var t=this.lastSearchInfo.caseSensitive,i=this.lastSearchInfo.exactMatch,n=t?this.lastSearchInfo.searchText:this.lastSearchInfo.searchText.toLowerCase(),o=this.filteredSortedData,r=this.visibleColumns.filter((function(e){return!e.columnGroup})).sort((function(e,t){return e.visibleIndex-t.visibleIndex})),s=new bp(this.locale),a=new vp(this.locale);o.forEach((function(o){r.forEach((function(r){var l=r.formatter?r.formatter(o[r.field]):"number"===r.dataType?s.transform(o[r.field],e.locale):"date"===r.dataType?a.transform(o[r.field],e.locale):o[r.field];if(null!=l&&r.searchable){var c=t?String(l):String(l).toLowerCase();if(i)c===n&&e.lastSearchInfo.matchInfoCache.push({row:o,column:r.field,index:0});else for(var p=0,d=c.indexOf(n);-1!==d;)e.lastSearchInfo.matchInfoCache.push({row:o,column:r.field,index:p++}),d=(c=c.substring(d+n.length)).indexOf(n)}}))}))},n.prototype.isExpandedGroup=function(e){},n.prototype.changeRowEditingOverlayStateOnScroll=function(e){this.rowEditable&&this.rowEditingOverlay&&!this.rowEditingOverlay.collapsed&&(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))},n.prototype.evaluateLoadingState=function(){if(this.shouldOverlayLoading){var e={outlet:this.loadingOutlet,closeOnOutsideClick:!1,positionStrategy:new Fn};this._loadingId||(this._loadingId=this.overlayService.attach(this.loadingOverlay,e),this.overlayService.show(this._loadingId,e))}else this._loadingId&&(this.overlayService.hide(this._loadingId),this._loadingId=null)},n.prototype.openRowOverlay=function(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditPositioningStrategy.isTopInitialPosition=this.rowEditPositioningStrategy.isTop,this.rowEditingOverlay.element.addEventListener("wheel",this.rowEditingWheelHandler)},n.prototype.closeRowEditingOverlay=function(){this.rowEditingOverlay.element.removeEventListener("wheel",this.rowEditingWheelHandler),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""},n.prototype.toggleRowEditingOverlay=function(e){var t=this.rowEditingOverlay.element.style;t.display=e?"block":"none"},n.prototype.repositionRowEditingOverlay=function(e){if(e&&!this.rowEditingOverlay.collapsed){var t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.rowID),this.rowEditingOverlay.reposition()):t.display="none"}},n.prototype.configureRowEditingOverlay=function(e,t){void 0===t&&(t=!1),this.rowEditSettings.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;var i=this.gridAPI.get_row_by_key(e);i&&(this.rowEditPositioningStrategy.settings.target=i.element.nativeElement,this.toggleRowEditingOverlay(!0))},Object.defineProperty(n.prototype,"rowChangesCount",{get:function(){if(!this.crudService.row)return 0;var e=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return e?Object.keys(e).length:0},enumerable:!0,configurable:!0}),n.prototype.writeToData=function(e,t){ni(this.gridAPI.get_all_data()[e],t)},n.prototype.endRowTransaction=function(e,t){t.newData=this.transactions.getAggregatedValue(t.id,!0);var i=t.createEditEventArgs();e?i=this.gridAPI.update_row(t,t.newData):(this.onRowEditCancel.emit(i),this.transactions.endPending(!1)),i.cancel?this.transactions.startPending():(this.crudService.endRowEdit(),this.closeRowEditingOverlay())},n.prototype.gridOutletKeyboardHandler=function(e){e.stopPropagation()},n.prototype.endEdit=function(t,i){void 0===t&&(t=!0);var n=this.crudService.row,o=this.crudService.cell;if((n||o)&&(t?this.gridAPI.submit_value():this.gridAPI.escape_editMode(),!(!this.rowEditable||this.rowEditingOverlay&&this.rowEditingOverlay.collapsed)&&n)){this.endRowTransaction(t,n);var r=this.selectionService.activeElement;if(i&&r){var s=r.row,a=r.layout?r.layout.columnVisibleIndex:r.column;this.navigateTo(s,a,(function(t){t.targetType===e.GridKeydownTargetType.dataCell&&t.target&&t.target.nativeElement.focus()}))}}},Object.defineProperty(n.prototype,"dataWithAddedInTransactionRows",{get:function(){var t=ii(this.gridAPI.get_all_data());return this.transactions.enabled&&t.push.apply(t,x(this.transactions.getAggregatedChanges(!0).filter((function(t){return t.type===e.TransactionType.ADD})).map((function(e){return e.newValue})))),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataLength",{get:function(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length},enumerable:!0,configurable:!0}),n.prototype.hasHorizontalScroll=function(){return this.totalWidth-this.unpinnedWidth>0},n.prototype._restoreVirtState=function(e){var t=e.virtDirRow,i=t.getScroll().scrollLeft;i!==-parseInt(t.dc.instance._viewContainer.element.nativeElement.style.left,10)+t.getColumnScrollLeft(t.state.startIndex)&&(t.onHScroll(i),t.cdr.detectChanges())},n.prototype.getExportExcel=function(){return this._exportExcel},n.prototype.getExportCsv=function(){return this._exportCsv},Object.defineProperty(n.prototype,"shouldOverlayLoading",{get:function(){return this.isLoading&&this.data&&this.data.length>0},enumerable:!0,configurable:!0}),n.prototype.isSummaryRow=function(e){return e.summaries&&e.summaries instanceof Map},Object.defineProperty(n.prototype,"isMultiRowSelectionEnabled",{get:function(){return this.rowSelection===e.GridSelectionMode.multiple},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRowSelectable",{get:function(){return this.rowSelection!==e.GridSelectionMode.none},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isCellSelectable",{get:function(){return this.cellSelection!==e.GridSelectionMode.none},enumerable:!0,configurable:!0}),n.prototype.viewDetachHandler=function(e){var t=e.view.context;if("dataRow"===t.templateID){var i=this.getRowByIndex(t.index),n=!(!i||!i.cells)&&i.cells.find((function(e){return e.focused}));n&&n.onBlur()}},n.prototype.cachedViewLoaded=function(e){var t=this;if(this.hasHorizontalScroll()){var i=e.context.templateID,n=e.context.index;e.view.detectChanges(),this.zone.onStable.pipe(s.first()).subscribe((function(){var e="dataRow"===i?t.getRowByIndex(n):null,o="summaryRow"===i?t.summariesRowList.find((function(e){return e.dataRowIndex===n})):null;e&&e instanceof Tc?t._restoreVirtState(e):o&&t._restoreVirtState(o)}))}},n.prototype.openAdvancedFilteringDialog=function(){this._advancedFilteringOverlayId||(this._advancedFilteringOverlaySettings.positionStrategy.settings.target=this.rootGrid?this.rootGrid.nativeElement:this.nativeElement,this._advancedFilteringOverlaySettings.outlet=this.outletDirective,this._advancedFilteringOverlayId=this.overlayService.attach(Cd,this._advancedFilteringOverlaySettings,{injector:this.viewRef.injector,componentFactoryResolver:this.resolver}),this.overlayService.show(this._advancedFilteringOverlayId,this._advancedFilteringOverlaySettings))},n.prototype.closeAdvancedFilteringDialog=function(e){if(this._advancedFilteringOverlayId){var t=this.overlayService.getOverlayById(this._advancedFilteringOverlayId).componentRef.instance;e&&t.applyChanges(),t.closeDialog()}},n.ctorParameters=function(){return[{type:vc},{type:yc},{type:_p},{type:Bi},{type:void 0,decorators:[{type:i.Inject,args:[Pd]}]},{type:i.ElementRef},{type:i.NgZone},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.ChangeDetectorRef},{type:i.ComponentFactoryResolver},{type:i.IterableDiffers},{type:i.ViewContainerRef},{type:lp},{type:Cp},{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]},{type:ed},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.ViewChild("defaultExpandedTemplate",{read:i.TemplateRef,static:!0})],n.prototype,"defaultExpandedTemplate",void 0),m([i.ViewChild("defaultCollapsedTemplate",{read:i.TemplateRef,static:!0})],n.prototype,"defaultCollapsedTemplate",void 0),m([i.Input()],n.prototype,"resourceStrings",null),m([i.Input()],n.prototype,"autoGenerate",void 0),m([i.Input()],n.prototype,"emptyGridTemplate",void 0),m([i.Input()],n.prototype,"loadingGridTemplate",void 0),m([dc(),i.Input()],n.prototype,"filteringLogic",null),m([dc(),i.Input()],n.prototype,"filteringExpressionsTree",null),m([i.Output()],n.prototype,"filteringExpressionsTreeChange",void 0),m([i.Output()],n.prototype,"advancedFilteringExpressionsTreeChange",void 0),m([dc(),i.Input()],n.prototype,"advancedFilteringExpressionsTree",null),m([i.Input()],n.prototype,"locale",null),m([i.Input()],n.prototype,"paging",null),m([i.Input()],n.prototype,"page",null),m([i.Output()],n.prototype,"pageChange",void 0),m([i.Input()],n.prototype,"perPage",null),m([i.Output()],n.prototype,"perPageChange",void 0),m([i.Input()],n.prototype,"paginationTemplate",void 0),m([i.Input()],n.prototype,"columnHiding",null),m([Rn("rowSelectable property is deprecated. Use rowSelection property instead."),dc(),i.Input()],n.prototype,"rowSelectable",null),m([dc(),i.Input()],n.prototype,"hideRowSelectors",null),m([i.Input()],n.prototype,"rowDraggable",null),m([dc(),i.Input()],n.prototype,"rowEditable",null),m([dc(),i.HostBinding("style.height"),i.Input()],n.prototype,"height",null),m([i.HostBinding("style.width")],n.prototype,"hostWidth",null),m([dc(),i.Input()],n.prototype,"width",null),m([i.Input()],n.prototype,"evenRowCSS",void 0),m([i.Input()],n.prototype,"oddRowCSS",void 0),m([dc(),i.Input()],n.prototype,"rowHeight",null),m([dc(),i.Input()],n.prototype,"columnWidth",null),m([dc(),i.Input()],n.prototype,"primaryKey",void 0),m([i.Input()],n.prototype,"emptyGridMessage",null),m([dc(),i.Input()],n.prototype,"isLoading",null),m([i.Input()],n.prototype,"emptyFilteredGridMessage",null),m([i.Input()],n.prototype,"columnHidingTitle",void 0),m([dc(),i.Input()],n.prototype,"columnPinning",null),m([i.Input()],n.prototype,"columnPinningTitle",void 0),m([i.Input()],n.prototype,"allowFiltering",null),m([i.Input()],n.prototype,"allowAdvancedFiltering",null),m([i.Input()],n.prototype,"filterMode",null),m([i.Input()],n.prototype,"summaryPosition",null),m([i.Input()],n.prototype,"summaryCalculationMode",null),m([i.Input()],n.prototype,"filterStrategy",null),m([i.Input()],n.prototype,"sortStrategy",null),m([i.Input()],n.prototype,"uniqueColumnValuesStrategy",void 0),m([i.Output()],n.prototype,"onCellClick",void 0),m([i.Output()],n.prototype,"onSelection",void 0),m([i.Output()],n.prototype,"onRowSelectionChange",void 0),m([i.Output()],n.prototype,"onColumnPinning",void 0),m([i.Output()],n.prototype,"onCellEditCancel",void 0),m([i.Output()],n.prototype,"onCellEditEnter",void 0),m([i.Output()],n.prototype,"onCellEdit",void 0),m([i.Output()],n.prototype,"onRowEditEnter",void 0),m([i.Output()],n.prototype,"onRowEdit",void 0),m([i.Output()],n.prototype,"onRowEditCancel",void 0),m([i.Output()],n.prototype,"onColumnInit",void 0),m([i.Output()],n.prototype,"onSortingDone",void 0),m([i.Output()],n.prototype,"onFilteringDone",void 0),m([i.Output()],n.prototype,"onPagingDone",void 0),m([i.Output()],n.prototype,"onRowAdded",void 0),m([i.Output()],n.prototype,"onRowDeleted",void 0),m([i.Output()],n.prototype,"onDataPreLoad",void 0),m([i.Output()],n.prototype,"onColumnResized",void 0),m([i.Output()],n.prototype,"onContextMenu",void 0),m([i.Output()],n.prototype,"onDoubleClick",void 0),m([i.Output()],n.prototype,"onColumnVisibilityChanged",void 0),m([i.Output()],n.prototype,"onColumnMovingStart",void 0),m([i.Output()],n.prototype,"onColumnMoving",void 0),m([i.Output()],n.prototype,"onColumnMovingEnd",void 0),m([i.Output()],n.prototype,"onGridKeydown",void 0),m([i.Output()],n.prototype,"onRowDragStart",void 0),m([i.Output()],n.prototype,"onRowDragEnd",void 0),m([i.Output()],n.prototype,"onGridCopy",void 0),m([i.Output()],n.prototype,"expansionStatesChange",void 0),m([i.Output()],n.prototype,"onRowToggle",void 0),m([i.ViewChild(sd)],n.prototype,"resizeLine",void 0),m([i.ViewChild("loadingOverlay",{static:!0})],n.prototype,"loadingOverlay",void 0),m([i.ViewChild("igxLoadingOverlayOutlet",{read:qn,static:!0})],n.prototype,"loadingOutlet",void 0),m([i.ContentChildren(Wc,{read:Wc,descendants:!0})],n.prototype,"columnList",void 0),m([i.ContentChild(Up,{read:Up})],n.prototype,"excelStyleSortingTemplateDirective",void 0),m([i.ContentChild($p,{read:$p})],n.prototype,"excelStyleMovingTemplateDirective",void 0),m([i.ContentChild(Kp,{read:Kp})],n.prototype,"excelStyleHidingTemplateDirective",void 0),m([i.ContentChild(Yp,{read:Yp})],n.prototype,"excelStylePinningTemplateDirective",void 0),m([i.ContentChild(Hp,{read:Hp,static:!0})],n.prototype,"excelStyleLoadingValuesTemplateDirective",void 0),m([i.ViewChildren(Qp,{read:Qp})],n.prototype,"headerGroups",void 0),m([i.ViewChildren("row")],n.prototype,"_rowList",void 0),m([i.ViewChildren("summaryRow",{read:id})],n.prototype,"_summaryRowList",void 0),m([i.ViewChildren(Tc,{read:Tc})],n.prototype,"_dataRowList",void 0),m([i.ViewChild("emptyFilteredGrid",{read:i.TemplateRef,static:!0})],n.prototype,"emptyFilteredGridTemplate",void 0),m([i.ViewChild("defaultEmptyGrid",{read:i.TemplateRef,static:!0})],n.prototype,"emptyGridDefaultTemplate",void 0),m([i.ViewChild("defaultLoadingGrid",{read:i.TemplateRef,static:!0})],n.prototype,"loadingGridDefaultTemplate",void 0),m([i.ViewChild("scrollContainer",{read:So,static:!0})],n.prototype,"parentVirtDir",void 0),m([i.ContentChildren(Id,{read:Id,descendants:!1})],n.prototype,"toolbarCustomContentTemplates",void 0),m([i.ContentChildren(wd,{read:wd,descendants:!1})],n.prototype,"headSelectorsTemplates",void 0),m([i.ContentChildren(_d,{read:_d,descendants:!1})],n.prototype,"rowSelectorsTemplates",void 0),m([i.ContentChildren(Od,{read:i.TemplateRef,descendants:!1})],n.prototype,"dragGhostCustomTemplates",void 0),m([i.ViewChild("verticalScrollContainer",{read:So,static:!0})],n.prototype,"verticalScrollContainer",void 0),m([i.ViewChild("verticalScrollHolder",{read:So,static:!0})],n.prototype,"verticalScroll",void 0),m([i.ViewChild("scr",{read:i.ElementRef,static:!0})],n.prototype,"scr",void 0),m([i.ViewChild("footer",{read:i.ElementRef})],n.prototype,"footer",void 0),m([i.ViewChild("hContainer",{read:So,static:!0})],n.prototype,"headerContainer",void 0),m([i.ViewChild("headerSelectorContainer")],n.prototype,"headerSelectorContainer",void 0),m([i.ViewChild("headerDragContainer")],n.prototype,"headerDragContainer",void 0),m([i.ViewChild("headerGroupContainer")],n.prototype,"headerGroupContainer",void 0),m([i.ViewChild("filteringRow",{read:ad})],n.prototype,"filteringRow",void 0),m([i.ViewChild("theadRow",{static:!0})],n.prototype,"theadRow",void 0),m([i.ViewChild("tbody",{static:!0})],n.prototype,"tbody",void 0),m([i.ViewChild("tfoot",{static:!0})],n.prototype,"tfoot",void 0),m([i.ViewChild("igxFilteringOverlayOutlet",{read:qn,static:!0})],n.prototype,"_outletDirective",void 0),m([i.ViewChild("igxRowEditingOverlayOutlet",{read:qn,static:!0})],n.prototype,"rowEditingOutletDirective",void 0),m([i.ViewChildren(Fl,{read:Fl})],n.prototype,"tmpOutlets",void 0),m([i.ViewChild("dragIndicatorIconBase",{read:i.TemplateRef,static:!0})],n.prototype,"dragIndicatorIconBase",void 0),m([i.ViewChild("defaultRowEditTemplate",{read:i.TemplateRef,static:!0})],n.prototype,"defaultRowEditTemplate",void 0),m([i.ContentChild(ip,{read:i.TemplateRef})],n.prototype,"rowEditCustom",void 0),m([i.ContentChild(np,{read:i.TemplateRef})],n.prototype,"rowEditText",void 0),m([i.ContentChild(op,{read:i.TemplateRef})],n.prototype,"rowEditActions",void 0),m([i.ContentChild(hd,{read:i.TemplateRef})],n.prototype,"rowExpandedIndicatorTemplate",void 0),m([i.ContentChild(gd,{read:i.TemplateRef})],n.prototype,"rowCollapsedIndicatorTemplate",void 0),m([i.ContentChild(fd,{read:i.TemplateRef})],n.prototype,"headerExpandIndicatorTemplate",void 0),m([i.ContentChild(md,{read:i.TemplateRef})],n.prototype,"headerCollapseIndicatorTemplate",void 0),m([i.ContentChildren(Dd,{read:i.TemplateRef,descendants:!1})],n.prototype,"dragIndicatorIconTemplates",void 0),m([i.ViewChildren(rp)],n.prototype,"rowEditTabsDEFAULT",void 0),m([i.ContentChildren(rp)],n.prototype,"rowEditTabsCUSTOM",void 0),m([i.ViewChild(Yn)],n.prototype,"rowEditingOverlay",void 0),m([i.HostBinding("attr.tabindex")],n.prototype,"tabindex",void 0),m([i.HostBinding("attr.class")],n.prototype,"hostClass",null),m([i.HostBinding("attr.role")],n.prototype,"hostRole",void 0),m([dc(),i.Input()],n.prototype,"sortingExpressions",null),m([i.Output()],n.prototype,"sortingExpressionsChange",void 0),m([dc(),i.Input()],n.prototype,"hiddenColumnsText",null),m([dc(),i.Input()],n.prototype,"pinnedColumnsText",null),m([i.ViewChild("toolbar",{read:tp})],n.prototype,"toolbar",void 0),m([i.ViewChild("toolbar",{read:i.ElementRef})],n.prototype,"toolbarHtml",void 0),m([dc(),i.Input()],n.prototype,"showToolbar",null),m([dc(),i.Input()],n.prototype,"toolbarTitle",null),m([dc(),i.Input()],n.prototype,"exportExcel",null),m([dc(),i.Input()],n.prototype,"exportCsv",null),m([dc(),i.Input()],n.prototype,"exportText",null),m([dc(),i.Input()],n.prototype,"exportExcelText",null),m([dc(),i.Input()],n.prototype,"exportCsvText",null),m([i.Input()],n.prototype,"clipboardOptions",void 0),m([dc(),i.Input()],n.prototype,"cellSelection",null),m([dc(),i.Input()],n.prototype,"rowSelection",null),m([i.Output()],n.prototype,"onToolbarExporting",void 0),m([i.Output()],n.prototype,"onRangeSelection",void 0),m([i.Input()],n.prototype,"expansionStates",null),n=m([i.Directive({selector:"[igxGridBaseComponent]"}),y(4,i.Inject(Pd)),y(7,i.Inject(o.DOCUMENT)),y(14,i.Inject(Vn)),y(16,i.Optional()),y(16,i.Inject(ao))],n)}(lo),kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.groupBy=function(e){var t=ii(this.grid.groupingExpressions),i=ii(this.grid.sortingExpressions);this.prepare_sorting_expression([i,t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()},t.prototype.groupBy_multiple=function(e){var t,i,n=ii(this.grid.groupingExpressions),o=ii(this.grid.sortingExpressions);try{for(var r=v(e),s=r.next();!s.done;s=r.next()){var a=s.value;this.prepare_sorting_expression([o,n],a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}this.grid.groupingExpressions=n,this.arrange_sorting_expressions()},t.prototype.clear_groupby=function(e){var t,i,n=this,o=ii(this.grid.groupingExpressions),r=ii(this.grid.sortingExpressions);if(e){var s="string"==typeof e?[e]:e,a=o.filter((function(e){return s.indexOf(e.fieldName)<0})),l=r.filter((function(e){return s.indexOf(e.fieldName)<0}));this.grid.groupingExpressions=a,this.grid.sortingExpressions=l,s.forEach((function(e){var t=o.findIndex((function(t){return t.fieldName===e})),i=n.grid.groupingExpansionState;n.grid.groupingExpansionState=i.filter((function(e){return e.hierarchy&&e.hierarchy.length<=t}))}))}else{this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[];var c=function(e){var t=r.findIndex((function(t){return t.fieldName===e.fieldName}));t>-1&&r.splice(t,1)};try{for(var p=v(o),d=p.next();!d.done;d=p.next()){c(d.value)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(t)throw t.error}}this.grid.sortingExpressions=r}},t.prototype.groupBy_get_expanded_for_group=function(e){var t=this.grid.groupingExpansionState,i=Fi.getHierarchy(e);return t.find((function(t){return Fi.isHierarchyMatch(t.hierarchy||[{fieldName:e.expression.fieldName,value:e.value}],i)}))},t.prototype.groupBy_is_row_in_group=function(e,t){var i=this.grid,n=!1;return e.records.forEach((function(e){(i.primaryKey?e[i.primaryKey]===t:e===t)&&(n=!0)})),n},t.prototype.groupBy_toggle_group=function(e){var t=this.grid;t.crudService.isInEditMode&&t.endEdit(!0);var i=t.groupingExpansionState,n=this.groupBy_get_expanded_for_group(e);n?n.expanded=!n.expanded:i.push({expanded:!t.groupsExpanded,hierarchy:Fi.getHierarchy(e)}),this.grid.groupingExpansionState=x(i),t.rowEditable&&t.repositionRowEditingOverlay(t.rowInEditMode)},t.prototype.groupBy_fully_expand_group=function(e){var t=this.groupBy_get_expanded_for_group(e);(t?t.expanded:this.grid.groupsExpanded)||this.groupBy_toggle_group(e),e.groupParent&&this.groupBy_fully_expand_group(e.groupParent)},t.prototype.remove_grouping_expression=function(e){var t=this.grid.groupingExpressions,i=t.findIndex((function(t){return t.fieldName===e}));-1!==i&&t.splice(i,1)},t.prototype.arrange_sorting_expressions=function(){var e=this.grid.groupingExpressions;this.grid.sortingExpressions.sort((function(t,i){var n=e.find((function(e){return e.fieldName===t.fieldName})),o=e.find((function(e){return e.fieldName===i.fieldName}));return n&&o?e.indexOf(n)>e.indexOf(o)?1:-1:n?-1:o?1:0}))},t.prototype.get_groupBy_record_id=function(e){for(var t="{ ",i=Fi.getHierarchy(e),n=0;n<i.length;n++){var o=i[n];t+="'"+o.fieldName+"': '"+o.value+"'",n<i.length-1&&(t+=", ")}return t+=" }"},t=m([i.Injectable()],t)}(Bi);!function(e){e.horizontal="horizontal",e.vertical="vertical"}(ld||(ld={}));var Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.setStartNavigationCell=function(e,t,i){this.startNavigationCell={colStart:e,rowStart:t,direction:i}},t.prototype.applyNavigationCell=function(e,t,i){var n=i===ld.vertical?ld.horizontal:ld.vertical;return this.startNavigationCell&&this.startNavigationCell.direction!==i?this.startNavigationCell.direction=n:this.setStartNavigationCell(e,t,n),i===ld.vertical?this.startNavigationCell.colStart:this.startNavigationCell.rowStart},t.prototype.navigateUp=function(e,t){this.focusCellUpFromLayout(e,t)},t.prototype.navigateDown=function(e,t){this.focusCellDownFromLayout(e,t)},t.prototype.isColumnRightEdgeVisible=function(e){var t=this.grid.columnList.filter((function(e){return!e.columnGroup})).find((function(t){return t.visibleIndex===e}));if(!this.grid.headerContainer.getScroll().clientWidth||t&&t.pinned)return!0;if(t){if(this.isParentColumnFullyVisible(t))return!0;var i=this.getChildColumnScrollPositions(e);return this.displayContainerWidth>=i.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=i.leftScroll}return!1},t.prototype.isParentColumnFullyVisible=function(e){var t=this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer;if(!t.getScroll().clientWidth||e.pinned)return!0;var i=t.igxForOf.indexOf(e);return this.displayContainerWidth>=t.getColumnScrollLeft(i+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=t.getColumnScrollLeft(i)},t.prototype.isColumnLeftEdgeVisible=function(e){var t=this.grid.headerContainer.getScroll(),i=this.grid.columnList.filter((function(e){return!e.columnGroup})).find((function(t){return t.visibleIndex===e}));if(!t.clientWidth||i.pinned)return!0;if(this.isParentColumnFullyVisible(i))return!0;var n=this.getChildColumnScrollPositions(e);return this.displayContainerScrollLeft<=n.leftScroll},t.prototype.onKeydownArrowRight=function(e,t){this.focusNextCellFromLayout(e,t)},t.prototype.onKeydownArrowLeft=function(e,t){this.focusPrevCellFromLayout(e,t)},Object.defineProperty(t.prototype,"gridOrderedColumns",{get:function(){return x(this.grid.pinnedColumns,this.grid.unpinnedColumns).filter((function(e){return!e.columnGroup})).sort((function(e,t){return e.visibleIndex-t.visibleIndex}))},enumerable:!0,configurable:!0}),t.prototype.performTab=function(e,t){var i=t.layout?t.layout.columnVisibleIndex:0,n=this.grid.columns.find((function(e){return!e.columnGroup&&e.visibleIndex===i+1})),o=t.row,r=this.grid.getRowByIndex(o);this._moveFocusToCell(e,n,r,t,"next"),n&&this.setStartNavigationCell(n.colStart,n.rowStart,null)},t.prototype._moveFocusToCell=function(t,i,n,o,r){var s=this;if(i&&n.cells){var a=n.cells.find((function(e){return e.column===i})),l=this.isColumnRightEdgeVisible(i.visibleIndex);if(a&&l){if(this.grid.rowEditable&&this.isRowInEditMode(n.index))return void("next"===r?this.moveNextEditable(n.index,o.layout.columnVisibleIndex):this.movePreviousEditable(n.index,o.layout.columnVisibleIndex));this._focusCell(a.nativeElement)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(n.index,i.visibleIndex,!1,(function(){a=n.cells.find((function(e){return e.column===i})),s.grid.rowEditable&&s.isRowInEditMode(n.index)?"next"===r?s.moveNextEditable(n.index,o.layout.columnVisibleIndex):s.movePreviousEditable(n.index,o.layout.columnVisibleIndex):s._focusCell(a.nativeElement)}))}}else{if(this.isRowInEditMode(n.index))return this.grid.gridAPI.submit_value(),void("next"===r?this.grid.rowEditTabs.first.element.nativeElement.focus():this.grid.rowEditTabs.last.element.nativeElement.focus());if("next"===r)e.prototype.navigateDown.call(this,t,{row:n.index,column:0});else{var c=0;this.grid.unpinnedColumns.forEach((function(e){c=Math.max(c,e.visibleIndex)})),e.prototype.navigateUp.call(this,t,{row:n.index,column:c})}}},t.prototype.performShiftTabKey=function(e,t){var i=t.layout?t.layout.columnVisibleIndex:0,n=t.row,o=this.grid.getRowByIndex(n),r=this.grid.columns.find((function(e){return!e.columnGroup&&e.visibleIndex===i-1&&!e.hidden}));this._moveFocusToCell(e,r,o,t,"prev"),r&&this.setStartNavigationCell(r.colStart,r.rowStart,null)},t.prototype.focusCellUpFromLayout=function(e,t){var i,n=this,o="igx-grid-groupby-row"===e.tagName.toLowerCase()||this._isDetailRecordAt(t.row),r=t.layout?t.layout.rowStart:1,s=this.applyNavigationCell(t.layout?t.layout.colStart:1,r,ld.vertical),a=t.column,l=this.grid.columns.find((function(e){return e.columnLayout&&e.visibleIndex===a})),c=l.children.find((function(e){return(e.rowEnd===r||e.rowStart+e.gridRowSpan===r)&&e.colStart<=s&&(s<e.colEnd||s<e.colStart+e.gridColumnSpan)}));if(o||!c){var p=this.grid.multiRowLayoutRowSize+1;c=l.children.find((function(e){return(e.rowEnd===p||e.rowStart+e.gridRowSpan===p)&&e.colStart<=s&&(s<e.colEnd||s<e.colStart+e.gridColumnSpan)})),i=!0}var d=i?t.row-1:t.row;if(!(d<0)){var u,h=function(){if((u=n.grid.getRowByIndex(d))&&u.cells)n._focusCell(c.cells.find((function(e){return e.rowIndex===u.index})).nativeElement);else if(u)u.nativeElement.focus({preventScroll:!0});else{n.getRowByIndex(d,"").focus({preventScroll:!0})}};this.shouldPerformVerticalScroll(d,c.visibleIndex)?(this.grid.nativeElement.focus({preventScroll:!0}),this.performVerticalScrollToCell(d,c.visibleIndex,h)):h()}},t.prototype.focusCellDownFromLayout=function(e,t){var i,n=this,o="igx-grid-groupby-row"===e.tagName.toLowerCase()||this._isDetailRecordAt(t.row),r=t.column,s=this.grid.columns.find((function(e){return e.columnLayout&&e.visibleIndex===r})),a=t.layout?t.layout.rowEnd||t.layout.rowStart+1:2,l=this.applyNavigationCell(t.layout?t.layout.colStart:1,t.layout?t.layout.rowStart:1,ld.vertical),c=s.children.find((function(e){return e.rowStart===a&&e.colStart<=l&&(l<e.colEnd||l<e.colStart+e.gridColumnSpan)}));!o&&c||(c=s.children.find((function(e){return 1===e.rowStart&&e.colStart<=l&&(l<e.colEnd||l<e.colStart+e.gridColumnSpan)})),i=!0);var p=i?t.row+1:t.row;if(!(p>this.grid.dataView.length-1)){var d,u=function(){if((d=n.grid.getRowByIndex(p))&&d.cells)n._focusCell(c.cells.find((function(e){return e.rowIndex===d.index})).nativeElement);else if(d)d.nativeElement.focus({preventScroll:!0});else{n.getRowByIndex(p,"").focus({preventScroll:!0})}};this.shouldPerformVerticalScroll(p,c.visibleIndex)?(this.grid.nativeElement.focus({preventScroll:!0}),this.performVerticalScrollToCell(p,c.visibleIndex,u)):u()}},t.prototype.focusNextCellFromLayout=function(e,t){var i=this,n=t.column,o=this.grid.columns.find((function(e){return e.columnLayout&&e.visibleIndex===n})),r=t.layout.colEnd||t.layout.colStart+1,s=this.applyNavigationCell(t.layout.colStart,t.layout.rowStart,ld.horizontal),a=t.row,l=o.children.find((function(e){return e.colStart===r&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)}));if(!l){if(!(o=this.grid.columns.find((function(e){return e.columnLayout&&!e.hidden&&e.visibleIndex===o.visibleIndex+1}))))return null;l=o.children.find((function(e){return 1===e.colStart&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)}))}var c=function(){var e=l.cells.find((function(e){return e.rowIndex===a})).nativeElement;i._focusCell(e)};this.isColumnRightEdgeVisible(l.visibleIndex)?c():(this.grid.nativeElement.focus({preventScroll:!0}),this.performHorizontalScrollToCell(a,l.visibleIndex,!1,c))},t.prototype.focusPrevCellFromLayout=function(e,t){var i=this,n=t.column,o=this.grid.columns.find((function(e){return e.columnLayout&&e.visibleIndex===n})),r=t.layout.colStart,s=this.applyNavigationCell(r,t.layout.rowStart,ld.horizontal),a=t.row,l=o.children.find((function(e){return(e.colEnd===r||e.colStart+e.gridColumnSpan===r)&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)}));if(!l){if(!(o=this.grid.columns.find((function(e){return e.columnLayout&&!e.hidden&&e.visibleIndex===o.visibleIndex-1}))))return null;var c=o.getInitialChildColumnSizes(o.children).length;l=o.children.find((function(e){return(e.colEnd===c+1||e.colStart+e.gridColumnSpan===c+1)&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)}))}var p=function(){var e=l.cells.find((function(e){return e.rowIndex===a})).nativeElement;i._focusCell(e)};this.isColumnLeftEdgeVisible(l.visibleIndex)?p():(this.grid.nativeElement.focus({preventScroll:!0}),this.performHorizontalScrollToCell(a,l.visibleIndex,!1,p))},t.prototype.onKeydownEnd=function(e,t,i){var n=this;void 0===t&&(t=!1);var o=this.grid.columns.filter((function(e){return e.columnLayout&&!e.hidden})).sort((function(e,t){return e.visibleIndex-t.visibleIndex})),r=o[o.length-1],s=r.children,a=r.getInitialChildColumnSizes(s).length,l=this.applyNavigationCell(this.startNavigationCell?this.startNavigationCell.colStart:1,i||this.grid.multiRowLayoutRowSize,ld.horizontal),c=r.children.find((function(e){return(e.colEnd===a+1||e.colStart+e.gridColumnSpan===a+1)&&e.rowStart<=l&&(l<e.rowEnd||l<e.rowStart+e.gridRowSpan)})),p=s.toArray().indexOf(c),d=(t?this.grid.summariesRowList:this.grid.dataRowList).find((function(t){return t.index===e}));if(d)if(d=d.nativeElement,this.isColumnRightEdgeVisible(c.visibleIndex)){var u=d.querySelectorAll(this.getColumnLayoutSelector()),h=u[u.length-1].children[p];this._focusCell(h)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(e,c.visibleIndex,!1,(function(){var e=d.querySelectorAll(n.getColumnLayoutSelector()),t=e[e.length-1].children[p];n._focusCell(t)}))}},t.prototype.onKeydownHome=function(e,t,i){var n=this;void 0===t&&(t=!1),void 0===i&&(i=1);var o=this.grid.columns.filter((function(e){return e.columnLayout&&!e.hidden}))[0],r=o.children.toArray(),s=this.applyNavigationCell(this.startNavigationCell?this.startNavigationCell.colStart:1,i,ld.horizontal),a=o.children.find((function(e){return 1===e.colStart&&e.rowStart<=s&&(s<e.rowEnd||s<e.rowStart+e.gridRowSpan)})),l=r.indexOf(a),c=(t?this.grid.summariesRowList:this.grid.dataRowList).find((function(t){return t.index===e}));if(c)if(c=c.nativeElement,this.isColumnLeftEdgeVisible(a.visibleIndex)){var p=c.querySelectorAll(this.getColumnLayoutSelector())[0].children[l];this._focusCell(p)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(e,a.visibleIndex,!1,(function(){var e=c.querySelectorAll(n.getColumnLayoutSelector())[0].children[l];n._focusCell(e)}))}},t.prototype.getColumnLayoutSelector=function(){return".igx-grid__mrl-block"},t.prototype.getChildColumnScrollPositions=function(e){for(var t=this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer,i=this.getColunmByVisibleIndex(e),n=i.parent,o=t.igxForOf.indexOf(n),r=t.getColumnScrollLeft(o),s=0,a=n.getFilledChildColumnSizes(n.children),l=i.colStart||1,c=i.colEnd||l+1,p=1;p<l;p++)r+=parseInt(a[p-1],10);s+=r;for(var d=l;d<c;d++)s+=parseInt(a[d-1],10);return{leftScroll:r,rightScroll:s}},t.prototype.getColunmByVisibleIndex=function(e){return e=e<0?0:e,this.grid.columnList.find((function(t){return!t.columnLayout&&t.visibleIndex===e}))},t.prototype.shouldPerformVerticalScroll=function(t,i){if(this._isGroupRecordAt(t)||this._isDetailRecordAt(t))return e.prototype.shouldPerformVerticalScroll.call(this,t,i);if(!e.prototype.shouldPerformVerticalScroll.call(this,t,i))return!1;var n=this.grid.summariesRowList.filter((function(e){return 0!==e.index})).concat(this.grid.rowList.toArray()).find((function(e){return e.index===t})),o=Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop),r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=this.getVerticalScrollPositions(t,i);return!!(!n||n.nativeElement.offsetTop+s.topOffset<Math.abs(this.verticalDCTopOffset)||r&&r<s.rowBottom-o)},Object.defineProperty(t.prototype,"verticalDCTopOffset",{get:function(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)},enumerable:!0,configurable:!0}),t.prototype._isGroupRecordAt=function(e){var t=this.grid.dataView[e];return t.records&&t.records.length},t.prototype._isDetailRecordAt=function(e){var t=this.grid.dataView[e];return this.grid.isDetailRecord(t)},t.prototype.performVerticalScrollToCell=function(t,i,n){if(this._isGroupRecordAt(t)||this._isDetailRecordAt(t))return e.prototype.performVerticalScrollToCell.call(this,t,i,n);var o=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,r=Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop),a=this.getVerticalScrollPositions(t,i),l=this.grid.summariesRowList.filter((function(e){return 0!==e.index})).concat(this.grid.rowList.toArray()).find((function(e){return e.index===t})),c=r>a.rowTop&&(!l||l.nativeElement.offsetTop+a.topOffset<Math.abs(this.verticalDCTopOffset)),p=c?a.rowTop:Math.abs(r+o-a.rowBottom);this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){n()})),c?this.grid.verticalScrollContainer.scrollPosition=p:this.grid.verticalScrollContainer.addScrollTop(p)},t.prototype.getVerticalScrollPositions=function(e,t){var i=this.getColunmByVisibleIndex(t),n=(i.rowStart-1)*this.grid.defaultRowHeight,o=this.grid.verticalScrollContainer.sizesCache[e]+n;return{rowTop:o,rowBottom:o+this.grid.defaultRowHeight*i.gridRowSpan,topOffset:n}},t.prototype.performHorizontalScrollToCell=function(e,t,i,n){var o=this;void 0===i&&(i=!1);var r=this.getChildColumnScrollPositions(t),a=this.horizontalScroll(e);this.grid.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe((function(){n?n():o._focusCell(o.getCellElementByVisibleIndex(e,t,i))}));var l=a.getScroll().scrollLeft>r.leftScroll,c=parseInt(a.igxForContainerSize,10),p=l?r.leftScroll:r.rightScroll-c;a.scrollPosition=p},t.prototype._focusCell=function(e){var t=this.grid.tbody.nativeElement.getBoundingClientRect(),i=e.getBoundingClientRect().top-t.top,n=e.getBoundingClientRect().bottom-t.bottom;i<0?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){e.focus({preventScroll:!0})})),this.grid.verticalScrollContainer.addScrollTop(i)):n>0?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){e.focus({preventScroll:!0})})),this.grid.verticalScrollContainer.addScrollTop(n)):e.focus({preventScroll:!0})},t.prototype.goToFirstCell=function(){this.startNavigationCell=null,e.prototype.goToFirstCell.call(this)},t.prototype.goToLastCell=function(){this.startNavigationCell=null,e.prototype.goToLastCell.call(this)},t=m([i.Injectable()],t)}(lp),Ad=0,Md=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._id="igx-grid-"+Ad++,e._groupingExpressions=[],e._groupingExpandState=[],e._hideGroupedColumns=!1,e._dropAreaMessage=null,e._filteredData=null,e.childDetailTemplates=new Map,e.groupingExpressionsChange=new i.EventEmitter,e.groupingExpansionStateChange=new i.EventEmitter,e.groupsExpanded=!0,e.groupsRecords=[],e.onGroupingDone=new i.EventEmitter,e.detailTemplate=null,e._focusIn=new i.EventEmitter,e}var o;return d(n,t),o=n,Object.defineProperty(n.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[],this.summaryService.clearSummaryCache(),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalItemCount",{get:function(){return this.verticalScrollContainer.totalItemCount},set:function(e){this.verticalScrollContainer.totalItemCount=e,this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_gridAPI",{get:function(){return this.gridAPI},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupingExpressions",{get:function(){return this._groupingExpressions},set:function(e){var t=this;if(e&&e.length>10)throw Error("Maximum amount of grouped columns is 10.");var i=this.groupingExpressions,n=e;if(this._groupingExpressions=ii(e),this.groupingExpressionsChange.emit(this._groupingExpressions),this.chipsGoupingExpressions=ii(e),this._gridAPI.grid?(this._applyGrouping(),this._gridAPI.arrange_sorting_expressions(),this.notifyChanges()):this.sortingExpressions.unshift.apply(this.sortingExpressions,this._groupingExpressions),!this._init&&JSON.stringify(i)!==JSON.stringify(n)&&this.columnList){var o=[],r=[];n.filter((function(e){return!i.some((function(t){return e.fieldName===t.fieldName}))})).forEach((function(e){o.push(t.getColumnByName(e.fieldName))}),this),i.filter((function(e){return!n.some((function(t){return e.fieldName===t.fieldName}))})).forEach((function(e){r.push(t.getColumnByName(e.fieldName))}),this),this.notifyChanges();var s={expressions:n,groupedColumns:o,ungroupedColumns:r};this.onGroupingDone.emit(s)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupingExpansionState",{get:function(){return this._groupingExpandState},set:function(e){e!==this._groupingExpandState&&this.groupingExpansionStateChange.emit(e),this._groupingExpandState=e,this.gridAPI.grid&&this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideGroupedColumns",{get:function(){return this._hideGroupedColumns},set:function(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this.columnList&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropAreaMessage",{get:function(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message},set:function(e){this._dropAreaMessage=e,this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupsRowList",{get:function(){var e=new i.QueryList;if(!this._groupsRowList)return e;var t=this._groupsRowList.filter((function(e){return null!==e.element.nativeElement.parentElement})).sort((function(e,t){return e.index-t.index}));return e.reset(t),e},enumerable:!0,configurable:!0}),n.prototype.onFocusIn=function(){this._focusIn.emit()},n.prototype.getDetailsContext=function(e,t){return{$implicit:e,index:t}},n.prototype.preventContainerScroll=function(e){var t=this;if(0!==e.target.scrollTop&&this.hasDetails){var i=document.activeElement;this.verticalScrollContainer.addScrollTop(e.target.scrollTop),e.target.scrollTop=0,this.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe((function(){var e=t.selectionService.activeElement,n=t.navigation.getRowByIndex(e.row,"");if(t.isDetailRecord(e.row)&&n&&n.contains(i))i.focus({preventScroll:!0});else{var o=t.navigation.getCellElementByVisibleIndex(e.row,e.column),r=t.navigation.getRowByIndex(e.row+1,"");o?o.focus({preventScroll:!0}):r&&r.focus({preventScroll:!0})}}))}},n.prototype.trackChanges=function(e,t){return void 0!==t.detailsData?t.detailsData:t},n.prototype.detailsViewFocused=function(e,t){this.selectionService.activeElement={row:t,column:this.selectionService.activeElement?this.selectionService.activeElement.column:0}},n.prototype.detailsKeyboardHandler=function(e,t,i){var n=this,o=this.selectionService.activeElement?this.selectionService.activeElement.column:0,r=e.shiftKey,a=e.ctrlKey,l=e.key.toLowerCase(),c=e.target;if("tab"===l){e.stopPropagation();var p=this.unpinnedColumns[this.unpinnedColumns.length-1].visibleIndex;r&&c===i?(e.preventDefault(),this.navigateTo(t-1,p,(function(e){return e.target.nativeElement.focus()}))):r||this._focusIn.pipe(s.first()).subscribe((function(){i.contains(document.activeElement)||n.navigation.performTab(i,{row:t,column:p})}))}else"arrowup"!==l||a||c!==i?"arrowup"===l&&a&&c===i?this.navigation.navigateTop(o):"arrowdown"!==l||a||c!==i?"arrowdown"===l&&a&&c===i&&this.navigation.navigateBottom(o):this.navigation.navigateDown(i,{row:t,column:o}):this.navigation.navigateUp(i,{row:t,column:o})},Object.defineProperty(n.prototype,"hasDetails",{get:function(){return!!this.gridDetailsTemplate},enumerable:!0,configurable:!0}),n.prototype.getRowTemplate=function(e){return this.isGroupByRecord(e)?this.defaultGroupTemplate:this.isSummaryRow(e)?this.summaryTemplate:this.hasDetails&&this.isDetailRecord(e)?this.detailTemplateContainer:this.recordTemplate},n.prototype.isDetailRecord=function(e){return void 0!==e.detailsData},Object.defineProperty(n.prototype,"groupAreaHostClass",{get:function(){return this.getComponentDensityClass("igx-drop-area")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupRowTemplate",{get:function(){return this._groupRowTemplate},set:function(e){this._groupRowTemplate=e,this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupAreaTemplate",{get:function(){return this._groupAreaTemplate},set:function(e){this._groupAreaTemplate=e,this.notifyChanges()},enumerable:!0,configurable:!0}),n.prototype.groupBy=function(e){this.checkIfNoColumnField(e)||(this.endEdit(!0),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.notifyChanges(!0))},n.prototype.clearGrouping=function(e){this._gridAPI.clear_groupby(e),this.notifyChanges(!0)},n.prototype.isExpandedGroup=function(e){var t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded},n.prototype.toggleGroup=function(e){this._toggleGroup(e),this.notifyChanges()},n.prototype.fullyExpandGroup=function(e){this._fullyExpandGroup(e),this.notifyChanges()},n.prototype.isGroupByRecord=function(e){return e.records&&e.records.length},n.prototype.toggleAllGroupRows=function(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.notifyChanges()},Object.defineProperty(n.prototype,"hasGroupableColumns",{get:function(){return this.columnList.some((function(e){return e.groupable&&!e.columnGroup}))},enumerable:!0,configurable:!0}),n.prototype._setGroupColsVisibility=function(e){var t=this;this.columnList.length>0&&!this.hasColumnLayouts&&this.groupingExpressions.forEach((function(i){t.getColumnByName(i.fieldName).hidden=e}))},Object.defineProperty(n.prototype,"dropAreaVisible",{get:function(){return this.draggedColumn&&this.draggedColumn.groupable||!this.chipsGoupingExpressions.length},enumerable:!0,configurable:!0}),n.prototype._getStateForGroupRow=function(e){return this._gridAPI.groupBy_get_expanded_for_group(e)},n.prototype._toggleGroup=function(e){this._gridAPI.groupBy_toggle_group(e)},n.prototype._fullyExpandGroup=function(e){this._gridAPI.groupBy_fully_expand_group(e)},n.prototype._applyGrouping=function(){this._gridAPI.sort_multiple(this._groupingExpressions)},n.prototype.isColumnGrouped=function(e){return!!this.groupingExpressions.find((function(t){return t.fieldName===e}))},n.prototype.getContext=function(e,t){if(this.isDetailRecord(e)){var i=this.childDetailTemplates.get(e.detailsData),n=this.primaryKey?e.detailsData[this.primaryKey]:this.data.indexOf(e.detailsData);if(i){var o=i.view,r=i.owner;return{$implicit:e.detailsData,moveView:o,owner:r,index:this.dataView.indexOf(e),templateID:"detailRow-"+n}}return{$implicit:e.detailsData,templateID:"detailRow-"+n,index:this.dataView.indexOf(e)}}return{$implicit:e,index:t,templateID:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow"}},n.prototype.viewCreatedHandler=function(e){-1!==e.context.templateID.indexOf("detailRow")&&this.childDetailTemplates.set(e.context.$implicit,e)},n.prototype.viewMovedHandler=function(e){if(-1!==e.context.templateID.indexOf("detailRow")){var t=e.context.$implicit;this.childDetailTemplates.get(t).owner=e.owner}},Object.defineProperty(n.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),n.prototype.onChipRemoved=function(e){this.clearGrouping(e.owner.id)},n.prototype.chipsOrderChanged=function(e){for(var t=[],i=function(i){var o=n.groupingExpressions.filter((function(t){return t.fieldName===e.chipsArray[i].id}))[0];if(!n.getColumnByName(o.fieldName).groupable)return{value:void 0};t.push(o)},n=this,o=0;o<e.chipsArray.length;o++){var r=i(o);if("object"==typeof r)return r.value}this.groupingExpansionState=[],this.chipsGoupingExpressions=t,e.originalEvent instanceof KeyboardEvent&&(this.groupingExpressions=this.chipsGoupingExpressions),this.notifyChanges()},n.prototype.chipsMovingEnded=function(){this.groupingExpressions=this.chipsGoupingExpressions,this.notifyChanges()},n.prototype.onChipClicked=function(e){var t=this.sortingExpressions.find((function(t){return t.fieldName===e.owner.id}));t.dir=3-t.dir,this.sort(t),this.notifyChanges()},n.prototype.onChipKeyDown=function(e){if(" "===e.originalEvent.key||"Spacebar"===e.originalEvent.key||"Enter"===e.originalEvent.key){var t=this.sortingExpressions.find((function(t){return t.fieldName===e.owner.id}));t.dir=3-t.dir,this.sort(t),this.notifyChanges()}},Object.defineProperty(n.prototype,"defaultTargetBodyHeight",{get:function(){var e=this.totalItemCount||this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paging?Math.min(e,this.perPage):e)},enumerable:!0,configurable:!0}),n.prototype.getGroupAreaHeight=function(){return this.groupArea?this.groupArea.nativeElement.offsetHeight:0},n.prototype.scrollTo=function(e,i){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof e){var n=this.groupingResult.indexOf(e),o=this.groupingMetadata[n];o&&this._fullyExpandGroup(o)}t.prototype.scrollTo.call(this,e,i,this.groupingFlatResult)},Object.defineProperty(n.prototype,"dropAreaTemplateResolved",{get:function(){return this.dropAreaTemplate?this.dropAreaTemplate:this.defaultDropAreaTemplate},enumerable:!0,configurable:!0}),n.prototype.getGroupByChipTitle=function(e){var t=this.getColumnByName(e.fieldName);return t&&t.header||e.fieldName},Object.defineProperty(n.prototype,"iconTemplate",{get:function(){return this.groupsExpanded?this.headerExpandIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapseIndicatorTemplate||this.defaultCollapsedTemplate},enumerable:!0,configurable:!0}),n.prototype.getColumnGroupable=function(e){var t=this.getColumnByName(e);return t&&t.groupable},n.prototype.ngAfterContentInit=function(){t.prototype.ngAfterContentInit.call(this),this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=e.FilterMode.excelStyleFilter),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),this.hideGroupedColumns&&this.columnList&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()},n.prototype.ngAfterViewInit=function(){var e=this;t.prototype.ngAfterViewInit.call(this),this.verticalScrollContainer.onBeforeViewDestroyed.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){var i=t.context.$implicit;if(e.isDetailRecord(i)){var n=e.childDetailTemplates.get(i.detailsData);if(n)n.owner._viewContainerRef.detach(0)}}))},n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.onGroupingDone.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.endEdit(!0),e.summaryService.updateSummaryCache(t),e._headerFeaturesWidth=NaN}))},n.prototype.ngDoCheck=function(){var e=this;if(this.groupingDiffer&&this.columnList&&!this.hasColumnLayouts){var i=this.groupingDiffer.diff(this.groupingExpressions);i&&this.columnList.length>0&&(i.forEachAddedItem((function(t){e.getColumnByName(t.item.fieldName).hidden=!0})),i.forEachRemovedItem((function(t){e.getColumnByName(t.item.fieldName).hidden=!1})))}t.prototype.ngDoCheck.call(this)},n.prototype.getSelectedData=function(e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),this.groupingExpressions.length){var n=[];return this.dataView.forEach((function(e){e.expression||e.summaries?n.push(null):n.push(e)})),this.extractDataFromSelection(n,e,i)}return t.prototype.getSelectedData.call(this,e,i)},n.prototype._setupNavigationService=function(){this.hasColumnLayouts&&(this.navigation=new Ld,this.navigation.grid=this)},n.prototype.checkIfNoColumnField=function(e){var t,i;if(e instanceof Array){try{for(var n=v(e),o=n.next();!o.done;o=n.next()){if(!o.value.fieldName)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return!1}return!e.fieldName},m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",null),m([i.Input()],n.prototype,"data",null),m([i.Input()],n.prototype,"groupingExpressions",null),m([i.Output()],n.prototype,"groupingExpressionsChange",void 0),m([i.Input()],n.prototype,"groupingExpansionState",null),m([i.Output()],n.prototype,"groupingExpansionStateChange",void 0),m([i.Input()],n.prototype,"groupsExpanded",void 0),m([i.Input()],n.prototype,"hideGroupedColumns",null),m([i.Input()],n.prototype,"dropAreaMessage",null),m([i.Input()],n.prototype,"dropAreaTemplate",void 0),m([i.Output()],n.prototype,"onGroupingDone",void 0),m([i.ContentChild(dd,{read:dd})],n.prototype,"groupTemplate",void 0),m([i.ContentChild(ud,{read:ud,static:!1})],n.prototype,"gridDetailsTemplate",void 0),m([i.ViewChildren(sp,{read:sp})],n.prototype,"_groupsRowList",void 0),m([i.ViewChild("defaultDropArea",{read:i.TemplateRef,static:!0})],n.prototype,"defaultDropAreaTemplate",void 0),m([i.ViewChild("groupArea")],n.prototype,"groupArea",void 0),m([i.ViewChild("record_template",{read:i.TemplateRef,static:!0})],n.prototype,"recordTemplate",void 0),m([i.ViewChild("detail_template_container",{read:i.TemplateRef,static:!0})],n.prototype,"detailTemplateContainer",void 0),m([i.ContentChild(ud,{read:i.TemplateRef,static:!1})],n.prototype,"detailTemplate",void 0),m([i.ViewChild("group_template",{read:i.TemplateRef,static:!0})],n.prototype,"defaultGroupTemplate",void 0),m([i.ViewChild("summary_template",{read:i.TemplateRef,static:!0})],n.prototype,"summaryTemplate",void 0),m([i.Output()],n.prototype,"_focusIn",void 0),m([i.HostListener("focusin")],n.prototype,"onFocusIn",null),n=o=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,providers:[lp,ed,vc,yc,{provide:Bi,useClass:kd},{provide:Rd,useExisting:i.forwardRef((function(){return o}))},Cp,_p,bo,xo,gc],selector:"igx-grid",template:'<igx-grid-toolbar [style.max-width.px]=\'outerWidth\' [style.flex-basis.px]="outerWidth" role="rowgroup" *ngIf="showToolbar" [gridID]="id"\n    [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<div [style.flex-basis.px]=\'outerWidth\' class="igx-grid__grouparea"\n    *ngIf="groupingExpressions.length > 0 || hasGroupableColumns" #groupArea>\n    <igx-chips-area (onReorder)="chipsOrderChanged($event)" (onMoveEnd)="chipsMovingEnded()">\n        <ng-container *ngFor="let expr of chipsGoupingExpressions; let last = last;">\n            <igx-chip [id]="expr.fieldName" [attr.title]="getGroupByChipTitle(expr)"\n                [removable]="getColumnGroupable(expr.fieldName)"\n                [draggable]="getColumnGroupable(expr.fieldName)" [displayDensity]="displayDensity"\n                (onKeyDown)="onChipKeyDown($event)" (onRemove)="onChipRemoved($event)"\n                (onClick)="getColumnGroupable(expr.fieldName) ? onChipClicked($event): null"\n                [disabled]=\'!getColumnGroupable(expr.fieldName)\'>\n                <span>{{ getGroupByChipTitle(expr) }}</span>\n                <igx-icon igxSuffix>{{ expr.dir == 1 ? \'arrow_upward\' : \'arrow_downward\' }}</igx-icon>\n            </igx-chip>\n            <span class="igx-grid__grouparea-connector">\n                <igx-icon [style.visibility]="(!last || dropAreaVisible) ? \'visible\' : \'hidden\'">arrow_forward\n                </igx-icon>\n            </span>\n        </ng-container>\n        <div igxGroupAreaDrop [style.visibility]="dropAreaVisible ? \'visible\' : \'hidden\'" [class]="groupAreaHostClass"\n            [attr.gridId]=\'this.id\'>\n            <ng-container *ngTemplateOutlet="dropAreaTemplateResolved"></ng-container>\n        </div>\n    </igx-chips-area>\n</div>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" [class.igx-grid__tr--mrl]=\'hasColumnLayouts\' role="rowgroup"\n    [style.width.px]=\'calcWidth\' #theadRow>\n        <div class="igx-grid__tr" role="row" [style.width.px]=\'calcWidth\'>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n                [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-left" [style.left.px]="pinnedWidth"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n                [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <ng-container *ngIf="groupingExpressions.length > 0">\n                <div class="igx-grid__header-indentation igx-grid__row-indentation--level-{{groupingExpressions.length}}"\n                    [ngClass]="{\n                    \'igx-grid__header-indentation--no-border\': isRowSelectable || rowDraggable\n                }" #headerGroupContainer  (click)="toggleAllGroupRows()">\n\n                <ng-container *ngTemplateOutlet="iconTemplate; context: { $implicit: this }"></ng-container>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" [ngClass]="{\n                    \'igx-grid__drag-indicator--header\': !isRowSelectable\n                }" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container\n                            *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : dragIndicatorIconBase">\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowSelectors">\n                <div class="igx-grid__cbx-selection" (click)="onHeaderSelectorClick($event)" #headerSelectorContainer [ngClass]="{\n                    \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                }">\n                    <ng-template #headSelector\n                        *ngTemplateOutlet="\n                        this.headSelectorTemplate ? this.headSelectorTemplate : headSelectorBaseTemplate;\n                        context: { $implicit: {\n                                        selectedCount: this.selectionService.filteredSelectedRowIds.length,\n                                        totalCount: this.totalRowsCountAfterFilter }}">\n                    </ng-template>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width]="getHeaderGroupWidth(col)"\n                        [style.flex-basis]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel"\n                [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'\n                [igxForSizePropName]=\'"calcPixelWidth"\' #hContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width]="getHeaderGroupWidth(col)"\n                    [style.flex-basis]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow [style.width.px]=\'calcWidth\' *ngIf="filteringService.isFilterRowVisible"\n            [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div igxGridBody (keydown.control.c)="copyHandlerIE()" (copy)="copyHandler($event)" class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" role="rowgroup" (onDragStop)="selectionService.dragMode = $event" (scroll)=\'preventContainerScroll($event)\'\n        (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode"\n        [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth || null\' #tbody>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n            [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n            [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | gridTransaction:id:pipeTrigger\n        | visibleColumns:hasVisibleColumns\n        | gridFiltering:filteringExpressionsTree:filterStrategy:advancedFilteringExpressionsTree:id:pipeTrigger:filteringPipeTrigger\n        | gridSort:sortingExpressions:sortStrategy:id:pipeTrigger\n        | gridGroupBy:groupingExpressions:groupingExpansionState:groupsExpanded:id:groupsRecords:pipeTrigger\n        | gridPaging:page:perPage:id:pipeTrigger\n        | gridSummary:hasSummarizedColumns:summaryCalculationMode:summaryPosition:id:pipeTrigger:summaryPipeTrigger\n        | gridDetails:hasDetails:expansionStates:pipeTrigger"\n            let-rowIndex="index" [igxForScrollOrientation]="\'vertical\'" [igxForScrollContainer]=\'verticalScroll\'\n            [igxForContainerSize]=\'calcHeight\'\n            [igxForItemSize]="hasColumnLayouts ? rowHeight * multiRowLayoutRowSize + 1 : renderedRowHeight"\n            [igxForTrackBy]=\'trackChanges\'\n            #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n            <ng-template\n                [igxTemplateOutlet]=\'getRowTemplate(rowData)\'\n                [igxTemplateOutletContext]=\'getContext(rowData, rowIndex)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'\n                (onViewCreated)=\'viewCreatedHandler($event)\'\n                (onViewMoved)=\'viewMovedHandler($event)\'\n                (onBeforeViewDetach)=\'viewDetachHandler($event)\'>\n            </ng-template>\n        </ng-template>\n        <ng-template #record_template let-rowIndex="index" let-rowData>\n            <igx-grid-row [gridID]="id" [index]="rowIndex" [rowData]="rowData" #row>\n            </igx-grid-row>\n        </ng-template>\n        <ng-template #group_template let-rowIndex="index" let-rowData>\n            <igx-grid-groupby-row [gridID]="id" [index]="rowIndex" [groupRow]="rowData" #row>\n            </igx-grid-groupby-row>\n        </ng-template>\n        <ng-template #summary_template let-rowIndex="index" let-rowData>\n            <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries" [index]="rowIndex"\n                class="igx-grid__summaries--body" #summaryRow>\n            </igx-grid-summary-row>\n        </ng-template>\n        <ng-template #detail_template_container let-rowIndex="index" let-rowData>\n            <div detail=\'true\' style="overflow:auto;width: 100%;" (focusin)=\'detailsViewFocused(detailsContainer, rowIndex)\' tabindex="0" #detailsContainer (keydown)=\'detailsKeyboardHandler($event, rowIndex, detailsContainer)\' [attr.data-rowindex]=\'rowIndex\'\n                [ngClass]="{\n                \'igx-grid__tr-container\': true\n            }">\n                <div class="igx-grid__hierarchical-indent" style=\'display:flex;\'>\n                        <ng-container *ngIf="this.groupingExpressions.length > 0">\n                                <div class="igx-grid__row-indentation igx-grid__row-indentation--level-{{groupingExpressions.length}}"></div>\n                        </ng-container>\n                        <ng-template\n                    [ngTemplateOutlet]=\'detailTemplate\'\n                    [ngTemplateOutletContext]=\'getDetailsContext(rowData, rowIndex)\'>\n                    </ng-template>\n                </div>\n            </div>\n        </ng-template>\n\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <div [style.display]="shouldOverlayLoading ? \'flex\' : \'none\'" #loadingOverlay>\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth"\n        [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0"\n        class="igx-grid__summaries" #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\'\n        [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="isHorizontalScrollHidden">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [style.min-width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__footer" #footer>\n    <ng-content select="igx-grid-footer"></ng-content>\n    <ng-container *ngIf="paging && totalRecords">\n        <ng-container\n            *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPaginator; context: {$implicit: this}">\n        </ng-container>\n    </ng-container>\n</div>\n\n<ng-template #defaultPaginator>\n    <igx-paginator [displayDensity]="displayDensity" [(page)]="page" [totalRecords]="totalRecords" [(perPage)]="perPage">\n    </igx-paginator>\n</ng-template>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<ng-template #defaultDropArea>\n    <igx-icon fontSet="material" class="igx-drop-area__icon">group_work</igx-icon>\n    <span class="igx-drop-area__text">{{dropAreaMessage}}</span>\n</ng-template>\n\n<ng-template #defaultExpandedTemplate>\n    <igx-icon role="button" class="igx-grid__group-expand-btn"\n   [ngClass]="{\n    \'igx-grid__group-expand-btn--push\': filteringService.isFilterRowVisible\n}">unfold_less</igx-icon>\n</ng-template>\n\n <ng-template #defaultCollapsedTemplate>\n    <igx-icon role="button" class="igx-grid__group-expand-btn"\n    [ngClass]="{\n    \'igx-grid__group-expand-btn--push\': filteringService.isFilterRowVisible\n}">unfold_more</igx-icon>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container\n            *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }">\n        </ng-container>\n    </div>\n</div>\n\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container\n                *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }">\n            </ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container\n                *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<ng-template #headSelectorBaseTemplate igxHeadSelector let-context>\n    <div class="igx-grid__cbx-padding">\n        <igx-checkbox\n            [readonly]="true"\n            [checked]="context.selectedCount > 0 && context.totalCount === context.selectedCount"\n            disableRipple="true"\n            [ngStyle]="{\'visibility\': isMultiRowSelectionEnabled? \'visible\' : \'hidden\' }"\n            [indeterminate]="context.selectedCount > 0 && context.selectedCount !== context.totalCount"\n            [aria-label]="headSelectorBaseAriaLabel"\n            #headerCheckbox>\n        </igx-checkbox>\n    </div>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__loading-outlet" #igxLoadingOverlayOutlet igxOverlayOutlet></div>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet (keydown)="gridOutletKeyboardHandler($event)"></div>\n'})],n)}(Rd),Vd=function(){function t(e,t,i){this.grid=e,this.resolver=t,this.viewRef=i,this._options={columns:!0,filtering:!0,advancedFiltering:!0,sorting:!0,groupBy:!0,paging:!0,cellSelection:!0,rowSelection:!0}}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(e){Object.assign(this._options,e)},enumerable:!0,configurable:!0}),t.prototype.getState=function(e,t){var i,n=this;return void 0===e&&(e=!0),t?(i={},Array.isArray(t)?t.forEach((function(e){i=Object.assign(i,n.getGridFeature(e))})):i=this.getGridFeature(t)):i=this.getAllGridFeatures(),e?i=JSON.stringify(i,this.stringifyCallback):i},t.prototype.setState=function(e){"string"==typeof e&&(e=JSON.parse(e)),this.state=e,this.restoreGridState(),this.grid.cdr.detectChanges()},t.prototype.restoreGridState=function(){var e,t;try{for(var i=v(Object.keys(this.state)),n=i.next();!n.done;n=i.next()){var o=n.value;this.state[o]&&this.restoreFeature(o,this.state[o])}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t.prototype.restoreFeature=function(e,t){switch(e){case"columns":this.restoreColumns(t);break;case"filtering":this.restoreFiltering(t);break;case"advancedFiltering":this.restoreAdvancedFiltering(t);break;case"sorting":this.restoreSorting(t);break;case"groupBy":this.restoreGroupBy(t);break;case"paging":this.restorePaging(t);break;case"rowSelection":this.restoreRowSelection(t);break;case"cellSelection":this.restoreCellSelection(t)}},t.prototype.getAllGridFeatures=function(){var e,t,i={};try{for(var n=v(Object.keys(this.options)),o=n.next();!o.done;o=n.next()){var r=o.value;if(this.options[r]){var s=this.getGridFeature(r);i=Object.assign(i,s)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return i=Object.assign({},i)},t.prototype.getGridFeature=function(e){var t={};switch(e){case"columns":Object.assign(t,this.getColumns());break;case"filtering":Object.assign(t,this.getFiltering());break;case"advancedFiltering":Object.assign(t,this.getAdvancedFiltering());break;case"sorting":Object.assign(t,this.getSorting());break;case"groupBy":Object.assign(t,this.getGroupBy());break;case"paging":Object.assign(t,this.getPaging());break;case"rowSelection":Object.assign(t,this.getRowSelection());break;case"cellSelection":Object.assign(t,this.getCellSelection())}return t},t.prototype.getColumns=function(){return{columns:this.grid.columns.sort(this.sortByVisibleIndex).map((function(e){return{pinned:e.pinned,sortable:e.sortable,filterable:e.filterable,editable:e.editable,sortingIgnoreCase:e.sortingIgnoreCase,filteringIgnoreCase:e.filteringIgnoreCase,headerClasses:e.headerClasses,headerGroupClasses:e.headerGroupClasses,maxWidth:e.maxWidth,groupable:e.groupable,movable:e.movable,hidden:e.hidden,dataType:e.dataType,hasSummary:e.hasSummary,field:e.field,width:e.width,header:e.header,resizable:e.resizable,searchable:e.searchable}}))}},t.prototype.getFiltering=function(){return{filtering:this.grid.filteringExpressionsTree}},t.prototype.getAdvancedFiltering=function(){return{advancedFiltering:this.grid.advancedFilteringExpressionsTree}},t.prototype.getPaging=function(){return{paging:this.grid.pagingState}},t.prototype.getSorting=function(){var e=this.grid.sortingExpressions;return e.forEach((function(e){delete e.strategy})),{sorting:e}},t.prototype.getGroupBy=function(){var e=this.grid.groupingExpressions;return e.forEach((function(e){delete e.strategy})),{groupBy:{expressions:e,expansion:this.grid.groupingExpansionState,defaultExpanded:this.grid.groupsExpanded}}},t.prototype.getRowSelection=function(){return{rowSelection:this.grid.selectedRows()}},t.prototype.getCellSelection=function(){return{cellSelection:this.grid.getSelectedRanges().map((function(e){return{rowStart:e.rowStart,rowEnd:e.rowEnd,columnStart:e.columnStart,columnEnd:e.columnEnd}}))}},t.prototype.restoreColumns=function(e){var t=this,i=[],n=this.resolver.resolveComponentFactory(Wc);e.forEach((function(e){var o=n.create(t.viewRef.injector);Object.assign(o.instance,e),o.changeDetectorRef.detectChanges(),i.push(o.instance)})),this.grid.columnList.reset(i),this.grid.columnList.notifyOnChanges()},t.prototype.sortByVisibleIndex=function(e,t){var i=e.visibleIndex,n=t.visibleIndex;return i>n?1:i<n?-1:0},t.prototype.restoreFiltering=function(e){var t=this.createExpressionsTreeFromObject(e);this.grid.filteringExpressionsTree=t},t.prototype.restoreAdvancedFiltering=function(e){var t=this.createExpressionsTreeFromObject(e);this.grid.advancedFilteringExpressionsTree=t},t.prototype.restoreSorting=function(e){this.grid.sortingExpressions=e},t.prototype.restoreGroupBy=function(e){this.grid.groupingExpressions=e.expressions,this.grid.groupsExpanded!==e.defaultExpanded?this.grid.toggleAllGroupRows():this.grid.groupingExpansionState=e.expansion},t.prototype.restorePaging=function(e){this.grid.perPage!==e.recordsPerPage&&(this.grid.perPage=e.recordsPerPage,this.grid.cdr.detectChanges()),this.grid.page=e.index},t.prototype.restoreRowSelection=function(e){this.grid.selectRows(e)},t.prototype.restoreCellSelection=function(e){var t=this;e.forEach((function(e){var i={rowStart:e.rowStart,rowEnd:e.rowEnd,columnStart:e.columnStart,columnEnd:e.columnEnd};t.grid.selectRange(i)}))},t.prototype.createExpressionsTreeFromObject=function(e){var t,i;if(!e||!e.filteringOperands)return null;var n=new ki(e.operator,e.fieldName),o=function(e){if(e.filteringOperands){var t=r.createExpressionsTreeFromObject(e);n.filteringOperands.push(t)}else{var i=e,o=void 0;o=r.grid.columnList.length>0?r.grid.columnList.find((function(e){return e.field===i.fieldName})).dataType:r.state.columns.find((function(e){return e.field===i.fieldName})).dataType,Array.isArray(i.searchVal)?i.searchVal=new Set(i.searchVal):i.searchVal="date"===o?new Date(Date.parse(i.searchVal)):i.searchVal,i.condition=r.generateFilteringCondition(o,i.condition.name),n.filteringOperands.push(i)}},r=this;try{for(var s=v(e.filteringOperands),a=s.next();!a.done;a=s.next()){o(a.value)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return n},t.prototype.generateFilteringCondition=function(t,i){var n;switch(t){case e.DataType.Boolean:n=qr.instance();break;case e.DataType.Number:n=Jr.instance();break;case e.DataType.Date:n=Zr.instance();break;case e.DataType.String:default:n=Qr.instance()}return n.condition(i)},t.prototype.stringifyCallback=function(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):t},t.ctorParameters=function(){return[{type:Md,decorators:[{type:i.Host},{type:i.Optional}]},{type:i.ComponentFactoryResolver},{type:i.ViewContainerRef}]},m([i.Input("igxGridState")],t.prototype,"options",null),t=m([i.Directive({selector:"[igxGridState]"}),y(0,i.Host()),y(0,i.Optional())],t)}(),Fd=function(){function e(){}return e=m([i.NgModule({declarations:[Vd],exports:[Vd]})],e)}(),Hd=function(){function e(){}return e=m([i.NgModule({imports:[o.CommonModule,n.FormsModule,Xo,Rl,rs,Vr,Uo,fr,Zn,Eo,Hl,Gr,Wr,$a,hs,qa,cr,To,Rs,ec,pc,Fd],exports:[o.CommonModule,n.FormsModule,Xo,Rl,rs,Vr,Uo,fr,Zn,Eo,Hl,Gr,Fd,Wr,$a,hs,qa,cr,To,Rs,ec,pc]})],e)}(),Bd=function(){function e(){}return e=m([i.NgModule({declarations:[Jc,Xc],imports:[Hd],exports:[Jc]})],e)}(),jd=function(){function e(){}return e=m([i.Component({selector:"igx-grid-footer",template:"<ng-content></ng-content>"})],e)}(),Nd=function(t){function n(e){var n=t.call(this,e)||this;return n._displayDensityOptions=e,n._page=0,n.defaultSelectValues=[5,10,15,25,50,100,500],n._perPage=15,n.pagerEnabled=!0,n.pagerHidden=!1,n.dropdownEnabled=!0,n.dropdownHidden=!1,n.selectLabel=Ra.PaginatorResStrings.igx_paginator_label,n.perPageChange=new i.EventEmitter,n.pageChange=new i.EventEmitter,n}return d(n,t),Object.defineProperty(n.prototype,"classCosy",{get:function(){return this.displayDensity===e.DisplayDensity.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classCompact",{get:function(){return this.displayDensity===e.DisplayDensity.compact},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classComfortable",{get:function(){return this.displayDensity===e.DisplayDensity.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"page",{get:function(){return this._page},set:function(e){this._page=e,this.pageChange.emit(this._page)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"perPage",{get:function(){return this._perPage},set:function(e){this._perPage=Number(e),this.perPageChange.emit(this._perPage),this._selectOptions=this.sortUniqueOptions(this.defaultSelectValues,this._perPage),this.totalPages=Math.ceil(this.totalRecords/this._perPage)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(e){this._totalRecords=e,this.totalPages=Math.ceil(this.totalRecords/this.perPage)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectOptions",{get:function(){return this._selectOptions},set:function(e){this._selectOptions=this.sortUniqueOptions(e,this._perPage),this.defaultSelectValues=x(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isLastPage",{get:function(){return this.page+1>=this.totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFirstPage",{get:function(){return 0===this.page},enumerable:!0,configurable:!0}),n.prototype.sortUniqueOptions=function(e,t){return Array.from(new Set(x(e,[t]))).sort((function(e,t){return e-t}))},n.prototype.paginatorSelectDisplayDensity=function(){return this.displayDensity===e.DisplayDensity.comfortable?e.DisplayDensity.cosy:e.DisplayDensity.compact},n.prototype.nextPage=function(){this.isLastPage||(this.page+=1)},n.prototype.previousPage=function(){this.isFirstPage||(this.page-=1)},n.prototype.paginate=function(e){e<0||e>this.totalPages-1||(this.page=e)},n.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.HostBinding("class.igx-paginator--cosy")],n.prototype,"classCosy",null),m([i.HostBinding("class.igx-paginator--compact")],n.prototype,"classCompact",null),m([i.HostBinding("class.igx-paginator")],n.prototype,"classComfortable",null),m([i.Input()],n.prototype,"page",null),m([i.Input()],n.prototype,"perPage",null),m([i.Input()],n.prototype,"totalRecords",null),m([i.Input()],n.prototype,"selectOptions",null),m([i.Input()],n.prototype,"pagerEnabled",void 0),m([i.Input()],n.prototype,"pagerHidden",void 0),m([i.Input()],n.prototype,"dropdownEnabled",void 0),m([i.Input()],n.prototype,"dropdownHidden",void 0),m([i.Input()],n.prototype,"selectLabel",void 0),m([i.Output()],n.prototype,"perPageChange",void 0),m([i.Output()],n.prototype,"pageChange",void 0),n=m([i.Component({selector:"igx-paginator",template:'<div class="igx-paginator__select" [hidden]="dropdownHidden">\n    <label class="igx-paginator__label">{{ selectLabel }}</label>\n    <div class="igx-paginator__select-input">\n        <igx-select [(ngModel)]="perPage" [displayDensity]="paginatorSelectDisplayDensity()" type="border"\n            [disabled]="!dropdownEnabled">\n            <igx-select-item [value]="val" *ngFor="let val of selectOptions">\n                {{val}}\n            </igx-select-item>\n        </igx-select>\n    </div>\n</div>\n<div class="igx-paginator__pager" [hidden]="pagerHidden">\n    <button [disabled]="isFirstPage || !pagerEnabled ? true: false" (click)="paginate(0)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">first_page</igx-icon>\n    </button>\n    <button [disabled]="isFirstPage || !pagerEnabled ? true: false" (click)="previousPage()" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">chevron_left</igx-icon>\n    </button>\n    <div class=\'igx-paginator__pager-text\'>\n        <span>{{ page + 1 }}</span>\n        <span>&nbsp;of&nbsp;</span>\n        <span>{{ totalPages }}</span>\n    </div>\n    <button [disabled]="isLastPage || !pagerEnabled ? true: false" (click)="nextPage()" igxRipple igxRippleCentered="true" igxButton="icon">\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n    </button>\n    <button [disabled]="isLastPage || !pagerEnabled ? true: false" (click)="paginate(totalPages - 1)" igxButton="icon" igxRipple\n        igxRippleCentered="true">\n        <igx-icon fontSet="material">last_page</igx-icon>\n    </button>\n</div>\n'}),y(0,i.Optional()),y(0,i.Inject(ao))],n)}(lo),Gd=function(){function e(){}return e=m([i.NgModule({declarations:[Nd],exports:[Nd],imports:[o.CommonModule,pc,n.FormsModule,rs,Xo,Vr]})],e)}(),zd=function(){function e(){}return e=m([i.NgModule({declarations:[vp,bp,gp,fp,up,hp,dp,pp,mp,yp],exports:[vp,bp,gp,fp,up,hp,dp,pp,mp,yp],imports:[o.CommonModule]})],e)}(),Wd=function(){function e(){}return Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this.grid.visibleColumns.filter((function(e){return!(e instanceof Sd)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNotMoveLeft",{get:function(){return 0===this.column.visibleIndex||0===this.grid.unpinnedColumns.indexOf(this.column)&&this.column.disablePinning||0===this.grid.unpinnedColumns.indexOf(this.column)&&!this.isColumnPinnable||0!==this.column.level&&!this.findColumn(0,this.visibleColumns)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNotMoveRight",{get:function(){return this.column.visibleIndex===this.visibleColumns.length-1||0!==this.column.level&&!this.findColumn(1,this.visibleColumns)},enumerable:!0,configurable:!0}),e.prototype.onMoveButtonClicked=function(e){var t;this.column.pinned?this.column.isLastPinned&&1===e?(t=this.grid.unpinnedColumns[0],e=0):t=this.findColumn(e,this.grid.pinnedColumns):0===this.grid.unpinnedColumns.indexOf(this.column)&&0===e?((t=this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]).parent&&(t=t.topLevelParent),e=1):t=this.findColumn(e,this.grid.unpinnedColumns),this.grid.moveColumn(this.column,t,e)},e.prototype.findColumn=function(e,t){var i=t.indexOf(this.column);if(0===e){for(;i>0;)if(t[--i].level===this.column.level&&t[i].parent===this.column.parent)return t[i]}else for(;i<t.length-1;)if(t[++i].level===this.column.level&&t[i].parent===this.column.parent)return t[i]},m([i.Input()],e.prototype,"column",void 0),m([i.Input()],e.prototype,"grid",void 0),m([i.Input()],e.prototype,"displayDensity",void 0),m([i.Input()],e.prototype,"isColumnPinnable",void 0),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-column-moving",template:'<header>\n    {{ grid.resourceStrings.igx_grid_excel_filter_moving_header }}\n</header>\n<section class="igx-excel-filter__move-buttons">\n    <button [displayDensity]="displayDensity"\n        igxButton\n        [disabled]="canNotMoveLeft"\n        (click)="onMoveButtonClicked(0)">\n        <igx-icon>arrow_back</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_moving_left_short:\n            grid.resourceStrings.igx_grid_excel_filter_moving_left }}\n        </span>\n    </button>\n    <button [displayDensity]="displayDensity"\n        igxButton\n        [disabled]="canNotMoveRight"\n        (click)="onMoveButtonClicked(1)">\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_moving_right_short:\n            grid.resourceStrings.igx_grid_excel_filter_moving_right }}\n        </span>\n        <igx-icon>arrow_forwards</igx-icon>\n    </button>\n</section>\n'})],e)}(),Ud=function(){function e(){}return e.prototype.transform=function(e,t){if(!e||!e.length)return[];if(!t)return e;t=t.toLowerCase();var i=e.filter((function(e,i){return 0===i&&e.isSpecial||null!==e.value&&void 0!==e.value&&e.value.toString().toLowerCase().indexOf(t)>-1}));return i.length>1?i:[]},e=m([i.Pipe({name:"excelStyleSearchFilter"})],e)}(),$d=function(){function e(){}return e=m([i.NgModule({declarations:[Xp,zp,Wd,Bp,Gp,jp,Np,Up,Kp,$p,Yp,Hp,Ud],exports:[Xp,Up,Kp,$p,Yp,Hp,Np],imports:[o.CommonModule,n.FormsModule,zd,Xo,Rs,Rl,rs,Vr,Uo,To,Eo,$a,hr,Zn,Fp,ec],entryComponents:[Xp],providers:[eo]})],e)}(),Kd=function(){function e(){}return e=m([i.NgModule({declarations:[_d,wd,od],exports:[_d,wd,od]})],e)}(),Yd=function(){function e(e,t,i){this.zone=e,this.element=t,this.colResizingService=i,this._dblClick=!1,this.destroy$=new r.Subject,this.DEBOUNCE_TIME=200}return e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngAfterViewInit=function(){var e=this;!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular((function(){r.fromEvent(e.element.nativeElement,"mousedown").pipe(s.debounceTime(e.DEBOUNCE_TIME),s.takeUntil(e.destroy$)).subscribe((function(t){e._dblClick?e._dblClick=!1:0===t.button&&(e._onResizeAreaMouseDown(t),e.column.grid.resizeLine.resizer.onMousedown(t))}))})),r.fromEvent(this.element.nativeElement,"mouseup").pipe(s.debounceTime(this.DEBOUNCE_TIME),s.takeUntil(this.destroy$)).subscribe((function(){e.colResizingService.isColumnResizing=!1,e.colResizingService.showResizer=!1,e.column.grid.cdr.detectChanges()})))},e.prototype.onMouseOver=function(){this.colResizingService.resizeCursor="col-resize"},e.prototype.onDoubleClick=function(){this._dblClick=!0,this.colResizingService.column=this.column,this.colResizingService.autosizeColumnOnDblClick()},e.prototype._onResizeAreaMouseDown=function(e){this.colResizingService.column=this.column,this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX,this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()},e.ctorParameters=function(){return[{type:i.NgZone},{type:i.ElementRef},{type:_p}]},m([i.Input("igxResizeHandle")],e.prototype,"column",void 0),m([i.HostListener("mouseover")],e.prototype,"onMouseOver",null),m([i.HostListener("dblclick")],e.prototype,"onDoubleClick",null),e=m([i.Directive({selector:"[igxResizeHandle]"})],e)}(),Xd=function(){function e(){}return e=m([i.NgModule({declarations:[sd,Yd,rd],imports:[o.CommonModule],exports:[sd,Yd,rd],providers:[_p]})],e)}(),qd=function(e){function t(t,i,n,o){var s=e.call(this,t,i,n)||this;return s.elementRef=t,s.renderer=i,s.zone=n,s.cms=o,s._dropIndicator=null,s._lastDropIndicator=null,s._dragLeave=new r.Subject,s._dropIndicatorClass="igx-grid__th-drop-indicator--active",s}return d(t,e),Object.defineProperty(t.prototype,"data",{set:function(e){e instanceof Wc&&(this._column=e),e instanceof So&&(this._hVirtDir=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDropTarget",{get:function(){return this._column&&this._column.grid.hasMovableColumns&&this.cms.column.movable&&(!this._column.pinned&&this.cms.column.disablePinning||!this.cms.column.disablePinning)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{get:function(){if(this._hVirtDir)return this._hVirtDir},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._dragLeave.next(!0),this._dragLeave.complete()},t.prototype.onDragOver=function(e){if(e.detail.owner instanceof pd&&this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);var t=this.elementRef.nativeElement.getBoundingClientRect(),i=t.left+t.width/2,n=this.elementRef.nativeElement.parentElement;e.detail.pageX<i?(this._dropPos=nd.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=n.firstElementChild):(this._dropPos=nd.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=n.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}},t.prototype.onDragEnter=function(e){var t=this;e.detail.owner instanceof pd&&(this.column&&this.cms.column.grid.id!==this.column.grid.id?this.cms.icon.innerText="block":(this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent?((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),this.cms.icon.innerText="lock"):this.cms.icon.innerText="block",this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",r.interval(100).pipe(s.takeUntil(this._dragLeave)).subscribe((function(){t.cms.column.grid.wheelHandler(),"right"===e.target.id?t.horizontalScroll.scrollPosition+=15:t.horizontalScroll.scrollPosition-=15})))))},t.prototype.onDragLeave=function(e){e.detail.owner instanceof pd&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))},t.prototype.onDragDrop=function(e){if(e.preventDefault(),e.detail.owner instanceof pd&&(!this.column||this.cms.column.grid.id===this.column.grid.id)&&(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget)){this.cms.column,this.column;this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.column.grid.draggedColumn=null,this.column.grid.cdr.detectChanges()}},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:i.NgZone},{type:cd}]},m([i.Input("igxColumnMovingDrop")],t.prototype,"data",null),t=m([i.Directive({selector:"[igxColumnMovingDrop]"})],t)}(lr),Zd=function(){function e(){}return e=m([i.NgModule({declarations:[qd,pd],exports:[qd,pd]})],e)}(),Jd=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t){void 0===t&&(t=0);var i=this.gridAPI.grid.summaryService;return i.calculateSummaries(i.rootSummaryID,this.gridAPI.get_summary_data())},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"igxGridSummaryDataPipe",pure:!0})],e)}(),Qd=function(){function e(){}return e=m([i.NgModule({declarations:[td,id,Jd],imports:[zd,Hd],exports:[td,id,Jd]})],e)}(),eu=function(){function e(){}return e=m([i.NgModule({declarations:[Qc,ep],imports:[Hd],exports:[ep]})],e)}(),tu=function(){function e(){}return e=m([i.NgModule({declarations:[tp,Id],imports:[Hd,Bd,eu],exports:[tp,Id]})],e)}(),iu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childrenVisibleIndexes=[],t}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"width",{get:function(){return this.getFilledChildColumnSizes(this.children).reduce((function(e,t){return e+parseInt(t,10)}),0)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.getCalcWidth=function(){var t=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){var i=this.grid.document.defaultView.getComputedStyle(this.headerGroup.element.nativeElement.children[0]);t=parseInt(i.borderRightWidth,10)}return e.prototype.getCalcWidth.call(this)+t},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){if(!isNaN(this._vIndex))return this._vIndex;var e=this.grid.unpinnedColumns.filter((function(e){return e.columnLayout&&!e.hidden})),t=this.grid.pinnedColumns.filter((function(e){return e.columnLayout&&!e.hidden})),i=-1;if(this.pinned)i=t.indexOf(this);else{var n=e.indexOf(this);i=-1===n?-1:t.length+n}return this._vIndex=i,i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden=e,this.children.forEach((function(t){return t.hidden=e})),this.grid&&this.grid.columns&&this.grid.columns.length>0&&this.grid.columns.filter((function(e){return e.columnGroup})).forEach((function(e){return e.populateVisibleIndexes()}))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;e.prototype.ngAfterContentInit.call(this),this.hidden?this.children.forEach((function(e){return e.hidden=t.hidden})):this.hidden=this.allChildren.some((function(e){return e.hidden})),this.children.forEach((function(e){e.movable=!1}))},Object.defineProperty(t.prototype,"hasLastPinnedChildColumn",{get:function(){return this.children.some((function(e){return e.isLastPinned}))},enumerable:!0,configurable:!0}),t.prototype.populateVisibleIndexes=function(){var e=this;this.childrenVisibleIndexes=[];var t=this.gridAPI.grid,i=t&&t.pinnedColumns&&t.unpinnedColumns?t.pinnedColumns.concat(t.unpinnedColumns):[],n=i.filter((function(e){return!e.columnGroup&&!e.hidden})).sort((function(e,t){return e.rowStart-t.rowStart||i.indexOf(e.parent)-i.indexOf(t.parent)||e.colStart-t.colStart}));this.children.forEach((function(t){var i,o=t.rowStart||1;i=n.filter((function(e){return!e.columnGroup&&(e.rowStart||1)<=o})).indexOf(t),e.childrenVisibleIndexes.push({column:t,index:i})}))},m([i.Input()],t.prototype,"hidden",null),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,providers:[{provide:Wc,useExisting:i.forwardRef((function(){return n}))}],selector:"igx-column-layout",template:""})],t)}(Sd),nu=function(){function e(){}return e=m([i.NgModule({declarations:[Hc,Bc,jc,Nc,Gc,zc,Wc,Sd,iu],entryComponents:[Wc,Sd,iu],exports:[Hc,Bc,jc,Nc,Gc,zc,Wc,Sd,iu]})],e)}(),ou=function(){function e(){}return e=m([i.NgModule({declarations:[Jp,ad],imports:[Hd,zd],exports:[Jp,ad]})],e)}(),ru=function(){function e(){}return e=m([i.NgModule({declarations:[Zp,Qp],imports:[Hd,ou,Zd,Xd],exports:[Zp,Qp]})],e)}(),su=function(){function e(){}return e=m([i.NgModule({declarations:[Rd,Tc,Oc,ip,op,np,rp,Uc,jd,Cd],entryComponents:[Cd],exports:[Oc,ip,op,np,rp,Uc,Bd,eu,nu,ru,zd,ou,$d,Td,Gd,jd,Xd,Zd,Kd,Qd,tu,Cd,Hd],imports:[nu,ru,Zd,Xd,eu,Kd,Qd,tu,Bd,zd,ou,$d,Td,Gd,Hd],providers:[{provide:Pd,useClass:Un}]})],e)}(),au=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o){var r,s=this.gridAPI.grid;return r=t.length?Fi.sort(ii(e),t,i):e,s.filteredSortedData=r,r},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridSort",pure:!0})],e)}(),lu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o,r,s){var a,l={expressions:[],expansion:[],defaultExpanded:n},c=this.gridAPI.grid;l.expressions=c.groupingExpressions;var p={data:[],metadata:[]};return l.expressions.length?(l.expansion=c.groupingExpansionState,l.defaultExpanded=c.groupsExpanded,a=Fi.group(ii(e),l,c,r,p)):(r.splice(0,r.length),a={data:e,metadata:e}),c.groupingFlatResult=a.data,c.groupingResult=p.data,c.groupingMetadata=p.metadata,a},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridGroupBy",pure:!0})],e)}(),cu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o){if(void 0===t&&(t=0),void 0===i&&(i=15),!this.gridAPI.grid.paging)return e;var r={index:t,recordsPerPage:i};Fi.correctPagingState(r,e.data.length);var s={data:Fi.page(ii(e.data),r),metadata:Fi.page(ii(e.metadata),r)};return this.gridAPI.grid.page!==r.index&&(this.gridAPI.grid.page=r.index),this.gridAPI.grid.pagingState=r,s},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridPaging",pure:!0})],e)}(),pu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o,r,s){var a=this.gridAPI.grid,l={expressionsTree:t,strategy:i,advancedExpressionsTree:n};if(ki.empty(l.expressionsTree)&&ki.empty(l.advancedExpressionsTree))return e;var c=Fi.filter(ii(e),l);return a.filteredData=c,c},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridFiltering",pure:!0})],e)}(),du=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,o,r)||this;return s.gridAPI=t,s.crudService=i,s.selectionService=n,s.element=o,s.cdr=r,s}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"cells",{get:function(){var e=new i.QueryList;if(!this._cells)return e;var t=this._cells.toArray().sort((function(e,t){return e.column.visibleIndex-t.column.visibleIndex}));return e.reset(t),e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasColumnLayouts",{get:function(){return this.grid.hasColumnLayouts},enumerable:!0,configurable:!0}),t.prototype.getContext=function(e,t){return{$implicit:e,row:t}},Object.defineProperty(t.prototype,"expanded",{get:function(){return this.gridAPI.get_row_expansion_state(this.rowData)},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:Bi},{type:yc},{type:vc},{type:i.ElementRef},{type:i.ChangeDetectorRef}]},m([i.ViewChildren("cell")],t.prototype,"_cells",void 0),m([i.HostBinding("class.igx-grid__tr--mrl")],t.prototype,"hasColumnLayouts",null),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-grid-row",template:'<ng-container *ngIf="grid.groupingExpressions.length > 0">\n    <div class="igx-grid__row-indentation igx-grid__row-indentation--level-{{grid.groupingExpressions.length}}"></div>\n</ng-container>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this" (click)="$event.stopPropagation()" [ghostTemplate]="this.grid.getDragGhostCustomTemplate()">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="this.showRowSelectors">\n    <div class="igx-grid__cbx-selection" (click)="onRowSelectorClick($event)">\n         <ng-template *ngTemplateOutlet="\n            this.grid.rowSelectorTemplate ? this.grid.rowSelectorTemplate : rowSelectorBaseTemplate;\n            context: { $implicit: { index: viewIndex, rowID: rowID, selected: selected }}">\n        </ng-template>\n    </div>\n</ng-container>\n\n<ng-container *ngIf="!grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxNotGrouped">\n                <ng-container *ngTemplateOutlet="col.visibleIndex === 0 && grid.hasDetails ? expandableCellTemplate : cellTemplate; context: getContext(col, this)"></ng-container>\n        </ng-template>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <ng-container *ngTemplateOutlet="col.visibleIndex === 0 && grid.hasDetails ? expandableCellTemplate : cellTemplate; context: getContext(col, this)"></ng-container>\n    </ng-template>\n</ng-container>\n\n<ng-container *ngIf="grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <div *ngFor="let col of pinnedColumns | igxTopLevel" class="igx-grid__mrl-block"\n        [class.igx-grid__td--pinned-last]="col.hasLastPinnedChildColumn"\n        [ngStyle]="{\n            \'grid-template-rows\':col.getGridTemplate(true, false),\n            \'grid-template-columns\':col.getGridTemplate(false, false),\n            \'z-index\': col.pinned ? 1 : null,\n            \'-ms-grid-rows\':col.getGridTemplate(true, true),\n            \'-ms-grid-columns\':col.getGridTemplate(false, true)\n        }">\n            <ng-template ngFor let-col [ngForOf]="col.children">\n                    <ng-container *ngTemplateOutlet="col.visibleIndex === 0 && grid.hasDetails? mrlExpandableCellTemplate : mrlCellTemplate; context: getContext(col, this)"></ng-container>\n            </ng-template>\n        </div>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <div class="igx-grid__mrl-block" [ngStyle]="{\n            \'grid-template-rows\':col.getGridTemplate(true, false),\n            \'grid-template-columns\':col.getGridTemplate(false, false),\n            \'-ms-grid-rows\':col.getGridTemplate(true, true),\n            \'-ms-grid-columns\':col.getGridTemplate(false, true)\n        }">\n            <ng-template ngFor let-col [ngForOf]="col.children">\n                    <ng-container *ngTemplateOutlet="col.visibleIndex === 0 && grid.hasDetails ? mrlExpandableCellTemplate : mrlCellTemplate; context: getContext(col, this)"></ng-container>\n            </ng-template>\n        </div>\n    </ng-template>\n</ng-container>\n\n<ng-template #rowSelectorBaseTemplate>\n    <div class="igx-grid__cbx-padding">\n        <igx-checkbox\n            [checked]="selected"\n            [readonly]="true"\n            [disabled]="deleted"\n            disableRipple="true"\n            [disableTransitions]="grid.disableTransitions"\n            [aria-label]="rowCheckboxAriaLabel">\n        </igx-checkbox>\n    </div>\n</ng-template>\n\n<ng-template #cellTemplate let-col>\n        <igx-grid-cell\n        class="igx-grid__td igx-grid__td--fw"\n        [class.igx-grid__td--pinned]="col.pinned"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n        [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [lastPinned]="col.columnLayoutChild ? null : col.isLastPinned"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width]="col.width"\n        [style.max-width]="col.width"\n        [style.flex-basis]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate"\n        [lastSearchInfo]="grid.lastSearchInfo"\n        [cellSelectionMode]="grid.cellSelection" #cell>\n    </igx-grid-cell>\n</ng-template>\n\n<ng-template #expandableCellTemplate let-col>\n    <igx-expandable-grid-cell\n        [class.igx-grid__td--pinned]="col.pinned"\n        class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell"\n        [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n        [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n        [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n        [expanded]="expanded"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [lastPinned]="col.columnLayoutChild ? null : col.isLastPinned"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width]="col.width"\n        [style.max-width]="col.width"\n        [style.flex-basis]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate"\n        [lastSearchInfo]="grid.lastSearchInfo"\n        [cellSelectionMode]="grid.cellSelection" #cell>\n    </igx-expandable-grid-cell>\n</ng-template>\n\n<ng-template #mrlCellTemplate let-col>\n    <igx-grid-cell\n        class="igx-grid__td igx-grid__td--fw"\n        [class.igx-grid__td--pinned]="col.pinned"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n        [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [style.-ms-grid-row-span]="col.gridRowSpan"\n        [style.-ms-grid-column-span]="col.girdColumnSpan"\n        [style.grid-row-end]="col.rowEnd"\n        [style.grid-column-end]="col.colEnd"\n        [style.-ms-grid-row]="col.rowStart"\n        [style.grid-row-start]="col.rowStart"\n        [style.-ms-grid-column]="col.colStart"\n        [style.grid-column-start]="col.colStart"\n        [lastPinned]="col.columnLayoutChild ? null : col.isLastPinned"\n        [formatter]="col.formatter"\n        [row]="this"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate"\n        [lastSearchInfo]="grid.lastSearchInfo"\n        [cellSelectionMode]="grid.cellSelection" #cell>\n    </igx-grid-cell>\n</ng-template>\n\n<ng-template #mrlExpandableCellTemplate let-col>\n    <igx-expandable-grid-cell\n        class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell"\n        [class.igx-grid__td--pinned]="col.pinned"\n        [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n        [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n        [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n        [expanded]="expanded"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [style.-ms-grid-row-span]="col.gridRowSpan"\n        [style.-ms-grid-column-span]="col.girdColumnSpan"\n        [style.grid-row-end]="col.rowEnd"\n        [style.grid-column-end]="col.colEnd"\n        [style.-ms-grid-row]="col.rowStart"\n        [style.grid-row-start]="col.rowStart"\n        [style.-ms-grid-column]="col.colStart"\n        [style.grid-column-start]="col.colStart"\n        [lastPinned]="col.columnLayoutChild ? null : col.isLastPinned"\n        [formatter]="col.formatter"\n        [row]="this"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate"\n        [lastSearchInfo]="grid.lastSearchInfo"\n        [cellSelectionMode]="grid.cellSelection" #cell>\n    </igx-expandable-grid-cell>\n</ng-template>\n',providers:[{provide:Tc,useExisting:i.forwardRef((function(){return n}))}]})],t)}(Tc),uu=function(){function t(e){this.gridAPI=e}return t.prototype.transform=function(t,i,n,o,r,s,a){return t.data&&i&&n!==e.GridSummaryCalculationMode.rootLevelOnly?this.addSummaryRows(r,t,o):t.data},t.prototype.addSummaryRows=function(t,i,n){var o,r=[],s=new Map,a=this.gridAPI.grid,l=a.summaryService.calcMaxSummaryHeight();if(i.metadata.length&&!a.isGroupByRecord(i.data[0])&&a.isGroupByRecord(i.metadata[0])&&n===e.GridSummaryPosition.bottom){var c=[];for(c.push(i.metadata[0]);c[c.length-1].groupParent;)c.push(c[c.length-1].groupParent);c.reverse(),c.forEach((function(e){return e.skip=!0})),(o=i.data).splice.apply(o,x([0,0],c))}for(var p=0;p<i.data.length;p++){var d=i.data[p],u=!1,h=void 0,g=null;if(a.isGroupByRecord(d)?(u=!!d.skip,d.skip=null,g=d,h=this.gridAPI.get_groupBy_record_id(g)):h=this.gridAPI.get_row_id(d),u||r.push(d),n===e.GridSummaryPosition.bottom&&s.has(h))for(var f=s.get(h),m=0;m<f.length;m++){var y=f[m],v=this.gridAPI.get_groupBy_record_id(y),b=this.removeDeletedRecord(a,y.records.slice()),C={summaries:a.summaryService.calculateSummaries(v,b),max:l};r.push(C)}if(null!==g&&a.isExpandedGroup(g))if(n===e.GridSummaryPosition.top){b=this.removeDeletedRecord(a,g.records.slice()),C={summaries:a.summaryService.calculateSummaries(h,b),max:l};r.push(C)}else if(n===e.GridSummaryPosition.bottom){for(var _=g;_.groups&&_.groups.length>0&&a.isExpandedGroup(_);)_=_.groups[_.groups.length-1];var w=void 0;w=a.isExpandedGroup(_)?this.gridAPI.get_row_id(_.records[_.records.length-1]):this.gridAPI.get_groupBy_record_id(_),(f=s.get(w))||(f=[],s.set(w,f)),f.unshift(g)}}return r},t.prototype.removeDeletedRecord=function(e,t){return e.transactions.enabled?(e.transactions.getTransactionLog().filter((function(e){return"delete"===e.type})).map((function(e){return e.id})).forEach((function(i){var n=(e.primaryKey?t.map((function(t){return t[e.primaryKey]})):t).indexOf(i);-1!==n&&t.splice(n,1)})),t):t},t.ctorParameters=function(){return[{type:Bi}]},t=m([i.Pipe({name:"gridSummary",pure:!0})],t)}(),hu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n){return t?this.addDetailRows(e,i):e},e.prototype.addDetailRows=function(e,t){var i=this,n=[];return e.forEach((function(e){if(n.push(e),!i.gridAPI.grid.isGroupByRecord(e)&&!i.gridAPI.grid.isSummaryRow(e)&&i.gridAPI.get_row_expansion_state(e)){var t={detailsData:e};n.push(t)}})),n},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridDetails",pure:!0})],e)}(),gu=function(e){function t(t,i,n,o,r,s,a,l,c){var p=e.call(this,t,i,n,o,r,s,a,c)||this;return p.zone=s,p.document=l,p.platformUtil=c,p.expanded=!1,p}return d(t,e),t.prototype.toggle=function(e){e.stopPropagation();var t=this.gridAPI.get_row_expansion_state(this.row.rowData);this.gridAPI.set_row_expansion_state(this.row.rowID,!t,e)},t.prototype.onIndicatorFocus=function(){this.gridAPI.submit_value(),this.nativeElement.focus()},t.prototype.calculateSizeToFit=function(e){var t=this.indicator.nativeElement.getBoundingClientRect().width,i=this.document.defaultView.getComputedStyle(this.indicator.nativeElement),n=parseFloat(i.marginRight),o=0;if(this.indentationDiv){var r=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);o=parseFloat(r.paddingLeft)}return Math.max.apply(Math,x(Array.from(this.nativeElement.children).map((function(t){return li(e,t)}))))+t+n+o},Object.defineProperty(t.prototype,"iconTemplate",{get:function(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:vc},{type:yc},{type:Bi},{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.NgZone},{type:Ec},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:ui}]},m([i.Input()],t.prototype,"expanded",void 0),m([i.ViewChild("indicator",{read:i.ElementRef})],t.prototype,"indicator",void 0),m([i.ViewChild("indentationDiv",{read:i.ElementRef})],t.prototype,"indentationDiv",void 0),m([i.ViewChild("defaultExpandedTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExpandedTemplate",void 0),m([i.ViewChild("defaultCollapsedTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultCollapsedTemplate",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,selector:"igx-expandable-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor  let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused"  type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n        [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n    </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngIf="!editMode">\n    <div #indicator\n         class="igx-grid__tree-grouping-indicator"\n         (click)="toggle($event)" (focus)="onIndicatorFocus()" tabindex="-1">\n         <ng-container *ngTemplateOutlet="iconTemplate; context: { $implicit:  this }">\n        </ng-container>\n    </div>\n</ng-container>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n<ng-template #defaultExpandedTemplate>\n        <igx-icon fontSet="material">expand_more</igx-icon>\n</ng-template>\n<ng-template #defaultCollapsedTemplate>\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n</ng-template>\n',providers:[Ec]}),y(7,i.Inject(o.DOCUMENT))],t)}(Oc),fu=function(){function e(){}return e=m([i.NgModule({declarations:[Md,du,sp,dd,ud,hd,gd,fd,md,yd,lu,cu,au,pu,uu,hu,gu],exports:[Md,gu,sp,du,dd,ud,hd,gd,fd,md,yd,lu,cu,au,pu,uu,hu,su],imports:[su]})],e)}(),mu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return d(n,t),n.prototype.get_all_data=function(e){var t=this.grid,i=e?t.dataWithAddedInTransactionRows:t.flatData;return i||[]},n.prototype.get_summary_data=function(){var t=this.grid,i=t.processedRootRecords.filter((function(e){return void 0===e.isFilteredOutParent||!1===e.isFilteredOutParent})).map((function(e){return e.data}));t.transactions.enabled&&t.transactions.getTransactionLog().filter((function(t){return t.type===e.TransactionType.DELETE})).map((function(e){return e.id})).forEach((function(e){var n=(t.primaryKey?i.map((function(e){return e[t.primaryKey]})):i).indexOf(e);-1!==n&&i.splice(n,1)}));return i},n.prototype.allow_expansion_state_change=function(e,t){var i=this.grid,n=i.records.get(e);return!(n.expanded===t||!(n.children&&n.children.length||i.loadChildrenOnDemand&&(!i.hasChildrenKey||n.data[i.hasChildrenKey])))},n.prototype.expand_path_to_record=function(e){for(var t=this.grid,i=t.expansionStates;e.parent;){e=e.parent,this.get_row_expansion_state(e)||i.set(e.rowID,!0)}t.expansionStates=i,t.rowEditable&&t.endEdit(!0)},n.prototype.get_row_expansion_state=function(e){var t=this.grid,i=t.expansionStates.get(e.rowID);return void 0!==i?i:e.children&&e.children.length&&e.level<t.expansionDepth},n.prototype.update_row_in_array=function(e,i,n){var o=this.grid;if(o.primaryKey&&o.foreignKey)t.prototype.update_row_in_array.call(this,e,i,n);else{var r=o.records.get(i),s=r.parent?r.parent.data[o.childDataKey]:o.data;n=o.primaryKey?s.map((function(e){return e[o.primaryKey]})).indexOf(i):s.indexOf(i),s[n]=e}},n.prototype.should_apply_number_style=function(t){return t.dataType===e.DataType.Number&&0!==t.visibleIndex},n.prototype.deleteRowById=function(e){var i=this.grid,n=i.primaryKey&&i.foreignKey&&i.cascadeOnDelete&&i.transactions.enabled;n&&i.transactions.startPending(),t.prototype.deleteRowById.call(this,e),n&&i.transactions.endPending(!0)},n.prototype.deleteRowFromData=function(i,n){var o=this.grid,r=o.records.get(i);if(o.primaryKey&&o.foreignKey){if(n=o.primaryKey?o.data.map((function(e){return e[o.primaryKey]})).indexOf(i):o.data.indexOf(i),t.prototype.deleteRowFromData.call(this,i,n),o.cascadeOnDelete&&r&&r.children&&r.children.length>0)for(var s=0;s<r.children.length;s++){var a=r.children[s];t.prototype.deleteRowById.call(this,a.rowID)}}else{var l=r.parent?r.parent.data[o.childDataKey]:o.data;n=o.primaryKey?l.map((function(e){return e[o.primaryKey]})).indexOf(i):l.indexOf(i);var c=[];if(this.get_selected_children(r,c),c.length>0&&o.deselectRows(c),o.transactions.enabled){var p=o.generateRowPath(i);o.transactions.add({id:i,type:e.TransactionType.DELETE,newValue:null,path:p},l[n])}else l.splice(n,1)}},n.prototype.updateData=function(t,i,n,o,r){if(t.transactions.enabled){var s=t.generateRowPath(i),a={id:i,type:e.TransactionType.UPDATE,newValue:r,path:s};t.transactions.add(a,o)}else ni(n,r)},n.prototype.get_selected_children=function(e,t){var i,n,o=this.grid;if(e.children&&0!==e.children.length)try{for(var r=v(e.children),s=r.next();!s.done;s=r.next()){var a=s.value;o.selectionService.isRowSelected(a.rowID)&&t.push(a.rowID),this.get_selected_children(a,t)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},n.prototype.row_deleted_transaction=function(e){return this.row_deleted_parent(e)||t.prototype.row_deleted_transaction.call(this,e)},n.prototype.get_rec_by_id=function(e){return this.grid.records.get(e)},n.prototype.row_deleted_parent=function(t){var i=this.grid;if(!i)return!1;if(i.cascadeOnDelete&&i.foreignKey||i.childDataKey)for(var n=i.records.get(t);n;){var o=i.transactions.getState(n.rowID);if(o&&o.type===e.TransactionType.DELETE)return!0;n=n.parent}return!1},n=m([i.Injectable()],n)}(Bi),yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":0===e?"igx-tree-grid-cell":"igx-grid-cell"},t.prototype.getRowSelector=function(){return"igx-tree-grid-row"},t=m([i.Injectable()],t)}(lp),vu=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxRowLoadingIndicator]"})],e)}(),bu=0,xu=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._id="igx-tree-grid-"+bu++,e.records=new Map,e.processedRecords=new Map,e.cascadeOnDelete=!0,e._expansionDepth=1/0,e.loadingRows=new Set,e._filteredData=null,e}var o;return d(n,t),o=n,Object.defineProperty(n.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[],this.summaryService.clearSummaryCache(),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"transactions",{get:function(){return this._transactions},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expansionDepth",{get:function(){return this._expansionDepth},set:function(e){this._expansionDepth=e,this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowLoadingIndicatorTemplate",{get:function(){return this._rowLoadingIndicatorTemplate},set:function(e){this._rowLoadingIndicatorTemplate=e,this.notifyChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_gridAPI",{get:function(){return this.gridAPI},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.onRowToggle.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.loadChildrenOnRowExpansion(t)}))},n.prototype.ngDoCheck=function(){t.prototype.ngDoCheck.call(this)},n.prototype.ngAfterContentInit=function(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),t.prototype.ngAfterContentInit.call(this)},n.prototype.loadChildrenOnRowExpansion=function(e){var t=this;if(this.loadChildrenOnDemand){var i=e.rowID;e.expanded&&!this._expansionStates.has(i)&&(this.loadingRows.add(i),this.loadChildrenOnDemand(i,(function(e){t.loadingRows.delete(i),t.addChildRows(e,i),t.notifyChanges(),requestAnimationFrame((function(){var e=t.selectionService.activeElement;if(e){var i=t._gridAPI.get_cell_by_index(e.row,e.column);i&&i.nativeElement.focus()}}))})))}},n.prototype.addChildRows=function(e,t){var i,n,o,r=this;if(this.primaryKey&&this.foreignKey){try{for(var s=v(e),a=s.next();!a.done;a=s.next()){a.value[this.foreignKey]=t}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}(o=this.data).push.apply(o,x(e))}else if(this.childDataKey){var l=this.records.get(t),c=l.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){for(var p=[];l;)p.push(l.rowID),l=l.parent;for(var d=this.data,u=void 0,h=function(e){var t=p[e];if(!(u=d.find((function(e){return e[r.primaryKey]===t}))))return"break";d=u[g.childDataKey]},g=this,f=p.length-1;f>=0;f--){if("break"===h(f))break}u&&(c=u)}c[this.childDataKey]=e}this.selectionService.clearHeaderCBState(),this._pipeTrigger++},n.prototype.cloneMap=function(e){var t=new Map;return e.forEach((function(e,i,n){t.set(i,e)})),t},n.prototype.getDefaultExpandState=function(e){return e.children&&e.children.length&&e.level<this.expansionDepth},n.prototype.expandAll=function(){this._expansionDepth=1/0,this.expansionStates=new Map},n.prototype.collapseAll=function(){this._expansionDepth=0,this.expansionStates=new Map},n.prototype.addRow=function(i,n){if(null!=n){t.prototype.endEdit.call(this,!0);var o=this.transactions.getState(n);if(o&&o.type===e.TransactionType.DELETE)throw Error("Cannot add child row to deleted parent row");var r=this.records.get(n);if(!r)throw Error("Invalid parent row ID!");if(this.summaryService.clearSummaryCache({rowID:r.rowID}),this.primaryKey&&this.foreignKey)i[this.foreignKey]=n,t.prototype.addRow.call(this,i);else{var s=r.data,a=this.childDataKey;if(this.transactions.enabled){var l=this.primaryKey?i[this.primaryKey]:i,c=[];c.push.apply(c,x(this.generateRowPath(n))),c.push(n),this.transactions.add({id:l,path:c,newValue:i,type:e.TransactionType.ADD},null)}else s[a]||(s[a]=[]),s[a].push(i);this.onRowAdded.emit({data:i}),this._pipeTrigger++,this.notifyChanges()}}else{if(this.primaryKey&&this.foreignKey){var p=i[this.foreignKey];this.summaryService.clearSummaryCache({rowID:p})}t.prototype.addRow.call(this,i)}},n.prototype.deleteRowById=function(e){this._gridAPI.deleteRowById(e)},n.prototype.generateRowPath=function(e){for(var t=[],i=this.records.get(e);i.parent;)t.push(i.parent.rowID),i=i.parent;return t.reverse()},n.prototype.getDataBasedBodyHeight=function(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight},n.prototype.scrollTo=function(e,t){var i,n=this,o=!1;if("number"!=typeof e){var r=e,a=this._gridAPI.get_row_id(r);if(i=this.processedRecords.get(a),this._gridAPI.expand_path_to_record(i),this.paging){var l=this.processedExpandedFlatData.indexOf(r),c=Math.floor(l/this.perPage);this.page!==c&&(o=!0,this.page=c)}}o?this.verticalScrollContainer.onDataChanged.pipe(s.first()).subscribe((function(){n.scrollDirective(n.verticalScrollContainer,"number"==typeof e?e:n.dataView.indexOf(i))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.dataView.indexOf(i)),this.scrollToHorizontally(t)},n.prototype.getContext=function(e,t){return{$implicit:e,index:t,templateID:this.isSummaryRow(e)?"summaryRow":"dataRow"}},n.prototype.getSelectedData=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=[];return this.dataView.forEach((function(e){e.summaries?i.push(null):i.push(e.data)})),this.extractDataFromSelection(i,e,t)},Object.defineProperty(n.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),n.prototype.writeToData=function(e,t){ni(this.flatData[e],t)},n.prototype.initColumns=function(e,i){if(void 0===i&&(i=null),this.hasColumnLayouts){var n=this.columnList.filter((function(e){return!e.columnLayout&&!e.columnLayoutChild}));this.columnList.reset(n)}t.prototype.initColumns.call(this,e,i)},m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",null),m([i.Input()],n.prototype,"data",null),m([i.Input()],n.prototype,"childDataKey",void 0),m([i.Input()],n.prototype,"foreignKey",void 0),m([i.Input()],n.prototype,"hasChildrenKey",void 0),m([i.Input()],n.prototype,"cascadeOnDelete",void 0),m([i.Input()],n.prototype,"expansionDepth",null),m([i.ContentChild(vu,{read:vu})],n.prototype,"rowLoadingTemplate",void 0),m([i.Input()],n.prototype,"rowLoadingIndicatorTemplate",null),m([i.Input()],n.prototype,"loadChildrenOnDemand",void 0),m([i.ViewChild("dragIndicatorIconBase",{read:i.TemplateRef,static:!0})],n.prototype,"dragIndicatorIconBase",void 0),n=o=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-tree-grid",template:'<igx-grid-toolbar role="rowgroup" [style.max-width.px]=\'outerWidth\' [style.flex-basis.px]=\'outerWidth\' *ngIf="showToolbar" [gridID]="id"\n    [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" role="rowgroup" [style.width.px]=\'calcWidth\' #theadRow>\n        <div class="igx-grid__tr" [style.width.px]=\'calcWidth\' role="row">\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n                [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-left" [style.left.px]="featureColumnsWidth"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n                [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container\n                            *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase">\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowSelectors">\n                <div class="igx-grid__cbx-selection" (click)="onHeaderSelectorClick($event)" #headerSelectorContainer [ngClass]="{\n                    \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible }">\n                    <ng-template #headSelector\n                        *ngTemplateOutlet="\n                        this.headSelectorTemplate ? this.headSelectorTemplate : headSelectorBaseTemplate;\n                        context: { $implicit: {\n                                        selectedCount: this.selectionService.filteredSelectedRowIds.length,\n                                        totalCount: this.totalRowsCountAfterFilter }}">\n                    </ng-template>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width]="getHeaderGroupWidth(col)"\n                        [style.flex-basis]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel"\n                [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'\n                [igxForSizePropName]="\'calcPixelWidth\'" #hContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width]="getHeaderGroupWidth(col)"\n                    [style.flex-basis]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow *ngIf="filteringService.isFilterRowVisible"\n            [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n    <div [style.display]="shouldOverlayLoading ? \'flex\' : \'none\'" #loadingOverlay>\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n</div>\n\n<div igxGridBody (keydown.control.c)="copyHandlerIE()" (copy)="copyHandler($event)" class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" role="rowgroup" (onDragStop)="selectionService.dragMode = $event"\n        (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode"\n        [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth\' #tbody (scroll)=\'scrollHandler($event)\'\n        (wheel)="wheelHandler()">\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n            [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n            [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData\n            [igxGridForOf]="data\n        | treeGridTransaction:id:pipeTrigger\n        | visibleColumns:hasVisibleColumns\n        | treeGridHierarchizing:primaryKey:foreignKey:childDataKey:id:pipeTrigger\n        | treeGridFiltering:filteringExpressionsTree:filterStrategy:advancedFilteringExpressionsTree:id:pipeTrigger:filteringPipeTrigger\n        | treeGridSorting:sortingExpressions:sortStrategy:id:pipeTrigger\n        | treeGridFlattening:id:expansionDepth:expansionStates:pipeTrigger\n        | treeGridPaging:page:perPage:id:pipeTrigger\n        | treeGridSummary:hasSummarizedColumns:summaryCalculationMode:summaryPosition:id:pipeTrigger:summaryPipeTrigger" let-rowIndex="index"\n            [igxForScrollOrientation]="\'vertical\'" [igxForScrollContainer]=\'verticalScroll\'\n            [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="renderedRowHeight" #verticalScrollContainer\n            (onChunkPreload)="dataLoading($event)">\n            <ng-template #record_template>\n                <igx-tree-grid-row [gridID]="id" [index]="rowIndex" [treeRow]="rowData" #row>\n                </igx-tree-grid-row>\n            </ng-template>\n            <ng-template #summary_template>\n                <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries"\n                    [firstCellIndentation]="rowData.cellIndentation" [index]="rowIndex"\n                    class="igx-grid__summaries--body" #summaryRow>\n                </igx-grid-summary-row>\n            </ng-template>\n\n            <ng-template [igxTemplateOutlet]=\'isSummaryRow(rowData) ? summary_template : record_template\'\n                [igxTemplateOutletContext]=\'getContext(rowData, rowIndex)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'\n                (onBeforeViewDetach)=\'viewDetachHandler($event)\'>\n            </ng-template>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth"\n        [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0"\n        class="igx-grid__summaries" #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\'\n        [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="isHorizontalScrollHidden">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__footer" #footer>\n    <ng-content select="igx-grid-footer"></ng-content>\n    <ng-container *ngIf="paging && totalRecords">\n        <ng-container\n            *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPaginator; context: {$implicit: this}">\n        </ng-container>\n    </ng-container>\n</div>\n\n<ng-template #defaultPaginator>\n    <igx-paginator [displayDensity]="displayDensity" [(page)]="page" [totalRecords]="processedExpandedFlatData.length"\n        [(perPage)]="perPage">\n    </igx-paginator>\n</ng-template>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container\n            *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }">\n        </ng-container>\n    </div>\n</div>\n\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container\n                *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }">\n            </ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container\n                *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<ng-template #headSelectorBaseTemplate igxHeadSelector let-context>\n    <div class="igx-grid__cbx-padding">\n        <igx-checkbox\n            [checked]="context.selectedCount > 0 && context.totalCount === context.selectedCount"\n            [ngStyle]="{\'visibility\': isMultiRowSelectionEnabled? \'visible\' : \'hidden\' }"\n            [readonly]="true"\n            disableRipple="true"\n            [indeterminate]="context.selectedCount > 0 && context.selectedCount !== context.totalCount"\n            [aria-label]="headSelectorBaseAriaLabel"\n            #headerCheckbox>\n        </igx-checkbox>\n    </div>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__loading-outlet" #igxLoadingOverlayOutlet igxOverlayOutlet></div>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet (keydown)="gridOutletKeyboardHandler($event)"></div>\n',providers:[vc,yc,ed,{provide:lp,useClass:yu},{provide:Bi,useClass:mu},{provide:Rd,useExisting:i.forwardRef((function(){return o}))},Cp,bo,xo,gc]})],n)}(Rd),Cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"treeRow",{get:function(){return this._treeRow},set:function(e){this._treeRow!==e&&(this._treeRow=e,this.rowData=this._treeRow.data)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._treeRow.expanded},set:function(e){this.gridAPI.set_row_expansion_state(this._treeRow.rowID,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewIndex",{get:function(){return this.index+this.grid.page*this.grid.perPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showIndicator",{get:function(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.rowID)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.rowData[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length},enumerable:!0,configurable:!0}),t.prototype.resolveClasses=function(){return e.prototype.resolveClasses.call(this)+" "+(this.treeRow.isFilteredOutParent?"igx-grid__tr--filtered":"")},t.prototype.ngDoCheck=function(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.rowID),e.prototype.ngDoCheck.call(this)},m([i.ViewChildren("treeCell")],t.prototype,"cells",void 0),m([i.Input()],t.prototype,"treeRow",null),m([i.HostBinding("attr.aria-expanded")],t.prototype,"expanded",null),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,selector:"igx-tree-grid-row",template:'<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this" (click)="$event.stopPropagation()" [ghostTemplate]="this.grid.getDragGhostCustomTemplate()">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="showRowSelectors">\n    <div class="igx-grid__cbx-selection" (click)="onRowSelectorClick($event)">\n        <ng-template *ngTemplateOutlet="\n            this.grid.rowSelectorTemplate ? this.grid.rowSelectorTemplate : rowSelectorBaseTemplate;\n            context: { $implicit: { index: viewIndex, rowID: rowID, selected: selected }}">\n        </ng-template>\n    </div>\n</ng-container>\n<ng-container *ngIf="pinnedColumns.length > 0">\n    <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxNotGrouped">\n        <ng-template #cellTemplate>\n            <igx-grid-cell\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="col.dataType === \'number\'"\n                [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n                [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n                [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n                [column]="col"\n                [formatter]="col.formatter"\n                [row]="this"\n                [lastPinned]="col.isLastPinned"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [style.min-width]="col.width"\n                [style.max-width]="col.width"\n                [style.flex-basis]="col.width"\n                [width]="col.getCellWidth()"\n                [visibleColumnIndex]="col.visibleIndex"\n                [value]="rowData[col.field]"\n                [cellTemplate]="col.bodyTemplate"\n                [lastSearchInfo]="grid.lastSearchInfo"\n                [cellSelectionMode]="grid.cellSelection" #treeCell>\n            </igx-grid-cell>\n            </ng-template>\n        <ng-template #treeCellTemplate>\n            <igx-tree-grid-cell\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell igx-grid__td--pinned"\n                [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n                [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n                [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n                [level]="treeRow.level"\n                [expanded]="treeRow.expanded"\n                [showIndicator]="showIndicator"\n                [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n                [column]="col"\n                [formatter]="col.formatter"\n                [row]="this"\n                [lastPinned]="col.isLastPinned"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [style.min-width]="col.width"\n                [style.max-width]="col.width"\n                [style.flex-basis]="col.width"\n                [width]="col.getCellWidth()"\n                [visibleColumnIndex]="col.visibleIndex"\n                [value]="rowData[col.field]"\n                [isLoading]="isLoading"\n                [cellTemplate]="col.bodyTemplate"\n                [lastSearchInfo]="grid.lastSearchInfo"\n                [cellSelectionMode]="grid.cellSelection"  #treeCell>\n            </igx-tree-grid-cell>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="col.visibleIndex === 0 ? treeCellTemplate : cellTemplate"></ng-container>\n    </ng-template>\n</ng-container>\n<ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]="\'calcPixelWidth\'" [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n    <ng-template #cellTemplate>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n            [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width]="col.width"\n            [style.max-width]="col.width"\n            [style.flex-basis]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate"\n            [lastSearchInfo]="grid.lastSearchInfo"\n            [cellSelectionMode]="grid.cellSelection"  #treeCell>\n        </igx-grid-cell>\n    </ng-template>\n    <ng-template #treeCellTemplate>\n        <igx-tree-grid-cell\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell"\n            [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n            [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n            [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n            [level]="treeRow.level"\n            [expanded]="treeRow.expanded"\n            [showIndicator]="showIndicator"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width]="col.width"\n            [style.max-width]="col.width"\n            [style.flex-basis]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [isLoading]="isLoading"\n            [cellTemplate]="col.bodyTemplate"\n            [lastSearchInfo]="grid.lastSearchInfo"\n            [cellSelectionMode]="grid.cellSelection"  #treeCell>\n        </igx-tree-grid-cell>\n    </ng-template>\n    <ng-container *ngTemplateOutlet="col.visibleIndex === 0 ? treeCellTemplate : cellTemplate"></ng-container>\n</ng-template>\n<ng-template #rowSelectorBaseTemplate>\n    <div class="igx-grid__cbx-padding">\n        <igx-checkbox\n            [readonly]="true"\n            [checked]="selected"\n            [disabled]="deleted"\n            disableRipple="true"\n            [disableTransitions]="grid.disableTransitions"\n            [aria-label]="rowCheckboxAriaLabel">\n        </igx-checkbox>\n    </div>\n</ng-template>\n',providers:[{provide:Tc,useExisting:i.forwardRef((function(){return n}))}]})],t)}(Tc),_u=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o,r){var s=this.gridAPI.grid,a=[],l=new Map,c=[];return t&&i?a=this.hierarchizeFlatData(o,e,t,i,l,c):n&&(a=this.hierarchizeRecursive(o,e,t,n,void 0,c,0,l)),s.flatData=c,s.records=l,s.rootRecords=a,a},e.prototype.getRowID=function(e,t){return e?t[e]:t},e.prototype.hierarchizeFlatData=function(e,t,i,n,o,r){var s=this,a=[],l=[];return t.forEach((function(e){var t={rowID:s.getRowID(i,e),data:e,children:[]},r=o.get(e[n]);r?(t.parent=r,r.children.push(t)):l.push(t),o.set(e[i],t)})),l.forEach((function(e){var t=o.get(e.data[n]);t?(e.parent=t,t.children.push(e)):a.push(e)})),this.setIndentationLevels(e,a,0,r),a},e.prototype.setIndentationLevels=function(e,t,i,n){for(var o=0;o<t.length;o++){var r=t[o];r.level=i,r.expanded=this.gridAPI.get_row_expansion_state(r),n.push(r.data),r.children&&r.children.length>0&&this.setIndentationLevels(e,r.children,i+1,n)}},e.prototype.hierarchizeRecursive=function(e,t,i,n,o,r,s,a){for(var l=[],c=0;c<t.length;c++){var p=t[c],d={rowID:this.getRowID(i,p),data:p,parent:o,level:s};d.expanded=this.gridAPI.get_row_expansion_state(d),r.push(p),a.set(d.rowID,d),d.children=p[n]?this.hierarchizeRecursive(e,p[n],i,n,d,r,s+1,a):void 0,l.push(d)}return l},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"treeGridHierarchizing",pure:!0})],e)}(),wu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o){var r=this.gridAPI.grid,s=[];return r.processedRootRecords=e,r.processedRecords=new Map,this.getFlatDataRecursive(e,s,i,n,t,!0),r.processedExpandedFlatData=s.map((function(e){return e.data})),s},e.prototype.getFlatDataRecursive=function(e,t,i,n,o,r){if(e&&e.length)for(var s=this.gridAPI.grid,a=0;a<e.length;a++){var l=e[a];r&&t.push(l),l.expanded=this.gridAPI.get_row_expansion_state(l),this.updateNonProcessedRecordExpansion(s,l),s.processedRecords.set(l.rowID,l),this.getFlatDataRecursive(l.children,t,i,n,o,r&&l.expanded)}},e.prototype.updateNonProcessedRecordExpansion=function(e,t){e.records.get(t.rowID).expanded=t.expanded},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"treeGridFlattening",pure:!0})],e)}(),Iu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o){var r,s=this.gridAPI.grid;r=t.length?Fi.treeGridSort(e,t,i):e;var a=[];return this.flattenTreeGridRecords(r,a),s.filteredSortedData=a,r},e.prototype.flattenTreeGridRecords=function(e,t){var i,n;if(e&&e.length)try{for(var o=v(e),r=o.next();!r.done;r=o.next()){var s=r.value;t.push(s.data),this.flattenTreeGridRecords(s.children,t)}}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"treeGridSorting",pure:!0})],e)}(),Su=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=15);var r=this.gridAPI.grid;if(!r.paging)return e;var s=e.length,a=Math.ceil(s/i),l={index:a>0&&t>=a?a-1:t,recordsPerPage:i},c=Fi.page(ii(e),l);return r.pagingState=l,r._page=l.index,c},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"treeGridPaging",pure:!0})],e)}(),Eu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i){var n=this.gridAPI.grid;if(n.transactions.enabled){var o=n.transactions.getAggregatedChanges(!0);if(o.length>0){if(!n.primaryKey)return e;var r=n.foreignKey,s=n.childDataKey;if(r){var a=ii(e);return Fi.mergeTransactions(a,o,n.primaryKey)}if(s){var l=function e(t,i){var n,o,r=[];if(!t)return r;try{for(var s=v(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=oi(l);Array.isArray(l[i])&&(c[i]=e(c[i],i)),r.push(c)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return r}(e,s);return Fi.mergeHierarchicalTransactions(l,o,s,n.primaryKey)}}}return e},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"treeGridTransaction",pure:!0})],e)}(),Du=function(e){function t(t,i,n,o,r,s,a,l,c){var p=e.call(this,t,i,n,o,r,s,a,l,c)||this;return p.zone=s,p.document=l,p.platformUtil=c,p.level=0,p.showIndicator=!1,p.treeGridAPI=n,p}return d(t,e),t.prototype.toggle=function(e){e.stopPropagation(),this.treeGridAPI.set_row_expansion_state(this.row.rowID,!this.row.expanded,e)},t.prototype.onLoadingDblClick=function(e){e.stopPropagation()},t.ctorParameters=function(){return[{type:vc},{type:yc},{type:Bi},{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.NgZone},{type:Ec},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:ui}]},m([i.Input()],t.prototype,"level",void 0),m([i.Input()],t.prototype,"showIndicator",void 0),m([i.Input()],t.prototype,"isLoading",void 0),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,selector:"igx-tree-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor  let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused"  type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n        [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n    </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngIf="!editMode">\n    <ng-container *ngIf="level > 0">\n        <div #indentationDiv class="igx-grid__tree-cell--padding-level-{{level}}"></div>\n    </ng-container>\n    <div #indicator\n         *ngIf="!isLoading"\n         class="igx-grid__tree-grouping-indicator"\n         [ngStyle]="{\'visibility\': showIndicator ? \'visible\' : \'hidden\'}"\n         (click)="toggle($event)" (focus)="onIndicatorFocus()" tabindex="-1">\n         <ng-container *ngTemplateOutlet="iconTemplate; context: { $implicit:  this }">\n        </ng-container>\n    </div>\n    <div *ngIf="isLoading"\n         (dblclick)="onLoadingDblClick($event)"\n         class="igx-grid__tree-loading-indicator">\n        <ng-container *ngTemplateOutlet="grid.rowLoadingIndicatorTemplate ? grid.rowLoadingIndicatorTemplate : defaultLoadingIndicatorTemplate">\n        </ng-container>\n    </div>\n    <ng-template #defaultLoadingIndicatorTemplate>\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </ng-template>\n</ng-container>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n<ng-template #defaultExpandedTemplate>\n        <igx-icon fontSet="material">expand_more</igx-icon>\n</ng-template>\n<ng-template #defaultCollapsedTemplate>\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n</ng-template>\n',providers:[Ec]}),y(7,i.Inject(o.DOCUMENT))],t)}(gu),Ou=function(){function t(e){this.gridAPI=e}return t.prototype.transform=function(t,i,n,o,r,s,a){var l=this.gridAPI.grid;return t&&i&&n!==e.GridSummaryCalculationMode.rootLevelOnly?this.addSummaryRows(l,t,o):t},t.prototype.addSummaryRows=function(t,i,n){for(var o=[],r=t.summaryService.calcMaxSummaryHeight(),s=0;s<i.length;s++){var a=i[s];o.push(a);var l=a.children&&a.children.length>0&&a.expanded;if(n!==e.GridSummaryPosition.bottom||l){if(n===e.GridSummaryPosition.top&&l){u=a.children.filter((function(e){return!e.isFilteredOutParent})).map((function(e){return e.data}));u=this.removeDeletedRecord(t,a.rowID,u);h={summaries:t.summaryService.calculateSummaries(a.rowID,u),max:r,cellIndentation:a.level+1};o.push(h)}}else for(var c=a,p=a.parent;p;){var d=p.children;if(d[d.length-1]!==c)break;var u=d.filter((function(e){return!e.isFilteredOutParent})).map((function(e){return e.data}));u=this.removeDeletedRecord(t,p.rowID,u);var h={summaries:t.summaryService.calculateSummaries(p.rowID,u),max:r,cellIndentation:p.level+1};o.push(h),p=(c=p).parent}}return o},t.prototype.removeDeletedRecord=function(e,t,i){if(!e.transactions.enabled||!e.cascadeOnDelete)return i;var n=e.transactions.getTransactionLog().filter((function(e){return"delete"===e.type})).map((function(e){return e.id})),o=e.records.get(t);if(!o&&0===n.lenght)return[];for(o=o.children?o:o.parent;o;){if(t=o.rowID,-1!==n.indexOf(t))return[];o=o.parent}return n.forEach((function(t){var n=(e.primaryKey?i.map((function(t){return t[e.primaryKey]})):i).indexOf(t);-1!==n&&i.splice(n,1)})),i},t.ctorParameters=function(){return[{type:Bi}]},t=m([i.Pipe({name:"treeGridSummary",pure:!0})],t)}(),Tu=function(){function e(){}return e=m([i.NgModule({declarations:[xu,Cu,Du,_u,wu,Iu,Ni,Su,Eu,Ou,vu],exports:[xu,Cu,Du,vu,su],imports:[su]})],e)}(),Pu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return d(n,t),n.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":"igx-hierarchical-grid-cell"},n.prototype.getRowSelector=function(){return"igx-hierarchical-grid-row"},n.prototype.getRowByIndex=function(e){return t.prototype.getRowByIndex.call(this,e)},n.prototype.getChildContainer=function(e){return(e||this.grid).nativeElement.parentNode.parentNode.parentNode},n.prototype.getChildGridRowContainer=function(e){return(e||this.grid).nativeElement.parentNode.parentNode},n.prototype.getChildGrid=function(e,t){return t.hgridAPI.getChildGrids(!0).filter((function(t){return t.id===e}))[0]},n.prototype._isScrolledToBottom=function(e){var t=e.verticalScrollContainer.scrollPosition,i=e.verticalScrollContainer.getScroll().scrollHeight;return 0===i||Math.round(t+e.verticalScrollContainer.igxForContainerSize)===i},n.prototype.getIsChildAtIndex=function(e){return this.grid.isChildGridRecord(this.grid.dataView[e])},n.prototype.getCellElementByVisibleIndex=function(e,t,i){void 0===i&&(i=!1);var n=this.getCellSelector(t,i);return i?this.grid.summariesRowList.toArray()[0].nativeElement.querySelector(n+'[data-visibleIndex="'+t+'"]'):this.getRowByIndex(e).querySelector(n+'[data-rowindex="'+e+'"][data-visibleIndex="'+t+'"]')},n.prototype.navigateUp=function(e,i){var n=this;if(!i.isSummaryRow){var o=e.previousElementSibling,r=i.column,s=i.row;if(o)"igx-child-grid-row"===o.children[0].nodeName.toLowerCase().toLowerCase()?this.focusPrevChild(o,r,this.grid):null!==this.grid.parent?this._navigateUpInChild(e,s,r):t.prototype.navigateUp.call(this,e,i);else if(0!==s){this.getIsChildAtIndex(s-1)?this.scrollGrid(this.grid,-e.offsetHeight,(function(){e=n.getRowByIndex(s),n.navigateUp(e,i)})):t.prototype.navigateUp.call(this,e,i)}else null!==this.grid.parent&&0===s&&this.focusPrev(r)}},n.prototype.navigateDown=function(e,i){if(!i.isSummaryRow){var n=e.nextElementSibling,o=i.column,r=i.row;if(n)"igx-child-grid-row"===n.children[0].nodeName.toLowerCase().toLowerCase()?this.focusNextChild(n,o,this.grid):null!==this.grid.parent?this._navigateDownInChild(e,r,o):t.prototype.navigateDown.call(this,e,i);else r!==this.grid.dataView.length-1?t.prototype.navigateDown.call(this,e,i):null!==this.grid.parent&&r===this.grid.dataView.length-1&&this.focusNext(o)}},n.prototype.navigateTop=function(e){var i=this;if(null!==this.grid.parent){var n=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().top-this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top,o=n>=0,r=this.getNextScrollable(this.grid);o?t.prototype.navigateTop.call(this,e):this.scrollGrid(r.grid,n,(function(){return t.prototype.navigateTop.call(i,e)}))}else t.prototype.navigateTop.call(this,e)},n.prototype.navigateBottom=function(e){var i=this,n=this.grid.dataView.length-1;if(this.getIsChildAtIndex(n)){var o=n-1,r=this.grid.verticalScrollContainer.getScrollForIndex(o,!0),s=this.grid.verticalScrollContainer.scrollPosition,a=this.getCellSelector(e);if(s===r){var l=this.getRowByIndex(o).querySelectorAll(a+'[data-visibleIndex="'+e+'"]');l[l.length-1].focus()}else this.scrollGrid(this.grid,r-s,(function(){var t=i.getRowByIndex(o).querySelectorAll(a+'[data-visibleIndex="'+e+'"]');t.length>0&&t[t.length-1].focus()}))}else if(null!==this.grid.parent){var c=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom,p=c<0,d=this.getNextScrollableDown(this.grid);p?t.prototype.navigateBottom.call(this,e):this.scrollGrid(d.grid,c,(function(){return t.prototype.navigateBottom.call(i,e)}))}else t.prototype.navigateBottom.call(this,e)},n.prototype.goToLastCell=function(){var e=this,i=this.grid.dataView.length-1;if(this.getIsChildAtIndex(i)){var n=i-1,o=this.grid.verticalScrollContainer.getScrollForIndex(n,!0),r=this.grid.verticalScrollContainer.scrollPosition;r===o?this.onKeydownEnd(n):this.scrollGrid(this.grid,o-r,(function(){e.onKeydownEnd(n)}))}else t.prototype.goToLastCell.call(this)},n.prototype.onKeydownEnd=function(e,i){var n=this;if(void 0===i&&(i=!1),this.grid.parent&&!i){var o=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom,r=this.grid.getRowByIndex(e).element.nativeElement,s=r.getBoundingClientRect().bottom<=this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom,a=this._getMaxTop(this.grid),l=r.getBoundingClientRect().bottom-r.offsetHeight-a;if(o<=0||s)if(l>=0)t.prototype.onKeydownEnd.call(this,e,i);else{var c=0!==this.grid.verticalScrollContainer.scrollPosition?this.grid:this.getNextScrollable(this.grid).grid,p=c.tbody.nativeElement.getBoundingClientRect().top>this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top?c:this.grid.rootGrid;this.scrollGrid(p,l,(function(){return t.prototype.onKeydownEnd.call(n,e)}))}else this.scrollGrid(this.grid.parent,o,(function(){return t.prototype.onKeydownEnd.call(n,e)}))}else t.prototype.onKeydownEnd.call(this,e,i)},n.prototype.goToFirstCell=function(){var e=this,i=this.grid.verticalScrollContainer.getScroll(),n=this.grid.dataRowList.first.virtDirRow.getScroll();0===i.scrollTop&&this.grid.parent?!n.clientWidth||parseInt(n.scrollLeft,10)<=1||this.grid.pinnedColumns.length?this.navigateTop(0):(this.horizontalScroll(this.grid.dataRowList.first.index).scrollTo(0),this.grid.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe((function(){e.navigateTop(0)}))):t.prototype.goToFirstCell.call(this)},n.prototype.performTab=function(e,i){var n=this;if(this.grid.rowInEditMode)t.prototype.performTab.call(this,e,i);else{var o=i.row,r=i.column,s=i.isSummaryRow,a=this.grid.summariesRowList.toArray(),l=a.length>0,c=o===this.grid.dataView.length-1,p=this.grid.dataRowList.find((function(e){return e.index===o+1})),d=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex===r,u=l&&s,h=o+1,g=this.grid.verticalScrollContainer,f=h<=g.igxForOf.length-1&&this.grid.isChildGridRecord(g.igxForOf[h]);if(p||c&&l||!d||s)u&&d&&this.grid.parent?this._navigateToNextParentRow(e):c&&l&&d&&this.grid.parent?this.focusNextRow(a[0].nativeElement,0,this.grid.parent,!0):t.prototype.performTab.call(this,e,i);else{var m=this.getChildGridRowContainer();if(!!this.grid.parent&&!!m.nextElementSibling)this.focusNextChildDOMElem(m,this.grid.parent);else if(f){g.state.startIndex+g.state.chunkSize>h?this.focusNextChildDOMElem(e,this.grid):this.scrollGrid(this.grid,"next",(function(){n.focusNextChildDOMElem(e,n.grid)}))}else this.grid.parent&&this.grid.parent.summariesRowList.length>0?this._navigateToNextParentRow(e):this.navigateDown(e,{row:o,column:0})}}},n.prototype._navigateToNextParentRow=function(e){var t=this.grid.parent,i=t.summariesRowList.length>0,n=parseInt(this.getClosestElemByTag(e,"igx-child-grid-row").parentNode.getAttribute("data-rowindex"),10),o=t.dataView.length-1===n,r=!!this.getChildGridRowContainer(this.grid).nextElementSibling;if(o&&i&&!r){var s=t.summariesRowList.first.nativeElement;t.navigation.focusNextRow(s,0,t,!0)}else this.focusNext(0)},n.prototype.focusNextChildDOMElem=function(t,i){var n=t.nextElementSibling.querySelector("igx-hierarchical-grid").getAttribute("id"),o=this.getChildGrid(n,i);o.allowFiltering&&o.filterMode===e.FilterMode.quickFilter?o.navigation.moveFocusToFilterCell(!0):this.focusNextChild(t.nextElementSibling,0,i)},n.prototype.navigatePrevFilterCell=function(e,i){if(0===e.visibleIndex&&this.grid.parent){i.preventDefault();var n=this.grid.parent,o=this.getChildGridRowContainer().previousElementSibling;if(o){var r=o.querySelectorAll("igx-hierarchical-grid")[0];n=this.getChildGrid(r.getAttribute("id"),this.grid.parent)}this.focusPrev(n.unpinnedColumns[n.unpinnedColumns.length-1].visibleIndex)}else t.prototype.navigatePrevFilterCell.call(this,e,i)},n.prototype.navigateNextFilterCell=function(e,i){if(this.grid.filteringService.unpinnedFilterableColumns.indexOf(e)+1>=this.grid.filteringService.unpinnedFilterableColumns.length){var n=this.grid.rowList.toArray(),o=0!==n.length,r=this.grid.summariesRowList.toArray(),s=r.length>0&&r[0].summaryCells.length>0;o?this.focusNextRow(n[0].nativeElement,0,this.grid,!1):s?this.focusNextRow(r[0].nativeElement,0,this.grid,!0):this.focusNext(0),i.preventDefault()}else t.prototype.navigateNextFilterCell.call(this,e,i)},n.prototype.performShiftTabKey=function(i,n){var o=this;if(this.grid.rowInEditMode)t.prototype.performShiftTabKey.call(this,i,n);else{var r=n.row,s=n.column,a=n.isSummaryRow;if(0===s&&0===r&&this.grid.parent&&!a)if(this.grid.allowFiltering&&this.grid.filterMode===e.FilterMode.quickFilter)this.moveFocusToFilterCell();else{var l=this.getChildGridRowContainer().previousElementSibling;if(l){var c=l.querySelectorAll("igx-hierarchical-grid")[0];this.performShiftTabIntoChild(c,i,r)}else{var p={row:r,column:this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length-1].visibleIndex};this.navigateUp(i,p)}}else if(0===s&&i.previousElementSibling&&"igx-child-grid-row"===i.previousElementSibling.children[0].tagName.toLowerCase()){c=this.getLastGridElem(i.previousElementSibling);this.performShiftTabIntoChild(c,i,r)}else if(0===s&&a){var d=this.grid.dataView.length-1;if(-1===d)if(this.grid.allowFiltering&&this.grid.filterMode===e.FilterMode.quickFilter)this.moveFocusToFilterCell();else{p={row:r,column:this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length-1].visibleIndex};this.navigateUp(i,p)}else if(this.getIsChildAtIndex(d)){var u=this.grid.verticalScrollContainer.getScrollForIndex(d,!0),h=this.grid.verticalScrollContainer.scrollPosition;if(h===u||isNaN(u)){var g=this.getLastGridElem(this.grid.getRowByIndex(d).nativeElement.parentElement);this.performShiftTabIntoChild(g,i,r)}else this.scrollGrid(this.grid,u-h,(function(){var e=o.getLastGridElem(o.grid.getRowByIndex(d).nativeElement.parentElement);o.performShiftTabIntoChild(e,i,r)}))}else t.prototype.goToLastCell.call(this)}else t.prototype.performShiftTabKey.call(this,i,n)}},n.prototype.getFocusableGrid=function(){return ci()&&this.grid.rootGrid?this.grid.rootGrid:this.grid},n.prototype.getLastGridElem=function(e){var t=e.children;return t[t.length-1].children[0].children[0]},n.prototype.performShiftTabIntoChild=function(t,i,n){var o=t.getAttribute("id"),r=this.getChildGrid(o,this.grid)||this.getChildGrid(o,this.grid.parent),s=r.unpinnedColumns[r.unpinnedColumns.length-1].visibleIndex,a=r.summariesRowList.toArray();if(a.length>0&&a[0].summaryCells.length>0){var l=a[0].nativeElement;this.focusPrevRow(l,s,r,!0,!0)}else if(0===r.rowList.length&&r.allowFiltering&&r.filterMode===e.FilterMode.quickFilter)r.navigation.moveFocusToFilterCell();else if(0===r.rowList.length){var c=this.getSibling(r);if(c)this.performShiftTabIntoChild(c,i,n);else{var p={row:n,column:this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex};this.navigateUp(i,p)}}else r.navigation.goToLastCell()},n.prototype.getSibling=function(e){var t=e.childRow.nativeElement.previousElementSibling;return t?t.children[0].children[0]:null},n.prototype.focusNextChild=function(e,t,i){var n=this,o=e.querySelector("igx-hierarchical-grid").getAttribute("id"),r=this.getChildGrid(o,i);if(0!==r.rowList.length){var s=r.unpinnedColumns[r.unpinnedColumns.length-1].visibleIndex;t=Math.min(s,t),0!==r.verticalScrollContainer.state.startIndex?this.scrollGrid(r,"top",(function(){return n.focusNextRow(e,t,r)})):this.focusNextRow(e,t,r)}else this.focusNext(t,r)},n.prototype.focusPrevChild=function(e,t,i){var n=this,o=[],r=Array.from(e.querySelectorAll("igx-hierarchical-grid")),s=i.childLayoutList.first.level;r.forEach((function(e){var t=n.getClosestElemByTag(e,"igx-child-grid-row");t&&parseInt(t.getAttribute("data-level"),10)===s&&o.push(e)}));var a=o[o.length-1].getAttribute("id"),l=this.getChildGrid(a,i);if(0!==l.rowList.length){var c=l.unpinnedColumns[l.unpinnedColumns.length-1].visibleIndex;t=Math.min(c,t);var p=this._isScrolledToBottom(l),d=l.dataView.length-1;if(p){var u=l.getRowByIndex(d);"igx-child-grid-row"===u.nativeElement.nodeName.toLowerCase()?this.focusPrevChild(u.nativeElement.parentNode,t,l):this.focusPrevRow(u.nativeElement,t,l,!0)}else this.scrollGrid(l,"bottom",(function(){return n.focusPrevChild(e,t,i)}))}else this.focusPrev(t,l)},n.prototype.focusPrev=function(e,t){var i=this,n=t||this.grid,o=this.getChildContainer(n),r=this.getChildGridRowContainer(n),s=!!r.previousElementSibling,a=r.previousElementSibling||o.previousElementSibling;a?s?this.focusPrevChild(a,e,n.parent):this.focusPrevRow(a,e,n.parent):this.scrollGrid(n.parent,"prev",(function(){o=i.getChildContainer(t),r=i.getChildGridRowContainer(t),a=r.previousElementSibling||o.previousElementSibling,s?i.focusPrevChild(a,e,n.parent):i.focusPrevRow(a,e,n.parent)}))},n.prototype.getNextParentInfo=function(e){for(var t=e.parent,i=this.getChildContainer(e).nextElementSibling;!i&&null!==t.parent;)i=this.getChildContainer(t).nextElementSibling,t=t.parent;return{grid:t,nextElement:i}},n.prototype.getNextScrollable=function(e){var t=e.parent;if(!t)return{grid:e,prev:null};for(var i=0===t.verticalScrollContainer.scrollPosition,n=e;i&&null!==t.parent;)n=t,i=0===(t=t.parent).verticalScrollContainer.scrollPosition;return{grid:t,prev:n}},n.prototype.focusNext=function(e,t){var i=this,n=t||this.grid,o=this.getNextParentInfo(n),r=o.grid,s=o.nextElement,a=this.getChildGridRowContainer(n),l=!!a.nextElementSibling,c=a.nextElementSibling||s,p=r.verticalScrollContainer.getScroll(),d=r.verticalScrollContainer.state,u=d.startIndex+d.chunkSize===r.dataView.length;c?l?this.focusNextChild(c,e,r):this.focusNextRow(c,e,t||r):p.scrollTop===p.scrollHeight-r.verticalScrollContainer.igxForContainerSize||u||this.scrollGrid(r,"next",(function(){s=o.nextElement,a=i.getChildGridRowContainer(),(c=a.nextElementSibling||s)&&l?i.focusNextChild(c,e,r):c&&i.focusNextRow(c,e,t||r)}))},n.prototype.getNextScrollableDown=function(e){var t=e.parent;if(!t)return{grid:e,prev:null};for(var i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,o=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n,r=e;o&&null!==t.parent;)r=t,i=(t=t.parent).verticalScrollContainer.scrollPosition,o=0===(n=t.verticalScrollContainer.getScroll().scrollHeight)||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n;return{grid:t,prev:r}},n.prototype._getMinBottom=function(e){for(var t=e,i=t.tbody.nativeElement.getBoundingClientRect().bottom;t.parent;)t=t.parent,i=Math.min(i,t.tbody.nativeElement.getBoundingClientRect().bottom);return i},n.prototype._getMaxTop=function(e){for(var t=e,i=t.tbody.nativeElement.getBoundingClientRect().top;t.parent;)t=t.parent,i=Math.max(i,t.tbody.nativeElement.getBoundingClientRect().top);return i},n.prototype.focusNextRow=function(e,t,i,n){var o=this,r=i.unpinnedColumns[i.unpinnedColumns.length-1].visibleIndex;t=Math.min(r,t);var s=this.getCellSelector(t,n);if(i.navigation.isColumnFullyVisible(t)||0===i.rowList.length){var a=e.querySelector(s+'[data-visibleIndex="'+t+'"]'),l=this.getNextScrollableDown(i).grid,c=this._getMinBottom(i),p=a.getBoundingClientRect().bottom-c,d=p<=0,u=l.verticalScrollContainer.scrollPosition,h=l.verticalScrollContainer.getScroll().scrollHeight,g=!(0===h||Math.round(u+l.verticalScrollContainer.igxForContainerSize)===h);!d&&g?this.scrollGrid(l,p,(function(){return a.focus({preventScroll:!0})})):a.focus({preventScroll:!0})}else this.horizontalScrollGridToIndex(i,t,(function(){o.focusNextRow(e,t,i,n)}))},n.prototype.getColumnUnpinnedIndex=function(e,t){var i=t||this.grid,n=i.unpinnedColumns.find((function(t){return!t.columnGroup&&t.visibleIndex===e}));return i.pinnedColumns.length?i.unpinnedColumns.filter((function(e){return!e.columnGroup})).indexOf(n):e},n.prototype.focusPrevRow=function(e,t,i,n,o){var r=this,s=i.unpinnedColumns[i.unpinnedColumns.length-1].visibleIndex;if(t=Math.min(s,t),i.navigation.isColumnFullyVisible(t)){var a=this.getCellSelector(t,o),l=e.querySelectorAll(a+'[data-visibleIndex="'+t+'"]'),c=l[l.length-1],p=parseInt(e.getAttribute("data-rowindex"),10),d=0!==i.verticalScrollContainer.scrollPosition?i:this.getNextScrollable(i).grid,u=d.tbody.nativeElement.getBoundingClientRect().top>i.rootGrid.tbody.nativeElement.getBoundingClientRect().top?d:i.rootGrid,h=this._getMaxTop(i),g=d.verticalScrollContainer.scrollPosition,f=c.getBoundingClientRect().bottom-c.offsetHeight-h;0!==g&&f<0&&!n?this.scrollGrid(d,f,(function(){var n=o?e:i.navigation.getRowByIndex(p);(c=n.querySelectorAll(a+'[data-visibleIndex="'+t+'"]')[0]).focus({preventScroll:!0})})):f<0&&n?this.scrollGrid(u,f,(function(){c.focus({preventScroll:!0})})):c.focus({preventScroll:!0})}else this.horizontalScrollGridToIndex(i,t,(function(){r.focusPrevRow(e,t,i,n,o)}))},n.prototype.horizontalScrollGridToIndex=function(e,t,i){var n=this.getColumnUnpinnedIndex(t,e);e.parentVirtDir.onChunkLoad.pipe(s.first()).subscribe(i),e.dataRowList.length>0?e.dataRowList.first.virtDirRow.scrollTo(n):e.headerContainer.scrollTo(n)},n.prototype.scrollGrid=function(e,t,i){this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),requestAnimationFrame((function(){if("number"==typeof t)e.verticalScrollContainer.addScrollTop(t);else switch(t){case"top":e.verticalScrollContainer.scrollTo(0);break;case"bottom":e.verticalScrollContainer.scrollTo(e.dataView.length-1);break;case"next":e.verticalScrollContainer.scrollNext();break;case"prev":e.verticalScrollContainer.scrollPrev()}e.verticalScrollContainer.onChunkLoad.pipe(s.first()).subscribe(i)}))},n.prototype._navigateUpInChild=function(e,i,n){var o=this,r=e.previousElementSibling,s=this.getNextScrollable(this.grid),a=s.grid,l=a.verticalScrollContainer.scrollPosition,c=s.prev.nativeElement.parentNode.parentNode.parentNode.parentNode,p=parseInt(c.style.top,10);0!==l&&p<0?this.scrollGrid(a,-r.offsetHeight,(function(){return t.prototype.navigateUp.call(o,e,{row:i,column:n})})):t.prototype.navigateUp.call(this,e,{row:i,column:n})},n.prototype._navigateDownInChild=function(e,i,n){var o=this,r=e.nextElementSibling,s=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom<0,a=this.getNextScrollableDown(this.grid).grid;s?t.prototype.navigateDown.call(this,e,{row:i,column:n}):this.scrollGrid(a,r.offsetHeight,(function(){return t.prototype.navigateDown.call(o,e,{row:i,column:n})}))},n.prototype.getNextRowByIndex=function(e){return this.grid.dataRowList.find((function(t){return t.index===e})).element.nativeElement},n=m([i.Injectable()],n)}(lp),Ru={provide:Pd,useFactory:ku};function ku(){return new $n}var Lu=function(e){function t(t,i,n,o,r,s,a,l,c,p,d,u,h,g,f,m,y){var v=e.call(this,t,i,n,o,r,s,a,l,c,p,d,u,h,g,f,m,y)||this;return v.selectionService=t,v.colResizingService=n,v.transactionFactory=r,v.document=l,v.overlayService=f,v.summaryService=m,v._displayDensityOptions=y,v.showExpandAll=!1,v.hgridAPI=o,v}return d(t,e),Object.defineProperty(t.prototype,"maxLevelHeaderDepth",{get:function(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columnList.reduce((function(e,t){return Math.max(e,t.level)}),0)),this._maxLevelHeaderDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlet",{get:function(){return this.rootGrid?this.rootGrid.outletDirective:this.outletDirective},enumerable:!0,configurable:!0}),t.prototype.createColumnsList=function(e){var t=this,i=[];this.onlyTopLevel(e).forEach((function(e){var n=t._createColumn(e);n.changeDetectorRef.detectChanges(),i.push(n.instance)}));var n=function e(t){var i=[];return t.forEach((function(t){i.push(t),t.children&&(i=i.concat(e(t.children.toArray())))})),i}(i);this.columnList.reset(n),this.columnList.notifyOnChanges(),this.initPinning()},t.prototype._createColumn=function(e){return e instanceof Sd?this._createColGroupComponent(e):this._createColComponent(e)},t.prototype._createColGroupComponent=function(e){var t=this,i=this.resolver.resolveComponentFactory(Sd),n=this.viewRef.createComponent(i,null,this.viewRef.injector);if(n.changeDetectorRef.detectChanges(),i.inputs.forEach((function(t){var i=t.propName;n.instance[i]=e[i]})),e.children.length>0){var o=[];e.children.forEach((function(e){var i=t._createColumn(e).instance;i.parent=n.instance,o.push(i)})),n.instance.children.reset(o),n.instance.children.notifyOnChanges()}return n},t.prototype._createColComponent=function(e){var t=this.resolver.resolveComponentFactory(Wc),i=this.viewRef.createComponent(t,null,this.viewRef.injector);return t.inputs.forEach((function(t){var n=t.propName;e[n]instanceof Mc?i.instance[n]=e[n].constructor:i.instance[n]=e[n]})),i},t.prototype.getGridsForIsland=function(e){return this.hgridAPI.getChildGridsForRowIsland(e)},t.prototype.getChildGrid=function(e){if(e)return this.hgridAPI.getChildGrid(e)},t.ctorParameters=function(){return[{type:vc},{type:yc},{type:_p},{type:Bi},{type:void 0,decorators:[{type:i.Inject,args:[Pd]}]},{type:i.ElementRef},{type:i.NgZone},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.ChangeDetectorRef},{type:i.ComponentFactoryResolver},{type:i.IterableDiffers},{type:i.ViewContainerRef},{type:Pu},{type:Cp},{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]},{type:ed},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]}]},m([i.Input()],t.prototype,"expandChildren",void 0),m([i.Input()],t.prototype,"hasChildrenKey",void 0),m([i.Input()],t.prototype,"showExpandAll",void 0),m([i.ViewChild("dragIndicatorIconBase",{read:i.TemplateRef,static:!0})],t.prototype,"dragIndicatorIconBase",void 0),t=m([i.Directive({selector:"[igxHierarchicalGridBase]"}),y(4,i.Inject(Pd)),y(7,i.Inject(o.DOCUMENT)),y(14,i.Inject(Vn)),y(16,i.Optional()),y(16,i.Inject(ao))],t)}(Rd);var Au,Mu,Vu,Fu,Hu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childRowIslands=new Map,t.childGrids=new Map,t}return d(t,e),t.prototype.registerChildRowIsland=function(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new r.Subject)},t.prototype.unsetChildRowIsland=function(e){this.childGrids.delete(e.key),this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)},t.prototype.getChildRowIsland=function(e){return this.childRowIslands.get(e)},t.prototype.getChildGrid=function(e){var t,i=e,n=i.shift(),o=this.childGrids.get(n.rowIslandKey);if(o){var r=o.get(n.rowID);t=0===i.length?r:r.hgridAPI.getChildGrid(i)}return t},t.prototype.getChildGrids=function(e){var t=[];return this.childGrids.forEach((function(i){i.forEach((function(i){(t.push(i),e)&&i.hgridAPI.getChildGrids(e).forEach((function(e){t.push(e)}))}))})),t},t.prototype.getParentRowId=function(e){var t;return this.childGrids.forEach((function(i){i.forEach((function(i,n){i!==e||(t=n)}))})),t},t.prototype.registerChildGrid=function(e,t,i){var n=this.childGrids.get(t);n||(this.childGrids.set(t,new Map),n=this.childGrids.get(t)),n.set(e,i)},t.prototype.getChildGridsForRowIsland=function(e){var t=this.childGrids.get(e),i=[];return t&&t.forEach((function(e){i.push(e)})),i},t.prototype.getChildGridByID=function(e,t){return this.childGrids.get(e).get(t)},t.prototype.get_row_expansion_state=function(t){var i;if(void 0!==t.childGridsData){var n=t.rowID,o=this.grid.primaryKey?this.get_rec_by_id(n):n;i=!!e.prototype.get_row_expansion_state.call(this,o)}else i=!!e.prototype.get_row_expansion_state.call(this,t);return i&&0!==this.grid.childLayoutList.length},t.prototype.allow_expansion_state_change=function(e,t){return!!this.get_rec_by_id(e)&&this.grid.expansionStates.get(e)!==t},t.prototype.get_rec_by_id=function(e){return this.get_all_data(!1)[this.get_row_index_in_data(e)]},t=m([i.Injectable()],t)}(Bi),Bu=function(e){function t(t,n,o,r,s,a,l,c,p,d,u,h,g,f,m,y,v,b){var x=e.call(this,t,n,o,r,"function"==typeof s?s():s,a,l,c,p,d,u,h,g,f,m,y,v)||this;return x.selectionService=t,x.colResizingService=o,x.transactionFactory=s,x.document=c,x.overlayService=m,x.summaryService=y,x._displayDensityOptions=v,x.rowIslandAPI=b,x.children=new i.QueryList,x.childColumns=new i.QueryList,x.onLayoutChange=new i.EventEmitter,x.onGridCreated=new i.EventEmitter,x.initialChanges=[],x.rootGrid=null,x.layout_id="igx-row-island-",x.isInit=!1,x.hgridAPI=r,x}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"expandChildren",{get:function(){return this._defaultExpandState},set:function(e){this._defaultExpandState=e,this.rowIslandAPI.getChildGrids().forEach((function(t){document.body.contains(t.nativeElement)?(t.expandChildren=e,t.markForCheck()):t.updateOnRender=!0}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){var e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.parentIsland?this.parentIsland.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this.parentIsland,t=0;e;)t++,e=e.parentIsland;return t+1},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.rootGrid=this.hgridAPI.grid,this.rowIslandAPI.rowIsland=this},t.prototype.ngDoCheck=function(){},t.prototype.ngAfterContentInit=function(){var e=this;this.updateChildren(),this.children.notifyOnChanges(),this.children.changes.pipe(s.takeUntil(this.destroy$)).subscribe((function(t){e.updateChildren(),e.getGridsForIsland(e.key).forEach((function(t){t.onRowIslandChange(e.children)}))}));var t=this.children.map((function(e){return e.columnList.toArray()})),i=[].concat.apply([],t),n=this.columnList.filter((function(e){return-1===i.indexOf(e)}));this.childColumns.reset(n),this.columnList.changes.pipe(s.takeUntil(this.destroy$)).subscribe((function(){e.updateColumnList()}))},t.prototype.updateChildren=function(){var e=this;this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((function(t){t.parentIsland=e}))},t.prototype.ngAfterViewInit=function(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.hgridAPI.registerChildRowIsland(this),this._init=!1},t.prototype.ngOnChanges=function(e){this.onLayoutChange.emit(e),this.isInit||this.initialChanges.push(e)},t.prototype.ngOnDestroy=function(){var e=this;this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this.rowIslandAPI.unset(this.id),this.parentIsland?(this.getGridsForIsland(this.key).forEach((function(t){e.cleanGridState(t),t.hgridAPI.unsetChildRowIsland(e)})),this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)):(this.rootGrid.hgridAPI.unsetChildRowIsland(this),this.cleanGridState(this.rootGrid))},t.prototype.cleanGridState=function(e){e.childGridTemplates.forEach((function(e){e.owner.cleanView(e.context.templateID)})),e.childGridTemplates.clear(),e.onRowIslandChange()},t.prototype.reflow=function(){},t.prototype.calculateGridHeight=function(){},t.prototype.updateColumnList=function(){var e=this,t=this.children.map((function(e){return e.columnList.toArray()})),i=[].concat.apply([],t),n=this.columnList.filter((function(e){return-1===i.indexOf(e)&&(e.defaultWidth=void 0,!0)}));this.childColumns.reset(n),this.parentIsland?this.parentIsland.columnList.notifyOnChanges():this.rootGrid.columnList.notifyOnChanges(),this.rowIslandAPI.getChildGrids().forEach((function(t){t.createColumnsList(e.childColumns.toArray()),document.body.contains(t.nativeElement)||(t.updateOnRender=!0)}))},t.ctorParameters=function(){return[{type:vc},{type:yc},{type:_p},{type:Bi},{type:void 0,decorators:[{type:i.Inject,args:[Pd]}]},{type:i.ElementRef},{type:i.NgZone},{type:void 0,decorators:[{type:i.Inject,args:[o.DOCUMENT]}]},{type:i.ChangeDetectorRef},{type:i.ComponentFactoryResolver},{type:i.IterableDiffers},{type:i.ViewContainerRef},{type:Pu},{type:Cp},{type:Vn,decorators:[{type:i.Inject,args:[Vn]}]},{type:ed},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[ao]}]},{type:gc}]},m([i.Input()],t.prototype,"key",void 0),m([i.Input()],t.prototype,"expandChildren",null),m([i.ContentChildren(n,{read:n,descendants:!1})],t.prototype,"children",void 0),m([i.ContentChildren(Wc,{read:Wc,descendants:!1})],t.prototype,"childColumns",void 0),m([i.Output()],t.prototype,"onLayoutChange",void 0),m([i.Output()],t.prototype,"onGridCreated",void 0),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,selector:"igx-row-island",template:"",providers:[gc]}),y(4,i.Inject(Pd)),y(7,i.Inject(o.DOCUMENT)),y(14,i.Inject(Vn)),y(16,i.Optional()),y(16,i.Inject(ao))],t)}(Lu),ju=function(){function e(e,t,i,n){this.gridAPI=e,this.element=t,this.cdr=n,this.expanded=!1,this.rowData=[],this.tabindex=0,this.role="row",this.resolver=i}return Object.defineProperty(e.prototype,"parentHasScroll",{get:function(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentGrid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.layout.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.layout.onLayoutChange.subscribe((function(t){e._handleLayoutChanges(t)})),this.layout.initialChanges.forEach((function(t){e._handleLayoutChanges(t)})),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,this.hGrid.childRow=this,this.setupEventEmitters(),this.layout.onGridCreated.emit({owner:this.layout,parentID:this.rowData.rowID,grid:this.hGrid})},e.prototype.ngAfterViewInit=function(){var e=this;this.hGrid.childLayoutList=this.layout.children,this.layout.childColumns.length>0&&!this.hGrid.autoGenerate&&this.hGrid.createColumnsList(this.layout.childColumns.toArray()),this.hGrid.childLayoutList.toArray().forEach((function(t){return e.hGrid.hgridAPI.registerChildRowIsland(t)})),this.parentGrid.hgridAPI.registerChildGrid(this.rowData.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.rowData.rowID,this.hGrid),this.hGrid.cdr.detectChanges()},e.prototype.setupEventEmitters=function(){var e=this,t=s.takeUntil(this.hGrid.destroy$),i=this.resolver.resolveComponentFactory(Md),n=i.inputs.map((function(e){return e.propName}));i.outputs.filter((function(e){var t=e.propName.slice(0,e.propName.indexOf("Change"));return-1===n.indexOf(t)})).forEach((function(i){e.hGrid[i.propName]&&e.hGrid[i.propName].pipe(t).subscribe((function(t){t||(t={}),t.owner=e.hGrid,e.layout[i.propName].emit(t)}))}))},e.prototype._handleLayoutChanges=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)},e.ctorParameters=function(){return[{type:Bi},{type:i.ElementRef},{type:i.ComponentFactoryResolver},{type:i.ChangeDetectorRef}]},m([i.Input()],e.prototype,"layout",void 0),m([i.Input()],e.prototype,"parentGridID",void 0),m([i.Input()],e.prototype,"rowData",void 0),m([i.Input()],e.prototype,"index",void 0),m([i.ViewChild("hgrid",{static:!0})],e.prototype,"hGrid",void 0),m([i.HostBinding("attr.tabindex")],e.prototype,"tabindex",void 0),m([i.HostBinding("attr.role")],e.prototype,"role",void 0),m([i.HostBinding("attr.data-level")],e.prototype,"level",null),e=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-child-grid-row",template:"<div class=\"igx-grid__hierarchical-indent\" [ngClass]=\"{'igx-grid__hierarchical-indent--scroll': parentHasScroll}\">\n    <igx-hierarchical-grid #hgrid [data]='rowData.childGridsData[layout.key]'></igx-hierarchical-grid>\n</div>\n"})],e)}(),Nu=0,Gu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hierarchicalStateChange=new i.EventEmitter,t.childLayoutKeys=[],t.highlightedRowID=null,t.updateOnRender=!1,t.parent=null,t._filteredData=null,t.h_id="igx-hierarchical-grid-"+Nu++,t.childGridTemplates=new Map,t.scrollTop=0,t.scrollLeft=0,t}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"id",{get:function(){return this.h_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[],this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),!this.parent||null!==this.height&&-1===this.height.indexOf("%")||this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hierarchicalState",{get:function(){return Array.from(this.expansionStates.entries()).filter((function(e){return!0===e[1]})).map((function(e){return b(e,1)[0]}))},set:function(e){var t=this;this.hasChildrenKey&&(e=e.filter((function(e){return(t.primaryKey?t.data.find((function(i){return i[t.primaryKey]===e.rowID})):e.rowID)[t.hasChildrenKey]})));var i=new Map;e.forEach((function(e){var n=t.primaryKey?t.data.find((function(i){return i[t.primaryKey]===e.rowID})):e.rowID;i.set(n,!0)})),this.expansionStates=i,this.parent&&this.notifyChanges(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandChildren",{get:function(){return this._defaultExpandState},set:function(e){this._defaultExpandState=e,this.expansionStates=new Map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"foreignKey",{get:function(){return this.parent?this.parent.hgridAPI.getParentRowId(this):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasExpandableChildren",{get:function(){return!!this.childLayoutKeys.length},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._transactions instanceof $n&&(this._transactions=new $n),this.expansionStatesChange.pipe(s.takeUntil(this.destroy$)).subscribe((function(e){var i=Array.from(e.entries()).filter((function(e){return!0===e[1]})).map((function(e){return b(e,1)[0]}));t.hierarchicalStateChange.emit(i)})),e.prototype.ngOnInit.call(this)},t.prototype.ngDoCheck=function(){this._cdrRequestRepaint&&!this._init&&this.updateSizes(),e.prototype.ngDoCheck.call(this)},t.prototype.ngAfterViewInit=function(){var t=this;e.prototype.ngAfterViewInit.call(this),this.verticalScrollContainer.getScroll().addEventListener("scroll",this.hg_verticalScrollHandler.bind(this)),this.headerContainer.getScroll().addEventListener("scroll",this.hg_horizontalScrollHandler.bind(this)),this.verticalScrollContainer.onBeforeViewDestroyed.pipe(s.takeUntil(this.destroy$)).subscribe((function(e){var i=e.context.$implicit;if(t.isChildGridRecord(i)){var n=t.childGridTemplates.get(i.rowID);if(n)n.owner._viewContainerRef.detach(0)}})),this.parent&&(this._displayDensity=this.rootGrid._displayDensity,this.rootGrid.onDensityChanged.pipe(s.takeUntil(this.destroy$)).subscribe((function(){t._displayDensity=t.rootGrid._displayDensity,t.notifyChanges(!0),t.cdr.markForCheck()})),this.childLayoutKeys=this.parentIsland.children.map((function(e){return e.key}))),this.toolbarCustomContentTemplates=this.parentIsland?this.parentIsland.toolbarCustomContentTemplates:this.toolbarCustomContentTemplates,this.headSelectorsTemplates=this.parentIsland?this.parentIsland.headSelectorsTemplates:this.headSelectorsTemplates,this.rowSelectorsTemplates=this.parentIsland?this.parentIsland.rowSelectorsTemplates:this.rowSelectorsTemplates,this.dragIndicatorIconTemplate=this.parentIsland?this.parentIsland.dragIndicatorIconTemplate:this.dragIndicatorIconTemplate,this.rowExpandedIndicatorTemplate=this.rootGrid.rowExpandedIndicatorTemplate,this.rowCollapsedIndicatorTemplate=this.rootGrid.rowCollapsedIndicatorTemplate,this.headerCollapseIndicatorTemplate=this.rootGrid.headerCollapseIndicatorTemplate,this.headerExpandIndicatorTemplate=this.rootGrid.headerExpandIndicatorTemplate,this.hasChildrenKey=this.parentIsland&&this.parentIsland.hasChildrenKey||this.rootGrid.hasChildrenKey,this.showExpandAll=this.parentIsland?this.parentIsland.showExpandAll:this.rootGrid.showExpandAll},t.prototype.updateSizes=function(){document.body.contains(this.nativeElement)&&this.isPercentWidth&&(this.reflow(),this.hgridAPI.getChildGrids(!1).forEach((function(e){e.updateSizes()})))},t.prototype._shouldAutoSize=function(t){return!(!this.isPercentHeight||!this.parent)||e.prototype._shouldAutoSize.call(this,t)},Object.defineProperty(t.prototype,"outletDirective",{get:function(){return this.rootGrid._outletDirective},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.updateColumnList(!1),this.childLayoutKeys=this.parent?this.parentIsland.children.map((function(e){return e.key})):this.childLayoutKeys=this.childLayoutList.map((function(e){return e.key})),this.childLayoutList.notifyOnChanges(),this.childLayoutList.changes.pipe(s.takeUntil(this.destroy$)).subscribe((function(){return t.onRowIslandChange()})),e.prototype.ngAfterContentInit.call(this)},t.prototype.featureColumnsWidth=function(){return e.prototype.featureColumnsWidth.call(this,this.headerHierarchyExpander)},t.prototype.onRowIslandChange=function(){this.parent?this.childLayoutKeys=this.parentIsland.children.filter((function(e){return!e._destroyed})).map((function(e){return e.key})):this.childLayoutKeys=this.childLayoutList.filter((function(e){return!e._destroyed})).map((function(e){return e.key})),this.cdr.destroyed||this.cdr.detectChanges()},t.prototype.onColumnsChanged=function(t){var i=this;this.updateColumnList();var n=t.filter((function(e){return e.gridAPI.grid===i}));(n.length>0||this.autoGenerate)&&(this.columnList.reset(n),e.prototype.onColumnsChanged.call(this,this.columnList))},t.prototype.updateColumnList=function(e){void 0===e&&(e=!0);var t=(this.parent?this.childLayoutList:this.allLayoutList).map((function(e){return e.columnList.toArray()})),i=[].concat.apply([],t),n=this.columnList.length;if(i.length>0){var o=this.columnList.filter((function(e){return-1===i.indexOf(e)}));this.columnList.reset(o),e&&this.columnList.length!==n&&this.calculateGridSizes(!1)}},t.prototype.ngOnDestroy=function(){this.parent||this.hgridAPI.getChildGrids(!0).forEach((function(e){e.childRow.cdr.destroyed||e.childRow.cdr.destroy()})),this.parent&&this.selectionService.activeElement&&this._clearSeletionHighlights(),e.prototype.ngOnDestroy.call(this)},t.prototype._clearSeletionHighlights=function(){x([this.rootGrid],this.rootGrid.getChildGrids(!0)).forEach((function(e){e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))},Object.defineProperty(t.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),t.prototype.isRowHighlighted=function(e){return this.highlightedRowID===e.rowID},t.prototype.isHierarchicalRecord=function(e){return 0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]},t.prototype.isChildGridRecord=function(e){return void 0!==e.childGridsData},t.prototype.trackChanges=function(e,t){return void 0!==t.childGridsData?t.rowID:t},t.prototype.getContext=function(e){if(this.isChildGridRecord(e)){var t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.dataView.indexOf(e)}:{$implicit:e,templateID:"childRow-"+(this.primaryKey?e.rowID:this.data.indexOf(e.rowID)),index:this.dataView.indexOf(e)}}return{$implicit:e,templateID:"dataRow",index:this.dataView.indexOf(e)}},Object.defineProperty(t.prototype,"rootGrid",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTemplate",{get:function(){return!(this.hasExpandedRecords()&&this.hasExpandableChildren)&&this.showExpandAll?this.headerCollapseIndicatorTemplate||this.defaultCollapsedTemplate:this.headerExpandIndicatorTemplate||this.defaultExpandedTemplate},enumerable:!0,configurable:!0}),t.prototype.getDragGhostCustomTemplate=function(){return this.parentIsland?this.parentIsland.getDragGhostCustomTemplate():e.prototype.getDragGhostCustomTemplate.call(this)},t.prototype.initColumns=function(t,i){if(void 0===i&&(i=null),this.hasColumnLayouts){var n=this.columnList.filter((function(e){return!e.columnLayout&&!e.columnLayoutChild}));this.columnList.reset(n)}e.prototype.initColumns.call(this,t,i)},t.prototype.getVisibleContentHeight=function(){var t=e.prototype.getVisibleContentHeight.call(this);if(this.parent){var i=this.rootGrid.getVisibleContentHeight(),n=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;t=i-n>t?t:i-n}return t},t.prototype.toggleAll=function(){!(this.hasExpandedRecords()&&this.hasExpandableChildren)&&this.showExpandAll?this.expandAll():this.collapseAll()},t.prototype.hasExpandedRecords=function(){if(this.expandChildren)return!0;var e=!1;return this.expansionStates.forEach((function(t,i){t&&(e=t)})),e},t.prototype.getDefaultExpandState=function(e){return this.expandChildren},t.prototype.isExpanded=function(e){return this.gridAPI.get_row_expansion_state(e)},t.prototype.viewCreatedHandler=function(e){if(this.isChildGridRecord(e.context.$implicit)){var t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}},t.prototype.viewMovedHandler=function(e){var t=this;if(this.isChildGridRecord(e.context.$implicit)){var i=e.context.$implicit.rowID;this.childGridTemplates.get(i).owner=e.owner,this.childLayoutList.forEach((function(i){var n=t.hgridAPI.getChildGridByID(i.key,e.context.$implicit.rowID);n&&n.updateOnRender&&(n.notifyChanges(!0),n.updateOnRender=!1)})),this.getChildGrids(!0).forEach((function(e){e.isPercentWidth&&e.notifyChanges(!0),e.updateScrollPosition()}))}},t.prototype.updateScrollPosition=function(){var e=this.verticalScrollContainer.getScroll(),t=this.headerContainer.getScroll();e&&(e.scrollTop=this.scrollTop),t&&(t.scrollLeft=this.scrollLeft)},t.prototype.getChildGrids=function(e){return this.hgridAPI.getChildGrids(e)},t.prototype.generateDataFields=function(t){var i=this;return e.prototype.generateDataFields.call(this,t).filter((function(e){return-1===(i.parentIsland?i.parentIsland.children:i.childLayoutList).map((function(e){return e.key})).indexOf(e)}))},t.prototype.hg_verticalScrollHandler=function(e){this.scrollTop=e.target.scrollTop},t.prototype.onContainerScroll=function(){this.hideOverlays()},t.prototype.hg_horizontalScrollHandler=function(e){this.scrollLeft=e.target.scrollLeft},m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",null),m([i.Input()],t.prototype,"data",null),m([i.Input(),Rn("'hierarchicalState' property is deprecated. Use 'expansionStates' instead.")],t.prototype,"hierarchicalState",null),m([i.Output(),Rn("'hierarchicalStateChange' @Output property is deprecated. Use 'expansionStates' instead.")],t.prototype,"hierarchicalStateChange",void 0),m([i.Input()],t.prototype,"expandChildren",null),m([i.ContentChildren(Bu,{read:Bu,descendants:!1})],t.prototype,"childLayoutList",void 0),m([i.ContentChildren(Bu,{read:Bu,descendants:!0})],t.prototype,"allLayoutList",void 0),m([i.ViewChild("hierarchical_record_template",{read:i.TemplateRef,static:!0})],t.prototype,"hierarchicalRecordTemplate",void 0),m([i.ViewChild("child_record_template",{read:i.TemplateRef,static:!0})],t.prototype,"childTemplate",void 0),m([i.ViewChild("headerHierarchyExpander",{read:i.ElementRef,static:!0})],t.prototype,"headerHierarchyExpander",void 0),m([i.ViewChildren(Fl,{read:Fl})],t.prototype,"templateOutlets",void 0),m([i.ViewChildren(ju,{read:ju})],t.prototype,"hierarchicalRows",void 0),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid",template:'<igx-grid-toolbar role="rowgroup" [style.max-width.px]=\'outerWidth\' [style.flex-basis.px]="outerWidth" *ngIf="showToolbar" [gridID]="id"\n    [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" role="rowgroup" [style.width.px]=\'calcWidth\' #theadRow>\n        <div class="igx-grid__tr" role="row" [style.width.px]=\'calcWidth\'>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n                [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-left"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n                [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <div #headerHierarchyExpander (click)="toggleAll()" [hidden]=\'!hasExpandableChildren || !hasVisibleColumns\' [ngClass]="{\n                \'igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header\': hasExpandableChildren,\n                \'igx-grid__hierarchical-expander--push\': filteringService.isFilterRowVisible,\n                \'igx-grid__hierarchical-expander--no-border\': isRowSelectable || rowDraggable\n            }">\n                <ng-container *ngTemplateOutlet="iconTemplate; context: { $implicit: this }"></ng-container>\n            </div>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" [ngClass]="{\n                        \'igx-grid__drag-indicator--header\': !isRowSelectable\n                    }" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container\n                            *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase">\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowSelectors">\n                <div class="igx-grid__cbx-selection" (click)="onHeaderSelectorClick($event)" #headerSelectorContainer [ngClass]="{\n                        \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                    }">\n                    <ng-template #headSelector\n                        *ngTemplateOutlet="\n                        this.headSelectorTemplate ? this.headSelectorTemplate : headSelectorBaseTemplate;\n                        context: { $implicit: {\n                                        selectedCount: this.selectionService.filteredSelectedRowIds.length,\n                                        totalCount: this.totalRowsCountAfterFilter,\n                                        selectAll: selectAllRows.bind(this),\n                                        deselectAll: deselectAllRows.bind(this) }}">\n                    </ng-template>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width]="getHeaderGroupWidth(col)"\n                        [style.flex-basis]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel"\n                [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'\n                [igxForSizePropName]=\'"calcPixelWidth"\' #hContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width]="getHeaderGroupWidth(col)"\n                    [style.flex-basis]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow [style.width.px]=\'calcWidth\' *ngIf="filteringService.isFilterRowVisible"\n            [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <div [style.display]="shouldOverlayLoading ? \'flex\' : \'none\'" #loadingOverlay>\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div igxGridBody (keydown.control.c)="copyHandlerIE()" (copy)="copyHandler($event)" class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" (onDragStop)="selectionService.dragMode = $event"\n        (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode" role="rowgroup"\n        [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth\' #tbody (scroll)=\'scrollHandler($event)\'>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n            [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n            [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | gridTransaction:id:pipeTrigger\n        | visibleColumns:hasVisibleColumns\n        | gridFiltering:filteringExpressionsTree:filterStrategy:advancedFilteringExpressionsTree:id:pipeTrigger:filteringPipeTrigger\n        | gridSort:sortingExpressions:sortStrategy:id:pipeTrigger\n        | gridHierarchicalPaging:page:perPage:id:pipeTrigger\n        | gridHierarchical:expansionStates:id:primaryKey:childLayoutKeys:pipeTrigger" let-rowIndex="index"\n            [igxForScrollOrientation]="\'vertical\'" [igxForScrollContainer]=\'verticalScroll\'\n            [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="renderedRowHeight" [igxForTrackBy]=\'trackChanges\'\n            #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n            <ng-template #hierarchical_record_template>\n                <igx-hierarchical-grid-row [gridID]="id" [index]="rowIndex" [rowData]="rowData" #row>\n                </igx-hierarchical-grid-row>\n            </ng-template>\n            <ng-template #child_record_template let-rowIndex="index" let-rowData>\n                <div style="overflow:auto;width: 100%;" [attr.data-rowindex]=\'rowIndex\' (scroll)=\'onContainerScroll()\'\n                    [ngClass]="{\n                    \'igx-grid__tr-container\': true,\n                    \'igx-grid__tr--highlighted\':isRowHighlighted(rowData)\n                }">\n                    <igx-child-grid-row *ngFor="let layout of childLayoutList" [parentGridID]="id" [index]="rowIndex"\n                        [rowData]="rowData" [layout]=\'layout\' #row>\n                    </igx-child-grid-row>\n                </div>\n            </ng-template>\n            <ng-template\n            [igxTemplateOutlet]=\'(isHierarchicalRecord(rowData) ? hierarchical_record_template : (isChildGridRecord(rowData) && isExpanded(rowData) ? child_record_template : hierarchical_record_template))\'\n            [igxTemplateOutletContext]=\'getContext(rowData)\' (onViewCreated)=\'viewCreatedHandler($event)\'\n            (onViewMoved)=\'viewMovedHandler($event)\' (onCachedViewLoaded)=\'cachedViewLoaded($event)\'\n            (onBeforeViewDetach)=\'viewDetachHandler($event)\'></ng-template>\n            \x3c!-- <ng-container *igxTemplateOutlet="(isHierarchicalRecord(rowData) ? hierarchical_record_template : (isChildGridRecord(rowData) && isExpanded(rowData) ? child_record_template : hierarchical_record_template)); context: getContext(rowData)"></ng-container> --\x3e\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n            id="right" class="igx-grid__scroll-on-drag-right"></span>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="headerContainer" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth"\n        [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0"\n        class="igx-grid__summaries" #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\'\n        [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="isHorizontalScrollHidden">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__footer" #footer>\n    <ng-content select="igx-grid-footer"></ng-content>\n    <ng-container *ngIf="paging && totalRecords">\n        <ng-container\n            *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPaginator; context: {$implicit: this}">\n        </ng-container>\n    </ng-container>\n</div>\n\n<ng-template #defaultPaginator>\n    <igx-paginator [displayDensity]="displayDensity" [(page)]="page" [totalRecords]="totalRecords" [(perPage)]="perPage">\n    </igx-paginator>\n</ng-template>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<ng-template #defaultCollapsedTemplate>\n    <igx-icon role="button" fontSet="material">unfold_more</igx-icon>\n</ng-template>\n\n<ng-template #defaultExpandedTemplate>\n    <igx-icon role="button" [isActive]=\'hasExpandedRecords() && hasExpandableChildren\' fontSet="material">unfold_less</igx-icon>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container\n            *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }">\n        </ng-container>\n    </div>\n</div>\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container\n                *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }">\n            </ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container\n                *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<ng-template #headSelectorBaseTemplate igxHeadSelector let-context>\n    <div class="igx-grid__cbx-padding">\n        <igx-checkbox\n            [readonly]="true"\n            [checked]="context.selectedCount > 0 && context.totalCount === context.selectedCount"\n            disableRipple="true"\n            [ngStyle]="{\'visibility\': isMultiRowSelectionEnabled? \'visible\' : \'hidden\' }"\n            [indeterminate]="context.selectedCount > 0 && context.selectedCount !== context.totalCount"\n            [aria-label]="headSelectorBaseAriaLabel"\n            #headerCheckbox>\n        </igx-checkbox>\n    </div>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__loading-outlet" #igxLoadingOverlayOutlet igxOverlayOutlet></div>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet (keydown)="gridOutletKeyboardHandler($event)"></div>\n',providers:[vc,yc,{provide:Bi,useClass:Hu},{provide:Rd,useExisting:i.forwardRef((function(){return n}))},ed,Cp,Pu,bo,xo,gc]})],t)}(Lu),zu=function(e){function t(t,i,n,o,r,s,a,l){var c=e.call(this,t,i,n,o,r,s,a,l)||this;return c.selectionService=t,c.crudService=i,c.gridAPI=n,c.cdr=o,c.helement=r,c.zone=s,c.platformUtil=l,c}return d(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this._rootGrid=this._getRootGrid()},t.prototype._getRootGrid=function(){for(var e=this.grid;e.parent;)e=e.parent;return e},t.prototype._clearAllHighlights=function(){x([this._rootGrid],this._rootGrid.getChildGrids(!0)).forEach((function(e){e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))},t.prototype.onFocus=function(t){if(!this.focused){this._clearAllHighlights();var i,n=this.grid.nativeElement,o=this.grid;for(this._rootGrid.id!==n.id&&n.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==o.id;){i=o;var r=(o=o.parent).hgridAPI.getParentRowId(i);o.highlightedRowID=r}e.prototype.onFocus.call(this,t)}},t.prototype.dispatchEvent=function(t){var i=t.key.toLowerCase();if(!t.altKey||this.row.added)e.prototype.dispatchEvent.call(this,t);else{var n=this.row.expanded&&("left"===i||"arrowleft"===i||"up"===i||"arrowup"===i),o=!this.row.expanded&&("right"===i||"arrowright"===i||"down"===i||"arrowdown"===i);n?this.gridAPI.set_row_expansion_state(this.row.rowID,!1,t):o&&this.gridAPI.set_row_expansion_state(this.row.rowID,!0,t)}},t.ctorParameters=function(){return[{type:vc},{type:yc},{type:Bi},{type:i.ChangeDetectorRef},{type:i.ElementRef},{type:i.NgZone},{type:Ec},{type:ui}]},m([i.HostListener("focus",["$event"])],t.prototype,"onFocus",null),t=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" />\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue"\n            [igxFocus]="focused" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n            [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n        </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n',providers:[Ec]})],t)}(Oc),Wu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabindex=0,t.select=function(){t.grid.selectRows([t.rowID])},t.deselect=function(){t.grid.deselectRows([t.rowID])},t}var n;return d(t,e),n=t,Object.defineProperty(t.prototype,"viewIndex",{get:function(){return this.index+this.grid.page*this.grid.perPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this.gridAPI.get_row_expansion_state(this.rowData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return!!this.grid.childLayoutKeys.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlighted",{get:function(){return this.grid&&this.grid.highlightedRowID===this.rowID},enumerable:!0,configurable:!0}),t.prototype.expanderClick=function(e){e.stopPropagation(),this.toggle()},t.prototype.toggle=function(){if(!this.added){var e=this.gridAPI.grid;this.endEdit(e.rootGrid),this.gridAPI.set_row_expansion_state(this.rowID,!this.expanded),e.cdr.detectChanges()}},Object.defineProperty(t.prototype,"iconTemplate",{get:function(){var e=!0;return this.grid.hasChildrenKey&&(e=this.rowData[this.grid.hasChildrenKey]),e?this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate:this.defaultEmptyTemplate},enumerable:!0,configurable:!0}),t.prototype.endEdit=function(e){e.crudService.inEditMode&&e.endEdit(),e.hgridAPI.getChildGrids(!0).forEach((function(e){e.crudService.inEditMode&&e.endEdit()}))},m([i.ViewChildren(i.forwardRef((function(){return zu})),{read:zu})],t.prototype,"cells",void 0),m([i.ViewChild("expander",{read:i.ElementRef})],t.prototype,"expander",void 0),m([i.ViewChild("defaultExpandedTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultExpandedTemplate",void 0),m([i.ViewChild("defaultEmptyTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultEmptyTemplate",void 0),m([i.ViewChild("defaultCollapsedTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultCollapsedTemplate",void 0),m([i.HostBinding("attr.tabindex")],t.prototype,"tabindex",void 0),m([i.HostBinding("class.igx-grid__tr--expanded")],t.prototype,"expanded",null),m([i.HostBinding("class.igx-grid__tr--highlighted")],t.prototype,"highlighted",null),t=n=m([i.Component({changeDetection:i.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid-row",template:'<div (click)="expanderClick($event)" class="igx-grid__hierarchical-expander" [tabIndex]="tabindex" *ngIf="hasChildren" #expander>\n        <ng-container *ngTemplateOutlet="iconTemplate; context: { $implicit: this }">\n        </ng-container>\n</div>\n<ng-template #defaultExpandedTemplate>\n        <igx-icon [isActive]=\'!added\' fontSet="material">expand_more</igx-icon>\n    </ng-template>\n\n<ng-template #defaultCollapsedTemplate>\n        <igx-icon [isActive]=\'!added\' fontSet="material">chevron_right</igx-icon>\n </ng-template>\n\n <ng-template #defaultEmptyTemplate>\n    <igx-icon fontSet="material"></igx-icon>\n</ng-template>\n\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this" (click)="$event.stopPropagation()" [ghostTemplate]="this.grid.getDragGhostCustomTemplate()">\n            <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="showRowSelectors">\n    <div class="igx-grid__cbx-selection" (click)="onRowSelectorClick($event)">\n        <ng-template *ngTemplateOutlet="\n            this.grid.rowSelectorTemplate ? this.grid.rowSelectorTemplate : rowSelectorBaseTemplate;\n            context: { $implicit: {\n                            index: viewIndex,\n                            rowID: rowID,\n                            selected: selected,\n                            select: select,\n                            deselect: deselect }}">\n        </ng-template>\n    </div>\n</ng-container>\n\n<ng-container *ngIf="pinnedColumns.length > 0">\n    <igx-hierarchical-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n        class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n        [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [lastPinned]="col.isLastPinned"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width]="col.width"\n        [style.max-width]="col.width"\n        [style.flex-basis]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate"\n        [lastSearchInfo]="grid.lastSearchInfo"\n        [cellSelectionMode]="grid.cellSelection">\n    </igx-hierarchical-grid-cell>\n</ng-container>\n\n<ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForSizePropName]=\'"calcPixelWidth"\' [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n    <igx-hierarchical-grid-cell\n        class="igx-grid__td igx-grid__td--fw"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyleClasses:rowData[col.field]:rowData:col.field:viewIndex"\n        [ngStyle]="col.cellStyles | igxCellStyles:rowData[col.field]:rowData:col.field:viewIndex"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width]="col.width"\n        [style.max-width]="col.width"\n        [style.flex-basis]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate"\n        [lastSearchInfo]="grid.lastSearchInfo"\n        [cellSelectionMode]="grid.cellSelection">\n    </igx-hierarchical-grid-cell>\n</ng-template>\n\n<ng-template #rowSelectorBaseTemplate>\n    <div class="igx-grid__cbx-padding">\n        <igx-checkbox\n            [readonly]="true"\n            [checked]="selected"\n            disableRipple="true"\n            [disabled]="deleted"\n            [disableTransitions]="grid.disableTransitions"\n            [aria-label]="rowCheckboxAriaLabel">\n        </igx-checkbox>\n    </div>\n</ng-template>\n',providers:[{provide:Tc,useExisting:i.forwardRef((function(){return n}))}]})],t)}(Tc),Uu=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o,r){if(void 0===t&&(t=new Map),0===o.length)return e;var s=this.gridAPI.grid;return this.addHierarchy(s,ii(e),t,n,o)},e.prototype.addHierarchy=function(e,t,i,n,o){var r=[];return t.forEach((function(t){r.push(t);var i={};o.forEach((function(e){var n=t[e]?t[e]:null;i[e]=n})),e.gridAPI.get_row_expansion_state(t)&&r.push({rowID:n?t[n]:t,childGridsData:i})})),r},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridHierarchical",pure:!0})],e)}(),$u=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,i,n,o){if(void 0===t&&(t=0),void 0===i&&(i=15),!this.gridAPI.grid.paging)return e;var r={index:t,recordsPerPage:i},s=Fi.page(ii(e),r);return this.gridAPI.grid.pagingState=r,s},e.ctorParameters=function(){return[{type:Bi}]},e=m([i.Pipe({name:"gridHierarchicalPaging",pure:!0})],e)}(),Ku=function(){function e(){}return e=m([i.NgModule({declarations:[Lu,Gu,Wu,Bu,ju,zu,Uu,$u],exports:[fu,Gu,Wu,zu,Bu,ju],imports:[fu],entryComponents:[Md]})],e)}(),Yu=function(){function e(){}return e=m([i.Directive({selector:"igx-action-icon"})],e)}(),Xu=0,qu=function(){function e(){this.isVisible=!0,this.id="igx-navbar-"+Xu++,this.onAction=new i.EventEmitter,this.titleId="igx-navbar-"+t.NEXT_ID++}var t;return t=e,Object.defineProperty(e.prototype,"isActionButtonVisible",{get:function(){return!(this.actionIconTemplate||!this.actionButtonIcon)&&this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),e.prototype._triggerAction=function(){this.onAction.emit(this)},e.NEXT_ID=1,m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"isActionButtonVisible",null),m([i.Input()],e.prototype,"actionButtonIcon",void 0),m([i.Input()],e.prototype,"title",void 0),m([i.Output()],e.prototype,"onAction",void 0),m([i.Input()],e.prototype,"titleId",void 0),m([i.ContentChild(Yu,{read:Yu})],e.prototype,"actionIconTemplate",void 0),e=t=m([i.Component({selector:"igx-navbar",template:'<nav class="igx-navbar" role="navigation" [attr.aria-labelledby]="titleId">\n    <div class="igx-navbar__left">\n        <igx-icon (click)="_triggerAction()" fontSet="material" *ngIf="isActionButtonVisible">{{actionButtonIcon}}</igx-icon>\n        <ng-content select="igx-action-icon"></ng-content>\n        <h1 class="igx-navbar__title" [attr.id]="titleId">{{ title }}</h1>\n    </div>\n    <div class="igx-navbar__right">\n        <ng-content></ng-content>\n    </div>\n</nav>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]})],e)}(),Zu=function(){function e(){}return e=m([i.NgModule({declarations:[qu,Yu],exports:[qu,Yu],imports:[Xo,rs,o.CommonModule]})],e)}(),Ju=function(){function e(){this.active=!1,this.isHeader=!1,this.activeClass="igx-nav-drawer__item--active"}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.active&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.active&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerCSS",{get:function(){return this.isHeader},enumerable:!0,configurable:!0}),m([i.Input("active")],e.prototype,"active",void 0),m([i.Input("isHeader")],e.prototype,"isHeader",void 0),m([i.HostBinding("class.igx-nav-drawer__item")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-nav-drawer__item--active")],e.prototype,"currentCSS",null),m([i.HostBinding("class.igx-nav-drawer__item--header")],e.prototype,"headerCSS",null),e=m([i.Directive({selector:"[igxDrawerItem]",exportAs:"igxDrawerItem"})],e)}(),Qu=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxDrawer]"})],e)}(),eh=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxDrawerMini]"})],e)}(),th=0,ih=function(){function e(e,t,n,o,r){var s=this;this.elementRef=e,this._state=t,this.renderer=n,this._touchManager=o,this.platformUtil=r,this._isOpen=!1,this.cssClass=!0,this.id="igx-nav-drawer-"+th++,this.position="left",this.enableGestures=!0,this.isOpenChange=new i.EventEmitter,this.pin=!1,this.pinThreshold=1024,this.width="280px",this.miniWidth="68px",this.pinChange=new i.EventEmitter(!0),this.opening=new i.EventEmitter,this.opened=new i.EventEmitter,this.closing=new i.EventEmitter,this.closed=new i.EventEmitter,this._gesturesAttached=!1,this._widthCache={width:null,miniWidth:null,windowWidth:null},this.css={drawer:"igx-nav-drawer__aside",mini:"igx-nav-drawer__aside--mini",overlay:"igx-nav-drawer__overlay",styleDummy:"igx-nav-drawer__style-dummy"},this._panning=!1,this._maxEdgeZone=50,this.checkPinThreshold=function(e){var t;if(s.platformUtil.isBrowser&&s.pinThreshold){if(t=s.getWindowWidth(),e&&s._widthCache.windowWidth===t)return;s._widthCache.windowWidth=t,!s.pin&&t>=s.pinThreshold?(s.pin=!0,s.pinChange.emit(!0)):s.pin&&t<s.pinThreshold&&(s.pin=!1,s.pinChange.emit(!1))}},this.swipe=function(e){var t,i;s.enableGestures&&"touch"===e.pointerType&&("right"===s.position?(t=-e.deltaX,i=s.getWindowWidth()-(e.center.x+e.distance)):(t=e.deltaX,i=e.center.x-e.distance),(s.isOpen&&t<0||t>0&&i<s.maxEdgeZone)&&s.toggle())},this.panstart=function(e){if(s.enableGestures&&!s.pin&&"touch"===e.pointerType){var t="right"===s.position?s.getWindowWidth()-(e.center.x+e.distance):e.center.x-e.distance;(s.isOpen||t<s.maxEdgeZone)&&(s._panning=!0,s._panStartWidth=s.getExpectedWidth(!s.isOpen),s._panLimit=s.getExpectedWidth(s.isOpen),s.renderer.addClass(s.overlay,"panning"),s.renderer.addClass(s.drawer,"panning"))}},this.pan=function(e){if(s._panning){var t,i,n,o="right"===s.position,r=o?-e.deltaX:e.deltaX;if(t=s._panStartWidth+r,s.isOpen&&r<0){if(t<=s._panLimit)return;s.hasAnimateWidth?(n=(t-s._panLimit)/(s._panStartWidth-s._panLimit),i=t):(n=t/s._panStartWidth,i=e.deltaX),s.setXSize(i,n.toPrecision(2))}else if(!s.isOpen&&r>0){if(t>=s._panLimit)return;s.hasAnimateWidth?(n=(t-s._panStartWidth)/(s._panLimit-s._panStartWidth),i=t):(n=t/s._panLimit,i=(s._panLimit-t)*(o?1:-1)),s.setXSize(i,n.toPrecision(2))}}},this.panEnd=function(e){if(s._panning){var t="right"===s.position?-e.deltaX:e.deltaX,i=s._panStartWidth+t;s.resetPan(),s.isOpen&&i<=s._panStartWidth/2?s.close():!s.isOpen&&i>=s._panLimit/2&&s.open(),s._panStartWidth=null}},this.toggleOpenedEvent=function(e){s.elementRef.nativeElement.removeEventListener("transitionend",s.toggleOpenedEvent,!1),s.opened.emit()},this.toggleClosedEvent=function(e){s.elementRef.nativeElement.removeEventListener("transitionend",s.toggleClosedEvent,!1),s.closed.emit()}}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){this._isOpen=e,this.isOpenChange.emit(this._isOpen)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.miniTemplate&&!this.isOpen?this.miniTemplate.template:this.contentTemplate?this.contentTemplate.template:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miniTemplate",{get:function(){return this._miniTemplate},set:function(e){this.isOpen||this.setDrawerWidth(e?this.miniWidth:""),this._miniTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flexWidth",{get:function(){return this.pin?this.isOpen?this.width:this.miniTemplate&&this.miniWidth?this.miniWidth:"0px":"0px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPinnedRight",{get:function(){return this.pin&&"right"===this.position?"1":"0"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawer",{get:function(){return this._drawer.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleDummy",{get:function(){return this._styleDummy.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAnimateWidth",{get:function(){return this.pin||!!this.miniTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxEdgeZone",{get:function(){return this._maxEdgeZone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expectedWidth",{get:function(){return this.getExpectedWidth(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expectedMiniWidth",{get:function(){return this.getExpectedWidth(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchManager",{get:function(){return this._touchManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._state&&this._state.add(this.id,this),this.isOpen&&this.setDrawerWidth(this.width)},e.prototype.ngAfterContentInit=function(){this.updateEdgeZone(),this.checkPinThreshold(),this.ensureEvents()},e.prototype.ngOnDestroy=function(){this._touchManager.destroy(),this._state&&this._state.remove(this.id),this._resizeObserver&&this._resizeObserver.unsubscribe()},e.prototype.ngOnChanges=function(e){e.enableGestures&&void 0!==e.enableGestures.currentValue&&(this.enableGestures=!(!this.enableGestures||"true"!==this.enableGestures.toString()),this.ensureEvents()),e.pin&&void 0!==e.pin.currentValue&&(this.pin=!(!this.pin||"true"!==this.pin.toString()),this.pin?(this._touchManager.destroy(),this._gesturesAttached=!1):this.ensureEvents()),e.pinThreshold&&this.pinThreshold&&(this.ensureEvents(),this.checkPinThreshold()),e.width&&this.isOpen&&this.setDrawerWidth(e.width.currentValue),e.miniWidth&&(this.isOpen||this.setDrawerWidth(e.miniWidth.currentValue),this.updateEdgeZone())},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e.prototype.open=function(){this._panning&&this.resetPan(),this.isOpen||(this.opening.emit(),this.isOpen=!0,this.elementRef.nativeElement.addEventListener("transitionend",this.toggleOpenedEvent,!1),this.setDrawerWidth(this.width))},e.prototype.close=function(){this._panning&&this.resetPan(),this.isOpen&&(this.closing.emit(),this.isOpen=!1,this.setDrawerWidth(this.miniTemplate?this.miniWidth:""),this.elementRef.nativeElement.addEventListener("transitionend",this.toggleClosedEvent,!1))},e.prototype.set_maxEdgeZone=function(e){this._maxEdgeZone=e},e.prototype.getExpectedWidth=function(e){return e?this.miniTemplate?this.miniWidth?parseFloat(this.miniWidth):(null===this._widthCache.miniWidth&&(this.renderer.addClass(this.styleDummy,this.css.drawer),this.renderer.addClass(this.styleDummy,this.css.mini),this._widthCache.miniWidth=this.styleDummy.offsetWidth,this.renderer.removeClass(this.styleDummy,this.css.drawer),this.renderer.removeClass(this.styleDummy,this.css.mini)),this._widthCache.miniWidth):0:this.width?parseFloat(this.width):(null===this._widthCache.width&&(this.renderer.addClass(this.styleDummy,this.css.drawer),this._widthCache.width=this.styleDummy.offsetWidth,this.renderer.removeClass(this.styleDummy,this.css.drawer)),this._widthCache.width)},e.prototype.getWindowWidth=function(){return window.innerWidth>0?window.innerWidth:screen.width},e.prototype.setDrawerWidth=function(e){var t=this;this.platformUtil.isBrowser?requestAnimationFrame((function(){t.drawer&&t.renderer.setStyle(t.drawer,"width",e)})):this.renderer.setStyle(this.drawer,"width",e)},e.prototype.getDrawerWidth=function(){return this.drawer.offsetWidth},e.prototype.ensureEvents=function(){var e=this;!this.enableGestures||this.pin||this._gesturesAttached||(this._touchManager.addGlobalEventListener("document","swipe",this.swipe),this._gesturesAttached=!0,this._touchManager.addGlobalEventListener("document","panstart",this.panstart),this._touchManager.addGlobalEventListener("document","panmove",this.pan),this._touchManager.addGlobalEventListener("document","panend",this.panEnd)),!this._resizeObserver&&this.platformUtil.isBrowser&&(this._resizeObserver=r.fromEvent(window,"resize").pipe(s.debounce((function(){return r.interval(150)}))).subscribe((function(t){e.checkPinThreshold(t)})))},e.prototype.updateEdgeZone=function(){var e;this.miniTemplate&&(e=Math.max(this._maxEdgeZone,1.1*this.getExpectedWidth(!0)),this.set_maxEdgeZone(e))},e.prototype.resetPan=function(){this._panning=!1,this.renderer.removeClass(this.overlay,"panning"),this.renderer.removeClass(this.drawer,"panning"),this.setXSize(0,"")},e.prototype.setXSize=function(e,t){var i=this;window.requestAnimationFrame((function(){i.hasAnimateWidth?i.renderer.setStyle(i.drawer,"width",e?Math.abs(e)+"px":""):(i.renderer.setStyle(i.drawer,"transform",e?"translate3d("+e+"px,0,0)":""),i.renderer.setStyle(i.drawer,"-webkit-transform",e?"translate3d("+e+"px,0,0)":"")),void 0!==t&&i.renderer.setStyle(i.overlay,"opacity",t)}))},e.ctorParameters=function(){return[{type:i.ElementRef,decorators:[{type:i.Inject,args:[i.ElementRef]}]},{type:Jt,decorators:[{type:i.Optional}]},{type:i.Renderer2},{type:Ec},{type:ui}]},m([i.HostBinding("class.igx-nav-drawer")],e.prototype,"cssClass",void 0),m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"position",void 0),m([i.Input()],e.prototype,"enableGestures",void 0),m([i.Input()],e.prototype,"isOpen",null),m([i.Output()],e.prototype,"isOpenChange",void 0),m([i.Input()],e.prototype,"pin",void 0),m([i.Input()],e.prototype,"pinThreshold",void 0),m([i.Input()],e.prototype,"width",void 0),m([i.Input()],e.prototype,"miniWidth",void 0),m([i.Output()],e.prototype,"pinChange",void 0),m([i.Output()],e.prototype,"opening",void 0),m([i.Output()],e.prototype,"opened",void 0),m([i.Output()],e.prototype,"closing",void 0),m([i.Output()],e.prototype,"closed",void 0),m([i.ContentChild(eh,{read:eh})],e.prototype,"miniTemplate",null),m([i.ContentChild(Qu,{read:Qu})],e.prototype,"contentTemplate",void 0),m([i.HostBinding("style.flexBasis")],e.prototype,"flexWidth",null),m([i.HostBinding("style.order")],e.prototype,"isPinnedRight",null),m([i.ViewChild("aside",{static:!0})],e.prototype,"_drawer",void 0),m([i.ViewChild("overlay",{static:!0})],e.prototype,"_overlay",void 0),m([i.ViewChild("dummy",{static:!0})],e.prototype,"_styleDummy",void 0),e=m([i.Component({providers:[Ec],selector:"igx-nav-drawer",template:'<ng-template #defaultItemsTemplate>\n    <div igxDrawerItem [isHeader]="true">Navigation Drawer</div>\n    <div igxDrawerItem> Start by adding</div>\n    <div igxDrawerItem> <code>&lt;ng-template igxDrawer&gt;</code> </div>\n    <div igxDrawerItem> And some items inside </div>\n    <div igxDrawerItem> Style with igxDrawerItem </div>\n    <div igxDrawerItem> and igxRipple directives</div>\n</ng-template>\n\n<div [hidden]="pin"\n    class="igx-nav-drawer__overlay"\n    [class.igx-nav-drawer__overlay--hidden]="!isOpen"\n    (click)="close()" #overlay>\n</div>\n<aside role="navigation"\n    class="igx-nav-drawer__aside"\n    [class.igx-nav-drawer__aside--collapsed]="!miniTemplate && !isOpen"\n    [class.igx-nav-drawer__aside--mini]="miniTemplate && !isOpen"\n    [class.igx-nav-drawer__aside--normal]="!miniTemplate || isOpen"\n    [class.igx-nav-drawer__aside--pinned]="pin"\n    [class.igx-nav-drawer__aside--right]="position == \'right\'" #aside>\n\n    <ng-container *ngTemplateOutlet="template || defaultItemsTemplate"></ng-container>\n</aside>\n<div class="igx-nav-drawer__style-dummy" #dummy></div>\n',styles:["\n        :host {\n            display: block;\n            height: 100%;\n        }\n    "]}),y(0,i.Inject(i.ElementRef)),y(1,i.Optional())],e)}(),nh=function(){function e(){}return e=m([i.NgModule({declarations:[ih,Ju,eh,Qu],exports:[ih,Ju,eh,Qu],imports:[o.CommonModule]})],e)}(),oh=function(){function e(){}return e=m([i.Directive({selector:"[igxSliderThumbFrom]"})],e)}(),rh=function(){function e(){}return e=m([i.Directive({selector:"[igxSliderThumbTo]"})],e)}(),sh=function(){function e(){}return e=m([i.Directive({selector:"[igxSliderTickLabel]"})],e)}();(Au=e.IgxSliderType||(e.IgxSliderType={}))[Au.SLIDER=0]="SLIDER",Au[Au.RANGE=1]="RANGE",(Mu=e.SliderHandle||(e.SliderHandle={}))[Mu.FROM=0]="FROM",Mu[Mu.TO=1]="TO",(Vu=e.TickLabelsOrientation||(e.TickLabelsOrientation={}))[Vu.Horizontal=0]="Horizontal",Vu[Vu.TopToBottom=1]="TopToBottom",Vu[Vu.BottomToTop=2]="BottomToTop",(Fu=e.TicksOrientation||(e.TicksOrientation={}))[Fu.Top=0]="Top",Fu[Fu.Bottom=1]="Bottom",Fu[Fu.Mirror=2]="Mirror";var ah,lh=function(){function t(e){this._elementRef=e,this._isActive=!1,this._isPressed=!1,this._destroy$=new r.Subject,this.isActive=!1,this.onThumbValueChange=new i.EventEmitter,this.onChange=new i.EventEmitter,this.onHoverChange=new i.EventEmitter,this.tabindex=0,this.zIndex=0}return Object.defineProperty(t.prototype,"thumbPositionX",{get:function(){var e=this.nativeElement.getBoundingClientRect(),t=(e.right-e.left)/2;return e.left+t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbFromClass",{get:function(){return this.type===e.SliderHandle.FROM},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbToClass",{get:function(){return this.type===e.SliderHandle.TO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbFromActiveClass",{get:function(){return this.type===e.SliderHandle.FROM&&this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbToActiveClass",{get:function(){return this.type===e.SliderHandle.TO&&this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbPressedClass",{get:function(){return this.isActive&&this._isPressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroy",{get:function(){return this._destroy$},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.onPan.pipe(s.takeUntil(this._destroy$)).subscribe((function(t){return e.updateThumbValue(t)}))},t.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},t.prototype.onPinterEnter=function(){this.onHoverChange.emit(!0)},t.prototype.onPointerLeave=function(){this.onHoverChange.emit(!1)},t.prototype.onKeyDown=function(e){if(!this.disabled){var t=0;if(e.key.endsWith("Left"))t=-1*this.step;else{if(!e.key.endsWith("Right"))return;t=this.step}this.onChange.emit(),this.onThumbValueChange.emit(t)}},t.prototype.onBlur=function(){this.isActive=!1,this.zIndex=0},t.prototype.onFocusListener=function(){this.isActive=!0,this.zIndex=1},t.prototype.showThumbIndicators=function(){this.toggleThumbIndicators(!0)},t.prototype.hideThumbIndicators=function(){this.toggleThumbIndicators(!1)},t.prototype.updateThumbValue=function(e){var t=this.calculateTrackUpdate(e);this.isActive&&0!==t&&this.onThumbValueChange.emit(t)},t.prototype.calculateTrackUpdate=function(e){var t=e-this.thumbPositionX,i=this.stepDistance/2;return Math.abs(t)<i?0:this.stepToProceed(t,this.stepDistance)},t.prototype.stepToProceed=function(e,t){return Math.round(e/t)*this.step},t.prototype.toggleThumbIndicators=function(e){this._isPressed=e,this.continuous||this.deactiveState?this._isActive=!1:this._isActive=e},t.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"continuous",void 0),m([i.Input()],t.prototype,"thumbLabelVisibilityDuration",void 0),m([i.Input()],t.prototype,"disabled",void 0),m([i.Input()],t.prototype,"onPan",void 0),m([i.Input()],t.prototype,"stepDistance",void 0),m([i.Input()],t.prototype,"step",void 0),m([i.Input()],t.prototype,"templateRef",void 0),m([i.Input()],t.prototype,"context",void 0),m([i.Input()],t.prototype,"type",void 0),m([i.Input()],t.prototype,"deactiveState",void 0),m([i.Output()],t.prototype,"onThumbValueChange",void 0),m([i.Output()],t.prototype,"onChange",void 0),m([i.Output()],t.prototype,"onHoverChange",void 0),m([i.HostBinding("attr.tabindex")],t.prototype,"tabindex",void 0),m([i.HostBinding("attr.z-index")],t.prototype,"zIndex",void 0),m([i.HostBinding("class.igx-slider__thumb-from")],t.prototype,"thumbFromClass",null),m([i.HostBinding("class.igx-slider__thumb-to")],t.prototype,"thumbToClass",null),m([i.HostBinding("class.igx-slider__thumb-from--active")],t.prototype,"thumbFromActiveClass",null),m([i.HostBinding("class.igx-slider__thumb-to--active")],t.prototype,"thumbToActiveClass",null),m([i.HostBinding("class.igx-slider__thumb--pressed")],t.prototype,"thumbPressedClass",null),m([i.HostListener("pointerenter")],t.prototype,"onPinterEnter",null),m([i.HostListener("pointerleave")],t.prototype,"onPointerLeave",null),m([i.HostListener("keydown",["$event"])],t.prototype,"onKeyDown",null),m([i.HostListener("blur")],t.prototype,"onBlur",null),m([i.HostListener("focus")],t.prototype,"onFocusListener",null),t=m([i.Component({selector:"igx-thumb",template:'<div class="dot"></div>\n'})],t)}(),ch=function(){function t(e){this._elementRef=e}return Object.defineProperty(t.prototype,"thumbFromClass",{get:function(){return this.type===e.SliderHandle.FROM},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbToClass",{get:function(){return this.type===e.SliderHandle.TO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbFromActiveClass",{get:function(){return this.type===e.SliderHandle.FROM&&this.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbToActiveClass",{get:function(){return this.type===e.SliderHandle.TO&&this.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){this.continuous||this.deactiveState?this._active=!1:this._active=e},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"templateRef",void 0),m([i.Input()],t.prototype,"context",void 0),m([i.Input()],t.prototype,"type",void 0),m([i.Input()],t.prototype,"continuous",void 0),m([i.Input()],t.prototype,"deactiveState",void 0),m([i.HostBinding("class.igx-slider__label-from")],t.prototype,"thumbFromClass",null),m([i.HostBinding("class.igx-slider__label-to")],t.prototype,"thumbToClass",null),m([i.HostBinding("class.igx-slider__label-from--active")],t.prototype,"thumbFromActiveClass",null),m([i.HostBinding("class.igx-slider__label-to--active")],t.prototype,"thumbToActiveClass",null),t=m([i.Component({selector:"igx-thumb-label",template:'<div class="label">\n    <ng-container *ngTemplateOutlet="templateRef ? templateRef : thumbFromDefaultTemplate; context: context"></ng-container>\n</div>\n\n<ng-template #thumbFromDefaultTemplate>\n    {{ value }}\n</ng-template>\n'})],t)}(),ph=function(){function t(){this.ticksClass=!0}return Object.defineProperty(t.prototype,"ticksTopClass",{get:function(){return this.ticksOrientation===e.TicksOrientation.Top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPrimaryClass",{get:function(){return this.primaryTicks>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelsTopToBottomClass",{get:function(){return this.tickLabelsOrientation===e.TickLabelsOrientation.TopToBottom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelsBottomToTopClass",{get:function(){return this.tickLabelsOrientation===e.TickLabelsOrientation.BottomToTop},enumerable:!0,configurable:!0}),t.prototype.context=function(e){return{$implicit:this.tickLabel(e),isPrimary:this.isPrimary(e),labels:this.labels,index:e}},Object.defineProperty(t.prototype,"ticksLength",{get:function(){return this.primaryTicks>0?(this.primaryTicks-1)*this.secondaryTicks+this.primaryTicks:this.secondaryTicks>0?this.secondaryTicks:0},enumerable:!0,configurable:!0}),t.prototype.hiddenTickLabels=function(e){return this.isPrimary(e)?this.primaryTickLabels:this.secondaryTickLabels},t.prototype.isPrimary=function(e){return!(this.primaryTicks<=0)&&e%(this.secondaryTicks+1)==0},t.prototype.tickLabel=function(e){if(this.labelsViewEnabled)return this.labels[e];var t=(Math.max(this.minValue,this.maxValue)-Math.min(this.minValue,this.maxValue))/(this.ticksLength-1)*e;return(this.minValue+t).toFixed(2)},m([i.Input()],t.prototype,"primaryTicks",void 0),m([i.Input()],t.prototype,"secondaryTicks",void 0),m([i.Input()],t.prototype,"primaryTickLabels",void 0),m([i.Input()],t.prototype,"secondaryTickLabels",void 0),m([i.Input()],t.prototype,"ticksOrientation",void 0),m([i.Input()],t.prototype,"tickLabelsOrientation",void 0),m([i.Input()],t.prototype,"maxValue",void 0),m([i.Input()],t.prototype,"minValue",void 0),m([i.Input()],t.prototype,"labelsViewEnabled",void 0),m([i.Input()],t.prototype,"labels",void 0),m([i.Input()],t.prototype,"tickLabelTemplateRef",void 0),m([i.HostBinding("class.igx-slider__ticks")],t.prototype,"ticksClass",void 0),m([i.HostBinding("class.igx-slider__ticks--top")],t.prototype,"ticksTopClass",null),m([i.HostBinding("class.igx-slider__ticks--tall")],t.prototype,"hasPrimaryClass",null),m([i.HostBinding("class.igx-slider__tick-labels--top-bottom")],t.prototype,"labelsTopToBottomClass",null),m([i.HostBinding("class.igx-slider__tick-labels--bottom-top")],t.prototype,"labelsBottomToTopClass",null),t=m([i.Component({selector:"igx-ticks",template:'<div class="igx-slider__ticks-group" *ngFor="let n of [].constructor(ticksLength); let idx=index" [ngClass]="{ \'igx-slider__ticks-group--tall\': isPrimary(idx)}">\n    <div class="igx-slider__ticks-tick">\n        <span class="igx-slider__ticks-label" [ngClass]="{ \'igx-slider__tick-label--hidden\': !hiddenTickLabels(idx)}">\n            <ng-container *ngTemplateOutlet="tickLabelTemplateRef ? tickLabelTemplateRef : tickLabelDefaultTemplate; context: context(idx)"></ng-container>\n        </span>\n    </div>\n</div>\n\n<ng-template #tickLabelDefaultTemplate let-value>\n    {{ value }}\n</ng-template>\n'})],t)}(),dh=function(){function e(){}return e.prototype.transform=function(e,t){if(e){var i=[];return e.forEach((function(e){i.push(e);for(var n=0;n<t;n++)i.push("")})),i}},e=m([i.Pipe({name:"spreadTickLabels"})],e)}(),uh=function(){},hh=0,gh=function(){function t(t,n,o,s){this.renderer=t,this._el=n,this._cdr=o,this._ngZone=s,this._pMin=0,this._pMax=1,this._hasViewInit=!1,this._minValue=0,this._maxValue=100,this._continuous=!1,this._disabled=!1,this._step=1,this._value=0,this._primaryTicks=0,this._secondaryTicks=0,this._labels=new Array,this._type=e.IgxSliderType.SLIDER,this._destroyer$=new r.Subject,this._indicatorsDestroyer$=new r.Subject,this._onChangeCallback=uh,this._onTouchedCallback=uh,this.thumbs=new i.QueryList,this.labelRefs=new i.QueryList,this.stepDistance=this._step,this.onPan=new r.Subject,this.role="slider",this.slierClass=!0,this.id="igx-slider-"+hh++,this.thumbLabelVisibilityDuration=750,this.showTicks=!1,this.primaryTickLabels=!0,this.secondaryTickLabels=!0,this.ticksOrientation=e.TicksOrientation.Bottom,this.tickLabelsOrientation=e.TickLabelsOrientation.Horizontal,this.onValueChange=new i.EventEmitter,this.onValueChanged=new i.EventEmitter}var o;return o=t,Object.defineProperty(t.prototype,"thumbFrom",{get:function(){return this.thumbs.find((function(t){return t.type===e.SliderHandle.FROM}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbTo",{get:function(){return this.thumbs.find((function(t){return t.type===e.SliderHandle.TO}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelFrom",{get:function(){return this.labelRefs.find((function(t){return t.type===e.SliderHandle.FROM}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTo",{get:function(){return this.labelRefs.find((function(t){return t.type===e.SliderHandle.TO}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valuemin",{get:function(){return this.minValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valuemax",{get:function(){return this.maxValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,t===e.IgxSliderType.SLIDER&&(this.lowerValue=0),this.labelsViewEnabled&&this.upperValue>this.maxValue&&(this.upperValue=this.labels.length-1),this._hasViewInit&&this.updateTrack()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e,this._pMax=this.valueToFraction(this.upperBound,0,1),this._pMin=this.valueToFraction(this.lowerBound,0,1),this.stepDistance=this.calculateStepDistance(),this.positionHandlersAndUpdateTrack(),this._hasViewInit&&this.setTickInterval()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:this.value,labels:this.labels}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this.labelsViewEnabled?1:this._step},set:function(e){this._step=e,this.stepDistance=this.calculateStepDistance(),this._hasViewInit&&(this.normalizeByStep(this.value),this.setTickInterval())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this._hasViewInit&&this.changeThumbFocusableState(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"continuous",{get:function(){return this._continuous},set:function(e){this._continuous=e,this._hasViewInit&&this.setTickInterval()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.labelsViewEnabled?0:this._minValue},set:function(e){e>=this.maxValue||(this._minValue=e,e>this.upperBound&&(this.updateUpperBoundAndMaxTravelZone(),this.lowerBound=e),this._pMin=0,this.stepDistance=this.calculateStepDistance(),this.positionHandlersAndUpdateTrack(),this._hasViewInit&&this.setTickInterval())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.labelsViewEnabled?this.labels.length-1:this._maxValue},set:function(e){e<=this._minValue||(this._maxValue=e,e<this.lowerBound&&(this.updateLowerBoundAndMinTravelZone(),this.upperBound=e),this._pMax=1,this.stepDistance=this.calculateStepDistance(),this.positionHandlersAndUpdateTrack(),this._hasViewInit&&this.setTickInterval())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowerBound",{get:function(){return Number.isNaN(this._lowerBound)||void 0===this._lowerBound?this.minValue:this.valueInRange(this._lowerBound,this.minValue,this.maxValue)},set:function(e){e>=this.upperBound||this.labelsViewEnabled&&e<0||(this._lowerBound=this.valueInRange(e,this.minValue,this.maxValue),this._pMin=this.valueToFraction(this._lowerBound,0,1),this.positionHandlersAndUpdateTrack())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upperBound",{get:function(){return Number.isNaN(this._upperBound)||void 0===this._upperBound?this.maxValue:this.valueInRange(this._upperBound,this.minValue,this.maxValue)},set:function(e){e<=this.lowerBound||this.labelsViewEnabled&&e>this.labels.length-1||(this._upperBound=this.valueInRange(e,this.minValue,this.maxValue),this._pMax=this.valueToFraction(this._upperBound,0,1),this.positionHandlersAndUpdateTrack())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.isRange?{lower:this.valueInRange(this.lowerValue,this.lowerBound,this.upperBound),upper:this.valueInRange(this.upperValue,this.lowerBound,this.upperBound)}:this.valueInRange(this.upperValue,this.lowerBound,this.upperBound)},set:function(e){this._hasViewInit?(this.setValue(e),this.positionHandlersAndUpdateTrack()):this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"primaryTicks",{get:function(){return this.labelsViewEnabled?this._primaryTicks=this.labels.length:this._primaryTicks},set:function(e){e<=1||(this._primaryTicks=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secondaryTicks",{get:function(){return this._secondaryTicks},set:function(e){e<1||(this._secondaryTicks=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deactivateThumbLabel",{get:function(){return(this.primaryTicks&&this.primaryTickLabels||this.secondaryTicks&&this.secondaryTickLabels)&&(this.ticksOrientation===e.TicksOrientation.Top||this.ticksOrientation===e.TicksOrientation.Mirror)},enumerable:!0,configurable:!0}),t.prototype.onPointerDown=function(e){(this.findClosestThumb(e),this.thumbTo.isActive||void 0!==this.thumbFrom)&&((this.thumbTo.isActive?this.thumbTo:this.thumbFrom).nativeElement.setPointerCapture(e.pointerId),this.showSliderIndicators(),e.preventDefault())},t.prototype.onPointerUp=function(e){(this.thumbTo.isActive||void 0!==this.thumbFrom)&&((this.thumbTo.isActive,this.thumbTo).nativeElement.releasePointerCapture(e.pointerId),this.hideSliderIndicators(),this.onValueChanged.emit(this.value))},t.prototype.onFocus=function(){this.toggleSliderIndicators()},t.prototype.onPanListener=function(e){this.update(e.srcEvent.clientX)},Object.defineProperty(t.prototype,"isRange",{get:function(){return this.type===e.IgxSliderType.RANGE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowerValue",{get:function(){return!Number.isNaN(this._lowerValue)&&void 0!==this._lowerValue&&this._lowerValue>=this.lowerBound?this._lowerValue:this.lowerBound},set:function(e){e=this.valueInRange(e,this.lowerBound,this.upperBound),this._lowerValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upperValue",{get:function(){return!Number.isNaN(this._upperValue)&&void 0!==this._upperValue&&this._upperValue<=this.upperBound?this._upperValue:this.upperBound},set:function(e){e=this.valueInRange(e,this.lowerBound,this.upperBound),this._upperValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowerLabel",{get:function(){return this.labelsViewEnabled?this.labels[this.lowerValue]:this.lowerValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upperLabel",{get:function(){return this.labelsViewEnabled?this.labels[this.upperValue]:this.upperValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelsViewEnabled",{get:function(){return!!(this.labels&&this.labels.length>1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTopTicks",{get:function(){return this.ticksOrientation===e.TicksOrientation.Top||this.ticksOrientation===e.TicksOrientation.Mirror},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showBottomTicks",{get:function(){return this.ticksOrientation===e.TicksOrientation.Bottom||this.ticksOrientation===e.TicksOrientation.Mirror},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.sliderSetup(),this._pMin=this.valueToFraction(this.lowerBound)||0,this._pMax=this.valueToFraction(this.upperBound)||1},t.prototype.ngOnChanges=function(e){e.minValue&&e.maxValue&&e.minValue.currentValue<e.maxValue.currentValue&&(this._maxValue=e.maxValue.currentValue,this._minValue=e.minValue.currentValue)},t.prototype.ngAfterContentInit=function(){this.setValue(this._value)},t.prototype.ngAfterViewInit=function(){var t=this;this._hasViewInit=!0,this.positionHandlersAndUpdateTrack(),this.setTickInterval(),this.changeThumbFocusableState(this.disabled),this.subscribeTo(this.thumbFrom,this.thumbChanged.bind(this)),this.subscribeTo(this.thumbTo,this.thumbChanged.bind(this)),this.thumbs.changes.pipe(s.takeUntil(this._destroyer$)).subscribe((function(i){var n=i.find((function(t){return t.type===e.SliderHandle.FROM}));t.positionHandler(n,null,t.lowerValue),t.subscribeTo(n,t.thumbChanged.bind(t)),t.changeThumbFocusableState(t.disabled)})),this.labelRefs.changes.pipe(s.takeUntil(this._destroyer$)).subscribe((function(i){var n=t.labelRefs.find((function(t){return t.type===e.SliderHandle.FROM}));t.positionHandler(null,n,t.lowerValue)})),this._ngZone.runOutsideAngular((function(){var e;(e=t._el.nativeElement,new r.Observable((function(t){var i=new a((function(e){t.next(e)}));return i.observe(e),function(){return i.disconnect()}}))).pipe(s.throttleTime(40),s.takeUntil(t._destroyer$)).subscribe((function(){return t._ngZone.run((function(){t.stepDistance=t.calculateStepDistance()}))}))}))},t.prototype.ngOnDestroy=function(){this._destroyer$.next(!0),this._destroyer$.complete(),this._indicatorsDestroyer$.next(!0),this._indicatorsDestroyer$.complete()},t.prototype.writeValue=function(e){e&&this.normalizeByStep(e)},t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},t.prototype.getEditElement=function(){return this.isRange?this.thumbFrom.nativeElement:this.thumbTo.nativeElement},t.prototype.update=function(e){this.disabled||(this.onPan.next(e),this.positionHandlersAndUpdateTrack(),this._onTouchedCallback())},t.prototype.thumbChanged=function(t,i){var n,o=this.value;this.isRange?(n=i===e.SliderHandle.FROM?{lower:this.value.lower+t,upper:this.value.upper}:{lower:this.value.lower,upper:this.value.upper+t}).lower>=n.upper?this.value=this.swapThumb(n):this.value=n:this.value=this.value+t,this.hasValueChanged(o)&&this.emitValueChanged(o)},t.prototype.onThumbChange=function(){this.toggleSliderIndicators()},t.prototype.onHoverChange=function(e){return e?this.showSliderIndicators():this.hideSliderIndicators()},t.prototype.swapThumb=function(e){return this.thumbFrom.isActive?(e.upper=this.upperValue,e.lower=this.upperValue):(e.upper=this.lowerValue,e.lower=this.lowerValue),this.toggleThumb(),e},t.prototype.findClosestThumb=function(e){this.isRange?this.closestHandle(e):this.thumbTo.nativeElement.focus(),this.update(e.clientX)},t.prototype.updateLowerBoundAndMinTravelZone=function(){this.lowerBound=this.minValue,this._pMin=0},t.prototype.updateUpperBoundAndMaxTravelZone=function(){this.upperBound=this.maxValue,this._pMax=1},t.prototype.sliderSetup=function(){this.isRange||void 0!==this._upperValue||(this._upperValue=this.lowerBound)},t.prototype.calculateStepDistance=function(){return this._el.nativeElement.getBoundingClientRect().width/(this.maxValue-this.minValue)*this.step},t.prototype.toggleThumb=function(){return this.thumbFrom.isActive?this.thumbTo.nativeElement.focus():this.thumbFrom.nativeElement.focus()},t.prototype.valueInRange=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=100),Math.max(Math.min(e,i),t)},t.prototype.generateTickMarks=function(e,t){return null!==t?"repeating-linear-gradient(\n            to left,\n            "+e+",\n            "+e+" 1.5px,\n            transparent 1.5px,\n            transparent "+t+"%\n        ), repeating-linear-gradient(\n            to right,\n            "+e+",\n            "+e+" 1.5px,\n            transparent 1.5px,\n            transparent "+t+"%\n        )":t},t.prototype.positionHandler=function(e,t,i){var n=100*this.valueToFraction(i)+"%";e&&(e.nativeElement.style.left=n),t&&(t.nativeElement.style.left=n)},t.prototype.positionHandlersAndUpdateTrack=function(){this.isRange?(this.positionHandler(this.thumbTo,this.labelTo,this.value.upper),this.positionHandler(this.thumbFrom,this.labelFrom,this.value.lower)):this.positionHandler(this.thumbTo,this.labelTo,this.value),this._hasViewInit&&this.updateTrack()},t.prototype.closestHandle=function(e){var t=this.thumbFrom.nativeElement.offsetLeft+this.thumbFrom.nativeElement.offsetWidth/2,i=this.thumbTo.nativeElement.offsetLeft+this.thumbTo.nativeElement.offsetWidth/2,n=e.clientX-this._el.nativeElement.getBoundingClientRect().left,o=this.closestTo(n,[t,i]);t===i&&i<n?this.thumbTo.nativeElement.focus():t===i&&i>n?this.thumbFrom.nativeElement.focus():o===t?this.thumbFrom.nativeElement.focus():this.thumbTo.nativeElement.focus()},t.prototype.setTickInterval=function(){var e;if(this.labelsViewEnabled)e=100/(this.labels.length-1)*10/10;else{var t=this.maxValue-this.minValue;e=this.step>1?100/(t/this.step)*10/10:null}var i=this.continuous?null:this.generateTickMarks("white",e);this.renderer.setStyle(this.ticks.nativeElement,"background",i)},t.prototype.showSliderIndicators=function(){this.disabled||(this._indicatorsTimer&&(this._indicatorsDestroyer$.next(!0),this._indicatorsTimer=null),this.thumbTo.showThumbIndicators(),this.labelTo.active=!0,this.thumbFrom&&this.thumbFrom.showThumbIndicators(),this.labelFrom&&(this.labelFrom.active=!0))},t.prototype.hideSliderIndicators=function(){var e=this;this.disabled||(this._indicatorsTimer=r.timer(this.thumbLabelVisibilityDuration),this._indicatorsTimer.pipe(s.takeUntil(this._indicatorsDestroyer$)).subscribe((function(){e.thumbTo.hideThumbIndicators(),e.labelTo.active=!1,e.thumbFrom&&e.thumbFrom.hideThumbIndicators(),e.labelFrom&&(e.labelFrom.active=!1)})))},t.prototype.toggleSliderIndicators=function(){this.showSliderIndicators(),this.hideSliderIndicators()},t.prototype.changeThumbFocusableState=function(e){var t=e?-1:1;this.isRange&&(this.thumbFrom.tabindex=t),this.thumbTo.tabindex=t,this._cdr.detectChanges()},t.prototype.closestTo=function(e,t){return t.reduce((function(t,i){return Math.abs(e-i)<Math.abs(e-t)?i:t}))},t.prototype.valueToFraction=function(e,t,i){return void 0===t&&(t=this._pMin),void 0===i&&(i=this._pMax),this.valueInRange((e-this.minValue)/(this.maxValue-this.minValue),t,i)},t.prototype.normalizeByStep=function(e){this.isRange?this.value={lower:e.lower-e.lower%this.step,upper:e.upper-e.upper%this.step}:this.value=e-e%this.step},t.prototype.updateTrack=function(){var e=this.valueToFraction(this.lowerValue),t=this.valueToFraction(this.upperValue),i=t-e,n=e;this.isRange?(i&&(n=Math.round(1/i*e*100)),this.renderer.setStyle(this.trackRef.nativeElement,"transform","scaleX("+i+") translateX("+n+"%)")):this.renderer.setStyle(this.trackRef.nativeElement,"transform","scaleX("+t+")")},t.prototype.validateInitialValue=function(e){return e.lower<this.lowerBound&&e.upper<this.lowerBound&&(e.upper=this.lowerBound,e.lower=this.lowerBound),e.lower>this.upperBound&&e.upper>this.upperBound&&(e.upper=this.upperBound,e.lower=this.upperBound),e.upper<e.lower&&(e.upper=this.upperValue,e.lower=this.lowerValue),e},t.prototype.subscribeTo=function(e,t){e&&e.onThumbValueChange.pipe(s.takeUntil(this.unsubscriber(e))).subscribe((function(i){return t(i,e.type)}))},t.prototype.unsubscriber=function(e){return r.merge(this._destroyer$,e.destroy)},t.prototype.hasValueChanged=function(e){var t=!this.isRange&&e!==this.value,i=this.isRange&&(e.lower!==this.value.lower||e.upper!==this.value.upper);return t||i},t.prototype.setValue=function(e){this.isRange?(e=this.validateInitialValue(e),this.upperValue=e.upper,this.lowerValue=e.lower):this.upperValue=e-e%this.step,this._onChangeCallback(this.value)},t.prototype.emitValueChanged=function(e){this.onValueChange.emit({oldValue:e,value:this.value})},t.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:i.ChangeDetectorRef},{type:i.NgZone}]},m([i.ViewChild("ticks",{static:!0})],t.prototype,"ticks",void 0),m([i.ViewChildren(lh)],t.prototype,"thumbs",void 0),m([i.ViewChildren(ch)],t.prototype,"labelRefs",void 0),m([i.ViewChild("track",{static:!0})],t.prototype,"trackRef",void 0),m([i.ContentChild(oh,{read:i.TemplateRef})],t.prototype,"thumbFromTemplateRef",void 0),m([i.ContentChild(rh,{read:i.TemplateRef})],t.prototype,"thumbToTemplateRef",void 0),m([i.ContentChild(sh,{read:i.TemplateRef,static:!1})],t.prototype,"tickLabelTemplateRef",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("attr.aria-valuemin")],t.prototype,"valuemin",null),m([i.HostBinding("attr.aria-valuemax")],t.prototype,"valuemax",null),m([i.HostBinding("attr.aria-readonly")],t.prototype,"readonly",null),m([i.HostBinding("class.igx-slider")],t.prototype,"slierClass",void 0),m([i.HostBinding("class.igx-slider--disabled")],t.prototype,"disabledClass",null),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"type",null),m([i.Input()],t.prototype,"thumbLabelVisibilityDuration",void 0),m([i.Input()],t.prototype,"labels",null),m([i.Input()],t.prototype,"step",null),m([i.Input()],t.prototype,"disabled",null),m([i.Input()],t.prototype,"continuous",null),m([i.Input()],t.prototype,"minValue",null),m([i.Input()],t.prototype,"maxValue",null),m([i.Input()],t.prototype,"lowerBound",null),m([i.Input()],t.prototype,"upperBound",null),m([i.Input()],t.prototype,"value",null),m([i.Input()],t.prototype,"primaryTicks",null),m([i.Input()],t.prototype,"secondaryTicks",null),m([i.Input()],t.prototype,"showTicks",void 0),m([i.Input()],t.prototype,"primaryTickLabels",void 0),m([i.Input()],t.prototype,"secondaryTickLabels",void 0),m([i.Input()],t.prototype,"ticksOrientation",void 0),m([i.Input()],t.prototype,"tickLabelsOrientation",void 0),m([i.Output()],t.prototype,"onValueChange",void 0),m([i.Output()],t.prototype,"onValueChanged",void 0),m([i.HostListener("pointerdown",["$event"])],t.prototype,"onPointerDown",null),m([i.HostListener("pointerup",["$event"])],t.prototype,"onPointerUp",null),m([i.HostListener("focus")],t.prototype,"onFocus",null),m([i.HostListener("pan",["$event"])],t.prototype,"onPanListener",null),t=o=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:o,multi:!0}],selector:"igx-slider",template:'<div class="igx-slider__track">\n    <igx-ticks\n        *ngIf="showTicks && showTopTicks"\n        [ticksOrientation]="0"\n        [primaryTicks]="primaryTicks"\n        [secondaryTicks]="secondaryTicks"\n        [primaryTickLabels]="primaryTickLabels"\n        [secondaryTickLabels]="secondaryTickLabels"\n        [tickLabelsOrientation]="tickLabelsOrientation"\n        [labelsViewEnabled]="labelsViewEnabled"\n        [labels]="labels | spreadTickLabels:secondaryTicks"\n        [tickLabelTemplateRef]="tickLabelTemplateRef"\n        [minValue]="minValue"\n        [maxValue]="maxValue"></igx-ticks>\n\n    <div #track class="igx-slider__track-fill"></div>\n    <div #ticks class="igx-slider__track-steps"></div>\n\n    <igx-ticks\n        *ngIf="showTicks && showBottomTicks"\n        [ticksOrientation]="1"\n        [primaryTicks]="primaryTicks"\n        [secondaryTicks]="secondaryTicks"\n        [primaryTickLabels]="primaryTickLabels"\n        [secondaryTickLabels]="secondaryTickLabels"\n        [tickLabelsOrientation]="tickLabelsOrientation"\n        [labelsViewEnabled]="labelsViewEnabled"\n        [labels]="labels | spreadTickLabels:secondaryTicks"\n        [tickLabelTemplateRef]="tickLabelTemplateRef"\n        [minValue]="minValue"\n        [maxValue]="maxValue"></igx-ticks>\n</div>\n<div class="igx-slider__thumbs">\n    <igx-thumb-label\n        *ngIf="isRange"\n        [type]="0"\n        [value]="lowerLabel"\n        [templateRef]="thumbFromTemplateRef"\n        [continuous]="continuous"\n        [context]="context"\n        [deactiveState]="deactivateThumbLabel"></igx-thumb-label>\n\n    <igx-thumb\n        *ngIf="isRange"\n        #thumbFrom\n        [type]="0"\n        [value]="lowerLabel"\n        [disabled]="disabled"\n        [continuous]="continuous"\n        [onPan]="onPan"\n        [stepDistance]="stepDistance"\n        [step]="step"\n        [templateRef]="thumbFromTemplateRef"\n        [context]="context"\n        (onChange)="onThumbChange()"\n        (onHoverChange)="onHoverChange($event)"\n        [deactiveState]="deactivateThumbLabel"\n        [thumbLabelVisibilityDuration]="thumbLabelVisibilityDuration"></igx-thumb>\n\n    <igx-thumb-label\n        [value]="upperLabel"\n        [type]="1"\n        [templateRef]="thumbToTemplateRef"\n        [continuous]="continuous"\n        [context]="context"\n        [deactiveState]="deactivateThumbLabel"></igx-thumb-label>\n\n    <igx-thumb\n        #thumbTo\n        [type]="1"\n        [value]="upperLabel"\n        [disabled]="disabled"\n        [continuous]="continuous"\n        [onPan]="onPan"\n        [stepDistance]="stepDistance"\n        [step]="step"\n        [templateRef]="thumbToTemplateRef"\n        [context]="context"\n        (onChange)="onThumbChange()"\n        (onHoverChange)="onHoverChange($event)"\n        [deactiveState]="deactivateThumbLabel"\n        [thumbLabelVisibilityDuration]="thumbLabelVisibilityDuration"></igx-thumb>\n</div>\n'})],t)}(),fh=function(){function e(){}return e=m([i.NgModule({declarations:[gh,oh,rh,sh,lh,ch,ph,dh],exports:[gh,oh,rh,sh,lh,ch,ph],imports:[o.CommonModule,n.FormsModule]})],e)}(),mh=0,yh=function(){function e(e){this.zone=e,this.id="igx-snackbar-"+mh++,this.isVisible=!1,this.autoHide=!0,this.displayTime=4e3,this.onAction=new i.EventEmitter,this.animationStarted=new i.EventEmitter,this.animationDone=new i.EventEmitter}return e.prototype.show=function(){var e=this;clearTimeout(this.timeoutId),setTimeout(this.timeoutId),this.isVisible=!0,this.autoHide&&(this.timeoutId=setTimeout((function(){e.hide()}),this.displayTime))},e.prototype.hide=function(){this.isVisible=!1,clearTimeout(this.timeoutId)},e.prototype.triggerAction=function(){this.onAction.emit(this)},e.prototype.snackbarAnimationStarted=function(e){"void"===e.fromState&&this.animationStarted.emit(e)},e.prototype.snackbarAnimationDone=function(e){"show"===e.fromState&&this.animationDone.emit(e)},e.ctorParameters=function(){return[{type:i.NgZone}]},m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Input()],e.prototype,"message",void 0),m([i.Input()],e.prototype,"isVisible",void 0),m([i.Input()],e.prototype,"autoHide",void 0),m([i.Input()],e.prototype,"displayTime",void 0),m([i.Input()],e.prototype,"actionText",void 0),m([i.Output()],e.prototype,"onAction",void 0),m([i.Output()],e.prototype,"animationStarted",void 0),m([i.Output()],e.prototype,"animationDone",void 0),e=m([i.Component({animations:[t.trigger("slideInOut",[t.transition("void => *",[t.useAnimation(mt,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}})]),t.transition("* => void",[t.useAnimation(wt,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toOpacity:1,toPosition:"translateY(100%)"}})])]),t.trigger("fadeInOut",[t.transition("void => *",[t.useAnimation(w,{params:{duration:".35s",easing:"ease-out"}})]),t.transition("* => void",[t.useAnimation(I,{params:{duration:".2s",easing:"ease-out"}})])])],selector:"igx-snackbar",template:'<div class="igx-snackbar" *ngIf="isVisible" (@slideInOut.start)="snackbarAnimationStarted($event)" (@slideInOut.done)="snackbarAnimationDone($event)"\n    [@slideInOut]="isVisible">\n    <div class="igx-snackbar__message" [@fadeInOut]="isVisible">\n        {{ message }}\n        <ng-content></ng-content>\n    </div>\n    <button class="igx-snackbar__button" igxRipple="white" *ngIf="actionText" [@fadeInOut] (click)="triggerAction()">\n        {{ actionText }}\n    </button>\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]})],e)}(),vh=function(){function e(){}return e=m([i.NgModule({declarations:[yh],exports:[yh],imports:[o.CommonModule]})],e)}();(ah=e.SwitchLabelPosition||(e.SwitchLabelPosition={})).BEFORE="before",ah.AFTER="after";var bh,xh=function(){},Ch=0,_h=function(){function t(){this.id="igx-switch-"+Ch++,this.labelId=this.id+"-label",this.tabindex=null,this.labelPosition="after",this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new i.EventEmitter,this._onTouchedCallback=xh,this._onChangeCallback=xh,this.cssClass="igx-switch",this.checked=!1,this.disabled=!1,this.focused=!1,this.inputId=this.id+"-input"}var o;return o=t,t.prototype.toggle=function(){this.disabled||(this.checked=!this.checked,this.focused=!1,this.change.emit({checked:this.checked,switch:this}),this._onChangeCallback(this.checked))},t.prototype._onSwitchChange=function(e){e.stopPropagation()},t.prototype._onSwitchClick=function(e){e.stopPropagation(),this.toggle(),ci()&&this.nativeCheckbox.nativeElement.blur()},t.prototype._onLabelClick=function(e){this.toggle()},t.prototype.onFocus=function(e){this.focused=!0},t.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},t.prototype.writeValue=function(e){this._value=e,this.checked=!!this._value},t.prototype.getEditElement=function(){return this.nativeCheckbox.nativeElement},Object.defineProperty(t.prototype,"labelClass",{get:function(){switch(this.labelPosition){case e.SwitchLabelPosition.BEFORE:return this.cssClass+"__label--before";case e.SwitchLabelPosition.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},m([i.ViewChild("checkbox",{static:!0})],t.prototype,"nativeCheckbox",void 0),m([i.ViewChild("label",{static:!0})],t.prototype,"nativeLabel",void 0),m([i.ViewChild("placeholderLabel",{static:!0})],t.prototype,"placeholderLabel",void 0),m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"labelId",void 0),m([i.Input()],t.prototype,"value",void 0),m([i.Input()],t.prototype,"name",void 0),m([i.Input()],t.prototype,"tabindex",void 0),m([i.Input()],t.prototype,"labelPosition",void 0),m([i.Input()],t.prototype,"disableRipple",void 0),m([i.Input()],t.prototype,"required",void 0),m([i.Input("aria-labelledby")],t.prototype,"ariaLabelledBy",void 0),m([i.Input("aria-label")],t.prototype,"ariaLabel",void 0),m([i.Output()],t.prototype,"change",void 0),m([i.HostBinding("class.igx-switch")],t.prototype,"cssClass",void 0),m([i.HostBinding("class.igx-switch--checked"),i.Input()],t.prototype,"checked",void 0),m([i.HostBinding("class.igx-switch--disabled"),i.Input()],t.prototype,"disabled",void 0),m([i.HostBinding("class.igx-switch--focused")],t.prototype,"focused",void 0),t=o=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:o,multi:!0}],selector:"igx-switch",template:'<input #checkbox class="igx-switch__input" type="checkbox"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (change)="_onSwitchChange($event)"\n    (click)="_onSwitchClick($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<label #label class ="igx-switch__composite" [for]="inputId"\n    igxRipple\n    igxRippleTarget=".igx-switch__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300">\n    <div class="igx-switch__composite-thumb">\n        <div class="igx-switch__ripple"></div>\n    </div>\n</label>\n\n<span #placeholderLabel role="label"\n    [class]="labelClass"\n    [id]="labelId"\n    (click)="_onLabelClick($event)">\n    <ng-content></ng-content>\n</span>\n'})],t)}(),wh={provide:n.NG_VALIDATORS,useExisting:i.forwardRef((function(){return Ih})),multi:!0},Ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t=m([i.Directive({selector:"igx-switch[required][formControlName],\n    igx-switch[required][formControl],\n    igx-switch[required][ngModel]",providers:[wh]})],t)}(n.CheckboxRequiredValidator),Sh=function(){function e(){}return e=m([i.NgModule({declarations:[_h,Ih],exports:[_h,Ih],imports:[Vr]})],e)}(),Eh=0,Dh=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxTab]"})],e)}(),Oh=function(){function e(e){this._element=e,this.id="igx-bottom-nav-"+Eh++,this.onTabSelected=new i.EventEmitter,this.onTabDeselected=new i.EventEmitter,this.selectedIndex=-1,this._itemStyle="igx-bottom-nav"}return Object.defineProperty(e.prototype,"tabs",{get:function(){return this.hasContentTabs?this.contentTabs:this.viewTabs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return this._itemStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasContentTabs",{get:function(){return this.contentTabs&&this.contentTabs.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedTab",{get:function(){if(this.tabs&&void 0!==this.selectedIndex)return this.tabs.toArray()[this.selectedIndex]},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){if(-1===e.selectedIndex){var t=e.panels.filter((function(e){return!e.disabled}))[0];t&&t.select()}}),0)},e.prototype._selectedPanelHandler=function(e){var t=this;this.hasContentTabs?(this.selectedIndex=e.tab.index,this.contentTabs.forEach((function(i){i!==e.tab&&t._deselectTab(i)}))):e.panel&&(this.selectedIndex=e.panel.index,this.panels.forEach((function(e){e.index!==t.selectedIndex&&t._deselectPanel(e)})))},e.prototype._deselectPanel=function(e){e.disabled||this.selectedTab.index===e.index||(e.isSelected=!1,this.onTabDeselected.emit({tab:this.tabs[e.index],panel:e}))},e.prototype._deselectTab=function(e){e.isSelected=!1,this.onTabDeselected.emit({tab:e,panel:null})},e.ctorParameters=function(){return[{type:i.ElementRef}]},m([i.ViewChildren(i.forwardRef((function(){return Ph})))],e.prototype,"viewTabs",void 0),m([i.ContentChildren(i.forwardRef((function(){return Ph})))],e.prototype,"contentTabs",void 0),m([i.ContentChildren(i.forwardRef((function(){return Th})))],e.prototype,"panels",void 0),m([i.HostBinding("attr.id"),i.Input()],e.prototype,"id",void 0),m([i.Output()],e.prototype,"onTabSelected",void 0),m([i.Output()],e.prototype,"onTabDeselected",void 0),m([i.HostListener("onTabSelected",["$event"])],e.prototype,"_selectedPanelHandler",null),e=m([i.Component({selector:"igx-bottom-nav",template:'<div *ngIf="!hasContentTabs">\n    <ng-content></ng-content>\n</div>\n<div #tablist class="{{itemStyle}}__menu {{itemStyle}}__menu--bottom" role="tablist" aria-orientation="horizontal">\n    <ng-container *ngIf="!hasContentTabs">    \n        <igx-tab *ngFor="let panel of panels" [relatedPanel]="panel">\n        </igx-tab>\n    </ng-container>\n    <ng-content select="igx-tab"></ng-content>\n</div>',styles:["\n        :host {\n            display: block;\n        }\n    "]})],e)}(),Th=function(){function e(e,t){this._tabBar=e,this._element=t,this._itemStyle="igx-tab-panel",this._isSelected=!1,this.role="tabpanel"}return Object.defineProperty(e.prototype,"styleClass",{get:function(){return!this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected},set:function(e){this._isSelected!==e&&(e?this.select():this._isSelected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return this._itemStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relatedTab",{get:function(){if(this._tabBar.tabs)return this._tabBar.tabs.toArray()[this.index]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changesCount",{get:function(){return this.relatedTab?this.relatedTab.changesCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(this._tabBar.panels)return this._tabBar.panels.toArray().indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customTabTemplate",{get:function(){return this._tabTemplate},set:function(e){this._tabTemplate=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.tabTemplate&&(this._tabTemplate=this.tabTemplate.template)},e.prototype.ngAfterViewChecked=function(){this._element.nativeElement.setAttribute("aria-labelledby","igx-tab-"+this.index),this._element.nativeElement.setAttribute("id","igx-bottom-nav__panel-"+this.index)},e.prototype.select=function(){this.disabled||this._tabBar.selectedIndex===this.index||(this._isSelected=!0,this._tabBar.onTabSelected.emit({tab:this._tabBar.tabs.toArray()[this.index],panel:this}))},e.ctorParameters=function(){return[{type:Oh},{type:i.ElementRef}]},m([i.Input()],e.prototype,"label",void 0),m([i.Input()],e.prototype,"icon",void 0),m([i.Input()],e.prototype,"disabled",void 0),m([i.HostBinding("attr.role")],e.prototype,"role",void 0),m([i.HostBinding("class.igx-bottom-nav__panel")],e.prototype,"styleClass",null),m([i.HostBinding("class.igx-bottom-nav__panel--selected")],e.prototype,"isSelected",null),m([i.ContentChild(Dh,{read:Dh})],e.prototype,"tabTemplate",void 0),e=m([i.Component({selector:"igx-tab-panel",template:"<ng-content></ng-content>\n"})],e)}(),Ph=function(){function e(e,t){this._tabBar=e,this._element=t,this.role="tab",this.id="igx-tab-"+this.index,this.ariaLabel=this.label,this.ariaDisabled=this.disabled,this.ariaSelected=this.isSelected,this.ariaControls="igx-tab-panel-"+this.index,this._changesCount=0,this._disabled=!1,this._selected=!1}return Object.defineProperty(e.prototype,"label",{get:function(){return this.relatedPanel?this.relatedPanel.label:this._label},set:function(e){this.relatedPanel&&(this.relatedPanel.label=e),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.relatedPanel?this.relatedPanel.icon:this._icon},set:function(e){this.relatedPanel&&(this.relatedPanel.icon=e),this._icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changesCount",{get:function(){return this._changesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.relatedPanel?this.relatedPanel.disabled:this._disabled},set:function(e){this.relatedPanel?this.relatedPanel.disabled=e:this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.relatedPanel?this.relatedPanel.isSelected:this._selected},set:function(e){this.relatedPanel?this.relatedPanel.isSelected=e:this._selected!==e&&(this._selected=e,this._selected&&this._tabBar.onTabSelected.emit({tab:this,panel:null}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassSelected",{get:function(){return this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return!this.disabled&&!this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(this._tabBar.tabs)return this._tabBar.tabs.toArray().indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.relatedPanel&&this.relatedPanel.customTabTemplate?this.relatedPanel.customTabTemplate:this.customTabTemplateDir?this.customTabTemplateDir.template:this.defaultTabTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.relatedPanel?this.relatedPanel:this},enumerable:!0,configurable:!0}),e.prototype.select=function(){this.relatedPanel?this.relatedPanel.select():(this._selected=!0,this._tabBar.onTabSelected.emit({tab:this,panel:null}))},e.prototype.onClick=function(){this.select()},e.prototype.elementRef=function(){return this._element},e.ctorParameters=function(){return[{type:Oh},{type:i.ElementRef}]},m([i.HostBinding("attr.role")],e.prototype,"role",void 0),m([i.HostBinding("attr.id")],e.prototype,"id",void 0),m([i.HostBinding("attr.aria-label")],e.prototype,"ariaLabel",void 0),m([i.HostBinding("attr.aria-disabled")],e.prototype,"ariaDisabled",void 0),m([i.HostBinding("attr.aria-selected")],e.prototype,"ariaSelected",void 0),m([i.HostBinding("attr.aria-controls")],e.prototype,"ariaControls",void 0),m([i.Input()],e.prototype,"relatedPanel",void 0),m([i.Input()],e.prototype,"label",null),m([i.Input()],e.prototype,"icon",null),m([i.Input()],e.prototype,"disabled",null),m([i.Input()],e.prototype,"isSelected",null),m([i.HostBinding("class.igx-bottom-nav__menu-item--selected")],e.prototype,"cssClassSelected",null),m([i.HostBinding("class.igx-bottom-nav__menu-item--disabled")],e.prototype,"cssClassDisabled",null),m([i.HostBinding("class.igx-bottom-nav__menu-item")],e.prototype,"cssClass",null),m([i.ViewChild("defaultTabTemplate",{read:i.TemplateRef,static:!0})],e.prototype,"defaultTabTemplate",void 0),m([i.ContentChild(Dh,{read:Dh})],e.prototype,"customTabTemplateDir",void 0),m([i.HostListener("click")],e.prototype,"onClick",null),e=m([i.Component({selector:"igx-tab",template:'<ng-template #defaultTabTemplate let-context>\n    <div *ngIf="context.icon" class="tab-icon">\n        <igx-icon fontSet="material">{{context.icon}}</igx-icon>\n        <igx-badge [value]="context.changesCount" [hidden]="context.changesCount === 0"></igx-badge>\n    </div>\n    <div *ngIf="context.label" ngClass="tab-label">{{context.label}}</div>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this.context }">\n</ng-container>'})],e)}(),Rh=function(){function e(){}return e=m([i.NgModule({declarations:[Oh,Th,Ph,Dh],exports:[Oh,Th,Ph,Dh],imports:[o.CommonModule,hs,rs]})],e)}(),kh=function(){function e(){}return e.prototype.scrollElement=function(e,t){},e.prototype.performSelectionChange=function(e){},e.prototype.transformContentAnimation=function(e,t){},e.prototype.transformIndicatorAnimation=function(e,t){},e}(),Lh=function(){function e(){}return Object.defineProperty(e.prototype,"index",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.select=function(){},e.prototype.setSelectedInternal=function(e){},e}(),Ah=function(){function e(){}return e.prototype.select=function(){},e.prototype.setSelectedInternal=function(e){},e}();!function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.NOT_DISPLAYED="not_displayed"}(bh||(bh={}));var Mh,Vh=function(){function e(e){this.tabs=e}return Object.defineProperty(e.prototype,"visibleCSS",{get:function(){return this.getRightButtonStyle()===bh.VISIBLE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenCSS",{get:function(){return this.getRightButtonStyle()===bh.HIDDEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notDisplayedCSS",{get:function(){return this.getRightButtonStyle()===bh.NOT_DISPLAYED},enumerable:!0,configurable:!0}),e.prototype.getRightButtonStyle=function(){var e=this.tabs.viewPort.nativeElement.offsetWidth,t=this.tabs.itemsContainer.nativeElement.children.length,i=0;if(t>1){var n=this.tabs.itemsContainer.nativeElement.children[t-2];i=n.offsetLeft+n.offsetWidth}var o=this.tabs.headerContainer.nativeElement.offsetWidth,r=this.tabs.offset,s=r+e;return i-o<=1&&0===r?bh.NOT_DISPLAYED:i>s?bh.VISIBLE:bh.HIDDEN},e.ctorParameters=function(){return[{type:kh}]},m([i.HostBinding("class.igx-tabs__header-button")],e.prototype,"visibleCSS",null),m([i.HostBinding("class.igx-tabs__header-button--hidden")],e.prototype,"hiddenCSS",null),m([i.HostBinding("class.igx-tabs__header-button--none")],e.prototype,"notDisplayedCSS",null),e=m([i.Directive({selector:"[igxRightButtonStyle]"})],e)}(),Fh=function(){function e(e){this.tabs=e}return Object.defineProperty(e.prototype,"visibleCSS",{get:function(){return this.getLeftButtonStyle()===bh.VISIBLE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenCSS",{get:function(){return this.getLeftButtonStyle()===bh.HIDDEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notDisplayedCSS",{get:function(){return this.getLeftButtonStyle()===bh.NOT_DISPLAYED},enumerable:!0,configurable:!0}),e.prototype.getLeftButtonStyle=function(){var e=this.tabs.itemsContainer.nativeElement.children.length,t=0;if(e>1){var i=this.tabs.itemsContainer.nativeElement.children[e-2];t=i.offsetLeft+i.offsetWidth}var n=this.tabs.headerContainer.nativeElement.offsetWidth;return 0===this.tabs.offset?t-n<=1?bh.NOT_DISPLAYED:bh.HIDDEN:bh.VISIBLE},e.ctorParameters=function(){return[{type:kh}]},m([i.HostBinding("class.igx-tabs__header-button")],e.prototype,"visibleCSS",null),m([i.HostBinding("class.igx-tabs__header-button--hidden")],e.prototype,"hiddenCSS",null),m([i.HostBinding("class.igx-tabs__header-button--none")],e.prototype,"notDisplayedCSS",null),e=m([i.Directive({selector:"[igxLeftButtonStyle]"})],e)}(),Hh=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxTab]"})],e)}(),Bh=function(e){function t(t,i,n){var o=e.call(this)||this;return o._tabs=t,o._element=i,o._ngZone=n,o._changesCount=0,o._isSelected=!1,o._disabled=!1,o.role="tab",o.id="igx-tab-item-"+o.index,o.ariaLabel=o.label,o.ariaDisabled=o.disabled,o.ariaSelected=o.isSelected,o.ariaControls="igx-tab-item-group-"+o.index,o._nativeTabItem=i,o}return d(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.relatedGroup?this.relatedGroup.icon:this._icon},set:function(e){this.relatedGroup&&(this.relatedGroup.icon=e),this._icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.relatedGroup?this.relatedGroup.label:this._label},set:function(e){this.relatedGroup&&(this.relatedGroup.label=e),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provideCssClassSelected",{get:function(){return this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provideCssClassDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provideCssClass",{get:function(){return!this.disabled&&!this.isSelected},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this._ngZone.runOutsideAngular((function(){e._resizeObserver=new a((function(){e._tabs.transformIndicatorAnimation(e._nativeTabItem.nativeElement,0)}))}))},t.prototype.ngOnDestroy=function(){var e=this;this._ngZone.runOutsideAngular((function(){e._resizeObserver.disconnect()}))},t.prototype.onClick=function(e){this.select()},t.prototype.onKeydownArrowRight=function(e){this.onKeyDown(!1)},t.prototype.onKeydownArrowLeft=function(e){this.onKeyDown(!0)},t.prototype.onKeydownHome=function(e){e.preventDefault(),this.onKeyDown(!1,0)},t.prototype.onKeydownEnd=function(e){e.preventDefault(),this.onKeyDown(!1,this._tabs.tabs.toArray().length-1)},Object.defineProperty(t.prototype,"changesCount",{get:function(){return this._changesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeTabItem",{get:function(){return this._nativeTabItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.relatedGroup?this.relatedGroup.disabled:this._disabled},set:function(e){this.relatedGroup?this.relatedGroup.disabled=e:this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.relatedGroup?this.relatedGroup.isSelected:this._isSelected},set:function(e){this.disabled||this.isSelected===e||this._tabs.performSelectionChange(e?this:null)},enumerable:!0,configurable:!0}),t.prototype.select=function(){this.disabled||this.isSelected||this._tabs.performSelectionChange(this)},Object.defineProperty(t.prototype,"index",{get:function(){return this._tabs.tabs?this._tabs.tabs.toArray().indexOf(this):-1},enumerable:!0,configurable:!0}),t.prototype.setSelectedInternal=function(e){var t=this;this._isSelected=e,this._ngZone.runOutsideAngular((function(){t._resizeObserver&&(t._isSelected?t._resizeObserver.observe(t._element.nativeElement):t._resizeObserver.disconnect())})),this.tabindex=e?0:-1},t.prototype.onKeyDown=function(e,t){void 0===t&&(t=null);var i=this._tabs.tabs.toArray();null===t&&(t=e?0===this._tabs.selectedIndex?i.length-1:this._tabs.selectedIndex-1:this._tabs.selectedIndex===i.length-1?0:this._tabs.selectedIndex+1),i[t].select()},Object.defineProperty(t.prototype,"template",{get:function(){return this.relatedGroup&&this.relatedGroup.customTabTemplate?this.relatedGroup.customTabTemplate:this.customTabTemplateDir?this.customTabTemplateDir.template:this.defaultTabTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.relatedGroup?this.relatedGroup:this},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:kh},{type:i.ElementRef},{type:i.NgZone}]},m([i.Input()],t.prototype,"relatedGroup",void 0),m([i.Input()],t.prototype,"icon",null),m([i.Input()],t.prototype,"label",null),m([i.ViewChild("defaultTabTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultTabTemplate",void 0),m([i.ContentChild(Hh,{read:Hh})],t.prototype,"customTabTemplateDir",void 0),m([i.HostBinding("class.igx-tabs__header-menu-item--selected")],t.prototype,"provideCssClassSelected",null),m([i.HostBinding("class.igx-tabs__header-menu-item--disabled")],t.prototype,"provideCssClassDisabled",null),m([i.HostBinding("class.igx-tabs__header-menu-item")],t.prototype,"provideCssClass",null),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("attr.tabindex")],t.prototype,"tabindex",void 0),m([i.HostBinding("attr.id")],t.prototype,"id",void 0),m([i.HostBinding("attr.aria-label")],t.prototype,"ariaLabel",void 0),m([i.HostBinding("attr.aria-disabled")],t.prototype,"ariaDisabled",void 0),m([i.HostBinding("attr.aria-selected")],t.prototype,"ariaSelected",void 0),m([i.HostBinding("attr.aria-controls")],t.prototype,"ariaControls",void 0),m([i.HostListener("click",["$event"])],t.prototype,"onClick",null),m([i.HostListener("keydown.arrowright",["$event"])],t.prototype,"onKeydownArrowRight",null),m([i.HostListener("keydown.arrowleft",["$event"])],t.prototype,"onKeydownArrowLeft",null),m([i.HostListener("keydown.home",["$event"])],t.prototype,"onKeydownHome",null),m([i.HostListener("keydown.end",["$event"])],t.prototype,"onKeydownEnd",null),m([i.Input()],t.prototype,"disabled",null),m([i.Input()],t.prototype,"isSelected",null),t=m([i.Component({selector:"igx-tab-item",template:'<ng-template #defaultTabTemplate let-context>\n    <div *ngIf="context.icon" class="igx-tabs__header-menu-item-icon">\n        <igx-icon fontSet="material">{{context.icon}}</igx-icon>\n        <igx-badge [value]="changesCount" [hidden]="changesCount === 0"></igx-badge>\n    </div>\n    <div *ngIf="context.label" ngClass="igx-tabs__item-label">{{context.label}}</div>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this.context }">\n</ng-container>'})],t)}(Lh),jh=function(e){function t(t,i){var n=e.call(this)||this;return n._tabs=t,n._element=i,n.disabled=!1,n._isSelected=!1,n.role="tabpanel",n.styleClass=!0,n}return d(t,e),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this._isSelected},set:function(e){this.disabled||this.isSelected===e||this._tabs.performSelectionChange(e?this.relatedTab:null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relatedTab",{get:function(){if(this._tabs.tabs)return this._tabs.tabs.toArray()[this.index]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._tabs.groups?this._tabs.groups.toArray().indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customTabTemplate",{get:function(){return this._tabTemplate},set:function(e){this._tabTemplate=e},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this.tabTemplate&&(this._tabTemplate=this.tabTemplate.template)},t.prototype.ngAfterViewChecked=function(){this._element.nativeElement.setAttribute("aria-labelledby","igx-tab-item-"+this.index),this._element.nativeElement.setAttribute("id","igx-tabs__group-"+this.index)},t.prototype.select=function(){this.disabled||this.isSelected||this._tabs.performSelectionChange(this.relatedTab)},t.prototype.setSelectedInternal=function(e){this._isSelected=e},t.ctorParameters=function(){return[{type:kh},{type:i.ElementRef}]},m([i.Input()],t.prototype,"disabled",void 0),m([i.Input()],t.prototype,"icon",void 0),m([i.Input()],t.prototype,"label",void 0),m([i.ContentChild(Hh,{read:Hh})],t.prototype,"tabTemplate",void 0),m([i.HostBinding("attr.role")],t.prototype,"role",void 0),m([i.HostBinding("class.igx-tabs__group")],t.prototype,"styleClass",void 0),t=m([i.Component({selector:"igx-tabs-group",template:'<ng-content *ngIf="isSelected"></ng-content>\n'})],t)}(Ah);(Mh=e.IgxTabsType||(e.IgxTabsType={})).FIXED="fixed",Mh.CONTENTFIT="contentfit";var Nh,Gh=function(){function t(e,t,n){this._element=e,this._ngZone=t,this.platformUtil=n,this.selectedIndexChange=new i.EventEmitter,this.type="contentfit",this.class="",this.onTabItemDeselected=new i.EventEmitter,this.onTabItemSelected=new i.EventEmitter,this.offset=0,this._selectedIndex=-1}var n;return n=t,Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){var t="number"!=typeof e?parseInt(e,10):e;if(this._selectedIndex!==t)if(this.tabs&&this.tabs.length>0){var i=this.tabs.toArray()[t];i&&this.performSelectionChange(i)}else this._selectedIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabs",{get:function(){return this.hasContentTabs?this.contentTabs:this.viewTabs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasContentTabs",{get:function(){return this.contentTabs&&this.contentTabs.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){var t,i=this.groups.find((function(e){return null!=e.icon&&null!=e.label})),n=this.contentTabs.find((function(e){return null!=e.icon&&null!=e.label}));switch(e.IgxTabsType[this.type.toUpperCase()]){case e.IgxTabsType.FIXED:t="igx-tabs--fixed";break;default:t="igx-tabs"}return void 0===i&&void 0===n||(t+=" igx-tabs--icons"),t+" "+this.class},enumerable:!0,configurable:!0}),t.prototype.scrollLeft=function(e){this.scroll(!1)},t.prototype.scrollRight=function(e){this.scroll(!0)},t.prototype.scrollElement=function(e,t){var i=this.viewPort.nativeElement.offsetWidth;this.offset=t?e.offsetWidth+e.offsetLeft-i:e.offsetLeft,this.itemsContainer.nativeElement.style.transform="translate("+-this.offset+"px)"},Object.defineProperty(t.prototype,"selectedTabItem",{get:function(){if(this.tabs&&void 0!==this.selectedIndex)return this.tabs.toArray()[this.selectedIndex]},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;-1===this._selectedIndex&&this.tabs.forEach((function(t){t.isSelected&&(e._selectedIndex=t.index)})),!this.hasContentTabs&&(this.selectedIndex<0||this.selectedIndex>=this.groups.length)&&(this._selectedIndex=0),this.platformUtil.isBrowser&&(requestAnimationFrame((function(){var t=e.tabs.toArray()[e._selectedIndex];t?e.performSelection(t):e.hideIndicator()})),this._ngZone.runOutsideAngular((function(){e._resizeObserver=new a((function(){if(!e.hasContentTabs&&e._selectedIndex>=0&&e._selectedIndex<e.tabs.length){var t=e.tabs.toArray()[e._selectedIndex];e.transformContentAnimation(t,0)}})),e._resizeObserver.observe(e.tabsContainer.nativeElement)}))),this._groupChanges$=this.groups.changes.subscribe((function(){e.resetSelectionOnCollectionChanged()}))},t.prototype.ngOnDestroy=function(){var e=this;this._groupChanges$&&this._groupChanges$.unsubscribe(),this._resizeObserver&&this._ngZone.runOutsideAngular((function(){e._resizeObserver.disconnect()}))},t.prototype.resetSelectionOnCollectionChanged=function(){var e=this;requestAnimationFrame((function(){var t=e.tabs.toArray()[e.selectedIndex];t?e.performSelectionChange(t):e.selectedIndex>=e.tabs.length?e.performSelectionChange(e.tabs.last):e.hideIndicator()}))},t.prototype.scroll=function(e){var t,i,n=this.tabs.toArray();try{for(var o=v(n),r=o.next();!r.done;r=o.next()){var s=r.value.nativeTabItem.nativeElement;if(e){if(s.offsetWidth+s.offsetLeft>this.viewPort.nativeElement.offsetWidth+this.offset){this.scrollElement(s,e);break}}else if(s.offsetWidth+s.offsetLeft>=this.offset){this.scrollElement(s,e);break}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}},t.prototype.performSelectionChange=function(e){var t=this.selectedTabItem;t&&this.performDeselection(t),e?this.performSelection(e):this.hideIndicator(),this.selectedIndexChange.emit(this._selectedIndex)},t.prototype.performDeselection=function(e){e.setSelectedInternal(!1);var t=this.groups.toArray()[e.index];t&&t.setSelectedInternal(!1),this._selectedIndex=-1,this.onTabItemDeselected.emit({tab:e,group:t})},t.prototype.performSelection=function(e){var t=this;e.setSelectedInternal(!0),this._selectedIndex=e.index;var i=null;!this.hasContentTabs&&this.groups&&(i=this.groups.toArray()[e.index])&&i.setSelectedInternal(!0),this.onTabItemSelected.emit({tab:e,group:i}),requestAnimationFrame((function(){t.bringNewTabIntoView(e),t.transformIndicatorAnimation(e.nativeTabItem.nativeElement),t.hasContentTabs||t.transformContentAnimation(e,.2)}))},t.prototype.bringNewTabIntoView=function(e){var t=e.nativeTabItem.nativeElement;t.offsetLeft<this.offset&&this.scrollElement(t,!1);var i=this.viewPort.nativeElement.offsetWidth;t.offsetLeft+t.offsetWidth-(i+this.offset)>1&&this.scrollElement(t,!0)},t.prototype.transformContentAnimation=function(e,t){var i=this.tabsContainer.nativeElement.offsetWidth*e.index;this.contentsContainer.nativeElement.style.transitionDuration=t>0?t+"s":"initial",this.contentsContainer.nativeElement.style.transform="translate("+-i+"px)"},t.prototype.transformIndicatorAnimation=function(e,t){void 0===t&&(t=.3),this.selectedIndicator&&(this.selectedIndicator.nativeElement.style.visibility="visible",this.selectedIndicator.nativeElement.style.transitionDuration=t>0?t+"s":"initial",this.selectedIndicator.nativeElement.style.width=e.offsetWidth+"px",this.selectedIndicator.nativeElement.style.transform="translate("+e.offsetLeft+"px)")},t.prototype.hideIndicator=function(){this.selectedIndicator&&(this.selectedIndicator.nativeElement.style.visibility="hidden")},t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.NgZone},{type:ui}]},m([i.ContentChildren(i.forwardRef((function(){return jh})))],t.prototype,"groups",void 0),m([i.ContentChildren(i.forwardRef((function(){return Bh})))],t.prototype,"contentTabs",void 0),m([i.Input()],t.prototype,"selectedIndex",null),m([i.Output()],t.prototype,"selectedIndexChange",void 0),m([i.Input("type")],t.prototype,"type",void 0),m([i.Input()],t.prototype,"class",void 0),m([i.Output()],t.prototype,"onTabItemDeselected",void 0),m([i.Output()],t.prototype,"onTabItemSelected",void 0),m([i.ViewChild("contentsContainer",{static:!0})],t.prototype,"contentsContainer",void 0),m([i.ViewChild("headerContainer",{static:!0})],t.prototype,"headerContainer",void 0),m([i.ViewChild("itemsContainer",{static:!0})],t.prototype,"itemsContainer",void 0),m([i.ViewChild("selectedIndicator")],t.prototype,"selectedIndicator",void 0),m([i.ViewChild("tabsContainer",{static:!0})],t.prototype,"tabsContainer",void 0),m([i.ViewChild("viewPort",{static:!0})],t.prototype,"viewPort",void 0),m([i.ViewChildren(i.forwardRef((function(){return Bh})))],t.prototype,"viewTabs",void 0),m([i.HostBinding("attr.class")],t.prototype,"cssClass",null),t=n=m([i.Component({selector:"igx-tabs",template:'\x3c!-- TODO Remove tab container from here --\x3e\n<div #tabsContainer>\n    <div class="igx-tabs__header" #headerContainer>\n        <button igxRipple class="igx-tabs__header-button" igxButton="icon" (click)="scrollLeft($event)" igxLeftButtonStyle>\n            <igx-icon fontSet="material">navigate_before</igx-icon>\n        </button>\n        <div class="igx-tabs__header-wrapper-fixed" #viewPort>\n            <div #itemsContainer class="igx-tabs__header-wrapper-fluid">\n                <ng-container *ngIf="!hasContentTabs">\n                    <igx-tab-item igxRipple *ngFor="let group of groups" [relatedGroup]="group">\n                    </igx-tab-item>\n                </ng-container>\n                <ng-content select="igx-tab-item"></ng-content>\n                <div #selectedIndicator *ngIf="groups.length > 0 || contentTabs.length > 0" class="igx-tabs__header-menu-item-indicator"></div>\n            </div>\n        </div>\n        <button igxRipple class="igx-tabs__header-button" igxButton="icon" (click)="scrollRight($event)" igxRightButtonStyle>\n            <igx-icon fontSet="material">navigate_next</igx-icon>\n        </button>\n    </div>\n    <div class="igx-tabs__content-fixed">\n        <div #contentsContainer class="igx-tabs__content-fluid">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>',providers:[{provide:kh,useExisting:n}]})],t)}(),zh=function(){function e(){}return e=m([i.NgModule({declarations:[Gh,jh,Bh,Hh,Vh,Fh],exports:[Gh,jh,Bh,Hh,Vh,Fh],imports:[o.CommonModule,hs,rs,Vr]})],e)}(),Wh="IgxTimePickerComponentToken",Uh=function(){function t(e,t){this.timePicker=e,this.elementRef=t,this.tabindex=0}return Object.defineProperty(t.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hourCSS",{get:function(){return"hourList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minuteCSS",{get:function(){return"minuteList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secondsCSS",{get:function(){return"secondsList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ampmCSS",{get:function(){return"ampmList"===this.type},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(){this.isActive=!0},t.prototype.onBlur=function(){this.isActive=!1},t.prototype.nextItem=function(){switch(this.type){case"hourList":this.timePicker.nextHour();break;case"minuteList":this.timePicker.nextMinute();break;case"secondsList":this.timePicker.nextSeconds();break;case"ampmList":this.timePicker.nextAmPm()}},t.prototype.prevItem=function(){switch(this.type){case"hourList":this.timePicker.prevHour();break;case"minuteList":this.timePicker.prevMinute();break;case"secondsList":this.timePicker.prevSeconds();break;case"ampmList":this.timePicker.prevAmPm()}},t.prototype.onKeydownArrowDown=function(e){e.preventDefault(),this.nextItem()},t.prototype.onKeydownArrowUp=function(e){e.preventDefault(),this.prevItem()},t.prototype.onKeydownArrowRight=function(e){e.preventDefault();var t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.secondsList?-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")&&-1===t.indexOf("secondsList")||!this.timePicker.ampmList||this.timePicker.ampmList.nativeElement.focus():this.timePicker.secondsList.nativeElement.focus()},t.prototype.onKeydownArrowLeft=function(e){e.preventDefault();var t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.secondsList?this.timePicker.secondsList.nativeElement.focus():-1!==t.indexOf("secondsList")&&this.timePicker.secondsList&&t.indexOf("minutesList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("ampmList")&&-1===t.indexOf("secondsList")&&-1===t.indexOf("minuteList")||!this.timePicker.hourList||this.timePicker.hourList.nativeElement.focus()},t.prototype.onKeydownEnter=function(t){t.preventDefault(),this.timePicker.mode!==e.InteractionMode.DropDown?this.timePicker.okButtonClick():this.timePicker.close()},t.prototype.onKeydownEscape=function(e){e.preventDefault(),this.timePicker.cancelButtonClick()},t.prototype.onHover=function(){this.elementRef.nativeElement.focus()},t.prototype.onScroll=function(e){e.preventDefault(),e.stopPropagation(),e.deltaY>0?this.nextItem():e.deltaY<0&&this.prevItem()},t.prototype.onPanMove=function(e){e.deltaY<0?this.nextItem():e.deltaY>0&&this.prevItem()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]},{type:i.ElementRef}]},m([i.Input("igxItemList")],t.prototype,"type",void 0),m([i.HostBinding("attr.tabindex")],t.prototype,"tabindex",void 0),m([i.HostBinding("class.igx-time-picker__column")],t.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-time-picker__hourList")],t.prototype,"hourCSS",null),m([i.HostBinding("class.igx-time-picker__minuteList")],t.prototype,"minuteCSS",null),m([i.HostBinding("class.igx-time-picker__secondsList")],t.prototype,"secondsCSS",null),m([i.HostBinding("class.igx-time-picker__ampmList")],t.prototype,"ampmCSS",null),m([i.HostListener("focus")],t.prototype,"onFocus",null),m([i.HostListener("blur")],t.prototype,"onBlur",null),m([i.HostListener("keydown.arrowdown",["$event"])],t.prototype,"onKeydownArrowDown",null),m([i.HostListener("keydown.arrowup",["$event"])],t.prototype,"onKeydownArrowUp",null),m([i.HostListener("keydown.arrowright",["$event"])],t.prototype,"onKeydownArrowRight",null),m([i.HostListener("keydown.arrowleft",["$event"])],t.prototype,"onKeydownArrowLeft",null),m([i.HostListener("keydown.enter",["$event"])],t.prototype,"onKeydownEnter",null),m([i.HostListener("keydown.escape",["$event"])],t.prototype,"onKeydownEscape",null),m([i.HostListener("mouseover")],t.prototype,"onHover",null),m([i.HostListener("wheel",["$event"])],t.prototype,"onScroll",null),m([i.HostListener("panmove",["$event"])],t.prototype,"onPanMove",null),t=m([i.Directive({selector:"[igxItemList]"}),y(0,i.Inject(Wh))],t)}(),$h=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedHour},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedHour&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedHour",{get:function(){return this.timePicker.selectedHour===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollHourIntoView(e)},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]},{type:Uh}]},m([i.Input("igxHourItem")],e.prototype,"value",void 0),m([i.HostBinding("class.igx-time-picker__item")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-time-picker__item--selected")],e.prototype,"selectedCSS",null),m([i.HostBinding("class.igx-time-picker__item--active")],e.prototype,"activeCSS",null),m([i.HostListener("click",["value"])],e.prototype,"onClick",null),e=m([i.Directive({selector:"[igxHourItem]"}),y(0,i.Inject(Wh))],e)}(),Kh=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedMinute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedMinute&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedMinute",{get:function(){return this.timePicker.selectedMinute===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollMinuteIntoView(e)},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]},{type:Uh}]},m([i.Input("igxMinuteItem")],e.prototype,"value",void 0),m([i.HostBinding("class.igx-time-picker__item")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-time-picker__item--selected")],e.prototype,"selectedCSS",null),m([i.HostBinding("class.igx-time-picker__item--active")],e.prototype,"activeCSS",null),m([i.HostListener("click",["value"])],e.prototype,"onClick",null),e=m([i.Directive({selector:"[igxMinuteItem]"}),y(0,i.Inject(Wh))],e)}(),Yh=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedSeconds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedSeconds&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedSeconds",{get:function(){return this.timePicker.selectedSeconds===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollSecondsIntoView(e)},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]},{type:Uh}]},m([i.Input("igxSecondsItem")],e.prototype,"value",void 0),m([i.HostBinding("class.igx-time-picker__item")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-time-picker__item--selected")],e.prototype,"selectedCSS",null),m([i.HostBinding("class.igx-time-picker__item--active")],e.prototype,"activeCSS",null),m([i.HostListener("click",["value"])],e.prototype,"onClick",null),e=m([i.Directive({selector:"[igxSecondsItem]"}),y(0,i.Inject(Wh))],e)}(),Xh=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedAmPm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedAmPm&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedAmPm",{get:function(){return this.timePicker.selectedAmPm===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollAmPmIntoView(e)},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]},{type:Uh}]},m([i.Input("igxAmPmItem")],e.prototype,"value",void 0),m([i.HostBinding("class.igx-time-picker__item")],e.prototype,"defaultCSS",null),m([i.HostBinding("class.igx-time-picker__item--selected")],e.prototype,"selectedCSS",null),m([i.HostBinding("class.igx-time-picker__item--active")],e.prototype,"activeCSS",null),m([i.HostListener("click",["value"])],e.prototype,"onClick",null),e=m([i.Directive({selector:"[igxAmPmItem]"}),y(0,i.Inject(Wh))],e)}(),qh=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxTimePickerTemplate]"})],e)}(),Zh=function(){function e(e){this.template=e}return e.ctorParameters=function(){return[{type:i.TemplateRef}]},e=m([i.Directive({selector:"[igxTimePickerActions]"})],e)}(),Jh=function(){function e(e){this.timePicker=e}return e.prototype.transform=function(e){var t,i,n,o,r=this.timePicker.parseMask(),s=this.timePicker.parseMask(!1);if(!e||e===s||e===r)return"";var a=e.split(/[\s:]+/);this.timePicker.showHoursList&&(t=a[0]),this.timePicker.showMinutesList&&(i=this.timePicker.showHoursList?a[1]:a[0]),this.timePicker.showSecondsList&&(n=a[a.length-(this.timePicker.showAmPmList?2:1)]),this.timePicker.showAmPmList&&(o=a[a.length-1]);var l=this.timePicker.format,c=this.timePicker.promptChar,p=new RegExp(this.timePicker.promptChar,"g");if((-1!==l.indexOf("hh")||-1!==l.indexOf("HH")&&-1!==t.indexOf(c))&&(t=t===c+c?"00":t.replace(p,"0")),-1!==l.indexOf("mm")&&-1!==i.indexOf(c)&&(i=i===c+c?"00":i.replace(p,"0")),-1!==l.indexOf("ss")&&-1!==n.indexOf(c)&&(n=n===c+c?"00":n.replace(p,"0")),-1===l.indexOf("hh")&&-1===l.indexOf("HH")&&void 0!==t){t=-1!==t.indexOf(c)?t.replace(p,""):t;var d=parseInt(t,10);t=d?d<10&&0!==d?t.replace("0",""):t:"0"}if(-1===l.indexOf("mm")&&void 0!==i){i=-1!==i.indexOf(c)?i.replace(p,""):i;var u=parseInt(i,10);i=u?u<10&&0!==u?i.replace("0",""):i:"0"}if(-1===l.indexOf("ss")&&void 0!==n){n=-1!==n.indexOf(c)?n.replace(p,""):n;var h=parseInt(n,10);n=h?h<10&&0!==h?n.replace("0",""):n:"0"}-1===l.indexOf("tt")||"AM"===o&&"PM"===o||(o=-1!==o.indexOf("p")||-1!==o.indexOf("P")?"PM":"AM");var g=t+":"+i+":"+n;return t||(g=g.slice(g.indexOf(":")+1)),i||(g=t?g.slice(0,g.indexOf(":"))+g.slice(g.lastIndexOf(":"),g.length):g.slice(g.indexOf(":")+1)),n||(g=g.slice(0,g.lastIndexOf(":"))),o?g+" "+o:g},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]}]},e=m([i.Pipe({name:"displayFormat"}),y(0,i.Inject(Wh))],e)}(),Qh=function(){function e(e){this.timePicker=e}return e.prototype.transform=function(e){var t,i,n,o,r,s=this.timePicker.promptChar,a=new RegExp(s,"g");if(this.timePicker.cleared?(this.timePicker.cleared=!1,t=this.timePicker.parseMask(!1)):t=this.timePicker.parseMask(),!e||e===t)return t;var l=e.split(/[\s:]+/);if(this.timePicker.showHoursList){i=(i=l[0]).replace(a,"");var c=parseInt(i,10)<10&&!i.startsWith("0")||"0"===i;i=c?"0"+i:i}if(this.timePicker.showMinutesList){n=(n=this.timePicker.showHoursList?l[1]:l[0]).replace(a,"");var p=parseInt(n,10)<10&&!n.startsWith("0")||"0"===n;n=p?"0"+n:n}if(this.timePicker.showSecondsList){o=(o=l[l.length-(this.timePicker.showAmPmList?2:1)]).replace(a,"");var d=parseInt(o,10)<10&&!o.startsWith("0")||"0"===o;o=d?"0"+o:o}this.timePicker.showAmPmList&&(r=l[l.length-1]);var u=i+":"+n+":"+o;return i||(u=u.slice(u.indexOf(":")+1)),n||(u=i?u.slice(0,u.indexOf(":"))+u.slice(u.lastIndexOf(":"),u.length):u.slice(u.indexOf(":")+1)),o||(u=u.slice(0,u.lastIndexOf(":"))),r?u+" "+r:u},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[Wh]}]}]},e=m([i.Pipe({name:"inputFormat"}),y(0,i.Inject(Wh))],e)}(),eg=0,tg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}},t}return d(t,e),t=m([i.Injectable()],t)}(c.HammerGestureConfig),ig=function(){},ng=function(){function t(t,n){this._injector=t,this._cdr=n,this.id="igx-time-picker-"+eg++,this.disabled=!1,this.isSpinLoop=!0,this.vertical=!1,this.promptChar="-",this.mode=e.InteractionMode.Dialog,this.onValueChanged=new i.EventEmitter,this.onValidationFailed=new i.EventEmitter,this.onOpened=new i.EventEmitter,this.onClosed=new i.EventEmitter,this.onClosing=new i.EventEmitter,this._hourItems=[],this._minuteItems=[],this._secondsItems=[],this._ampmItems=[],this.cleared=!1,this.isNotEmpty=!1,this.displayFormat=new Jh(this),this.inputFormat=new Qh(this),this._resourceStrings=Ra.TimePickerResStrings,this._okButtonLabel=null,this._cancelButtonLabel=null,this._itemsDelta={hours:1,minutes:1,seconds:1},this._isHourListLoop=this.isSpinLoop,this._isMinuteListLoop=this.isSpinLoop,this._isSecondsListLoop=this.isSpinLoop,this._hourView=[],this._minuteView=[],this._secondsView=[],this._ampmView=[],this._destroy$=new r.Subject,this._onOpen=new i.EventEmitter,this._onClose=new i.EventEmitter,this._hoursPos=new Set,this._minutesPos=new Set,this._secondsPos=new Set,this._amPmPos=new Set,this._ngControl=null,this._onChangeCallback=ig,this._onTouchedCallback=ig}var o;return o=t,Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(this._isValueValid(t)){var i=this._value;this._value=t,this._onChangeCallback(t);var n=this._formatTime(this.value,this.format);this.mode===e.InteractionMode.DropDown&&this._displayValue!==n&&(this.displayValue=n);var o={oldValue:i,newValue:t};this.onValueChanged.emit(o)}else{o={timePicker:this,currentValue:t,setThroughUI:!1};this.onValidationFailed.emit(o)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"okButtonLabel",{get:function(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel},set:function(e){this._okButtonLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelButtonLabel",{get:function(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel},set:function(e){this._cancelButtonLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsDelta",{get:function(){return this._itemsDelta},set:function(e){this._itemsDelta=f({hours:1,minutes:1,seconds:1},e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format||"hh:mm tt"},set:function(e){this._format=e,this.mask=-1!==this._format.indexOf("tt")?"00:00:00 LL":"00:00:00",this.showHoursList&&this.showMinutesList||this.trimMask(),this.showSecondsList||this.trimMask(),this.displayValue&&(this.displayValue=this._formatTime(this.value,this._format)),this.determineCursorPos()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlaySettings",{get:function(){return this._overlaySettings?this._overlaySettings:this.mode===e.InteractionMode.Dialog?this._dialogOverlaySettings:this._dropDownOverlaySettings},set:function(e){this._overlaySettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onOpen",{get:function(){return this._onOpen},set:function(e){this._onOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClose",{get:function(){return this._onClose},set:function(e){this._onClose=e},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this._dateFromModel=t,this._value=t,this.mode===e.InteractionMode.DropDown&&(this.displayValue=this._formatTime(this.value,this.format))},t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype.trimMask=function(){this.mask=this.mask.slice(this.mask.indexOf(":")+1,this.mask.length)},Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask||"00:00 LL"},set:function(e){this._mask=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayValue",{get:function(){return void 0===this._displayValue?this._formatTime(this.value,this.format):this._displayValue},set:function(e){this._displayValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayTime",{get:function(){return this.value?this._formatTime(this.value,this.format):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hourView",{get:function(){return this._hourView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minuteView",{get:function(){return this._minuteView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secondsView",{get:function(){return this._secondsView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ampmView",{get:function(){return this._ampmView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.displayValue&&this.displayValue!==this.parseMask(!1)||this.isNotEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHoursList",{get:function(){return-1!==this.format.indexOf("h")||-1!==this.format.indexOf("H")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMinutesList",{get:function(){return-1!==this.format.indexOf("m")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSecondsList",{get:function(){return-1!==this.format.indexOf("s")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAmPmList",{get:function(){return-1!==this.format.indexOf("t")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validSecondsEntries",{get:function(){for(var e=[],t=0;t<60;t++)e.push(t);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validMinuteEntries",{get:function(){for(var e=[],t=0;t<60;t++)e.push(t);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validHourEntries",{get:function(){for(var e=[],t=-1!==this.format.indexOf("h")?13:24,i=0;i<t;i++)e.push(i);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.timePickerTemplateDirective?this.timePickerTemplateDirective.template:this.mode===e.InteractionMode.Dialog?this.defaultTimePickerTemplate:this.dropdownInputTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){var e=this;return{value:this.value,displayTime:this.displayTime,displayValue:this.displayValue,openDialog:function(t){return e.openDialog(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){var e=this._ngControl.control.validator({});return e&&e.required}return!1},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._generateHours(),this._generateMinutes(),this._generateSeconds(),-1!==this.format.indexOf("tt")&&this._generateAmPm(),this._dropDownOverlaySettings={modal:!1,closeOnOutsideClick:!0,scrollStrategy:new Gn,positionStrategy:new jn},this._dialogOverlaySettings={},this._ngControl=this._injector.get(n.NgControl,null)},t.prototype.ngAfterViewInit=function(){var t=this;this.mode===e.InteractionMode.DropDown&&this._inputElementRef&&r.fromEvent(this._inputElementRef.nativeElement,"keydown").pipe(s.throttle((function(){return r.interval(0,r.animationFrameScheduler)})),s.takeUntil(this._destroy$)).subscribe((function(e){"ArrowUp"!==e.key&&"Up"!==e.key&&"ArrowDown"!==e.key&&"Down"!==e.key||t.spinOnEdit(e)})),this.toggleRef&&this._inputGroup&&(this.toggleRef.element.style.width=this._inputGroup.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef&&(this.toggleRef.onClosed.pipe(s.takeUntil(this._destroy$)).subscribe((function(){t.mode===e.InteractionMode.DropDown&&t._onDropDownClosed(),t.onClosed.emit(t),t._onClose.emit(t)})),this.toggleRef.onOpened.pipe(s.takeUntil(this._destroy$)).subscribe((function(){t.onOpened.emit(t),t._onOpen.emit(t)})),this.toggleRef.onClosing.pipe(s.takeUntil(this._destroy$)).subscribe((function(i){if(t.onClosing.emit(i),!i.cancel){var n=t.getEditElement();!n||i.event&&t.mode===e.InteractionMode.DropDown?t._updateValidityOnBlur():n.focus()}})),this.determineCursorPos(),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this))))},t.prototype.ngAfterViewChecked=function(){this._inputGroup&&this._inputGroup.isRequired!==this.required&&(this._inputGroup.isRequired=this.required,this._cdr.detectChanges())},t.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},t.prototype.onKeydownSpace=function(e){this.openDialog(this.getInputGroupElement()),e.preventDefault()},t.prototype.onAltArrowDown=function(){this.openDialog(this.getInputGroupElement())},t.prototype.determineCursorPos=function(){var e,t;this.clearCursorPos();try{for(var i=v(this.format),n=i.next();!n.done;n=i.next()){var o=n.value;switch(o){case"H":case"h":0===this._hoursPos.size?this._hoursPos.add(this.format.indexOf(o)):this._hoursPos.add(this.format.lastIndexOf(o)),this._hoursPos.add(this.format.lastIndexOf(o)+1);break;case"M":case"m":0===this._minutesPos.size?this._minutesPos.add(this.format.indexOf(o)):this._minutesPos.add(this.format.lastIndexOf(o)),this._minutesPos.add(this.format.lastIndexOf(o)+1);break;case"S":case"s":0===this._secondsPos.size?this._secondsPos.add(this.format.indexOf(o)):this._secondsPos.add(this.format.lastIndexOf(o)),this._secondsPos.add(this.format.lastIndexOf(o)+1);break;case"T":case"t":0===this._amPmPos.size?this._amPmPos.add(this.format.indexOf(o)):this._amPmPos.add(this.format.lastIndexOf(o)),this._amPmPos.add(this.format.lastIndexOf(o)+1)}}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t.prototype.clearCursorPos=function(){var e=this;this._hoursPos.forEach((function(t){return e._hoursPos.delete(t)})),this._minutesPos.forEach((function(t){return e._minutesPos.delete(t)})),this._secondsPos.forEach((function(t){return e._secondsPos.delete(t)})),this._amPmPos.forEach((function(t){return e._amPmPos.delete(t)}))},t.prototype._scrollItemIntoView=function(e,t,i,n,o){var r;if(t){var s="AM"===e||"PM"===e?t.indexOf(e):t.indexOf(parseInt(e,10)),a=void 0;-1!==s&&(n?s>0?(i=this._itemToString(t[s-1],o),r=this._nextItem(t,i,n,o)):(i=this._itemToString(t[1],o),r=this._prevItem(t,i,n,o)):(a=t.slice(s-3,s+4),r={selectedItem:i=this._itemToString(t[s],o),view:a}),r.view=this._viewToString(r.view,o))}return r},t.prototype._viewToString=function(e,t){for(var i=0;i<e.length;i++)"string"!=typeof e[i]&&(e[i]=this._itemToString(e[i],t));return e},t.prototype._itemToString=function(e,t){if(null===e)e="";else if(t&&"string"!=typeof e){e={hour:e<10&&(-1!==this.format.indexOf("hh")||-1!==this.format.indexOf("HH")),minute:e<10&&-1!==this.format.indexOf("mm"),seconds:e<10&&-1!==this.format.indexOf("ss")}[t]?"0"+e:""+e}return e},t.prototype._prevItem=function(e,t,i,n){var o,r=e.indexOf(parseInt(t,10)),s=e.length;return-1===r?(o=e.slice(0,7),t=e[3]):i?(o=r-4<0?(o=e.slice(s-(4-r),s)).concat(e.slice(0,r+3)):r+4>s?(o=e.slice(r-4,s)).concat(e.slice(0,r+3-s)):e.slice(r-4,r+3),t=0===r?e[s-1]:e[r-1]):r>3?(o=e.slice(r-4,r+3),t=e[r-1]):3===r&&(o=e.slice(0,7)),o=this._viewToString(o,n),{selectedItem:t=this._itemToString(t,n),view:o}},t.prototype._nextItem=function(e,t,i,n){var o,r=e.indexOf(parseInt(t,10)),s=e.length;return-1===r?(o=e.slice(0,7),t=e[3]):i?(o=r<2?(o=e.slice(s-(2-r),s)).concat(e.slice(0,r+5)):r+4>=s?(o=e.slice(r-2,s)).concat(e.slice(0,r+5-s)):e.slice(r-2,r+5),t=r===s-1?e[0]:e[r+1]):r+1<s-3?(o=e.slice(r-2,r+5),t=e[r+1]):r===s-4&&(o=e.slice(r-3,s)),o=this._viewToString(o,n),{selectedItem:t=this._itemToString(t,n),view:o}},t.prototype._formatTime=function(e,t){if(e){var i,n,o=e.getHours(),r=void 0,s=e.getMinutes(),a=e.getSeconds(),l=o>11?"PM":"AM";return r=-1!==t.indexOf("h")?o>12?(o-=12)<10&&-1!==t.indexOf("hh")?"0"+o:""+o:0===o?"12":o<10&&-1!==t.indexOf("hh")?"0"+o:""+o:o<10&&-1!==t.indexOf("HH")?"0"+o:""+o,n=s<10&&-1!==t.indexOf("mm")?"0"+s:""+s,i=a<10&&-1!==t.indexOf("ss")?"0"+a:""+a,t.replace("hh",r).replace("h",r).replace("HH",r).replace("H",r).replace("mm",n).replace("m",n).replace("ss",i).replace("s",i).replace("tt",l)}return""},t.prototype._updateHourView=function(e,t){this._hourView=this._viewToString(this._hourItems.slice(e,t),"hour")},t.prototype._updateMinuteView=function(e,t){this._minuteView=this._viewToString(this._minuteItems.slice(e,t),"minute")},t.prototype._updateSecondsView=function(e,t){this._secondsView=this._viewToString(this._secondsItems.slice(e,t),"seconds")},t.prototype._updateAmPmView=function(e,t){this._ampmView=this._ampmItems.slice(e,t)},t.prototype._addEmptyItems=function(e){for(var t=0;t<3;t++)e.push(null)},t.prototype._generateHours=function(){var e=24;-1!==this.format.indexOf("h")&&(e=13),e/=this.itemsDelta.hours;var t=-1!==this.format.indexOf("H")?0:1;if((e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._hourItems),this._isHourListLoop=!1),e>1)for(;t<e;t++)this._hourItems.push(t*this.itemsDelta.hours);else this._hourItems.push(0);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._hourItems)},t.prototype._generateMinutes=function(){var e=60/this.itemsDelta.minutes;(e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._minuteItems),this._isMinuteListLoop=!1);for(var t=0;t<e;t++)this._minuteItems.push(t*this.itemsDelta.minutes);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._minuteItems)},t.prototype._generateSeconds=function(){var e=60/this.itemsDelta.seconds;(e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._secondsItems),this._isSecondsListLoop=!1);for(var t=0;t<e;t++)this._secondsItems.push(t*this.itemsDelta.seconds);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._secondsItems)},t.prototype._generateAmPm=function(){this._addEmptyItems(this._ampmItems),this._ampmItems.push("AM"),this._ampmItems.push("PM"),this._addEmptyItems(this._ampmItems)},t.prototype._getSelectedTime=function(){var e=this.value?new Date(this.value):new Date;return this.selectedHour&&e.setHours(parseInt(this.selectedHour,10)),this.selectedMinute&&e.setMinutes(parseInt(this.selectedMinute,10)),this.selectedSeconds&&e.setSeconds(parseInt(this.selectedSeconds,10)),(this.showHoursList&&"12"!==this.selectedHour||!this.showHoursList&&this.selectedHour<="11")&&"PM"===this.selectedAmPm&&e.setHours(e.getHours()+12),!this.showHoursList&&"AM"===this.selectedAmPm&&this.selectedHour>"11"&&e.setHours(e.getHours()-12),"AM"===this.selectedAmPm&&"12"===this.selectedHour&&e.setHours(0),e},t.prototype._convertMinMaxValue=function(e){var t,i,n,o,r=this.value?new Date(this.value):this._dateFromModel?new Date(this._dateFromModel):new Date,s=e.split(/[\s:]+/);return r.setSeconds(0),this.showHoursList&&(t=s[0],r.setHours(parseInt(t,10))),this.showMinutesList&&(i=this.showHoursList?s[1]:s[0],r.setMinutes(parseInt(i,10))),this.showSecondsList&&(n=s[s.length-(this.showAmPmList?2:1)],r.setSeconds(parseInt(n,10))),this.showAmPmList&&(o=s[s.length-1],(this.showHoursList&&"12"!==r.getHours().toString()||!this.showHoursList&&r.getHours().toString()<="11")&&"PM"===o&&r.setHours(r.getHours()+12),!this.showHoursList&&"AM"===o&&r.getHours().toString()>"11"&&r.setHours(r.getHours()-12),this.showHoursList&&12===r.getHours()&&"AM"===o&&r.setHours(0)),r},t.prototype._isValueValid=function(e){return!(this.maxValue&&e>this._convertMinMaxValue(this.maxValue))&&!(this.minValue&&e<this._convertMinMaxValue(this.minValue))},t.prototype._isEntryValid=function(e){var t=!0,i=!0,n=!0,o=e.split(/[\s:]+/),r=new RegExp(this.promptChar,"g");if(this.showHoursList&&(t=-1!==this.validHourEntries.indexOf(parseInt(o[0].replace(r,""),10))),this.showMinutesList){var s=this.showHoursList?o[1]:o[0];i=-1!==this.validMinuteEntries.indexOf(parseInt(s.replace(r,""),10))}if(this.showSecondsList){var a=o[o.length-(this.showAmPmList?2:1)];n=-1!==this.validSecondsEntries.indexOf(parseInt(a.replace(r,""),10))}return t&&i&&n},t.prototype._getCursorPosition=function(){return this._inputElementRef.nativeElement.selectionStart},t.prototype._setCursorPosition=function(e,t){void 0===t&&(t=e),this._inputElementRef.nativeElement.setSelectionRange(e,t)},t.prototype._updateEditableInput=function(){this.mode===e.InteractionMode.DropDown&&(this.displayValue=this._formatTime(this._getSelectedTime(),this.format))},t.prototype._spinHours=function(e,t,i,n,o){var r=new Date(e);e.setMinutes(o*n),e.getDate()!==r.getDate()&&this.isSpinLoop&&e.setDate(r.getDate());var s=e.getMinutes();return e.getTime()>i.getTime()?this.isSpinLoop?(s=s<t.getMinutes()?60+s:s,t.setMinutes(o*s),t):r:e.getTime()<t.getTime()?this.isSpinLoop?(s=s<=i.getMinutes()?s:s-60,i.setMinutes(s),i):r:e},t.prototype._spinMinutes=function(e,t,i){var n=e.getMinutes()+i*t;return(n<0||n>=60)&&(n=this.isSpinLoop?n-60*i:e.getMinutes()),e.setMinutes(n),e},t.prototype._spinSeconds=function(e,t,i){var n=e.getSeconds()+i*t;return(n<0||n>=60)&&(n=this.isSpinLoop?n-60*i:e.getSeconds()),e.setSeconds(n),e},t.prototype._initializeContainer=function(){var e=this;if(this.value){var t=this._formatTime(this.value,this.format).split(/[\s:]+/);this.showHoursList&&(this.selectedHour=t[0]),this.showMinutesList&&(this.selectedMinute=this.showHoursList?t[1]:t[0]),this.showSecondsList&&(this.selectedSeconds=t[t.length-(this.showAmPmList?2:1)]),this.showAmPmList&&null!==this._ampmItems&&(this.selectedAmPm=t[t.length-1])}void 0===this.selectedHour&&(this.selectedHour=!this.showHoursList&&this.value?this.value.getHours().toString():this.showHoursList?""+this._hourItems[3]:"0"),void 0===this.selectedMinute&&(this.selectedMinute=!this.showMinutesList&&this.value?this.value.getMinutes().toString():"0"),void 0===this.selectedSeconds&&(this.selectedSeconds=!this.showSecondsList&&this.value?this.value.getSeconds().toString():"0"),void 0===this.selectedAmPm&&null!==this._ampmItems&&(this.selectedAmPm=this._ampmItems[3]),this._prevSelectedHour=this.selectedHour,this._prevSelectedMinute=this.selectedMinute,this._prevSelectedSeconds=this.selectedSeconds,this._prevSelectedAmPm=this.selectedAmPm,this._onTouchedCallback(),this._updateHourView(0,7),this._updateMinuteView(0,7),this._updateSecondsView(0,7),this._updateAmPmView(0,7),this.selectedHour&&this.scrollHourIntoView(this.selectedHour),this.selectedMinute&&this.scrollMinuteIntoView(this.selectedMinute),this.selectedSeconds&&this.scrollSecondsIntoView(this.selectedSeconds),this.selectedAmPm&&this.scrollAmPmIntoView(this.selectedAmPm),requestAnimationFrame((function(){e.hourList?e.hourList.nativeElement.focus():e.minuteList?e.minuteList.nativeElement.focus():e.secondsList&&e.secondsList.nativeElement.focus()}))},t.prototype._onDropDownClosed=function(){var e=this.value,t=this._convertMinMaxValue(this.displayValue);if(this.displayValue!==this.parseMask(!1))if(this._isValueValid(t))this.value&&e.getTime()===t.getTime()||(this.value=t);else{this.displayValue=this.inputFormat.transform(this._formatTime(e,this.format));var i={timePicker:this,currentValue:t,setThroughUI:!0};this.onValidationFailed.emit(i)}},t.prototype.onStatusChanged=function(){if((this._ngControl.control.touched||this._ngControl.control.dirty)&&(this._ngControl.control.validator||this._ngControl.control.asyncValidator)){var t=this._inputDirective||this._inputDirectiveUserTemplate;this._inputGroup.isFocused?t.valid=this._ngControl.valid?e.IgxInputState.VALID:e.IgxInputState.INVALID:t.valid=this._ngControl.valid?e.IgxInputState.INITIAL:e.IgxInputState.INVALID}this._inputGroup&&this._inputGroup.isRequired!==this.required&&(this._inputGroup.isRequired=this.required)},t.prototype.getEditElement=function(){return this._inputElementRef?this._inputElementRef.nativeElement:null},t.prototype.getInputGroupElement=function(){return this._inputGroup?this._inputGroup.element.nativeElement:null},t.prototype.openDialog=function(e){if(!this.toggleRef.collapsed)return this._onDropDownClosed();var t=this.overlaySettings;e&&t&&t.positionStrategy&&(t.positionStrategy.settings.target=e),this.outlet&&(t.outlet=this.outlet),this.toggleRef.open(t),this._initializeContainer()},t.prototype.scrollHourIntoView=function(e){if(this.showHoursList){var t=this._scrollItemIntoView(e,this._hourItems,this.selectedHour,this._isHourListLoop,"hour");t&&(this._hourView=t.view,this.selectedHour=t.selectedItem,this._updateEditableInput())}},t.prototype.scrollMinuteIntoView=function(e){if(this.showMinutesList){var t=this._scrollItemIntoView(e,this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");t&&(this._minuteView=t.view,this.selectedMinute=t.selectedItem,this._updateEditableInput())}},t.prototype.scrollSecondsIntoView=function(e){if(this.showSecondsList){var t=this._scrollItemIntoView(e,this._secondsItems,this.selectedSeconds,this._isSecondsListLoop,"seconds");t&&(this._secondsView=t.view,this.selectedSeconds=t.selectedItem,this._updateEditableInput())}},t.prototype.scrollAmPmIntoView=function(e){if(this.showAmPmList){var t=this._scrollItemIntoView(e,this._ampmItems,this.selectedAmPm,!1,null);t&&(this._ampmView=t.view,this.selectedAmPm=t.selectedItem,this._updateEditableInput())}},t.prototype.nextHour=function(){var e=this._nextItem(this._hourItems,this.selectedHour,this._isHourListLoop,"hour");this._hourView=e.view,this.selectedHour=e.selectedItem,this._updateEditableInput()},t.prototype.prevHour=function(){var e=this._prevItem(this._hourItems,this.selectedHour,this._isHourListLoop,"hour");this._hourView=e.view,this.selectedHour=e.selectedItem,this._updateEditableInput()},t.prototype.nextMinute=function(){var e=this._nextItem(this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");this._minuteView=e.view,this.selectedMinute=e.selectedItem,this._updateEditableInput()},t.prototype.prevMinute=function(){var e=this._prevItem(this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");this._minuteView=e.view,this.selectedMinute=e.selectedItem,this._updateEditableInput()},t.prototype.nextSeconds=function(){var e=this._nextItem(this._secondsItems,this.selectedSeconds,this._isSecondsListLoop,"seconds");this._secondsView=e.view,this.selectedSeconds=e.selectedItem,this._updateEditableInput()},t.prototype.prevSeconds=function(){var e=this._prevItem(this._secondsItems,this.selectedSeconds,this._isSecondsListLoop,"seconds");this._secondsView=e.view,this.selectedSeconds=e.selectedItem,this._updateEditableInput()},t.prototype.nextAmPm=function(){var e=this._ampmItems.indexOf(this.selectedAmPm);e+1<this._ampmItems.length-3&&(this._updateAmPmView(e-2,e+5),this.selectedAmPm=this._ampmItems[e+1],this._updateEditableInput())},t.prototype.prevAmPm=function(){var e=this._ampmItems.indexOf(this.selectedAmPm);e>3&&(this._updateAmPmView(e-4,e+3),this.selectedAmPm=this._ampmItems[e-1],this._updateEditableInput())},t.prototype.okButtonClick=function(){var e=this._getSelectedTime();if(this._isValueValid(e))return this.close(),this.value=e,!0;var t={timePicker:this,currentValue:e,setThroughUI:!0};return this.onValidationFailed.emit(t),!1},t.prototype.cancelButtonClick=function(){this.mode===e.InteractionMode.DropDown&&(this.displayValue=this.value?this._formatTime(this.value,this.format):this.parseMask(!1)),this.close(),this.selectedHour=this._prevSelectedHour,this.selectedMinute=this._prevSelectedMinute,this.selectedSeconds=this._prevSelectedSeconds,this.selectedAmPm=this._prevSelectedAmPm},t.prototype.hoursInView=function(){return this._hourView.filter((function(e){return""!==e}))},t.prototype.minutesInView=function(){return this._minuteView.filter((function(e){return""!==e}))},t.prototype.secondsInView=function(){return this._secondsView.filter((function(e){return""!==e}))},t.prototype.ampmInView=function(){return this._ampmView.filter((function(e){return""!==e}))},t.prototype.close=function(){this.toggleRef.close()},t.prototype.parseMask=function(e){void 0===e&&(e=!0);var t=this.mask.replace(new RegExp("0","g"),this.promptChar).replace("LL","AM"),i=this.mask.replace(new RegExp("0","g"),this.promptChar).replace(new RegExp("L","g"),this.promptChar);return e?t:i},t.prototype.clear=function(){if(this.toggleRef.collapsed){this.cleared=!0,this.isNotEmpty=!1;var e=new Date(this.value);if(this.displayValue="",this.value.setHours(0,0),e.getTime()!==this.value.getTime()){var t={oldValue:e,newValue:this.value};this.onValueChanged.emit(t)}}else this.close()},t.prototype.onInput=function(e){var t=e.target.value,i=new Date(this.value);if(this.isNotEmpty=t!==this.parseMask(!1),-1===t.indexOf(this.promptChar))if(this._isEntryValid(t)){var n=this._convertMinMaxValue(t);i.getTime()!==n.getTime()&&(this.value=n)}else{var o={timePicker:this,currentValue:t,setThroughUI:!1};this.onValidationFailed.emit(o)}else if(!(this.value&&t&&t!==this.parseMask(!1)||(this.isNotEmpty=!1,this.value.setHours(0,0),this.displayValue=t,i.getTime()===this.value.getTime()))){o={oldValue:i,newValue:this.value};this.onValueChanged.emit(o)}},t.prototype.onFocus=function(e){this.isNotEmpty=e.target.value!==this.parseMask(!1)},t.prototype.onBlur=function(t){if(this.mode===e.InteractionMode.DropDown){var i=t.target.value;if(this.isNotEmpty=""!==i,this.displayValue=i,i&&i!==this.parseMask())if(this._isEntryValid(i)){var n=this._convertMinMaxValue(i);this.value&&this.value.getTime()===n.getTime()||(this.value=n)}else{var o={timePicker:this,currentValue:i,setThroughUI:!1};this.onValidationFailed.emit(o)}}this.toggleRef.collapsed&&this._updateValidityOnBlur()},t.prototype.mouseDown=function(e){e.target!==this.getEditElement()&&e.preventDefault()},t.prototype.spinOnEdit=function(e){var t,i,n=this;e.preventDefault();var o=new Date(this.value),r=this.minValue?this._convertMinMaxValue(this.minValue):this._convertMinMaxValue("00:00"),s=this.maxValue?this._convertMinMaxValue(this.maxValue):this._convertMinMaxValue("24:00"),a=this._getCursorPosition();if(e.key){var l=e.key;t="ArrowDown"===l||"Down"===l?-1:1}if(e.deltaY&&(t=e.deltaY<0?1:-1),this.displayValue){var c=60*this.itemsDelta.hours+t*this.value.getMinutes(),p=this.itemsDelta.minutes,d=this.itemsDelta.seconds;if(this.cursorOnHours(a,this.showHoursList)&&(this.value=this._spinHours(o,r,s,c,t)),this.cursorOnMinutes(a,this.showHoursList,this.showMinutesList)&&(this.value=this._spinMinutes(o,p,t)),this.cursorOnSeconds(a,this.showHoursList,this.showMinutesList,this.showSecondsList)&&(this.value=this._spinSeconds(o,d,t)),this.cursorOnAmPm(a,this.showHoursList,this.showMinutesList,this.showSecondsList,this.showAmPmList)){var u=this.displayValue.split(/[\s:]+/);t="AM"===u[u.length-1]?1:-1,o.setHours(o.getHours()+12*t),this.value=o}i=this._formatTime(this.value,this.format)}else this.value=r,i=this._formatTime(this.value,this.format);this._displayValue=this.inputFormat.transform(i),this._inputElementRef.nativeElement.value=this._displayValue,this._setCursorPosition(a),requestAnimationFrame((function(){n._setCursorPosition(a)}))},t.prototype.cursorOnHours=function(e,t){return t&&this._hoursPos.has(e)},t.prototype.cursorOnMinutes=function(e,t,i){return i&&t&&this._minutesPos.has(e)||!t&&this._minutesPos.has(e)},t.prototype.cursorOnSeconds=function(e,t,i,n){return n&&t&&i&&this._secondsPos.has(e)||(!t||!i)&&this._secondsPos.has(e)||!t&&!i&&this._secondsPos.has(e)},t.prototype.cursorOnAmPm=function(e,t,i,n,o){return o&&t&&i&&n&&this._amPmPos.has(e)||(!t||!i||!n)&&this._amPmPos.has(e)||!t&&(!i||!n)&&this._amPmPos.has(e)},t.prototype._updateValidityOnBlur=function(){this._onTouchedCallback();var t=this._inputDirective||this._inputDirectiveUserTemplate;this._ngControl&&!this._ngControl.valid?t.valid=e.IgxInputState.INVALID:t.valid=e.IgxInputState.INITIAL},t.ctorParameters=function(){return[{type:i.Injector},{type:i.ChangeDetectorRef}]},m([i.HostBinding("attr.id"),i.Input()],t.prototype,"id",void 0),m([i.Input()],t.prototype,"value",null),m([i.Input()],t.prototype,"disabled",void 0),m([i.Input()],t.prototype,"resourceStrings",null),m([i.Input()],t.prototype,"okButtonLabel",null),m([i.Input()],t.prototype,"cancelButtonLabel",null),m([i.Input()],t.prototype,"itemsDelta",null),m([i.Input()],t.prototype,"minValue",void 0),m([i.Input()],t.prototype,"maxValue",void 0),m([i.Input()],t.prototype,"isSpinLoop",void 0),m([i.Input()],t.prototype,"vertical",void 0),m([i.Input()],t.prototype,"format",null),m([i.Input()],t.prototype,"promptChar",void 0),m([i.Input()],t.prototype,"mode",void 0),m([i.Input()],t.prototype,"outlet",void 0),m([i.Input()],t.prototype,"overlaySettings",null),m([i.Output()],t.prototype,"onValueChanged",void 0),m([i.Output()],t.prototype,"onValidationFailed",void 0),m([Rn("'onOpen' @Output property is deprecated. Use 'onOpened' instead."),i.Output()],t.prototype,"onOpen",null),m([i.Output()],t.prototype,"onOpened",void 0),m([Rn("'onClose' @Output property is deprecated. Use 'onClosed' instead."),i.Output()],t.prototype,"onClose",null),m([i.Output()],t.prototype,"onClosed",void 0),m([i.Output()],t.prototype,"onClosing",void 0),m([i.ViewChild("hourList")],t.prototype,"hourList",void 0),m([i.ViewChild("minuteList")],t.prototype,"minuteList",void 0),m([i.ViewChild("secondsList")],t.prototype,"secondsList",void 0),m([i.ViewChild("ampmList")],t.prototype,"ampmList",void 0),m([i.ViewChild("defaultTimePickerTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"defaultTimePickerTemplate",void 0),m([i.ViewChild("dropdownInputTemplate",{read:i.TemplateRef,static:!0})],t.prototype,"dropdownInputTemplate",void 0),m([i.ContentChild(qh,{read:qh})],t.prototype,"timePickerTemplateDirective",void 0),m([i.ContentChild(Zh,{read:Zh})],t.prototype,"timePickerActionsDirective",void 0),m([i.ViewChild(Yn,{static:!0})],t.prototype,"toggleRef",void 0),m([i.ViewChild(Mo,{read:i.ElementRef})],t.prototype,"_inputElementRef",void 0),m([i.ViewChild(Mo,{read:Mo})],t.prototype,"_inputDirective",void 0),m([i.ContentChild(Mo,{read:Mo})],t.prototype,"_inputDirectiveUserTemplate",void 0),m([i.ViewChild(Wo,{read:Wo})],t.prototype,"_inputGroup",void 0),m([i.HostListener("keydown.spacebar",["$event"]),i.HostListener("keydown.space",["$event"])],t.prototype,"onKeydownSpace",null),m([i.HostListener("keydown.Alt.ArrowDown")],t.prototype,"onAltArrowDown",null),t=o=m([i.Component({providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:o,multi:!0},{provide:c.HAMMER_GESTURE_CONFIG,useClass:tg},{provide:Wh,useExisting:o}],selector:"igx-time-picker",template:'<ng-template #dropdownInputTemplate>\n    <igx-input-group #group (mousedown)="mouseDown($event)">\n        <label igxLabel>Time</label>\n        <igx-prefix (click)="openDialog(group.element.nativeElement)">\n            <igx-icon>access_time</igx-icon>\n        </igx-prefix>\n        <input \n            type="text"\n            [igxMask]="mask"\n            igxInput\n            [includeLiterals]="false"\n            [placeholder]="format"\n            [displayValuePipe]="displayFormat"\n            [focusedValuePipe]="inputFormat"\n            [promptChar]="promptChar"\n            [value]="displayValue"\n            (input)="onInput($event)"\n            (blur)="onBlur($event)"\n            (focus)="onFocus($event)"\n            (wheel)="spinOnEdit($event)"\n            [disabled]="disabled" />\n        <igx-suffix *ngIf="showClearButton" igxRipple (click)="clear()">\n            <igx-icon fontSet="material">clear</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n</ng-template>\n<ng-template #defaultTimePickerTemplate>\n    <igx-input-group (click)="openDialog()" (mousedown)="mouseDown($event)">\n        <igx-prefix>\n            <igx-icon>access_time</igx-icon>\n        </igx-prefix>\n        <label igxLabel>Time</label>\n        <input\n            igxInput\n            [value]="displayTime || \'\'"\n            [disabled]="disabled"\n            tabindex="0" readonly\n            (blur)="onBlur($event)" />\n    </igx-input-group>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n\n<ng-template #defaultTimePickerActions>\n    <div *ngIf="cancelButtonLabel || okButtonLabel" class="igx-time-picker__buttons">\n        <button *ngIf="cancelButtonLabel" igxButton="flat" (click)="cancelButtonClick()">\n            {{cancelButtonLabel}}\n        </button>\n        <button *ngIf="okButtonLabel" igxButton="flat" (click)="okButtonClick()">\n            {{okButtonLabel}}\n        </button>\n    </div>\n</ng-template>\n<div igxToggle class="igx-time-picker"\n    [ngClass]="{\'igx-time-picker--dropdown\': mode === \'dropdown\', \'igx-time-picker--vertical\': vertical && mode === \'dialog\'}">\n    <div *ngIf="mode === \'dialog\'" class="igx-time-picker__header">\n        <h5 class="igx-time-picker__header-ampm">{{ selectedAmPm }}</h5>\n        <h2 class="igx-time-picker__header-hour">\n            <span>{{ selectedHour }}</span>:<span>{{ selectedMinute }}</span>:<span>{{ selectedSeconds }}</span>\n        </h2>\n    </div>\n    <div class="igx-time-picker__main">\n        <div class="igx-time-picker__body">\n            <div *ngIf="showHoursList" #hourList [igxItemList]="\'hourList\'">\n                <span [igxHourItem]="hour" *ngFor="let hour of hourView">{{ hour }}</span>\n            </div>\n            <div *ngIf="showMinutesList" #minuteList [igxItemList]="\'minuteList\'">\n                <span [igxMinuteItem]="minute" *ngFor="let minute of minuteView">{{ minute }}</span>\n            </div>\n            <div *ngIf="showSecondsList" #secondsList [igxItemList]="\'secondsList\'">\n                <span [igxSecondsItem]="seconds" *ngFor="let seconds of secondsView">{{ seconds }}</span>\n            </div>\n            <div *ngIf="showAmPmList" #ampmList [igxItemList]="\'ampmList\'">\n                <span [igxAmPmItem]="ampm" *ngFor="let ampm of ampmView">{{ ampm }}</span>\n            </div>\n        </div>\n        <ng-container\n            *ngTemplateOutlet="timePickerActionsDirective ? timePickerActionsDirective.template : defaultTimePickerActions">\n        </ng-container>\n    </div>\n</div>\n',styles:[":host {\n            display: block;\n        }"]})],t)}(),og=function(){function e(){}return e=m([i.NgModule({declarations:[ng,$h,Kh,Yh,Uh,Xh,qh,Zh,Jh,Qh],exports:[ng,qh,Zh,Jh,Qh],imports:[o.CommonModule,Uo,rs,Xo,Tr,Zn],providers:[]})],e)}(),rg=0,sg=function(){function n(t,n){this.elementRef=t,this.navService=n,this._isVisible=!1,this.CSS_CLASSES={IGX_TOAST_BOTTOM:"igx-toast--bottom",IGX_TOAST_MIDDLE:"igx-toast--middle",IGX_TOAST_TOP:"igx-toast--top"},this.id="igx-toast-"+rg++,this.onShowing=new i.EventEmitter,this.onShown=new i.EventEmitter,this.onHiding=new i.EventEmitter,this.onHidden=new i.EventEmitter,this.role="alert",this.autoHide=!0,this.displayTime=4e3,this.isVisibleChange=new i.EventEmitter,this.position=e.IgxToastPosition.Bottom}return Object.defineProperty(n.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,this.isVisibleChange.emit(this._isVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),n.prototype.show=function(){var e=this;clearInterval(this.timeoutId),this.onShowing.emit(this),this.isVisible=!0,this.autoHide&&(this.timeoutId=setTimeout((function(){e.hide()}),this.displayTime)),this.onShown.emit(this)},n.prototype.hide=function(){this.onHiding.emit(this),this.isVisible=!1,this.onHidden.emit(this),clearInterval(this.timeoutId)},n.prototype.open=function(){this.show()},n.prototype.close=function(){this.hide()},n.prototype.toggle=function(){this.isVisible?this.close():this.open()},n.prototype.mapPositionToClassName=function(){return this.position===e.IgxToastPosition.Top?this.CSS_CLASSES.IGX_TOAST_TOP:this.position===e.IgxToastPosition.Middle?this.CSS_CLASSES.IGX_TOAST_MIDDLE:this.position===e.IgxToastPosition.Bottom?this.CSS_CLASSES.IGX_TOAST_BOTTOM:void 0},n.prototype.ngOnInit=function(){this.navService&&this.id&&this.navService.add(this.id,this)},n.prototype.ngOnDestroy=function(){this.navService&&this.id&&this.navService.remove(this.id)},n.ctorParameters=function(){return[{type:i.ElementRef},{type:Jt,decorators:[{type:i.Optional}]}]},m([i.HostBinding("attr.id"),i.Input()],n.prototype,"id",void 0),m([i.Output()],n.prototype,"onShowing",void 0),m([i.Output()],n.prototype,"onShown",void 0),m([i.Output()],n.prototype,"onHiding",void 0),m([i.Output()],n.prototype,"onHidden",void 0),m([i.Input()],n.prototype,"role",void 0),m([i.Input()],n.prototype,"autoHide",void 0),m([i.Input()],n.prototype,"displayTime",void 0),m([i.Input()],n.prototype,"isVisible",null),m([i.Output()],n.prototype,"isVisibleChange",void 0),m([i.Input()],n.prototype,"message",void 0),m([i.Input()],n.prototype,"position",void 0),n=m([i.Component({animations:[t.trigger("animate",[t.state("show",t.style({opacity:1})),t.transition("* => show",t.animate(".20s ease")),t.transition("show => *",t.animate(".40s ease-out"))])],selector:"igx-toast",template:'<div [ngClass]="mapPositionToClassName()" *ngIf="this.isVisible" [@animate]="\'show\'">\n    {{ message }}\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}),y(1,i.Optional())],n)}();(Nh=e.IgxToastPosition||(e.IgxToastPosition={}))[Nh.Bottom=0]="Bottom",Nh[Nh.Middle=1]="Middle",Nh[Nh.Top=2]="Top";var ag=function(){function e(){}return e=m([i.NgModule({declarations:[sg],exports:[sg],imports:[o.CommonModule]})],e)}();e.AbsoluteScrollStrategy=Gn,e.AutoPositionStrategy=jn,e.BaseFilteringStrategy=Ai,e.BaseProgress=$l,e.BlockScrollStrategy=zn,e.Calendar=Ns,e.CalendarHammerConfig=ea,e.CarouselHammerConfig=Fa,e.CloseScrollStrategy=Wn,e.ConnectedPositioningStrategy=Hn,e.ContainerPositionStrategy=Fn,e.DataUtil=Fi,e.DefaultSortingStrategy=Si,e.DisplayDensityBase=lo,e.DisplayDensityToken=ao,e.ElasticPositionStrategy=Nn,e.FilteringExpressionsTree=ki,e.FilteringStrategy=Mi,e.GlobalPositionStrategy=Dn,e.GridBaseAPIService=Bi,e.GroupedRecords=ts,e.IGX_CHECKBOX_REQUIRED_VALIDATOR=Wa,e.IGX_SWITCH_REQUIRED_VALIDATOR=wh,e.IgxActionIconDirective=Yu,e.IgxAppendDropStrategy=tr,e.IgxAutocompleteDirective=$o,e.IgxAutocompleteModule=Ko,e.IgxAvatarComponent=ls,e.IgxAvatarModule=cs,e.IgxBadgeComponent=us,e.IgxBadgeModule=hs,e.IgxBannerComponent=Ss,e.IgxBannerModule=Es,e.IgxBaseExporter=Gi,e.IgxBaseTransactionService=Un,e.IgxBooleanFilteringOperand=qr,e.IgxBottomNavComponent=Oh,e.IgxBottomNavModule=Rh,e.IgxButtonDirective=Yo,e.IgxButtonGroupComponent=Ps,e.IgxButtonGroupModule=Rs,e.IgxButtonModule=Xo,e.IgxCalendarComponent=la,e.IgxCalendarHeaderTemplateDirective=Ws,e.IgxCalendarModule=ha,e.IgxCalendarMonthDirective=zs,e.IgxCalendarScrollMonthDirective=$s,e.IgxCalendarSubheaderTemplateDirective=Us,e.IgxCalendarYearDirective=Gs,e.IgxCardActionsComponent=Sa,e.IgxCardComponent=wa,e.IgxCardContentDirective=xa,e.IgxCardFooterDirective=Ca,e.IgxCardHeaderComponent=ma,e.IgxCardHeaderSubtitleDirective=ba,e.IgxCardHeaderTitleDirective=va,e.IgxCardMediaDirective=fa,e.IgxCardModule=Ea,e.IgxCardThumbnailDirective=ya,e.IgxCarouselComponent=Ha,e.IgxCarouselModule=Ba,e.IgxCellEditorTemplateDirective=Gc,e.IgxCellFooterTemplateDirective=Nc,e.IgxCellHeaderTemplateDirective=jc,e.IgxCellTemplateDirective=Bc,e.IgxCheckboxComponent=za,e.IgxCheckboxModule=$a,e.IgxCheckboxRequiredDirective=Ua,e.IgxChipComponent=Ya,e.IgxChipsAreaComponent=Xa,e.IgxChipsModule=qa,e.IgxCircularProgressBarComponent=Zl,e.IgxCollapsibleIndicatorTemplateDirective=zc,e.IgxColumnComponent=Wc,e.IgxColumnGroupComponent=Sd,e.IgxColumnHidingComponent=Jc,e.IgxColumnHidingModule=Bd,e.IgxColumnLayoutComponent=iu,e.IgxColumnPinningComponent=ep,e.IgxComboComponent=vl,e.IgxComboModule=bl,e.IgxCsvExporterOptions=Ui,e.IgxCsvExporterService=Yi,e.IgxDataLoadingTemplateDirective=Ep,e.IgxDataRecordSorting=Oi,e.IgxDateFilteringOperand=Zr,e.IgxDatePickerComponent=Pl,e.IgxDatePickerModule=Rl,e.IgxDateSummaryOperand=Fc,e.IgxDaysViewComponent=sa,e.IgxDefaultDropStrategy=er,e.IgxDialogComponent=Ml,e.IgxDialogModule=Vl,e.IgxDisplayDensityModule=co,e.IgxDividerDirective=Jo,e.IgxDividerModule=Qo,e.IgxDragDirective=ar,e.IgxDragDropModule=cr,e.IgxDragLocation=sr,e.IgxDropDirective=lr,e.IgxDropDownBaseDirective=uo,e.IgxDropDownComponent=Do,e.IgxDropDownGroupComponent=io,e.IgxDropDownItemBaseDirective=ro,e.IgxDropDownItemComponent=so,e.IgxDropDownItemNavigationDirective=Oo,e.IgxDropDownModule=To,e.IgxEmptyListTemplateDirective=Sp,e.IgxExcelExporterOptions=In,e.IgxExcelExporterService=wn,e.IgxExpansionPanelBodyComponent=fs,e.IgxExpansionPanelComponent=_s,e.IgxExpansionPanelHeaderComponent=xs,e.IgxExpansionPanelModule=ws,e.IgxExporterOptionsBase=Wi,e.IgxFilterCellTemplateDirective=Hc,e.IgxFilterDirective=dr,e.IgxFilterModule=hr,e.IgxFilterOptions=pr,e.IgxFilterPipe=ur,e.IgxFilteringOperand=Xr,e.IgxFlexDirective=yr,e.IgxFocusDirective=gr,e.IgxFocusModule=fr,e.IgxForOfContext=Co,e.IgxForOfDirective=_o,e.IgxForOfModule=Eo,e.IgxGridAPIService=kd,e.IgxGridBaseDirective=Rd,e.IgxGridBodyDirective=Uc,e.IgxGridCellComponent=Oc,e.IgxGridCommonModule=su,e.IgxGridComponent=Md,e.IgxGridDetailTemplateDirective=ud,e.IgxGridForOfDirective=So,e.IgxGridGroupByRowComponent=sp,e.IgxGridModule=fu,e.IgxGridRowComponent=du,e.IgxGridStateDirective=Vd,e.IgxGridStateModule=Fd,e.IgxGridTransaction=Pd,e.IgxGroupAreaDropDirective=yd,e.IgxGroupByRowTemplateDirective=dd,e.IgxGrouping=Ti,e.IgxHeaderCollapseIndicatorDirective=md,e.IgxHeaderExpandIndicatorDirective=fd,e.IgxHierarchicalGridAPIService=Hu,e.IgxHierarchicalGridBaseDirective=Lu,e.IgxHierarchicalGridCellComponent=zu,e.IgxHierarchicalGridComponent=Gu,e.IgxHierarchicalGridModule=Ku,e.IgxHierarchicalRowComponent=Wu,e.IgxHierarchicalTransactionService=Kn,e.IgxHierarchicalTransactionServiceFactory=Ru,e.IgxHintDirective=Ro,e.IgxIconComponent=os,e.IgxIconModule=rs,e.IgxIconService=is,e.IgxInputDirective=Mo,e.IgxInputGroupComponent=Wo,e.IgxInputGroupModule=Uo,e.IgxInsertDropStrategy=nr,e.IgxLabelDirective=Fo,e.IgxLayoutDirective=mr,e.IgxLayoutModule=vr,e.IgxLeftButtonStyleDirective=Fh,e.IgxLinearProgressBarComponent=ql,e.IgxListActionDirective=kp,e.IgxListBaseDirective=wp,e.IgxListComponent=Vp,e.IgxListItemComponent=Tp,e.IgxListItemLeftPanningTemplateDirective=Dp,e.IgxListItemRightPanningTemplateDirective=Op,e.IgxListLineDirective=Lp,e.IgxListLineSubTitleDirective=Mp,e.IgxListLineTitleDirective=Ap,e.IgxListModule=Fp,e.IgxListThumbnailDirective=Rp,e.IgxMaskDirective=Or,e.IgxMaskModule=Tr,e.IgxMonthPickerBaseDirective=qs,e.IgxMonthPickerComponent=pa,e.IgxMonthsViewComponent=Js,e.IgxNavDrawerItemDirective=Ju,e.IgxNavDrawerMiniTemplateDirective=eh,e.IgxNavDrawerTemplateDirective=Qu,e.IgxNavbarComponent=qu,e.IgxNavbarModule=Zu,e.IgxNavigationCloseDirective=ei,e.IgxNavigationDrawerComponent=ih,e.IgxNavigationDrawerModule=nh,e.IgxNavigationModule=ti,e.IgxNavigationService=Jt,e.IgxNavigationToggleDirective=Qt,e.IgxNumberFilteringOperand=Jr,e.IgxNumberSummaryOperand=Vc,e.IgxOverlayOutletDirective=qn,e.IgxOverlayService=Vn,e.IgxPaginatorComponent=Nd,e.IgxPaginatorModule=Gd,e.IgxPrefixDirective=Ho,e.IgxPrefixModule=Bo,e.IgxPrependDropStrategy=ir,e.IgxProgressBarModule=ec,e.IgxRadioComponent=Ar,e.IgxRadioGroupDirective=Br,e.IgxRadioModule=jr,e.IgxRightButtonStyleDirective=Vh,e.IgxRippleDirective=Mr,e.IgxRippleModule=Vr,e.IgxRowCollapsedIndicatorDirective=gd,e.IgxRowDirective=Tc,e.IgxRowExpandedIndicatorDirective=hd,e.IgxRowIslandAPIService=gc,e.IgxRowIslandComponent=Bu,e.IgxSelectComponent=ac,e.IgxSelectFooterDirective=rc,e.IgxSelectGroupComponent=cc,e.IgxSelectHeaderDirective=oc,e.IgxSelectItemComponent=tc,e.IgxSelectModule=pc,e.IgxSelectToggleIconDirective=nc,e.IgxSliderComponent=gh,e.IgxSliderModule=fh,e.IgxSnackbarComponent=yh,e.IgxSnackbarModule=vh,e.IgxSorting=Di,e.IgxStringFilteringOperand=Qr,e.IgxSuffixDirective=jo,e.IgxSuffixModule=No,e.IgxSummaryOperand=Mc,e.IgxSwitchComponent=_h,e.IgxSwitchModule=Sh,e.IgxSwitchRequiredDirective=Ih,e.IgxTabComponent=Ph,e.IgxTabItemComponent=Bh,e.IgxTabItemTemplateDirective=Hh,e.IgxTabPanelComponent=Th,e.IgxTabTemplateDirective=Dh,e.IgxTabsComponent=Gh,e.IgxTabsGroupComponent=jh,e.IgxTabsModule=zh,e.IgxTextHighlightDirective=Nr,e.IgxTextHighlightModule=Gr,e.IgxTextSelectionDirective=zr,e.IgxTextSelectionModule=Wr,e.IgxThumbFromTemplateDirective=oh,e.IgxThumbToTemplateDirective=rh,e.IgxTickLabelTemplateDirective=sh,e.IgxTimePickerComponent=ng,e.IgxTimePickerModule=og,e.IgxToastComponent=sg,e.IgxToastModule=ag,e.IgxToggleActionDirective=Xn,e.IgxToggleDirective=Yn,e.IgxToggleModule=Zn,e.IgxTooltipDirective=Kr,e.IgxTooltipModule=Yr,e.IgxTooltipTargetDirective=Ur,e.IgxTransactionService=$n,e.IgxTreeGridAPIService=mu,e.IgxTreeGridCellComponent=Du,e.IgxTreeGridComponent=xu,e.IgxTreeGridModule=Tu,e.IgxTreeGridRowComponent=Cu,e.IgxYearsViewComponent=ta,e.NoOpScrollStrategy=Tn,e.NoopFilteringStrategy=Li,e.NoopSortingStrategy=Ei,e.Point=Sn,e.RowEditPositionStrategy=$c,e.ScrollStrategy=On,e.TimePickerHammerConfig=tg,e.blink=Pe,e.changei18n=function(e){var t,i;try{for(var n=v(Object.keys(Ra)),o=n.next();!o.done;o=n.next()){var r=o.value;ka(Ra[r],e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}},e.convertInPercentage=Ql,e.fadeIn=w,e.fadeOut=I,e.filteringStateDefaults=es,e.flipBottom=O,e.flipHorBck=k,e.flipHorFwd=R,e.flipLeft=T,e.flipRight=P,e.flipTop=D,e.flipVerBck=A,e.flipVerFwd=L,e.getCurrentResourceStrings=function(){return f(f({},Ra.GridResStrings),Ra.TimePickerResStrings)},e.getTypeNameForDebugging=wo,e.getValueInProperRange=Jl,e.growVerIn=qt,e.growVerOut=Zt,e.heartbeat=Te,e.hierarchicalTransactionServiceFactory=ku,e.isDateInRanges=Hs,e.isLeap=Ms,e.monthRange=Fs,e.pulsateBck=Oe,e.pulsateFwd=De,e.range=As,e.rotateInBl=J,e.rotateInBottom=W,e.rotateInBr=q,e.rotateInCenter=H,e.rotateInDiagonal1=ie,e.rotateInDiagonal2=oe,e.rotateInHor=se,e.rotateInLeft=$,e.rotateInRight=G,e.rotateInTl=ee,e.rotateInTop=j,e.rotateInTr=Y,e.rotateInVer=le,e.rotateOutBl=Q,e.rotateOutBottom=U,e.rotateOutBr=Z,e.rotateOutCenter=B,e.rotateOutDiagonal1=ne,e.rotateOutDiagonal2=re,e.rotateOutHor=ae,e.rotateOutLeft=K,e.rotateOutRight=z,e.rotateOutTl=te,e.rotateOutTop=N,e.rotateOutTr=X,e.rotateOutVer=ce,e.scaleInBl=Me,e.scaleInBottom=Ke,e.scaleInBr=Ue,e.scaleInCenter=Ae,e.scaleInHorCenter=We,e.scaleInHorLeft=$e,e.scaleInHorRight=Ye,e.scaleInLeft=He,e.scaleInRight=ze,e.scaleInTl=Ne,e.scaleInTop=Fe,e.scaleInTr=je,e.scaleInVerBottom=Ge,e.scaleInVerCenter=Ve,e.scaleInVerTop=Be,e.scaleOutBl=qe,e.scaleOutBottom=st,e.scaleOutBr=Ze,e.scaleOutCenter=Xe,e.scaleOutHorCenter=at,e.scaleOutHorLeft=lt,e.scaleOutHorRight=ct,e.scaleOutLeft=it,e.scaleOutRight=rt,e.scaleOutTl=ot,e.scaleOutTop=tt,e.scaleOutTr=nt,e.scaleOutVerBottom=et,e.scaleOutVerCenter=Je,e.scaleOutVerTop=Qe,e.shakeBl=Ce,e.shakeBottom=fe,e.shakeBr=xe,e.shakeCenter=ve,e.shakeHor=ue,e.shakeLeft=ye,e.shakeRight=me,e.shakeTl=_e,e.shakeTop=ge,e.shakeTr=be,e.shakeVer=he,e.slideInBl=xt,e.slideInBottom=mt,e.slideInBr=bt,e.slideInLeft=gt,e.slideInRight=ft,e.slideInTl=vt,e.slideInTop=ht,e.slideInTr=yt,e.slideOutBl=Dt,e.slideOutBottom=wt,e.slideOutBr=Et,e.slideOutLeft=It,e.slideOutRight=_t,e.slideOutTl=Ot,e.slideOutTop=Ct,e.slideOutTr=St,e.swingInBottomBck=Ht,e.swingInBottomFwd=At,e.swingInLeftBck=Bt,e.swingInLeftFwd=Mt,e.swingInRightBck=Ft,e.swingInRightFwd=Lt,e.swingInTopBck=Vt,e.swingInTopFwd=kt,e.swingOutBottomBck=$t,e.swingOutBottomFwd=Gt,e.swingOutLeftBck=Kt,e.swingOutLefttFwd=zt,e.swingOutRightBck=Ut,e.swingOutRightFwd=Nt,e.swingOutTopBck=Wt,e.swingOutTopFwd=jt,e.weekDay=Vs,e.ɵ0=Dr,e.ɵ1=kc,e.ɵ2=Ac,e.ɵa=Qn,e.ɵba=vs,e.ɵbb=Ys,e.ɵbc=oa,e.ɵbd=ia,e.ɵbe=da,e.ɵbf=ua,e.ɵbg=Da,e.ɵbh=Oa,e.ɵbi=Ta,e.ɵbj=Pa,e.ɵbk=rl,e.ɵbl=al,e.ɵbn=cl,e.ɵbo=sl,e.ɵbp=Za,e.ɵbq=Ja,e.ɵbr=Qa,e.ɵbs=el,e.ɵbt=tl,e.ɵbu=il,e.ɵbv=nl,e.ɵbw=ol,e.ɵbx=pl,e.ɵby=dl,e.ɵbz=ll,e.ɵc=Xc,e.ɵca=wl,e.ɵcb=Il,e.ɵcc=El,e.ɵcd=Cl,e.ɵce=_l,e.ɵcf="IgxDatePickerComponentToken",e.ɵch=kl,e.ɵci=Ll,e.ɵcj=Zc,e.ɵck=Kc,e.ɵcl=Yc,e.ɵcm=Hd,e.ɵcn=Fl,e.ɵco=Hl,e.ɵcp=Bl,e.ɵcq=jl,e.ɵcr=Nl,e.ɵcs=Gl,e.ɵct=Ul,e.ɵcu=lc,e.ɵcv=dc,e.ɵcw=uc,e.ɵcx=hc,e.ɵcy=sd,e.ɵcz=_p,e.ɵda=rd,e.ɵdb=Up,e.ɵdc=$p,e.ɵdd=Kp,e.ɵde=Yp,e.ɵdf=Xp,e.ɵdg=Hp,e.ɵdh=Bp,e.ɵdi=Qp,e.ɵdj=Zp,e.ɵdk=Cp,e.ɵdl=Jp,e.ɵdm=Xa,e.ɵdn=Ya,e.ɵdo=id,e.ɵdp=td,e.ɵdq=Ec,e.ɵdr=yc,e.ɵds=vc,e.ɵdt=Id,e.ɵdu=_d,e.ɵdv=wd,e.ɵdw=Ed,e.ɵdx=Dd,e.ɵdy=Od,e.ɵdz=Td,e.ɵe=gs,e.ɵea=ad,e.ɵeb=ip,e.ɵec=np,e.ɵed=op,e.ɵee=rp,e.ɵef=tp,e.ɵeg=lp,e.ɵeh=ed,e.ɵei=Hn,e.ɵej=jd,e.ɵek=Cd,e.ɵel=eu,e.ɵem=Qc,e.ɵen=nu,e.ɵeo=ru,e.ɵep=ou,e.ɵeq=zd,e.ɵer=pp,e.ɵes=dp,e.ɵet=up,e.ɵeu=hp,e.ɵev=gp,e.ɵew=fp,e.ɵex=mp,e.ɵey=yp,e.ɵez=vp,e.ɵf=ui,e.ɵfa=bp,e.ɵfb=Zd,e.ɵfc=qd,e.ɵfd=cd,e.ɵfe=pd,e.ɵff=Xd,e.ɵfg=Yd,e.ɵfh=$d,e.ɵfi=Do,e.ɵfj=Gp,e.ɵfk=jp,e.ɵfl=Np,e.ɵfm=Vp,e.ɵfn=zp,e.ɵfo=Wd,e.ɵfp=Ud,e.ɵfq=Kd,e.ɵfr=od,e.ɵfs=Qd,e.ɵft=Jd,e.ɵfu=tu,e.ɵfv=au,e.ɵfw=lu,e.ɵfx=cu,e.ɵfy=pu,e.ɵfz=uu,e.ɵg=e["ɵg"],e.ɵga=hu,e.ɵgb=gu,e.ɵgc=yu,e.ɵgd=vu,e.ɵge=_u,e.ɵgf=wu,e.ɵgg=Iu,e.ɵgh=Su,e.ɵgi=Eu,e.ɵgj=Ni,e.ɵgk=Ou,e.ɵgl=Pu,e.ɵgm=Bi,e.ɵgn=ju,e.ɵgo=Uu,e.ɵgp=$u,e.ɵgq=lh,e.ɵgr=ch,e.ɵgs=ph,e.ɵgt=dh,e.ɵgu=kh,e.ɵgv=Lh,e.ɵgw=Ah,e.ɵgx=Wh,e.ɵgz=Uh,e.ɵh=e["ɵh"],e.ɵha=$h,e.ɵhb=Kh,e.ɵhc=Yh,e.ɵhd=Xh,e.ɵhe=qh,e.ɵhf=Zh,e.ɵhg=Jh,e.ɵhh=Qh,e.ɵi=ko,e.ɵj=bo,e.ɵk=xo,e.ɵl=Pn,e.ɵm=Rn,e.ɵn=eo,e.ɵo=or,e.ɵp=ho,e.ɵq=mo,e.ɵr=go,e.ɵs=fo,e.ɵt=yo,e.ɵu=vo,e.ɵv=xi,e.ɵw=Ci,e.ɵx=Is,e.ɵy=ms,e.ɵz=ys,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=igniteui-angular.umd.min.js.map