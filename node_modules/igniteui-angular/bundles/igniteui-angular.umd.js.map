{"version":3,"file":"igniteui-angular.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://igniteui-angular/lib/animations/easings.ts","ng://igniteui-angular/lib/animations/fade/index.ts","ng://igniteui-angular/lib/animations/flip/index.ts","ng://igniteui-angular/lib/animations/rotate/index.ts","ng://igniteui-angular/lib/animations/misc/shake.ts","ng://igniteui-angular/lib/animations/misc/pulsate.ts","ng://igniteui-angular/lib/animations/scale/index.ts","ng://igniteui-angular/lib/animations/slide/index.ts","ng://igniteui-angular/lib/animations/swing/index.ts","ng://igniteui-angular/lib/animations/grow/index.ts","ng://igniteui-angular/lib/core/navigation/nav.service.ts","ng://igniteui-angular/lib/core/navigation/directives.ts","ng://igniteui-angular/lib/core/utils.ts","ng://igniteui-angular/lib/data-operations/sorting-expression.interface.ts","ng://igniteui-angular/lib/data-operations/operations.ts","ng://igniteui-angular/lib/data-operations/sorting-strategy.ts","ng://igniteui-angular/lib/data-operations/grouping-strategy.ts","ng://igniteui-angular/lib/data-operations/paging-state.interface.ts","ng://igniteui-angular/lib/data-operations/filtering-expression.interface.ts","ng://igniteui-angular/lib/data-operations/filtering-expressions-tree.ts","ng://igniteui-angular/lib/data-operations/filtering-strategy.ts","ng://igniteui-angular/lib/services/transaction/transaction.ts","ng://igniteui-angular/lib/data-operations/data-util.ts","ng://igniteui-angular/lib/services/exporter-common/export-utilities.ts","ng://igniteui-angular/lib/grids/api.service.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid.filtering.pipe.ts","ng://igniteui-angular/lib/services/exporter-common/base-export-service.ts","ng://igniteui-angular/lib/services/csv/char-separated-value-data.ts","ng://igniteui-angular/lib/services/exporter-common/exporter-options-base.ts","ng://igniteui-angular/lib/services/csv/csv-exporter-options.ts","ng://igniteui-angular/lib/services/csv/csv-exporter.ts","ng://igniteui-angular/lib/services/excel/excel-enums.ts","ng://igniteui-angular/lib/services/excel/excel-strings.ts","ng://igniteui-angular/lib/services/excel/excel-files.ts","ng://igniteui-angular/lib/services/excel/excel-folders.ts","ng://igniteui-angular/lib/services/excel/excel-elements-factory.ts","ng://igniteui-angular/lib/services/excel/worksheet-data-dictionary.ts","ng://igniteui-angular/lib/services/excel/worksheet-data.ts","ng://igniteui-angular/lib/services/excel/excel-exporter.ts","ng://igniteui-angular/lib/services/excel/excel-exporter-options.ts","ng://igniteui-angular/lib/services/overlay/utilities.ts","ng://igniteui-angular/lib/services/overlay/position/global-position-strategy.ts","ng://igniteui-angular/lib/services/overlay/scroll/scroll-strategy.ts","ng://igniteui-angular/lib/services/overlay/scroll/NoOpScrollStrategy.ts","ng://igniteui-angular/lib/core/deprecateDecorators.ts","ng://igniteui-angular/lib/services/overlay/overlay.ts","ng://igniteui-angular/lib/services/overlay/position/container-position-strategy.ts","ng://igniteui-angular/lib/services/overlay/position/connected-positioning-strategy.ts","ng://igniteui-angular/lib/services/overlay/position/base-fit-position-strategy.ts","ng://igniteui-angular/lib/services/overlay/position/auto-position-strategy.ts","ng://igniteui-angular/lib/services/overlay/position/elastic-position-strategy.ts","ng://igniteui-angular/lib/services/overlay/scroll/absolute-scroll-strategy.ts","ng://igniteui-angular/lib/services/overlay/scroll/block-scroll-strategy.ts","ng://igniteui-angular/lib/services/overlay/scroll/close-scroll-strategy.ts","ng://igniteui-angular/lib/services/overlay/scroll/index.ts","ng://igniteui-angular/lib/services/transaction/base-transaction.ts","ng://igniteui-angular/lib/services/transaction/igx-transaction.ts","ng://igniteui-angular/lib/services/transaction/igx-hierarchical-transaction.ts","ng://igniteui-angular/lib/services/index.ts","ng://igniteui-angular/lib/directives/toggle/toggle.directive.ts","ng://igniteui-angular/lib/drop-down/drop-down.common.ts","ng://igniteui-angular/lib/core/selection.ts","ng://igniteui-angular/lib/drop-down/drop-down-group.component.ts","ng://igniteui-angular/lib/drop-down/drop-down-item.base.ts","ng://igniteui-angular/lib/drop-down/drop-down-item.component.ts","ng://igniteui-angular/lib/core/displayDensity.ts","ng://igniteui-angular/lib/drop-down/drop-down.base.ts","ng://igniteui-angular/lib/directives/for-of/display.container.ts","ng://igniteui-angular/lib/directives/for-of/base.helper.component.ts","ng://igniteui-angular/lib/directives/for-of/horizontal.virtual.helper.component.ts","ng://igniteui-angular/lib/directives/for-of/virtual.helper.component.ts","ng://igniteui-angular/lib/directives/scroll-inertia/scroll_inertia.directive.ts","ng://igniteui-angular/lib/directives/for-of/for_of.sync.service.ts","ng://igniteui-angular/lib/directives/for-of/for_of.directive.ts","ng://igniteui-angular/lib/drop-down/drop-down.component.ts","ng://igniteui-angular/lib/drop-down/drop-down-navigation.directive.ts","ng://igniteui-angular/lib/drop-down/index.ts","ng://igniteui-angular/lib/directives/hint/hint.directive.ts","ng://igniteui-angular/lib/input-group/input-group.common.ts","ng://igniteui-angular/lib/directives/input/input.directive.ts","ng://igniteui-angular/lib/directives/label/label.directive.ts","ng://igniteui-angular/lib/directives/prefix/prefix.directive.ts","ng://igniteui-angular/lib/directives/suffix/suffix.directive.ts","ng://igniteui-angular/lib/input-group/input-group.component.ts","ng://igniteui-angular/lib/directives/autocomplete/autocomplete.directive.ts","ng://igniteui-angular/lib/directives/button/button.directive.ts","ng://igniteui-angular/lib/directives/divider/divider.directive.ts","ng://igniteui-angular/lib/directives/drag-drop/drag-drop.strategy.ts","ng://igniteui-angular/lib/directives/drag-drop/drag-handle.directive.ts","ng://igniteui-angular/lib/directives/drag-drop/drag-drop.directive.ts","ng://igniteui-angular/lib/directives/filter/filter.directive.ts","ng://igniteui-angular/lib/directives/focus/focus.directive.ts","ng://igniteui-angular/lib/directives/layout/layout.directive.ts","ng://igniteui-angular/lib/directives/mask/mask-helper.ts","ng://igniteui-angular/lib/directives/mask/mask.directive.ts","ng://igniteui-angular/lib/radio/radio.component.ts","ng://igniteui-angular/lib/directives/ripple/ripple.directive.ts","ng://igniteui-angular/lib/directives/radio/radio-group.directive.ts","ng://igniteui-angular/lib/directives/text-highlight/text-highlight.directive.ts","ng://igniteui-angular/lib/directives/text-selection/text-selection.directive.ts","ng://igniteui-angular/lib/directives/tooltip/tooltip.directive.ts","ng://igniteui-angular/lib/data-operations/filtering-condition.ts","ng://igniteui-angular/lib/data-operations/filtering-state.interface.ts","ng://igniteui-angular/lib/data-operations/groupby-record.interface.ts","ng://igniteui-angular/lib/icon/icon.service.ts","ng://igniteui-angular/lib/icon/icon.component.ts","ng://igniteui-angular/lib/icon/index.ts","ng://igniteui-angular/lib/avatar/avatar.component.ts","ng://igniteui-angular/lib/badge/badge.component.ts","ng://igniteui-angular/lib/expansion-panel/expansion-panel.common.ts","ng://igniteui-angular/lib/expansion-panel/expansion-panel-body.component.ts","ng://igniteui-angular/lib/expansion-panel/expansion-panel.directives.ts","ng://igniteui-angular/lib/expansion-panel/expansion-panel-header.component.ts","ng://igniteui-angular/lib/expansion-panel/expansion-panel.component.ts","ng://igniteui-angular/lib/expansion-panel/expansion-panel.module.ts","ng://igniteui-angular/lib/banner/banner.directives.ts","ng://igniteui-angular/lib/banner/banner.component.ts","ng://igniteui-angular/lib/buttonGroup/buttonGroup.component.ts","ng://igniteui-angular/lib/core/dates/dateRange.ts","ng://igniteui-angular/lib/calendar/calendar.ts","ng://igniteui-angular/lib/calendar/calendar.directives.ts","ng://igniteui-angular/lib/calendar/calendar-base.ts","ng://igniteui-angular/lib/calendar/month-picker-base.ts","ng://igniteui-angular/lib/calendar/months-view/months-view.component.ts","ng://igniteui-angular/lib/calendar/years-view/years-view.component.ts","ng://igniteui-angular/lib/calendar/days-view/day-item.component.ts","ng://igniteui-angular/lib/calendar/days-view/daysview-navigation.service.ts","ng://igniteui-angular/lib/calendar/days-view/days-view.component.ts","ng://igniteui-angular/lib/calendar/calendar.component.ts","ng://igniteui-angular/lib/calendar/month-picker/month-picker.component.ts","ng://igniteui-angular/lib/calendar/months-view.pipe.ts","ng://igniteui-angular/lib/calendar/calendar.module.ts","ng://igniteui-angular/lib/card/card.component.ts","ng://igniteui-angular/lib/carousel/carousel.directives.ts","ng://igniteui-angular/lib/carousel/slide.component.ts","ng://igniteui-angular/lib/core/i18n/grid-resources.ts","ng://igniteui-angular/lib/core/i18n/time-picker-resources.ts","ng://igniteui-angular/lib/core/i18n/paginator-resources.ts","ng://igniteui-angular/lib/core/i18n/carousel-resources.ts","ng://igniteui-angular/lib/core/i18n/resources.ts","ng://igniteui-angular/lib/carousel/carousel.component.ts","ng://igniteui-angular/lib/checkbox/checkbox.component.ts","ng://igniteui-angular/lib/chips/chip.component.ts","ng://igniteui-angular/lib/chips/chips-area.component.ts","ng://igniteui-angular/lib/chips/chips.module.ts","ng://igniteui-angular/lib/combo/combo.directives.ts","ng://igniteui-angular/lib/combo/combo.api.ts","ng://igniteui-angular/lib/combo/combo-item.component.ts","ng://igniteui-angular/lib/combo/combo.common.ts","ng://igniteui-angular/lib/combo/combo-add-item.component.ts","ng://igniteui-angular/lib/combo/combo-dropdown.component.ts","ng://igniteui-angular/lib/combo/combo.pipes.ts","ng://igniteui-angular/lib/combo/combo.component.ts","ng://igniteui-angular/lib/date-picker/date-picker.utils.ts","ng://igniteui-angular/lib/date-picker/date-picker.common.ts","ng://igniteui-angular/lib/date-picker/date-picker.pipes.ts","ng://igniteui-angular/lib/date-picker/date-picker.directives.ts","ng://igniteui-angular/lib/core/enums.ts","ng://igniteui-angular/lib/date-picker/calendar-container.component.ts","ng://igniteui-angular/lib/date-picker/date-picker.component.ts","ng://igniteui-angular/lib/dialog/dialog.directives.ts","ng://igniteui-angular/lib/dialog/dialog.component.ts","ng://igniteui-angular/lib/directives/template-outlet/template_outlet.directive.ts","ng://igniteui-angular/lib/progressbar/progressbar.common.ts","ng://igniteui-angular/lib/services/direction/directionality.ts","ng://igniteui-angular/lib/progressbar/progressbar.component.ts","ng://igniteui-angular/lib/select/select-item.component.ts","ng://igniteui-angular/lib/select/select-positioning-strategy.ts","ng://igniteui-angular/lib/select/select.component.ts","ng://igniteui-angular/lib/select/select-navigation.directive.ts","ng://igniteui-angular/lib/select/select-group.component.ts","ng://igniteui-angular/lib/select/select.module.ts","ng://igniteui-angular/lib/grids/watch-changes.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/row-island-api.service.ts","ng://igniteui-angular/lib/grids/selection/selection.service.ts","ng://igniteui-angular/lib/core/touch.ts","ng://igniteui-angular/lib/grids/common/enums.ts","ng://igniteui-angular/lib/grids/cell.component.ts","ng://igniteui-angular/lib/grids/row.directive.ts","ng://igniteui-angular/lib/grids/summaries/grid-summary.ts","ng://igniteui-angular/lib/grids/columns/templates.directive.ts","ng://igniteui-angular/lib/grids/columns/column.component.ts","ng://igniteui-angular/lib/grids/grid.common.ts","ng://igniteui-angular/lib/grids/column-chooser-item-base.ts","ng://igniteui-angular/lib/grids/hiding/column-hiding-item.directive.ts","ng://igniteui-angular/lib/grids/column-chooser-base.ts","ng://igniteui-angular/lib/grids/hiding/column-hiding.component.ts","ng://igniteui-angular/lib/grids/pinning/pinning.directive.ts","ng://igniteui-angular/lib/grids/pinning/column-pinning.component.ts","ng://igniteui-angular/lib/grids/toolbar/grid-toolbar.component.ts","ng://igniteui-angular/lib/grids/grid.rowEdit.directive.ts","ng://igniteui-angular/lib/grids/grid/groupby-row.component.ts","ng://igniteui-angular/lib/grids/grid-navigation.service.ts","ng://igniteui-angular/lib/grids/filtering/svgIcons.ts","ng://igniteui-angular/lib/grids/common/pipes.ts","ng://igniteui-angular/lib/grids/filtering/grid-filtering.service.ts","ng://igniteui-angular/lib/grids/resizing/resizing.service.ts","ng://igniteui-angular/lib/list/list.common.ts","ng://igniteui-angular/lib/list/list-item.component.ts","ng://igniteui-angular/lib/list/list.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-search.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-default-expression.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-date-expression.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-custom-dialog.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-sorting.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/grid.excel-style-filtering.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-position-strategy.ts","ng://igniteui-angular/lib/grids/headers/grid-header.component.ts","ng://igniteui-angular/lib/grids/filtering/base/grid-filtering-cell.component.ts","ng://igniteui-angular/lib/grids/headers/grid-header-group.component.ts","ng://igniteui-angular/lib/grids/summaries/grid-summary.service.ts","ng://igniteui-angular/lib/grids/summaries/summary-cell.component.ts","ng://igniteui-angular/lib/grids/summaries/summary-row.component.ts","ng://igniteui-angular/lib/grids/selection/drag-select.directive.ts","ng://igniteui-angular/lib/grids/resizing/resizer.directive.ts","ng://igniteui-angular/lib/grids/resizing/resizer.component.ts","ng://igniteui-angular/lib/grids/filtering/base/grid-filtering-row.component.ts","ng://igniteui-angular/lib/grids/moving/moving.service.ts","ng://igniteui-angular/lib/grids/moving/moving.drag.directive.ts","ng://igniteui-angular/lib/grids/grid/grid.directives.ts","ng://igniteui-angular/lib/grids/filtering/advanced-filtering/advanced-filtering-dialog.component.ts","ng://igniteui-angular/lib/grids/selection/row-selectors.ts","ng://igniteui-angular/lib/grids/toolbar/toolbar.directive.ts","ng://igniteui-angular/lib/grids/columns/column-group.component.ts","ng://igniteui-angular/lib/grids/row-drag.directive.ts","ng://igniteui-angular/lib/grids/grid-base.directive.ts","ng://igniteui-angular/lib/grids/grid/grid-api.service.ts","ng://igniteui-angular/lib/grids/grid-mrl-navigation.service.ts","ng://igniteui-angular/lib/grids/grid/grid.component.ts","ng://igniteui-angular/lib/grids/state.directive.ts","ng://igniteui-angular/lib/grids/common/shared.module.ts","ng://igniteui-angular/lib/grids/hiding/hiding.module.ts","ng://igniteui-angular/lib/grids/grid-footer/grid-footer.component.ts","ng://igniteui-angular/lib/paginator/paginator.component.ts","ng://igniteui-angular/lib/grids/common/grid-pipes.module.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-column-moving.component.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/excel-style-search.pipe.ts","ng://igniteui-angular/lib/grids/filtering/excel-style/grid.excel-style-filtering.module.ts","ng://igniteui-angular/lib/grids/selection/selection.module.ts","ng://igniteui-angular/lib/grids/resizing/resize-handle.directive.ts","ng://igniteui-angular/lib/grids/resizing/resize.module.ts","ng://igniteui-angular/lib/grids/moving/moving.drop.directive.ts","ng://igniteui-angular/lib/grids/moving/moving.module.ts","ng://igniteui-angular/lib/grids/summaries/grid-root-summary.pipe.ts","ng://igniteui-angular/lib/grids/summaries/summary.module.ts","ng://igniteui-angular/lib/grids/pinning/pinning.module.ts","ng://igniteui-angular/lib/grids/toolbar/toolbar.module.ts","ng://igniteui-angular/lib/grids/columns/column-layout.component.ts","ng://igniteui-angular/lib/grids/columns/column.module.ts","ng://igniteui-angular/lib/grids/filtering/base/filtering.module.ts","ng://igniteui-angular/lib/grids/headers/headers.module.ts","ng://igniteui-angular/lib/grids/grid-common.module.ts","ng://igniteui-angular/lib/grids/grid/grid.pipes.ts","ng://igniteui-angular/lib/grids/grid/grid-row.component.ts","ng://igniteui-angular/lib/grids/grid/grid.summary.pipe.ts","ng://igniteui-angular/lib/grids/grid/grid.details.pipe.ts","ng://igniteui-angular/lib/grids/grid/expandable-cell.component.ts","ng://igniteui-angular/lib/grids/grid/grid.module.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid-api.service.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid-navigation.service.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid.directives.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid.component.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid-row.component.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid.pipes.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-cell.component.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid.summary.pipe.ts","ng://igniteui-angular/lib/grids/tree-grid/tree-grid.module.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-grid-navigation.service.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-grid-base.directive.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-grid-api.service.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/row-island.component.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/child-grid-row.component.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-grid.component.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-cell.component.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-row.component.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-grid.pipes.ts","ng://igniteui-angular/lib/grids/hierarchical-grid/hierarchical-grid.module.ts","ng://igniteui-angular/lib/navbar/navbar.component.ts","ng://igniteui-angular/lib/navigation-drawer/navigation-drawer.directives.ts","ng://igniteui-angular/lib/navigation-drawer/navigation-drawer.component.ts","ng://igniteui-angular/lib/navigation-drawer/navigation-drawer.module.ts","ng://igniteui-angular/lib/slider/slider.common.ts","ng://igniteui-angular/lib/slider/thumb/thumb-slider.component.ts","ng://igniteui-angular/lib/slider/label/thumb-label.component.ts","ng://igniteui-angular/lib/slider/ticks/ticks.component.ts","ng://igniteui-angular/lib/slider/ticks/tick.pipe.ts","ng://igniteui-angular/lib/slider/slider.component.ts","ng://igniteui-angular/lib/snackbar/snackbar.component.ts","ng://igniteui-angular/lib/switch/switch.component.ts","ng://igniteui-angular/lib/tabbar/tabbar.component.ts","ng://igniteui-angular/lib/tabs/tabs.common.ts","ng://igniteui-angular/lib/tabs/tabs.directives.ts","ng://igniteui-angular/lib/tabs/tab-item.component.ts","ng://igniteui-angular/lib/tabs/tabs-group.component.ts","ng://igniteui-angular/lib/tabs/tabs.component.ts","ng://igniteui-angular/lib/time-picker/time-picker.common.ts","ng://igniteui-angular/lib/time-picker/time-picker.directives.ts","ng://igniteui-angular/lib/time-picker/time-picker.pipes.ts","ng://igniteui-angular/lib/time-picker/time-picker.component.ts","ng://igniteui-angular/lib/toast/toast.component.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","enum EaseIn {\n    quad = `cubic-bezier(0.550, 0.085, 0.680, 0.530)` as any,\n    cubic = `cubic-bezier(0.550, 0.055, 0.675, 0.190)` as any,\n    quart = `cubic-bezier(0.895, 0.030, 0.685, 0.220)` as any,\n    quint = `cubic-bezier(0.755, 0.050, 0.855, 0.060)` as any,\n    sine = `cubic-bezier(0.470, 0.000, 0.745, 0.715)` as any,\n    expo = `cubic-bezier(0.950, 0.050, 0.795, 0.035)` as any,\n    circ = `cubic-bezier(0.600, 0.040, 0.980, 0.335)` as any,\n    back = `cubic-bezier(0.600, -0.280, 0.735, 0.045)` as any\n}\n\nenum EaseOut {\n    quad = `cubic-bezier(0.250, 0.460, 0.450, 0.940)` as any,\n    cubic = `cubic-bezier(0.215, 0.610, 0.355, 1.000)` as any,\n    quart = `cubic-bezier(0.165, 0.840, 0.440, 1.000)` as any,\n    quint = `cubic-bezier(0.230, 1.000, 0.320, 1.000)` as any,\n    sine = `cubic-bezier(0.390, 0.575, 0.565, 1.000)` as any,\n    expo = `cubic-bezier(0.190, 1.000, 0.220, 1.000)` as any,\n    circ = `cubic-bezier(0.075, 0.820, 0.165, 1.000)` as any,\n    back = `cubic-bezier(0.175, 0.885, 0.320, 1.275)` as any\n}\n\nenum EaseInOut {\n    quad = `cubic-bezier(0.455, 0.030, 0.515, 0.955)` as any,\n    cubic = `cubic-bezier(0.645, 0.045, 0.355, 1.000)` as any,\n    quart = `cubic-bezier(0.770, 0.000, 0.175, 1.000)` as any,\n    quint = `cubic-bezier(0.860, 0.000, 0.070, 1.000)` as any,\n    sine = `cubic-bezier(0.445, 0.050, 0.550, 0.950)` as any,\n    expo = `cubic-bezier(1.000, 0.000, 0.000, 1.000)` as any,\n    circ = `cubic-bezier(0.785, 0.135, 0.150, 0.860)` as any,\n    back = `cubic-bezier(0.680, -0.550, 0.265, 1.550)` as any\n}\n\nexport { EaseIn, EaseOut, EaseInOut };\n","import { animate, animation, AnimationMetadata, AnimationReferenceMetadata, style } from '@angular/animations';\nimport { EaseOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst base: AnimationMetadata[] = [\n    style({\n        opacity: `{{startOpacity}}`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        style({\n            opacity: `{{endOpacity}}`\n        })\n    )\n];\n\nconst baseParams: IAnimationParams = {\n    delay: '0s',\n    duration: '350ms',\n    easing: EaseOut.sine,\n    endOpacity: 1,\n    startOpacity: 0\n};\n\nconst fadeIn: AnimationReferenceMetadata = animation(base, {\n    params: baseParams\n});\n\nconst fadeOut: AnimationReferenceMetadata = animation(base, {\n    params: {\n        delay: '0s',\n        duration: '350ms',\n        easing: EaseOut.sine,\n        endOpacity: 0,\n        startOpacity: 1\n    }\n});\n\nexport { fadeIn, fadeOut };\n","import {\n    animate,\n    animation,\n    AnimationMetadata,\n    AnimationReferenceMetadata,\n    keyframes,\n    style\n} from '@angular/animations';\nimport { EaseOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst baseRecipe: AnimationMetadata[] = [\n    style({\n        backfaceVisibility: 'hidden',\n        transformStyle: 'preserve-3d'\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        keyframes([\n            style({\n                offset: 0,\n                transform: `translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)`\n            }),\n            style({\n                offset: 1,\n                transform: `translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)`\n            })\n        ])\n    )\n];\n\nconst baseParams: IAnimationParams = {\n    delay: '0s',\n    duration: '600ms',\n    easing: EaseOut.quad,\n    endAngle: 180,\n    endDistance: '0px',\n    rotateX: 1,\n    rotateY: 0,\n    rotateZ: 0,\n    startAngle: 0,\n    startDistance: '0px'\n};\n\nconst flipTop: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams\n    }\n});\n\nconst flipBottom: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endAngle: -180\n    }\n});\n\nconst flipLeft: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        rotateX: 0,\n        rotateY: 1\n    }\n});\n\nconst flipRight: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endAngle: -180,\n        rotateX: 0,\n        rotateY: 1\n    }\n});\n\nconst flipHorFwd: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endDistance: '170px'\n    }\n});\n\nconst flipHorBck: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endDistance: '-170px'\n    }\n});\n\nconst flipVerFwd: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endDistance: '170px',\n        rotateX: 0,\n        rotateY: 1\n    }\n});\n\nconst flipVerBck: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endDistance: '-170px',\n        rotateX: 0,\n        rotateY: 1\n    }\n});\n\nexport {\n    flipTop,\n    flipRight,\n    flipBottom,\n    flipLeft,\n    flipHorFwd,\n    flipHorBck,\n    flipVerFwd,\n    flipVerBck\n};\n","import { animate, animation, AnimationMetadata, AnimationReferenceMetadata, style } from '@angular/animations';\nimport { EaseIn, EaseOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst baseRecipe: AnimationMetadata[] = [\n    style({\n        opacity: `{{startOpacity}}`,\n        transform: `rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)`,\n        transformOrigin: `{{xPos}} {{yPos}}`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        style({\n            offset: 0,\n            opacity: `{{endOpacity}}`,\n            transform: `rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)`,\n            transformOrigin: `{{xPos}} {{yPos}}`\n        })\n    )\n];\n\nconst baseInParams: IAnimationParams = {\n    delay: '0s',\n    duration: '600ms',\n    easing: EaseOut.quad,\n    endAngle: 0,\n    endOpacity: 1,\n    rotateX: 0,\n    rotateY: 0,\n    rotateZ: 1,\n    startAngle: -360,\n    startOpacity: 0,\n    xPos: 'center',\n    yPos: 'center'\n};\n\nconst baseOutParams: IAnimationParams = {\n    ...baseInParams,\n    easing: EaseIn.quad,\n    endOpacity: 0,\n    startOpacity: 1\n};\n\nconst rotateInCenter: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: { ...baseInParams }\n});\n\nconst rotateOutCenter: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: { ...baseOutParams }\n});\n\nconst rotateInTop: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'top'\n    }\n});\n\nconst rotateOutTop: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'top'\n    }\n});\n\nconst rotateInRight: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'right'\n    }\n});\n\nconst rotateOutRight: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'right'\n    }\n});\n\nconst rotateInBottom: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'bottom'\n    }\n});\n\nconst rotateOutBottom: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'bottom'\n    }\n});\n\nconst rotateInLeft: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'left'\n    }\n});\n\nconst rotateOutLeft: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'left'\n    }\n});\n\nconst rotateInTr: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'right',\n        yPos: 'top'\n    }\n});\n\nconst rotateOutTr: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'right',\n        yPos: 'top'\n    }\n});\n\nconst rotateInBr: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'right',\n        yPos: 'bottom'\n    }\n});\n\nconst rotateOutBr: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'right',\n        yPos: 'bottom'\n    }\n});\n\nconst rotateInBl: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'left',\n        yPos: 'bottom'\n    }\n});\n\nconst rotateOutBl: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'left',\n        yPos: 'bottom'\n    }\n});\n\nconst rotateInTl: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        xPos: 'left',\n        yPos: 'top'\n    }\n});\n\nconst rotateOutTl: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        xPos: 'left',\n        yPos: 'top'\n    }\n});\n\nconst rotateInDiagonal1: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        rotateX: 1,\n        rotateY: 1,\n        rotateZ: 0\n    }\n});\n\nconst rotateOutDiagonal1: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        rotateX: 1,\n        rotateY: 1,\n        rotateZ: 0\n    }\n});\n\nconst rotateInDiagonal2: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        rotateX: -1,\n        rotateY: 1,\n        rotateZ: 0\n    }\n});\n\nconst rotateOutDiagonal2: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        rotateX: -1,\n        rotateY: 1,\n        rotateZ: 0\n    }\n});\n\nconst rotateInHor: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        rotateX: 0,\n        rotateY: 1,\n        rotateZ: 0\n    }\n});\n\nconst rotateOutHor: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        rotateX: 0,\n        rotateY: 1,\n        rotateZ: 0\n    }\n});\n\nconst rotateInVer: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseInParams,\n        rotateX: 1,\n        rotateY: 0,\n        rotateZ: 0\n    }\n});\n\nconst rotateOutVer: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseOutParams,\n        rotateX: 1,\n        rotateY: 0,\n        rotateZ: 0\n    }\n});\n\nexport {\n    rotateInCenter,\n    rotateInTop,\n    rotateInRight,\n    rotateInLeft,\n    rotateInBottom,\n    rotateInTr,\n    rotateInBr,\n    rotateInBl,\n    rotateInTl,\n    rotateInDiagonal1,\n    rotateInDiagonal2,\n    rotateInHor,\n    rotateInVer,\n    rotateOutCenter,\n    rotateOutTop,\n    rotateOutRight,\n    rotateOutLeft,\n    rotateOutBottom,\n    rotateOutTr,\n    rotateOutBr,\n    rotateOutBl,\n    rotateOutTl,\n    rotateOutDiagonal1,\n    rotateOutDiagonal2,\n    rotateOutHor,\n    rotateOutVer\n};\n","import {\n    animate,\n    animation,\n    AnimationMetadata,\n    AnimationReferenceMetadata,\n    keyframes,\n    style\n} from '@angular/animations';\nimport { EaseInOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst baseRecipe: AnimationMetadata[] = [\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        keyframes([\n            style({\n                offset: 0,\n                transform: `rotate(0deg) translate{{direction}}(0)`,\n                transformOrigin: `{{xPos}} {{yPos}}`\n            }),\n            style({\n                offset: 0.1,\n                transform: `rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})`\n            }),\n            style({\n                offset: 0.2,\n                transform: `rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})`\n            }),\n            style({\n                offset: 0.3,\n                transform: `rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})`\n            }),\n            style({\n                offset: 0.4,\n                transform: `rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})`\n\n            }),\n            style({\n                offset: 0.5,\n                transform: `rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})`\n            }),\n            style({\n                offset: 0.6,\n                transform: `rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})`\n\n            }),\n            style({\n                offset: 0.7,\n                transform: `rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})`\n            }),\n            style({\n                offset: 0.8,\n                transform: `rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})`\n\n            }),\n            style({\n                offset: 0.9,\n                transform: `rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})`\n\n            }),\n            style({\n                offset: 1,\n                transform: `rotate(0deg) translate{{direction}}(0)`,\n                transformOrigin: `{{xPos}} {{yPos}}`\n            })\n        ])\n    )\n];\n\nconst baseParams: IAnimationParams = {\n    delay: '0s',\n    direction: 'X',\n    duration: '800ms',\n    easing: EaseInOut.quad,\n    endAngle: 0,\n    endDistance: '8px',\n    startAngle: 0,\n    startDistance: '10px',\n    xPos: 'center',\n    yPos: 'center'\n};\n\nconst shakeHor: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'X'\n    }\n});\n\nconst shakeVer: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y'\n    }\n});\n\nconst shakeTop: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        yPos: 'top'\n    }\n});\n\nconst shakeBottom: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        yPos: 'bottom'\n    }\n});\n\nconst shakeRight: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        xPos: 'right',\n        yPos: 'center'\n    }\n});\n\nconst shakeLeft: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        xPos: 'left',\n        yPos: 'center'\n    }\n});\n\nconst shakeCenter: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 8,\n        endDistance: '0',\n        startAngle: 10,\n        startDistance: '0',\n        xPos: 'center',\n        yPos: 'center'\n    }\n});\n\nconst shakeTr: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        xPos: 'right',\n        yPos: 'top'\n    }\n});\n\nconst shakeBr: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        xPos: 'right',\n        yPos: 'bottom'\n    }\n});\n\nconst shakeBl: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        xPos: 'left',\n        yPos: 'bottom'\n    }\n});\n\nconst shakeTl: AnimationReferenceMetadata = animation(baseRecipe, {\n    params: {\n        ...baseParams,\n        direction: 'Y',\n        endAngle: 2,\n        endDistance: '0',\n        startAngle: 4,\n        startDistance: '0',\n        xPos: 'left',\n        yPos: 'top'\n    }\n});\n\nexport {\n    shakeHor,\n    shakeVer,\n    shakeTop,\n    shakeBottom,\n    shakeRight,\n    shakeLeft,\n    shakeCenter,\n    shakeTr,\n    shakeBr,\n    shakeBl,\n    shakeTl\n};\n","import {\n    animate,\n    animation,\n    AnimationMetadata,\n    keyframes,\n    style\n} from '@angular/animations';\nimport { IAnimationParams } from '../interface';\n\nconst heartbeatBase: AnimationMetadata[] = [\n    style({\n        animationTimingFunction: `ease-out`,\n        transform: `scale(1)`,\n        transformOrigin: `center center`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        keyframes([\n            style({\n                animationTimingFunction: `ease-in`,\n                offset: 0.1,\n                transform: `scale(0.91)`\n            }),\n            style({\n                animationTimingFunction: `ease-out`,\n                offset: 0.17,\n                transform: `scale(0.98)`\n            }),\n            style({\n                animationTimingFunction: `ease-in`,\n                offset: 0.33,\n                transform: `scale(0.87)`\n            }),\n            style({\n                animationTimingFunction: `ease-out`,\n                offset: 0.45,\n                transform: `scale(1)`\n            })\n        ])\n    )\n];\n\nconst heartbeatParams: IAnimationParams = {\n    delay: '0s',\n    duration: '1.5s',\n    easing: 'ease-in-out'\n};\n\nconst pulsateBase: AnimationMetadata[] = [\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        keyframes([\n            style({\n                offset: 0,\n                transform: `scale({{fromScale}})`\n            }),\n            style({\n                offset: 0.5,\n                transform: `scale({{toScale}})`\n            }),\n            style({\n                offset: 1,\n                transform: `scale({{fromScale}})`\n            })\n        ])\n    )\n];\n\nconst pulsateParams: IAnimationParams = {\n    delay: '0s',\n    duration: '.5s',\n    easing: 'ease-in-out',\n    fromScale: 1,\n    toScale: 1.1\n};\n\nconst blinkBase: AnimationMetadata[] = [\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        keyframes([\n            style({\n                offset: 0,\n                opacity: .8,\n                transform: `scale({{fromScale}})`\n            }),\n            style({\n                offset: 0.8,\n                opacity: 0,\n                transform: `scale({{midScale}})`\n            }),\n            style({\n                offset: 1,\n                opacity: 0,\n                transform: `scale({{toScale}})`\n            })\n        ])\n    )\n];\n\nconst blinkParams: IAnimationParams = {\n    delay: '0s',\n    duration: '.8s',\n    easing: 'ease-in-out',\n    fromScale: .2,\n    midScale: 1.2,\n    toScale: 2.2\n};\n\nconst pulsateFwd = animation(pulsateBase, {\n    params: {\n        ...pulsateParams\n    }\n});\n\nconst pulsateBck = animation(pulsateBase, {\n    params: {\n        ...pulsateParams,\n        toScale: .9\n    }\n});\n\nconst heartbeat = animation(heartbeatBase, {\n    params: {\n        ...heartbeatParams\n    }\n});\n\nconst blink = animation(blinkBase, {\n    params: {\n        ...blinkParams\n    }\n});\n\nexport {\n    heartbeat,\n    pulsateFwd,\n    pulsateBck,\n    blink\n};\n","import { animate, animation, AnimationMetadata, AnimationReferenceMetadata, style } from '@angular/animations';\nimport { EaseOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst base: AnimationMetadata[] = [\n    style({\n        opacity: `{{startOpacity}}`,\n        transform: `scale{{direction}}({{fromScale}})`,\n        transformOrigin: `{{xPos}} {{yPos}}`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        style({\n            opacity: `{{endOpacity}}`,\n            transform: `scale{{direction}}({{toScale}})`,\n            transformOrigin: `{{xPos}} {{yPos}}`\n        })\n    )\n];\n\nconst baseInParams: IAnimationParams = {\n    delay: '0s',\n    direction: '',\n    duration: '350ms',\n    easing: EaseOut.quad,\n    endOpacity: 1,\n    fromScale: .5,\n    startOpacity: 0,\n    toScale: 1,\n    xPos: '50%',\n    yPos: '50%'\n};\n\nconst baseOutParams: IAnimationParams = {\n    ...baseInParams,\n    easing: EaseOut.sine,\n    endOpacity: 0,\n    fromScale: 1,\n    startOpacity: 1,\n    toScale: .5\n};\n\nconst scaleInCenter: AnimationReferenceMetadata = animation(base, { params: baseInParams });\n\nconst scaleInBl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '0',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleInVerCenter: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            direction: 'Y',\n            fromScale: .4\n        }\n    }\n);\n\nconst scaleInTop: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '50%',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleInLeft: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '0',\n            yPos: '50%'\n        }\n    }\n);\n\nconst scaleInVerTop: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            direction: 'Y',\n            fromScale: .4,\n            xPos: '100%',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleInTr = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '100%',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleInTl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '0',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleInVerBottom: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            direction: 'Y',\n            fromScale: .4,\n            xPos: '0',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleInRight: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '100%',\n            yPos: '50%'\n        }\n    }\n);\n\nconst scaleInHorCenter: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            direction: 'X',\n            fromScale: .4\n        }\n    }\n);\n\nconst scaleInBr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '100%',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleInHorLeft: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            direction: 'X',\n            fromScale: .4,\n            xPos: '0',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleInBottom: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            xPos: '50%',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleInHorRight: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            direction: 'X',\n            fromScale: .4,\n            xPos: '100%',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleOutCenter: AnimationReferenceMetadata = animation(base, { params: baseOutParams });\n\nconst scaleOutBl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '0',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleOutBr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '100%',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleOutVerCenter: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            direction: 'Y',\n            toScale: .3\n        }\n    }\n);\n\nconst scaleOutVerTop: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            direction: 'Y',\n            toScale: .3,\n            xPos: '100%',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleOutVerBottom: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            direction: 'Y',\n            toScale: .3,\n            xPos: '0',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleOutTop: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '50%',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleOutLeft: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '0',\n            yPos: '50%'\n        }\n    }\n);\n\nconst scaleOutTr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '100%',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleOutTl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '0',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleOutRight: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '100%',\n            yPos: '50%'\n        }\n    }\n);\n\nconst scaleOutBottom: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            xPos: '50%',\n            yPos: '100%'\n        }\n    }\n);\n\nconst scaleOutHorCenter: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            direction: 'X',\n            toScale: .3\n        }\n    }\n);\n\nconst scaleOutHorLeft: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            direction: 'X',\n            toScale: .3,\n            xPos: '0',\n            yPos: '0'\n        }\n    }\n);\n\nconst scaleOutHorRight: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            direction: 'X',\n            toScale: .3,\n            xPos: '100%',\n            yPos: '100%'\n        }\n    }\n);\n\nexport {\n    scaleInTop,\n    scaleInRight,\n    scaleInBottom,\n    scaleInLeft,\n    scaleInCenter,\n    scaleInTr,\n    scaleInBr,\n    scaleInBl,\n    scaleInTl,\n    scaleInVerTop,\n    scaleInVerBottom,\n    scaleInVerCenter,\n    scaleInHorCenter,\n    scaleInHorLeft,\n    scaleInHorRight,\n    scaleOutTop,\n    scaleOutRight,\n    scaleOutBottom,\n    scaleOutLeft,\n    scaleOutCenter,\n    scaleOutTr,\n    scaleOutBr,\n    scaleOutBl,\n    scaleOutTl,\n    scaleOutVerTop,\n    scaleOutVerBottom,\n    scaleOutVerCenter,\n    scaleOutHorCenter,\n    scaleOutHorLeft,\n    scaleOutHorRight\n};\n","import { animate, animation, AnimationMetadata, AnimationReferenceMetadata, style } from '@angular/animations';\nimport { EaseIn, EaseOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst base: AnimationMetadata[] = [\n    style({\n        opacity: `{{startOpacity}}`,\n        transform: `{{fromPosition}}`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        style({\n            opacity: `{{endOpacity}}`,\n            transform: `{{toPosition}}`\n        })\n    )\n];\n\nconst baseInParams: IAnimationParams = {\n    delay: '0s',\n    duration: '350ms',\n    easing: EaseOut.quad,\n    endOpacity: 1,\n    fromPosition: 'translateY(-500px)',\n    startOpacity: 0,\n    toPosition: 'translateY(0)'\n};\n\nconst baseOutParams: IAnimationParams = {\n    delay: '0s',\n    duration: '350ms',\n    easing: EaseIn.quad,\n    endOpacity: 0,\n    fromPosition: 'translateY(0)',\n    startOpacity: 1,\n    toPosition: 'translateY(-500px)'\n};\n\nconst slideInTop: AnimationReferenceMetadata = animation(base, { params: baseInParams });\n\nconst slideInLeft: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            delay: '0s',\n            duration: '350ms',\n            easing: EaseOut.quad,\n            endOpacity: 1,\n            fromPosition: 'translateX(-500px)',\n            startOpacity: 0,\n            toPosition: 'translateY(0)'\n        }\n    }\n);\n\nconst slideInRight: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            delay: '0s',\n            duration: '350ms',\n            easing: EaseOut.quad,\n            endOpacity: 1,\n            fromPosition: 'translateX(500px)',\n            startOpacity: 0,\n            toPosition: 'translateY(0)'\n        }\n    }\n);\n\nconst slideInBottom: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            delay: '0s',\n            duration: '350ms',\n            easing: EaseOut.quad,\n            endOpacity: 1,\n            fromPosition: 'translateY(500px)',\n            startOpacity: 0,\n            toPosition: 'translateY(0)'\n        }\n    }\n);\n\nconst slideInTr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            fromPosition: 'translateY(-500px) translateX(500px)',\n            toPosition: 'translateY(0) translateX(0)'\n        }\n    }\n);\n\nconst slideInTl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            fromPosition: 'translateY(-500px) translateX(-500px)',\n            toPosition: 'translateY(0) translateX(0)'\n        }\n    }\n);\n\nconst slideInBr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            fromPosition: 'translateY(500px) translateX(500px)',\n            toPosition: 'translateY(0) translateX(0)'\n        }\n    }\n);\n\nconst slideInBl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseInParams,\n            fromPosition: 'translateY(500px) translateX(-500px)',\n            toPosition: 'translateY(0) translateX(0)'\n        }\n    }\n);\n\nconst slideOutTop: AnimationReferenceMetadata = animation(base, { params: baseOutParams });\n\nconst slideOutRight: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            toPosition: 'translateX(500px)'\n        }\n    }\n);\n\nconst slideOutBottom: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            delay: '0s',\n            duration: '350ms',\n            easing: EaseIn.quad,\n            endOpacity: 0,\n            fromPosition: 'translateY(0)',\n            startOpacity: 1,\n            toPosition: 'translateY(500px)'\n        }\n    }\n);\n\nconst slideOutLeft: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            toPosition: 'translateX(-500px)'\n        }\n    }\n);\n\nconst slideOutTr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            fromPosition: 'translateY(0) translateX(0)',\n            toPosition: 'translateY(-500px) translateX(500px)'\n        }\n    }\n);\n\nconst slideOutBr: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            fromPosition: 'translateY(0) translateX(0)',\n            toPosition: 'translateY(500px) translateX(500px)'\n        }\n    }\n);\n\nconst slideOutBl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            fromPosition: 'translateY(0) translateX(0)',\n            toPosition: 'translateY(500px) translateX(-500px)'\n        }\n    }\n);\n\nconst slideOutTl: AnimationReferenceMetadata = animation(base,\n    {\n        params: {\n            ...baseOutParams,\n            fromPosition: 'translateY(0) translateX(0)',\n            toPosition: 'translateY(-500px) translateX(-500px)'\n        }\n    }\n);\n\nexport {\n    slideInTop,\n    slideInRight,\n    slideInBottom,\n    slideInLeft,\n    slideInTr,\n    slideInBr,\n    slideInBl,\n    slideInTl,\n    slideOutTop,\n    slideOutBottom,\n    slideOutRight,\n    slideOutLeft,\n    slideOutTr,\n    slideOutBr,\n    slideOutBl,\n    slideOutTl\n};\n","import { animate, animation, AnimationMetadata, AnimationReferenceMetadata, style } from '@angular/animations';\nimport { EaseIn, EaseOut } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst swingBase: AnimationMetadata[] = [\n    style({\n        opacity: `{{startOpacity}}`,\n        transform: `rotate{{direction}}({{startAngle}}deg)`,\n        transformOrigin: `{{xPos}} {{yPos}}`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        style({\n            opacity: `{{endOpacity}}`,\n            transform: `rotate{{direction}}({{endAngle}}deg)`,\n            transformOrigin: `{{xPos}} {{yPos}}`\n        })\n    )\n];\n\nconst swingParams: IAnimationParams = {\n    delay: '0s',\n    direction: 'X',\n    duration: '.5s',\n    easing: EaseOut.back,\n    endAngle: 0,\n    endOpacity: 1,\n    startAngle: -100,\n    startOpacity: 0,\n    xPos: 'top',\n    yPos: 'center'\n};\n\nconst swingOutParams: IAnimationParams = {\n    ...swingParams,\n    duration: '.55s',\n    easing: EaseIn.back,\n    endAngle: 70,\n    endOpacity: 0,\n    startAngle: 0,\n    startOpacity: 1\n};\n\nconst swingInTopFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams\n    }\n});\n\nconst swingInRightFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        direction: 'Y',\n        xPos: 'center',\n        yPos: 'right'\n    }\n});\n\nconst swingInBottomFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        startAngle: 100,\n        xPos: 'bottom'\n    }\n});\n\nconst swingInLeftFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        direction: 'Y',\n        startAngle: 100,\n        xPos: 'center',\n        yPos: 'left'\n    }\n});\n\nconst swingInTopBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        duration: '.6s',\n        startAngle: 70\n    }\n});\n\nconst swingInRightBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        direction: 'Y',\n        duration: '.6s',\n        startAngle: 70,\n        xPos: 'center',\n        yPos: 'right'\n    }\n});\n\nconst swingInBottomBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        duration: '.6s',\n        startAngle: -70,\n        xPos: 'bottom'\n    }\n});\n\nconst swingInLeftBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingParams,\n        direction: 'Y',\n        duration: '.6s',\n        startAngle: -70,\n        xPos: 'center',\n        yPos: 'left'\n    }\n});\n\nconst swingOutTopFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams\n    }\n});\n\nconst swingOutRightFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        direction: 'Y',\n        xPos: 'center',\n        yPos: 'right'\n    }\n});\n\nconst swingOutBottomFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        endAngle: -70,\n        xPos: 'bottom'\n    }\n});\n\nconst swingOutLefttFwd: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        direction: 'Y',\n        endAngle: -70,\n        xPos: 'center',\n        yPos: 'left'\n    }\n});\n\nconst swingOutTopBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        duration: '.45s',\n        endAngle: -100\n    }\n});\n\nconst swingOutRightBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        direction: 'Y',\n        duration: '.45s',\n        endAngle: -100,\n        xPos: 'center',\n        yPos: 'right'\n    }\n});\n\nconst swingOutBottomBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        duration: '.45s',\n        endAngle: 100,\n        xPos: 'bottom'\n    }\n});\n\nconst swingOutLeftBck: AnimationReferenceMetadata = animation(swingBase, {\n    params: {\n        ...swingOutParams,\n        direction: 'Y',\n        duration: '.45s',\n        endAngle: 100,\n        xPos: 'center',\n        yPos: 'left'\n    }\n});\n\nexport {\n    swingInTopFwd,\n    swingInRightFwd,\n    swingInLeftFwd,\n    swingInBottomFwd,\n    swingInTopBck,\n    swingInRightBck,\n    swingInBottomBck,\n    swingInLeftBck,\n    swingOutTopFwd,\n    swingOutRightFwd,\n    swingOutBottomFwd,\n    swingOutLefttFwd,\n    swingOutTopBck,\n    swingOutRightBck,\n    swingOutBottomBck,\n    swingOutLeftBck\n};\n","import { animate, animation, AnimationMetadata, AnimationReferenceMetadata, style } from '@angular/animations';\nimport { EaseOut, EaseIn } from '../easings';\nimport { IAnimationParams } from '../interface';\n\nconst base: AnimationMetadata[] = [\n    style({\n        opacity: `{{ startOpacity }}`,\n        height: `{{ startHeight }}`\n    }),\n    animate(\n        `{{duration}} {{delay}} {{easing}}`,\n        style({\n            opacity: `{{ endOpacity }}`,\n            height: `{{ endHeight }}`\n        })\n    )\n];\n\nconst baseParams: IAnimationParams = {\n    delay: '0s',\n    duration: '350ms',\n    easing: EaseIn.quad,\n    startOpacity: 0,\n    endOpacity: 1,\n    startHeight: '',\n    endHeight: ''\n};\n\nconst growVerIn: AnimationReferenceMetadata = animation(base, {\n    params: {\n        ...baseParams,\n        easing: EaseOut.quad,\n        startOpacity: 0,\n        endOpacity: 1,\n        startHeight: '0px',\n        endHeight: '*'\n    }\n});\n\nconst growVerOut: AnimationReferenceMetadata = animation(base, {\n    params: {\n        ...baseParams,\n        easing: EaseOut.quad,\n        startOpacity: 1,\n        endOpacity: 0,\n        startHeight: '*',\n        endHeight: '0px'\n    }\n});\n\nexport { growVerIn, growVerOut };\n","import { IToggleView } from './IToggleView';\nimport { Injectable } from '@angular/core';\n\n/**\n * Common service to be injected between components where those implementing common\n * ToggleView interface can register and toggle directives can call their methods.\n * TODO: Track currently active? Events?\n */\n@Injectable()\nexport class IgxNavigationService {\n    private navs: { [id: string]: IToggleView; };\n\n    constructor() {\n        this.navs = {};\n    }\n\n    public add(id: string, navItem: IToggleView) {\n        this.navs[id] = navItem;\n    }\n\n    public remove(id: string) {\n        delete this.navs[id];\n    }\n\n    public get(id: string): IToggleView {\n        if (id) {\n            return this.navs[id];\n        }\n    }\n\n    public toggle(id: string, ...args) {\n        if (this.navs[id]) {\n            return this.navs[id].toggle(...args);\n        }\n    }\n    public open(id: string, ...args) {\n        if (this.navs[id]) {\n            return this.navs[id].open(...args);\n        }\n    }\n    public close(id: string, ...args) {\n        if (this.navs[id]) {\n            return this.navs[id].close(...args);\n        }\n    }\n}\n","import { Directive, HostListener, Input, NgModule } from '@angular/core';\nimport {IgxNavigationService} from './nav.service';\n\n/**\n * Directive that can toggle targets through provided NavigationService.\n *\n * Usage:\n * ```\n * <button igxNavToggle=\"ID\"> Toggle </button>\n * ```\n * Where the `ID` matches the ID of compatible `IToggleView` component.\n */\n@Directive({ selector: '[igxNavToggle]' })\nexport class IgxNavigationToggleDirective {\n    public state: IgxNavigationService;\n\n    @Input('igxNavToggle') private target;\n\n    constructor(nav: IgxNavigationService) {\n        this.state = nav;\n    }\n\n    @HostListener('click')\n    public toggleNavigationDrawer() {\n        this.state.toggle(this.target, true);\n    }\n}\n\n/**\n * Directive that can close targets through provided NavigationService.\n *\n * Usage:\n * ```\n * <button igxNavClose=\"ID\"> Close </button>\n * ```\n * Where the `ID` matches the ID of compatible `IToggleView` component.\n */\n@Directive({ selector: '[igxNavClose]' })\nexport class IgxNavigationCloseDirective {\n    public state: IgxNavigationService;\n\n    @Input('igxNavClose') private target;\n\n    constructor(nav: IgxNavigationService) {\n        this.state = nav;\n    }\n\n    @HostListener('click')\n    public closeNavigationDrawer() {\n        this.state.close(this.target, true);\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxNavigationCloseDirective, IgxNavigationToggleDirective],\n    exports: [IgxNavigationCloseDirective, IgxNavigationToggleDirective],\n    providers: [IgxNavigationService]\n})\nexport class IgxNavigationModule {}\n","import { Injectable, PLATFORM_ID, Inject } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Observable } from 'rxjs';\nimport ResizeObserver from 'resize-observer-polyfill';\n\n/**\n *@hidden\n */\nexport function cloneArray(array: any[], deep?: boolean) {\n    const arr = [];\n    if (!array) {\n        return arr;\n    }\n    let i = array.length;\n    while (i--) {\n        arr[i] = deep ? cloneValue(array[i]) : array[i];\n    }\n    return arr;\n}\n\n/**\n * Doesn't clone leaf items\n * @hidden\n */\nexport function cloneHierarchicalArray(array: any[], childDataKey: any): any[] {\n    const result: any[] = [];\n    if (!array) {\n        return result;\n    }\n\n    for (const item of array) {\n        const clonedItem = cloneValue(item);\n        if (Array.isArray(item[childDataKey])) {\n            clonedItem[childDataKey] = cloneHierarchicalArray(clonedItem[childDataKey], childDataKey);\n        }\n        result.push(clonedItem);\n    }\n    return result;\n}\n\n/**\n * Deep clones all first level keys of Obj2 and merges them to Obj1\n * @param obj1 Object to merge into\n * @param obj2 Object to merge from\n * @returns Obj1 with merged cloned keys from Obj2\n * @hidden\n */\nexport function mergeObjects(obj1: {}, obj2: {}): any {\n    if (!isObject(obj1)) {\n        throw new Error(`Cannot merge into ${obj1}. First param must be an object.`);\n    }\n\n    if (!isObject(obj2)) {\n        return obj1;\n    }\n\n    for (const key of Object.keys(obj2)) {\n        obj1[key] = cloneValue(obj2[key]);\n    }\n\n    return obj1;\n}\n\n/**\n * Creates deep clone of provided value.\n * Supports primitive values, dates and objects.\n * If passed value is array returns shallow copy of the array.\n * @param value value to clone\n * @returns Deep copy of provided value\n *@hidden\n */\nexport function cloneValue(value: any): any {\n    if (isDate(value)) {\n        return new Date(value.getTime());\n    }\n    if (Array.isArray(value)) {\n        return [...value];\n    }\n\n    if (value instanceof Map || value instanceof Set) {\n        return value;\n    }\n\n    if (isObject(value)) {\n        const result = {};\n\n        for (const key of Object.keys(value)) {\n            result[key] = cloneValue(value[key]);\n        }\n        return result;\n    }\n    return value;\n}\n\n/**\n * Checks if provided variable is Object\n * @param value Value to check\n * @returns true if provided variable is Object\n *@hidden\n */\nexport function isObject(value: any): boolean {\n    return value && value.toString() === '[object Object]';\n}\n\n/**\n * Checks if provided variable is Date\n * @param value Value to check\n * @returns true if provided variable is Date\n *@hidden\n */\nexport function isDate(value: any) {\n    return Object.prototype.toString.call(value) === '[object Date]';\n}\n\n/**\n * Checks if the two passed arguments are equal\n * Currently supports date objects\n * @param obj1\n * @param obj2\n * @returns: `boolean`\n * @hidden\n */\nexport function isEqual(obj1, obj2): boolean {\n    if (isDate(obj1) && isDate(obj2)) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    return obj1 === obj2;\n}\n\n/**\n *@hidden\n */\nexport const enum KEYCODES {\n    ENTER = 13,\n    SPACE = 32,\n    ESCAPE = 27,\n    LEFT_ARROW = 37,\n    UP_ARROW = 38,\n    RIGHT_ARROW = 39,\n    DOWN_ARROW = 40,\n    F2 = 113,\n    TAB = 9\n}\n\n/**\n *@hidden\n */\nexport const enum KEYS {\n    ENTER = 'Enter',\n    SPACE = ' ',\n    SPACE_IE = 'Spacebar',\n    ESCAPE = 'Escape',\n    ESCAPE_IE = 'Esc',\n    LEFT_ARROW = 'ArrowLeft',\n    LEFT_ARROW_IE = 'Left',\n    UP_ARROW = 'ArrowUp',\n    UP_ARROW_IE = 'Up',\n    RIGHT_ARROW = 'ArrowRight',\n    RIGHT_ARROW_IE = 'Right',\n    DOWN_ARROW = 'ArrowDown',\n    DOWN_ARROW_IE = 'Down',\n    F2 = 'F2',\n    TAB = 'Tab'\n}\n\n/**\n *@hidden\n* Returns the actual size of the node content, using Range\n* ```typescript\n* let range = document.createRange();\n* let column = this.grid.columnList.filter(c => c.field === 'ID')[0];\n*\n* let size = getNodeSizeViaRange(range, column.cells[0].nativeElement);\n* ```\n */\nexport function getNodeSizeViaRange(range: Range, node: any): number {\n    let overflow = null;\n    if (!isFirefox()) {\n        overflow = node.style.overflow;\n        // we need that hack - otherwise content won't be measured correctly in IE/Edge\n        node.style.overflow = 'visible';\n    }\n\n    range.selectNodeContents(node);\n    const width = range.getBoundingClientRect().width;\n\n    if (!isFirefox()) {\n        // we need that hack - otherwise content won't be measured correctly in IE/Edge\n        node.style.overflow = overflow;\n    }\n\n    return width;\n}\n/**\n *@hidden\n* Returns the actual size of the node content, using Canvas\n* ```typescript\n* let ctx = document.createElement('canvas').getContext('2d');\n* let column = this.grid.columnList.filter(c => c.field === 'ID')[0];\n*\n* let size = valToPxlsUsingCanvas(ctx, column.cells[0].nativeElement);\n* ```\n */\nexport function getNodeSizeViaCanvas(canvas2dCtx: any, node: any): number {\n    const s = this.grid.document.defaultView.getComputedStyle(node);\n\n    // need to set the font to get correct width\n    canvas2dCtx.font = s.fontSize + ' ' + s.fontFamily;\n\n    return canvas2dCtx.measureText(node.textContent).width;\n}\n/**\n *@hidden\n */\nexport function isIE(): boolean {\n    return navigator.appVersion.indexOf('Trident/') > 0;\n}\n/**\n *@hidden\n */\nexport function isEdge(): boolean {\n    const edgeBrowser = /Edge[\\/\\s](\\d+\\.\\d+)/.test(navigator.userAgent);\n    return edgeBrowser;\n}\n\n/**\n *@hidden\n */\nexport function isFirefox(): boolean {\n    const firefoxBrowser = /Firefox[\\/\\s](\\d+\\.\\d+)/.test(navigator.userAgent);\n    return firefoxBrowser;\n}\n\n/**\n * @hidden\n */\n@Injectable({ providedIn: 'root' })\nexport class PlatformUtil {\n    public isBrowser: boolean = isPlatformBrowser(this.platformId);\n\n    public isIOS = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n\n    constructor(@Inject(PLATFORM_ID) private platformId: Object) {\n    }\n}\n\n/**\n * @hidden\n */\nexport function isLeftClick(event: PointerEvent) {\n    return event.button === 0;\n}\n\n/** @hidden */\nexport function isNavigationKey(key: string): boolean {\n    return [\n        'down',\n        'up',\n        'left',\n        'right',\n        'arrowdown',\n        'arrowup',\n        'arrowleft',\n        'arrowright',\n        'home',\n        'end',\n        'space',\n        'spacebar',\n        ' '\n    ].indexOf(key) !== -1;\n}\n\n/**\n *@hidden\n */\nexport function flatten(arr: any[]) {\n    let result = [];\n\n    arr.forEach(el => {\n        result.push(el);\n        if (el.children) {\n            const children = Array.isArray(el.children) ? el.children : el.children.toArray();\n            result = result.concat(flatten(children));\n        }\n    });\n    return result;\n}\n\nexport interface CancelableEventArgs {\n    /**\n     * Provides the ability to cancel the event.\n     */\n    cancel: boolean;\n}\n\nexport interface IBaseEventArgs {\n    /**\n     * Provides reference to the owner component.\n     */\n    owner?: any;\n}\n\nexport interface CancelableBrowserEventArgs extends CancelableEventArgs {\n    /** Browser event */\n    event?: Event;\n}\n\nexport const NAVIGATION_KEYS = new Set([\n    'down',\n    'up',\n    'left',\n    'right',\n    'arrowdown',\n    'arrowup',\n    'arrowleft',\n    'arrowright',\n    'home',\n    'end',\n    'space',\n    'spacebar',\n    ' '\n]);\nexport const ROW_EXPAND_KEYS = new Set('right down arrowright arrowdown'.split(' '));\nexport const ROW_COLLAPSE_KEYS = new Set('left up arrowleft arrowup'.split(' '));\nexport const SUPPORTED_KEYS = new Set([...Array.from(NAVIGATION_KEYS), 'tab', 'enter', 'f2', 'escape', 'esc']);\n\n/**\n * @hidden\n * @internal\n *\n * Creates a new ResizeObserver on `target` and returns it as an Observable.\n * Run the resizeObservable outside angular zone, because it patches the MutationObserver which causes an infinite loop.\n * Related issue: https://github.com/angular/angular/issues/31712\n */\nexport function resizeObservable(target: HTMLElement): Observable<ResizeObserverEntry[]> {\n    return new Observable((observer) => {\n        const instance = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n            observer.next(entries);\n        });\n        instance.observe(target);\n        const unsubscribe = () => instance.disconnect();\n        return unsubscribe;\n    });\n}\n","import { ISortingStrategy } from './sorting-strategy';\nimport { IBaseEventArgs } from '../core/utils';\n\n/**\n * Represents sorting expressions.\n */\nexport enum SortingDirection {\n    None = 0,\n    Asc = 1,\n    Desc = 2\n}\n\nexport interface ISortingExpression extends IBaseEventArgs {\n   fieldName: string;\n   dir: SortingDirection;\n   ignoreCase?: boolean;\n   strategy?: ISortingStrategy;\n}\n","import { IGroupByKey } from './groupby-expand-state.interface';\nimport { IGroupByRecord } from './groupby-record.interface';\n\nexport function isHierarchyMatch(h1: Array<IGroupByKey>, h2: Array<IGroupByKey>): boolean {\n    if (h1.length !== h2.length) {\n        return false;\n    }\n    return h1.every((level, index): boolean => {\n        return level.fieldName === h2[index].fieldName && level.value === h2[index].value;\n    });\n}\n\nexport function getHierarchy(gRow: IGroupByRecord): Array<IGroupByKey> {\n    const hierarchy: Array<IGroupByKey> = [];\n    if (gRow !== undefined && gRow.expression) {\n        hierarchy.push({ fieldName: gRow.expression.fieldName, value: gRow.value });\n        while (gRow.groupParent) {\n            gRow = gRow.groupParent;\n            hierarchy.unshift({ fieldName: gRow.expression.fieldName, value: gRow.value });\n        }\n    }\n    return hierarchy;\n}\n","import { cloneArray } from '../core/utils';\nimport { IGroupByRecord } from './groupby-record.interface';\nimport { ISortingExpression, SortingDirection } from './sorting-expression.interface';\nimport { IGroupingExpression } from './grouping-expression.interface';\nimport { IGroupingState } from './groupby-state.interface';\nimport { IGroupByExpandState } from './groupby-expand-state.interface';\nimport { IGroupByResult } from './grouping-result.interface';\nimport { getHierarchy, isHierarchyMatch } from './operations';\n\nexport interface ISortingStrategy {\n    sort: (data: any[],\n           fieldName: string,\n           dir: SortingDirection,\n           ignoreCase: boolean,\n           valueResolver: (obj: any, key: string) => any) => any[];\n}\n\nexport class DefaultSortingStrategy implements ISortingStrategy {\n    private static _instance: DefaultSortingStrategy = null;\n\n    protected constructor() {}\n\n    public static instance(): DefaultSortingStrategy {\n        return this._instance || (this._instance = new this());\n    }\n\n    public sort(data: any[],\n                fieldName: string,\n                dir: SortingDirection,\n                ignoreCase: boolean,\n                valueResolver: (obj: any, key: string) => any) {\n        const key = fieldName;\n        const reverse = (dir === SortingDirection.Desc ? -1 : 1);\n        const cmpFunc = (obj1, obj2) => {\n            return this.compareObjects(obj1, obj2, key, reverse, ignoreCase, valueResolver);\n        };\n        return this.arraySort(data, cmpFunc);\n    }\n\n    public compareValues(a: any, b: any) {\n        const an = (a === null || a === undefined);\n        const bn = (b === null || b === undefined);\n        if (an) {\n            if (bn) {\n                return 0;\n            }\n            return -1;\n        } else if (bn) {\n            return 1;\n        }\n        return a > b ? 1 : a < b ? -1 : 0;\n    }\n\n    protected compareObjects(obj1: object,\n                             obj2: object,\n                             key: string,\n                             reverse: number,\n                             ignoreCase: boolean,\n                             valueResolver: (obj: any, key: string) => any) {\n        let a = valueResolver(obj1, key);\n        let b = valueResolver(obj2, key);\n        if (ignoreCase) {\n            a = a && a.toLowerCase ? a.toLowerCase() : a;\n            b = b && b.toLowerCase ? b.toLowerCase() : b;\n        }\n        return reverse * this.compareValues(a, b);\n    }\n\n    protected arraySort(data: any[], compareFn?): any[] {\n        return data.sort(compareFn);\n    }\n}\n\nexport interface IGridSortingStrategy {\n    sort(data: any[], expressions: ISortingExpression[]): any[];\n}\n\nexport class NoopSortingStrategy implements IGridSortingStrategy {\n    private static _instance: NoopSortingStrategy = null;\n\n    private constructor() {  }\n\n    public static instance() {\n        return this._instance || (this._instance = new NoopSortingStrategy());\n    }\n\n    public sort(data: any[], expressions: ISortingExpression[]): any[] {\n        return data;\n    }\n}\n\nexport class IgxSorting implements IGridSortingStrategy {\n    public sort(data: any[], expressions: ISortingExpression[]): any[] {\n        return this.sortDataRecursive(data, expressions);\n    }\n\n    private groupedRecordsByExpression(data: any[],\n            index: number,\n            expression: IGroupingExpression): any[] {\n        let i;\n        let groupval;\n        const res = [];\n        const key = expression.fieldName;\n        const len = data.length;\n        res.push(data[index]);\n        groupval = this.getFieldValue(data[index], key);\n        index++;\n        const comparer = expression.groupingComparer || DefaultSortingStrategy.instance().compareValues;\n        for (i = index; i < len; i++) {\n            if (comparer(this.getFieldValue(data[i], key), groupval) === 0) {\n                res.push(data[i]);\n            } else {\n                break;\n            }\n        }\n        return res;\n    }\n    private sortDataRecursive<T>(data: T[],\n                                 expressions: ISortingExpression[],\n                                 expressionIndex: number = 0): T[] {\n        let i;\n        let j;\n        let expr: ISortingExpression;\n        let gbData;\n        let gbDataLen;\n        const exprsLen = expressions.length;\n        const dataLen = data.length;\n        expressionIndex = expressionIndex || 0;\n        if (expressionIndex >= exprsLen || dataLen <= 1) {\n            return data;\n        }\n        expr = expressions[expressionIndex];\n        if (!expr.strategy) {\n            expr.strategy = DefaultSortingStrategy.instance();\n        }\n        data = expr.strategy.sort(data, expr.fieldName, expr.dir, expr.ignoreCase, this.getFieldValue);\n        if (expressionIndex === exprsLen - 1) {\n            return data;\n        }\n        // in case of multiple sorting\n        for (i = 0; i < dataLen; i++) {\n            gbData = this.groupedRecordsByExpression(data, i, expr);\n            gbDataLen = gbData.length;\n            if (gbDataLen > 1) {\n                gbData = this.sortDataRecursive(gbData, expressions, expressionIndex + 1);\n            }\n            for (j = 0; j < gbDataLen; j++) {\n                data[i + j] = gbData[j];\n            }\n            i += gbDataLen - 1;\n        }\n        return data;\n    }\n    protected groupDataRecursive<T>(data: T[], state: IGroupingState, level: number,\n        parent: IGroupByRecord, metadata: IGroupByRecord[], grid: any = null,\n        groupsRecords: any[] = [], fullResult: IGroupByResult = { data: [], metadata: [] }): T[] {\n        const expressions = state.expressions;\n        const expansion = state.expansion;\n        let i = 0;\n        let result = [];\n        while (i < data.length) {\n            const group = this.groupedRecordsByExpression(data, i, expressions[level]);\n            const groupRow: IGroupByRecord = {\n                expression: expressions[level],\n                level,\n                records: cloneArray(group),\n                value: group[0][expressions[level].fieldName],\n                groupParent: parent,\n                groups: [],\n                height: grid ? grid.renderedRowHeight : null\n            };\n            if (parent) {\n                parent.groups.push(groupRow);\n            } else {\n                groupsRecords.push(groupRow);\n            }\n            const hierarchy = getHierarchy(groupRow);\n            const expandState: IGroupByExpandState = expansion.find((s) =>\n                isHierarchyMatch(s.hierarchy || [{ fieldName: groupRow.expression.fieldName, value: groupRow.value }], hierarchy));\n            const expanded = expandState ? expandState.expanded : state.defaultExpanded;\n            let recursiveResult;\n            result.push(groupRow);\n            metadata.push(null);\n            fullResult.data.push(groupRow);\n            fullResult.metadata.push(null);\n            if (level < expressions.length - 1) {\n                recursiveResult = this.groupDataRecursive(group, state, level + 1, groupRow,\n                    expanded ? metadata : [], grid, groupsRecords, fullResult);\n                if (expanded) {\n                    result = result.concat(recursiveResult);\n                }\n            } else {\n                for (const groupItem of group) {\n                    fullResult.metadata.push(groupRow);\n                    fullResult.data.push(groupItem);\n                }\n                if (expanded) {\n                    metadata.push(...fullResult.metadata.slice(fullResult.metadata.length - group.length));\n                    result.push(...fullResult.data.slice(fullResult.data.length - group.length));\n                }\n            }\n            i += group.length;\n        }\n        return result;\n    }\n    protected getFieldValue(obj: any, key: string): any {\n        return obj[key];\n    }\n}\n\nexport class IgxDataRecordSorting extends IgxSorting {\n    protected getFieldValue(obj: any, key: string): any {\n        return obj.data[key];\n    }\n}\n","import { IGroupByRecord } from './groupby-record.interface';\nimport { IgxSorting } from './sorting-strategy';\nimport { IGroupingState } from './groupby-state.interface';\nimport { IGroupByResult } from './grouping-result.interface';\n\nexport class IgxGrouping extends IgxSorting {\n    public groupBy(data: any[], state: IGroupingState, grid?: any,\n        groupsRecords?: any[], fullResult: IGroupByResult = { data: [], metadata: [] }): IGroupByResult {\n        const metadata: IGroupByRecord[] = [];\n        const grouping = this.groupDataRecursive(data, state, 0, null, metadata, grid, groupsRecords, fullResult);\n        return {\n            data: grouping,\n            metadata: metadata\n        };\n    }\n}\n\n","export enum PagingError {\n    None,\n    IncorrectPageIndex,\n    IncorrectRecordsPerPage\n}\n\nexport declare interface IPagingState {\n    index: number;\n    recordsPerPage: number;\n    metadata?: {\n        countPages: number;\n        error: PagingError;\n        countRecords: number;\n    };\n}\n","import { IFilteringOperation } from './filtering-condition';\n\nexport enum FilteringLogic {\n    And,\n    Or\n}\n\n/**\n * Represents filtering expressions.\n */\nexport declare interface IFilteringExpression {\n    fieldName: string;\n    condition: IFilteringOperation;\n    searchVal?: any;\n    ignoreCase?: boolean;\n}\n","import { IFilteringExpression, FilteringLogic } from './filtering-expression.interface';\nimport { IBaseEventArgs } from '../core/utils';\n\nexport enum FilteringExpressionsTreeType {\n    Regular,\n    Advanced\n}\n\nexport declare interface IFilteringExpressionsTree extends IBaseEventArgs {\n    filteringOperands: (IFilteringExpressionsTree | IFilteringExpression)[];\n    operator: FilteringLogic;\n    fieldName?: string;\n    type?: FilteringExpressionsTreeType;\n\n    find(fieldName: string): IFilteringExpressionsTree | IFilteringExpression;\n    findIndex(fieldName: string): number;\n}\n\nexport class FilteringExpressionsTree implements IFilteringExpressionsTree {\n\n    /**\n     * Sets/gets the filtering operands.\n     * ```typescript\n     * const gridExpressionsTree = new FilteringExpressionsTree(FilteringLogic.And);\n     * const expression = [\n     * {\n     *   condition: IgxStringFilteringOperand.instance().condition('contains'),\n     *   fieldName: 'Column Field',\n     *   searchVal: 'Value',\n     *   ignoreCase: false\n     * }];\n     * gridExpressionsTree.filteringOperands.push(expression);\n     * this.grid.filteringExpressionsTree = gridExpressionsTree;\n     * ```\n     * ```typescript\n     * let filteringOperands = gridExpressionsTree.filteringOperands;\n     * ```\n     * @memberof FilteringExpressionsTree\n     */\n    filteringOperands: (IFilteringExpressionsTree | IFilteringExpression)[] = [];\n\n    /**\n     * Sets/gets the operator.\n     * ```typescript\n     * gridExpressionsTree.operator = FilteringLogic.And;\n     * ```\n     * ```typescript\n     * let operator = gridExpressionsTree.operator;\n     * ```\n     * @memberof FilteringExpressionsTree\n     */\n    operator: FilteringLogic;\n\n    /**\n     * Sets/gets the field name of the column where the filtering expression is placed.\n     * ```typescript\n     *  gridExpressionTree.fieldName = 'Column Field';\n     * ```\n     * ```typescript\n     * let columnField = expressionTree.fieldName;\n     * ```\n     * @memberof FilteringExpressionsTree\n     */\n    fieldName?: string;\n\n    /**\n     * Sets/gets the type of the filtering expressions tree.\n     * ```typescript\n     *  gridExpressionTree.type = FilteringExpressionsTree.Advanced;\n     * ```\n     * ```typescript\n     * let type = expressionTree.type;\n     * ```\n     * @memberof FilteringExpressionsTree\n     */\n    type?: FilteringExpressionsTreeType;\n\n    constructor(operator: FilteringLogic, fieldName?: string) {\n        this.operator = operator;\n        this.fieldName = fieldName;\n    }\n\n\n    /**\n     * Checks if filtering expressions tree is empty.\n     * @param expressionTree filtering expressions tree.\n     */\n    public static empty(expressionTree: IFilteringExpressionsTree): boolean {\n        return !expressionTree || !expressionTree.filteringOperands || !expressionTree.filteringOperands.length;\n    }\n\n    /**\n     * Returns the filtering expression for a column with the provided fieldName.\n     * ```typescript\n     * let filteringExpression = gridExpressionTree.find('Column Field');\n     * ```\n     * @memberof FilteringExpressionsTree\n     */\n    public find(fieldName: string): IFilteringExpressionsTree | IFilteringExpression {\n        const index = this.findIndex(fieldName);\n\n        if (index > -1) {\n            return this.filteringOperands[index];\n        }\n\n        return null;\n    }\n\n    /**\n     * Returns the index of the filtering expression for a column with the provided fieldName.\n     * ```typescript\n     * let filteringExpressionIndex = gridExpressionTree.findIndex('Column Field');\n     * ```\n     * @memberof FilteringExpressionsTree\n     */\n    public findIndex(fieldName: string): number {\n        let expr;\n        for (let i = 0; i < this.filteringOperands.length; i++) {\n            expr = this.filteringOperands[i];\n            if (expr instanceof FilteringExpressionsTree) {\n                if (this.isFilteringExpressionsTreeForColumn(expr, fieldName)) {\n                    return i;\n                }\n            } else {\n                if ((expr as IFilteringExpression).fieldName === fieldName) {\n                    return i;\n                }\n            }\n        }\n\n        return -1;\n    }\n\n    protected isFilteringExpressionsTreeForColumn(expressionsTree: IFilteringExpressionsTree, fieldName: string): boolean {\n        if (expressionsTree.fieldName === fieldName) {\n            return true;\n        }\n\n        let expr;\n        for (let i = 0; i < expressionsTree.filteringOperands.length; i++) {\n            expr = expressionsTree.filteringOperands[i];\n            if ((expr instanceof FilteringExpressionsTree)) {\n                return this.isFilteringExpressionsTreeForColumn(expr, fieldName);\n            } else {\n                return (expr as IFilteringExpression).fieldName === fieldName;\n            }\n        }\n\n        return false;\n    }\n}\n","import { FilteringLogic, IFilteringExpression } from './filtering-expression.interface';\nimport { FilteringExpressionsTree, IFilteringExpressionsTree } from './filtering-expressions-tree';\n\nexport interface IFilteringStrategy {\n    filter(data: any[], expressionsTree: IFilteringExpressionsTree, advancedExpressionsTree?: IFilteringExpressionsTree): any[];\n}\n\nexport class NoopFilteringStrategy implements IFilteringStrategy {\n    private static _instance: NoopFilteringStrategy = null;\n\n    private constructor() {  }\n\n    public static instance() {\n        return this._instance || (this._instance = new NoopFilteringStrategy());\n    }\n\n    public filter(data: any[], expressionsTree: IFilteringExpressionsTree, advancedExpressionsTree?: IFilteringExpressionsTree): any[] {\n        return data;\n    }\n}\n\nexport abstract class BaseFilteringStrategy implements IFilteringStrategy  {\n    public abstract filter(data: any[], expressionsTree: IFilteringExpressionsTree,\n        advancedExpressionsTree?: IFilteringExpressionsTree): any[];\n\n    protected abstract getFieldValue(rec: object, fieldName: string): any;\n\n    public findMatchByExpression(rec: object, expr: IFilteringExpression): boolean {\n        const cond = expr.condition;\n        const val = this.getFieldValue(rec, expr.fieldName);\n        return cond.logic(val, expr.searchVal, expr.ignoreCase);\n    }\n\n    public matchRecord(rec: object, expressions: IFilteringExpressionsTree | IFilteringExpression): boolean {\n        if (expressions) {\n            if (expressions instanceof FilteringExpressionsTree) {\n                const expressionsTree = expressions as IFilteringExpressionsTree;\n                const operator = expressionsTree.operator as FilteringLogic;\n                let matchOperand, operand;\n\n                if (expressionsTree.filteringOperands && expressionsTree.filteringOperands.length) {\n                    for (let i = 0; i < expressionsTree.filteringOperands.length; i++) {\n                        operand = expressionsTree.filteringOperands[i];\n                        matchOperand = this.matchRecord(rec, operand);\n\n                        // Return false if at least one operand does not match and the filtering logic is And\n                        if (!matchOperand && operator === FilteringLogic.And) {\n                            return false;\n                        }\n\n                        // Return true if at least one operand matches and the filtering logic is Or\n                        if (matchOperand && operator === FilteringLogic.Or) {\n                            return true;\n                        }\n                    }\n\n                    return matchOperand;\n                }\n\n                return true;\n            } else {\n                const expression = expressions as IFilteringExpression;\n                return this.findMatchByExpression(rec, expression);\n            }\n        }\n\n        return true;\n    }\n}\n\nexport class FilteringStrategy extends BaseFilteringStrategy {\n    private static _instace: FilteringStrategy = null;\n\n    public constructor() { super(); }\n\n    public static instance() {\n        return this._instace || (this._instace = new this());\n    }\n\n    public filter<T>(data: T[], expressionsTree: IFilteringExpressionsTree, advancedExpressionsTree?: IFilteringExpressionsTree): T[] {\n        let i;\n        let rec;\n        const len = data.length;\n        const res: T[] = [];\n        if ((FilteringExpressionsTree.empty(expressionsTree) && FilteringExpressionsTree.empty(advancedExpressionsTree)) || !len) {\n            return data;\n        }\n        for (i = 0; i < len; i++) {\n            rec = data[i];\n            if (this.matchRecord(rec, expressionsTree) && this.matchRecord(rec, advancedExpressionsTree)) {\n                res.push(rec);\n            }\n        }\n        return res;\n    }\n\n    protected getFieldValue(rec: object, fieldName: string): any {\n        return rec[fieldName];\n    }\n}\n","import { EventEmitter } from '@angular/core';\n\nexport enum TransactionType {\n    ADD = 'add',\n    DELETE = 'delete',\n    UPDATE = 'update'\n}\n\nexport interface Transaction {\n    id: any;\n    type: TransactionType;\n    newValue: any;\n}\n\n/**\n * @experimental\n * @hidden\n */\nexport interface HierarchicalTransaction extends Transaction {\n    path: any[];\n}\n\nexport interface State {\n    value: any;\n    recordRef: any;\n    type: TransactionType;\n}\n\n/**\n * @experimental\n * @hidden\n */\nexport interface HierarchicalState extends State {\n    path: any[];\n}\n\nexport interface TransactionService<T extends Transaction, S extends State> {\n    /**\n     * Returns whether transaction is enabled for this service\n     */\n    readonly enabled: boolean;\n\n    /**\n     * Event fired when transaction state has changed - add transaction, commit all transactions, undo and redo\n     */\n    onStateUpdate?: EventEmitter<void>;\n\n    /**\n     * @returns if there are any transactions in the Undo stack\n     */\n    canUndo: boolean;\n\n    /**\n     * @returns if there are any transactions in the Redo stack\n     */\n    canRedo: boolean;\n\n    /**\n     * Adds provided  transaction with recordRef if any\n     * @param transaction Transaction to be added\n     * @param recordRef Reference to the value of the record in the data source related to the changed item\n     */\n    add(transaction: T, recordRef?: any): void;\n\n    /**\n     * Returns all recorded transactions in chronological order\n     * @param id Optional record id to get transactions for\n     * @returns All transaction in the service or for the specified record\n     */\n    getTransactionLog(id?: any): T[];\n\n    /**\n     * Remove the last transaction if any\n     */\n    undo(): void;\n\n    /**\n     * Applies the last undone transaction if any\n     */\n    redo(): void;\n\n    /**\n     * Returns aggregated changes from all transactions\n     * @param mergeChanges If set to true will merge each state's value over relate recordRef\n     * and will record resulting value in the related transaction\n     * @returns Collection of aggregated transactions for each changed record\n     */\n    getAggregatedChanges(mergeChanges: boolean): T[];\n\n    /**\n     * Returns the state of the record with provided id\n     * @param id The id of the record\n     * @param pending Should get pending state\n     * @returns State of the record if any\n     */\n    getState(id: any, pending?: boolean): S;\n\n    /**\n     * Returns value of the required id including all uncommitted changes\n     * @param id The id of the record to return value for\n     * @param mergeChanges If set to true will merge state's value over relate recordRef\n     * and will return merged value\n     * @returns Value with changes or **null**\n     */\n    getAggregatedValue(id: any, mergeChanges: boolean): any;\n\n    /**\n     * Applies all transactions over the provided data\n     * @param data Data source to update\n     * @param id Optional record id to commit transactions for\n     */\n    commit(data: any[], id?: any): void;\n\n    /**\n     * Clears all transactions\n     * @param id Optional record id to clear transactions for\n     */\n    clear(id?: any): void;\n\n    /**\n     * Starts pending transactions. All transactions passed after call to startPending\n     * will not be added to transaction log\n     */\n    startPending(): void;\n\n    /**\n     * Clears all pending transactions and aggregated pending state. If commit is set to true\n     * commits pending states as single transaction\n     * @param commit Should commit the pending states\n     */\n    endPending(commit: boolean): void;\n}\n","import { IFilteringState } from './filtering-state.interface';\n\nimport { IgxSorting, IgxDataRecordSorting, IGridSortingStrategy } from './sorting-strategy';\nimport { IgxGrouping } from './grouping-strategy';\nimport { IGroupByResult } from './grouping-result.interface';\n\nimport { IPagingState, PagingError } from './paging-state.interface';\n\nimport { IGroupByKey } from './groupby-expand-state.interface';\nimport { IGroupByRecord } from './groupby-record.interface';\nimport { IGroupingState } from './groupby-state.interface';\nimport { ISortingExpression } from './sorting-expression.interface';\nimport { FilteringStrategy } from './filtering-strategy';\nimport { ITreeGridRecord } from '../grids/tree-grid';\nimport { cloneValue, mergeObjects } from '../core/utils';\nimport { Transaction, TransactionType, HierarchicalTransaction } from '../services/transaction/transaction';\nimport { getHierarchy, isHierarchyMatch } from './operations';\n\n/**\n * @hidden\n */\nexport enum DataType {\n    String = 'string',\n    Number = 'number',\n    Boolean = 'boolean',\n    Date = 'date'\n}\n\n/**\n * @hidden\n */\nexport class DataUtil {\n    public static sort<T>(data: T[], expressions: ISortingExpression[], sorting: IGridSortingStrategy = new IgxSorting()): T[] {\n        return sorting.sort(data, expressions);\n    }\n\n    public static treeGridSort(hierarchicalData: ITreeGridRecord[],\n        expressions: ISortingExpression[],\n        sorting: IGridSortingStrategy = new IgxDataRecordSorting(),\n        parent?: ITreeGridRecord): ITreeGridRecord[] {\n        let res: ITreeGridRecord[] = [];\n        hierarchicalData.forEach((hr: ITreeGridRecord) => {\n            const rec: ITreeGridRecord = DataUtil.cloneTreeGridRecord(hr);\n            rec.parent = parent;\n            if (rec.children) {\n                rec.children = DataUtil.treeGridSort(rec.children, expressions, sorting, rec);\n            }\n            res.push(rec);\n        });\n\n        res = DataUtil.sort(res, expressions, sorting);\n\n        return res;\n    }\n\n    public static cloneTreeGridRecord(hierarchicalRecord: ITreeGridRecord) {\n        const rec: ITreeGridRecord = {\n            rowID: hierarchicalRecord.rowID,\n            data: hierarchicalRecord.data,\n            children: hierarchicalRecord.children,\n            isFilteredOutParent: hierarchicalRecord.isFilteredOutParent,\n            level: hierarchicalRecord.level,\n            expanded: hierarchicalRecord.expanded\n        };\n        return rec;\n    }\n\n    public static group<T>(data: T[], state: IGroupingState, grid: any = null,\n        groupsRecords: any[] = [], fullResult: IGroupByResult = { data: [], metadata: [] }): IGroupByResult {\n        const grouping = new IgxGrouping();\n        groupsRecords.splice(0, groupsRecords.length);\n        return grouping.groupBy(data, state, grid, groupsRecords, fullResult);\n    }\n\n    public static page<T>(data: T[], state: IPagingState): T[] {\n        if (!state) {\n            return data;\n        }\n        const len = data.length;\n        const index = state.index;\n        const res = [];\n        const recordsPerPage = state.recordsPerPage;\n        state.metadata = {\n            countPages: 0,\n            countRecords: data.length,\n            error: PagingError.None\n        };\n        if (index < 0 || isNaN(index)) {\n            state.metadata.error = PagingError.IncorrectPageIndex;\n            return res;\n        }\n        if (recordsPerPage <= 0 || isNaN(recordsPerPage)) {\n            state.metadata.error = PagingError.IncorrectRecordsPerPage;\n            return res;\n        }\n        state.metadata.countPages = Math.ceil(len / recordsPerPage);\n        if (!len) {\n            return data;\n        }\n        if (index >= state.metadata.countPages) {\n            state.metadata.error = PagingError.IncorrectPageIndex;\n            return res;\n        }\n        return data.slice(index * recordsPerPage, (index + 1) * recordsPerPage);\n    }\n\n    public static filter<T>(data: T[], state: IFilteringState): T[] {\n        if (!state.strategy) {\n            state.strategy = new FilteringStrategy();\n        }\n        return state.strategy.filter(data, state.expressionsTree, state.advancedExpressionsTree);\n    }\n\n    public static correctPagingState(state: IPagingState, length: number) {\n        const maxPage = Math.ceil(length / state.recordsPerPage) - 1;\n        if (!isNaN(maxPage) && state.index > maxPage) {\n            state.index = maxPage;\n        }\n    }\n\n    public static getHierarchy(gRow: IGroupByRecord): Array<IGroupByKey> {\n        return getHierarchy(gRow);\n    }\n\n    public static isHierarchyMatch(h1: Array<IGroupByKey>, h2: Array<IGroupByKey>): boolean {\n        return isHierarchyMatch(h1, h2);\n    }\n\n    /**\n     * Merges all changes from provided transactions into provided data collection\n     * @param data Collection to merge\n     * @param transactions Transactions to merge into data\n     * @param primaryKey Primary key of the collection, if any\n     * @param deleteRows Should delete rows with DELETE transaction type from data\n     * @returns Provided data collections updated with all provided transactions\n     */\n    public static mergeTransactions<T>(data: T[], transactions: Transaction[], primaryKey?: any, deleteRows: boolean = false): T[] {\n        data.forEach((item: any, index: number) => {\n            const rowId = primaryKey ? item[primaryKey] : item;\n            const transaction = transactions.find(t => t.id === rowId);\n            if (transaction && transaction.type === TransactionType.UPDATE) {\n                data[index] = transaction.newValue;\n            }\n        });\n\n        if (deleteRows) {\n            transactions\n                .filter(t => t.type === TransactionType.DELETE)\n                .forEach(t => {\n                    const index = primaryKey ? data.findIndex(d => d[primaryKey] === t.id) : data.findIndex(d => d === t.id);\n                    if (0 <= index && index < data.length) {\n                        data.splice(index, 1);\n                    }\n                });\n        }\n\n        data.push(...transactions\n            .filter(t => t.type === TransactionType.ADD)\n            .map(t => t.newValue));\n\n        return data;\n    }\n\n    /**\n     * Merges all changes from provided transactions into provided hierarchical data collection\n     * @param data Collection to merge\n     * @param transactions Transactions to merge into data\n     * @param childDataKey Data key of child collections\n     * @param primaryKey Primary key of the collection, if any\n     * @param deleteRows Should delete rows with DELETE transaction type from data\n     * @returns Provided data collections updated with all provided transactions\n     */\n    public static mergeHierarchicalTransactions(\n        data: any[],\n        transactions: HierarchicalTransaction[],\n        childDataKey: any,\n        primaryKey?: any,\n        deleteRows: boolean = false): any[] {\n        for (const transaction of transactions) {\n            if (transaction.path) {\n                const parent = this.findParentFromPath(data, primaryKey, childDataKey, transaction.path);\n                let collection: any[] = parent ? parent[childDataKey] : data;\n                switch (transaction.type) {\n                    case TransactionType.ADD:\n                        //  if there is no parent this is ADD row at root level\n                        if (parent && !parent[childDataKey]) {\n                            parent[childDataKey] = collection = [];\n                        }\n                        collection.push(transaction.newValue);\n                        break;\n                    case TransactionType.UPDATE:\n                        const updateIndex = collection.findIndex(x => x[primaryKey] === transaction.id);\n                        if (updateIndex !== -1) {\n                            collection[updateIndex] = mergeObjects(cloneValue(collection[updateIndex]), transaction.newValue);\n                        }\n                        break;\n                    case TransactionType.DELETE:\n                        if (deleteRows) {\n                            const deleteIndex = collection.findIndex(r => r[primaryKey] === transaction.id);\n                            if (deleteIndex !== -1) {\n                                collection.splice(deleteIndex, 1);\n                            }\n                        }\n                        break;\n                }\n            } else {\n                //  if there is no path this is ADD row in root. Push the newValue to data\n                data.push(transaction.newValue);\n            }\n        }\n        return data;\n    }\n\n    public static parseValue(dataType: DataType, value: any): any {\n        if (dataType === DataType.Number) {\n            value = parseFloat(value);\n        }\n\n        return value;\n    }\n\n    private static findParentFromPath(data: any[], primaryKey: any, childDataKey: any, path: any[]): any {\n        let collection: any[] = data;\n        let result: any;\n\n        for (const id of path) {\n            result = collection && collection.find(x => x[primaryKey] === id);\n            if (!result) {\n                break;\n            }\n\n            collection = result[childDataKey];\n        }\n\n        return result;\n    }\n}\n","\n/**\n * @hidden\n */\nexport class ExportUtilities {\n    public static getKeysFromData(data: any[]) {\n        const length = data.length;\n        if (length === 0) {\n            return [];\n        }\n\n        const dataEntry = data[0];\n        const dataEntryMiddle = data[Math.floor(length / 2)];\n        const dataEntryLast = data[length - 1];\n\n        const keys1 = Object.keys(dataEntry);\n        const keys2 = Object.keys(dataEntryMiddle);\n        const keys3 = Object.keys(dataEntryLast);\n\n        const keys = new Set(keys1.concat(keys2).concat(keys3));\n\n        return !ExportUtilities.isSpecialData(data) ? Array.from(keys) : [ 'Column 1' ];\n    }\n\n    public static saveBlobToFile(blob: Blob, fileName) {\n        const a = document.createElement('a');\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveOrOpenBlob(blob, fileName);\n        } else {\n            const url = window.URL.createObjectURL(blob);\n            a.download = fileName;\n\n            a.href = url;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }\n    }\n\n    public static stringToArrayBuffer(s: string): ArrayBuffer {\n        const buf = new ArrayBuffer(s.length);\n        const view = new Uint8Array(buf);\n        for (let i = 0; i !== s.length; ++i) {\n            /* tslint:disable no-bitwise */\n            view[i] = s.charCodeAt(i) & 0xFF;\n            /* tslint:enable no-bitwise */\n        }\n        return buf;\n    }\n\n    public static isSpecialData(data: any[]): boolean {\n        const dataEntry = data[0];\n        return (typeof dataEntry === 'string' ||\n                typeof dataEntry === 'number' ||\n                dataEntry instanceof Date);\n    }\n\n    public static hasValue(value: any): boolean {\n        return value !== undefined && value !== null;\n    }\n\n    public static isNullOrWhitespaces(value: string): boolean {\n        return value === undefined || value === null || !value.trim();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { cloneArray, isEqual, mergeObjects } from '../core/utils';\nimport { DataUtil, DataType } from '../data-operations/data-util';\nimport { IFilteringExpression } from '../data-operations/filtering-expression.interface';\nimport { ISortingExpression, SortingDirection } from '../data-operations/sorting-expression.interface';\nimport { IgxGridCellComponent } from './cell.component';\nimport { IgxGridBaseDirective } from './grid-base.directive';\nimport { IgxRowDirective } from './row.directive';\nimport { IFilteringOperation } from '../data-operations/filtering-condition';\nimport { IFilteringExpressionsTree, FilteringExpressionsTree } from '../data-operations/filtering-expressions-tree';\nimport { Transaction, TransactionType, State } from '../services/transaction/transaction';\nimport { IgxCell, IgxRow } from './selection/selection.service';\nimport { GridType } from './common/grid.interface';\nimport { ColumnType } from './common/column.interface';\nimport { IRowToggleEventArgs } from './common/events';\nimport {\n    ROW_COLLAPSE_KEYS, ROW_EXPAND_KEYS\n} from '../core/utils';\nimport { first, debounceTime } from 'rxjs/operators';\n/**\n *@hidden\n */\n@Injectable()\nexport class GridBaseAPIService <T extends IgxGridBaseDirective & GridType> {\n\n    grid: T;\n    protected destroyMap: Map<string, Subject<boolean>> = new Map<string, Subject<boolean>>();\n\n    public get_column_by_name(name: string): ColumnType {\n        return this.grid.columnList.find((col: ColumnType) => col.field === name);\n    }\n\n    public get_summary_data() {\n        const grid = this.grid;\n        let data = grid.filteredData;\n        if (!data) {\n            if (grid.transactions.enabled) {\n                data = DataUtil.mergeTransactions(\n                    cloneArray(grid.data),\n                    grid.transactions.getAggregatedChanges(true),\n                    grid.primaryKey\n                );\n                const deletedRows = grid.transactions.getTransactionLog().filter(t => t.type === TransactionType.DELETE).map(t => t.id);\n                deletedRows.forEach(rowID => {\n                    const tempData = grid.primaryKey ? data.map(rec => rec[grid.primaryKey]) : data;\n                    const index = tempData.indexOf(rowID);\n                    if (index !== -1) {\n                       data.splice(index, 1);\n                    }\n                });\n            } else {\n                data = grid.data;\n            }\n        }\n        return data;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public getRowData(rowID: any) {\n        const data = this.get_all_data(this.grid.transactions.enabled);\n        const index = this.get_row_index_in_data(rowID);\n        return data[index];\n    }\n\n    // TODO: Refactor\n    public escape_editMode() {\n        this.grid.crudService.end();\n    }\n\n    // TODO: Refactor\n    public get_cell_inEditMode(): IgxCell {\n        return this.grid.crudService.cell;\n    }\n\n    public get_row_index_in_data(rowID: any): number {\n        const grid = this.grid as IgxGridBaseDirective;\n        if (!grid) {\n            return -1;\n        }\n        const data = this.get_all_data(grid.transactions.enabled);\n        return grid.primaryKey ? data.findIndex(record => record[grid.primaryKey] === rowID) : data.indexOf(rowID);\n    }\n\n    public get_row_by_key(rowSelector: any): IgxRowDirective<IgxGridBaseDirective & GridType> {\n        const primaryKey = this.grid.primaryKey;\n        if (primaryKey !== undefined && primaryKey !== null) {\n            return this.grid.dataRowList.find((row) => row.rowData[primaryKey] === rowSelector);\n        } else {\n            return this.grid.dataRowList.find((row) => row.rowData === rowSelector);\n        }\n    }\n\n    public get_row_by_index(rowIndex: number): IgxRowDirective<IgxGridBaseDirective & GridType> {\n        return this.grid.rowList.find((row) => row.index === rowIndex);\n    }\n\n    public get_cell_by_key(rowSelector: any, field: string): IgxGridCellComponent {\n        const row = this.get_row_by_key(rowSelector);\n        if (row && row.cells) {\n            return row.cells.find((cell) => cell.column.field === field);\n        }\n    }\n\n    public get_cell_by_index(rowIndex: number, columnIndex: number): IgxGridCellComponent {\n        const row = this.get_row_by_index(rowIndex);\n        if (row && row.cells) {\n            return row.cells.find((cell) => cell.columnIndex === columnIndex);\n        }\n    }\n\n    public get_cell_by_visible_index(rowIndex: number, columnIndex: number): IgxGridCellComponent {\n        const row = this.get_row_by_index(rowIndex);\n        if (row && row.cells) {\n            return row.cells.find((cell) => cell.visibleColumnIndex === columnIndex);\n        }\n    }\n\n    public submit_value() {\n        const cell = this.grid.crudService.cell;\n        if (cell ) {\n            const args = this.update_cell(cell, cell.editValue);\n            if (args.cancel) {\n                return;\n            }\n            this.escape_editMode();\n        }\n    }\n\n    update_cell(cell: IgxCell, value: any) {\n        const data = this.get_all_data(this.grid.transactions.enabled);\n        const index = this.get_row_index_in_data(cell.id.rowID);\n\n        cell.editValue = value;\n\n        const args = cell.createEditEventArgs();\n\n        this.grid.onCellEdit.emit(args);\n        if (args.cancel) {\n            return args;\n        }\n\n        // Cast to number after emit\n        // TODO: Clean up this\n        args.newValue = cell.castToNumber(args.newValue);\n\n        if (isEqual(args.oldValue, args.newValue)) {\n            return args;\n        }\n\n        this.grid.summaryService.clearSummaryCache(args);\n        this.updateData(this.grid, cell.id.rowID, data[index], cell.rowData, { [cell.column.field ]: args.newValue });\n        if (this.grid.primaryKey === cell.column.field) {\n             if (this.grid.selectionService.isRowSelected(cell.id.rowID)) {\n                this.grid.selectionService.deselectRow(cell.id.rowID);\n                this.grid.selectionService.selectRowById(args.newValue);\n            }\n            if (this.grid.hasSummarizedColumns) {\n                this.grid.summaryService.removeSummaries(cell.id.rowID);\n            }\n        }\n        if (!this.grid.rowEditable || !this.grid.crudService.row ||\n                this.grid.crudService.row.id !== cell.id.rowID || !this.grid.transactions.enabled) {\n            this.grid.summaryService.clearSummaryCache(args);\n            (this.grid as any)._pipeTrigger++;\n        }\n\n        return args;\n    }\n\n    /**\n     * Updates related row of provided grid's data source with provided new row value\n     * @param grid Grid to update data for\n     * @param rowID ID of the row to update\n     * @param rowValueInDataSource Initial value of the row as it is in data source\n     * @param rowCurrentValue Current value of the row as it is with applied previous transactions\n     * @param rowNewValue New value of the row\n     */\n    protected updateData(grid, rowID, rowValueInDataSource: any, rowCurrentValue: any, rowNewValue: {[x: string]: any}) {\n        if (grid.transactions.enabled) {\n            const transaction: Transaction = {\n                id: rowID,\n                type: TransactionType.UPDATE,\n                newValue: rowNewValue\n            };\n            grid.transactions.add(transaction, rowCurrentValue);\n        } else {\n            mergeObjects(rowValueInDataSource, rowNewValue);\n        }\n    }\n\n    _update_row(row: IgxRow, value?: any) {\n        const grid = this.grid;\n\n        const rowInEditMode = grid.crudService.row;\n        row.newData = value ? value : grid.transactions.getAggregatedValue(row.id, true);\n\n\n        if (rowInEditMode && row.id === rowInEditMode.id) {\n            row.data = { ...row.data, ...rowInEditMode.transactionState };\n        // TODO: Workaround for updating a row in edit mode through the API\n        } else if (this.grid.transactions.enabled) {\n            const state = grid.transactions.getState(row.id);\n            row.data = state ? Object.assign({}, row.data, state.value) : row.data;\n        }\n    }\n\n    update_row(row: IgxRow, value: any) {\n        const grid = this.grid;\n        const selected = grid.selectionService.isRowSelected(row.id);\n        const rowInEditMode = grid.crudService.row;\n        const data = this.get_all_data(grid.transactions.enabled);\n        const index = this.get_row_index_in_data(row.id);\n        const hasSummarized = grid.hasSummarizedColumns;\n\n        this._update_row(row, value);\n\n        const args = row.createEditEventArgs();\n\n        // If no valid row is found\n        if (index === -1) {\n            return args;\n        }\n\n        grid.onRowEdit.emit(args);\n\n        if (args.cancel) {\n            return args;\n        }\n\n        if (rowInEditMode) {\n            const hasChanges = grid.transactions.getState(args.rowID, true);\n            grid.transactions.endPending(false);\n            if (!hasChanges) {\n                return args;\n            }\n        }\n\n        if (!args.newValue) {\n            return args;\n        }\n\n        if (hasSummarized) {\n            grid.summaryService.removeSummaries(args.rowID);\n        }\n\n        this.updateData(grid, row.id, data[index], args.oldValue, args.newValue);\n        const newId = grid.primaryKey ? args.newValue[grid.primaryKey] : args.newValue;\n        if (selected) {\n            grid.selectionService.deselectRow(row.id);\n            grid.selectionService.selectRowById(newId);\n        }\n        if (hasSummarized) {\n            grid.summaryService.removeSummaries(newId);\n        }\n        (grid as any)._pipeTrigger++;\n\n        return args;\n    }\n\n\n\n    protected update_row_in_array(value: any, rowID: any, index: number) {\n        const grid = this.grid;\n        grid.data[index] = value;\n    }\n\n    public sort(expression: ISortingExpression): void {\n        if (expression.dir === SortingDirection.None) {\n            this.remove_grouping_expression(expression.fieldName);\n        }\n        const sortingState = cloneArray(this.grid.sortingExpressions);\n        this.prepare_sorting_expression([sortingState], expression);\n        this.grid.sortingExpressions = sortingState;\n    }\n\n    public sort_multiple(expressions: ISortingExpression[]): void {\n        const sortingState = cloneArray(this.grid.sortingExpressions);\n\n        for (const each of expressions) {\n            if (each.dir === SortingDirection.None) {\n                this.remove_grouping_expression(each.fieldName);\n            }\n            this.prepare_sorting_expression([sortingState], each);\n        }\n\n        this.grid.sortingExpressions = sortingState;\n    }\n\n    public filter(fieldName: string, term, conditionOrExpressionsTree: IFilteringOperation | IFilteringExpressionsTree,\n        ignoreCase: boolean) {\n        const grid = this.grid;\n        const filteringTree = grid.filteringExpressionsTree;\n        grid.endEdit(false);\n\n        if (grid.paging) {\n            grid.page = 0;\n        }\n\n        const fieldFilterIndex = filteringTree.findIndex(fieldName);\n        if (fieldFilterIndex > -1) {\n            filteringTree.filteringOperands.splice(fieldFilterIndex, 1);\n        }\n\n        this.prepare_filtering_expression(filteringTree, fieldName, term, conditionOrExpressionsTree, ignoreCase, fieldFilterIndex);\n        grid.filteringExpressionsTree = filteringTree;\n    }\n\n    public filter_global(term, condition, ignoreCase) {\n        if (!condition) {\n            return;\n        }\n\n        const grid = this.grid;\n        const filteringTree = grid.filteringExpressionsTree;\n        grid.endEdit(false);\n        if (grid.paging) {\n            grid.page = 0;\n        }\n\n        filteringTree.filteringOperands = [];\n        for (const column of grid.columns) {\n            this.prepare_filtering_expression(filteringTree, column.field, term,\n                condition, ignoreCase || column.filteringIgnoreCase);\n        }\n\n        grid.filteringExpressionsTree = filteringTree;\n    }\n\n    public clear_filter(fieldName: string) {\n        const grid = this.grid;\n        grid.endEdit(false);\n        const filteringState = grid.filteringExpressionsTree;\n        const index = filteringState.findIndex(fieldName);\n\n        if (index > -1) {\n            filteringState.filteringOperands.splice(index, 1);\n        } else if (!fieldName) {\n            filteringState.filteringOperands = [];\n        }\n\n        grid.filteringExpressionsTree = filteringState;\n    }\n\n    public clear_sort(fieldName: string) {\n        const sortingState = this.grid.sortingExpressions;\n        const index = sortingState.findIndex((expr) => expr.fieldName === fieldName);\n        if (index > -1) {\n            sortingState.splice(index, 1);\n            this.grid.sortingExpressions = sortingState;\n        }\n    }\n\n    protected prepare_filtering_expression(filteringState: IFilteringExpressionsTree, fieldName: string, searchVal,\n        conditionOrExpressionsTree: IFilteringOperation | IFilteringExpressionsTree, ignoreCase: boolean, insertAtIndex = -1) {\n\n        let newExpressionsTree;\n        const oldExpressionsTreeIndex = filteringState.findIndex(fieldName);\n        const expressionsTree = conditionOrExpressionsTree instanceof FilteringExpressionsTree ?\n            conditionOrExpressionsTree as IFilteringExpressionsTree : null;\n        const condition = conditionOrExpressionsTree instanceof FilteringExpressionsTree ?\n            null : conditionOrExpressionsTree as IFilteringOperation;\n        const newExpression: IFilteringExpression = { fieldName, searchVal, condition, ignoreCase };\n\n        if (oldExpressionsTreeIndex === -1) {\n            // no expressions tree found for this field\n            if (expressionsTree) {\n                if (insertAtIndex > -1) {\n                    filteringState.filteringOperands.splice(insertAtIndex, 0, expressionsTree);\n                } else {\n                    filteringState.filteringOperands.push(expressionsTree);\n                }\n            } else if (condition) {\n                // create expressions tree for this field and add the new expression to it\n                newExpressionsTree = new FilteringExpressionsTree(filteringState.operator, fieldName);\n                newExpressionsTree.filteringOperands.push(newExpression);\n                filteringState.filteringOperands.push(newExpressionsTree);\n            }\n        }\n    }\n\n    protected prepare_sorting_expression(stateCollections: Array<Array<any>>, expression: ISortingExpression) {\n        if (expression.dir === SortingDirection.None) {\n            stateCollections.forEach(state => {\n                state.splice(state.findIndex((expr) => expr.fieldName === expression.fieldName), 1);\n            });\n            return;\n        }\n\n        /**\n         * We need to make sure the states in each collection with same fields point to the same object reference.\n         * If the different state collections provided have different sizes we need to get the largest one.\n         * That way we can get the state reference from the largest one that has the same fieldName as the expression to prepare.\n         */\n        let maxCollection = stateCollections[0];\n        for (let i = 1; i < stateCollections.length; i++) {\n            if (maxCollection.length < stateCollections[i].length) {\n                maxCollection = stateCollections[i];\n            }\n        }\n        const maxExpr = maxCollection.find((expr) => expr.fieldName === expression.fieldName);\n\n        stateCollections.forEach(collection => {\n            const myExpr = collection.find((expr) => expr.fieldName === expression.fieldName);\n            if (!myExpr && !maxExpr) {\n                // Expression with this fieldName is missing from the current and the max collection.\n                collection.push(expression);\n            } else if (!myExpr && maxExpr) {\n                // Expression with this fieldName is missing from the current and but the max collection has.\n                collection.push(maxExpr);\n                Object.assign(maxExpr, expression);\n            } else {\n                // The current collection has the expression so just update it.\n                Object.assign(myExpr, expression);\n            }\n        });\n    }\n\n    protected remove_grouping_expression(fieldName) {\n    }\n\n    public clear_groupby(name?: string | Array<string>) {\n    }\n\n    public should_apply_number_style(column: ColumnType): boolean {\n        return column.dataType === DataType.Number;\n    }\n\n    public get_data(): any[] {\n        const grid = this.grid;\n        const data = grid.data ? grid.data : [];\n        return data;\n    }\n\n    public get_all_data(includeTransactions = false): any[] {\n        const grid = this.grid;\n        let data = grid.data ? grid.data : [];\n        data = includeTransactions ? grid.dataWithAddedInTransactionRows : data;\n        return data;\n    }\n\n    public get_filtered_data(): any[] {\n        return this.grid.filteredData;\n    }\n\n    protected getSortStrategyPerColumn(fieldName: string) {\n        return this.get_column_by_name(fieldName) ?\n            this.get_column_by_name(fieldName).sortStrategy : undefined;\n    }\n\n    public addRowToData(rowData: any) {\n        // Add row goes to transactions and if rowEditable is properly implemented, added rows will go to pending transactions\n        // If there is a row in edit - > commit and close\n        const grid = this.grid;\n        if (grid.transactions.enabled) {\n            const transactionId = grid.primaryKey ? rowData[grid.primaryKey] : rowData;\n            const transaction: Transaction = { id: transactionId, type: TransactionType.ADD, newValue: rowData };\n            grid.transactions.add(transaction);\n        } else {\n            grid.data.push(rowData);\n        }\n    }\n\n    public deleteRowFromData(rowID: any, index: number) {\n        //  if there is a row (index !== 0) delete it\n        //  if there is a row in ADD or UPDATE state change it's state to DELETE\n        const grid = this.grid;\n        if (index !== -1) {\n            if (grid.transactions.enabled) {\n                const transaction: Transaction = { id: rowID, type: TransactionType.DELETE, newValue: null };\n                grid.transactions.add(transaction, grid.data[index]);\n            } else {\n                grid.data.splice(index, 1);\n            }\n        } else {\n            const state: State = grid.transactions.getState(rowID);\n            grid.transactions.add({ id: rowID, type: TransactionType.DELETE, newValue: null }, state && state.recordRef);\n        }\n    }\n\n    public deleteRowById(rowId: any) {\n        let index: number;\n        const grid = this.grid;\n        const data = this.get_all_data();\n        if (grid.primaryKey) {\n            index = data.map((record) => record[grid.primaryKey]).indexOf(rowId);\n        } else {\n            index = data.indexOf(rowId);\n        }\n        const state: State = grid.transactions.getState(rowId);\n        const hasRowInNonDeletedState = state && state.type !== TransactionType.DELETE;\n\n        //  if there is a row (index !== -1) and the we have cell in edit mode on same row exit edit mode\n        //  if there is no row (index === -1), but there is a row in ADD or UPDATE state do as above\n        //  Otherwise just exit - there is nothing to delete\n        if (index !== -1 || hasRowInNonDeletedState) {\n            // Always exit edit when row is deleted\n            grid.endEdit(true);\n        } else {\n            return;\n        }\n\n        //  TODO: should we emit this when cascadeOnDelete is true for each row?!?!\n        grid.onRowDeleted.emit({ data: data[index] });\n\n        this.deleteRowFromData(rowId, index);\n\n        grid.selectionService.isRowSelected(rowId) ? grid.selectionService.deselectRow(rowId) : grid.selectionService.clearHeaderCBState();\n        (grid as any)._pipeTrigger++;\n        grid.notifyChanges();\n        // Data needs to be recalculated if transactions are in place\n        // If no transactions, `data` will be a reference to the grid getter, otherwise it will be stale\n        const dataAfterDelete = grid.transactions.enabled ? grid.dataWithAddedInTransactionRows : data;\n        grid.refreshSearch();\n        if (dataAfterDelete.length % grid.perPage === 0 && dataAfterDelete.length / grid.perPage - 1 < grid.page && grid.page !== 0) {\n            grid.page--;\n        }\n    }\n\n    public get_row_id(rowData) {\n        return this.grid.primaryKey ? rowData[this.grid.primaryKey] : rowData;\n    }\n\n    public row_deleted_transaction(rowID: any): boolean {\n        const grid = this.grid;\n        if (!grid) {\n            return false;\n        }\n        if (!grid.transactions.enabled) {\n            return false;\n        }\n        const state = grid.transactions.getState(rowID);\n        if (state) {\n            return state.type === TransactionType.DELETE;\n        }\n\n        return false;\n    }\n\n    public atInexistingPage(): boolean {\n        return this.grid.totalPages - 1 > this.grid.page;\n    }\n\n    public get_row_expansion_state(record: any): boolean {\n        const grid = this.grid;\n        const states = grid.expansionStates;\n        const rowID = grid.primaryKey ? record[grid.primaryKey] : record;\n        const expanded = states.get(rowID);\n\n        if (expanded !== undefined) {\n            return expanded;\n        } else {\n            return grid.getDefaultExpandState(record);\n        }\n    }\n\n    public set_row_expansion_state(rowID: any, expanded: boolean, event?: Event) {\n        const grid = this.grid;\n        const expandedStates = grid.expansionStates;\n\n        if (!this.allow_expansion_state_change(rowID, expanded)) {\n            return;\n        }\n\n        const args: IRowToggleEventArgs = {\n            rowID: rowID,\n            expanded: expanded,\n            event: event,\n            cancel: false\n        };\n\n        grid.onRowToggle.emit(args);\n\n        if (args.cancel) {\n            return;\n        }\n        expandedStates.set(rowID, expanded);\n        grid.expansionStates = expandedStates;\n        if (grid.rowEditable) {\n            grid.endEdit(true);\n        }\n        const eventKey = event && (event as any).key ? (event as any).key.toLowerCase() : null;\n        if (eventKey && this.isToggleKey(eventKey)) {\n            (this.grid as any).zone.onStable.pipe(debounceTime(30)).pipe(first()).subscribe(() => {\n                this.focusActiveCell(rowID);\n            });\n        }\n    }\n\n    public get_rec_by_id(rowID) {\n        return  this.grid.primaryKey ? this.getRowData(rowID) : rowID;\n    }\n\n    public allow_expansion_state_change(rowID, expanded) {\n        return this.grid.expansionStates.get(rowID) !== expanded;\n    }\n\n    private isToggleKey(key: string): boolean {\n        return ROW_COLLAPSE_KEYS.has(key) || ROW_EXPAND_KEYS.has(key);\n    }\n\n    private focusActiveCell(rowID) {\n        // persist focused cell\n        const isVirtualized = !this.grid.verticalScrollContainer.dc.instance.notVirtual;\n        const el = this.grid.selectionService.activeElement;\n        if (isVirtualized && el) {\n            const cell = this.get_cell_by_key(rowID, this.grid.visibleColumns[el.column].field);\n            if (cell) {\n                cell.nativeElement.focus();\n            }\n        }\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxTreeGridComponent } from './tree-grid.component';\nimport { BaseFilteringStrategy, IFilteringStrategy } from '../../data-operations/filtering-strategy';\nimport { IFilteringExpressionsTree, FilteringExpressionsTree } from '../../data-operations/filtering-expressions-tree';\nimport { IFilteringState } from '../../data-operations/filtering-state.interface';\nimport { ITreeGridRecord } from './tree-grid.interfaces';\nimport { IgxTreeGridAPIService } from './tree-grid-api.service';\nimport { IgxGridBaseDirective } from '../grid';\nimport { GridType } from '../common/grid.interface';\n\n/** @hidden */\nexport class TreeGridFilteringStrategy extends BaseFilteringStrategy {\n    public filter(data: ITreeGridRecord[], expressionsTree: IFilteringExpressionsTree,\n        advancedExpressionsTree?: IFilteringExpressionsTree): ITreeGridRecord[] {\n        return this.filterImpl(data, expressionsTree, advancedExpressionsTree, undefined);\n    }\n\n    private filterImpl(data: ITreeGridRecord[], expressionsTree: IFilteringExpressionsTree,\n        advancedExpressionsTree: IFilteringExpressionsTree, parent: ITreeGridRecord): ITreeGridRecord[] {\n        let i: number;\n        let rec: ITreeGridRecord;\n        const len = data.length;\n        const res: ITreeGridRecord[] = [];\n        if ((FilteringExpressionsTree.empty(expressionsTree) && FilteringExpressionsTree.empty(advancedExpressionsTree)) || !len) {\n            return data;\n        }\n        for (i = 0; i < len; i++) {\n            rec = DataUtil.cloneTreeGridRecord(data[i]);\n            rec.parent = parent;\n            if (rec.children) {\n                const filteredChildren = this.filterImpl(rec.children, expressionsTree, advancedExpressionsTree, rec);\n                rec.children = filteredChildren.length > 0 ? filteredChildren : null;\n            }\n\n            if (this.matchRecord(rec, expressionsTree) && this.matchRecord(rec, advancedExpressionsTree)) {\n                res.push(rec);\n            } else if (rec.children && rec.children.length > 0) {\n                rec.isFilteredOutParent = true;\n                res.push(rec);\n            }\n        }\n        return res;\n    }\n\n    protected getFieldValue(rec: object, fieldName: string): any {\n        const hierarchicalRecord = <ITreeGridRecord>rec;\n        return hierarchicalRecord.data[fieldName];\n    }\n}\n\n/** @hidden */\n@Pipe({\n    name: 'treeGridFiltering',\n    pure: true\n})\nexport class IgxTreeGridFilteringPipe implements PipeTransform {\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n     }\n\n    public transform(hierarchyData: ITreeGridRecord[], expressionsTree: IFilteringExpressionsTree,\n        filterStrategy: IFilteringStrategy,\n        advancedFilteringExpressionsTree: IFilteringExpressionsTree, id: string,\n        pipeTrigger: number, filteringPipeTrigger: number): ITreeGridRecord[] {\n        const grid: IgxTreeGridComponent = this.gridAPI.grid;\n        const state: IFilteringState = {\n            expressionsTree: expressionsTree,\n            advancedExpressionsTree: advancedFilteringExpressionsTree,\n            strategy: new TreeGridFilteringStrategy()\n        };\n\n        if (filterStrategy) {\n            state.strategy = filterStrategy;\n        }\n\n        this.resetFilteredOutProperty(grid.records);\n\n        if (FilteringExpressionsTree.empty(state.expressionsTree) && FilteringExpressionsTree.empty(state.advancedExpressionsTree)) {\n            grid.filteredData = null;\n            return hierarchyData;\n        }\n\n        const result = this.filter(hierarchyData, state);\n        const filteredData: any[] = [];\n        this.expandAllRecursive(grid, result, grid.expansionStates, filteredData);\n        grid.filteredData = filteredData;\n\n        return result;\n    }\n\n    private resetFilteredOutProperty(map: Map<any, ITreeGridRecord>) {\n        const keys = Array.from(map.keys());\n        for (let i = 0; i < keys.length; i++) {\n            map.get(keys[i]).isFilteredOutParent = undefined;\n        }\n    }\n\n    private expandAllRecursive(grid: IgxTreeGridComponent, data: ITreeGridRecord[],\n        expandedStates: Map<any, boolean>, filteredData: any[]) {\n        for (let i = 0; i < data.length; i++) {\n            const rec = data[i];\n            filteredData.push(rec.data);\n            this.updateNonProcessedRecord(grid, rec);\n\n            if (rec.children && rec.children.length > 0) {\n                expandedStates.set(rec.rowID, true);\n                this.expandAllRecursive(grid, rec.children, expandedStates, filteredData);\n            }\n        }\n    }\n\n    private updateNonProcessedRecord(grid: IgxTreeGridComponent, record: ITreeGridRecord) {\n        const rec = grid.records.get(record.rowID);\n        rec.isFilteredOutParent = record.isFilteredOutParent;\n    }\n\n    private filter(data: ITreeGridRecord[], state: IFilteringState): ITreeGridRecord[] {\n        return state.strategy.filter(data, state.expressionsTree, state.advancedExpressionsTree);\n    }\n}\n","import { EventEmitter } from '@angular/core';\n\nimport { cloneValue, IBaseEventArgs } from '../../core/utils';\nimport { DataUtil } from '../../data-operations/data-util';\n\nimport { ExportUtilities } from './export-utilities';\nimport { IgxExporterOptionsBase } from './exporter-options-base';\nimport { ITreeGridRecord } from '../../grids/tree-grid/tree-grid.interfaces';\nimport { TreeGridFilteringStrategy } from '../../grids/tree-grid/tree-grid.filtering.pipe';\n\n/**\n * onRowExport event arguments\n * this.exporterService.onRowExport.subscribe((args: IRowExportingEventArgs) => {\n * // set args properties here\n * })\n */\nexport interface IRowExportingEventArgs extends IBaseEventArgs {\n    /**\n     * Contains the exporting row data\n     */\n    rowData: any;\n\n    /**\n     * Contains the exporting row index\n     */\n    rowIndex: number;\n\n    /**\n     * Skip the exporting row when set to true\n     */\n    cancel: boolean;\n}\n\n/**\n    * onColumnExport event arguments\n    * ```typescript\n    * this.exporterService.onColumnExport.subscribe((args: IColumnExportingEventArgs) => {\n    * // set args properties here\n    * });\n    * ```\n    */\nexport interface IColumnExportingEventArgs extends IBaseEventArgs {\n    /**\n     * Contains the exporting column header\n     */\n    header: string;\n\n    /**\n     * Contains the exporting column field name\n     */\n    field: string;\n\n    /**\n     * Contains the exporting column index\n     */\n    columnIndex: number;\n\n    /**\n     * Skip the exporting column when set to true\n     */\n    cancel: boolean;\n\n    /**\n     * Export the column's data without applying its formatter, when set to true\n     */\n    skipFormatter: boolean;\n}\n\nexport abstract class IgxBaseExporter {\n    private _columnList: any[];\n    private flatRecords = [];\n\n    protected _isTreeGrid = false;\n    protected _indexOfLastPinnedColumn = -1;\n    protected _sort = null;\n\n    /**\n     * This event is emitted when a row is exported.\n     * ```typescript\n     * this.exporterService.onRowExport.subscribe((args: IRowExportingEventArgs) => {\n     * // put event handler code here\n     * });\n     * ```\n     * @memberof IgxBaseExporter\n     */\n    public onRowExport = new EventEmitter<IRowExportingEventArgs>();\n\n    /**\n     * This event is emitted when a column is exported.\n     * ```typescript\n     * this.exporterService.onColumnExport.subscribe((args: IColumnExportingEventArgs) => {\n     * // put event handler code here\n     * });\n     * ```\n     * @memberof IgxBaseExporter\n     */\n    public onColumnExport = new EventEmitter<IColumnExportingEventArgs>();\n\n    /**\n     * Method for exporting IgxGrid component's data.\n     * ```typescript\n     * this.exporterService.export(this.igxGridForExport, this.exportOptions);\n     * ```\n     * @memberof IgxBaseExporter\n     */\n    public export(grid: any, options: IgxExporterOptionsBase): void {\n        if (options === undefined || options === null) {\n            throw Error('No options provided!');\n        }\n\n        const columns = grid.columnList.toArray();\n        this._columnList = new Array<any>(columns.length);\n\n        const hiddenColumns = [];\n        let lastVisbleColumnIndex = -1;\n\n        columns.forEach((column) => {\n            const columnHeader = column.header !== '' ? column.header : column.field;\n            const exportColumn = !column.hidden || options.ignoreColumnsVisibility;\n            const index = options.ignoreColumnsOrder ? column.index : column.visibleIndex;\n\n            const columnInfo = {\n                header: columnHeader,\n                field: column.field,\n                skip: !exportColumn,\n                formatter: column.formatter,\n                skipFormatter: false\n            };\n\n            if (index !== -1) {\n                this._columnList[index] = columnInfo;\n                lastVisbleColumnIndex = Math.max(lastVisbleColumnIndex, index);\n            } else {\n                hiddenColumns.push(columnInfo);\n            }\n\n            if (column.pinned && exportColumn) {\n                this._indexOfLastPinnedColumn++;\n            }\n        });\n\n        // Append the hidden columns to the end of the list\n        hiddenColumns.forEach((hiddenColumn) => {\n            this._columnList[++lastVisbleColumnIndex] = hiddenColumn;\n        });\n\n        const data = this.prepareData(grid, options);\n        this.exportData(data, options);\n    }\n\n    /**\n     * Method for exporting any kind of array data.\n     * ```typescript\n     * this.exporterService.exportData(this.arrayForExport, this.exportOptions);\n     * ```\n     * @memberof IgxBaseExporter\n     */\n    public exportData(data: any[], options: IgxExporterOptionsBase): void {\n        if (options === undefined || options === null) {\n            throw Error('No options provided!');\n        }\n\n        if (!this._columnList || this._columnList.length === 0) {\n            const keys = ExportUtilities.getKeysFromData(data);\n            this._columnList = keys.map((k) => ({ header: k, field: k, skip: false }));\n        }\n\n        let skippedPinnedColumnsCount = 0;\n        let columnsWithoutHeaderCount = 1;\n        this._columnList.forEach((column, index) => {\n            if (!column.skip) {\n                const columnExportArgs = {\n                    header: ExportUtilities.isNullOrWhitespaces(column.header) ?\n                        'Column' + columnsWithoutHeaderCount++ : column.header,\n                    field: column.field,\n                    columnIndex: index,\n                    cancel: false,\n                    skipFormatter: false\n                };\n                this.onColumnExport.emit(columnExportArgs);\n\n                column.header = columnExportArgs.header;\n                column.skip = columnExportArgs.cancel;\n                column.skipFormatter = columnExportArgs.skipFormatter;\n\n                if (column.skip && index <= this._indexOfLastPinnedColumn) {\n                    skippedPinnedColumnsCount++;\n                }\n\n                if (this._sort && this._sort.fieldName === column.field) {\n                    if (column.skip) {\n                        this._sort = null;\n                    } else {\n                        this._sort.fieldName = column.header;\n                    }\n                }\n            }\n        });\n\n        this._indexOfLastPinnedColumn -= skippedPinnedColumnsCount;\n\n        const dataToExport = new Array<any>();\n        const isSpecialData = ExportUtilities.isSpecialData(data);\n\n        data.forEach((row, index) => {\n            this.exportRow(dataToExport, row, index, isSpecialData);\n        });\n\n        this.exportDataImplementation(dataToExport, options);\n        this.resetDefaults();\n    }\n\n    protected abstract exportDataImplementation(data: any[], options: IgxExporterOptionsBase): void;\n\n    private exportRow(data: any[], rowData: any, index: number, isSpecialData: boolean) {\n        let row;\n\n        if (!isSpecialData) {\n            row = this._columnList.reduce((a, e) => {\n                if (!e.skip) {\n                    const rawValue = this._isTreeGrid ? rowData.data[e.field] : rowData[e.field];\n                    a[e.header] = e.formatter && !e.skipFormatter ? e.formatter(rawValue) : rawValue;\n                }\n                return a;\n            }, {});\n        } else {\n            row = this._isTreeGrid ? rowData.data : rowData;\n        }\n\n        const rowArgs = {\n            rowData: row,\n            rowIndex: index,\n            cancel: false\n        };\n        this.onRowExport.emit(rowArgs);\n\n        if (!rowArgs.cancel) {\n            data.push({ rowData: rowArgs.rowData, originalRowData: rowData });\n        }\n    }\n\n    private prepareData(grid: any, options: IgxExporterOptionsBase): any[] {\n        this.flatRecords = [];\n        let rootRecords = grid.rootRecords;\n        this._isTreeGrid = rootRecords !== undefined;\n\n        if (this._isTreeGrid) {\n            this.prepareHierarchicalData(rootRecords);\n        }\n\n        let data = this._isTreeGrid ? this.flatRecords : grid.data;\n\n        if (((grid.filteringExpressionsTree &&\n            grid.filteringExpressionsTree.filteringOperands.length > 0) ||\n            (grid.advancedFilteringExpressionsTree &&\n            grid.advancedFilteringExpressionsTree.filteringOperands.length > 0)) &&\n            !options.ignoreFiltering) {\n            const filteringState: any = {\n                expressionsTree: grid.filteringExpressionsTree,\n                advancedExpressionsTree: grid.advancedFilteringExpressionsTree,\n                logic: grid.filteringLogic\n            };\n\n            if (this._isTreeGrid) {\n                this.flatRecords = [];\n                filteringState.strategy = (grid.filterStrategy) ? grid.filterStrategy : new TreeGridFilteringStrategy();\n                rootRecords = filteringState.strategy.filter(rootRecords,\n                    filteringState.expressionsTree, filteringState.advancedExpressionsTree);\n                this.prepareHierarchicalData(rootRecords);\n                data = this.flatRecords;\n            } else {\n                filteringState.strategy = grid.filterStrategy;\n                data = DataUtil.filter(data, filteringState);\n            }\n        }\n\n        if (grid.sortingExpressions &&\n            grid.sortingExpressions.length > 0 &&\n            !options.ignoreSorting) {\n            this._sort = cloneValue(grid.sortingExpressions[0]);\n\n            if (this._isTreeGrid) {\n                this.flatRecords = [];\n                rootRecords = DataUtil.treeGridSort(rootRecords, grid.sortingExpressions, grid.sortStrategy);\n                this.prepareHierarchicalData(rootRecords);\n                data = this.flatRecords;\n            } else {\n                data = DataUtil.sort(data, grid.sortingExpressions, grid.sortStrategy);\n            }\n        }\n\n        return data;\n    }\n\n    private prepareHierarchicalData(records: ITreeGridRecord[]) {\n        if (!records) {\n            return;\n        }\n        for (let i = 0; i < records.length; i++) {\n            const hierarchicalRecord = records[i];\n\n            this.flatRecords.push(hierarchicalRecord);\n            this.prepareHierarchicalData(hierarchicalRecord.children);\n        }\n    }\n\n    private resetDefaults() {\n        this._columnList = [];\n        this._indexOfLastPinnedColumn = -1;\n        this._sort = null;\n        this.flatRecords = [];\n    }\n}\n","import { ExportUtilities } from '../exporter-common/export-utilities';\n\n/**\n * @hidden\n */\nexport class CharSeparatedValueData {\n    private _headerRecord = '';\n    private _dataRecords = '';\n    private _eor = '\\r\\n';\n    private _delimiter;\n    private _escapeCharacters = ['\\r', '\\n', '\\r\\n'];\n    private _delimiterLength = 1;\n    private _isSpecialData = false;\n\n    constructor(private _data: any[], valueDelimiter: string)  {\n        this.setDelimiter(valueDelimiter);\n    }\n\n    public prepareData() {\n        if (!this._data || this._data.length === 0) {\n            return '';\n        }\n\n        const keys = ExportUtilities.getKeysFromData(this._data);\n\n        if (keys.length === 0) {\n            return '';\n        }\n\n        this._isSpecialData = ExportUtilities.isSpecialData(this._data);\n        this._escapeCharacters.push(this._delimiter);\n\n        this._headerRecord = this.processHeaderRecord(keys, this._escapeCharacters);\n        this._dataRecords = this.processDataRecords(this._data, keys, this._escapeCharacters);\n\n        return this._headerRecord + this._dataRecords;\n    }\n\n    private processField(value, escapeChars): string {\n        let safeValue = ExportUtilities.hasValue(value) ? String(value) : '';\n        if (escapeChars.some((v) => safeValue.includes(v))) {\n            safeValue = `\"${safeValue}\"`;\n        }\n        return safeValue + this._delimiter;\n    }\n\n    private processHeaderRecord(keys, escapeChars): string {\n        let recordData = '';\n        for (const keyName of keys) {\n            recordData += this.processField(keyName, this._escapeCharacters);\n        }\n\n        return recordData.slice(0, -this._delimiterLength) + this._eor;\n    }\n\n    private processRecord(record, keys, escapeChars): string {\n        let recordData = '';\n        for (const keyName of keys) {\n\n            const value = (record[keyName] !== undefined) ? record[keyName] : this._isSpecialData ? record : '';\n            recordData += this.processField(value, this._escapeCharacters);\n        }\n\n        return recordData.slice(0, -this._delimiterLength) + this._eor;\n    }\n\n    private processDataRecords(currentData, keys, escapeChars) {\n        let dataRecords = '';\n        for (const row of currentData) {\n            dataRecords += this.processRecord(row, keys, escapeChars);\n        }\n\n        return dataRecords;\n    }\n\n    private setDelimiter(value) {\n        this._delimiter = value;\n        this._delimiterLength = value.length;\n    }\n}\n","export abstract class IgxExporterOptionsBase {\n    private _fileName: string;\n\n    /**\n     * Specifies whether hidden columns should be exported.\n     * ```typescript\n     * let ignoreColumnsVisibility = this.exportOptions.ignoreColumnsVisibility;\n     * this.exportOptions.ignoreColumnsVisibility = true;\n     * ```\n     * @memberof IgxExporterOptionsBase\n     */\n    public ignoreColumnsVisibility = false;\n\n    /**\n     * Specifies whether filtered out rows should be exported.\n     * ```typescript\n     * let ignoreFiltering = this.exportOptions.ignoreFiltering;\n     * this.exportOptions.ignoreFiltering = true;\n     * ```\n     * @memberof IgxExporterOptionsBase\n     */\n    public ignoreFiltering = false;\n\n    /**\n     * Specifies if the exporter should ignore the current column order in the IgxGrid.\n     * ```typescript\n     * let ignoreColumnsOrder = this.exportOptions.ignoreColumnsOrder;\n     * this.exportOptions.ignoreColumnsOrder = true;\n     * ```\n     * @memberof IgxExporterOptionsBase\n     */\n    public ignoreColumnsOrder = false;\n\n    /**\n     * Specifies whether the exported data should be sorted as in the provided IgxGrid.\n     * ```typescript\n     * let ignoreSorting = this.exportOptions.ignoreSorting;\n     * this.exportOptions.ignoreSorting = true;\n     * ```\n     * @memberof IgxExporterOptionsBase\n     */\n    public ignoreSorting = false;\n\n    constructor(fileName: string, protected _fileExtension: string) {\n        this.setFileName(fileName);\n    }\n\n    private setFileName(fileName: string): void {\n        this._fileName = fileName + (fileName.endsWith(this._fileExtension) === false ? this._fileExtension : '');\n    }\n\n    /**\n     * Gets the file name which will be used for the exporting operation.\n     * ```typescript\n     * let fileName = this.exportOptions.fileName;\n     * ```\n     * @memberof IgxExporterOptionsBase\n     */\n    get fileName() {\n        return this._fileName;\n    }\n\n    /**\n     * Sets the file name which will be used for the exporting operation.\n     * ```typescript\n     * this.exportOptions.fileName = 'exportedData01';\n     * ```\n     * @memberof IgxExporterOptionsBase\n     */\n    set fileName(value) {\n        this.setFileName(value);\n    }\n\n}\n","import { IgxExporterOptionsBase } from '../exporter-common/exporter-options-base';\n\n/**\n * Objects of this class are used to configure the CSV exporting process.\n */\nexport class IgxCsvExporterOptions extends IgxExporterOptionsBase {\n\n    private _valueDelimiter;\n    private _fileType;\n\n    constructor(fileName: string, fileType: CsvFileTypes) {\n        super(fileName, IgxCsvExporterOptions.getExtensionFromFileType(fileType));\n        this.setFileType(fileType);\n        this.setDelimiter();\n    }\n\n    private static getExtensionFromFileType(fType: CsvFileTypes) {\n        let extension = '';\n        switch (fType) {\n            case CsvFileTypes.CSV:\n                extension = '.csv';\n                break;\n            case CsvFileTypes.TSV:\n                extension = '.tsv';\n                break;\n            case CsvFileTypes.TAB:\n                extension = '.tab';\n                break;\n            default:\n                throw Error('Unsupported CSV file type!');\n        }\n        return extension;\n    }\n\n    /**\n     * Gets the value delimiter which will be used for the exporting operation.\n     * ```typescript\n     * let delimiter = this.exportOptions.valueDelimiter;\n     * ```\n     * @memberof IgxCsvExporterOptions\n     */\n    get valueDelimiter() {\n        return this._valueDelimiter;\n    }\n\n    /**\n     * Sets a value delimiter which will overwrite the default delimiter of the selected export format.\n     * ```typescript\n     * this.exportOptions.valueDelimiter = '|';\n     * ```\n     * @memberof IgxCsvExporterOptions\n     */\n    set valueDelimiter(value) {\n        this.setDelimiter(value);\n    }\n\n    /**\n     * Gets the CSV export format.\n     * ```typescript\n     * let filetype = this.exportOptions.fileType;\n     * ```\n     * @memberof IgxCsvExporterOptions\n     */\n    get fileType() {\n        return this._fileType;\n    }\n\n    /**\n     * Sets the CSV export format.\n     * ```typescript\n     * this.exportOptions.fileType = CsvFileTypes.TAB;\n     * ```\n     * @memberof IgxCsvExporterOptions\n     */\n    set fileType(value) {\n        this.setFileType(value);\n    }\n\n    private setFileType(value) {\n        if (value !== undefined && value !== null && value !== this._fileType) {\n            this._fileType = value;\n            const extension = IgxCsvExporterOptions.getExtensionFromFileType(value);\n            if (!this.fileName.endsWith(extension)) {\n                const oldExt = '.' + this.fileName.split('.').pop();\n                const newName = this.fileName.replace(oldExt, extension);\n                this._fileExtension = extension;\n                this.fileName = newName;\n            }\n        }\n    }\n\n    private setDelimiter(value?) {\n        if (value !== undefined && value !== '' && value !== null) {\n            this._valueDelimiter = value;\n        } else {\n            switch (this.fileType) {\n                case CsvFileTypes.CSV:\n                    this._valueDelimiter = ',';\n                    break;\n                case CsvFileTypes.TSV:\n                case CsvFileTypes.TAB:\n                    this._valueDelimiter = '\\t';\n                    break;\n            }\n        }\n    }\n}\n\n/**\n * This enumeration is used to configure the default value separator\n * as well as the default file extension used when performing CSV exporting.\n */\nexport enum CsvFileTypes {\n    /**\n     * Character Separated Values, default separator is \"comma\", default file extension is .csv\n     */\n    CSV,\n    /**\n     * Tab Separated Values, default separator is tab, default file extension is .tsv\n     */\n    TSV,\n    /**\n     * Tab Separated Values, default separator is tab, default file extension is .tab\n     */\n    TAB\n}\n","import { EventEmitter, Injectable, Output } from '@angular/core';\nimport { IgxBaseExporter } from '../exporter-common/base-export-service';\nimport { ExportUtilities } from '../exporter-common/export-utilities';\nimport { CharSeparatedValueData } from './char-separated-value-data';\nimport { CsvFileTypes, IgxCsvExporterOptions } from './csv-exporter-options';\nimport { IBaseEventArgs } from '../../core/utils';\n\nexport interface ICsvExportEndedEventArgs extends IBaseEventArgs {\n    csvData: string;\n}\n\n/**\n * **Ignite UI for Angular CSV Exporter Service** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/exporter_csv.html)\n *\n * The Ignite UI for Angular CSV Exporter service can export data in a Character Separated Values format from\n * both raw data (array) or from an `IgxGrid`.\n *\n * Example:\n * ```typescript\n * public localData = [\n *   { Name: \"Eric Ridley\", Age: \"26\" },\n *   { Name: \"Alanis Brook\", Age: \"22\" },\n *   { Name: \"Jonathan Morris\", Age: \"23\" }\n * ];\n *\n * constructor(private csvExportService: IgxCsvExporterService) {\n * }\n *\n * const opt: IgxCsvExporterOptions = new IgxCsvExporterOptions(\"FileName\", CsvFileTypes.CSV);\n * this.csvExportService.exportData(this.localData, opt);\n * ```\n */\n@Injectable()\nexport class IgxCsvExporterService extends IgxBaseExporter {\n    private _stringData: string;\n\n    /**\n     * This event is emitted when the export process finishes.\n     * ```typescript\n     * this.exporterService.onExportEnded.subscribe((args: ICsvExportEndedEventArgs) => {\n     * // put event handler code here\n     * });\n     * ```\n     * @memberof IgxCsvExporterService\n     */\n    @Output()\n    public onExportEnded = new EventEmitter<ICsvExportEndedEventArgs>();\n\n    protected exportDataImplementation(data: any[], options: IgxCsvExporterOptions) {\n        data = data.map((item) => item.rowData);\n        const csvData = new CharSeparatedValueData(data, options.valueDelimiter);\n        this._stringData = csvData.prepareData();\n\n        this.saveFile(options);\n        this.onExportEnded.emit({ csvData: this._stringData });\n    }\n\n    private saveFile(options: IgxCsvExporterOptions) {\n        switch (options.fileType) {\n            case CsvFileTypes.CSV:\n                this.exportFile(this._stringData, options.fileName, 'text/csv;charset=utf-8;');\n                break;\n            case CsvFileTypes.TSV:\n            case CsvFileTypes.TAB:\n                this.exportFile(this._stringData, options.fileName, 'text/tab-separated-values;charset=utf-8;');\n                break;\n        }\n    }\n\n    private exportFile(data: string, fileName: string, fileType: string): void {\n        const blob = new Blob(['\\ufeff', data], { type: fileType });\n        ExportUtilities.saveBlobToFile(blob, fileName);\n    }\n}\n","/**\n * @hidden\n */\nexport enum ExcelFolderTypes {\n    RootExcelFolder,\n    RootRelsExcelFolder,\n    DocPropsExcelFolder,\n    XLExcelFolder,\n    XLRelsExcelFolder,\n    ThemeExcelFolder,\n    WorksheetsExcelFolder,\n    WorksheetsRelsExcelFolder,\n    TablesExcelFolder\n}\n/**\n * @hidden\n */\nexport enum ExcelFileTypes {\n    RootRelsFile,\n    AppFile,\n    CoreFile,\n    WorkbookRelsFile,\n    ThemeFile,\n    WorksheetFile,\n    StyleFile,\n    WorkbookFile,\n    ContentTypesFile,\n    SharedStringsFile,\n    WorksheetRelsFile,\n    TablesFile\n}\n","/** @hidden */\nexport class ExcelStrings {\n    /* tslint:disable max-line-length */\n    private static XML_STRING = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\r\\n';\n    private static SHARED_STRING_RELATIONSHIP = '<Relationship Id=\"rId4\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />';\n\n    public static getRels(): string {\n        return ExcelStrings.XML_STRING + '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/><Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/></Relationships>';\n    }\n\n    public static getApp(): string {\n        return ExcelStrings.XML_STRING + '<Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size=\"2\" baseType=\"variant\"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size=\"1\" baseType=\"lpstr\"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>';\n    }\n\n    public static getCore(): string {\n        return ExcelStrings.XML_STRING + '<cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type=\"dcterms:W3CDTF\">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type=\"dcterms:W3CDTF\">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>';\n    }\n\n    public static getTheme(): string {\n        return ExcelStrings.XML_STRING + '<a:theme xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" name=\"Office Theme\"><a:themeElements><a:clrScheme name=\"Office\"><a:dk1><a:sysClr val=\"windowText\" lastClr=\"000000\"/></a:dk1><a:lt1><a:sysClr val=\"window\" lastClr=\"FFFFFF\"/></a:lt1><a:dk2><a:srgbClr val=\"44546A\"/></a:dk2><a:lt2><a:srgbClr val=\"E7E6E6\"/></a:lt2><a:accent1><a:srgbClr val=\"5B9BD5\"/></a:accent1><a:accent2><a:srgbClr val=\"ED7D31\"/></a:accent2><a:accent3><a:srgbClr val=\"A5A5A5\"/></a:accent3><a:accent4><a:srgbClr val=\"FFC000\"/></a:accent4><a:accent5><a:srgbClr val=\"4472C4\"/></a:accent5><a:accent6><a:srgbClr val=\"70AD47\"/></a:accent6><a:hlink><a:srgbClr val=\"0563C1\"/></a:hlink><a:folHlink><a:srgbClr val=\"954F72\"/></a:folHlink></a:clrScheme><a:fontScheme name=\"Office\"><a:majorFont><a:latin typeface=\"Calibri Light\" panose=\"020F0302020204030204\"/><a:ea typeface=\"\"/><a:cs typeface=\"\"/><a:font script=\"Jpan\" typeface=\" Light\"/><a:font script=\"Hang\" typeface=\" \"/><a:font script=\"Hans\" typeface=\" Light\"/><a:font script=\"Hant\" typeface=\"\"/><a:font script=\"Arab\" typeface=\"Times New Roman\"/><a:font script=\"Hebr\" typeface=\"Times New Roman\"/><a:font script=\"Thai\" typeface=\"Tahoma\"/><a:font script=\"Ethi\" typeface=\"Nyala\"/><a:font script=\"Beng\" typeface=\"Vrinda\"/><a:font script=\"Gujr\" typeface=\"Shruti\"/><a:font script=\"Khmr\" typeface=\"MoolBoran\"/><a:font script=\"Knda\" typeface=\"Tunga\"/><a:font script=\"Guru\" typeface=\"Raavi\"/><a:font script=\"Cans\" typeface=\"Euphemia\"/><a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/><a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/><a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/><a:font script=\"Thaa\" typeface=\"MV Boli\"/><a:font script=\"Deva\" typeface=\"Mangal\"/><a:font script=\"Telu\" typeface=\"Gautami\"/><a:font script=\"Taml\" typeface=\"Latha\"/><a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Orya\" typeface=\"Kalinga\"/><a:font script=\"Mlym\" typeface=\"Kartika\"/><a:font script=\"Laoo\" typeface=\"DokChampa\"/><a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/><a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/><a:font script=\"Viet\" typeface=\"Times New Roman\"/><a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/><a:font script=\"Geor\" typeface=\"Sylfaen\"/></a:majorFont><a:minorFont><a:latin typeface=\"Calibri\" panose=\"020F0502020204030204\"/><a:ea typeface=\"\"/><a:cs typeface=\"\"/><a:font script=\"Jpan\" typeface=\"\"/><a:font script=\"Hang\" typeface=\" \"/><a:font script=\"Hans\" typeface=\"\"/><a:font script=\"Hant\" typeface=\"\"/><a:font script=\"Arab\" typeface=\"Arial\"/><a:font script=\"Hebr\" typeface=\"Arial\"/><a:font script=\"Thai\" typeface=\"Tahoma\"/><a:font script=\"Ethi\" typeface=\"Nyala\"/><a:font script=\"Beng\" typeface=\"Vrinda\"/><a:font script=\"Gujr\" typeface=\"Shruti\"/><a:font script=\"Khmr\" typeface=\"DaunPenh\"/><a:font script=\"Knda\" typeface=\"Tunga\"/><a:font script=\"Guru\" typeface=\"Raavi\"/><a:font script=\"Cans\" typeface=\"Euphemia\"/><a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/><a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/><a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/><a:font script=\"Thaa\" typeface=\"MV Boli\"/><a:font script=\"Deva\" typeface=\"Mangal\"/><a:font script=\"Telu\" typeface=\"Gautami\"/><a:font script=\"Taml\" typeface=\"Latha\"/><a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Orya\" typeface=\"Kalinga\"/><a:font script=\"Mlym\" typeface=\"Kartika\"/><a:font script=\"Laoo\" typeface=\"DokChampa\"/><a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/><a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/><a:font script=\"Viet\" typeface=\"Arial\"/><a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/><a:font script=\"Geor\" typeface=\"Sylfaen\"/></a:minorFont></a:fontScheme><a:fmtScheme name=\"Office\"><a:fillStyleLst><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"110000\"/><a:satMod val=\"105000\"/><a:tint val=\"67000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"105000\"/><a:satMod val=\"103000\"/><a:tint val=\"73000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"105000\"/><a:satMod val=\"109000\"/><a:tint val=\"81000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:satMod val=\"103000\"/><a:lumMod val=\"102000\"/><a:tint val=\"94000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:satMod val=\"110000\"/><a:lumMod val=\"100000\"/><a:shade val=\"100000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"99000\"/><a:satMod val=\"120000\"/><a:shade val=\"78000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w=\"6350\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln><a:ln w=\"12700\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln><a:ln w=\"19050\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad=\"57150\" dist=\"19050\" dir=\"5400000\" algn=\"ctr\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"63000\"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:solidFill><a:schemeClr val=\"phClr\"><a:tint val=\"95000\"/><a:satMod val=\"170000\"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"93000\"/><a:satMod val=\"150000\"/><a:shade val=\"98000\"/><a:lumMod val=\"102000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:tint val=\"98000\"/><a:satMod val=\"130000\"/><a:shade val=\"90000\"/><a:lumMod val=\"103000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"63000\"/><a:satMod val=\"120000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri=\"{05A4C25C-085E-4340-85A3-A5531E510DB2}\"><thm15:themeFamily xmlns:thm15=\"http://schemas.microsoft.com/office/thememl/2012/main\" name=\"Office Theme\" id=\"{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}\" vid=\"{4A3C46E8-61CC-4603-A589-7422A47A8E4A}\"/></a:ext></a:extLst></a:theme>';\n    }\n\n    public static getStyles(hasNonStringValues: boolean): string {\n        const additionalCellXF = '<xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" applyNumberFormat=\"1\"/>';\n        const cellXFCount = hasNonStringValues ? 2 : 1;\n        return ExcelStrings.XML_STRING + '<styleSheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac x16r2\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" xmlns:x16r2=\"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main\"><fonts count=\"1\" x14ac:knownFonts=\"1\"><font><sz val=\"11\"/><color theme=\"1\"/><name val=\"Calibri\"/><family val=\"2\"/><scheme val=\"minor\"/></font></fonts><fills count=\"2\"><fill><patternFill patternType=\"none\"/></fill><fill><patternFill patternType=\"gray125\"/></fill></fills><borders count=\"1\"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs><cellXfs count=\"' + cellXFCount + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\"/>' + additionalCellXF + '</cellXfs><cellStyles count=\"1\"><cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/></cellStyles><dxfs count=\"0\"/><tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium2\" defaultPivotStyle=\"PivotStyleLight16\"/><extLst><ext uri=\"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}\" xmlns:x14=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\"><x14:slicerStyles defaultSlicerStyle=\"SlicerStyleLight1\"/></ext><ext uri=\"{9260A510-F301-46a8-8635-F512D64BE5F5}\" xmlns:x15=\"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main\"><x15:timelineStyles defaultTimelineStyle=\"TimeSlicerStyleLight1\"/></ext></extLst></styleSheet>';\n    }\n\n    public static getWorkbook(): string {\n        return ExcelStrings.XML_STRING + '<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x15\" xmlns:x15=\"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main\"><fileVersion appName=\"xl\" lastEdited=\"6\" lowestEdited=\"6\" rupBuild=\"14420\"/><workbookPr filterPrivacy=\"1\" defaultThemeVersion=\"164011\"/><bookViews><workbookView xWindow=\"0\" yWindow=\"0\" windowWidth=\"22260\" windowHeight=\"12645\"/></bookViews><sheets><sheet name=\"Sheet1\" sheetId=\"1\" r:id=\"rId1\"/></sheets><calcPr calcId=\"162913\"/><extLst><ext uri=\"{140A7094-0E35-4892-8432-C4D2E57EDEB5}\" xmlns:x15=\"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main\"><x15:workbookPr chartTrackingRefBase=\"1\"/></ext></extLst></workbook>';\n    }\n\n    public static getWorksheetRels(): string {\n        return ExcelStrings.XML_STRING + `<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table\" Target=\"../tables/table1.xml\"/></Relationships>`;\n    }\n\n    public static getWorkbookRels(hasSharedStrings): string {\n        let retVal = ExcelStrings.XML_STRING + '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\"/><Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\" Target=\"theme/theme1.xml\"/><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet1.xml\"/>';\n\n        if (hasSharedStrings) {\n            retVal += ExcelStrings.SHARED_STRING_RELATIONSHIP;\n        }\n\n        retVal += '</Relationships>';\n\n        return retVal;\n    }\n\n    public static getSheetXML(dimension: string, freezePane: string, cols: string, sheetData: string, hasTable: boolean, hasGroupedRows = false, outlineLevel = 0): string {\n        const tableParts = hasTable ? '<tableParts count=\"1\"><tablePart r:id=\"rId1\"/></tableParts>' : '';\n        const sheetOutlineProp = hasGroupedRows ? '<sheetPr><outlinePr summaryBelow=\"0\"/></sheetPr>' : '';\n        const sOutlineLevel = outlineLevel > 0 ? `outlineLevelRow=\"${outlineLevel}\"` : '';\n        // return ExcelStrings.XML_STRING +\n        //     '<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\"><dimension ref=\"' + dimension + '\"/><sheetViews><sheetView tabSelected=\"1\" workbookViewId=\"0\">' + freezePane + '</sheetView></sheetViews><sheetFormatPr defaultRowHeight=\"15\" x14ac:dyDescent=\"0.25\"/>' + cols + sheetData + '<pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\"/>' + tableParts + '</worksheet>';\n\n        return `${ExcelStrings.XML_STRING}\n<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">\n${sheetOutlineProp}\n<dimension ref=\"${dimension}\"/>\n<sheetViews><sheetView tabSelected=\"1\" workbookViewId=\"0\">${freezePane}</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight=\"15\" ${sOutlineLevel} x14ac:dyDescent=\"0.25\"/>\n${cols}\n${sheetData}\n<pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\"/>\n${tableParts}</worksheet>`;\n\n    }\n\n    public static getSharedStringXML(count: number, uniqueCount: number, table: string): string {\n        return ExcelStrings.XML_STRING + '<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"' + count + '\" uniqueCount=\"' + uniqueCount + '\">' + table + '</sst>';\n    }\n\n    public static getContentTypesXML(hasSharedStrings: boolean, hasTable: boolean): string {\n        let contentTypes = ExcelStrings.XML_STRING +\n        `<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\\\">\n            <Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\"/>\n            <Default Extension=\"xml\" ContentType=\"application/xml\"/>\n            <Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\"/>\n            <Override PartName=\"/xl/worksheets/sheet1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\"/>\n            <Override PartName=\"/xl/theme/theme1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.theme+xml\"/>\n            <Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\"/>\n            <Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\"/>\n            <Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\"/>`;\n\n        contentTypes += hasSharedStrings ?\n        `\t<Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\"/>` : '';\n\n        contentTypes += hasTable ?\n            `<Override PartName=\"/xl/tables/table1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\"/>` : '';\n        contentTypes += `</Types>`;\n\n        return contentTypes;\n    }\n\n    public static getTablesXML(dimension: string, tableColumns: string, sort: string): string {\n        return `${ExcelStrings.XML_STRING}<table xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" id=\"1\" name=\"Table1\" displayName=\"Table1\" ref=\"${dimension}\" totalsRowShown=\"0\">\n    <autoFilter ref=\"${dimension}\"/>${sort}${tableColumns}<tableStyleInfo name=\"TableStyleMedium2\" showFirstColumn=\"0\" showLastColumn=\"0\" showRowStripes=\"1\" showColumnStripes=\"0\"/>\n</table>`;\n    }\n    /* tslint:enable max-line-length */\n\n    public static getExcelColumn(index: number): string {\n        // Returns the excel column name for given 0-based index\n        // For example 27 should return \"AB\"\n        let returnString = '';\n        while (index >= 0) {\n            const char = index % 26;\n            returnString = String.fromCharCode(65 + char) + returnString;\n            index = Math.floor(index / 26) - 1;\n        }\n        return returnString;\n    }\n}\n","import { IExcelFile } from './excel-interfaces';\nimport { ExcelStrings } from './excel-strings';\nimport { WorksheetData } from './worksheet-data';\n\nimport * as JSZip from 'jszip/dist/jszip';\n\n/**\n * @hidden\n */\nexport class RootRelsFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('.rels', ExcelStrings.getRels());\n    }\n}\n\n/**\n * @hidden\n */\nexport class AppFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('app.xml', ExcelStrings.getApp());\n    }\n}\n\n/**\n * @hidden\n */\nexport class CoreFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('core.xml', ExcelStrings.getCore());\n    }\n}\n\n/**\n * @hidden\n */\nexport class WorkbookRelsFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        const hasSharedStrings = worksheetData.isEmpty === false;\n        folder.file('workbook.xml.rels', ExcelStrings.getWorkbookRels(hasSharedStrings));\n    }\n}\n\n/**\n * @hidden\n */\nexport class ThemeFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('theme1.xml', ExcelStrings.getTheme());\n    }\n}\n\n/**\n * @hidden\n */\nexport class WorksheetFile implements IExcelFile {\n    private static MIN_WIDTH = 8.34;\n\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        const sheetData = [];\n        const cols = [];\n        let dimension: string;\n        const dictionary = worksheetData.dataDictionary;\n        let freezePane = '';\n        let maxOutlineLevel = 0;\n\n        if (worksheetData.isEmpty) {\n            sheetData.push('<sheetData/>');\n            dimension = 'A1';\n        } else {\n            sheetData.push('<sheetData>');\n            const height =  worksheetData.options.rowHeight;\n            const rowHeight = height ? ' ht=\"' + height + '\" customHeight=\"1\"' : '';\n\n            sheetData.push(`<row r=\"1\"${rowHeight}>`);\n            for (let i = 0; i < worksheetData.columnCount; i++) {\n                const column = ExcelStrings.getExcelColumn(i) + 1;\n                const value = dictionary.saveValue(worksheetData.keys[i], i, true);\n                sheetData.push(`<c r=\"${column}\" t=\"s\"><v>${value}</v></c>`);\n            }\n            sheetData.push('</row>');\n\n            for (let i = 1; i < worksheetData.rowCount; i++) {\n                if (!worksheetData.isTreeGridData) {\n                    sheetData.push(`<row r=\"${(i + 1)}\"${rowHeight}>`);\n                } else {\n                    const rowData = worksheetData.data[i - 1].originalRowData;\n                    const sCollapsed = (!rowData.expanded) ? '' : (rowData.expanded === true) ? '' : ` collapsed=\"1\"`;\n                    const sHidden = (rowData.parent && this.hasCollapsedParent(rowData)) ? ` hidden=\"1\"` : '';\n                    const rowOutlineLevel = rowData.level ? rowData.level : 0;\n                    const sOutlineLevel = rowOutlineLevel > 0 ? ` outlineLevel=\"${rowOutlineLevel}\"` : '';\n                    maxOutlineLevel = maxOutlineLevel < rowOutlineLevel ? rowOutlineLevel : maxOutlineLevel;\n\n                    sheetData.push(`<row r=\"${(i + 1)}\"${rowHeight}${sOutlineLevel}${sCollapsed}${sHidden}>`);\n                }\n                for (let j = 0; j < worksheetData.columnCount; j++) {\n                    const cellData = WorksheetFile.getCellData(worksheetData, i, j);\n                    sheetData.push(cellData);\n                }\n                sheetData.push('</row>');\n            }\n            sheetData.push('</sheetData>');\n            dimension = 'A1:' + ExcelStrings.getExcelColumn(worksheetData.columnCount - 1) + worksheetData.rowCount;\n\n            cols.push('<cols>');\n\n            for (let i = 0; i < worksheetData.columnCount; i++) {\n                const width = dictionary.columnWidths[i];\n                // Use the width provided in the options if it exists\n                const widthInTwips = worksheetData.options.columnWidth ?\n                                    worksheetData.options.columnWidth :\n                                    Math.max(((width / 96) * 14.4), WorksheetFile.MIN_WIDTH);\n\n                cols.push(`<col min=\"${(i + 1)}\" max=\"${(i + 1)}\" width=\"${widthInTwips}\" customWidth=\"1\"/>`);\n            }\n\n            cols.push('</cols>');\n\n            if (worksheetData.indexOfLastPinnedColumn !== -1 &&\n                !worksheetData.options.ignorePinning &&\n                !worksheetData.options.ignoreColumnsOrder) {\n                const frozenColumnCount = worksheetData.indexOfLastPinnedColumn + 1;\n                const firstCell = ExcelStrings.getExcelColumn(frozenColumnCount) + '1';\n                freezePane = `<pane xSplit=\"${frozenColumnCount}\" topLeftCell=\"${firstCell}\" activePane=\"topRight\" state=\"frozen\"/>`;\n            }\n        }\n        const hasTable = !worksheetData.isEmpty && worksheetData.options.exportAsTable;\n\n        folder.file('sheet1.xml',\n                    ExcelStrings.getSheetXML(dimension, freezePane, cols.join(''), sheetData.join(''), hasTable,\n                    worksheetData.isTreeGridData, maxOutlineLevel));\n    }\n\n    private hasCollapsedParent(rowData) {\n        let result = !rowData.parent.expanded;\n        while (rowData.parent) {\n            result = result || !rowData.parent.expanded;\n            rowData = rowData.parent;\n        }\n\n        return result;\n    }\n    /* tslint:disable member-ordering */\n    private static getCellData(worksheetData: WorksheetData, row: number, column: number): string {\n        const dictionary = worksheetData.dataDictionary;\n        const columnName = ExcelStrings.getExcelColumn(column) + (row + 1);\n        const columnHeader = worksheetData.keys[column];\n\n        const rowData = worksheetData.data[row - 1].rowData;\n\n        const cellValue = worksheetData.isSpecialData ? rowData : rowData[columnHeader];\n\n        if (cellValue === undefined || cellValue === null) {\n            return `<c r=\"${columnName}\" s=\"1\"/>`;\n        } else {\n            const savedValue = dictionary.saveValue(cellValue, column, false);\n            const isSavedAsString = savedValue !== -1;\n\n            const value = isSavedAsString ? savedValue : cellValue;\n            const type = isSavedAsString ? ` t=\"s\"` : '';\n            const format = isSavedAsString ? '' : ` s=\"1\"`;\n\n            return `<c r=\"${columnName}\"${type}${format}><v>${value}</v></c>`;\n        }\n    }\n    /* tslint:enable member-ordering */\n}\n\n/**\n * @hidden\n */\nexport class StyleFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('styles.xml', ExcelStrings.getStyles(worksheetData.dataDictionary && worksheetData.dataDictionary.hasNonStringValues));\n    }\n}\n\n/**\n * @hidden\n */\nexport class WorkbookFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('workbook.xml', ExcelStrings.getWorkbook());\n    }\n}\n\n/**\n * @hidden\n */\nexport class ContentTypesFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('[Content_Types].xml', ExcelStrings.getContentTypesXML(!worksheetData.isEmpty, worksheetData.options.exportAsTable));\n    }\n}\n\n/**\n * @hidden\n */\nexport class SharedStringsFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        const dict = worksheetData.dataDictionary;\n        const sortedValues = dict.getKeys();\n        const sharedStrings = new Array<string>(sortedValues.length);\n\n        for (const value of sortedValues) {\n            sharedStrings[dict.getSanitizedValue(value)] = '<si><t>' + value + '</t></si>';\n        }\n\n        folder.file('sharedStrings.xml', ExcelStrings.getSharedStringXML(\n                        dict.stringsCount,\n                        sortedValues.length,\n                        sharedStrings.join(''))\n                    );\n    }\n}\n\n/**\n * @hidden\n */\nexport class TablesFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        const columnCount = worksheetData.columnCount;\n        const lastColumn = ExcelStrings.getExcelColumn(columnCount - 1) + worksheetData.rowCount;\n        const dimension = 'A1:' + lastColumn;\n        const values = worksheetData.keys;\n        let sortString = '';\n\n        let tableColumns = '<tableColumns count=\"' + columnCount + '\">';\n        for (let i = 0; i < columnCount; i++) {\n            const value =  values[i];\n            tableColumns += '<tableColumn id=\"' + (i + 1) + '\" name=\"' + value + '\"/>';\n        }\n\n        tableColumns += '</tableColumns>';\n\n        if (worksheetData.sort) {\n            const sortingExpression = worksheetData.sort;\n            const sc = ExcelStrings.getExcelColumn(values.indexOf(sortingExpression.fieldName));\n            const dir = sortingExpression.dir - 1;\n            sortString = `<sortState ref=\"A2:${lastColumn}\"><sortCondition descending=\"${dir}\" ref=\"${sc}1:${sc}15\"/></sortState>`;\n        }\n\n        folder.file('table1.xml', ExcelStrings.getTablesXML(dimension, tableColumns, sortString));\n    }\n}\n\n/**\n * @hidden\n */\nexport class WorksheetRelsFile implements IExcelFile {\n    public writeElement(folder: JSZip, worksheetData: WorksheetData) {\n        folder.file('sheet1.xml.rels', ExcelStrings.getWorksheetRels());\n    }\n}\n","import {\n    ExcelFileTypes,\n    ExcelFolderTypes\n} from './excel-enums';\n\nimport { IExcelFolder } from './excel-interfaces';\nimport { WorksheetData } from './worksheet-data';\n\n/** @hidden */\nexport class RootExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  '';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.ContentTypesFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [\n            ExcelFolderTypes.RootRelsExcelFolder,\n            ExcelFolderTypes.DocPropsExcelFolder,\n            ExcelFolderTypes.XLExcelFolder\n        ];\n    }\n}\n\n/** @hidden */\nexport class RootRelsExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  '_rels';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.RootRelsFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [];\n    }\n}\n\n/** @hidden */\nexport class DocPropsExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  'docProps';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [\n            ExcelFileTypes.AppFile,\n            ExcelFileTypes.CoreFile\n        ];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [];\n    }\n}\n\n/** @hidden */\nexport class XLExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  'xl';\n    }\n\n    childFiles(data: WorksheetData) {\n        const retVal = [\n            ExcelFileTypes.StyleFile,\n            ExcelFileTypes.WorkbookFile\n        ];\n\n        if (!data.isEmpty) {\n            retVal.push(ExcelFileTypes.SharedStringsFile);\n        }\n\n        return retVal;\n    }\n\n    childFolders(data: WorksheetData) {\n        const retVal = [\n            ExcelFolderTypes.XLRelsExcelFolder,\n            ExcelFolderTypes.ThemeExcelFolder,\n            ExcelFolderTypes.WorksheetsExcelFolder\n        ];\n\n        if (!data.isEmpty && data.options.exportAsTable) {\n            retVal.push(ExcelFolderTypes.TablesExcelFolder);\n        }\n\n        return retVal;\n    }\n}\n\n/** @hidden */\nexport class XLRelsExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  '_rels';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.WorkbookRelsFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [];\n    }\n}\n\n/** @hidden */\nexport class ThemeExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  'theme';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.ThemeFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [];\n    }\n}\n\n/** @hidden */\nexport class WorksheetsExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return  'worksheets';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.WorksheetFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return data.isEmpty || !data.options.exportAsTable ? [] : [ExcelFolderTypes.WorksheetsRelsExcelFolder];\n    }\n}\n\n/** @hidden */\nexport class TablesExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return 'tables';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.TablesFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [];\n    }\n}\n\n/** @hidden */\nexport class WorksheetsRelsExcelFolder implements IExcelFolder {\n    public get folderName() {\n        return '_rels';\n    }\n\n    childFiles(data: WorksheetData) {\n        return [ExcelFileTypes.WorksheetRelsFile];\n    }\n\n    childFolders(data: WorksheetData) {\n        return [];\n    }\n}\n","import {\n    ExcelFileTypes,\n    ExcelFolderTypes\n} from './excel-enums';\n\nimport {\n    AppFile,\n    ContentTypesFile,\n    CoreFile,\n    RootRelsFile,\n    SharedStringsFile,\n    StyleFile,\n    TablesFile,\n    ThemeFile,\n    WorkbookFile,\n    WorkbookRelsFile,\n    WorksheetFile,\n    WorksheetRelsFile\n} from './excel-files';\n\nimport {\n    DocPropsExcelFolder,\n    RootExcelFolder,\n    RootRelsExcelFolder,\n    TablesExcelFolder,\n    ThemeExcelFolder,\n    WorksheetsExcelFolder,\n    WorksheetsRelsExcelFolder,\n    XLExcelFolder,\n    XLRelsExcelFolder\n} from './excel-folders';\n\nimport {\n    IExcelFile,\n    IExcelFolder\n} from './excel-interfaces';\n\n/** @hidden */\nexport class ExcelElementsFactory {\n\n    public static getExcelFolder(type: ExcelFolderTypes): IExcelFolder {\n        switch (type) {\n            case ExcelFolderTypes.RootExcelFolder:\n                return new RootExcelFolder();\n            case ExcelFolderTypes.RootRelsExcelFolder:\n                return new RootRelsExcelFolder();\n            case ExcelFolderTypes.DocPropsExcelFolder:\n                return new DocPropsExcelFolder();\n            case ExcelFolderTypes.XLExcelFolder:\n                return new XLExcelFolder();\n            case ExcelFolderTypes.XLRelsExcelFolder:\n                return new XLRelsExcelFolder();\n            case ExcelFolderTypes.ThemeExcelFolder:\n                return new ThemeExcelFolder();\n            case ExcelFolderTypes.WorksheetsExcelFolder:\n                return  new WorksheetsExcelFolder();\n            case ExcelFolderTypes.WorksheetsRelsExcelFolder:\n                return new WorksheetsRelsExcelFolder();\n            case ExcelFolderTypes.TablesExcelFolder:\n                return new TablesExcelFolder();\n            default:\n                throw new Error('Unknown excel folder type!');\n        }\n    }\n\n    public static getExcelFile(type: ExcelFileTypes): IExcelFile {\n        switch (type) {\n            case ExcelFileTypes.RootRelsFile:\n                return  new RootRelsFile();\n            case ExcelFileTypes.AppFile:\n                return  new AppFile();\n            case ExcelFileTypes.CoreFile:\n                return new CoreFile();\n            case ExcelFileTypes.WorkbookRelsFile:\n                return new WorkbookRelsFile();\n            case ExcelFileTypes.ThemeFile:\n                return new ThemeFile();\n            case ExcelFileTypes.WorksheetFile:\n                return new WorksheetFile();\n            case ExcelFileTypes.StyleFile:\n                return new StyleFile();\n            case ExcelFileTypes.WorkbookFile:\n                return new WorkbookFile();\n            case ExcelFileTypes.ContentTypesFile:\n                return new ContentTypesFile();\n            case ExcelFileTypes.SharedStringsFile:\n                return new SharedStringsFile();\n            case ExcelFileTypes.WorksheetRelsFile:\n                return new WorksheetRelsFile();\n            case ExcelFileTypes.TablesFile:\n                return new TablesFile();\n            default:\n                throw Error('Unknown excel file type!');\n        }\n    }\n}\n","import { ExportUtilities } from '../exporter-common/export-utilities';\n\n/** @hidden */\nexport class WorksheetDataDictionary {\n    private static DEFAULT_FONT = '11pt Calibri';\n    private static TEXT_PADDING = 5;\n\n    private _dictionary: any;\n    private _widthsDictionary: any;\n\n    private _sortedKeysByValue: string[];\n    private _sortedKeysByValueAreValid: boolean;\n\n    private _keys: string[];\n    private _keysAreValid: boolean;\n\n    private _counter: number;\n    private _calculateColumnWidth: boolean;\n    private _columnWidths: number[];\n    private _context: any;\n\n    private _columnTypeInfo: boolean[];\n    public hasNonStringValues = false;\n\n    public stringsCount: number;\n\n    constructor(columnCount: number, columnWidth: number) {\n        this._dictionary = {};\n        this._widthsDictionary = {};\n        this._counter = 0;\n        this.dirtyKeyCollections();\n\n        this._calculateColumnWidth = !columnWidth;\n        this._columnWidths = new Array<number>(columnCount);\n        this._columnTypeInfo = new Array<boolean>(columnCount);\n\n        if (!this._calculateColumnWidth) {\n            this._columnWidths.fill(columnWidth);\n        }\n\n        this.stringsCount = 0;\n    }\n\n    public get columnWidths() {\n        return this._columnWidths;\n    }\n\n    public saveValue(value: any, column: number, isHeader: boolean): number {\n        if (this._columnTypeInfo[column] === undefined && isHeader === false) {\n            this._columnTypeInfo[column] = typeof value === 'string' ||\n                                            typeof value === 'boolean' ||\n                                            value instanceof Date;\n        }\n\n        let sanitizedValue = '';\n        const isSavedAsString = this._columnTypeInfo[column] || isHeader;\n\n        if (isSavedAsString) {\n            sanitizedValue = this.sanitizeValue(value);\n\n            if (this._dictionary[sanitizedValue] === undefined) {\n                this._dictionary[sanitizedValue] = this._counter++;\n                this.dirtyKeyCollections();\n            }\n\n            this.stringsCount ++;\n        } else {\n            this.hasNonStringValues = true;\n        }\n\n        if (this._calculateColumnWidth) {\n            const width = this.getTextWidth(value);\n            const maxWidth = Math.max(this._columnWidths[column] || 0, width);\n            this._columnWidths[column] = maxWidth;\n        }\n\n        return isSavedAsString ? this.getSanitizedValue(sanitizedValue) : -1;\n    }\n\n    public getValue(value: string): number {\n        return this.getSanitizedValue(this.sanitizeValue(value));\n    }\n\n    public getSanitizedValue(sanitizedValue: string): number {\n        return this._dictionary[sanitizedValue];\n    }\n\n    public getKeys(): string[] {\n        if (!this._keysAreValid) {\n            this._keys = Object.keys(this._dictionary);\n            this._keysAreValid = true;\n        }\n\n        return this._keys;\n    }\n\n    private getTextWidth(value: any): number {\n        if (this._widthsDictionary[value] === undefined) {\n            const context = this.getContext();\n            const metrics = context.measureText(value);\n            this._widthsDictionary[value] = metrics.width + WorksheetDataDictionary.TEXT_PADDING;\n        }\n\n        return this._widthsDictionary[value];\n    }\n\n    private getContext(): any {\n        if (!this._context) {\n            const canvas = document.createElement('canvas');\n            this._context = canvas.getContext('2d');\n            this._context.font = WorksheetDataDictionary.DEFAULT_FONT;\n        }\n\n        return this._context;\n    }\n\n    private sanitizeValue(value: any): string {\n        if (ExportUtilities.hasValue(value) === false) {\n            return '';\n        } else {\n            const stringValue = String(value);\n            return stringValue.replace(/&/g, '&amp;')\n                            .replace(/</g, '&lt;')\n                            .replace(/>/g, '&gt;')\n                            .replace(/\"/g, '&quot;')\n                            .replace(/'/g, '&apos;');\n        }\n    }\n\n    private dirtyKeyCollections(): void {\n        this._keysAreValid = false;\n    }\n}\n","import { ExportUtilities } from '../exporter-common/export-utilities';\nimport { IgxExcelExporterOptions } from './excel-exporter-options';\nimport { WorksheetDataDictionary } from './worksheet-data-dictionary';\n\n/** @hidden */\nexport class WorksheetData {\n    private _columnCount: number;\n    private _rowCount: number;\n    private _dataDictionary: WorksheetDataDictionary;\n    private _keys: string[];\n    private _isSpecialData: boolean;\n\n    constructor(private _data: any[], public options: IgxExcelExporterOptions, public indexOfLastPinnedColumn,\n                public sort: any, public isTreeGridData = false) {\n        this.initializeData();\n    }\n\n    public get data() {\n        return this._data;\n    }\n\n    public get columnCount(): number {\n        return this._columnCount;\n    }\n\n    public get rowCount(): number {\n        return this._rowCount;\n    }\n\n    public get isEmpty() {\n        return !this.rowCount || !this._columnCount;\n    }\n\n    public get keys(): string[] {\n        return this._keys;\n    }\n\n    public get isSpecialData(): boolean {\n        return this._isSpecialData;\n    }\n\n    public get dataDictionary() {\n        return this._dataDictionary;\n    }\n\n    private initializeData() {\n        if (!this._data || this._data.length === 0) {\n            return;\n        }\n\n        const actualData = this._data.map((item) => item.rowData);\n\n        this._keys = ExportUtilities.getKeysFromData(actualData);\n        if (this._keys.length === 0) {\n            return;\n        }\n\n        this._isSpecialData = ExportUtilities.isSpecialData(actualData);\n\n        this._columnCount = this._keys.length;\n        this._rowCount = this._data.length + 1;\n\n        this._dataDictionary = new WorksheetDataDictionary(this._columnCount, this.options.columnWidth);\n    }\n}\n","import * as JSZip from 'jszip/dist/jszip';\n\nimport { EventEmitter, Injectable, Output } from '@angular/core';\nimport { ExcelElementsFactory } from './excel-elements-factory';\nimport { ExcelFolderTypes } from './excel-enums';\nimport { IgxExcelExporterOptions } from './excel-exporter-options';\nimport { IExcelFolder } from './excel-interfaces';\nimport { IgxBaseExporter } from '../exporter-common/base-export-service';\nimport { ExportUtilities } from '../exporter-common/export-utilities';\nimport { WorksheetData } from './worksheet-data';\nimport { IBaseEventArgs } from '../../core/utils';\n\nexport interface IExcelExportEndedEventArgs extends IBaseEventArgs {\n    xlsx: JSZip;\n}\n\n/**\n * **Ignite UI for Angular Excel Exporter Service** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/exporter_excel.html)\n *\n * The Ignite UI for Angular Excel Exporter service can export data in Microsoft Excel format from both raw data\n * (array) or from an `IgxGrid`.\n *\n * Example:\n * ```typescript\n * public localData = [\n *   { Name: \"Eric Ridley\", Age: \"26\" },\n *   { Name: \"Alanis Brook\", Age: \"22\" },\n *   { Name: \"Jonathan Morris\", Age: \"23\" }\n * ];\n *\n * constructor(private excelExportService: IgxExcelExporterService) {\n * }\n *\n * this.excelExportService.exportData(this.localData, new IgxExcelExporterOptions(\"FileName\"));\n * ```\n */\n@Injectable()\nexport class IgxExcelExporterService extends IgxBaseExporter {\n\n    private static ZIP_OPTIONS = { compression: 'DEFLATE', type: 'base64' };\n    private _xlsx: JSZip;\n\n    /**\n     * This event is emitted when the export process finishes.\n     * ```typescript\n     * this.exporterService.onExportEnded.subscribe((args: IExcelExportEndedEventArgs) => {\n     * // put event handler code here\n     * });\n     * ```\n     * @memberof IgxExcelExporterService\n     */\n    @Output()\n    public onExportEnded = new EventEmitter<IExcelExportEndedEventArgs>();\n\n    private static populateFolder(folder: IExcelFolder, zip: JSZip, worksheetData: WorksheetData): any {\n        for (const childFolder of folder.childFolders(worksheetData)) {\n            const folderIntance = ExcelElementsFactory.getExcelFolder(childFolder);\n            const zipFolder = zip.folder(folderIntance.folderName);\n            IgxExcelExporterService.populateFolder(folderIntance, zipFolder, worksheetData);\n        }\n\n        for (const childFile of folder.childFiles(worksheetData)) {\n            const fileInstance = ExcelElementsFactory.getExcelFile(childFile);\n            fileInstance.writeElement(zip, worksheetData);\n        }\n    }\n\n    protected exportDataImplementation(data: any[], options: IgxExcelExporterOptions): void {\n        if (this._isTreeGrid) {\n            let maxLevel = 0;\n            data.forEach((r) => {\n                maxLevel = Math.max(maxLevel, r.originalRowData.level);\n            });\n            if (maxLevel > 7) {\n                throw Error('Can create an outline of up to eight levels!');\n            }\n        }\n\n        const worksheetData = new WorksheetData(data, options, this._indexOfLastPinnedColumn, this._sort, this._isTreeGrid);\n        this._xlsx = new JSZip();\n\n        const rootFolder = ExcelElementsFactory.getExcelFolder(ExcelFolderTypes.RootExcelFolder);\n        IgxExcelExporterService.populateFolder(rootFolder, this._xlsx, worksheetData);\n\n        this._xlsx.generateAsync(IgxExcelExporterService.ZIP_OPTIONS).then((result) => {\n            this.saveFile(result, options.fileName);\n\n            this.onExportEnded.emit({ xlsx: this._xlsx });\n        });\n    }\n\n    private saveFile(data: string, fileName: string): void {\n        const blob = new Blob([ExportUtilities.stringToArrayBuffer(atob(data))], {\n            type: ''\n        });\n\n        ExportUtilities.saveBlobToFile(blob, fileName);\n    }\n}\n","import { IgxExporterOptionsBase } from '../exporter-common/exporter-options-base';\n\n/**\n * Objects of this class are used to configure the Excel exporting process.\n */\nexport class IgxExcelExporterOptions extends IgxExporterOptionsBase {\n    private _columnWidth: number;\n    private _rowHeight: number;\n\n    /**\n     * Specifies if column pinning should be ignored. If ignoreColumnsOrder is set to true,\n     * this option will always be considered as set to true.\n     * ```typescript\n     * let ignorePinning = this.exportOptions.ignorePinning;\n     * this.exportOptions.ignorePinning = true;\n     * ```\n     * @memberof IgxExcelExporterOptions\n     */\n    public ignorePinning = false;\n\n    /**\n     * Specifies whether the exported data should be formatted as Excel table. (True by default)\n     * ```typescript\n     * let exportAsTable = this.exportOptions.exportAsTable;\n     * this.exportOptions.exportAsTable = false;\n     * ```\n     * @memberof IgxExcelExporterOptions\n     */\n    public exportAsTable = true;\n\n    constructor(fileName: string) {\n        super(fileName, '.xlsx');\n    }\n\n    /**\n     * Gets the width of the columns in the exported excel file.\n     * ```typescript\n     * let width = this.exportOptions.columnWidth;\n     * ```\n     * @memberof IgxExcelExporterOptions\n     */\n    public get columnWidth(): number {\n        return this._columnWidth;\n    }\n\n    /**\n     * Sets the width of the columns in the exported excel file. If left unspecified or 0,\n     * the width of the largest string in the column will be used.\n     * ```typescript\n     * this.exportOptions.columnWidth = 55;\n     * ```\n     * @memberof IgxExcelExporterOptions\n     */\n    public set columnWidth(value: number) {\n        if (value < 0) {\n            throw Error('Invalid value for column width!');\n        }\n\n        this._columnWidth = value;\n    }\n\n    /**\n     * Gets the height of the rows in the exported excel file.\n     * ```typescript\n     * let height = this.exportOptions.rowHeight;\n     * ```\n     * @memberof IgxExcelExporterOptions\n     */\n    public get rowHeight(): number {\n        return this._rowHeight;\n    }\n\n    /**\n     * Sets the height of the rows in the exported excel file. If left unspecified or 0,\n     * the default height of the excel rows will be used.\n     * ```typescript\n     * this.exportOptions.rowHeight = 25;\n     * ```\n     * @memberof IgxExcelExporterOptions\n     */\n    public set rowHeight(value: number) {\n        if (value < 0) {\n            throw Error('Invalid value for row height!');\n        }\n\n        this._rowHeight = value;\n    }\n}\n","import { IPositionStrategy } from './position/IPositionStrategy';\n\nimport { IScrollStrategy } from './scroll';\nimport { AnimationReferenceMetadata, AnimationPlayer } from '@angular/animations';\nimport { ComponentRef, ElementRef, NgZone } from '@angular/core';\nimport { IgxOverlayOutletDirective } from '../../directives/toggle/toggle.directive';\nimport { CancelableEventArgs, CancelableBrowserEventArgs, cloneValue, IBaseEventArgs } from '../../core/utils';\n\nexport enum HorizontalAlignment {\n    Left = -1,\n    Center = -0.5,\n    Right = 0\n}\n\nexport enum VerticalAlignment {\n    Top = -1,\n    Middle = -0.5,\n    Bottom = 0\n}\n\nexport class Point {\n    constructor(public x: number, public y: number) { }\n}\n\n/** @hidden */\nexport interface OutOfViewPort {\n    /** Out of view port at Top or Left */\n    back: number;\n    /** Out of view port at Bottom or Right */\n    forward: number;\n}\n\nexport interface PositionSettings {\n    /** Attaching target for the component to show */\n    target?: Point | HTMLElement;\n    /** Direction in which the component should show */\n    horizontalDirection?: HorizontalAlignment;\n    /** Direction in which the component should show */\n    verticalDirection?: VerticalAlignment;\n    /** Target's starting point */\n    horizontalStartPoint?: HorizontalAlignment;\n    /** Target's starting point */\n    verticalStartPoint?: VerticalAlignment;\n    /** Animation applied while overlay opens */\n    openAnimation?: AnimationReferenceMetadata;\n    /** Animation applied while overlay closes */\n    closeAnimation?: AnimationReferenceMetadata;\n    /** The size up to which element may shrink when shown in elastic position strategy */\n    minSize?: Size;\n}\n\nexport interface OverlaySettings {\n    /** Position strategy to use with this settings */\n    positionStrategy?: IPositionStrategy;\n    /** Scroll strategy to use with this settings */\n    scrollStrategy?: IScrollStrategy;\n    /** Set if the overlay should be in modal mode */\n    modal?: boolean;\n    /** Set if the overlay should closed on outside click */\n    closeOnOutsideClick?: boolean;\n    /** Set the outlet container to attach the overlay to */\n    outlet?: IgxOverlayOutletDirective | ElementRef;\n    /**\n     * @hidden @internal\n     * Exclude the position strategy target for outside clicks\n     */\n    excludePositionTarget?: boolean;\n}\n\nexport interface OverlayEventArgs extends IBaseEventArgs {\n    /** Id of the overlay generated with `attach()` method */\n    id: string;\n    /** Available when `Type<T>` is provided to the `attach()` method and allows access to the created Component instance */\n    componentRef?: ComponentRef<{}>;\n}\n\nexport interface OverlayCancelableEventArgs extends OverlayEventArgs, CancelableEventArgs {\n}\n\nexport interface OverlayClosingEventArgs extends OverlayEventArgs, CancelableBrowserEventArgs {\n}\n\nexport interface OverlayAnimationEventArgs extends IBaseEventArgs {\n    /** Id of the overlay generated with `attach()` method */\n    id: string;\n    /** Animation player that will play the animation */\n    animationPlayer: AnimationPlayer;\n    /** Type of animation to be played. It should be either 'open' or 'close' */\n    animationType: 'open' | 'close';\n}\n\nexport interface Size {\n    /** Gets or sets the horizontal component of Size */\n    width: number;\n\n    /** Gets or sets the vertical component of Size */\n    height: number;\n}\n\n/** @hidden */\nexport interface OverlayInfo {\n    id?: string;\n    elementRef?: ElementRef;\n    componentRef?: ComponentRef<{}>;\n    settings?: OverlaySettings;\n    initialSize?: Size;\n    hook?: HTMLElement;\n    openAnimationPlayer?: AnimationPlayer;\n    closeAnimationPlayer?: AnimationPlayer;\n    openAnimationInnerPlayer?: any;\n    closeAnimationInnerPlayer?: any;\n    ngZone: NgZone;\n    transformX?: number;\n    transformY?: number;\n}\n\n/** @hidden */\nexport interface ConnectedFit {\n    contentElementRect?: ClientRect;\n    targetRect?: ClientRect;\n    viewPortRect?: ClientRect;\n    fitHorizontal?: OutOfViewPort;\n    fitVertical?: OutOfViewPort;\n    left?: number;\n    right?: number;\n    top?: number;\n    bottom?: number;\n    horizontalOffset?: number;\n    verticalOffset?: number;\n}\n\n/** @hidden */\nexport class Util {\n    /**\n     * @hidden\n     * Calculates the rectangle of target for provided overlay settings. Defaults to 0,0,0,0,0,0 rectangle\n     * if no target is provided\n     * @param settings Overlay settings for which to calculate target rectangle\n     */\n    static getTargetRect(settings: PositionSettings): ClientRect {\n        let targetRect: ClientRect = {\n            bottom: 0,\n            height: 0,\n            left: 0,\n            right: 0,\n            top: 0,\n            width: 0\n        };\n\n        if (settings.target instanceof HTMLElement) {\n            targetRect = (settings.target as HTMLElement).getBoundingClientRect();\n        } else if (settings.target instanceof Point) {\n            const targetPoint = settings.target as Point;\n            targetRect = {\n                bottom: targetPoint.y,\n                height: 0,\n                left: targetPoint.x,\n                right: targetPoint.x,\n                top: targetPoint.y,\n                width: 0\n            };\n        }\n\n        return targetRect;\n    }\n\n    /** @hidden @internal */\n    static getViewportRect(document: Document): ClientRect {\n        const width = document.documentElement.clientWidth;\n        const height = document.documentElement.clientHeight;\n        const scrollPosition = Util.getViewportScrollPosition(document);\n\n        return {\n            top: scrollPosition.y,\n            left: scrollPosition.x,\n            right: scrollPosition.x + width,\n            bottom: scrollPosition.y + height,\n            width: width,\n            height: height,\n        };\n    }\n\n    /** @hidden @internal */\n    static getViewportScrollPosition(document: Document): Point {\n        const documentElement = document.documentElement;\n        const documentRect = documentElement.getBoundingClientRect();\n\n        const horizontalScrollPosition =\n            -documentRect.left || document.body.scrollLeft || window.scrollX || documentElement.scrollLeft || 0;\n        const verticalScrollPosition = -documentRect.top || document.body.scrollTop || window.scrollY || documentElement.scrollTop || 0;\n\n        return new Point(horizontalScrollPosition, verticalScrollPosition);\n    }\n\n    /** @hidden @internal*/\n    static cloneInstance(object) {\n        const clonedObj = Object.assign(Object.create(Object.getPrototypeOf(object)), object);\n        clonedObj.settings = cloneValue(clonedObj.settings);\n        return clonedObj;\n    }\n}\n","import { IPositionStrategy } from './IPositionStrategy';\nimport { PositionSettings, HorizontalAlignment, VerticalAlignment, Size, Util, OverlaySettings } from './../utilities';\nimport { fadeIn, fadeOut } from '../../../animations/main';\n\n/**\n * Positions the element based on the directions passed in trough PositionSettings.\n * These are Top/Middle/Bottom for verticalDirection and Left/Center/Right for horizontalDirection\n */\nexport class GlobalPositionStrategy implements IPositionStrategy {\n    protected _defaultSettings: PositionSettings = {\n        horizontalDirection: HorizontalAlignment.Center,\n        verticalDirection: VerticalAlignment.Middle,\n        horizontalStartPoint: HorizontalAlignment.Center,\n        verticalStartPoint: VerticalAlignment.Middle,\n        openAnimation: fadeIn,\n        closeAnimation: fadeOut,\n        minSize: { width: 0, height: 0 }\n    };\n\n    /** @inheritdoc */\n    public settings: PositionSettings;\n\n    constructor(settings?: PositionSettings) {\n        this.settings = Object.assign({}, this._defaultSettings, settings);\n    }\n\n    /** @inheritdoc */\n    position(contentElement: HTMLElement, size?: Size, document?: Document, initialCall?: boolean): void {\n        contentElement.classList.add('igx-overlay__content--relative');\n        contentElement.parentElement.classList.add('igx-overlay__wrapper--flex');\n        this.setPosition(contentElement, this.settings);\n    }\n\n    protected setPosition(contentElement: HTMLElement, settings: PositionSettings) {\n        switch (this.settings.horizontalDirection) {\n            case HorizontalAlignment.Left:\n                contentElement.parentElement.style.justifyContent = 'flex-start';\n                break;\n            case HorizontalAlignment.Center:\n                contentElement.parentElement.style.justifyContent = 'center';\n                break;\n            case HorizontalAlignment.Right:\n                contentElement.parentElement.style.justifyContent = 'flex-end';\n                break;\n            default:\n                break;\n        }\n\n        switch (this.settings.verticalDirection) {\n            case VerticalAlignment.Top:\n                contentElement.parentElement.style.alignItems = 'flex-start';\n                break;\n            case VerticalAlignment.Middle:\n                contentElement.parentElement.style.alignItems = 'center';\n                break;\n            case VerticalAlignment.Bottom:\n                contentElement.parentElement.style.alignItems = 'flex-end';\n                break;\n            default:\n                break;\n        }\n    }\n\n    /** @inheritdoc */\n    clone(): IPositionStrategy {\n        return Util.cloneInstance(this);\n    }\n}\n\n","import { IScrollStrategy } from './IScrollStrategy';\nimport { IgxOverlayService } from '../overlay';\n\nexport abstract class ScrollStrategy implements IScrollStrategy {\n    constructor(scrollContainer?: HTMLElement) { }\n    /** @inheritdoc */\n    abstract initialize(document: Document, overlayService: IgxOverlayService, id: string);\n\n    /** @inheritdoc */\n    abstract attach(): void;\n\n    /** @inheritdoc */\n    abstract detach(): void;\n}\n","import { IgxOverlayService } from '../overlay';\nimport { ScrollStrategy } from './scroll-strategy';\n\n/**\n * Empty scroll strategy. Does nothing.\n */\nexport class NoOpScrollStrategy extends ScrollStrategy {\n    constructor(scrollContainer?: HTMLElement) {\n        super(scrollContainer);\n    }\n    /** @inheritdoc */\n    public initialize(document: Document, overlayService: IgxOverlayService, id: string) { }\n\n    /** @inheritdoc */\n    attach(): void { }\n\n    /** @inheritdoc */\n    detach(): void { }\n}\n","import { isDevMode } from '@angular/core';\n\n/**\n * @hidden\n */\nexport function DeprecateMethod(message: string): MethodDecorator {\n    let isMessageShown = false;\n\n    return function (target: any, key: string, descriptor: PropertyDescriptor) {\n        if (descriptor && descriptor.value) {\n            const originalMethod = descriptor.value;\n\n            descriptor.value = function () {\n                const targetName = typeof target === 'function' ? target.name : target.constructor.name;\n                isMessageShown = showMessage(`${targetName}.${key}: ${message}`, isMessageShown);\n\n                return originalMethod.call(this, arguments);\n            };\n\n            return descriptor;\n        }\n    };\n}\n\n/**\n * @hidden\n */\nexport function DeprecateProperty(message: string): PropertyDecorator {\n    return function(target: any, key: string) {\n        let isMessageShown = false;\n        const messageToDisplay = `${target.constructor.name}.${key}: ${message}`;\n\n        // if the target already has the property defined\n        const originalDescriptor = Object.getOwnPropertyDescriptor(target, key);\n        if (originalDescriptor) {\n            let getter, setter;\n            getter = originalDescriptor.get;\n            setter = originalDescriptor.set;\n\n            if (getter) {\n                originalDescriptor.get = function() {\n                    isMessageShown = showMessage(messageToDisplay, isMessageShown);\n                    return getter.call(this);\n                };\n            }\n\n            if (setter) {\n                originalDescriptor.set = function (value) {\n                    isMessageShown = showMessage(messageToDisplay, isMessageShown);\n                    setter.call(this, value);\n                };\n            }\n\n            return originalDescriptor;\n        }\n\n        // the target doesn't contain a descriptor for that property, so create one\n        // use backing field to set/get the value of the property to ensure there won't be infinite recursive calls\n        const newKey = generateUniqueKey(target, key);\n        Object.defineProperty(target, key, {\n            configurable: true,\n            enumerable: true,\n            set: function(value) {\n                isMessageShown = showMessage(messageToDisplay, isMessageShown);\n                this[newKey] = value;\n            },\n            get: function() {\n                isMessageShown = showMessage(messageToDisplay, isMessageShown);\n                return this[newKey];\n            }\n        });\n    };\n}\n\n/**\n * @hidden\n */\nfunction generateUniqueKey(target: any, key: string): string {\n    let newKey = '_' + key;\n    while (target.hasOwnProperty(newKey)) {\n        newKey = '_' + newKey;\n    }\n\n    return newKey;\n}\n\n/**\n * @hidden\n */\nexport function showMessage(message: string, isMessageShown: boolean): boolean {\n    if (!isMessageShown && isDevMode()) {\n        console.warn(message);\n    }\n\n    return true;\n}\n","import { DOCUMENT } from '@angular/common';\nimport { GlobalPositionStrategy } from './position/global-position-strategy';\nimport { NoOpScrollStrategy } from './scroll/NoOpScrollStrategy';\nimport {\n    OverlaySettings,\n    OverlayEventArgs,\n    OverlayInfo,\n    OverlayAnimationEventArgs,\n    OverlayCancelableEventArgs,\n    OverlayClosingEventArgs\n} from './utilities';\n\nimport {\n    ApplicationRef,\n    ComponentFactory,\n    ComponentFactoryResolver,\n    ComponentRef,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    Injectable,\n    Injector,\n    Type,\n    OnDestroy,\n    NgModuleRef,\n    NgZone\n} from '@angular/core';\nimport { AnimationBuilder, AnimationReferenceMetadata, AnimationMetadataType, AnimationAnimateRefMetadata } from '@angular/animations';\nimport { fromEvent, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { IAnimationParams } from '../../animations/main';\nimport { showMessage } from '../../core/deprecateDecorators';\n\nlet warningShown = false;\n\n/**\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/overlay_main.html)\n * The overlay service allows users to show components on overlay div above all other elements in the page.\n */\n@Injectable({ providedIn: 'root' })\nexport class IgxOverlayService implements OnDestroy {\n    private _componentId = 0;\n    private _overlayInfos: OverlayInfo[] = [];\n    private _overlayElement: HTMLElement;\n    private _document: Document;\n    private destroy$ = new Subject<boolean>();\n\n    private _defaultSettings: OverlaySettings = {\n        positionStrategy: new GlobalPositionStrategy(),\n        scrollStrategy: new NoOpScrollStrategy(),\n        modal: true,\n        closeOnOutsideClick: true\n    };\n\n    /**\n     * Emitted before the component is opened.\n     * ```typescript\n     * onOpening(event: OverlayCancelableEventArgs){\n     *     const onOpening = event;\n     * }\n     * ```\n     */\n    public onOpening = new EventEmitter<OverlayCancelableEventArgs>();\n\n    /**\n     * Emitted after the component is appended to the overlay, and before animations are started.\n     * ```typescript\n     * onAppended(event: OverlayEventArgs){\n     *     const onAppended = event;\n     * }\n     * ```\n     */\n    public onAppended = new EventEmitter<OverlayEventArgs>();\n\n    /**\n     * Emitted after the component is opened and all animations are finished.\n     * ```typescript\n     * onOpened(event: OverlayEventArgs){\n     *     const onOpened = event;\n     * }\n     * ```\n     */\n    public onOpened = new EventEmitter<OverlayEventArgs>();\n\n    /**\n     * Emitted before the component is closed.\n     * ```typescript\n     * onClosing(event: OverlayCancelableEventArgs){\n     *     const onClosing = event;\n     * }\n     * ```\n     */\n    public onClosing = new EventEmitter<OverlayClosingEventArgs>();\n\n    /**\n     * Emitted after the component is closed and all animations are finished.\n     * ```typescript\n     * onClosed(event: OverlayEventArgs){\n     *     const onClosed = event;\n     * }\n     * ```\n     */\n    public onClosed = new EventEmitter<OverlayEventArgs>();\n\n    /**\n     * Emitted before animation is started\n     * ```typescript\n     * onAnimation(event: OverlayAnimationEventArgs){\n     *     const onAnimation = event;\n     * }\n     * ```\n     */\n    public onAnimation = new EventEmitter<OverlayAnimationEventArgs>();\n\n    constructor(\n        private _factoryResolver: ComponentFactoryResolver,\n        private _appRef: ApplicationRef,\n        private _injector: Injector,\n        private builder: AnimationBuilder,\n        @Inject(DOCUMENT) private document: any,\n        private _zone: NgZone) {\n        this._document = <Document>this.document;\n    }\n\n    /**\n     * Generates Id. Provide this Id when call `show(id, settings?)` method\n     * @param component ElementRef to show in overlay\n     * @param settings Display settings for the overlay, such as positioning and scroll/close behavior.\n     * @returns Id of the created overlay. Valid until `onClosed` is emitted.\n     */\n    attach(element: ElementRef, settings?: OverlaySettings): string;\n    /**\n     * Generates Id. Provide this Id when call `show(id, settings?)` method\n     * @param component Component Type to show in overlay\n     * @param settings Display settings for the overlay, such as positioning and scroll/close behavior.\n     * @param moduleRef Optional reference to an object containing Injector and ComponentFactoryResolver\n     * that can resolve the component's factory\n     * @returns Id of the created overlay. Valid until `onClosed` is emitted.\n     */\n    attach(component: Type<any>, settings?: OverlaySettings,\n        moduleRef?: Pick<NgModuleRef<any>, 'injector' | 'componentFactoryResolver'>): string;\n    attach(component: ElementRef | Type<any>, settings?: OverlaySettings,\n        moduleRef?: Pick<NgModuleRef<any>, 'injector' | 'componentFactoryResolver'>): string {\n        let info: OverlayInfo;\n        info = this.getOverlayInfo(component, moduleRef);\n\n        //  if there is no info most probably wrong type component was provided and we just go out\n        if (!info) {\n            return null;\n        }\n\n        info.id = (this._componentId++).toString();\n        settings = Object.assign({}, this._defaultSettings, settings);\n        info.settings = settings;\n        this._overlayInfos.push(info);\n        return info.id;\n    }\n\n    /**\n     * Shows the overlay for provided id.\n     * @param id Id to show overlay for\n     * @param settings Display settings for the overlay, such as positioning and scroll/close behavior.\n     */\n    show(id: string, settings?: OverlaySettings): string;\n    /**\n     * Shows the provided component.\n     * @param component ElementRef or Component Type to show in overlay\n     * @param settings Display settings for the overlay, such as positioning and scroll/close behavior.\n     * @returns Id of the created overlay. Valid until `onClosed` is emitted.\n     * ```typescript\n     * this.overlay.show(element, settings);\n     * ```\n     * @deprecated Use `attach(component)` to obtain an Id. Then `show(id, settings?)` with provided Id.\n     */\n    // tslint:disable-next-line:unified-signatures\n    show(component: ElementRef | Type<any>, settings?: OverlaySettings): string;\n    show(compOrId: string | ElementRef | Type<any>, settings?: OverlaySettings): string {\n        let info: OverlayInfo;\n        let id: string;\n        if (typeof compOrId === 'string') {\n            id = compOrId;\n            info = this.getOverlayById(compOrId);\n            if (!info) {\n                console.warn('igxOverlay.show was called with wrong id: ' + compOrId);\n                return null;\n            }\n        } else {\n            warningShown = showMessage(\n                '`show(component, settings?)` overload is deprecated. Use `attach(component)` to obtain an Id.' +\n                'Then `show(id, settings?)` with provided Id.',\n                warningShown);\n            id = (this._componentId++).toString();\n            info = this.getOverlayInfo(compOrId);\n\n            //  if there is no info most probably wrong type component was provided and we just go out\n            if (!info) {\n                return;\n            }\n\n            info.id = id;\n        }\n\n        settings = Object.assign({}, this._defaultSettings, info.settings, settings);\n        info.settings = settings;\n\n        this._show(info);\n        return id;\n    }\n\n    /**\n     * Hides the component with the ID provided as a parameter.\n     * ```typescript\n     * this.overlay.hide(id);\n     * ```\n     */\n    hide(id: string) {\n        this._hide(id);\n    }\n\n    /**\n     * Hides all the components and the overlay.\n     * ```typescript\n     * this.overlay.hideAll();\n     * ```\n     */\n    hideAll() {\n        // since overlays are removed on animation done, que all hides\n        for (let i = this._overlayInfos.length; i--;) {\n            this.hide(this._overlayInfos[i].id);\n        }\n    }\n\n    /**\n     * Repositions the component with ID provided as a parameter.\n     * ```typescript\n     * this.overlay.reposition(id);\n     * ```\n     */\n    reposition(id: string) {\n        const overlayInfo = this.getOverlayById(id);\n        if (!overlayInfo || !overlayInfo.settings) {\n            console.error('Wrong id provided in overlay.reposition method. Id: ' + id);\n            return;\n        }\n\n        const contentElement = overlayInfo.elementRef.nativeElement.parentElement;\n        const contentElementRect = contentElement.getBoundingClientRect();\n        overlayInfo.settings.positionStrategy.position(\n            contentElement,\n            {\n                width: contentElementRect.width,\n                height: contentElementRect.height\n            },\n            this._document,\n            false);\n    }\n\n    /**\n     * Offsets the content along the corresponding axis by the provided amount\n     * ```typescript\n     * this.overlay.setOffset(id, deltaX, deltaY);\n     * ```\n     */\n    setOffset(id: string, deltaX: number, deltaY: number) {\n        const info: OverlayInfo = this.getOverlayById(id);\n\n        if (!info) {\n           return;\n        }\n\n        info.transformX += deltaX;\n        info.transformY += deltaY;\n\n        const transformX = info.transformX;\n        const transformY = info.transformY;\n\n        const translate = `translate(${transformX}px, ${transformY}px)`;\n        info.elementRef.nativeElement.parentElement.style.transform = translate;\n    }\n\n    private _show(info: OverlayInfo) {\n        const eventArgs: OverlayCancelableEventArgs = { id: info.id, componentRef: info.componentRef, cancel: false };\n        this.onOpening.emit(eventArgs);\n        if (eventArgs.cancel) {\n            if (info.componentRef) {\n                this._appRef.detachView(info.componentRef.hostView);\n                info.componentRef.destroy();\n            }\n\n            return;\n        }\n\n        //  if there is no close animation player, or there is one but it is not started yet we are in clear\n        //  opening. Otherwise, if there is close animation player playing animation now we should not setup\n        //  overlay this is already done\n        if (!info.closeAnimationPlayer || (info.closeAnimationPlayer && !info.closeAnimationPlayer.hasStarted())) {\n            const elementRect = info.elementRef.nativeElement.getBoundingClientRect();\n            info.initialSize = { width: elementRect.width, height: elementRect.height };\n            info.hook = this.placeElementHook(info.elementRef.nativeElement);\n\n            this.moveElementToOverlay(info);\n            if (info.componentRef) {\n                info.componentRef.changeDetectorRef.detectChanges();\n            }\n\n            this.onAppended.emit({ id: info.id, componentRef: info.componentRef });\n\n            this.updateSize(info);\n            if (this._overlayInfos.indexOf(info) === -1) {\n                this._overlayInfos.push(info);\n            }\n\n            info.settings.positionStrategy.position(\n                info.elementRef.nativeElement.parentElement,\n                { width: info.initialSize.width, height: info.initialSize.height },\n                document,\n                true);\n            info.settings.scrollStrategy.initialize(this._document, this, info.id);\n            info.settings.scrollStrategy.attach();\n        }\n\n        this.addOutsideClickListener(info);\n        this.addResizeHandler(info.id);\n\n        if (info.settings.modal) {\n            this.setupModalWrapper(info);\n        }\n\n        if (info.settings.positionStrategy.settings.openAnimation) {\n            this.playOpenAnimation(info);\n        } else {\n            //  to eliminate flickering show the element just before onOpened fire\n            info.elementRef.nativeElement.parentElement.style.visibility = '';\n            this.onOpened.emit({ id: info.id, componentRef: info.componentRef });\n        }\n    }\n\n    private _hide(id: string, event?: Event) {\n        const info: OverlayInfo = this.getOverlayById(id);\n\n        if (!info) {\n            console.warn('igxOverlay.hide was called with wrong id: ' + id);\n            return;\n        }\n\n        const eventArgs = { id, componentRef: info.componentRef, cancel: false, event };\n        this.onClosing.emit(eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n\n        //  TODO: synchronize where these are added/attached and where removed/detached\n        info.settings.scrollStrategy.detach();\n        this.removeOutsideClickListener(info);\n        this.removeResizeHandler(info.id);\n\n        const child: HTMLElement = info.elementRef.nativeElement;\n        if (info.settings.modal) {\n            const parent = child.parentNode.parentNode as HTMLElement;\n            this.applyAnimationParams(parent, info.settings.positionStrategy.settings.closeAnimation);\n            parent.classList.remove('igx-overlay__wrapper--modal');\n            parent.classList.add('igx-overlay__wrapper');\n        }\n\n        if (info.settings.positionStrategy.settings.closeAnimation) {\n            this.playCloseAnimation(info);\n        } else {\n            this.onCloseDone(info);\n        }\n    }\n\n    private getOverlayInfo(component: any, moduleRef?: Pick<NgModuleRef<any>, 'injector' | 'componentFactoryResolver'>): OverlayInfo {\n        const info: OverlayInfo = { ngZone: this._zone, transformX: 0, transformY: 0 };\n        if (component instanceof ElementRef) {\n            info.elementRef = <ElementRef>component;\n        } else {\n            let dynamicFactory: ComponentFactory<{}>;\n            const factoryResolver = moduleRef ? moduleRef.componentFactoryResolver : this._factoryResolver;\n            try {\n                dynamicFactory = factoryResolver.resolveComponentFactory(component);\n            } catch (error) {\n                console.error(error);\n                return null;\n            }\n\n            const injector = moduleRef ? moduleRef.injector : this._injector;\n            const dynamicComponent: ComponentRef<{}> = dynamicFactory.create(injector);\n            this._appRef.attachView(dynamicComponent.hostView);\n\n            // If the element is newly created from a Component, it is wrapped in 'ng-component' tag - we do not want that.\n            const element = dynamicComponent.location.nativeElement;\n            info.elementRef = <ElementRef>{ nativeElement: element };\n            info.componentRef = dynamicComponent;\n        }\n\n        return info;\n    }\n\n    private placeElementHook(element: HTMLElement): HTMLElement {\n        if (!element.parentElement) {\n            return null;\n        }\n\n        const hook = this._document.createElement('div');\n        element.parentElement.insertBefore(hook, element);\n        return hook;\n    }\n\n    private moveElementToOverlay(info: OverlayInfo) {\n        const wrapperElement = this.getWrapperElement();\n        const contentElement = this.getContentElement(wrapperElement, info.settings.modal);\n        this.getOverlayElement(info).appendChild(wrapperElement);\n        contentElement.appendChild(info.elementRef.nativeElement);\n    }\n\n    private getWrapperElement(): HTMLElement {\n        const wrapper: HTMLElement = this._document.createElement('div');\n        wrapper.classList.add('igx-overlay__wrapper');\n        return wrapper;\n    }\n\n    private getContentElement(wrapperElement: HTMLElement, modal: boolean): HTMLElement {\n        const content: HTMLElement = this._document.createElement('div');\n        if (modal) {\n            content.classList.add('igx-overlay__content--modal');\n            content.addEventListener('click', (ev: Event) => {\n                ev.stopPropagation();\n            });\n        } else {\n            content.classList.add('igx-overlay__content');\n        }\n\n        content.addEventListener('scroll', (ev: Event) => {\n            ev.stopPropagation();\n        });\n\n        //  hide element to eliminate flickering. Show the element exactly before animation starts\n        content.style.visibility = 'hidden';\n\n        wrapperElement.appendChild(content);\n        return content;\n    }\n\n    private getOverlayElement(info: OverlayInfo): HTMLElement {\n        if (info.settings.outlet) {\n            return info.settings.outlet.nativeElement;\n        }\n        if (!this._overlayElement) {\n            this._overlayElement = this._document.createElement('div');\n            this._overlayElement.classList.add('igx-overlay');\n            this._document.body.appendChild(this._overlayElement);\n        }\n\n        return this._overlayElement;\n    }\n\n    private updateSize(info: OverlayInfo) {\n        if (info.componentRef) {\n            //  if we are positioning component this is first time it gets visible\n            //  and we can finally get its size\n            info.initialSize = info.elementRef.nativeElement.getBoundingClientRect();\n        }\n\n        // set content div width only if element to show has width\n        if (info.initialSize.width !== 0) {\n            info.elementRef.nativeElement.parentElement.style.width = info.initialSize.width + 'px';\n        }\n    }\n\n    private setupModalWrapper(info: OverlayInfo) {\n        const wrapperElement = info.elementRef.nativeElement.parentElement.parentElement;\n        fromEvent(wrapperElement, 'keydown').pipe(\n            filter((ev: KeyboardEvent) => ev.key === 'Escape' || ev.key === 'Esc'),\n            takeUntil(this.destroy$)\n        ).subscribe(() => this.hide(info.id));\n        wrapperElement.classList.remove('igx-overlay__wrapper');\n        this.applyAnimationParams(wrapperElement, info.settings.positionStrategy.settings.openAnimation);\n        wrapperElement.classList.add('igx-overlay__wrapper--modal');\n    }\n\n    private onCloseDone(info: OverlayInfo) {\n        this.cleanUp(info);\n        this.onClosed.emit({ id: info.id, componentRef: info.componentRef });\n    }\n\n    private cleanUp(info: OverlayInfo) {\n        const child: HTMLElement = info.elementRef.nativeElement;\n        const outlet = this.getOverlayElement(info);\n        if (!outlet.contains(child)) {\n            console.warn('Component with id:' + info.id + ' is already removed!');\n            return;\n        }\n\n        outlet.removeChild(child.parentNode.parentNode);\n        if (info.componentRef) {\n            this._appRef.detachView(info.componentRef.hostView);\n            info.componentRef.destroy();\n        }\n\n        if (info.hook) {\n            info.hook.parentElement.insertBefore(info.elementRef.nativeElement, info.hook);\n            info.hook.parentElement.removeChild(info.hook);\n        }\n\n        const index = this._overlayInfos.indexOf(info);\n        this._overlayInfos.splice(index, 1);\n\n        // this._overlayElement.parentElement check just for tests that manually delete the element\n        if (this._overlayInfos.length === 0 && this._overlayElement && this._overlayElement.parentElement) {\n            this._overlayElement.parentElement.removeChild(this._overlayElement);\n            this._overlayElement = null;\n        }\n    }\n\n    private playOpenAnimation(info: OverlayInfo) {\n        if (!info.openAnimationPlayer) {\n            const animationBuilder = this.builder.build(info.settings.positionStrategy.settings.openAnimation);\n            info.openAnimationPlayer = animationBuilder.create(info.elementRef.nativeElement);\n\n            //  AnimationPlayer.getPosition returns always 0. To workaround this we are getting inner WebAnimationPlayer\n            //  and then getting the positions from it.\n            //  This is logged in Angular here - https://github.com/angular/angular/issues/18891\n            //  As soon as this is resolved we can remove this hack\n            const innerRenderer = (<any>info.openAnimationPlayer)._renderer;\n            info.openAnimationInnerPlayer = innerRenderer.engine.players[innerRenderer.engine.players.length - 1];\n            info.openAnimationPlayer.onDone(() => {\n                this.onOpened.emit({ id: info.id, componentRef: info.componentRef });\n                if (info.openAnimationPlayer) {\n                    info.openAnimationPlayer.reset();\n                    info.openAnimationPlayer = null;\n                }\n\n                if (info.closeAnimationPlayer && info.closeAnimationPlayer.hasStarted()) {\n                    info.closeAnimationPlayer.reset();\n                }\n            });\n        }\n\n        //  if there is opening animation already started do nothing\n        if (info.openAnimationPlayer.hasStarted()) {\n            return;\n        }\n\n        //  if there is closing animation already started start open animation from where close one has reached\n        //  and remove close animation\n        if (info.closeAnimationPlayer && info.closeAnimationPlayer.hasStarted()) {\n            //  getPosition() returns what part of the animation is passed, e.g. 0.5 if half the animation\n            //  is done, 0.75 if 3/4 of the animation is done. As we need to start next animation from where\n            //  the previous has finished we need the amount up to 1, therefore we are subtracting what\n            //  getPosition() returns from one\n            const position = 1 - info.closeAnimationInnerPlayer.getPosition();\n            info.closeAnimationPlayer.reset();\n            info.closeAnimationPlayer = null;\n            info.openAnimationPlayer.init();\n            info.openAnimationPlayer.setPosition(position);\n        }\n\n        this.onAnimation.emit({ id: info.id, animationPlayer: info.openAnimationPlayer, animationType: 'open' });\n\n        //  to eliminate flickering show the element just before animation start\n        info.elementRef.nativeElement.parentElement.style.visibility = '';\n        info.openAnimationPlayer.play();\n    }\n\n    private playCloseAnimation(info: OverlayInfo) {\n        if (!info.closeAnimationPlayer) {\n            const animationBuilder = this.builder.build(info.settings.positionStrategy.settings.closeAnimation);\n            info.closeAnimationPlayer = animationBuilder.create(info.elementRef.nativeElement);\n\n            //  AnimationPlayer.getPosition returns always 0. To workaround this we are getting inner WebAnimationPlayer\n            //  and then getting the positions from it.\n            //  This is logged in Angular here - https://github.com/angular/angular/issues/18891\n            //  As soon as this is resolved we can remove this hack\n            const innerRenderer = (<any>info.closeAnimationPlayer)._renderer;\n            info.closeAnimationInnerPlayer = innerRenderer.engine.players[innerRenderer.engine.players.length - 1];\n\n            info.closeAnimationPlayer.onDone(() => {\n                if (info.closeAnimationPlayer) {\n                    info.closeAnimationPlayer.reset();\n                    info.closeAnimationPlayer = null;\n                }\n\n                if (info.openAnimationPlayer && info.openAnimationPlayer.hasStarted()) {\n                    info.openAnimationPlayer.reset();\n                }\n                this.onCloseDone(info);\n            });\n        }\n\n        //  if there is closing animation already started do nothing\n        if (info.closeAnimationPlayer.hasStarted()) {\n            return;\n        }\n\n        //  if there is opening animation already started start close animation from where open one has reached\n        //  and remove open animation\n        if (info.openAnimationPlayer && info.openAnimationPlayer.hasStarted()) {\n            //  getPosition() returns what part of the animation is passed, e.g. 0.5 if half the animation\n            //  is done, 0.75 if 3/4 of the animation is done. As we need to start next animation from where\n            //  the previous has finished we need the amount up to 1, therefore we are subtracting what\n            //  getPosition() returns from one\n            const position = 1 - info.openAnimationInnerPlayer.getPosition();\n            info.openAnimationPlayer.reset();\n            info.openAnimationPlayer = null;\n            info.closeAnimationPlayer.init();\n            info.closeAnimationPlayer.setPosition(position);\n        }\n\n        this.onAnimation.emit({ id: info.id, animationPlayer: info.closeAnimationPlayer, animationType: 'close' });\n        info.closeAnimationPlayer.play();\n    }\n\n    //  TODO: check if applyAnimationParams will work with complex animations\n    private applyAnimationParams(wrapperElement: HTMLElement, animationOptions: AnimationReferenceMetadata) {\n        if (!animationOptions) {\n            wrapperElement.style.transitionDuration = '0ms';\n            return;\n        }\n        if (animationOptions.type === AnimationMetadataType.AnimateRef) {\n            animationOptions = (animationOptions as AnimationAnimateRefMetadata).animation;\n        }\n        if (!animationOptions.options || !animationOptions.options.params) {\n            return;\n        }\n        const params = animationOptions.options.params as IAnimationParams;\n        if (params.duration) {\n            wrapperElement.style.transitionDuration = params.duration;\n        }\n        if (params.easing) {\n            wrapperElement.style.transitionTimingFunction = params.easing;\n        }\n    }\n\n    /** @hidden @internal */\n    public getOverlayById(id: string): OverlayInfo {\n        if (!id) {\n            return null;\n        }\n\n        const info = this._overlayInfos.find(e => e.id === id);\n        return info;\n    }\n\n    private documentClicked = (ev: MouseEvent) => {\n        //  if we get to modal overlay just return - we should not close anything under it\n        //  if we get to non-modal overlay do the next:\n        //   1. Check it has close on outside click. If not go on to next overlay;\n        //   2. If true check if click is on the element. If it is on the element we have closed\n        //  already all previous non-modal with close on outside click elements, so we return. If\n        //  not close the overlay and check next\n        for (let i = this._overlayInfos.length; i--;) {\n            const info = this._overlayInfos[i];\n            if (info.settings.modal) {\n                return;\n            }\n            if (info.settings.closeOnOutsideClick) {\n                const target = ev.target as any;\n                //  if the click is on the element do not close this overlay\n                if (!info.elementRef.nativeElement.contains(target)) {\n                    // if we should exclude position target check if the click is over it. If so do not close overlay\n                    const positionTarget = info.settings.positionStrategy.settings.target as HTMLElement;\n                    let clickOnPositionTarget = false;\n                    if (positionTarget) {\n                        clickOnPositionTarget = positionTarget.contains(target);\n                    }\n\n                    if (!(info.settings.excludePositionTarget && clickOnPositionTarget)) {\n                        //  if the click is outside click, but close animation has started do nothing\n                        if (!(info.closeAnimationPlayer && info.closeAnimationPlayer.hasStarted())) {\n                            this._hide(info.id, ev);\n                        }\n                    }\n                } else {\n                    //  TODO: should we return here, or continue with next overlays\n                    return;\n                }\n            }\n        }\n    }\n\n    private addOutsideClickListener(info: OverlayInfo) {\n        if (info.settings.closeOnOutsideClick) {\n            if (info.settings.modal) {\n                fromEvent(info.elementRef.nativeElement.parentElement.parentElement, 'click')\n                    .pipe(takeUntil(this.destroy$))\n                    .subscribe((e: Event) => this._hide(info.id, e));\n            } else if (\n                //  if all overlays minus closing overlays equals one add the handler\n                this._overlayInfos.filter(x => x.settings.closeOnOutsideClick && !x.settings.modal).length -\n                this._overlayInfos.filter(x => x.settings.closeOnOutsideClick && !x.settings.modal &&\n                    x.closeAnimationPlayer &&\n                    x.closeAnimationPlayer.hasStarted()).length === 1) {\n                this._document.addEventListener('click', this.documentClicked, true);\n            }\n        }\n    }\n\n    private removeOutsideClickListener(info: OverlayInfo) {\n        if (info.settings.modal === false) {\n            let shouldRemoveClickEventListener = true;\n            this._overlayInfos.forEach(o => {\n                if (o.settings.modal === false && o.id !== info.id) {\n                    shouldRemoveClickEventListener = false;\n                }\n            });\n\n            if (shouldRemoveClickEventListener) {\n                this._document.removeEventListener('click', this.documentClicked, true);\n            }\n        }\n    }\n\n    private addResizeHandler(id: string) {\n        const closingOverlaysCount =\n            this._overlayInfos\n                .filter(o => o.closeAnimationPlayer && o.closeAnimationPlayer.hasStarted())\n                .length;\n        if (this._overlayInfos.length - closingOverlaysCount === 1) {\n            this._document.defaultView.addEventListener('resize', this.repositionAll);\n        }\n    }\n\n    private removeResizeHandler(id: string) {\n        const closingOverlaysCount =\n            this._overlayInfos\n                .filter(o => o.closeAnimationPlayer && o.closeAnimationPlayer.hasStarted())\n                .length;\n        if (this._overlayInfos.length - closingOverlaysCount === 1) {\n            this._document.defaultView.removeEventListener('resize', this.repositionAll);\n        }\n    }\n\n    /** @hidden */\n    public repositionAll = () => {\n        for (let i = this._overlayInfos.length; i--;) {\n            this.reposition(this._overlayInfos[i].id);\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    public ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n}\n","import { PositionSettings, Size } from '../utilities';\nimport { GlobalPositionStrategy } from './global-position-strategy';\n\n/**\n * Positions the element inside the containing outlet based on the directions passed in trough PositionSettings.\n * These are Top/Middle/Bottom for verticalDirection and Left/Center/Right for horizontalDirection\n */\nexport class ContainerPositionStrategy extends GlobalPositionStrategy {\n    constructor(settings?: PositionSettings) {\n        super(settings);\n    }\n\n    /** @inheritdoc */\n    position(contentElement: HTMLElement, size?: Size, document?: Document, initialCall?: boolean): void {\n        contentElement.classList.add('igx-overlay__content--relative');\n        contentElement.parentElement.classList.add('igx-overlay__wrapper--flex-container');\n        this.setPosition(contentElement, this.settings);\n    }\n}\n\n","import { IPositionStrategy } from './IPositionStrategy';\nimport {\n  HorizontalAlignment,\n  Point,\n  PositionSettings,\n  Size,\n  Util,\n  VerticalAlignment\n} from './../utilities';\nimport { scaleInVerTop, scaleOutVerTop } from '../../../animations/main';\nimport { ConnectedFit } from '../utilities';\n\n/**\n * Positions the element based on the directions and start point passed in trough PositionSettings.\n * It is possible to either pass a start point or an HTMLElement as a positioning base.\n */\nexport class ConnectedPositioningStrategy implements IPositionStrategy {\n  private _defaultSettings: PositionSettings = {\n    // default Point(0, 0) in getPointFromPositionsSettings\n    target: null,\n    horizontalDirection: HorizontalAlignment.Right,\n    verticalDirection: VerticalAlignment.Bottom,\n    horizontalStartPoint: HorizontalAlignment.Left,\n    verticalStartPoint: VerticalAlignment.Bottom,\n    openAnimation: scaleInVerTop,\n    closeAnimation: scaleOutVerTop,\n    minSize: { width: 0, height: 0 }\n  };\n\n  /** @inheritdoc */\n  public settings: PositionSettings;\n\n  constructor(settings?: PositionSettings) {\n    this.settings = Object.assign({}, this._defaultSettings, settings);\n  }\n\n  /**\n   * Obtains the ClientRect objects for the required elements - target and element to position\n   * @returns target and element ClientRect objects\n   */\n  protected calculateElementRectangles(contentElement): { targetRect: ClientRect, elementRect: ClientRect } {\n      return {\n          targetRect: Util.getTargetRect(this.settings),\n          elementRect: contentElement.getBoundingClientRect() as ClientRect\n      };\n  }\n\n  /** @inheritdoc */\n  position(contentElement: HTMLElement, size: Size, document?: Document, initialCall?: boolean): void {\n    const rects =  this.calculateElementRectangles(contentElement);\n    this.setStyle(contentElement, rects.targetRect, rects.elementRect, {});\n  }\n\n  /**\n   * @inheritdoc\n   * Creates clone of this position strategy\n   * @returns clone of this position strategy\n   */\n  clone(): IPositionStrategy {\n    return Util.cloneInstance(this);\n  }\n\n  /**\n   * Sets element's style which effectively positions provided element according\n   * to provided position settings\n   * @param element Element to position\n   * @param targetRect Bounding rectangle of strategy target\n   * @param elementRect Bounding rectangle of the element\n   */\n  protected setStyle(element: HTMLElement, targetRect: ClientRect, elementRect: ClientRect, connectedFit: ConnectedFit) {\n      const horizontalOffset = connectedFit.horizontalOffset ? connectedFit.horizontalOffset : 0;\n      const verticalOffset = connectedFit.verticalOffset ? connectedFit.verticalOffset : 0;\n    const startPoint: Point = {\n      x: targetRect.right + targetRect.width * this.settings.horizontalStartPoint + horizontalOffset,\n      y: targetRect.bottom + targetRect.height * this.settings.verticalStartPoint + verticalOffset\n    };\n    const wrapperRect: ClientRect = element.parentElement.getBoundingClientRect();\n\n    //  clean up styles - if auto position strategy is chosen we may pass here several times\n    element.style.right = '';\n    element.style.left = '';\n    element.style.bottom = '';\n    element.style.top = '';\n\n    switch (this.settings.horizontalDirection) {\n      case HorizontalAlignment.Left:\n        element.style.right = `${Math.round(wrapperRect.right - startPoint.x)}px`;\n        break;\n      case HorizontalAlignment.Center:\n        element.style.left = `${Math.round(startPoint.x - wrapperRect.left - elementRect.width / 2)}px`;\n        break;\n      case HorizontalAlignment.Right:\n        element.style.left = `${Math.round(startPoint.x - wrapperRect.left)}px`;\n        break;\n    }\n\n    switch (this.settings.verticalDirection) {\n      case VerticalAlignment.Top:\n        element.style.bottom = `${Math.round(wrapperRect.bottom - startPoint.y)}px`;\n        break;\n      case VerticalAlignment.Middle:\n        element.style.top = `${Math.round(startPoint.y - wrapperRect.top - elementRect.height / 2)}px`;\n        break;\n      case VerticalAlignment.Bottom:\n        element.style.top = `${Math.round(startPoint.y - wrapperRect.top)}px`;\n        break;\n    }\n  }\n}\n","import { ConnectedPositioningStrategy } from './connected-positioning-strategy';\nimport { HorizontalAlignment, VerticalAlignment, PositionSettings, Size, Util, ConnectedFit, OutOfViewPort } from '../utilities';\n\nexport abstract class BaseFitPositionStrategy extends ConnectedPositioningStrategy {\n    protected _initialSize: Size;\n    protected _initialSettings: PositionSettings;\n\n    /** @inheritdoc */\n    position(contentElement: HTMLElement, size: Size, document?: Document, initialCall?: boolean): void {\n        const rects = super.calculateElementRectangles(contentElement);\n        const connectedFit: ConnectedFit = {};\n        if (initialCall) {\n            connectedFit.targetRect = rects.targetRect;\n            connectedFit.contentElementRect = rects.elementRect;\n            this._initialSettings = this._initialSettings || Object.assign({}, this.settings);\n            this.settings = Object.assign({}, this._initialSettings);\n            connectedFit.viewPortRect = Util.getViewportRect(document);\n            this.updateViewPortFit(connectedFit);\n            if (this.shouldFitInViewPort(connectedFit)) {\n                this.fitInViewport(contentElement, connectedFit);\n            }\n        }\n        this.setStyle(contentElement, rects.targetRect, rects.elementRect, connectedFit);\n    }\n\n    /**\n     * Checks if element can fit in viewport and updates provided connectedFit\n     * with the result\n     * @param connectedFit connectedFit to update\n     */\n    protected updateViewPortFit(connectedFit: ConnectedFit) {\n        connectedFit.left = this.calculateLeft(\n            connectedFit.targetRect,\n            connectedFit.contentElementRect,\n            this.settings.horizontalStartPoint,\n            this.settings.horizontalDirection,\n            connectedFit.horizontalOffset ? connectedFit.horizontalOffset : 0);\n        connectedFit.right = connectedFit.left + connectedFit.contentElementRect.width;\n        connectedFit.fitHorizontal = {\n                back: Math.round(connectedFit.left),\n                forward: Math.round(connectedFit.viewPortRect.width - connectedFit.right)\n            };\n\n        connectedFit.top = this.calculateTop(\n            connectedFit.targetRect,\n            connectedFit.contentElementRect,\n            this.settings.verticalStartPoint,\n            this.settings.verticalDirection,\n            connectedFit.verticalOffset ? connectedFit.verticalOffset : 0);\n        connectedFit.bottom = connectedFit.top + connectedFit.contentElementRect.height;\n        connectedFit.fitVertical = {\n            back: Math.round(connectedFit.top),\n            forward: Math.round(connectedFit.viewPortRect.height - connectedFit.bottom)\n        };\n    }\n\n    /**\n     * Calculates the position of the left border of the element if it gets positioned\n     * with provided start point and direction\n     * @param targetRect Rectangle of the target where element is attached\n     * @param elementRect Rectangle of the element\n     * @param startPoint Start point of the target\n     * @param direction Direction in which to show the element\n     */\n    protected calculateLeft(\n        targetRect: ClientRect, elementRect: ClientRect, startPoint: HorizontalAlignment, direction: HorizontalAlignment, offset?: number):\n        number {\n        return targetRect.right + targetRect.width * startPoint + elementRect.width * direction + offset;\n    }\n\n    /**\n     * Calculates the position of the top border of the element if it gets positioned\n     * with provided position settings related to the target\n     * @param targetRect Rectangle of the target where element is attached\n     * @param elementRect Rectangle of the element\n     * @param startPoint Start point of the target\n     * @param direction Direction in which to show the element\n     */\n    protected calculateTop(\n        targetRect: ClientRect, elementRect: ClientRect, startPoint: VerticalAlignment, direction: VerticalAlignment, offset?: number):\n        number {\n        return targetRect.bottom + targetRect.height * startPoint + elementRect.height * direction + offset;\n    }\n\n    /**\n     * Returns whether the element should fit in viewport\n     * @param connectedFit connectedFit object containing all necessary parameters\n     */\n    protected shouldFitInViewPort(connectedFit: ConnectedFit) {\n        return connectedFit.fitHorizontal.back < 0 || connectedFit.fitHorizontal.forward < 0 ||\n            connectedFit.fitVertical.back < 0 || connectedFit.fitVertical.forward < 0;\n    }\n\n    /**\n     * Fits the element into viewport according to the position settings\n     * @param element element to fit in viewport\n     * @param connectedFit connectedFit object containing all necessary parameters\n     */\n    protected abstract fitInViewport(\n        element: HTMLElement,\n        connectedFit: ConnectedFit);\n}\n","import { VerticalAlignment, HorizontalAlignment, ConnectedFit } from './../utilities';\nimport { BaseFitPositionStrategy } from './base-fit-position-strategy';\n\n/**\n * Positions the element as in **Connected** positioning strategy and re-positions the element in\n * the view port (calculating a different start point) in case the element is partially getting out of view\n */\nexport class AutoPositionStrategy extends BaseFitPositionStrategy {\n\n    /** @inheritdoc */\n    protected fitInViewport(element: HTMLElement, connectedFit: ConnectedFit) {\n        const transformString: string[] = [];\n        if (connectedFit.fitHorizontal.back < 0 || connectedFit.fitHorizontal.forward < 0) {\n            if (this.canFlipHorizontal(connectedFit)) {\n                this.flipHorizontal();\n            } else {\n                const horizontalPush = this.horizontalPush(connectedFit);\n                transformString.push(`translateX(${horizontalPush}px)`);\n            }\n        }\n\n        if (connectedFit.fitVertical.back < 0 || connectedFit.fitVertical.forward < 0) {\n            if (this.canFlipVertical(connectedFit)) {\n                this.flipVertical();\n            } else {\n                const verticalPush = this.verticalPush(connectedFit);\n                transformString.push(`translateY(${verticalPush}px)`);\n            }\n        }\n\n        element.style.transform = transformString.join(' ').trim();\n    }\n\n    /**\n     * Checks if element can be flipped without get off the viewport\n     * @param connectedFit connectedFit object containing all necessary parameters\n     * @returns true if element can be flipped and stain in viewport\n     */\n    private canFlipHorizontal(connectedFit: ConnectedFit): boolean {\n        //  HorizontalAlignment can be Left = -1; Center = -0.5 or Right = 0.\n        //  To virtually flip direction and start point (both are HorizontalAlignment) we can do this:\n        //  flippedAlignment = (-1) * (HorizontalAlignment + 1)\n        //  this way:\n        //  (-1) * (Left + 1) = 0 = Right\n        //  (-1) * (Center + 1) = -0.5 = Center\n        //  (-1) * (Right + 1) = -1 = Left\n        const flippedStartPoint = (-1) * (this.settings.horizontalStartPoint + 1);\n        const flippedDirection = (-1) * (this.settings.horizontalDirection + 1);\n\n        const leftBorder = this.calculateLeft(\n            connectedFit.targetRect, connectedFit.contentElementRect, flippedStartPoint, flippedDirection, 0);\n        const rightBorder = leftBorder + connectedFit.contentElementRect.width;\n        return 0 < leftBorder && rightBorder < connectedFit.viewPortRect.width;\n    }\n\n    /**\n     * Checks if element can be flipped without get off the viewport\n     * @param connectedFit connectedFit object containing all necessary parameters\n     * @returns true if element can be flipped and stain in viewport\n     */\n    private canFlipVertical(connectedFit: ConnectedFit): boolean {\n        const flippedStartPoint = (-1) * (this.settings.verticalStartPoint + 1);\n        const flippedDirection = (-1) * (this.settings.verticalDirection + 1);\n\n        const topBorder = this.calculateTop(\n            connectedFit.targetRect, connectedFit.contentElementRect, flippedStartPoint, flippedDirection, 0);\n        const bottomBorder = topBorder + connectedFit.contentElementRect.height;\n        return 0 < topBorder && bottomBorder < connectedFit.viewPortRect.height;\n    }\n\n    /**\n     * Flips direction and start point of the position settings\n     */\n    private flipHorizontal() {\n        switch (this.settings.horizontalDirection) {\n            case HorizontalAlignment.Left:\n                this.settings.horizontalDirection = HorizontalAlignment.Right;\n                break;\n            case HorizontalAlignment.Right:\n                this.settings.horizontalDirection = HorizontalAlignment.Left;\n                break;\n        }\n        switch (this.settings.horizontalStartPoint) {\n            case HorizontalAlignment.Left:\n                this.settings.horizontalStartPoint = HorizontalAlignment.Right;\n                break;\n            case HorizontalAlignment.Right:\n                this.settings.horizontalStartPoint = HorizontalAlignment.Left;\n                break;\n        }\n    }\n\n    /**\n     * Flips direction and start point of the position settings\n     */\n    private flipVertical() {\n        switch (this.settings.verticalDirection) {\n            case VerticalAlignment.Top:\n                this.settings.verticalDirection = VerticalAlignment.Bottom;\n                break;\n            case VerticalAlignment.Bottom:\n                this.settings.verticalDirection = VerticalAlignment.Top;\n                break;\n        }\n        switch (this.settings.verticalStartPoint) {\n            case VerticalAlignment.Top:\n                this.settings.verticalStartPoint = VerticalAlignment.Bottom;\n                break;\n            case VerticalAlignment.Bottom:\n                this.settings.verticalStartPoint = VerticalAlignment.Top;\n                break;\n        }\n    }\n\n    /**\n     * Calculates necessary horizontal push according to provided connectedFit\n     * @param connectedFit connectedFit object containing all necessary parameters\n     * @returns amount of necessary translation which will push the element into viewport\n     */\n    private horizontalPush(connectedFit: ConnectedFit): number {\n        const leftExtend = connectedFit.left;\n        const rightExtend = connectedFit.right - connectedFit.viewPortRect.right;\n        //  if leftExtend < 0 overlay goes beyond left end of the screen. We should push it back with exactly\n        //  as much as it is beyond the screen.\n        //  if rightExtend > 0 overlay goes beyond right end of the screen. We should push it back with the\n        //  extend but with amount not bigger than what left between left border of screen and left border of\n        //  overlay, e.g. leftExtend\n        if (leftExtend < 0) {\n            return Math.abs(leftExtend);\n        } else if (rightExtend > 0) {\n            return - Math.min(rightExtend, leftExtend);\n        } else {\n            return 0;\n        }\n    }\n\n    /**\n     * Calculates necessary vertical push according to provided connectedFit\n     * @param connectedFit connectedFit object containing all necessary parameters\n     * @returns amount of necessary translation which will push the element into viewport\n     */\n    private verticalPush(connectedFit: ConnectedFit): number {\n        const topExtend = connectedFit.top;\n        const bottomExtend = connectedFit.bottom - connectedFit.viewPortRect.bottom;\n        if (topExtend < 0) {\n            return Math.abs(topExtend);\n        } else if (bottomExtend > 0) {\n            return - Math.min(bottomExtend, topExtend);\n        } else {\n            return 0;\n        }\n    }\n}\n","import { BaseFitPositionStrategy } from './base-fit-position-strategy';\nimport { HorizontalAlignment, VerticalAlignment, ConnectedFit } from '../utilities';\n\n/**\n * Positions the element as in **Connected** positioning strategy and resize the element\n * to fit in the view port in case the element is partially getting out of view\n */\nexport class ElasticPositionStrategy extends BaseFitPositionStrategy {\n    /** @inheritdoc */\n    protected fitInViewport(element: HTMLElement, connectedFit: ConnectedFit) {\n        element.classList.add('igx-overlay__content--elastic');\n        const transformString: string[] = [];\n        if (connectedFit.fitHorizontal.back < 0 || connectedFit.fitHorizontal.forward < 0) {\n            const maxReduction = Math.max(0, connectedFit.contentElementRect.width - this.settings.minSize.width);\n            const leftExtend = Math.max(0, -connectedFit.fitHorizontal.back);\n            const rightExtend = Math.max(0, -connectedFit.fitHorizontal.forward);\n            const reduction = Math.min(maxReduction, leftExtend + rightExtend);\n            element.style.width = `${connectedFit.contentElementRect.width - reduction}px`;\n\n            //  if direction is center and element goes off the screen in left direction we should push the\n            //  element to the right. Prevents left still going out of view when normally positioned\n            if (this.settings.horizontalDirection === HorizontalAlignment.Center) {\n                //  the amount of translation depends on whether element goes off the screen to the left,\n                //  to the right or in both directions, as well as how much it goes of the screen and finally\n                //  on the minSize. The translation should be proportional between left and right extend\n                //  taken from the reduction\n                const translation = leftExtend * reduction / (leftExtend + rightExtend);\n                if (translation > 0) {\n                    transformString.push(`translateX(${translation}px)`);\n                }\n            }\n        }\n\n        if (connectedFit.fitVertical.back < 0 || connectedFit.fitVertical.forward < 0) {\n            const maxReduction = Math.max(0, connectedFit.contentElementRect.height - this.settings.minSize.height);\n            const topExtend = Math.max(0, -connectedFit.fitVertical.back);\n            const bottomExtend = Math.max(0, -connectedFit.fitVertical.forward);\n            const reduction = Math.min(maxReduction, topExtend + bottomExtend);\n            element.style.height = `${connectedFit.contentElementRect.height - reduction}px`;\n\n            //  if direction is middle and element goes off the screen in top direction we should push the\n            //  element to the bottom. Prevents top still going out of view when normally positioned\n            if (this.settings.verticalDirection === VerticalAlignment.Middle) {\n                //  the amount of translation depends on whether element goes off the screen to the top,\n                //  to the bottom or in both directions, as well as how much it goes of the screen and finally\n                //  on the minSize. The translation should be proportional between top and bottom extend\n                //  taken from the reduction\n                const translation = topExtend * reduction / (topExtend + bottomExtend);\n                if (translation > 0) {\n                    transformString.push(`translateY(${translation}px)`);\n                }\n            }\n        }\n        element.style.transform = transformString.join(' ').trim();\n    }\n}\n","import { IgxOverlayService } from '../overlay';\nimport { ScrollStrategy } from './scroll-strategy';\nimport { NgZone } from '@angular/core';\n\n/**\n * On scroll reposition the overlay content.\n */\nexport class AbsoluteScrollStrategy extends ScrollStrategy {\n    private _initialized = false;\n    private _document: Document;\n    private _overlayService: IgxOverlayService;\n    private _id: string;\n    private _scrollContainer: HTMLElement;\n    private _zone: NgZone;\n\n    constructor(scrollContainer?: HTMLElement) {\n        super(scrollContainer);\n        this._scrollContainer = scrollContainer;\n    }\n\n    /** @inheritdoc */\n    public initialize(document: Document, overlayService: IgxOverlayService, id: string) {\n        if (this._initialized) {\n            return;\n        }\n        this._overlayService = overlayService;\n        this._id = id;\n        this._document = document;\n        this._zone = overlayService.getOverlayById(id).ngZone;\n        this._initialized = true;\n    }\n\n    /** @inheritdoc */\n    public attach(): void {\n        if (this._zone) {\n            this._zone.runOutsideAngular(() => {\n                this.addScrollEventListener();\n            });\n        } else {\n            this.addScrollEventListener();\n        }\n    }\n\n    /** @inheritdoc */\n    public detach(): void {\n        if (this._scrollContainer) {\n            this._scrollContainer.removeEventListener('scroll', this.onScroll, true);\n        } else {\n            this._document.removeEventListener('scroll', this.onScroll, true);\n        }\n\n        this._initialized = false;\n    }\n\n    private addScrollEventListener() {\n        if (this._scrollContainer) {\n            this._scrollContainer.addEventListener('scroll', this.onScroll, true);\n        } else {\n            this._document.addEventListener('scroll', this.onScroll, true);\n        }\n    }\n\n    private onScroll = (e: Event) => {\n        const overlayInfo = this._overlayService.getOverlayById(this._id);\n        if (!overlayInfo) {\n            return;\n        }\n        if (!overlayInfo.elementRef.nativeElement.contains(e.target)) {\n            this._overlayService.reposition(this._id);\n        }\n    }\n}\n","import { IgxOverlayService } from '../overlay';\nimport { ScrollStrategy } from './scroll-strategy';\n\n/**\n * Prevents scrolling while the overlay content is shown.\n */\nexport class BlockScrollStrategy extends ScrollStrategy {\n    private _initialized = false;\n    private _document: Document;\n    private _initialScrollTop: number;\n    private _initialScrollLeft: number;\n    private _sourceElement: Element;\n\n    constructor(scrollContainer?: HTMLElement) {\n        super(scrollContainer);\n    }\n\n    /** @inheritdoc */\n    public initialize(document: Document, overlayService: IgxOverlayService, id: string) {\n        if (this._initialized) {\n            return;\n        }\n\n        this._document = document;\n        this._initialized = true;\n    }\n\n    /** @inheritdoc */\n    public attach(): void {\n        this._document.addEventListener('scroll', this.onScroll, true);\n    }\n\n    /** @inheritdoc */\n    public detach(): void {\n        this._document.removeEventListener('scroll', this.onScroll, true);\n        this._sourceElement = null;\n        this._initialScrollTop = 0;\n        this._initialScrollLeft = 0;\n        this._initialized = false;\n    }\n\n    private onScroll = (ev: Event) => {\n        ev.preventDefault();\n        if (!this._sourceElement || this._sourceElement !== ev.target) {\n            this._sourceElement = ev.target as Element;\n            this._initialScrollTop = this._sourceElement.scrollTop;\n            this._initialScrollLeft = this._sourceElement.scrollLeft;\n        }\n\n        this._sourceElement.scrollTop = this._initialScrollTop;\n        this._sourceElement.scrollLeft = this._initialScrollLeft;\n    }\n}\n","import { IgxOverlayService } from '../overlay';\nimport { ScrollStrategy } from './scroll-strategy';\n\n/**\n * Uses a tolerance and closes the shown component upon scrolling if the tolerance is exceeded\n */\nexport class CloseScrollStrategy extends ScrollStrategy {\n    private _document: Document;\n    private _overlayService: IgxOverlayService;\n    private _id: string;\n    private initialScrollTop: number;\n    private initialScrollLeft: number;\n    private cumulativeScrollTop: number;\n    private cumulativeScrollLeft: number;\n    private _threshold: number;\n    private _initialized = false;\n    private _sourceElement: Element;\n    private _scrollContainer: HTMLElement;\n\n    constructor(scrollContainer?: HTMLElement) {\n        super(scrollContainer);\n        this._scrollContainer = scrollContainer;\n        this._threshold = 10;\n        this.cumulativeScrollTop = 0;\n        this.cumulativeScrollLeft = 0;\n    }\n\n    /** @inheritdoc */\n    public initialize(document: Document, overlayService: IgxOverlayService, id: string) {\n        if (this._initialized) {\n            return;\n        }\n        this._overlayService = overlayService;\n        this._id = id;\n        this._document = document;\n        this._initialized = true;\n    }\n\n    /** @inheritdoc */\n    public attach(): void {\n        if (this._scrollContainer) {\n            this._scrollContainer.addEventListener('scroll', this.onScroll);\n            this._sourceElement = this._scrollContainer;\n        } else {\n            this._document.addEventListener('scroll', this.onScroll);\n            if (document.documentElement.scrollHeight > document.documentElement.clientHeight) {\n                this._sourceElement = document.documentElement as Element;\n            } else if (document.body.scrollHeight > document.body.clientHeight) {\n                this._sourceElement = document.body as Element;\n            }\n        }\n\n        if (!this._sourceElement) {\n            return;\n        }\n\n        this.cumulativeScrollTop = 0;\n        this.cumulativeScrollLeft = 0;\n        this.initialScrollTop = this._sourceElement.scrollTop;\n        this.initialScrollLeft = this._sourceElement.scrollLeft;\n    }\n\n    /** @inheritdoc */\n    public detach(): void {\n        // TODO: check why event listener removes only on first call and remains on each next!!!\n        if (this._scrollContainer) {\n            this._scrollContainer.removeEventListener('scroll', this.onScroll);\n        } else {\n            this._document.removeEventListener('scroll', this.onScroll);\n        }\n        this._sourceElement = null;\n        this.cumulativeScrollTop = 0;\n        this.cumulativeScrollLeft = 0;\n        this.initialScrollTop = 0;\n        this.initialScrollLeft = 0;\n        this._initialized = false;\n    }\n\n    private onScroll = (ev: Event) => {\n        if (!this._sourceElement) {\n            return;\n        }\n\n        this.cumulativeScrollTop += this._sourceElement.scrollTop;\n        this.cumulativeScrollLeft += this._sourceElement.scrollLeft;\n\n        if (Math.abs(this.cumulativeScrollTop - this.initialScrollTop) > this._threshold ||\n            Math.abs(this.cumulativeScrollLeft - this.initialScrollLeft) > this._threshold) {\n            this._document.removeEventListener('scroll', this.onScroll, true);\n            this._overlayService.hide(this._id);\n        }\n    }\n}\n","\n// Export scroll strategies\nexport * from './scroll-strategy';\nexport * from './IScrollStrategy';\nexport * from './absolute-scroll-strategy';\nexport * from './block-scroll-strategy';\nexport * from './close-scroll-strategy';\nexport * from './NoOpScrollStrategy';\n\n","import { TransactionService, Transaction, State } from './transaction';\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { isObject, mergeObjects, cloneValue } from '../../core/utils';\n\n@Injectable()\nexport class IgxBaseTransactionService<T extends Transaction, S extends State> implements TransactionService<T, S> {\n    protected _isPending = false;\n    protected _pendingTransactions: T[] = [];\n    protected _pendingStates: Map<any, S> = new Map();\n\n    /**\n     * @inheritdoc\n     */\n    public get canRedo(): boolean {\n        return false;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public get canUndo(): boolean {\n        return false;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public get enabled(): boolean {\n        return this._isPending;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public onStateUpdate = new EventEmitter<void>();\n\n    /**\n     * @inheritdoc\n     */\n    public add(transaction: T, recordRef?: any): void {\n        if (this._isPending) {\n            this.updateState(this._pendingStates, transaction, recordRef);\n            this._pendingTransactions.push(transaction);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getTransactionLog(id?: any): T[] { return []; }\n\n    /**\n     * @inheritdoc\n     */\n    undo(): void { }\n\n    /**\n     * @inheritdoc\n     */\n    redo(): void { }\n\n    /**\n     * @inheritdoc\n     */\n    getAggregatedChanges(mergeChanges: boolean): T[] {\n        const result: T[] = [];\n        this._pendingStates.forEach((state: S, key: any) => {\n            const value = mergeChanges ? this.getAggregatedValue(key, mergeChanges) : state.value;\n            result.push({ id: key, newValue: value, type: state.type } as T);\n        });\n        return result;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public getState(id: any): S {\n        return this._pendingStates.get(id);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public getAggregatedValue(id: any, mergeChanges: boolean): any {\n        const state = this._pendingStates.get(id);\n        if (!state) {\n            return null;\n        }\n        if (mergeChanges) {\n            return this.updateValue(state);\n        }\n        return state.value;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    commit(data: any[], id?: any): void { }\n\n    /**\n     * @inheritdoc\n     */\n    clear(id?: any): void {\n        this._pendingStates.clear();\n        this._pendingTransactions = [];\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public startPending(): void {\n        this._isPending = true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public endPending(commit: boolean): void {\n        this._isPending = false;\n        this._pendingStates.clear();\n        this._pendingTransactions = [];\n    }\n\n\n    /**\n     * Updates the provided states collection according to passed transaction and recordRef\n     * @param states States collection to apply the update to\n     * @param transaction Transaction to apply to the current state\n     * @param recordRef Reference to the value of the record in data source, if any, where transaction should be applied\n     */\n    protected updateState(states: Map<any, S>, transaction: T, recordRef?: any): void {\n        let state = states.get(transaction.id);\n        if (state) {\n            if (isObject(state.value)) {\n                mergeObjects(state.value, transaction.newValue);\n            } else {\n                state.value = transaction.newValue;\n            }\n        } else {\n            state = { value: cloneValue(transaction.newValue), recordRef: recordRef, type: transaction.type } as S;\n            states.set(transaction.id, state);\n        }\n    }\n\n    /**\n     * Updates the recordRef of the provided state with all the changes in the state. Accepts primitive and object value types\n     * @param state State to update value for\n     * @returns updated value including all the changes in provided state\n     */\n    protected updateValue(state: S) {\n        return this.mergeValues(state.recordRef, state.value);\n    }\n\n    /**\n     * Merges second values in first value and the result in empty object. If values are primitive type\n     * returns second value if exists, or first value.\n     * @param first Value to merge into\n     * @param second Value to merge\n     */\n    protected mergeValues<U>(first: U, second: U): U {\n        let result: U;\n        if (isObject(first) || isObject(second)) {\n            result = mergeObjects(mergeObjects({}, first), second);\n        } else {\n            result = second ? second : first;\n        }\n        return result;\n    }\n}\n","import { Transaction, State, TransactionType } from './transaction';\nimport { IgxBaseTransactionService } from './base-transaction';\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { isObject, mergeObjects, cloneValue } from '../../core/utils';\n\n@Injectable()\nexport class IgxTransactionService<T extends Transaction, S extends State> extends IgxBaseTransactionService<T, S> {\n    protected _transactions: T[] = [];\n    protected _redoStack: { transaction: T, recordRef: any }[][] = [];\n    protected _undoStack: { transaction: T, recordRef: any }[][] = [];\n    protected _states: Map<any, S> = new Map();\n\n    /**\n     * @inheritdoc\n     */\n    get canUndo(): boolean {\n        return this._undoStack.length > 0;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    get canRedo(): boolean {\n        return this._redoStack.length > 0;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public onStateUpdate = new EventEmitter<void>();\n\n    /**\n     * @inheritdoc\n     */\n    public add(transaction: T, recordRef?: any): void {\n        const states = this._isPending ? this._pendingStates : this._states;\n        this.verifyAddedTransaction(states, transaction, recordRef);\n        this.addTransaction(transaction, states, recordRef);\n    }\n\n    protected addTransaction(transaction: T, states: Map<any, S>, recordRef?: any) {\n        this.updateState(states, transaction, recordRef);\n\n        const transactions = this._isPending ? this._pendingTransactions : this._transactions;\n        transactions.push(transaction);\n\n        if (!this._isPending) {\n            this._undoStack.push([{ transaction, recordRef }]);\n            this._redoStack = [];\n            this.onStateUpdate.emit();\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public getTransactionLog(id?: any): T[] {\n        if (id !== undefined) {\n            return this._transactions.filter(t => t.id === id);\n        }\n        return [...this._transactions];\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public getAggregatedChanges(mergeChanges: boolean): T[] {\n        const result: T[] = [];\n        this._states.forEach((state: S, key: any) => {\n            const value = mergeChanges ? this.mergeValues(state.recordRef, state.value) : state.value;\n            result.push({ id: key, newValue: value, type: state.type } as T);\n        });\n        return result;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public getState(id: any, pending: boolean = false): S {\n        return pending ? this._pendingStates.get(id) : this._states.get(id);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public get enabled(): boolean {\n        return true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public getAggregatedValue(id: any, mergeChanges: boolean): any {\n        const state = this._states.get(id);\n        const pendingState = super.getState(id);\n\n        //  if there is no state and there is no pending state return null\n        if (!state && !pendingState) {\n            return null;\n        }\n\n        const pendingChange = super.getAggregatedValue(id, false);\n        const change = state && state.value;\n        let aggregatedValue = this.mergeValues(change, pendingChange);\n        if (mergeChanges) {\n            const originalValue = state ? state.recordRef : pendingState.recordRef;\n            aggregatedValue = this.mergeValues(originalValue, aggregatedValue);\n        }\n        return aggregatedValue;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public endPending(commit: boolean): void {\n        this._isPending = false;\n        if (commit) {\n            const actions: { transaction: T, recordRef: any }[] = [];\n            // don't use addTransaction due to custom undo handling\n            for (const transaction of this._pendingTransactions) {\n                const pendingState = this._pendingStates.get(transaction.id);\n                this._transactions.push(transaction);\n                this.updateState(this._states, transaction, pendingState.recordRef);\n                actions.push({ transaction, recordRef: pendingState.recordRef });\n            }\n\n            this._undoStack.push(actions);\n            this._redoStack = [];\n\n            this.onStateUpdate.emit();\n        }\n        super.endPending(commit);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public commit(data: any[], id?: any): void {\n        if (id !== undefined) {\n            const state = this.getState(id);\n            if (state) {\n                this.updateRecord(data, state);\n            }\n        } else {\n            this._states.forEach((s: S) => {\n                this.updateRecord(data, s);\n            });\n        }\n        this.clear(id);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public clear(id?: any): void {\n        if (id !== undefined) {\n            this._transactions = this._transactions.filter(t => t.id !== id);\n            this._states.delete(id);\n            //  Undo stack is an array of actions. Each action is array of transaction like objects\n            //  We are going trough all the actions. For each action we are filtering out transactions\n            //  with provided id. Finally if any action ends up as empty array we are removing it from\n            //  undo stack\n            this._undoStack = this._undoStack.map(a => a.filter(t => t.transaction.id !== id)).filter(a => a.length > 0);\n        } else {\n            this._transactions = [];\n            this._states.clear();\n            this._undoStack = [];\n        }\n        this._redoStack = [];\n        this.onStateUpdate.emit();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public undo(): void {\n        if (this._undoStack.length <= 0) {\n            return;\n        }\n\n        const lastActions: { transaction: T, recordRef: any }[] = this._undoStack.pop();\n        this._transactions.splice(this._transactions.length - lastActions.length);\n        this._redoStack.push(lastActions);\n\n        this._states.clear();\n        for (const currentActions of this._undoStack) {\n            for (const transaction of currentActions) {\n                this.updateState(this._states, transaction.transaction, transaction.recordRef);\n            }\n        }\n\n        this.onStateUpdate.emit();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public redo(): void {\n        if (this._redoStack.length > 0) {\n            let actions: { transaction: T, recordRef: any, useInUndo?: boolean }[];\n            actions = this._redoStack.pop();\n            for (const action of actions) {\n                this.updateState(this._states, action.transaction, action.recordRef);\n                this._transactions.push(action.transaction);\n            }\n\n            this._undoStack.push(actions);\n            this.onStateUpdate.emit();\n        }\n    }\n\n    /**\n     * Verifies if the passed transaction is correct. If not throws an exception.\n     * @param transaction Transaction to be verified\n     */\n    protected verifyAddedTransaction(states: Map<any, S>, transaction: T, recordRef?: any): void {\n        const state = states.get(transaction.id);\n        switch (transaction.type) {\n            case TransactionType.ADD:\n                if (state) {\n                    //  cannot add same item twice\n                    throw new Error(`Cannot add this transaction. Transaction with id: ${transaction.id} has been already added.`);\n                }\n                break;\n            case TransactionType.DELETE:\n            case TransactionType.UPDATE:\n                if (state && state.type === TransactionType.DELETE) {\n                    //  cannot delete or update deleted items\n                    throw new Error(`Cannot add this transaction. Transaction with id: ${transaction.id} has been already deleted.`);\n                }\n                if (!state && !recordRef && !this._isPending) {\n                    //  cannot initially add transaction or delete item with no recordRef\n                    throw new Error(`Cannot add this transaction. This is first transaction of type ${transaction.type} ` +\n                        `for id ${transaction.id}. For first transaction of this type recordRef is mandatory.`);\n                }\n                break;\n        }\n    }\n\n    /**\n     * Updates the provided states collection according to passed transaction and recordRef\n     * @param states States collection to apply the update to\n     * @param transaction Transaction to apply to the current state\n     * @param recordRef Reference to the value of the record in data source, if any, where transaction should be applied\n     */\n    protected updateState(states: Map<any, S>, transaction: T, recordRef?: any): void {\n        let state = states.get(transaction.id);\n        //  if TransactionType is ADD simply add transaction to states;\n        //  if TransactionType is DELETE:\n        //    - if there is state with this id of type ADD remove it from the states;\n        //    - if there is state with this id of type UPDATE change its type to DELETE;\n        //    - if there is no state with this id add transaction to states;\n        //  if TransactionType is UPDATE:\n        //    - if there is state with this id of type ADD merge new value and state recordRef into state new value\n        //    - if there is state with this id of type UPDATE merge new value into state new value\n        //    - if there is state with this id and state type is DELETE change its type to UPDATE\n        //    - if there is no state with this id add transaction to states;\n        if (state) {\n            switch (transaction.type) {\n                case TransactionType.DELETE:\n                    if (state.type === TransactionType.ADD) {\n                        states.delete(transaction.id);\n                    } else if (state.type === TransactionType.UPDATE) {\n                        state.value = transaction.newValue;\n                        state.type = TransactionType.DELETE;\n                    }\n                    break;\n                case TransactionType.UPDATE:\n                    if (isObject(state.value)) {\n                        if (state.type === TransactionType.ADD) {\n                            state.value = this.mergeValues(state.value, transaction.newValue);\n                        }\n                        if (state.type === TransactionType.UPDATE) {\n                            mergeObjects(state.value, transaction.newValue);\n                        }\n                    } else {\n                        state.value = transaction.newValue;\n                    }\n            }\n        } else {\n            state = { value: cloneValue(transaction.newValue), recordRef: recordRef, type: transaction.type } as S;\n            states.set(transaction.id, state);\n        }\n\n        //  should not clean pending state. This will happen automatically on endPending call\n        if (!this._isPending) {\n            this.cleanState(transaction.id, states);\n        }\n    }\n\n    /**\n     * Compares the state with recordRef and clears all duplicated values. If any state ends as\n     * empty object removes it from states.\n     * @param state State to clean\n     */\n    protected cleanState(id: any, states: Map<any, S>): void {\n        const state = states.get(id);\n        //  do nothing if\n        //  there is no state, or\n        //  there is no state value (e.g. DELETED transaction), or\n        //  there is no recordRef (e.g. ADDED transaction)\n        if (state && state.value && state.recordRef) {\n            //  if state's value is object compare each key with the ones in recordRef\n            //  if values in any key are the same delete it from state's value\n            //  if state's value is not object, simply compare with recordRef and remove\n            //  the state if they are equal\n            if (isObject(state.recordRef)) {\n                for (const key of Object.keys(state.value)) {\n                    if (JSON.stringify(state.recordRef[key]) === JSON.stringify(state.value[key])) {\n                        delete state.value[key];\n                    }\n                }\n\n                //  if state's value is empty remove the state from the states, only if state is not DELETE type\n                if (state.type !== TransactionType.DELETE && Object.keys(state.value).length === 0) {\n                    states.delete(id);\n                }\n            } else {\n                if (state.recordRef === state.value) {\n                    states.delete(id);\n                }\n            }\n        }\n    }\n\n    /**\n     * Updates state related record in the provided data\n     * @param data Data source to update\n     * @param state State to update data from\n     */\n    protected updateRecord(data: any[], state: S) {\n        const index = data.findIndex(i => JSON.stringify(i) === JSON.stringify(state.recordRef || {}));\n        switch (state.type) {\n            case TransactionType.ADD:\n                data.push(state.value);\n                break;\n            case TransactionType.DELETE:\n                if (0 <= index && index < data.length) {\n                    data.splice(index, 1);\n                }\n                break;\n            case TransactionType.UPDATE:\n                if (0 <= index && index < data.length) {\n                    data[index] = this.updateValue(state);\n                }\n                break;\n        }\n    }\n}\n","import { HierarchicalTransaction, HierarchicalState, TransactionType } from './transaction';\nimport { Injectable } from '@angular/core';\nimport { IgxTransactionService } from './igx-transaction';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { cloneValue } from '../../core/utils';\n\n/** @experimental @hidden */\n@Injectable()\nexport class IgxHierarchicalTransactionService<T extends HierarchicalTransaction, S extends HierarchicalState>\n    extends IgxTransactionService<T, S> {\n\n    public getAggregatedChanges(mergeChanges: boolean): T[] {\n        const result: T[] = [];\n        this._states.forEach((state: S, key: any) => {\n            const value = mergeChanges ? this.mergeValues(state.recordRef, state.value) : cloneValue(state.value);\n            this.clearArraysFromObject(value);\n            result.push({ id: key, path: state.path, newValue: value, type: state.type } as T);\n        });\n        return result;\n    }\n\n    protected updateState(states: Map<any, S>, transaction: T, recordRef?: any): void {\n        super.updateState(states, transaction, recordRef);\n\n        //  if transaction has no path, e.g. flat data source, get out\n        if (!transaction.path) {\n            return;\n        }\n\n        const currentState = states.get(transaction.id);\n        if (currentState) {\n            currentState.path = transaction.path;\n        }\n\n        //  if transaction has path, Hierarchical data source, and it is DELETE\n        //  type transaction for all child rows remove ADD states and update\n        //  transaction type and value of UPDATE states\n        if (transaction.type === TransactionType.DELETE) {\n            states.forEach((v: S, k: any) => {\n                if (v.path && v.path.indexOf(transaction.id) !== -1) {\n                    switch (v.type) {\n                        case TransactionType.ADD:\n                            states.delete(k);\n                            break;\n                        case TransactionType.UPDATE:\n                            states.get(k).type = TransactionType.DELETE;\n                            states.get(k).value = null;\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Applies all transactions over the provided data\n     * @param data Data source to update\n     * @param primaryKey Primary key of the hierarchical data\n     * @param childDataKey Kye of child data collection\n     * @param id Optional record id to commit transactions for\n     */\n    public commit(data: any[], primaryKey?: any, childDataKey?: any, id?: any): void {\n        if (childDataKey !== undefined) {\n            let transactions = this.getAggregatedChanges(true);\n            if (id !== undefined) {\n                transactions = transactions.filter(t => t.id === id);\n            }\n            DataUtil.mergeHierarchicalTransactions(data, transactions, childDataKey, primaryKey, true);\n        } else {\n            super.commit(data, id);\n        }\n        this.clear(id);\n    }\n\n    //  TODO: remove this method. Force cloning to strip child arrays when needed instead\n    private clearArraysFromObject(obj: {}) {\n        if (obj) {\n            for (const prop of Object.keys(obj)) {\n                if (Array.isArray(obj[prop])) {\n                    delete obj[prop];\n                }\n            }\n        }\n    }\n}\n\n","// Export services\nexport * from './csv/csv-exporter';\nexport * from './csv/csv-exporter-options';\nexport * from './excel/excel-exporter';\nexport * from './excel/excel-exporter-options';\nexport * from './exporter-common/base-export-service';\nexport * from './exporter-common/exporter-options-base';\nexport * from './overlay/overlay';\nexport * from './overlay/position';\nexport {\n    HorizontalAlignment, VerticalAlignment, Point,\n    OverlayEventArgs, OverlayAnimationEventArgs, OverlayCancelableEventArgs, OverlayClosingEventArgs,\n    OverlaySettings, PositionSettings\n} from './overlay/utilities';\nexport * from './overlay/scroll';\nexport * from './transaction/igx-transaction';\nexport * from './transaction/base-transaction';\nexport * from './transaction/transaction';\nexport * from './transaction/igx-hierarchical-transaction';\n","import {\n    ChangeDetectorRef,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Input,\n    NgModule,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Output,\n    Inject\n} from '@angular/core';\nimport { IgxNavigationService, IToggleView } from '../../core/navigation';\nimport { IgxOverlayService } from '../../services/overlay/overlay';\nimport { OverlaySettings, OverlayEventArgs, ConnectedPositioningStrategy, AbsoluteScrollStrategy, IPositionStrategy } from '../../services';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { Subscription, Subject, MonoTypeOperatorFunction } from 'rxjs';\nimport { OverlayClosingEventArgs } from '../../services/overlay/utilities';\nimport { CancelableEventArgs, CancelableBrowserEventArgs, IBaseEventArgs } from '../../core/utils';\n\n@Directive({\n    exportAs: 'toggle',\n    selector: '[igxToggle]'\n})\nexport class IgxToggleDirective implements IToggleView, OnInit, OnDestroy {\n    protected _overlayId: string;\n    private destroy$ = new Subject<boolean>();\n    private _overlaySubFilter: [MonoTypeOperatorFunction<OverlayEventArgs>, MonoTypeOperatorFunction<OverlayEventArgs>] = [\n        filter(x => x.id === this._overlayId),\n        takeUntil(this.destroy$)\n    ];\n    private _overlayOpenedSub: Subscription;\n    private _overlayClosingSub: Subscription;\n    private _overlayClosedSub: Subscription;\n    private _overlayAppendedSub: Subscription;\n\n    /**\n     * Emits an event after the toggle container is opened.\n     *\n     * ```typescript\n     * onToggleOpened(event) {\n     *    alert(\"Toggle opened!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <div\n     *   igxToggle\n     *   (onOpened)='onToggleOpened($event)'>\n     * </div>\n     * ```\n     */\n    @Output()\n    public onOpened = new EventEmitter();\n\n    /**\n     * Emits an event before the toggle container is opened.\n     *\n     * ```typescript\n     * onToggleOpening(event) {\n     *  alert(\"Toggle opening!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <div\n     *   igxToggle\n     *   (onOpening)='onToggleOpening($event)'>\n     * </div>\n     * ```\n     */\n    @Output()\n    public onOpening = new EventEmitter<CancelableEventArgs & IBaseEventArgs>();\n\n    /**\n     * Emits an event after the toggle container is closed.\n     *\n     * ```typescript\n     * onToggleClosed(event) {\n     *  alert(\"Toggle closed!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <div\n     *   igxToggle\n     *   (onClosed)='onToggleClosed($event)'>\n     * </div>\n     * ```\n     */\n    @Output()\n    public onClosed = new EventEmitter();\n\n    /**\n     * Emits an event before the toggle container is closed.\n     *\n     * ```typescript\n     * onToggleClosing(event) {\n     *  alert(\"Toggle closing!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <div\n     *  igxToggle\n     *  (onClosing)='onToggleClosing($event)'>\n     * </div>\n     * ```\n     */\n    @Output()\n    public onClosing = new EventEmitter<CancelableBrowserEventArgs & IBaseEventArgs>();\n\n    private _collapsed = true;\n    /**\n     * @hidden\n     */\n    public get collapsed(): boolean {\n        return this._collapsed;\n    }\n\n    /**\n     * Identifier which is registered into `IgxNavigationService`\n     *\n     * ```typescript\n     * let myToggleId = this.toggle.id;\n     * ```\n     */\n    @Input()\n    public id: string;\n\n    /**\n     * @hidden\n     */\n    public get element(): HTMLElement {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-toggle--hidden')\n    @HostBinding('attr.aria-hidden')\n    public get hiddenClass() {\n        return this.collapsed;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-toggle')\n    public get defaultClass() {\n        return !this.collapsed;\n    }\n\n    /**\n     * @hidden\n     */\n    constructor(\n        private elementRef: ElementRef,\n        private cdr: ChangeDetectorRef,\n        @Inject(IgxOverlayService) protected overlayService: IgxOverlayService,\n        @Optional() private navigationService: IgxNavigationService) {\n    }\n\n    /**\n     * Emits an event after the toggle element is appended to the overlay container.\n     *\n     * ```typescript\n     * onAppended() {\n     *  alert(\"Content appended!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <div\n     *   igxToggle\n     *   (onAppended)='onToggleAppended()'>\n     * </div>\n     * ```\n     */\n    @Output()\n    public onAppended = new EventEmitter();\n\n    /**\n     * Opens the toggle.\n     *\n     * ```typescript\n     * this.myToggle.open();\n     * ```\n     */\n    public open(overlaySettings?: OverlaySettings) {\n        //  if there is open animation do nothing\n        //  if toggle is not collapsed and there is no close animation do nothing\n        const info = this.overlayService.getOverlayById(this._overlayId);\n        const hasOpenAnimation = info ? info.openAnimationPlayer : false;\n        const hasCloseAnimation = info ? info.closeAnimationPlayer : false;\n        if (hasOpenAnimation || !(this._collapsed || hasCloseAnimation)) {\n            return;\n        }\n\n        if (!info) {\n            this._overlayId = this.overlayService.attach(this.elementRef, overlaySettings);\n        }\n\n        this._collapsed = false;\n        this.cdr.detectChanges();\n\n        const openEventArgs: CancelableEventArgs = { cancel: false };\n        this.onOpening.emit(openEventArgs);\n        if (openEventArgs.cancel) {\n            this._collapsed = true;\n            this.cdr.detectChanges();\n            return;\n        }\n\n        this.unsubscribe();\n\n        this._overlayAppendedSub = this.overlayService.onAppended.pipe(...this._overlaySubFilter).subscribe(() => {\n            this.onAppended.emit();\n        });\n\n        this._overlayOpenedSub = this.overlayService.onOpened.pipe(...this._overlaySubFilter).subscribe(() => {\n            this.onOpened.emit();\n        });\n\n        this._overlayClosingSub = this.overlayService\n        .onClosing\n        .pipe(...this._overlaySubFilter)\n        .subscribe((e: OverlayClosingEventArgs) => {\n            const eventArgs: CancelableBrowserEventArgs = { cancel: false, event: e.event };\n            this.onClosing.emit(eventArgs);\n            e.cancel = eventArgs.cancel;\n\n            //  in case event is not canceled this will close the toggle and we need to unsubscribe.\n            //  Otherwise if for some reason, e.g. close on outside click, close() gets called before\n            //  onClosed was fired we will end with calling onClosing more than once\n            if (!e.cancel) {\n                this.clearSubscription(this._overlayClosingSub);\n            }\n        });\n\n        this._overlayClosedSub = this.overlayService.onClosed\n        .pipe(...this._overlaySubFilter)\n        .subscribe(this.overlayClosed);\n\n        this.overlayService.show(this._overlayId, overlaySettings);\n    }\n\n    /**\n     * Closes the toggle.\n     *\n     * ```typescript\n     * this.myToggle.close();\n     * ```\n     */\n    public close() {\n        //  if toggle is collapsed do nothing\n        //  if there is close animation do nothing, toggle will close anyway\n        const info = this.overlayService.getOverlayById(this._overlayId);\n        const hasCloseAnimation = info ? info.closeAnimationPlayer : false;\n        if (this._collapsed || hasCloseAnimation) {\n            return;\n        }\n\n        this.overlayService.hide(this._overlayId);\n    }\n\n    /**\n     * Opens or closes the toggle, depending on its current state.\n     *\n     * ```typescript\n     * this.myToggle.toggle();\n     * ```\n     */\n    public toggle(overlaySettings?: OverlaySettings) {\n        //  if toggle is collapsed call open\n        //  if there is close animation call open\n        if (this.collapsed || this.isClosing) {\n            this.open(overlaySettings);\n        } else {\n            this.close();\n        }\n    }\n\n    /** @hidden @internal */\n    public get isClosing() {\n        const info = this.overlayService.getOverlayById(this._overlayId);\n        return info ? info.closeAnimationPlayer : false;\n    }\n\n    /**\n     * Repositions the toggle.\n     * ```typescript\n     * this.myToggle.reposition();\n     * ```\n     */\n    public reposition() {\n        this.overlayService.reposition(this._overlayId);\n    }\n\n    /**\n     * Offsets the content along the corresponding axis by the provided amount\n     */\n    setOffset(deltaX: number, deltaY: number) {\n        this.overlayService.setOffset(this._overlayId, deltaX, deltaY);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        if (this.navigationService && this.id) {\n            this.navigationService.add(this.id, this);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        if (this.navigationService && this.id) {\n            this.navigationService.remove(this.id);\n        }\n        if (!this.collapsed && this._overlayId) {\n            this.overlayService.hide(this._overlayId);\n        }\n        this.unsubscribe();\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    private overlayClosed = () => {\n        this._collapsed = true;\n        this.cdr.detectChanges();\n        delete this._overlayId;\n        this.unsubscribe();\n        this.onClosed.emit();\n    }\n\n    private unsubscribe() {\n        this.clearSubscription(this._overlayOpenedSub);\n        this.clearSubscription(this._overlayClosingSub);\n        this.clearSubscription(this._overlayClosedSub);\n        this.clearSubscription(this._overlayAppendedSub);\n    }\n\n    private clearSubscription(subscription: Subscription) {\n        if (subscription && !subscription.closed) {\n            subscription.unsubscribe();\n        }\n    }\n}\n\n@Directive({\n    exportAs: 'toggle-action',\n    selector: '[igxToggleAction]'\n})\nexport class IgxToggleActionDirective implements OnInit {\n    protected _overlayDefaults: OverlaySettings;\n\n    /**\n     * Provide settings that control the toggle overlay positioning, interaction and scroll behavior.\n     * ```typescript\n     * const settings: OverlaySettings = {\n     *      closeOnOutsideClick: false,\n     *      modal: false\n     *  }\n     * ```\n     * ---\n     * ```html\n     * <!--set-->\n     * <div igxToggleAction [overlaySettings]=\"settings\"></div>\n     * ```\n     */\n    @Input()\n    public overlaySettings: OverlaySettings;\n\n    /**\n     * Determines where the toggle element overlay should be attached.\n     *\n     * ```html\n     * <!--set-->\n     * <div igxToggleAction [igxToggleOutlet]=\"outlet\"></div>\n     * ```\n     * Where `outlet` in an instance of `IgxOverlayOutletDirective` or an `ElementRef`\n     */\n    @Input('igxToggleOutlet')\n    public outlet: IgxOverlayOutletDirective | ElementRef;\n\n    /**\n     * @hidden\n     */\n    @Input('igxToggleAction')\n    set target(target: any) {\n        if (target !== null && target !== '') {\n            this._target = target;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    get target(): any {\n        if (typeof this._target === 'string') {\n            return this.navigationService.get(this._target);\n        }\n        return this._target;\n    }\n\n    protected _target: IToggleView | string;\n\n    constructor(private element: ElementRef, @Optional() private navigationService: IgxNavigationService) { }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        this._overlayDefaults = {\n            positionStrategy: new ConnectedPositioningStrategy({ target: this.element.nativeElement }),\n            scrollStrategy: new AbsoluteScrollStrategy(),\n            closeOnOutsideClick: true,\n            modal: false,\n            excludePositionTarget: true\n        };\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('click')\n    public onClick() {\n        if (this.outlet) {\n            this._overlayDefaults.outlet = this.outlet;\n        }\n\n        const clonedSettings = Object.assign({}, this._overlayDefaults, this.overlaySettings);\n        this.updateOverlaySettings(clonedSettings);\n        this.target.toggle(clonedSettings);\n    }\n\n    /**\n     * Updates provided overlay settings\n     * @param settings settings to update\n     * @returns returns updated copy of provided overlay settings\n     */\n    protected updateOverlaySettings(settings: OverlaySettings): OverlaySettings {\n        if (settings && settings.positionStrategy) {\n            const positionStrategyClone: IPositionStrategy = settings.positionStrategy.clone();\n            positionStrategyClone.settings.target = this.element.nativeElement;\n            settings.positionStrategy = positionStrategyClone;\n        }\n\n        return settings;\n    }\n}\n\n/**\n * Mark an element as an igxOverlay outlet container.\n * Directive instance is exported as `overlay-outlet` to be assigned to templates variables:\n * ```html\n * <div igxOverlayOutlet #outlet=\"overlay-outlet\"></div>\n * ```\n */\n@Directive({\n    exportAs: 'overlay-outlet',\n    selector: '[igxOverlayOutlet]'\n})\nexport class IgxOverlayOutletDirective {\n    constructor(public element: ElementRef) { }\n\n    /** @hidden */\n    public get nativeElement() {\n        return this.element.nativeElement;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxToggleDirective, IgxToggleActionDirective, IgxOverlayOutletDirective],\n    exports: [IgxToggleDirective, IgxToggleActionDirective, IgxOverlayOutletDirective],\n    providers: [IgxNavigationService]\n})\nexport class IgxToggleModule { }\n","import { CancelableEventArgs, CancelableBrowserEventArgs, IBaseEventArgs } from '../core/utils';\nimport { IgxDropDownItemBaseDirective } from './drop-down-item.base';\nimport { IToggleView } from '../core/navigation/IToggleView';\nimport { EventEmitter, InjectionToken } from '@angular/core';\nimport { DisplayDensityBase } from '../core/density';\n\n/** @hidden */\nexport enum Navigate {\n    Up = -1,\n    Down = 1\n}\n\n/** Key actions that have designated handlers in IgxDropDownComponent */\nexport enum DropDownActionKey {\n    ESCAPE = 'escape',\n    ENTER = 'enter',\n    SPACE = 'space'\n}\n\n/**\n * Interface that encapsulates onSelection event arguments - old selection, new selection and cancel selection.\n * @export\n */\nexport interface ISelectionEventArgs extends CancelableEventArgs, IBaseEventArgs {\n    oldSelection: IgxDropDownItemBaseDirective;\n    newSelection: IgxDropDownItemBaseDirective;\n}\n\n/**\n * Interface for an instance of IgxDropDownNavigationDirective\n * @export\n */\nexport interface IDropDownNavigationDirective {\n    target: any;\n    handleKeyDown(event: KeyboardEvent): void;\n    onArrowDownKeyDown(event?: KeyboardEvent): void;\n    onArrowUpKeyDown(event?: KeyboardEvent): void;\n    onEndKeyDown(event?: KeyboardEvent): void;\n    onHomeKeyDown(event?: KeyboardEvent): void;\n}\n\nexport const IGX_DROPDOWN_BASE = new InjectionToken<IDropDownBase>('IgxDropDownBaseToken');\n\n/**\n * @hidden\n */\nexport interface IDropDownList extends DisplayDensityBase {\n    onSelection: EventEmitter<ISelectionEventArgs>;\n    width: string;\n    height: string;\n    id: string;\n    maxHeight: string;\n    collapsed: boolean;\n    items: IgxDropDownItemBaseDirective[];\n    headers: IgxDropDownItemBaseDirective[];\n    focusedItem: IgxDropDownItemBaseDirective;\n    navigateFirst(): void;\n    navigateLast(): void;\n    navigateNext(): void;\n    navigatePrev(): void;\n    navigateItem(newIndex: number, direction?: Navigate): void;\n    onItemActionKey(key: DropDownActionKey, event?: Event): void;\n}\n\n/**\n * @hidden\n */\nexport interface IDropDownBase extends IDropDownList, IToggleView {\n    selectedItem: any;\n    onOpening: EventEmitter<CancelableEventArgs>;\n    onOpened: EventEmitter<void>;\n    onClosing: EventEmitter<CancelableBrowserEventArgs>;\n    onClosed: EventEmitter<void>;\n    allowItemsFocus?: boolean;\n    setSelectedItem(index: number): void;\n    selectItem(item: IgxDropDownItemBaseDirective, event?: Event): void;\n}\n\n","import { Injectable } from '@angular/core';\n\n/** @hidden */\n@Injectable({\n    providedIn: 'root',\n})\nexport class IgxSelectionAPIService {\n    /**\n     * If primaryKey is defined, then multiple selection is based on the primaryKey, and it is array of numbers, strings, etc.\n     * If the primaryKey is omitted, then selection is based on the item data\n     */\n    protected selection: Map<string,  Set<any>> = new Map<string, Set<any>>();\n\n    /**\n     * Get current component selection.\n     * @param componentID ID of the component.\n     */\n    public get(componentID: string): Set<any> {\n        return this.selection.get(componentID);\n    }\n\n    /**\n     * Set new component selection.\n     * @param componentID ID of the component.\n     * @param newSelection The new component selection to be set.\n     */\n    public set(componentID: string, newSelection: Set<any>) {\n        if (!componentID) {\n            throw Error('Invalid value for component id!');\n        }\n        this.selection.set(componentID, newSelection);\n    }\n\n    /**\n     * Clears selection for component.\n     * @param componentID ID of the component.\n     */\n    public clear(componentID: string) {\n        this.selection.set(componentID, this.get_empty());\n    }\n\n    /**\n     * Get current component selection length.\n     * @param componentID ID of the component.\n     */\n    public size(componentID: string): number {\n        const sel = this.get(componentID);\n        return sel ? sel.size : 0;\n    }\n\n    /**\n     * Creates new selection that consist of the new item added to the current component selection.\n     * The returned collection is new Set,\n     * therefore if you want to update component selection you need to call in addition the set_selection() method\n     * or instead use the select_item() one.\n     * @param componentID ID of the component, which we add new item to.\n     * @param itemID ID of the item to add to component selection.\n     * @param sel Used internally only by the selection (add_items method) to accumulate selection for multiple items.\n     *\n     * @returns Selection after the new item is added.\n     */\n    public add_item(componentID: string, itemID, sel?: Set<any>): Set<any> {\n        if (!sel) {\n            sel = new Set(this.get(componentID));\n        }\n        if (sel === undefined) {\n            sel = this.get_empty();\n        }\n        if (!itemID && itemID !== 0) {\n            throw Error('Invalid value for item id!');\n        }\n        sel.add(itemID);\n        return sel;\n    }\n\n    /**\n     * Creates new selection that consist of the new items added to the current component selection.\n     * The returned collection is new Set,\n     * therefore if you want to update component selection you need to call in addition the set_selection() method\n     * or instead use the select_items() one.\n     * @param componentID ID of the component, which we add new items to.\n     * @param itemIDs Array of IDs of the items to add to component selection.\n     * @param clearSelection If true it will clear previous selection.\n     *\n     * @returns Selection after the new items are added.\n     */\n    public add_items(componentID: string, itemIDs: any[], clearSelection?: boolean): Set<any> {\n        let selection: Set<any>;\n        if (clearSelection) {\n            selection = this.get_empty();\n        } else if (itemIDs && itemIDs.length === 0) {\n            selection = new Set(this.get(componentID));\n        }\n        itemIDs.forEach((item) => selection = this.add_item(componentID, item, selection));\n        return selection;\n    }\n\n    /**\n     * Add item to the current component selection.\n     * @param componentID ID of the component, which we add new item to.\n     * @param itemID ID of the item to add to component selection.\n     * @param sel Used internally only by the selection (select_items method) to accumulate selection for multiple items.\n     */\n    public select_item(componentID: string, itemID, sel?: Set<any>) {\n        this.set(componentID, this.add_item(componentID, itemID, sel));\n    }\n\n    /**\n     * Add items to the current component selection.\n     * @param componentID ID of the component, which we add new items to.\n     * @param itemIDs Array of IDs of the items to add to component selection.\n     * @param clearSelection If true it will clear previous selection.\n     */\n    public select_items(componentID: string, itemID: any[], clearSelection?: boolean) {\n        this.set(componentID, this.add_items(componentID, itemID, clearSelection));\n    }\n\n    /**\n     * Creates new selection that consist of the new items excluded from the current component selection.\n     * The returned collection is new Set,\n     * therefore if you want to update component selection you need to call in addition the set_selection() method\n     * or instead use the deselect_item() one.\n     * @param componentID ID of the component, which we remove items from.\n     * @param itemID ID of the item to remove from component selection.\n     * @param sel Used internally only by the selection (delete_items method) to accumulate deselected items.\n     *\n     * @returns Selection after the item is removed.\n     */\n    public delete_item(componentID: string, itemID, sel?: Set<any>) {\n        if (!sel) {\n            sel = new Set(this.get(componentID));\n        }\n        if (sel === undefined) {\n            return;\n        }\n        sel.delete(itemID);\n        return sel;\n    }\n\n    /**\n     * Creates new selection that consist of the new items removed to the current component selection.\n     * The returned collection is new Set,\n     * therefore if you want to update component selection you need to call in addition the set_selection() method\n     * or instead use the deselect_items() one.\n     * @param componentID ID of the component, which we remove items from.\n     * @param itemID ID of the items to remove from component selection.\n     *\n     * @returns Selection after the items are removed.\n     */\n    public delete_items(componentID: string, itemIDs: any[]): Set<any> {\n        let selection: Set<any>;\n        itemIDs.forEach((deselectedItem) => selection = this.delete_item(componentID, deselectedItem, selection));\n        return selection;\n    }\n\n    /**\n     * Remove item from the current component selection.\n     * @param componentID ID of the component, which we remove item from.\n     * @param itemID ID of the item to remove from component selection.\n     * @param sel Used internally only by the selection (deselect_items method) to accumulate selection for multiple items.\n     */\n    public deselect_item(componentID: string, itemID, sel?: Set<any>) {\n        this.set(componentID, this.delete_item(componentID, itemID, sel));\n    }\n\n    /**\n     * Remove items to the current component selection.\n     * @param componentID ID of the component, which we add new items to.\n     * @param itemIDs Array of IDs of the items to add to component selection.\n     */\n    public deselect_items(componentID: string, itemID: any[], clearSelection?: boolean) {\n        this.set(componentID, this.delete_items(componentID, itemID));\n    }\n\n    /**\n     * Check if the item is selected in the component selection.\n     * @param componentID ID of the component.\n     * @param itemID ID of the item to search.\n     *\n     * @returns If item is selected.\n     */\n    public is_item_selected(componentID: string, itemID): boolean {\n        const sel = this.get(componentID);\n        if (!sel) {\n            return false;\n        }\n        return sel.has(itemID);\n    }\n\n    /**\n     * Get first element in the selection.\n     * This is correct when we have only one item in the collection (for single selection purposes)\n     * and the method returns that item.\n     * @param componentID ID of the component.\n     *\n     * @returns First element in the set.\n     */\n    public first_item(componentID: string) {\n        const sel = this.get(componentID);\n        if (sel && sel.size > 0) {\n            return sel.values().next().value;\n       }\n    }\n\n    /**\n     * Returns whether all items are selected.\n     * @param componentID ID of the component.\n     * @param dataCount: number Number of items in the data.\n     *\n     * @returns If all items are selected.\n     */\n    public are_all_selected(componentID: string, dataCount: number): boolean {\n        return dataCount > 0 && dataCount === this.size(componentID);\n    }\n\n    /**\n     * Returns whether any of the items is selected.\n     * @param componentID ID of the component.\n     * @param data Entire data array.\n     *\n     * @returns If there is any item selected.\n     */\n    public are_none_selected(componentID: string): boolean {\n        return this.size(componentID) === 0;\n    }\n\n    /**\n     * Get all primary key values from a data array. If there isn't a primary key defined that the entire data is returned instead.\n     * @param data Entire data array.\n     * @param primaryKey Data primary key.\n     *\n     * @returns Array of identifiers, either primary key values or the entire data array.\n     */\n    public get_all_ids(data, primaryKey?) {\n        // If primaryKey is 0, this should still map to the property\n        return primaryKey !== undefined && primaryKey !== null ? data.map((x) => x[primaryKey]) : data;\n    }\n\n    /**\n     * Returns empty selection collection.\n     * @returns empty set.\n    */\n    public get_empty() {\n        return new Set();\n    }\n}\n","import { Component, Input, HostBinding } from '@angular/core';\n\nlet NEXT_ID = 0;\n/**\n * The `<igx-drop-down-item>` is a container intended for row items in\n * a `<igx-drop-down>` container.\n */\n@Component({\n    selector: 'igx-drop-down-item-group',\n    template: `\n        <label id=\"{{labelId}}\">{{ label }}</label>\n        <ng-content select=\"igx-drop-down-item\"></ng-content>\n    `\n})\nexport class IgxDropDownGroupComponent {\n    private _id = NEXT_ID++;\n\n    /**\n     * @hidden @internal\n     */\n    public get labelId(): string {\n        return `igx-item-group-label-${this._id}`;\n    }\n\n    @HostBinding(`attr.aria-labelledby`)\n    public get labelledBy(): string {\n        return this.labelId;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.role')\n    public role = 'group';\n\n    /** @hidden @internal */\n    @HostBinding('class.igx-drop-down__group')\n    public groupClass = true;\n    /**\n     * Sets/gets if the item group is disabled\n     *\n     * ```typescript\n     * const myDropDownGroup: IgxDropDownGroupComponent = this.dropdownGroup;\n     * // get\n     * ...\n     * const groupState: boolean = myDropDownGroup.disabled;\n     * ...\n     * //set\n     * ...\n     * myDropDownGroup,disabled = false;\n     * ...\n     * ```\n     *\n     * ```html\n     * <igx-drop-down-item-group [label]=\"'My Items'\" [disabled]=\"true\">\n     *     <igx-drop-down-item *ngFor=\"let item of items[index]\" [value]=\"item.value\">\n     *         {{ item.text }}\n     *     </igx-drop-down-item>\n     * </igx-drop-down-item-group>\n     * ```\n     *\n     * **NOTE:** All items inside of a disabled drop down group will be treated as disabled\n     */\n    @Input()\n    @HostBinding(`attr.aria-disabled`)\n    @HostBinding('class.igx-drop-down__group--disabled')\n    public disabled = false;\n\n    /**\n     * Sets/gets the label of the item group\n     *\n     * ```typescript\n     * const myDropDownGroup: IgxDropDownGroupComponent = this.dropdownGroup;\n     * // get\n     * ...\n     * const myLabel: string = myDropDownGroup.label;\n     * ...\n     * // set\n     * ...\n     * myDropDownGroup.label = 'My New Label';\n     * ...\n     * ```\n     *\n     * ```html\n     * <igx-drop-down-item-group [label]=\"'My new Label'\">\n     *      ...\n     * </igx-drop-down-item-group>\n     * ```\n    */\n    @Input()\n    public label: string;\n}\n","import { IDropDownBase, IGX_DROPDOWN_BASE } from './drop-down.common';\nimport { Directive, Input, HostBinding, HostListener, ElementRef, Optional, Inject, DoCheck, Output, EventEmitter } from '@angular/core';\nimport { IgxSelectionAPIService } from '../core/selection';\nimport { DeprecateProperty, showMessage } from '../core/deprecateDecorators';\nimport { IgxDropDownGroupComponent } from './drop-down-group.component';\n\nlet NEXT_ID = 0;\nlet warningShown = false;\n\n/**\n * An abstract class defining a drop-down item:\n * With properties / styles for selection, highlight, height\n * Bindable property for passing data (`value: any`)\n * Parent component (has to be used under a parent with type `IDropDownBase`)\n * Method for handling click on Host()\n */\n@Directive({\n    selector: '[igxDropDownItemBase]'\n})\nexport class IgxDropDownItemBaseDirective implements DoCheck {\n    /**\n     * @hidden\n     */\n    protected _focused = false;\n    protected _selected = false;\n    protected _index = null;\n    protected _disabled = false;\n    protected get hasIndex(): boolean {\n        return this._index !== null && this._index !== undefined;\n    }\n\n    /**\n     * Sets/gets the `id` of the item.\n     * ```html\n     * <igx-drop-down-item [id] = 'igx-drop-down-item-0'></igx-drop-down-item>\n     * ```\n     * ```typescript\n     * let itemId =  this.item.id;\n     * ```\n     * @memberof IgxSelectItemComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-drop-down-item-${NEXT_ID++}`;\n\n    /**\n     * @hidden @internal\n     */\n    public get itemID() {\n        return this;\n    }\n\n    /**\n     * The data index of the dropdown item.\n     *\n     * ```typescript\n     * // get the data index of the selected dropdown item\n     * let selectedItemIndex = this.dropdown.selectedItem.index\n     * ```\n     */\n    @Input()\n    public get index(): number {\n        if (this._index === null) {\n            warningShown = showMessage(\n                'IgxDropDownItemBaseDirective: Automatic index is deprecated.' +\n                'Bind in the template instead using `<igx-drop-down-item [index]=\"i\"` instead.`',\n                warningShown);\n            return this.itemIndex;\n        }\n        return this._index;\n    }\n\n    public set index(value) {\n        this._index = value;\n    }\n\n    /**\n     * Gets/sets the value of the item if the item is databound\n     *\n     * ```typescript\n     * // usage in IgxDropDownItemComponent\n     * // get\n     * let mySelectedItemValue = this.dropdown.selectedItem.value;\n     *\n     * // set\n     * let mySelectedItem = this.dropdown.selectedItem;\n     * mySelectedItem.value = { id: 123, name: 'Example Name' }\n     *\n     * // usage in IgxComboItemComponent\n     * // get\n     * let myComboItemValue = this.combo.items[0].value;\n     * ```\n     */\n    @Input()\n    public value: any;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-drop-down__item')\n    get itemStyle(): boolean {\n        return !this.isHeader;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-drop-down__item--cosy')\n    public get itemStyleCosy() {\n        return this.dropDown.displayDensity === 'cosy' && !this.isHeader;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-drop-down__item--compact')\n    public get itemStyleCompact() {\n        return this.dropDown.displayDensity === 'compact' && !this.isHeader;\n    }\n\n    /**\n     * Sets/Gets if the item is the currently selected one in the dropdown\n     *\n     * ```typescript\n     *  let mySelectedItem = this.dropdown.selectedItem;\n     *  let isMyItemSelected = mySelectedItem.selected; // true\n     * ```\n     *\n     * Two-way data binding\n     * ```html\n     * <igx-drop-down-item [(selected)]='model.isSelected'></igx-drop-down-item>\n     * ```\n     */\n    @Input()\n    @HostBinding('attr.aria-selected')\n    @HostBinding('class.igx-drop-down__item--selected')\n    get selected(): boolean {\n        return this._selected;\n    }\n\n    set selected(value: boolean) {\n        if (this.isHeader) {\n            return;\n        }\n        this._selected = value;\n        this.selectedChange.emit(this._selected);\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public selectedChange = new EventEmitter<boolean>();\n\n    /**\n     * @hidden @internal\n     */\n    @Input()\n    @DeprecateProperty(`IgxDropDownItemBaseDirective \\`isSelected\\` property is deprecated.\\n` +\n        `Use \\`selected\\` instead.`)\n    get isSelected(): boolean {\n        return this.selected;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    set isSelected(value: boolean) {\n        this.selected = value;\n    }\n\n    /**\n     * Sets/gets if the given item is focused\n     * ```typescript\n     *  let mySelectedItem = this.dropdown.selectedItem;\n     *  let isMyItemFocused = mySelectedItem.focused;\n     * ```\n     */\n    @HostBinding('class.igx-drop-down__item--focused')\n    get focused(): boolean {\n        return this.isSelectable && this._focused;\n    }\n\n    /**\n     * ```html\n     *  <igx-drop-down-item *ngFor=\"let item of items\" focused={{!item.focused}}>\n     *      <div>\n     *          {{item.field}}\n     *      </div>\n     *  </igx-drop-down-item>\n     * ```\n     */\n    set focused(value: boolean) {\n        this._focused = value;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @DeprecateProperty(`IgxDropDownItemBaseDirective \\`isFocused\\` property is depracated.\\n` +\n        `Use \\`focused\\` instead.`)\n    get isFocused(): boolean {\n        return this.focused;\n    }\n    /**\n     * @hidden @internal\n     */\n    set isFocused(value: boolean) {\n        this.focused = value;\n    }\n\n    /**\n     * Sets/gets if the given item is header\n     * ```typescript\n     *  // get\n     *  let mySelectedItem = this.dropdown.selectedItem;\n     *  let isMyItemHeader = mySelectedItem.isHeader;\n     * ```\n     *\n     * ```html\n     *  <!--set-->\n     *  <igx-dropdown-item *ngFor=\"let item of items\">\n     *      <div *ngIf=\"items.indexOf(item) === 5; then item.isHeader = true\">\n     *          {{item.field}}\n*           </div>\n     *  </igx-drop-down-item>\n     * ```\n     */\n    @Input()\n    @HostBinding('class.igx-drop-down__header')\n    public isHeader: boolean;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-drop-down__header--cosy')\n    public get headerClassCosy() {\n        return this.isHeader && this.dropDown.displayDensity === 'cosy';\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-drop-down__header--compact')\n    public get headerClassCompact() {\n        return this.isHeader && this.dropDown.displayDensity === 'compact';\n    }\n\n    /**\n     * Sets/gets if the given item is disabled\n     *\n     * ```typescript\n     *  // get\n     *  let mySelectedItem = this.dropdown.selectedItem;\n     *  let myItemIsDisabled = mySelectedItem.disabled;\n     * ```\n     *\n     * ```html\n     *  <igx-drop-down-item *ngFor=\"let item of items\" disabled={{!item.disabled}}>\n     *      <div>\n     *          {{item.field}}\n     *      </div>\n     *  </igx-drop-down-item>\n     * ```\n     * **NOTE:** Drop-down items inside of a disabled `IgxDropDownGroup` will always count as disabled\n     */\n    @Input()\n    @HostBinding('attr.aria-disabled')\n    @HostBinding('class.igx-drop-down__item--disabled')\n    public get disabled(): boolean {\n        return this.group ? this.group.disabled || this._disabled : this._disabled;\n    }\n\n    public set disabled(value: boolean) {\n        this._disabled = value;\n    }\n\n    /**\n     * Gets/sets the `role` attribute of the item. Default is 'option'.\n     *\n     * ```html\n     *  <igx-drop-down-item [role]=\"customRole\"></igx-drop-down-item>\n     * ```\n     */\n    @Input()\n    @HostBinding('attr.role')\n    public role = 'option';\n\n    /**\n     * Gets item index\n     * @hidden @internal\n     */\n    public get itemIndex(): number {\n        return this.dropDown.items.indexOf(this);\n    }\n\n    /**\n     * Gets item element height\n     * @hidden @internal\n     */\n    public get elementHeight(): number {\n        return this.elementRef.nativeElement.clientHeight;\n    }\n\n    /**\n     * Get item html element\n     * @hidden @internal\n     */\n    public get element(): ElementRef {\n        return this.elementRef;\n    }\n\n    constructor(\n        @Inject(IGX_DROPDOWN_BASE) protected dropDown: IDropDownBase,\n        protected elementRef: ElementRef,\n        @Optional() protected group: IgxDropDownGroupComponent,\n        @Optional() @Inject(IgxSelectionAPIService) protected selection?: IgxSelectionAPIService\n    ) { }\n\n    ngDoCheck(): void {\n        if (this._selected) {\n            const dropDownSelectedItem = this.dropDown.selectedItem;\n            if (!dropDownSelectedItem) {\n                this.dropDown.selectItem(this);\n            } else if (this.hasIndex\n                ? this._index !== dropDownSelectedItem.index || this.value !== dropDownSelectedItem.value :\n                this !== dropDownSelectedItem) {\n                this.dropDown.selectItem(this);\n            }\n        }\n    }\n\n    /** Returns true if the items is not a header or disabled  */\n    protected get isSelectable(): boolean {\n        return  !(this.disabled || this.isHeader);\n    }\n\n    /** If `allowItemsFocus` is enabled, keep the browser focus on the active item */\n    protected ensureItemFocus() {\n        if (this.dropDown.allowItemsFocus) {\n            const focusedItem = this.dropDown.items.find((item) => item.focused);\n            if (!focusedItem) { return; }\n            focusedItem.element.nativeElement.focus({ preventScroll: true });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('click', ['$event'])\n    clicked(event): void {\n    }\n}\n","import {\n    Component,\n    HostBinding\n} from '@angular/core';\nimport { IgxDropDownItemBaseDirective } from './drop-down-item.base';\n\n/**\n * The `<igx-drop-down-item>` is a container intended for row items in\n * a `<igx-drop-down>` container.\n */\n@Component({\n    selector: 'igx-drop-down-item',\n    templateUrl: 'drop-down-item.component.html'\n})\nexport class IgxDropDownItemComponent extends IgxDropDownItemBaseDirective {\n    /**\n     * @inheritdoc\n     */\n    get focused(): boolean {\n        let focusedState = this._focused;\n        if (this.hasIndex) {\n            const focusedItem = this.selection.first_item(`${this.dropDown.id}-active`);\n            const focusedIndex = focusedItem ? focusedItem.index : -1;\n            focusedState = this._index === focusedIndex;\n        }\n        return this.isSelectable && focusedState;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    set focused(value: boolean) {\n        this._focused = value;\n    }\n    /**\n     * @inheritdoc\n     */\n    get selected(): boolean {\n        if (this.hasIndex) {\n            const item = this.selection.first_item(`${this.dropDown.id}`);\n            return item ? item.index === this._index && item.value === this.value : false;\n        }\n        return this._selected;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    set selected(value: boolean) {\n        if (this.isHeader) {\n            return;\n        }\n        this._selected = value;\n        this.selectedChange.emit(this._selected);\n    }\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.tabindex')\n    get setTabIndex() {\n        const shouldSetTabIndex = this.dropDown.allowItemsFocus && this.isSelectable;\n        if (shouldSetTabIndex) {\n            return 0;\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    clicked(event): void {\n        if (!this.isSelectable) {\n            this.ensureItemFocus();\n            return;\n        }\n        if (this.selection) {\n            this.dropDown.selectItem(this, event);\n        }\n    }\n}\n","import { InjectionToken, Input, Output, EventEmitter, DoCheck, OnInit, Directive, NgModule, Optional, Inject } from '@angular/core';\nimport { IBaseEventArgs } from './utils';\n\n\n/**\n * Defines the posible values of the components' display density.\n */\nexport enum DisplayDensity {\n    comfortable = 'comfortable',\n    cosy = 'cosy',\n    compact = 'compact'\n}\n\n/**\n * Describes the object used to configure the DisplayDensity in Angular DI.\n */\nexport interface IDisplayDensityOptions {\n    displayDensity: DisplayDensity;\n}\n\nexport interface IDensityChangedEventArgs extends IBaseEventArgs {\n    oldDensity: DisplayDensity;\n    newDensity: DisplayDensity;\n}\n\n/**\n * Defines the DisplayDensity DI token.\n */\nexport const DisplayDensityToken = new InjectionToken<IDisplayDensityOptions>('DisplayDensity');\n\n/**\n * Base class containing all logic required for implementing DisplayDensity.\n */\n@Directive({\n    selector: '[igxDisplayDensityBase]'\n})\n// tslint:disable-next-line: directive-class-suffix\nexport class DisplayDensityBase implements DoCheck, OnInit {\n    protected _displayDensity: DisplayDensity;\n\n     /**\n     * @hidden\n     */\n    public initialDensity: DisplayDensity;\n\n    /**\n     * Returns the theme of the component.\n     * The default theme is `comfortable`.\n     * Available options are `comfortable`, `cosy`, `compact`.\n     * ```typescript\n     * let componentTheme = this.component.displayDensity;\n     * ```\n     */\n    @Input()\n    public get displayDensity(): DisplayDensity | string {\n        return this._displayDensity ||\n            ((this.displayDensityOptions && this.displayDensityOptions.displayDensity) || DisplayDensity.comfortable);\n    }\n\n    /**\n     * Sets the theme of the component.\n     */\n    public set displayDensity(val: DisplayDensity | string) {\n        const currentDisplayDensity = this._displayDensity;\n        this._displayDensity = val as DisplayDensity;\n\n        if (currentDisplayDensity !== this._displayDensity) {\n            const densityChangedArgs: IDensityChangedEventArgs = {\n                oldDensity: currentDisplayDensity,\n                newDensity: this._displayDensity\n            };\n\n            this.onDensityChanged.emit(densityChangedArgs);\n        }\n    }\n\n    @Output()\n    public onDensityChanged = new EventEmitter<IDensityChangedEventArgs>();\n\n    protected oldDisplayDensityOptions: IDisplayDensityOptions = { displayDensity: DisplayDensity.comfortable };\n\n\n    constructor(@Optional() @Inject(DisplayDensityToken) protected displayDensityOptions: IDisplayDensityOptions) {\n        Object.assign(this.oldDisplayDensityOptions, displayDensityOptions);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit(): void {\n        this.initialDensity = this._displayDensity;\n    }\n\n    public ngDoCheck() {\n        if (!this._displayDensity && this.displayDensityOptions &&\n                this.oldDisplayDensityOptions.displayDensity !== this.displayDensityOptions.displayDensity) {\n            const densityChangedArgs: IDensityChangedEventArgs = {\n                oldDensity: this.oldDisplayDensityOptions.displayDensity,\n                newDensity: this.displayDensityOptions.displayDensity\n            };\n\n            this.onDensityChanged.emit(densityChangedArgs);\n            this.oldDisplayDensityOptions = Object.assign(this.oldDisplayDensityOptions, this.displayDensityOptions);\n        }\n    }\n\n    /**\n     * Given a style class of a component/element returns the modified version of it based\n     * on the current display density.\n     */\n    protected getComponentDensityClass(baseStyleClass: string): string {\n        switch (this.displayDensity) {\n            case DisplayDensity.cosy:\n                return `${baseStyleClass}--${DisplayDensity.cosy}`;\n            case DisplayDensity.compact:\n                return `${baseStyleClass}--${DisplayDensity.compact}`;\n            default:\n                return baseStyleClass;\n        }\n    }\n}\n\n@NgModule({\n    declarations: [\n        DisplayDensityBase\n    ],\n    exports: [\n        DisplayDensityBase\n    ]\n})\nexport class IgxDisplayDensityModule {}\n","import {\n    Input, HostBinding, ElementRef, QueryList, Output, EventEmitter, ChangeDetectorRef, Optional, Inject, Directive\n} from '@angular/core';\n\nimport { Navigate, ISelectionEventArgs } from './drop-down.common';\nimport { IDropDownList } from './drop-down.common';\nimport { DropDownActionKey } from './drop-down.common';\nimport { IgxDropDownItemBaseDirective } from './drop-down-item.base';\nimport { DisplayDensityBase, DisplayDensityToken, IDisplayDensityOptions } from '../core/density';\n\nlet NEXT_ID = 0;\n\n/**\n * An abstract class, defining a drop-down component, with:\n * Properties for display styles and classes\n * A collection items of type `IgxDropDownItemBaseDirective`\n * Properties and methods for navigating (highlighting/focusing) items from the collection\n * Properties and methods for selecting items from the collection\n */\n@Directive({\n    selector: '[igxDropDownBase]'\n})\nexport class IgxDropDownBaseDirective extends DisplayDensityBase implements IDropDownList {\n    protected _width;\n    protected _height;\n    protected _focusedItem: any = null;\n    protected _id = `igx-drop-down-${NEXT_ID++}`;\n\n    /**\n     * @hidden @internal\n     * Get dropdown's html element of its scroll container\n     */\n    public get scrollContainer(): HTMLElement {\n        return this.element;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public children: QueryList<IgxDropDownItemBaseDirective>;\n\n    /**\n     * Emitted when item selection is changing, before the selection completes\n     *\n     * ```html\n     * <igx-drop-down (onSelection)='handleSelection()'></igx-drop-down>\n     * ```\n     */\n    @Output()\n    public onSelection = new EventEmitter<ISelectionEventArgs>();\n\n    /**\n     *  Gets/Sets the width of the drop down\n     *\n     * ```typescript\n     * // get\n     * let myDropDownCurrentWidth = this.dropdown.width;\n     * ```\n     * ```html\n     * <!--set-->\n     * <igx-drop-down [width]='160px'></igx-drop-down>\n     * ```\n     */\n    @Input()\n    public width: string;\n\n    /**\n     * Gets/Sets the height of the drop down\n     *\n     * ```typescript\n     * // get\n     * let myDropDownCurrentHeight = this.dropdown.height;\n     * ```\n     * ```html\n     * <!--set-->\n     * <igx-drop-down [height]='400px'></igx-drop-down>\n     * ```\n     */\n    @Input()\n    public height: string;\n\n    /**\n     * Gets/Sets the drop down's id\n     *\n     * ```typescript\n     * // get\n     * let myDropDownCurrentId = this.dropdown.id;\n     * ```\n     * ```html\n     * <!--set-->\n     * <igx-drop-down [id]='newDropDownId'></igx-drop-down>\n     * ```\n     */\n    @Input()\n    public id: string;\n\n    /**\n     * Gets/Sets the drop down's container max height.\n     *\n     * ```typescript\n     * // get\n     * let maxHeight = this.dropdown.maxHeight;\n     * ```\n     * ```html\n     * <!--set-->\n     * <igx-drop-down [maxHeight]='200px'></igx-drop-down>\n     * ```\n     */\n    @Input()\n    @HostBinding('style.maxHeight')\n    public maxHeight = null;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-drop-down')\n    public cssClass = true;\n\n    /**\n     * Get all non-header items\n     *\n     * ```typescript\n     * let myDropDownItems = this.dropdown.items;\n     * ```\n     */\n    public get items(): IgxDropDownItemBaseDirective[] {\n        const items: IgxDropDownItemBaseDirective[] = [];\n        if (this.children !== undefined) {\n            for (const child of this.children.toArray()) {\n                if (!child.isHeader) {\n                    items.push(child);\n                }\n            }\n        }\n\n        return items;\n    }\n\n    /**\n     * Get all header items\n     *\n     * ```typescript\n     * let myDropDownHeaderItems = this.dropdown.headers;\n     * ```\n     */\n    public get headers(): IgxDropDownItemBaseDirective[] {\n        const headers: IgxDropDownItemBaseDirective[] = [];\n        if (this.children !== undefined) {\n            for (const child of this.children.toArray()) {\n                if (child.isHeader) {\n                    headers.push(child);\n                }\n            }\n        }\n\n        return headers;\n    }\n\n    /**\n     * Get dropdown html element\n     *\n     * ```typescript\n     * let myDropDownElement = this.dropdown.element;\n     * ```\n     */\n    public get element() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * Gets if the dropdown is collapsed\n     */\n    public collapsed: boolean;\n\n    constructor(\n        protected elementRef: ElementRef,\n        protected cdr: ChangeDetectorRef,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n            super(_displayDensityOptions);\n        }\n\n    /** Keydown Handler */\n    public onItemActionKey(key: DropDownActionKey, event?: Event) {\n        switch (key) {\n            case DropDownActionKey.ENTER:\n            case DropDownActionKey.SPACE:\n                this.selectItem(this.focusedItem, event);\n                break;\n            case DropDownActionKey.ESCAPE:\n        }\n    }\n\n    /**\n     * Emits onSelection with the target item & event\n     * @hidden @internal\n     * @param newSelection the item selected\n     * @param event the event that triggered the call\n     */\n    public selectItem(newSelection?: IgxDropDownItemBaseDirective, event?: Event) {\n        this.onSelection.emit({\n            newSelection,\n            oldSelection: null,\n            cancel: false\n        });\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get focusedItem(): IgxDropDownItemBaseDirective {\n        return this._focusedItem;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public set focusedItem(item: IgxDropDownItemBaseDirective) {\n        this._focusedItem = item;\n    }\n\n    protected navigate(direction: Navigate, currentIndex?: number) {\n        let index = -1;\n        if (this._focusedItem) {\n            index = currentIndex ? currentIndex : this.focusedItem.itemIndex;\n        }\n        const newIndex = this.getNearestSiblingFocusableItemIndex(index, direction);\n        this.navigateItem(newIndex);\n    }\n\n    protected getNearestSiblingFocusableItemIndex(startIndex: number, direction: Navigate): number {\n        let index = startIndex;\n        const items = this.items;\n        while (items[index + direction] && items[index + direction].disabled) {\n            index += direction;\n        }\n\n        index += direction;\n        if (index >= 0 && index < items.length) {\n            return index;\n        } else {\n            return -1;\n        }\n    }\n\n    /**\n     * Navigates to the item on the specified index\n     * @param newIndex number - the index of the item in the `items` collection\n     */\n    public navigateItem(newIndex: number) {\n        if (newIndex !== -1) {\n            const oldItem = this._focusedItem;\n            const newItem = this.items[newIndex];\n            if (oldItem) {\n                oldItem.focused = false;\n            }\n            this.focusedItem = newItem;\n            this.scrollToHiddenItem(newItem);\n            this.focusedItem.focused = true;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigateFirst() {\n        this.navigate(Navigate.Down, -1);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigateLast() {\n        this.navigate(Navigate.Up, this.items.length);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigateNext() {\n        this.navigate(Navigate.Down);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigatePrev() {\n        this.navigate(Navigate.Up);\n    }\n\n    protected scrollToHiddenItem(newItem: IgxDropDownItemBaseDirective) {\n        const elementRect = newItem.element.nativeElement.getBoundingClientRect();\n        const parentRect = this.scrollContainer.getBoundingClientRect();\n        if (parentRect.top > elementRect.top) {\n            this.scrollContainer.scrollTop -= (parentRect.top - elementRect.top);\n        }\n\n        if (parentRect.bottom < elementRect.bottom) {\n            this.scrollContainer.scrollTop += (elementRect.bottom - parentRect.bottom);\n        }\n    }\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    HostBinding,\n    ViewChild,\n    ViewContainerRef\n} from '@angular/core';\n\n@Component({\n    selector: 'igx-display-container',\n    template: `\n        <ng-template\n            #display_container\n            igxScrollInertia\n            [IgxScrollInertiaScrollContainer]=\"scrollContainer\"\n            [IgxScrollInertiaDirection]=\"scrollDirection\">\n        </ng-template>\n    `\n})\nexport class DisplayContainerComponent {\n    @ViewChild('display_container', { read: ViewContainerRef, static: true })\n    public _vcr;\n\n    public scrollDirection: string;\n\n    @HostBinding('class')\n    public cssClass = 'igx-display-container';\n\n    @HostBinding('class.igx-display-container--inactive')\n    public notVirtual = true;\n\n    public scrollContainer;\n\n    constructor(public cdr: ChangeDetectorRef, public _viewContainer: ViewContainerRef) { }\n}\n","import {\n    EventEmitter,\n    Output,\n    HostListener,\n    ElementRef,\n    ChangeDetectorRef,\n    OnDestroy,\n    Directive,\n    AfterViewInit\n} from '@angular/core';\n\n@Directive({\n    selector: '[igxVirtualHelperBase]'\n})\nexport class VirtualHelperBaseDirective implements OnDestroy, AfterViewInit {\n    public scrollAmount = 0;\n\n    public _size = 0;\n\n    public destroyed;\n\n    private _afterViewInit = false;\n\n    ngAfterViewInit() {\n        this._afterViewInit = true;\n    }\n\n    @HostListener('scroll', ['$event'])\n    onScroll(event) {\n        this.scrollAmount = event.target.scrollTop || event.target.scrollLeft;\n    }\n    constructor(public elementRef: ElementRef, public cdr: ChangeDetectorRef) { }\n\n    get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n\n    public ngOnDestroy() {\n        this.destroyed = true;\n    }\n\n    public set size(value) {\n        if (this.destroyed) {\n            return;\n        }\n        this._size = value;\n        if (this._afterViewInit) {\n            this.cdr.detectChanges();\n        }\n    }\n\n    public get size() {\n        return this._size;\n    }\n}\n","import { Component, ElementRef, HostBinding, Input, ViewChild, ViewContainerRef, ChangeDetectorRef } from '@angular/core';\nimport { VirtualHelperBaseDirective } from './base.helper.component';\n\n/**\n * @hidden\n */\n@Component({\n    selector: 'igx-horizontal-virtual-helper',\n    template: '<div #horizontal_container class=\"igx-vhelper__placeholder-content\" [style.width.px]=\"size\"></div>'\n})\nexport class HVirtualHelperComponent extends VirtualHelperBaseDirective {\n    @ViewChild('horizontal_container', { read: ViewContainerRef, static: true }) public _vcr;\n    @Input() public width: number;\n    @HostBinding('class')\n    public cssClasses = 'igx-vhelper--horizontal';\n\n    constructor(public elementRef: ElementRef, public cdr: ChangeDetectorRef) {\n        super(elementRef, cdr);\n     }\n}\n","import { Component, ElementRef, HostBinding, Input, ViewChild, ViewContainerRef, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { VirtualHelperBaseDirective } from './base.helper.component';\n\n@Component({\n    selector: 'igx-virtual-helper',\n    template: '<div #container class=\"igx-vhelper__placeholder-content\" [style.height.px]=\"size\"></div>'\n})\nexport class VirtualHelperComponent extends VirtualHelperBaseDirective implements OnDestroy  {\n    @HostBinding('scrollTop')\n    public scrollTop;\n\n    @ViewChild('container', { read: ViewContainerRef, static: true }) public _vcr;\n    @Input() public itemsLength: number;\n\n\n    @HostBinding('class')\n    public cssClasses = 'igx-vhelper--vertical';\n\n    constructor(public elementRef: ElementRef, public cdr: ChangeDetectorRef) {\n        super(elementRef, cdr);\n    }\n\n}\n","import { Directive, Input, ElementRef, NgZone, OnInit, NgModule, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @hidden\n */\n@Directive({ selector: '[igxScrollInertia]' })\nexport class IgxScrollInertiaDirective implements OnInit, OnDestroy {\n\n    constructor(private element: ElementRef, private _zone: NgZone) {\n\n    }\n\n    @Input()\n    public IgxScrollInertiaDirection: string;\n\n    @Input()\n    public IgxScrollInertiaScrollContainer: any;\n\n    @Input()\n    public wheelStep = 50;\n\n    @Input()\n    public inertiaStep = 1.5;\n\n    @Input()\n    public swipeToleranceX = 20;\n\n    @Input()\n    public inertiaDeltaY = 3;\n\n    @Input()\n    public inertiaDeltaX = 2;\n\n    @Input()\n    public inertiaDuration = 0.5;\n\n    private _touchInertiaAnimID;\n    private _startX;\n    private _startY;\n    private _touchStartX;\n    private _touchStartY;\n    private _lastTouchEnd;\n    private _lastTouchX;\n    private _lastTouchY;\n    private _savedSpeedsX = [];\n    private _savedSpeedsY;\n    private _totalMovedX;\n    private _offsetRecorded;\n    private _offsetDirection;\n    private _touchPrevented;\n    private _lastMovedX;\n    private _lastMovedY;\n    private _gestureObject;\n    private setPointerCaptureFName = typeof Element.prototype['msSetPointerCapture'] === 'function' ?\n    'msSetPointerCapture' :\n    'setPointerCapture';\n    private releasePointerCaptureFName = typeof Element.prototype['msReleasePointerCapture'] === 'function' ?\n    'msReleasePointerCapture' :\n    'releasePointerCapture';\n    private _pointer;\n    private _nextX;\n    private _nextY;\n    private parentElement;\n\n    ngOnInit(): void {\n        this._zone.runOutsideAngular(() => {\n            this.parentElement = this.element.nativeElement.parentElement || this.element.nativeElement.parentNode;\n            const targetElem = this.parentElement;\n            targetElem.addEventListener('wheel',\n                    (evt) => { this.onWheel(evt); });\n            targetElem.addEventListener('touchstart',\n                    (evt) => { this.onTouchStart(evt); });\n            targetElem.addEventListener('touchmove',\n                    (evt) => { this.onTouchMove(evt); });\n            targetElem.addEventListener('touchend',\n                    (evt) => { this.onTouchEnd(evt); });\n            targetElem.addEventListener('pointerdown',\n                    (evt) => { this.onPointerDown(evt); });\n            targetElem.addEventListener('pointerup',\n                     (evt) => { this.onPointerUp(evt); });\n            targetElem.addEventListener('MSGestureStart',\n                    (evt) => { this.onMSGestureStart(evt); });\n            targetElem.addEventListener('MSGestureChange',\n                    (evt) => { this.onMSGestureChange(evt); });\n        });\n    }\n\n     /**\n     * @hidden\n     * Function that is called when scrolling with the mouse wheel or using touchpad\n     */\n    protected onWheel(evt) {\n        // if no scrollbar return\n        if (!this.IgxScrollInertiaScrollContainer) {\n            return;\n        }\n        let scrollDeltaX;\n        let scrollDeltaY;\n        const scrollStep = this.wheelStep;\n        const minWheelStep = 1 / this.wheelStep;\n\n        this._startX = this.IgxScrollInertiaScrollContainer.scrollLeft;\n        this._startY = this.IgxScrollInertiaScrollContainer.scrollTop;\n\n        if (evt.wheelDeltaX) {\n            /* Option supported on Chrome, Safari, Opera.\n            /* 120 is default for mousewheel on these browsers. Other values are for trackpads */\n            scrollDeltaX = -evt.wheelDeltaX / 120;\n\n            if (-minWheelStep < scrollDeltaX && scrollDeltaX < minWheelStep) {\n                scrollDeltaX = Math.sign(scrollDeltaX) * minWheelStep;\n            }\n        } else if (evt.deltaX) {\n            /* For other browsers that don't provide wheelDelta, use the deltaY to determine direction and pass default values. */\n            scrollDeltaX = this.calcAxisCoords(evt.deltaX, -1, 1);\n        }\n\n        /** Get delta for the Y axis*/\n        if (evt.wheelDeltaY) {\n            /* Option supported on Chrome, Safari, Opera.\n            /* 120 is default for mousewheel on these browsers. Other values are for trackpads */\n            scrollDeltaY = -evt.wheelDeltaY / 120;\n\n            if (-minWheelStep < scrollDeltaY && scrollDeltaY < minWheelStep) {\n                scrollDeltaY = Math.sign(scrollDeltaY) * minWheelStep;\n            }\n        } else if (evt.deltaY) {\n            /* For other browsers that don't provide wheelDelta, use the deltaY to determine direction and pass default values. */\n            scrollDeltaY = this.calcAxisCoords(evt.deltaY, -1, 1);\n        }\n        if (scrollDeltaX && this.IgxScrollInertiaDirection === 'horizontal') {\n            this._scrollToX(\n                this._startX + scrollDeltaX * scrollStep\n            );\n            const curScrollLeft = this.IgxScrollInertiaScrollContainer.scrollLeft;\n            const maxScrollLeft = parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width, 10);\n            if (0 < curScrollLeft && curScrollLeft < maxScrollLeft) {\n                // Prevent navigating through pages when scrolling on Mac\n                evt.preventDefault();\n            }\n        } else if (scrollDeltaY && this.IgxScrollInertiaDirection === 'vertical') {\n            this._scrollToY(\n                this._startY + scrollDeltaY * scrollStep\n            );\n            this.preventParentScroll(evt, true);\n        }\n    }\n\n    /**\n     * @hidden\n     * When there is still room to scroll up/down prevent the parent elements from scrolling too.\n     */\n    protected preventParentScroll(evt, preventDefault) {\n        const curScrollTop = this.IgxScrollInertiaScrollContainer.scrollTop;\n        const maxScrollTop = this.IgxScrollInertiaScrollContainer.children[0].scrollHeight -\n            this.IgxScrollInertiaScrollContainer.offsetHeight;\n        if (0 < curScrollTop && curScrollTop < maxScrollTop) {\n            if (preventDefault) {\n                 evt.preventDefault();\n            }\n            if (evt.stopPropagation) {\n                evt.stopPropagation();\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     * Function that is called the first moment we start interacting with the content on a touch device\n     */\n    protected onTouchStart(event) {\n        if (typeof MSGesture === 'function' || !this.IgxScrollInertiaScrollContainer) {\n            return false;\n        }\n\n        // stops any current ongoing inertia\n        cancelAnimationFrame(this._touchInertiaAnimID);\n\n        const touch = event.touches[ 0 ];\n\n        this._startX = this.IgxScrollInertiaScrollContainer.scrollLeft;\n\n        this._startY = this.IgxScrollInertiaScrollContainer.scrollTop;\n\n        this._touchStartX = touch.pageX;\n        this._touchStartY = touch.pageY;\n\n        this._lastTouchEnd = new Date().getTime();\n        this._lastTouchX = touch.pageX;\n        this._lastTouchY = touch.pageY;\n        this._savedSpeedsX = [];\n        this._savedSpeedsY = [];\n\n        // Vars regarding swipe offset\n        this._totalMovedX = 0;\n        this._offsetRecorded = false;\n        this._offsetDirection = 0;\n\n        this._touchPrevented = false;\n        if (this.IgxScrollInertiaDirection === 'vertical') {\n            this.preventParentScroll(event, false);\n        }\n    }\n\n    /**\n     * @hidden\n     * Function that is called when we need to scroll the content based on touch interactions\n     */\n    protected onTouchMove(event) {\n        if (typeof MSGesture === 'function') {\n            this._touchPrevented = false;\n            return false;\n        }\n        if (!this.IgxScrollInertiaScrollContainer) {\n            return;\n        }\n\n        const touch = event.touches[ 0 ];\n        const destX = this._startX + (this._touchStartX - touch.pageX) * Math.sign(this.inertiaStep);\n        const destY = this._startY + (this._touchStartY - touch.pageY) * Math.sign(this.inertiaStep);\n\n        /* Handle complex touchmoves when swipe stops but the toch doesn't end and then a swipe is initiated again */\n        /* **********************************************************/\n\n\n        const timeFromLastTouch = (new Date().getTime()) - this._lastTouchEnd;\n        if (timeFromLastTouch !== 0 && timeFromLastTouch < 100) {\n            const speedX = (this._lastTouchX - touch.pageX) / timeFromLastTouch;\n            const speedY = (this._lastTouchY - touch.pageY) / timeFromLastTouch;\n\n            // Save the last 5 speeds between two touchmoves on X axis\n            if (this._savedSpeedsX.length < 5) {\n                this._savedSpeedsX.push(speedX);\n            } else {\n                this._savedSpeedsX.shift();\n                this._savedSpeedsX.push(speedX);\n            }\n\n            // Save the last 5 speeds between two touchmoves on Y axis\n            if (this._savedSpeedsY.length < 5) {\n                this._savedSpeedsY.push(speedY);\n            } else {\n                this._savedSpeedsY.shift();\n                this._savedSpeedsY.push(speedY);\n            }\n        }\n        this._lastTouchEnd = new Date().getTime();\n        this._lastMovedX = this._lastTouchX - touch.pageX;\n        this._lastMovedY = this._lastTouchY - touch.pageY;\n        this._lastTouchX = touch.pageX;\n        this._lastTouchY = touch.pageY;\n\n        this._totalMovedX += this._lastMovedX;\n\n        let scrolledXY; // Object: {x, y}\n        /*\tDo not scroll using touch untill out of the swipeToleranceX bounds */\n        if (Math.abs(this._totalMovedX) < this.swipeToleranceX && !this._offsetRecorded) {\n            scrolledXY = this._scrollTo(this._startX, destY);\n        } else {\n            /*\tRecord the direction the first time we are out of the swipeToleranceX bounds.\n\t\t\t*\tThat way we know which direction we apply the offset so it doesn't hickup when moving out of the swipeToleranceX bounds */\n            if (!this._offsetRecorded) {\n                this._offsetDirection = Math.sign(destX - this._startX);\n                this._offsetRecorded = true;\n            }\n\n            /*\tScroll with offset ammout of swipeToleranceX in the direction we have exited the bounds and\n            don't change it after that ever until touchend and again touchstart */\n            scrolledXY = this._scrollTo(destX - this._offsetDirection * this.swipeToleranceX,\n                destY);\n        }\n\n        if (scrolledXY.x === 0 && scrolledXY.y === 0) {\n            this._touchPrevented = true;\n        }\n\n        // On Safari preventing the touchmove would prevent default page scroll behaviour even if there is the element doesn't have overflow\n        if (this.IgxScrollInertiaDirection === 'vertical') {\n            this.preventParentScroll(event, true);\n        }\n    }\n\n    protected onTouchEnd(event) {\n        if (typeof MSGesture === 'function') {\n            return;\n        }\n        let speedX = 0;\n        let speedY = 0;\n\n        // savedSpeedsX and savedSpeedsY have same length\n        for (let i = 0; i < this._savedSpeedsX.length; i++) {\n            speedX += this._savedSpeedsX[ i ];\n            speedY += this._savedSpeedsY[ i ];\n        }\n        speedX = this._savedSpeedsX.length ? speedX / this._savedSpeedsX.length : 0;\n        speedY = this._savedSpeedsX.length ? speedY / this._savedSpeedsY.length : 0;\n\n         // Use the lastMovedX and lastMovedY to determine if the swipe stops without lifting the finger so we don't start inertia\n        if ((Math.abs(speedX) > 0.1 || Math.abs(speedY) > 0.1) &&\n                        (Math.abs(this._lastMovedX) > 2 || Math.abs(this._lastMovedY) > 2)) {\n                    this._inertiaInit(speedX, speedY);\n        }\n        if (this.IgxScrollInertiaDirection === 'vertical') {\n            this.preventParentScroll(event, false);\n        }\n    }\n\n    /**\n     * @hidden\n     * Function that is called when we need to detect touch starting on a touch device on IE/Edge\n     */\n    protected onPointerDown(event) {\n        if (!event || (event.pointerType !== 2 && event.pointerType !== 'touch') ||\n            typeof MSGesture !== 'function') {\n            return true;\n        }\n        if (!this.IgxScrollInertiaScrollContainer) {\n            return;\n        }\n        // setPointerCaptureFName is the name of the function that is supported\n        event.target[this.setPointerCaptureFName](this._pointer = event.pointerId);\n\n        // create gestureObject only one time to prevent overlapping during intertia\n        if (!this._gestureObject) {\n            this._gestureObject = new MSGesture();\n            this._gestureObject.target = this.parentElement;\n        }\n        this._gestureObject.addPointer(this._pointer);\n    }\n\n    /**\n     * @hidden\n     * Function that is called when we need to detect touch ending on a touch device on IE/Edge\n     */\n    protected onPointerUp(event) {\n        if (!this._pointer) {\n            return true;\n        }\n        if (!this.IgxScrollInertiaScrollContainer) {\n            return;\n        }\n        /* releasePointerCaptureFName is the name of the function that is supported */\n        event.target[ this.releasePointerCaptureFName ](this._pointer);\n\n        delete this._pointer;\n    }\n\n    /**\n     * @hidden\n     *  Function that is called when a gesture begins on IE/Edge\n     */\n    protected onMSGestureStart(event) {\n        if (!this.IgxScrollInertiaScrollContainer) {\n            return;\n        }\n        this._startX = this.IgxScrollInertiaScrollContainer.scrollLeft;\n        this._startY = this.IgxScrollInertiaScrollContainer.scrollTop;\n\n\n        this._touchStartX = event.screenX;\n        this._touchStartY = event.screenY;\n\n        // Vars regarding swipe offset\n        this._totalMovedX = 0;\n        this._offsetRecorded = false;\n        this._offsetDirection = 0;\n        return false;\n    }\n\n    /**\n     * @hidden\n     * Function that is called when a we need to scroll based on the gesture performed on IE/Edge\n     */\n    protected onMSGestureChange(event) {\n        if (!this.IgxScrollInertiaScrollContainer) {\n            return;\n        }\n        const touchPos = event,\n            destX = this._startX + this._touchStartX - touchPos.screenX,\n            destY = this._startY + this._touchStartY - touchPos.screenY;\n        /* Logic regarding x tolerance to prevent accidental horizontal scrolling when scrolling vertically */\n        this._totalMovedX = this._touchStartX - touchPos.screenX;\n        if (Math.abs(this._totalMovedX) < this.swipeToleranceX && !this._offsetRecorded) {\n            /* Do not scroll horizontally yet while in the tolerance range */\n            this._scrollToY(destY);\n        } else {\n            if (!this._offsetRecorded) {\n                this._offsetDirection = Math.sign(destX - this._startX);\n                this._offsetRecorded = true;\n            }\n            /* Once the tolerance is exceeded it can be scrolled horizontally */\n            this._scrollTo(destX - this._offsetDirection * this.swipeToleranceX, destY);\n        }\n\n        return false;\n    }\n\n    private calcAxisCoords(target, min, max) {\n        if (target === undefined || target < min) {\n            target = min;\n        } else if (target > max) {\n            target = max;\n        }\n\n        return target;\n    }\n\n    private _scrollTo(destX, destY) {\n        const curPosX = this.IgxScrollInertiaScrollContainer.scrollLeft;\n        const curPosY = this.IgxScrollInertiaScrollContainer.scrollTop;\n\n         // TODO Trigger scrolling event?\n        const scrolledX = this._scrollToX(destX);\n        const scrolledY = this._scrollToY(destY);\n\n        return { x: scrolledX, y: scrolledY };\n    }\n    private _scrollToX(dest) {\n        this.IgxScrollInertiaScrollContainer.scrollLeft = dest;\n    }\n    private _scrollToY(dest) {\n        this.IgxScrollInertiaScrollContainer.scrollTop = dest;\n    }\n\n   protected _inertiaInit(speedX, speedY) {\n    const stepModifer = this.inertiaStep,\n        inertiaDuration = this.inertiaDuration;\n    let x = 0;\n    this._nextX = this.IgxScrollInertiaScrollContainer.scrollLeft;\n    this._nextY = this.IgxScrollInertiaScrollContainer.scrollTop;\n\n    // Sets timeout until executing next movement iteration of the inertia\n    const inertiaStep = () => {\n        if (x > 6) {\n            cancelAnimationFrame(this._touchInertiaAnimID);\n            return;\n        }\n\n        if (Math.abs(speedX) > Math.abs(speedY)) {\n            x += 0.05 / (1 * inertiaDuration);\n        } else {\n            x += 0.05 / (1 * inertiaDuration);\n        }\n\n        if (x <= 1) {\n            // We use constant quation to determine the offset without speed falloff befor x reaches 1\n            if (Math.abs(speedY) <= Math.abs(speedX) * this.inertiaDeltaY) {\n                this._nextX += 1 * speedX * 15 * stepModifer;\n            }\n            if (Math.abs(speedY) >= Math.abs(speedX) * this.inertiaDeltaX) {\n                this._nextY += 1 * speedY * 15 * stepModifer;\n            }\n        } else {\n            // We use the quation \"y = 2 / (x + 0.55) - 0.3\" to determine the offset\n            if (Math.abs(speedY) <= Math.abs(speedX) * this.inertiaDeltaY) {\n                this._nextX += Math.abs(2 / (x + 0.55) - 0.3) * speedX * 15 * stepModifer;\n            }\n            if (Math.abs(speedY) >= Math.abs(speedX) * this.inertiaDeltaX) {\n                this._nextY += Math.abs(2 / (x + 0.55) - 0.3) * speedY * 15 * stepModifer;\n            }\n        }\n\n        // If we have mixed environment we use the default behaviour. i.e. touchscreen + mouse\n        this._scrollTo(this._nextX, this._nextY);\n\n        this._touchInertiaAnimID = requestAnimationFrame(inertiaStep);\n    };\n\n    // Start inertia and continue it recursively\n    this._touchInertiaAnimID = requestAnimationFrame(inertiaStep);\n   }\n\n    ngOnDestroy() {\n        this._zone.runOutsideAngular(() => {\n            const targetElem = this.parentElement;\n            targetElem.removeEventListener('wheel',\n                (evt) => { this.onWheel(evt); });\n            targetElem.removeEventListener('touchstart',\n                (evt) => { this.onTouchStart(evt); });\n            targetElem.removeEventListener('touchmove',\n                (evt) => { this.onTouchMove(evt); });\n            targetElem.removeEventListener('touchend',\n                (evt) => { this.onTouchEnd(evt); });\n            targetElem.removeEventListener('pointerdown',\n                (evt) => { this.onPointerDown(evt); });\n            targetElem.removeEventListener('pointerup',\n                (evt) => { this.onPointerUp(evt); });\n            targetElem.removeEventListener('MSGestureStart',\n                (evt) => { this.onMSGestureStart(evt); });\n            targetElem.removeEventListener('MSGestureChange',\n                (evt) => { this.onMSGestureChange(evt); });\n        });\n    }\n\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxScrollInertiaDirective],\n    exports: [IgxScrollInertiaDirective],\n    imports: [CommonModule]\n})\n\nexport class IgxScrollInertiaModule {\n}\n\n","import { Injectable, Component } from '@angular/core';\nimport { IgxGridForOfDirective } from './for_of.directive';\nimport { VirtualHelperBaseDirective } from './base.helper.component';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class IgxForOfSyncService {\n\n    private _master: Map<string, IgxGridForOfDirective<any>> = new Map<string, IgxGridForOfDirective<any>>();\n\n    /**\n     * @hidden\n     */\n    public isMaster(directive: IgxGridForOfDirective<any>): boolean {\n        return this._master.get(directive.igxForScrollOrientation) === directive;\n    }\n\n    /**\n     * @hidden\n     */\n    public setMaster(directive: IgxGridForOfDirective<any>, forced = false) {\n        const orientation = directive.igxForScrollOrientation;\n        if (orientation && (forced || !this._master.has(orientation))) {\n            this._master.set(orientation, directive);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public resetMaster() {\n        this._master.clear();\n    }\n\n    /**\n     * @hidden\n     */\n    public sizesCache(dir: string): number[] {\n        return this._master.get(dir).sizesCache;\n    }\n\n    /**\n     * @hidden\n     */\n    public chunkSize(dir: string): number {\n        return this._master.get(dir).state.chunkSize;\n    }\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class IgxForOfScrollSyncService {\n    private _masterScroll: Map<string, VirtualHelperBaseDirective> = new Map<string, any>();\n    public setScrollMaster(dir: string, scroll: VirtualHelperBaseDirective) {\n        this._masterScroll.set(dir, scroll);\n    }\n\n    public getScrollMaster(dir: string) {\n        return this._masterScroll.get(dir);\n    }\n}\n","import { CommonModule, NgForOfContext } from '@angular/common';\nimport {\n    ChangeDetectorRef,\n    ComponentFactory,\n    ComponentFactoryResolver,\n    ComponentRef,\n    Directive,\n    DoCheck,\n    EmbeddedViewRef,\n    EventEmitter,\n    Input,\n    IterableChanges,\n    IterableDiffer,\n    IterableDiffers,\n    NgModule,\n    NgZone,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    SimpleChanges,\n    TemplateRef,\n    TrackByFunction,\n    ViewContainerRef,\n    ViewRef,\n    AfterViewInit\n} from '@angular/core';\n\nimport { DisplayContainerComponent } from './display.container';\nimport { HVirtualHelperComponent } from './horizontal.virtual.helper.component';\nimport { VirtualHelperComponent } from './virtual.helper.component';\nimport { IgxScrollInertiaModule } from './../scroll-inertia/scroll_inertia.directive';\nimport { IgxForOfSyncService, IgxForOfScrollSyncService } from './for_of.sync.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil, filter, throttleTime, first } from 'rxjs/operators';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { IBaseEventArgs } from '../../core/utils';\nimport { VirtualHelperBaseDirective } from './base.helper.component';\n\n/**\n *  @publicApi\n */\nexport class IgxForOfContext<T> {\n    constructor(\n       public $implicit: T,\n       public index: number,\n       public count: number\n    ) {}\n\n    /**\n     * A function that returns whether the element is the first or not\n     */\n    get first(): boolean { return this.index === 0; }\n\n    /**\n     * A function that returns whether the element is the last or not\n     */\n    get last(): boolean { return this.index === this.count - 1; }\n\n    /**\n     * A function that returns whether the element is even or not\n     */\n    get even(): boolean { return this.index % 2 === 0; }\n\n    /**\n     * A function that returns whether the element is odd or not\n     */\n    get odd(): boolean { return !this.even; }\n\n}\n\n@Directive({ selector: '[igxFor][igxForOf]' })\nexport class IgxForOfDirective<T> implements OnInit, OnChanges, DoCheck, OnDestroy, AfterViewInit {\n\n    /**\n     * An @Input property that sets the data to be rendered.\n     * ```html\n     * <ng-template igxFor let-item [igxForOf]=\"data\" [igxForScrollOrientation]=\"'horizontal'\"></ng-template>\n     * ```\n     */\n    @Input()\n    public igxForOf: any[];\n\n    /**\n     * An @Input property that sets the property name from which to read the size in the data object.\n     */\n    @Input()\n    public igxForSizePropName;\n\n    /**\n     * An @Input property that specifies the scroll orientation.\n     * Scroll orientation can be \"vertical\" or \"horizontal\".\n     * ```html\n     * <ng-template igxFor let-item [igxForOf]=\"data\" [igxForScrollOrientation]=\"'horizontal'\"></ng-template>\n     * ```\n     */\n    @Input()\n    public igxForScrollOrientation = 'vertical';\n\n    /**\n     * Optionally pass the parent `igxFor` instance to create a virtual template scrolling both horizontally and vertically.\n     * ```html\n     * <ng-template #scrollContainer igxFor let-rowData [igxForOf]=\"data\"\n     *       [igxForScrollOrientation]=\"'vertical'\"\n     *       [igxForContainerSize]=\"'500px'\"\n     *       [igxForItemSize]=\"'50px'\"\n     *       let-rowIndex=\"index\">\n     *       <div [style.display]=\"'flex'\" [style.height]=\"'50px'\">\n     *           <ng-template #childContainer igxFor let-item [igxForOf]=\"data\"\n     *               [igxForScrollOrientation]=\"'horizontal'\"\n     *               [igxForScrollContainer]=\"parentVirtDir\"\n     *               [igxForContainerSize]=\"'500px'\">\n     *                   <div [style.min-width]=\"'50px'\">{{rowIndex}} : {{item.text}}</div>\n     *           </ng-template>\n     *       </div>\n     * </ng-template>\n     * ```\n     */\n    @Input()\n    public igxForScrollContainer: any;\n\n    /**\n     * An @Input property that sets the px-affixed size of the container along the axis of scrolling.\n     * For \"horizontal\" orientation this value is the width of the container and for \"vertical\" is the height.\n     * ```html\n     * <ng-template igxFor let-item [igxForOf]=\"data\" [igxForContainerSize]=\"'500px'\"\n     *      [igxForScrollOrientation]=\"'horizontal'\">\n     * </ng-template>\n     * ```\n     */\n    @Input()\n    public igxForContainerSize: any;\n\n    /**\n     * An @Input property that sets the px-affixed size of the item along the axis of scrolling.\n     * For \"horizontal\" orientation this value is the width of the column and for \"vertical\" is the height or the row.\n     * ```html\n     * <ng-template igxFor let-item [igxForOf]=\"data\" [igxForScrollOrientation]=\"'horizontal'\" [igxForItemSize]=\"'50px'\"></ng-template>\n     * ```\n     */\n    @Input()\n    public igxForItemSize: any;\n\n    /**\n     * The total count of the virtual data items, when using remote service.\n     * Similar to the property totalItemCount, but this will allow setting the data count into the template.\n     * ```html\n     * <ng-template igxFor let-item [igxForOf]=\"data | async\" [igxForTotalItemCount]=\"count | async\"\n     *  [igxForContainerSize]=\"'500px'\" [igxForItemSize]=\"'50px'\"></ng-template>\n     * ```\n     */\n    @Input()\n    get igxForTotalItemCount(): number {\n        return this.totalItemCount;\n    }\n    set igxForTotalItemCount(value: number) {\n        this.totalItemCount = value;\n    }\n    /**\n     * @hidden\n     */\n    public dc: ComponentRef<DisplayContainerComponent>;\n\n    /**\n     * The current state of the directive. It contains `startIndex` and `chunkSize`.\n     * state.startIndex - The index of the item at which the current visible chunk begins.\n     * state.chunkSize - The number of items the current visible chunk holds.\n     * These options can be used when implementing remote virtualization as they provide the necessary state information.\n     * ```typescript\n     * const gridState = this.parentVirtDir.state;\n     * ```\n     */\n    public state: IForOfState = {\n        startIndex: 0,\n        chunkSize: 0\n    };\n    /**\n     * The total count of the virtual data items, when using remote service.\n     * ```typescript\n     * this.parentVirtDir.totalItemCount = data.Count;\n     * ```\n     */\n    public totalItemCount: number = null;\n\n    /**\n     * An event that is emitted after a new chunk has been loaded.\n     * ```html\n     * <ng-template igxFor [igxForOf]=\"data\" [igxForScrollOrientation]=\"'horizontal'\" (onChunkLoad)=\"chunkLoad($event)\"></ng-template>\n     * ```\n     * ```typescript\n     * chunkLoad(e){\n     * alert(\"chunk loaded!\");\n     * }\n     * ```\n     */\n    @Output()\n    public onChunkLoad = new EventEmitter<IForOfState>();\n\n    /**\n     * @hidden @internal\n     * An event that is emitted when scrollbar visibility has changed.\n     */\n    @Output()\n    public onScrollbarVisibilityChanged = new EventEmitter<any>();\n\n    /**\n     * An event that is emitted after the rendered content size of the igxForOf has been changed.\n    */\n    @Output()\n    public onContentSizeChange = new EventEmitter<any>();\n\n    /**\n     * An event that is emitted after data has been changed.\n     * ```html\n     * <ng-template igxFor [igxForOf]=\"data\" [igxForScrollOrientation]=\"'horizontal'\" (onDataChanged)=\"dataChanged($event)\"></ng-template>\n     * ```\n     * ```typescript\n     * dataChanged(e){\n     * alert(\"data changed!\");\n     * }\n     * ```\n     */\n    @Output()\n    public onDataChanged = new EventEmitter<any>();\n\n    @Output()\n    public onBeforeViewDestroyed = new EventEmitter<EmbeddedViewRef<any>>();\n\n    /**\n     * An event that is emitted on chunk loading to emit the current state information - startIndex, endIndex, totalCount.\n     * Can be used for implementing remote load on demand for the igxFor data.\n     * ```html\n     * <ng-template igxFor [igxForOf]=\"data\" [igxForScrollOrientation]=\"'horizontal'\" (onChunkPreload)=\"chunkPreload($event)\"></ng-template>\n     * ```\n     * ```typescript\n     * chunkPreload(e){\n     * alert(\"chunk is loading!\");\n     * }\n     * ```\n     */\n    @Output()\n    public onChunkPreload = new EventEmitter<IForOfState>();\n    protected func;\n    protected _sizesCache: number[] = [];\n    protected scrollComponent: VirtualHelperBaseDirective;\n    protected _differ: IterableDiffer<T> | null = null;\n    protected _trackByFn: TrackByFunction<T>;\n    protected heightCache = [];\n    private _adjustToIndex;\n    private MAX_PERF_SCROLL_DIFF = 4;\n\n\n    public get displayContainer(): HTMLElement | undefined {\n        return this.dc.instance._viewContainer.element.nativeElement;\n    }\n\n    public get virtualHelper() {\n        return this.scrollComponent.nativeElement;\n    }\n\n    protected get sizesCache(): number[] {\n        return this._sizesCache;\n    }\n    protected set sizesCache(value: number[]) {\n        this._sizesCache = value;\n    }\n\n    private get _isScrolledToBottom() {\n        if (!this.getScroll()) {\n            return true;\n        }\n        const scrollHeight = this.getScroll().scrollHeight;\n        // Use === and not >= because `scrollTop + container size` can't be bigger than `scrollHeight`, unless something isn't updated.\n        // Also use Math.round because Chrome has some inconsistencies and `scrollTop + container` can be float when zooming the page.\n        return Math.round(this.getScroll().scrollTop + this.igxForContainerSize) === scrollHeight;\n    }\n\n    private get _isAtBottomIndex() {\n        return this.igxForOf && this.state.startIndex + this.state.chunkSize > this.igxForOf.length;\n    }\n\n    // Start properties related to virtual height handling due to browser limitation\n    /** Maximum height for an element of the browser. */\n    private _maxHeight;\n\n    /** Height that is being virtualized. */\n    protected _virtHeight = 0;\n\n    /**\n     * Ratio for height that's being virtualizaed and the one visible\n     * If _virtHeightRatio = 1, the visible height and the virtualized are the same, also _maxHeight > _virtHeight.\n     */\n    private _virtHeightRatio = 1;\n\n    /** Internal track for scroll top that is being virtualized */\n    protected _virtScrollTop = 0;\n\n    /** If the next onScroll event is triggered due to internal setting of scrollTop */\n    protected _bScrollInternal = false;\n    // End properties related to virtual height handling\n\n    protected _embeddedViews: Array<EmbeddedViewRef<any>> = [];\n\n    protected contentResizeNotify = new Subject();\n    protected contentObserver: ResizeObserver;\n\n    /**\n     * @hidden\n     */\n    protected destroy$ = new Subject<any>();\n\n    constructor(\n        private _viewContainer: ViewContainerRef,\n        protected _template: TemplateRef<NgForOfContext<T>>,\n        protected _differs: IterableDiffers,\n        private resolver: ComponentFactoryResolver,\n        public cdr: ChangeDetectorRef,\n        protected _zone: NgZone,\n        protected syncScrollService: IgxForOfScrollSyncService) { }\n\n    /**\n     * @hidden\n     */\n    protected get isRemote(): boolean {\n        return this.totalItemCount !== null;\n    }\n\n    /**\n     *\n     * Gets/Sets the scroll position.\n     * ```typescript\n     * const position = directive.scrollPosition;\n     * directive.scrollPosition = value;\n     * ```\n     */\n    public get scrollPosition(): number {\n        return this.scrollComponent.scrollAmount;\n    }\n    public set scrollPosition(val: number) {\n        if (val === this.scrollComponent.scrollAmount) {\n            return;\n        }\n        if (this.igxForScrollOrientation === 'horizontal' && this.scrollComponent) {\n            this.scrollComponent.nativeElement.scrollLeft = val;\n        } else if (this.scrollComponent) {\n            this.scrollComponent.nativeElement.scrollTop = val;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected removeScrollEventListeners() {\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this._zone.runOutsideAngular(() =>\n                this.scrollComponent.nativeElement.removeEventListener('scroll', this.func)\n            );\n        } else {\n            this._zone.runOutsideAngular(() =>\n                this.scrollComponent.nativeElement.removeEventListener('scroll', this.verticalScrollHandler)\n            );\n        }\n    }\n\n    public verticalScrollHandler(event) {\n        this.onScroll(event);\n    }\n\n    public isScrollable() {\n        return this.scrollComponent.size > parseInt(this.igxForContainerSize, 10);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit(): void {\n        let totalSize = 0;\n        const vc = this.igxForScrollContainer ? this.igxForScrollContainer._viewContainer : this._viewContainer;\n        this.igxForSizePropName = this.igxForSizePropName || 'width';\n\n        const dcFactory: ComponentFactory<DisplayContainerComponent> = this.resolver.resolveComponentFactory(DisplayContainerComponent);\n        this.dc = this._viewContainer.createComponent(dcFactory, 0);\n        this.dc.instance.scrollDirection = this.igxForScrollOrientation;\n        if (typeof MSGesture === 'function') {\n            // On Edge and IE when scrolling on touch the page scroll instead of the grid.\n            this.dc.instance._viewContainer.element.nativeElement.style.touchAction = 'none';\n        }\n        if (this.igxForOf && this.igxForOf.length) {\n            totalSize = this.initSizesCache(this.igxForOf);\n            this.scrollComponent = this.syncScrollService.getScrollMaster(this.igxForScrollOrientation);\n            this.state.chunkSize = this._calculateChunkSize();\n            this.dc.instance.notVirtual = !(this.igxForContainerSize && this.state.chunkSize < this.igxForOf.length);\n            if (this.scrollComponent) {\n                this.state.startIndex = Math.min(this.getIndexAt(this.scrollPosition, this.sizesCache, 0),\n                    this.igxForOf.length - this.state.chunkSize);\n            }\n            for (let i = this.state.startIndex; i < this.state.startIndex + this.state.chunkSize &&\n                    this.igxForOf[i] !== undefined; i++) {\n                const input = this.igxForOf[i];\n                const embeddedView = this.dc.instance._vcr.createEmbeddedView(\n                    this._template,\n                    new IgxForOfContext<T>(input, this.getContextIndex(input), this.igxForOf.length)\n                );\n                this._embeddedViews.push(embeddedView);\n            }\n        }\n\n        if (this.igxForScrollOrientation === 'vertical') {\n            this.dc.instance._viewContainer.element.nativeElement.style.top = '0px';\n            const factory: ComponentFactory<VirtualHelperComponent> = this.resolver.resolveComponentFactory(VirtualHelperComponent);\n            this.scrollComponent = vc.createComponent(factory).instance;\n            this._maxHeight = this._calcMaxBrowserHeight();\n            this.scrollComponent.size = this.igxForOf ? this._calcHeight() : 0;\n            this.syncScrollService.setScrollMaster(this.igxForScrollOrientation, this.scrollComponent);\n            this._zone.runOutsideAngular(() => {\n                this.verticalScrollHandler = this.verticalScrollHandler.bind(this);\n                this.scrollComponent.nativeElement.addEventListener('scroll', this.verticalScrollHandler);\n                this.dc.instance.scrollContainer = this.scrollComponent.nativeElement;\n            });\n            const destructor = takeUntil<any>(this.destroy$);\n            this.contentResizeNotify.pipe(destructor,\n            filter(() => this.igxForContainerSize && this.igxForOf && this.igxForOf.length > 0),\n            throttleTime(40, undefined, {leading: true, trailing: true}))\n            .subscribe(() => {\n                this._zone.runTask(() => {\n                    this.updateSizes();\n                });\n            });\n        }\n\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this.func = (evt) => { this.onHScroll(evt); };\n            this.scrollComponent = this.syncScrollService.getScrollMaster(this.igxForScrollOrientation);\n            if (!this.scrollComponent) {\n                const hvFactory: ComponentFactory<HVirtualHelperComponent> =\n                    this.resolver.resolveComponentFactory(HVirtualHelperComponent);\n                this.scrollComponent = vc.createComponent(hvFactory).instance;\n                this.scrollComponent.size = totalSize;\n                this.syncScrollService.setScrollMaster(this.igxForScrollOrientation, this.scrollComponent);\n                this._zone.runOutsideAngular(() => {\n                    this.scrollComponent.nativeElement.addEventListener('scroll', this.func);\n                    this.dc.instance.scrollContainer = this.scrollComponent.nativeElement;\n                });\n            } else {\n                this._zone.runOutsideAngular(() => {\n                    this.scrollComponent.nativeElement.addEventListener('scroll', this.func);\n                    this.dc.instance.scrollContainer = this.scrollComponent.nativeElement;\n                });\n            }\n            this._updateHScrollOffset();\n        }\n    }\n\n    ngAfterViewInit(): void {\n        if (this.igxForScrollOrientation === 'vertical') {\n            this._zone.runOutsideAngular(() => {\n                this.contentObserver = new ResizeObserver(() => this.contentResizeNotify.next());\n                this.contentObserver.observe(this.dc.instance._viewContainer.element.nativeElement);\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this.removeScrollEventListeners();\n        this.destroy$.next(true);\n        this.destroy$.complete();\n        if (this.contentObserver) {\n            this.contentObserver.disconnect();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnChanges(changes: SimpleChanges): void {\n        const forOf = 'igxForOf';\n        if (forOf in changes) {\n            const value = changes[forOf].currentValue;\n            if (!this._differ && value) {\n                try {\n                    this._differ = this._differs.find(value).create(this.igxForTrackBy);\n                } catch (e) {\n                    throw new Error(\n                        `Cannot find a differ supporting object \"${value}\" of type \"${getTypeNameForDebugging(value)}\".\n                     NgFor only supports binding to Iterables such as Arrays.`);\n                }\n            }\n        }\n        const defaultItemSize = 'igxForItemSize';\n        if (defaultItemSize in changes && !changes[defaultItemSize].firstChange &&\n            this.igxForScrollOrientation === 'vertical' && this.igxForOf) {\n            // handle default item size changed.\n            this.initSizesCache(this.igxForOf);\n            this._applyChanges();\n        }\n        const containerSize = 'igxForContainerSize';\n        if (containerSize in changes && !changes[containerSize].firstChange && this.igxForOf) {\n            this._recalcOnContainerChange(changes);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngDoCheck(): void {\n        if (this._differ) {\n            const changes = this._differ.diff(this.igxForOf);\n            if (changes) {\n                //  re-init cache.\n                if (!this.igxForOf) {\n                    this.igxForOf = [];\n                }\n                this._updateSizeCache();\n                this._zone.run(() => {\n                    this._applyChanges();\n                    this.cdr.markForCheck();\n                    this._updateScrollOffset();\n                    this.onDataChanged.emit();\n                });\n            }\n        }\n    }\n\n    /**\n     * Shifts the scroll thumb position.\n     * ```typescript\n     * this.parentVirtDir.addScrollTop(5);\n     * ```\n     * @param addTop negative value to scroll up and positive to scroll down;\n     */\n    public addScrollTop(addTop: number): boolean {\n        if (addTop === 0 && this.igxForScrollOrientation === 'horizontal') {\n            return false;\n        }\n        const originalVirtScrollTop = this._virtScrollTop;\n        const containerSize = parseInt(this.igxForContainerSize, 10);\n        const maxVirtScrollTop = this._virtHeight - containerSize;\n\n        this._bScrollInternal = true;\n        this._virtScrollTop += addTop;\n        this._virtScrollTop = this._virtScrollTop > 0 ?\n            (this._virtScrollTop < maxVirtScrollTop ? this._virtScrollTop : maxVirtScrollTop) :\n            0;\n\n        this.scrollPosition += addTop / this._virtHeightRatio;\n        if (Math.abs(addTop / this._virtHeightRatio) < 1) {\n            // Actual scroll delta that was added is smaller than 1 and onScroll handler doesn't trigger when scrolling < 1px\n            const scrollOffset = this.fixedUpdateAllElements(this._virtScrollTop);\n            // scrollOffset = scrollOffset !== parseInt(this.igxForItemSize, 10) ? scrollOffset : 0;\n            this.dc.instance._viewContainer.element.nativeElement.style.top = -(scrollOffset) + 'px';\n        }\n\n        const maxRealScrollTop = this.scrollComponent.nativeElement.scrollHeight - containerSize;\n        if ((this._virtScrollTop > 0 && this.scrollPosition === 0) ||\n            (this._virtScrollTop < maxVirtScrollTop && this.scrollPosition === maxRealScrollTop)) {\n            // Actual scroll position is at the top or bottom, but virtual one is not at the top or bottom (there's more to scroll)\n            // Recalculate actual scroll position based on the virtual scroll.\n            this.scrollPosition = this._virtScrollTop / this._virtHeightRatio;\n        } else if (this._virtScrollTop === 0 && this.scrollPosition > 0) {\n            // Actual scroll position is not at the top, but virtual scroll is. Just update the actual scroll\n            this.scrollPosition = 0;\n        } else if (this._virtScrollTop === maxVirtScrollTop && this.scrollPosition < maxRealScrollTop) {\n            // Actual scroll position is not at the bottom, but virtual scroll is. Just update the acual scroll\n            this.scrollPosition = maxRealScrollTop;\n        }\n        return this._virtScrollTop !== originalVirtScrollTop;\n    }\n\n    /**\n     * Scrolls to the specified index.\n     * ```typescript\n     * this.parentVirtDir.scrollTo(5);\n     * ```\n     * @param index\n     */\n    public scrollTo(index) {\n        if (index < 0 || index > (this.isRemote ? this.totalItemCount : this.igxForOf.length) - 1) {\n            return;\n        }\n        const containerSize = parseInt(this.igxForContainerSize, 10);\n        const isPrevItem = index < this.state.startIndex || this.scrollPosition > this.sizesCache[index];\n        let nextScroll = isPrevItem ? this.sizesCache[index] : this.sizesCache[index + 1] - containerSize;\n        if (nextScroll < 0) {\n            return;\n        }\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this.scrollPosition = nextScroll;\n        } else {\n            const maxVirtScrollTop = this._virtHeight - containerSize;\n            if (nextScroll > maxVirtScrollTop) {\n                nextScroll = maxVirtScrollTop;\n            }\n            this._bScrollInternal = true;\n            this._virtScrollTop = nextScroll;\n            this.scrollPosition = this._virtScrollTop / this._virtHeightRatio;\n            this._adjustToIndex = !isPrevItem ? index : null;\n        }\n    }\n\n    /**\n     * Scrolls by one item into the appropriate next direction.\n     * For \"horizontal\" orientation that will be the right column and for \"vertical\" that is the lower row.\n     * ```typescript\n     * this.parentVirtDir.scrollNext();\n     * ```\n     */\n    public scrollNext() {\n        const scr = Math.ceil(this.scrollPosition);\n        const endIndex = this.getIndexAt(\n            scr + parseInt(this.igxForContainerSize, 10),\n            this.sizesCache,\n            0\n        );\n        this.scrollTo(endIndex);\n    }\n\n    /**\n     * Scrolls by one item into the appropriate previous direction.\n     * For \"horizontal\" orientation that will be the left column and for \"vertical\" that is the upper row.\n     * ```typescript\n     * this.parentVirtDir.scrollPrev();\n     * ```\n     */\n    public scrollPrev() {\n        this.scrollTo(this.state.startIndex - 1);\n    }\n\n    /**\n     * Scrolls by one page into the appropriate next direction.\n     * For \"horizontal\" orientation that will be one view to the right and for \"vertical\" that is one view to the bottom.\n     * ```typescript\n     * this.parentVirtDir.scrollNextPage();\n     * ```\n     */\n    public scrollNextPage() {\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this.scrollPosition += parseInt(this.igxForContainerSize, 10);\n        } else {\n            this.addScrollTop(parseInt(this.igxForContainerSize, 10));\n        }\n    }\n\n    /**\n     * Scrolls by one page into the appropriate previous direction.\n     * For \"horizontal\" orientation that will be one view to the left and for \"vertical\" that is one view to the top.\n     * ```typescript\n     * this.parentVirtDir.scrollPrevPage();\n     * ```\n     */\n    public scrollPrevPage() {\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this.scrollPosition -= parseInt(this.igxForContainerSize, 10);\n        } else {\n            const containerSize = (parseInt(this.igxForContainerSize, 10));\n            this.addScrollTop(-containerSize);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public getColumnScrollLeft(colIndex) {\n        return this.sizesCache[colIndex];\n    }\n\n    /**\n     * Returns the total number of items that are fully visible.\n     * ```typescript\n     * this.parentVirtDir.getItemCountInView();\n     * ```\n     */\n    public getItemCountInView() {\n        let startIndex = this.getIndexAt(\n            this.scrollPosition,\n            this.sizesCache,\n            0\n        );\n        if (this.scrollPosition - this.sizesCache[startIndex] > 0) {\n            // fisrt item is not fully in view\n            startIndex++;\n        }\n        const endIndex = this.getIndexAt(\n            this.scrollPosition + parseInt(this.igxForContainerSize, 10),\n            this.sizesCache,\n            0\n        );\n        return endIndex - startIndex;\n    }\n\n    /**\n     * Returns a reference to the scrollbar DOM element.\n     * This is either a vertical or horizontal scrollbar depending on the specified igxForScrollOrientation.\n     * ```typescript\n     * dir.getScroll();\n     * ```\n     */\n    public getScroll() {\n        return this.scrollComponent.nativeElement;\n    }\n    /**\n     * Returns the size of the element at the specified index.\n     * ```typescript\n     * this.parentVirtDir.getSizeAt(1);\n     * ```\n     */\n    public getSizeAt(index: number) {\n        return this.sizesCache[index + 1] - this.sizesCache[index];\n    }\n\n    /**\n     * Returns the scroll offset of the element at the specified index.\n     * ```typescript\n     * this.parentVirtDir.getScrollForIndex(1);\n     * ```\n     */\n    public getScrollForIndex(index: number, bottom?: boolean) {\n        const containerSize = parseInt(this.igxForContainerSize, 10);\n        const scroll = bottom ? Math.max(0, this.sizesCache[index + 1] - containerSize) : this.sizesCache[index];\n        return scroll;\n    }\n\n    /**\n     * @hidden\n     * Function that is called when scrolling vertically\n     */\n    protected onScroll(event) {\n        /* in certain situations this may be called when no scrollbar is visible */\n        if (!parseInt(this.scrollComponent.nativeElement.style.height, 10)) {\n            return;\n        }\n\n        const containerSize = parseInt(this.igxForContainerSize, 10);\n        const maxRealScrollTop = event.target.children[0].scrollHeight - containerSize;\n        const realPercentScrolled = maxRealScrollTop !== 0 ?  event.target.scrollTop / maxRealScrollTop : 0;\n        if (!this._bScrollInternal) {\n            const maxVirtScrollTop = this._virtHeight - containerSize;\n            this._virtScrollTop = realPercentScrolled * maxVirtScrollTop;\n        } else {\n            this._bScrollInternal = false;\n        }\n        const prevStartIndex = this.state.startIndex;\n        const scrollOffset = this.fixedUpdateAllElements(this._virtScrollTop);\n\n        this.dc.instance._viewContainer.element.nativeElement.style.top = -(scrollOffset) + 'px';\n\n        this.dc.changeDetectorRef.detectChanges();\n        if (prevStartIndex !== this.state.startIndex) {\n            this.onChunkLoad.emit(this.state);\n        }\n    }\n\n    protected updateSizes() {\n        this.recalcUpdateSizes();\n        this._applyChanges();\n        this._updateScrollOffset();\n        this.onContentSizeChange.emit();\n    }\n\n    /**\n     * @hidden\n     * Function that recaculates and updates cache sizes.\n     */\n    public recalcUpdateSizes() {\n        const dimension = this.igxForScrollOrientation === 'horizontal' ?\n            this.igxForSizePropName : 'height';\n        const diffs = [];\n        let totalDiff = 0;\n        const l = this._embeddedViews.length;\n        const rNodes = this._embeddedViews.map(view =>\n            view.rootNodes.find(node => node.nodeType === Node.ELEMENT_NODE) || view.rootNodes[0].nextElementSibling);\n        for (let i = 0; i < l; i++) {\n            const rNode = rNodes[i];\n            if (rNode) {\n                const h = rNode.offsetHeight || parseInt(this.igxForItemSize, 10);\n                const index = this.state.startIndex + i;\n                if (!this.isRemote && !this.igxForOf[index]) {\n                    continue;\n                }\n                const oldVal = dimension === 'height' ? this.heightCache[index] : this.igxForOf[index][dimension];\n                const newVal = dimension === 'height' ? h : rNode.clientWidth;\n                if (dimension === 'height') {\n                    this.heightCache[index] = newVal;\n                } else {\n                    this.igxForOf[index][dimension] = newVal;\n                }\n                const currDiff = newVal - oldVal;\n                diffs.push(currDiff);\n                totalDiff += currDiff;\n                this.sizesCache[index + 1] += totalDiff;\n            }\n        }\n        // update cache\n        if (Math.abs(totalDiff) > 0) {\n            for (let j = this.state.startIndex + this.state.chunkSize + 1; j < this.sizesCache.length; j++) {\n                this.sizesCache[j] += totalDiff;\n            }\n\n            // update scrBar heights/widths\n            if (this.igxForScrollOrientation === 'horizontal') {\n                const totalWidth = parseInt(this.scrollComponent.nativeElement.children[0].style.width, 10) + totalDiff;\n                this.scrollComponent.nativeElement.children[0].style.width = totalWidth + 'px';\n            }\n            const reducer = (acc, val) => acc + val;\n            if (this.igxForScrollOrientation === 'vertical') {\n                const scrToBottom = this._isScrolledToBottom && !this.dc.instance.notVirtual;\n                const hSum = this.heightCache.reduce(reducer);\n                if (hSum > this._maxHeight) {\n                    this._virtHeightRatio = hSum / this._maxHeight;\n                }\n                this.scrollComponent.size = Math.min(this.scrollComponent.size + totalDiff, this._maxHeight);\n                this._virtHeight = hSum;\n                if (!this.scrollComponent.destroyed) {\n                    this.scrollComponent.cdr.detectChanges();\n                }\n                if (scrToBottom && !this._isAtBottomIndex) {\n                    const containerSize = parseInt(this.igxForContainerSize, 10);\n                    const maxVirtScrollTop = this._virtHeight - containerSize;\n                    this._bScrollInternal = true;\n                    this._virtScrollTop = maxVirtScrollTop;\n                    this.scrollPosition = maxVirtScrollTop;\n                    return;\n                }\n                if (this._adjustToIndex) {\n                    // in case scrolled to specific index where after scroll heights are changed\n                    // need to adjust the offsets so that item is last in view.\n                    const updatesToIndex = this._adjustToIndex - this.state.startIndex + 1;\n                    const sumDiffs = diffs.slice(0, updatesToIndex).reduce(reducer);\n                    const currOffset = parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top, 10);\n                    this.dc.instance._viewContainer.element.nativeElement.style.top = (currOffset - sumDiffs) + 'px';\n                    this._adjustToIndex = null;\n                }\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected fixedUpdateAllElements(inScrollTop: number): number {\n        const count = this.isRemote ? this.totalItemCount : this.igxForOf.length;\n        let newStart = this.getIndexAt(\n            inScrollTop,\n            this.sizesCache,\n            0\n        );\n        if (newStart + this.state.chunkSize > count) {\n            newStart = count - this.state.chunkSize;\n        }\n        const prevStart = this.state.startIndex;\n        const diff = newStart - this.state.startIndex;\n        this.state.startIndex = newStart;\n        if (diff) {\n            this.onChunkPreload.emit(this.state);\n            if (!this.isRemote) {\n                /*recalculate and apply page size.*/\n                if (diff > 0 && diff <= this.MAX_PERF_SCROLL_DIFF) {\n                    this.moveApplyScrollNext(prevStart);\n                } else if (diff < 0 && Math.abs(diff) <= this.MAX_PERF_SCROLL_DIFF) {\n                    this.moveApplyScrollPrev(prevStart);\n                } else {\n                    this.fixedApplyScroll();\n                }\n            }\n        }\n        return inScrollTop - this.sizesCache[this.state.startIndex];\n    }\n\n    /**\n     * @hidden\n     * The function applies an optimized state change for scrolling down/right employing context change with view rearrangement\n     */\n    protected moveApplyScrollNext(prevIndex: number): void {\n        const start = prevIndex + this.state.chunkSize;\n        for (let i = start; i < start + this.state.startIndex - prevIndex && this.igxForOf[i] !== undefined; i++) {\n            const input = this.igxForOf[i];\n            const embView = this._embeddedViews.shift();\n            const cntx = embView.context;\n            cntx.$implicit = input;\n            cntx.index = this.getContextIndex(input);\n            cntx.count = this.igxForOf.length;\n            const view: ViewRef = this.dc.instance._vcr.detach(0);\n            this.dc.instance._vcr.insert(view);\n            this._embeddedViews.push(embView);\n        }\n    }\n\n    /**\n     * @hidden\n     * The function applies an optimized state change for scrolling up/left employing context change with view rearrangement\n     */\n    protected moveApplyScrollPrev(prevIndex: number): void {\n        for (let i = prevIndex - 1; i >= this.state.startIndex && this.igxForOf[i] !== undefined; i--) {\n            const input = this.igxForOf[i];\n            const embView = this._embeddedViews.pop();\n            const cntx = embView.context;\n            cntx.$implicit = input;\n            cntx.index = this.getContextIndex(input);\n            const view: ViewRef = this.dc.instance._vcr.detach(this.dc.instance._vcr.length - 1);\n            this.dc.instance._vcr.insert(view, 0);\n            this._embeddedViews.unshift(embView);\n        }\n    }\n\n    /**\n     * @hidden\n    */\n    protected getContextIndex(input) {\n        return this.isRemote ? this.state.startIndex + this.igxForOf.indexOf(input) : this.igxForOf.indexOf(input);\n    }\n\n    /**\n     * @hidden\n     * The function applies an optimized state change through context change for each view\n     */\n    protected fixedApplyScroll(): void {\n        let j = 0;\n        const endIndex = this.state.startIndex + this.state.chunkSize;\n        for (let i = this.state.startIndex; i < endIndex && this.igxForOf[i] !== undefined; i++) {\n            const input = this.igxForOf[i];\n            const embView = this._embeddedViews[j++];\n            const cntx = (embView as EmbeddedViewRef<any>).context;\n            cntx.$implicit = input;\n            cntx.index = this.getContextIndex(input);\n            cntx.count = this.igxForOf.length;\n        }\n    }\n\n    /**\n     * @hidden\n     * Function that is called when scrolling horizontally\n     */\n    protected onHScroll(event) {\n        /* in certain situations this may be called when no scrollbar is visible */\n        if (!parseInt(this.scrollComponent.nativeElement.children[0].style.width, 10)) {\n            return;\n        }\n        const prevStartIndex = this.state.startIndex;\n        // Updating horizontal chunks\n        const scrollOffset = this.fixedUpdateAllElements(event.target.scrollLeft);\n        this.dc.instance._viewContainer.element.nativeElement.style.left = -scrollOffset + 'px';\n\n        this.dc.changeDetectorRef.detectChanges();\n        if (prevStartIndex !== this.state.startIndex) {\n            this.onChunkLoad.emit(this.state);\n        }\n    }\n\n    /**\n     * Gets the function used to track changes in the items collection.\n     * By default the object references are compared. However this can be optimized if you have unique identifier\n     * value that can be used for the comparison instead of the object ref or if you have some other property values\n     * in the item object that should be tracked for changes.\n     * This option is similar to ngForTrackBy.\n     * ```typescript\n     * const trackFunc = this.parentVirtDir.igxForTrackBy;\n     * ```\n     */\n    @Input()\n    get igxForTrackBy(): TrackByFunction<T> { return this._trackByFn; }\n\n    /**\n     * Sets the function used to track changes in the items collection.\n     * This function can be set in scenarios where you want to optimize or\n     * customize the tracking of changes for the items in the collection.\n     * The igxForTrackBy function takes the index and the current item as arguments and needs to return the unique identifier for this item.\n     * ```typescript\n     * this.parentVirtDir.igxForTrackBy = (index, item) => {\n     *      return item.id + item.width;\n     * };\n     * ```\n     */\n    set igxForTrackBy(fn: TrackByFunction<T>) { this._trackByFn = fn; }\n\n    /**\n     * @hidden\n     */\n    protected _applyChanges() {\n        const prevChunkSize = this.state.chunkSize;\n        this.applyChunkSizeChange();\n        this._recalcScrollBarSize();\n        if (this.igxForOf && this.igxForOf.length && this.dc) {\n            const embeddedViewCopy = Object.assign([], this._embeddedViews);\n            let startIndex = this.state.startIndex;\n            let endIndex = this.state.chunkSize + this.state.startIndex;\n            if (this.isRemote) {\n                startIndex = 0;\n                endIndex = this.igxForOf.length;\n            }\n            for (let i = startIndex; i < endIndex && this.igxForOf[i] !== undefined; i++) {\n                const input = this.igxForOf[i];\n                const embView = embeddedViewCopy.shift();\n                const cntx = (embView as EmbeddedViewRef<any>).context;\n                cntx.$implicit = input;\n                cntx.index = this.getContextIndex(input);\n                cntx.count = this.igxForOf.length;\n            }\n            if (prevChunkSize !== this.state.chunkSize) {\n                this.onChunkLoad.emit(this.state);\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected _calcMaxBrowserHeight(): number {\n        const div = document.createElement('div');\n        const style = div.style;\n        style.position = 'absolute';\n        style.top = '9999999999999999px';\n        document.body.appendChild(div);\n        const size = Math.abs(div.getBoundingClientRect()['top']);\n        document.body.removeChild(div);\n        return size;\n    }\n\n    /**\n     * @hidden\n     * Recalculates the chunkSize based on current startIndex and returns the new size.\n     * This should be called after this.state.startIndex is updated, not before.\n     */\n    protected _calculateChunkSize(): number {\n        let chunkSize = 0;\n        if (this.igxForContainerSize !== null && this.igxForContainerSize !== undefined) {\n            if (!this.sizesCache) {\n                this.initSizesCache(this.igxForOf);\n            }\n            chunkSize = this._calcMaxChunkSize();\n            if (this.igxForOf && chunkSize > this.igxForOf.length) {\n                chunkSize = this.igxForOf.length;\n            }\n        } else {\n            if (this.igxForOf) {\n                chunkSize = this.igxForOf.length;\n            }\n        }\n        return chunkSize;\n    }\n\n    /**\n     * @hidden\n     */\n    protected getElement(viewref, nodeName) {\n        const elem = viewref.element.nativeElement.parentNode.getElementsByTagName(nodeName);\n        return elem.length > 0 ? elem[0] : null;\n    }\n\n    /**\n     * @hidden\n     */\n    protected initSizesCache(items: any[]): number {\n        let totalSize = 0;\n        let size = 0;\n        const dimension = this.igxForScrollOrientation === 'horizontal' ?\n            this.igxForSizePropName : 'height';\n        let i = 0;\n        this.sizesCache = [];\n        this.heightCache = [];\n        this.sizesCache.push(0);\n        const count = this.isRemote ? this.totalItemCount : items.length;\n        for (i; i < count; i++) {\n            if (dimension === 'height') {\n                // cols[i][dimension] = parseInt(this.igxForItemSize, 10) || 0;\n                size = parseInt(this.igxForItemSize, 10) || 0;\n                this.heightCache.push(size);\n            } else {\n                size = this._getItemSize(items[i], dimension);\n            }\n            totalSize += size;\n            this.sizesCache.push(totalSize);\n        }\n        return totalSize;\n    }\n\n    protected _updateSizeCache() {\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this.initSizesCache(this.igxForOf);\n            return;\n        }\n        const oldHeight = this.heightCache.length > 0 ? this.heightCache.reduce((acc, val) => acc + val) : 0;\n        const newHeight = this.initSizesCache(this.igxForOf);\n\n        const diff = oldHeight - newHeight;\n\n        // if data has been changed while container is scrolled\n        // should update scroll top/left according to change so that same startIndex is in view\n        if (Math.abs(diff) > 0 && this.scrollPosition > 0) {\n            this.recalcUpdateSizes();\n            const offset = parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top, 10);\n            this.scrollPosition = this.sizesCache[this.state.startIndex] - offset;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected _calcMaxChunkSize(): number {\n        let i = 0;\n        let length = 0;\n        let maxLength = 0;\n        const arr = [];\n        let sum = 0;\n        const availableSize = parseInt(this.igxForContainerSize, 10);\n        if (!availableSize) {\n            return 0;\n        }\n        const dimension = this.igxForScrollOrientation === 'horizontal' ?\n            this.igxForSizePropName : 'height';\n        const reducer = (accumulator, currentItem) => accumulator + this._getItemSize(currentItem, dimension);\n        for (i; i < this.igxForOf.length; i++) {\n            let item = this.igxForOf[i];\n            if (dimension === 'height') {\n                item = { value: this.igxForOf[i], height: this.heightCache[i] };\n            }\n            const size = dimension === 'height' ?\n                this.heightCache[i] :\n                this._getItemSize(item, dimension);\n            sum = arr.reduce(reducer, size);\n            if (sum < availableSize) {\n                arr.push(item);\n                length = arr.length;\n                if (i === this.igxForOf.length - 1) {\n                    // reached end without exceeding\n                    // include prev items until size is filled or first item is reached.\n                    let curItem = dimension === 'height' ? arr[0].value : arr[0];\n                    let prevIndex = this.igxForOf.indexOf(curItem) - 1;\n                    while (prevIndex >= 0 && sum <= availableSize) {\n                        curItem = dimension === 'height' ? arr[0].value : arr[0];\n                        prevIndex = this.igxForOf.indexOf(curItem) - 1;\n                        const prevItem = this.igxForOf[prevIndex];\n                        const prevSize = dimension === 'height' ?\n                            this.heightCache[prevIndex] :\n                            parseInt(prevItem[dimension], 10);\n                        sum = arr.reduce(reducer, prevSize);\n                        arr.unshift(prevItem);\n                        length = arr.length;\n                    }\n                }\n            } else {\n                arr.push(item);\n                length = arr.length + 1;\n                arr.shift();\n            }\n            if (length > maxLength) {\n                maxLength = length;\n            }\n        }\n        return maxLength;\n    }\n\n    /**\n     * @hidden\n     */\n    protected getIndexAt(left, set, index) {\n        let start = 0;\n        let end = set.length - 1;\n        if (left === 0) {\n            return 0;\n        }\n        while (start <= end) {\n            const midIdx = Math.floor((start + end) / 2);\n            const midLeft = set[midIdx];\n            const cmp = left - midLeft;\n            if (cmp > 0) {\n                start = midIdx + 1;\n            } else if (cmp < 0) {\n                end = midIdx - 1;\n            } else {\n                return midIdx;\n            }\n        }\n        return end;\n    }\n\n    protected _recalcScrollBarSize() {\n        const count = this.isRemote ? this.totalItemCount : (this.igxForOf ? this.igxForOf.length : 0);\n        this.dc.instance.notVirtual = !(this.igxForContainerSize && this.dc && this.state.chunkSize < count);\n        const scrollable = this.isScrollable();\n        if (this.igxForScrollOrientation === 'horizontal') {\n            const totalWidth = this.igxForContainerSize ? this.initSizesCache(this.igxForOf) : 0;\n            this.scrollComponent.nativeElement.style.width = this.igxForContainerSize + 'px';\n            this.scrollComponent.size = totalWidth;\n            if (totalWidth <= parseInt(this.igxForContainerSize, 10)) {\n                this.scrollPosition = 0;\n                // Need to reset the scrollAmount value here, because horizontalScrollBar is hidden, therefore\n                // onScroll event handler for VirtualHelperBaseDirective will not be called\n                this.scrollComponent.scrollAmount = 0;\n            }\n        }\n        if (this.igxForScrollOrientation === 'vertical') {\n            this.scrollComponent.nativeElement.style.height = parseInt(this.igxForContainerSize, 10) + 'px';\n            this.scrollComponent.size = this._calcHeight();\n            if ( this.scrollComponent.size <= parseInt(this.igxForContainerSize, 10)) {\n                this.scrollPosition = 0;\n                // Need to reset the scrollAmount value here, because verticalScrollBar is hidden, therefore\n                // onScroll event handler for VirtualHelperBaseDirective will not be called\n                this.scrollComponent.scrollAmount = 0;\n            }\n        }\n        if (scrollable !== this.isScrollable()) {\n            // scrollbar visibility has changed\n            this.onScrollbarVisibilityChanged.emit();\n        }\n    }\n\n    protected _calcHeight(): number {\n        let height;\n        if (this.heightCache) {\n            height = this.heightCache.reduce((acc, val) => acc + val, 0);\n        } else {\n            height = this.initSizesCache(this.igxForOf);\n        }\n        this._virtHeight = height;\n        if (height > this._maxHeight) {\n            this._virtHeightRatio = height / this._maxHeight;\n            height = this._maxHeight;\n        }\n        return height;\n    }\n\n    protected _recalcOnContainerChange(changes: SimpleChanges) {\n        this.dc.instance._viewContainer.element.nativeElement.style.top = '0px';\n        this.dc.instance._viewContainer.element.nativeElement.style.left = '0px';\n        const prevChunkSize = this.state.chunkSize;\n        this.applyChunkSizeChange();\n        this._recalcScrollBarSize();\n        if (prevChunkSize !== this.state.chunkSize) {\n            this.onChunkLoad.emit(this.state);\n        }\n        if (this.sizesCache && this.igxForScrollOrientation === 'horizontal') {\n            // Updating horizontal chunks and offsets based on the new scrollLeft\n            const scrollOffset = this.fixedUpdateAllElements(this.scrollPosition);\n            this.dc.instance._viewContainer.element.nativeElement.style.left = -scrollOffset + 'px';\n        }\n    }\n\n    /**\n     * @hidden\n     * Removes an elemenet from the embedded views and updates chunkSize.\n     */\n    protected removeLastElem() {\n        const oldElem = this._embeddedViews.pop();\n        this.onBeforeViewDestroyed.emit(oldElem);\n        // also detach from ViewContainerRef to make absolutely sure this is removed from the view container.\n        this.dc.instance._vcr.detach(this.dc.instance._vcr.length - 1);\n        oldElem.destroy();\n\n        this.state.chunkSize--;\n    }\n\n    /**\n     * @hidden\n     * If there exists an element that we can create embedded view for creates it, appends it and updates chunkSize\n     */\n    protected addLastElem() {\n        let elemIndex = this.state.startIndex + this.state.chunkSize;\n        if (!this.isRemote && !this.igxForOf) {\n            return;\n        }\n\n        if (elemIndex >= this.igxForOf.length) {\n            elemIndex = this.igxForOf.length - this.state.chunkSize;\n        }\n        const input = this.igxForOf[elemIndex];\n        const embeddedView = this.dc.instance._vcr.createEmbeddedView(\n            this._template,\n            new IgxForOfContext<T>(input, this.getContextIndex(input), this.igxForOf.length)\n        );\n\n        this._embeddedViews.push(embeddedView);\n        this.state.chunkSize++;\n\n        this._zone.run(() => {\n            this.cdr.markForCheck();\n        });\n    }\n\n    /**\n     * Recalculates chunkSize and adds/removes elements if need due to the change.\n     * this.state.chunkSize is updated in @addLastElem() or @removeLastElem()\n     */\n    protected applyChunkSizeChange() {\n        const chunkSize = this.isRemote ? (this.igxForOf ? this.igxForOf.length : 0) : this._calculateChunkSize();\n        if (chunkSize > this.state.chunkSize) {\n            const diff = chunkSize - this.state.chunkSize;\n            for (let i = 0; i < diff; i++) {\n                this.addLastElem();\n            }\n        } else if (chunkSize < this.state.chunkSize) {\n            const diff = this.state.chunkSize - chunkSize;\n            for (let i = 0; i < diff; i++) {\n                this.removeLastElem();\n            }\n        }\n    }\n\n    protected _updateScrollOffset() {\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this._updateHScrollOffset();\n        } else {\n            this._updateVScrollOffset();\n        }\n    }\n    private _updateVScrollOffset() {\n        let scrollOffset = 0;\n        const vScroll =  this.scrollComponent.nativeElement;\n        scrollOffset = vScroll && this.scrollComponent.size ?\n            this.scrollPosition - this.sizesCache[this.state.startIndex] : 0;\n        this.dc.instance._viewContainer.element.nativeElement.style.top = -(scrollOffset) + 'px';\n    }\n    private _updateHScrollOffset() {\n        let scrollOffset = 0;\n        scrollOffset =  this.scrollComponent.nativeElement &&\n            this.scrollComponent.size ?\n            this.scrollPosition - this.sizesCache[this.state.startIndex] : 0;\n        this.dc.instance._viewContainer.element.nativeElement.style.left = -scrollOffset + 'px';\n    }\n\n    private _getItemSize(item, dimension: string): number {\n        const dim = item[dimension];\n        return typeof dim === 'number' ? dim : parseInt(this.igxForItemSize, 10) || 0;\n    }\n}\n\nexport function getTypeNameForDebugging(type: any): string {\n    const name = 'name';\n    return type[name] || typeof type;\n}\n\nexport interface IForOfState extends IBaseEventArgs {\n    startIndex?: number;\n    chunkSize?: number;\n}\n\nexport interface IForOfDataChangingEventArgs extends IBaseEventArgs {\n    containerSize: number;\n}\n\n@Directive({\n    selector: '[igxGridFor][igxGridForOf]'\n})\nexport class IgxGridForOfDirective<T> extends IgxForOfDirective<T> implements OnInit, OnChanges, DoCheck {\n\n    constructor(\n        _viewContainer: ViewContainerRef,\n        _template: TemplateRef<NgForOfContext<T>>,\n        _differs: IterableDiffers,\n        resolver: ComponentFactoryResolver,\n        cdr: ChangeDetectorRef,\n        _zone: NgZone,\n        protected syncScrollService: IgxForOfScrollSyncService,\n        protected syncService: IgxForOfSyncService) {\n        super(_viewContainer, _template, _differs, resolver, cdr, _zone, syncScrollService);\n    }\n\n    @Input()\n    set igxGridForOf(value) {\n        this.igxForOf = value;\n    }\n\n    get igxGridForOf() {\n        return this.igxForOf;\n    }\n\n    /**\n     * @hidden @internal\n     * An event that is emitted after data has been changed but before the view is refreshed\n     */\n    @Output()\n    public onDataChanging = new EventEmitter<IForOfDataChangingEventArgs>();\n\n    ngOnInit() {\n        this.syncService.setMaster(this);\n        super.ngOnInit();\n        this.removeScrollEventListeners();\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const forOf = 'igxGridForOf';\n        this.syncService.setMaster(this);\n        if (forOf in changes) {\n            const value = changes[forOf].currentValue;\n            if (!this._differ && value) {\n                try {\n                    this._differ = this._differs.find(value).create(this.igxForTrackBy);\n                } catch (e) {\n                    throw new Error(\n                        `Cannot find a differ supporting object \"${value}\" of type \"${getTypeNameForDebugging(value)}\".\n                     NgFor only supports binding to Iterables such as Arrays.`);\n                }\n            }\n        }\n        const defaultItemSize = 'igxForItemSize';\n        if (defaultItemSize in changes && !changes[defaultItemSize].firstChange &&\n             this.igxForScrollOrientation === 'vertical' && this.igxForOf) {\n            // handle default item size changed.\n            this.initSizesCache(this.igxForOf);\n        }\n        const containerSize = 'igxForContainerSize';\n        if (containerSize in changes && !changes[containerSize].firstChange && this.igxForOf) {\n            this._recalcOnContainerChange(changes);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get sizesCache(): number[] {\n        if (this.syncService.isMaster(this)) {\n            return this._sizesCache;\n        }\n        return this.syncService.sizesCache(this.igxForScrollOrientation);\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public set sizesCache(value: number[]) {\n        this._sizesCache = value;\n    }\n\n    protected get itemsDimension() {\n        return this.igxForScrollOrientation === 'horizontal' ? this.igxForSizePropName : 'height';\n    }\n\n    protected getItemSize(item) {\n        let size = 0;\n        const dimension = this.igxForScrollOrientation === 'horizontal' ?\n            this.igxForSizePropName : 'height';\n        if (dimension === 'height') {\n            size = parseInt(this.igxForItemSize, 10) || 0;\n            if (item && item.summaries) {\n                size = item.max;\n            } else if (item && item.groups && item.height) {\n                size = item.height;\n            }\n        } else {\n            size = parseInt(item[dimension], 10) || 0;\n        }\n        return size;\n    }\n\n    protected initSizesCache(items: any[]): number {\n        if (!this.syncService.isMaster(this)) {\n            const masterSizesCache = this.syncService.sizesCache(this.igxForScrollOrientation);\n            return masterSizesCache[masterSizesCache.length - 1];\n        }\n        let totalSize = 0;\n        let size = 0;\n        let i = 0;\n        this.sizesCache = [];\n        this.heightCache = [];\n        this.sizesCache.push(0);\n        const count = this.isRemote ? this.totalItemCount : items.length;\n        for (i; i < count; i++) {\n            size = this.getItemSize(items[i]);\n            if (this.itemsDimension === 'height') {\n                this.heightCache.push(size);\n            }\n            totalSize += size;\n            this.sizesCache.push(totalSize);\n        }\n        return totalSize;\n    }\n\n    protected _updateSizeCache(changes: IterableChanges<T> = null) {\n        if (this.igxForScrollOrientation === 'horizontal') {\n            this.initSizesCache(this.igxForOf);\n            return;\n        }\n\n        const oldHeight = this.heightCache.length > 0 ? this.heightCache.reduce((acc, val) => acc + val) : 0;\n        let newHeight = oldHeight;\n        if (changes && !this.isRemote) {\n            newHeight = this.handleCacheChanges(changes);\n        } else {\n            newHeight = this.initSizesCache(this.igxForOf);\n        }\n\n        const diff = oldHeight - newHeight;\n\n        // if data has been changed while container is scrolled\n        // should update scroll top/left according to change so that same startIndex is in view\n        if (Math.abs(diff) > 0) {\n            // TODO: This code can be removed. However tests need to be rewritten in a way that they wait for ResizeObserved to complete.\n            // So leaving as is for the moment.\n            requestAnimationFrame(() => {\n                this.recalcUpdateSizes();\n                const offset = parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top, 10);\n                if (this.scrollPosition !== 0) {\n                    this.scrollPosition = this.sizesCache[this.state.startIndex] - offset;\n                } else {\n                    this._updateScrollOffset();\n                }\n            });\n        }\n    }\n\n    protected handleCacheChanges(changes: IterableChanges<T>) {\n        const identityChanges = [];\n        const newHeightCache = [];\n        const newSizesCache = [];\n        newSizesCache.push(0);\n        let newHeight = 0;\n\n        // When there are more than one removed items the changes are not reliable so those with identity change should be default size.\n        let numRemovedItems = 0;\n        changes.forEachRemovedItem(() => numRemovedItems++);\n\n        // Get the identity changes to determine later if those that have changed their indexes should be assigned default item size.\n        changes.forEachIdentityChange((item) => {\n            if (item.currentIndex !== item.previousIndex) {\n                // Filter out ones that have not changed their index.\n                identityChanges[item.currentIndex] = item;\n            }\n        });\n\n        // Processing each item that is passed to the igxForOf so far seem to be most reliable. We parse the updated list of items.\n        changes.forEachItem((item) => {\n            if (item.previousIndex !== null &&\n                (numRemovedItems < 2 || !identityChanges.length || identityChanges[item.currentIndex])) {\n                // Reuse cache on those who have previousIndex.\n                // When there are more than one removed items currently the changes are not readable so ones with identity change\n                // should be racalculated.\n                newHeightCache[item.currentIndex] = this.heightCache[item.previousIndex];\n            } else {\n                // Assign default item size.\n                newHeightCache[item.currentIndex] = this.getItemSize(item.item);\n            }\n            newSizesCache[item.currentIndex + 1] = newSizesCache[item.currentIndex] + newHeightCache[item.currentIndex];\n            newHeight += newHeightCache[item.currentIndex];\n        });\n        this.heightCache = newHeightCache;\n        this.sizesCache = newSizesCache;\n        return newHeight;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public assumeMaster(): void {\n        this._sizesCache = this.syncService.sizesCache(this.igxForScrollOrientation);\n        this.syncService.setMaster(this, true);\n    }\n\n    ngDoCheck() {\n        if (this._differ) {\n            const changes = this._differ.diff(this.igxForOf);\n            if (changes) {\n                const args: IForOfDataChangingEventArgs = {\n                    containerSize: this.igxForContainerSize\n                };\n                this.onDataChanging.emit(args);\n                //  re-init cache.\n                if (!this.igxForOf) {\n                    this.igxForOf = [];\n                }\n                /* we need to reset the master dir if all rows are removed\n                (e.g. because of filtering); if all columns are hidden, rows are\n                still rendered empty, so we should not reset master */\n                if (!this.igxForOf.length &&\n                    this.igxForScrollOrientation === 'vertical') {\n                    this.syncService.resetMaster();\n                }\n                this.syncService.setMaster(this);\n                this.igxForContainerSize = args.containerSize;\n                this._updateSizeCache(changes);\n                this._applyChanges();\n                this._updateScrollOffset();\n                this.onDataChanged.emit();\n            }\n        }\n    }\n\n    onScroll(event) {\n        if (!parseInt(this.scrollComponent.nativeElement.style.height, 10)) {\n            return;\n        }\n\n        const containerSize = parseInt(this.igxForContainerSize, 10);\n        const maxRealScrollTop = event.target.children[0].scrollHeight - containerSize;\n        const realPercentScrolled = maxRealScrollTop !== 0 ?  event.target.scrollTop / maxRealScrollTop : 0;\n        if (!this._bScrollInternal) {\n            const maxVirtScrollTop = this._virtHeight - containerSize;\n            this._virtScrollTop = realPercentScrolled * maxVirtScrollTop;\n        } else {\n            this._bScrollInternal = false;\n        }\n        const scrollOffset = this.fixedUpdateAllElements(this._virtScrollTop);\n\n        this.dc.instance._viewContainer.element.nativeElement.style.top = -(scrollOffset) + 'px';\n\n        this._zone.onStable.pipe(first()).subscribe( () => {\n            this.recalcUpdateSizes();\n        });\n        this.cdr.markForCheck();\n    }\n\n    onHScroll(scrollAmount) {\n        /* in certain situations this may be called when no scrollbar is visible */\n        if (!this.scrollComponent || !parseInt(this.scrollComponent.nativeElement.children[0].style.width, 10)) {\n            return;\n        }\n        // Updating horizontal chunks\n        const scrollOffset = this.fixedUpdateAllElements(scrollAmount);\n        this.dc.instance._viewContainer.element.nativeElement.style.left = -scrollOffset + 'px';\n    }\n\n    protected addLastElem() {\n        let elemIndex = this.state.startIndex + this.state.chunkSize;\n        if (!this.isRemote && !this.igxForOf) {\n            return;\n        }\n\n        if (elemIndex >= this.igxForOf.length) {\n            elemIndex = this.igxForOf.length - this.state.chunkSize;\n        }\n        const input = this.igxForOf[elemIndex];\n        const embeddedView = this.dc.instance._vcr.createEmbeddedView(\n            this._template,\n            new IgxForOfContext<T>(input, this.getContextIndex(input), this.igxForOf.length)\n        );\n\n        this._embeddedViews.push(embeddedView);\n        this.state.chunkSize++;\n    }\n\n    protected _updateViews(prevChunkSize) {\n        if (this.igxForOf && this.igxForOf.length && this.dc) {\n            const embeddedViewCopy = Object.assign([], this._embeddedViews);\n            let startIndex;\n            let endIndex;\n            if (this.isRemote) {\n                startIndex = 0;\n                endIndex = this.igxForOf.length;\n            } else {\n                startIndex = this.getIndexAt(\n                    this.scrollPosition,\n                    this.sizesCache,\n                    0\n                );\n                if (startIndex + this.state.chunkSize > this.igxForOf.length) {\n                    startIndex = this.igxForOf.length - this.state.chunkSize;\n                }\n                this.state.startIndex = startIndex;\n                endIndex = this.state.chunkSize + this.state.startIndex;\n            }\n\n            for (let i = startIndex; i < endIndex && this.igxForOf[i] !== undefined; i++) {\n                const input = this.igxForOf[i];\n                const embView = embeddedViewCopy.shift();\n                const cntx = (embView as EmbeddedViewRef<any>).context;\n                cntx.$implicit = input;\n                cntx.index = this.getContextIndex(input);\n                cntx.count = this.igxForOf.length;\n            }\n            if (prevChunkSize !== this.state.chunkSize) {\n                this.onChunkLoad.emit(this.state);\n            }\n        }\n    }\n    protected _applyChanges() {\n        const prevChunkSize = this.state.chunkSize;\n        this.applyChunkSizeChange();\n        this._recalcScrollBarSize();\n        this._updateViews(prevChunkSize);\n    }\n\n    /**\n     * @hidden\n     */\n    protected _calcMaxChunkSize(): number {\n        if (this.syncService.isMaster(this)) {\n            return super._calcMaxChunkSize();\n        }\n        return this.syncService.chunkSize(this.igxForScrollOrientation);\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxForOfDirective, IgxGridForOfDirective, DisplayContainerComponent, VirtualHelperComponent,\n         HVirtualHelperComponent, VirtualHelperBaseDirective],\n    entryComponents: [DisplayContainerComponent, VirtualHelperComponent, HVirtualHelperComponent],\n    exports: [IgxForOfDirective, IgxGridForOfDirective],\n    imports: [IgxScrollInertiaModule, CommonModule]\n})\n\nexport class IgxForOfModule {\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    ContentChildren,\n    ElementRef,\n    forwardRef,\n    QueryList,\n    OnChanges,\n    Input,\n    OnDestroy,\n    ViewChild,\n    ContentChild,\n    AfterViewInit,\n    Output,\n    EventEmitter,\n    Optional,\n    Inject,\n    SimpleChanges\n} from '@angular/core';\nimport { IgxToggleDirective } from '../directives/toggle/toggle.directive';\nimport { IgxDropDownItemComponent } from './drop-down-item.component';\nimport { IgxDropDownBaseDirective } from './drop-down.base';\nimport { DropDownActionKey, Navigate } from './drop-down.common';\nimport { IGX_DROPDOWN_BASE, IDropDownBase } from './drop-down.common';\nimport { ISelectionEventArgs } from './drop-down.common';\nimport { CancelableEventArgs, CancelableBrowserEventArgs, isIE, IBaseEventArgs } from '../core/utils';\nimport { IgxSelectionAPIService } from '../core/selection';\nimport { Subject } from 'rxjs';\nimport { IgxDropDownItemBaseDirective } from './drop-down-item.base';\nimport { OverlaySettings } from '../services';\nimport { IgxForOfDirective } from '../directives/for-of/for_of.directive';\nimport { take } from 'rxjs/operators';\nimport { DisplayDensityToken, IDisplayDensityOptions } from '../core/density';\n\n/**\n * **Ignite UI for Angular DropDown** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/drop_down.html)\n *\n * The Ignite UI for Angular Drop Down displays a scrollable list of items which may be visually grouped and\n * supports selection of a single item. Clicking or tapping an item selects it and closes the Drop Down\n *\n * Example:\n * ```html\n * <igx-drop-down>\n *   <igx-drop-down-item *ngFor=\"let item of items\" disabled={{item.disabled}} isHeader={{item.header}}>\n *     {{ item.value }}\n *   </igx-drop-down-item>\n * </igx-drop-down>\n * ```\n */\n@Component({\n    selector: 'igx-drop-down',\n    templateUrl: './drop-down.component.html',\n    providers: [{ provide: IGX_DROPDOWN_BASE, useExisting: IgxDropDownComponent }]\n})\nexport class IgxDropDownComponent extends IgxDropDownBaseDirective implements IDropDownBase, OnChanges, AfterViewInit, OnDestroy {\n    protected destroy$ = new Subject<boolean>();\n    protected _scrollPosition: number;\n\n    @ContentChild(IgxForOfDirective, { read: IgxForOfDirective })\n    protected virtDir: IgxForOfDirective<any>;\n\n    @ViewChild(IgxToggleDirective, { static: true })\n    protected toggleDirective: IgxToggleDirective;\n\n    @ViewChild('scrollContainer', { static: true })\n    protected scrollContainerRef: ElementRef;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(forwardRef(() => IgxDropDownItemComponent), { descendants: true })\n    public children: QueryList<IgxDropDownItemBaseDirective>;\n\n    /**\n     * Emitted before the dropdown is opened\n     *\n     * ```html\n     * <igx-drop-down (onOpening)='handleOpening()'></igx-drop-down>\n     * ```\n     */\n    @Output()\n    public onOpening = new EventEmitter<CancelableEventArgs & IBaseEventArgs>();\n\n    /**\n     * Emitted after the dropdown is opened\n     *\n     * ```html\n     * <igx-drop-down (onOpened)='handleOpened()'></igx-drop-down>\n     * ```\n     */\n    @Output()\n    public onOpened = new EventEmitter<void>();\n\n    /**\n     * Emitted before the dropdown is closed\n     *\n     * ```html\n     * <igx-drop-down (onClosing)='handleClosing()'></igx-drop-down>\n     * ```\n     */\n    @Output()\n    public onClosing = new EventEmitter<CancelableBrowserEventArgs & IBaseEventArgs>();\n\n    /**\n     * Emitted after the dropdown is closed\n     *\n     * ```html\n     * <igx-drop-down (onClosed)='handleClosed()'></igx-drop-down>\n     * ```\n     */\n    @Output()\n    public onClosed = new EventEmitter<void>();\n\n    /**\n     * Gets/sets whether items take focus. Disabled by default.\n     * When enabled, drop down items gain tab index and are focused when active -\n     * this includes activating the selected item when opening the drop down and moving with keyboard navigation.\n     *\n     * Note: Keep that focus shift in mind when using the igxDropDownItemNavigation directive\n     * and ensure it's placed either on each focusable item or a common ancestor to allow it to handle keyboard events.\n     *\n     * ```typescript\n     * // get\n     * let dropDownAllowsItemFocus = this.dropdown.allowItemsFocus;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-drop-down [allowItemsFocus]='true'></igx-drop-down>\n     * ```\n     */\n    @Input()\n    public allowItemsFocus = false;\n\n    /**\n     * @hidden @internal\n     */\n    public get focusedItem(): IgxDropDownItemBaseDirective {\n        if (this.virtDir) {\n            return this._focusedItem && this._focusedItem.index !== -1 ?\n                (this.children.find(e => e.index === this._focusedItem.index) || null) :\n                null;\n        }\n        return this._focusedItem;\n    }\n\n    public set focusedItem(value: IgxDropDownItemBaseDirective) {\n        if (!value) {\n            this.selection.clear(`${this.id}-active`);\n            this._focusedItem = null;\n            return;\n        }\n        this._focusedItem = value;\n        if (this.virtDir) {\n            this._focusedItem = {\n                value: value.value,\n                index: value.index\n            } as IgxDropDownItemBaseDirective;\n        }\n        this.selection.set(`${this.id}-active`, new Set([this._focusedItem]));\n    }\n\n    @Input()\n    get id(): string {\n        return this._id;\n    }\n    set id(value: string) {\n        this.selection.set(value, this.selection.get(this.id));\n        this.selection.clear(this.id);\n        this.selection.set(value, this.selection.get(`${this.id}-active`));\n        this.selection.clear(`${this.id}-active`);\n        this._id = value;\n    }\n\n    /** Id of the internal listbox of the drop down */\n    public get listId() {\n        return this.id + '-list';\n    }\n\n    /**\n     * Get currently selected item\n     *\n     * ```typescript\n     * let currentItem = this.dropdown.selectedItem;\n     * ```\n     */\n    public get selectedItem(): IgxDropDownItemBaseDirective {\n        const selectedItem = this.selection.first_item(this.id);\n        if (selectedItem) {\n            return selectedItem;\n        }\n        return null;\n    }\n\n    /**\n     * Gets if the dropdown is collapsed\n     *\n     * ```typescript\n     * let isCollapsed = this.dropdown.collapsed;\n     * ```\n     */\n    public get collapsed(): boolean {\n        return this.toggleDirective.collapsed;\n    }\n\n    /** @hidden @internal */\n    public get scrollContainer(): HTMLElement {\n        return this.scrollContainerRef.nativeElement;\n    }\n\n    protected get collectionLength() {\n        if (this.virtDir) {\n            return this.virtDir.totalItemCount || this.virtDir.igxForOf.length;\n        }\n    }\n\n    constructor(\n        protected elementRef: ElementRef,\n        protected cdr: ChangeDetectorRef,\n        protected selection: IgxSelectionAPIService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(elementRef, cdr, _displayDensityOptions);\n    }\n\n    /**\n     * Opens the dropdown\n     *\n     * ```typescript\n     * this.dropdown.open();\n     * ```\n     */\n    public open(overlaySettings?: OverlaySettings) {\n        this.toggleDirective.open(overlaySettings);\n        this.updateScrollPosition();\n    }\n\n    /**\n     * Closes the dropdown\n     *\n     * ```typescript\n     * this.dropdown.close();\n     * ```\n     */\n    public close() {\n        this.toggleDirective.close();\n    }\n\n    /**\n     * Toggles the dropdown\n     *\n     * ```typescript\n     * this.dropdown.toggle();\n     * ```\n     */\n    public toggle(overlaySettings?: OverlaySettings) {\n        if (this.collapsed || this.toggleDirective.isClosing) {\n            this.open(overlaySettings);\n        } else {\n            this.close();\n        }\n    }\n\n    /**\n     * Select an item by index\n     * @param index of the item to select; If the drop down uses *igxFor, pass the index in data\n     */\n    public setSelectedItem(index: number) {\n        if (index < 0 || index >= this.items.length) {\n            return;\n        }\n        let newSelection: IgxDropDownItemBaseDirective;\n        if (this.virtDir) {\n            newSelection = {\n                value: this.virtDir.igxForOf[index],\n                index\n            } as IgxDropDownItemBaseDirective;\n        } else {\n            newSelection = this.items[index];\n        }\n        this.selectItem(newSelection);\n    }\n\n    /**\n     * Navigates to the item on the specified index\n     * If the data in the drop-down is virtualized, pass the index of the item in the virtualized data.\n     * @param newIndex number\n     */\n    public navigateItem(index: number) {\n        if (this.virtDir) {\n            if (index === -1 || index >= this.collectionLength) {\n                return;\n            }\n            const direction = index > (this.focusedItem ? this.focusedItem.index : -1) ? Navigate.Down : Navigate.Up;\n            const subRequired = this.isIndexOutOfBounds(index, direction);\n            this.focusedItem = {\n                value: this.virtDir.igxForOf[index],\n                index: index\n            } as IgxDropDownItemBaseDirective;\n            if (subRequired) {\n                this.virtDir.scrollTo(index);\n            }\n            if (subRequired) {\n                this.virtDir.onChunkLoad.pipe(take(1)).subscribe(() => {\n                    this.skipHeader(direction);\n                });\n            } else {\n                this.skipHeader(direction);\n            }\n        } else {\n            super.navigateItem(index);\n        }\n        if (this.allowItemsFocus && this.focusedItem) {\n            this.focusedItem.element.nativeElement.focus();\n            this.cdr.markForCheck();\n        }\n    }\n\n    private isIndexOutOfBounds(index: number, direction: Navigate) {\n        const virtState = this.virtDir.state;\n        const currentPosition = this.virtDir.getScroll().scrollTop;\n        const itemPosition = this.virtDir.getScrollForIndex(index, direction === Navigate.Down);\n        const indexOutOfChunk = index < virtState.startIndex || index > virtState.chunkSize + virtState.startIndex;\n        const scrollNeeded = direction === Navigate.Down ? currentPosition < itemPosition : currentPosition > itemPosition;\n        const subRequired = indexOutOfChunk || scrollNeeded;\n        return subRequired;\n    }\n\n    protected skipHeader(direction: Navigate) {\n        if (!this.focusedItem) {\n            return;\n        }\n        if (this.focusedItem.isHeader || this.focusedItem.disabled) {\n            if (direction === Navigate.Up) {\n                this.navigatePrev();\n            } else {\n                this.navigateNext();\n            }\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    updateScrollPosition() {\n        if (!this.virtDir) {\n            return;\n        }\n        if (!this.selectedItem) {\n            this.virtDir.scrollTo(0);\n            return;\n        }\n        let targetScroll = this.virtDir.getScrollForIndex(this.selectedItem.index);\n        const itemsInView = this.virtDir.igxForContainerSize / this.virtDir.igxForItemSize;\n        targetScroll -= (itemsInView / 2 - 1) * this.virtDir.igxForItemSize;\n        this.virtDir.getScroll().scrollTop = targetScroll;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onToggleOpening(e: CancelableEventArgs) {\n        this.onOpening.emit(e);\n        if (e.cancel) {\n            return;\n        }\n\n        if (this.virtDir) {\n            this.virtDir.scrollPosition = this._scrollPosition;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onToggleContentAppended() {\n        if (!this.virtDir && this.selectedItem) {\n           this.scrollToItem(this.selectedItem);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onToggleOpened() {\n        if (this.selectedItem) {\n            this.focusedItem = this.selectedItem;\n            this._focusedItem.focused = true;\n        } else if (this.allowItemsFocus) {\n            this.navigateFirst();\n        }\n        this.onOpened.emit();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onToggleClosing(e: CancelableBrowserEventArgs) {\n        this.onClosing.emit(e);\n        if (this.virtDir) {\n            this._scrollPosition = this.virtDir.scrollPosition;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onToggleClosed() {\n        if (this._focusedItem) {\n            this._focusedItem.focused = false;\n        }\n        this.onClosed.emit();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngOnDestroy() {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n        this.selection.clear(this.id);\n        this.selection.clear(`${this.id}-active`);\n    }\n\n    protected scrollToItem(item: IgxDropDownItemBaseDirective) {\n        const itemPosition = this.calculateScrollPosition(item);\n\n        //  in IE11 setting sctrollTop is somehow slow and forces dropdown\n        //  to appear on screen before animation start. As a result dropdown\n        //  flickers badly. This is why we set scrollTop just a little later\n        //  allowing animation to start and prevent dropdown flickering\n        if (isIE()) {\n            setTimeout(() => {\n                this.scrollContainer.scrollTop = (itemPosition);\n            }, 1);\n        } else {\n            this.scrollContainer.scrollTop = (itemPosition);\n        }\n    }\n\n    /** @hidden @internal */\n    public calculateScrollPosition(item: IgxDropDownItemBaseDirective): number {\n        if (!item) {\n            return 0;\n        }\n\n        const elementRect = item.element.nativeElement.getBoundingClientRect();\n        const parentRect = this.scrollContainer.getBoundingClientRect();\n        const scrollDelta = parentRect.top - elementRect.top;\n        let scrollPosition = this.scrollContainer.scrollTop - scrollDelta;\n\n        const dropDownHeight = this.scrollContainer.clientHeight;\n        scrollPosition -= dropDownHeight / 2;\n        scrollPosition += item.elementHeight / 2;\n\n        return Math.floor(scrollPosition);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    // temp workaround until fix --> https://github.com/angular/angular/issues/34992\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.id) {\n            this.toggleDirective.id = changes.id.currentValue;\n        }\n    }\n\n    ngAfterViewInit() {\n        if (this.virtDir) {\n            this.virtDir.igxForItemSize = 28;\n        }\n    }\n\n    /** Keydown Handler */\n    public onItemActionKey(key: DropDownActionKey, event?: Event) {\n        super.onItemActionKey(key, event);\n        this.close();\n    }\n\n    /**\n     * Virtual scroll implementation\n     * @hidden @internal\n     */\n    public navigateFirst() {\n        if (this.virtDir) {\n            this.navigateItem(0);\n        } else {\n            super.navigateFirst();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigateLast() {\n        if (this.virtDir) {\n            this.navigateItem(this.virtDir.totalItemCount ? this.virtDir.totalItemCount - 1 : this.virtDir.igxForOf.length - 1);\n        } else {\n            super.navigateLast();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigateNext() {\n        if (this.virtDir) {\n            this.navigateItem(this._focusedItem ? this._focusedItem.index + 1 : 0);\n        } else {\n            super.navigateNext();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public navigatePrev() {\n        if (this.virtDir) {\n            this.navigateItem(this._focusedItem ? this._focusedItem.index - 1 : 0);\n        } else {\n            super.navigatePrev();\n        }\n    }\n\n    /**\n     * Handles the `onSelection` emit and the drop down toggle when selection changes\n     * @hidden\n     * @internal\n     * @param newSelection\n     * @param event\n     */\n    public selectItem(newSelection?: IgxDropDownItemBaseDirective, event?: Event) {\n        const oldSelection = this.selectedItem;\n        if (!newSelection) {\n            newSelection = this.focusedItem;\n        }\n        if (newSelection === null) {\n            return;\n        }\n        if (newSelection instanceof IgxDropDownItemBaseDirective && newSelection.isHeader) {\n            return;\n        }\n        if (this.virtDir) {\n            newSelection = {\n                value: newSelection.value,\n                index: newSelection.index\n            } as IgxDropDownItemBaseDirective;\n        }\n        const args: ISelectionEventArgs = { oldSelection, newSelection, cancel: false };\n        this.onSelection.emit(args);\n\n        if (!args.cancel) {\n            if (this.isSelectionValid(args.newSelection)) {\n                this.selection.set(this.id, new Set([args.newSelection]));\n                if (!this.virtDir) {\n                    if (oldSelection) {\n                        oldSelection.selected = false;\n                    }\n                    if (args.newSelection) {\n                        args.newSelection.selected = true;\n                    }\n                }\n                if (event) {\n                    this.toggleDirective.close();\n                }\n            } else {\n                throw new Error('Please provide a valid drop-down item for the selection!');\n            }\n        }\n    }\n\n    /**\n     * Clears the selection of the dropdown\n     * ```typescript\n     * this.dropdown.clearSelection();\n     * ```\n     */\n    public clearSelection() {\n        const oldSelection = this.selectedItem;\n        const newSelection: IgxDropDownItemBaseDirective = null;\n        const args: ISelectionEventArgs = { oldSelection, newSelection, cancel: false };\n        this.onSelection.emit(args);\n        if (this.selectedItem && !args.cancel) {\n            this.selectedItem.selected = false;\n            this.selection.clear(this.id);\n        }\n    }\n\n    /**\n     * Checks whether the selection is valid\n     * `null` - the selection should be emptied\n     * Virtual? - the selection should at least have and `index` and `value` property\n     * Non-virtual? - the selection should be a valid drop-down item and **not** be a header\n     */\n    protected isSelectionValid(selection: any): boolean {\n        return selection === null\n        || (this.virtDir && selection.hasOwnProperty('value') && selection.hasOwnProperty('index'))\n        || (selection instanceof IgxDropDownItemComponent && !selection.isHeader);\n    }\n}\n\n","import { Directive, Optional, Self, Input, HostListener, Inject } from '@angular/core';\nimport { IGX_DROPDOWN_BASE } from './drop-down.common';\nimport { IDropDownNavigationDirective } from './drop-down.common';\nimport { IgxDropDownBaseDirective } from './drop-down.base';\nimport { DropDownActionKey } from './drop-down.common';\n\n/**\n * Navigation Directive that handles keyboard events on its host and controls a targeted IgxDropDownBaseDirective component\n */\n@Directive({\n    selector: '[igxDropDownItemNavigation]'\n})\nexport class IgxDropDownItemNavigationDirective implements IDropDownNavigationDirective {\n\n    protected _target: IgxDropDownBaseDirective = null;\n\n    constructor(@Self() @Optional() @Inject(IGX_DROPDOWN_BASE) public dropdown: IgxDropDownBaseDirective) { }\n\n    /**\n     * Gets the target of the navigation directive;\n     *\n     * ```typescript\n     * // Get\n     * export class MyComponent {\n     *  ...\n     *  @ContentChild(IgxDropDownNavigationDirective)\n     *  navDirective: IgxDropDownNavigationDirective = null\n     *  ...\n     *  const navTarget: IgxDropDownBaseDirective = navDirective.navTarget\n     * }\n     * ```\n     */\n    get target(): IgxDropDownBaseDirective {\n        return this._target;\n    }\n\n    /**\n     * Sets the target of the navigation directive;\n     * If no valid target is passed, it falls back to the drop down context\n     *\n     * ```html\n     * <!-- Set -->\n     * <input [igxDropDownItemNavigation]=\"dropdown\" />\n     * ...\n     * <igx-drop-down #dropdown>\n     * ...\n     * </igx-drop-down>\n     * ```\n     */\n    @Input('igxDropDownItemNavigation')\n    set target(target: IgxDropDownBaseDirective) {\n        this._target = target ? target : this.dropdown;\n    }\n\n    /**\n     * Captures keydown events and calls the appropriate handlers on the target component\n     */\n    @HostListener('keydown', ['$event'])\n    handleKeyDown(event: KeyboardEvent) {\n        if (event) {\n            const key = event.key.toLowerCase();\n            if (!this.target.collapsed) { // If dropdown is opened\n                const navKeys = ['esc', 'escape', 'enter', 'space', 'spacebar', ' ',\n            'arrowup', 'up', 'arrowdown', 'down', 'home', 'end'];\n                if (navKeys.indexOf(key) === -1) { // If key has appropriate function in DD\n                    return;\n                }\n                event.preventDefault();\n                event.stopPropagation();\n            } else { // If dropdown is closed, do nothing\n                return;\n            }\n            switch (key) {\n                case 'esc':\n                case 'escape':\n                    this.target.onItemActionKey(DropDownActionKey.ESCAPE, event);\n                    break;\n                case 'enter':\n                    this.target.onItemActionKey(DropDownActionKey.ENTER, event);\n                    break;\n                case 'space':\n                case 'spacebar':\n                case ' ':\n                    this.target.onItemActionKey(DropDownActionKey.SPACE, event);\n                    break;\n                case 'arrowup':\n                case 'up':\n                    this.onArrowUpKeyDown();\n                    break;\n                case 'arrowdown':\n                case 'down':\n                    this.onArrowDownKeyDown();\n                    break;\n                case 'home':\n                    this.onHomeKeyDown();\n                    break;\n                case 'end':\n                    this.onEndKeyDown();\n                    break;\n                default:\n                    return;\n            }\n        }\n    }\n\n    /**\n     * Navigates to previous item\n     */\n    onArrowDownKeyDown() {\n        this.target.navigateNext();\n    }\n\n    /**\n     * Navigates to previous item\n     */\n    onArrowUpKeyDown() {\n        this.target.navigatePrev();\n    }\n\n    /**\n     * Navigates to target's last item\n     */\n    onEndKeyDown() {\n        this.target.navigateLast();\n    }\n\n    /**\n     * Navigates to target's first item\n     */\n    onHomeKeyDown() {\n        this.target.navigateFirst();\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { IgxDropDownComponent } from './drop-down.component';\nimport { IgxDropDownItemComponent } from './drop-down-item.component';\nimport { IgxDropDownItemNavigationDirective } from './drop-down-navigation.directive';\nimport { CommonModule } from '@angular/common';\nimport { IgxToggleModule } from '../directives/toggle/toggle.directive';\nimport { IgxSelectionAPIService } from '../core/selection';\nimport { IgxDropDownGroupComponent } from './drop-down-group.component';\nimport { IgxDropDownBaseDirective } from './drop-down.base';\nimport { IgxDropDownItemBaseDirective } from './drop-down-item.base';\n\nexport * from './drop-down.component';\nexport * from './drop-down-item.component';\nexport { ISelectionEventArgs, IDropDownNavigationDirective,  } from './drop-down.common';\nexport * from './drop-down-navigation.directive';\nexport * from './drop-down.base';\nexport * from './drop-down-item.base';\nexport * from './drop-down-group.component';\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxDropDownBaseDirective,\n        IgxDropDownComponent,\n        IgxDropDownItemBaseDirective,\n        IgxDropDownItemComponent,\n        IgxDropDownGroupComponent,\n        IgxDropDownItemNavigationDirective\n    ],\n    exports: [\n        IgxDropDownComponent,\n        IgxDropDownItemComponent,\n        IgxDropDownGroupComponent,\n        IgxDropDownItemNavigationDirective\n    ],\n    imports: [\n        CommonModule,\n        IgxToggleModule\n    ]\n})\nexport class IgxDropDownModule { }\n","import { Directive, ElementRef, HostBinding, Input, OnInit } from '@angular/core';\n\nenum IgxHintPosition {\n    START,\n    END\n}\n\n@Directive({\n    selector: 'igx-hint,[igxHint]'\n})\nexport class IgxHintDirective implements OnInit {\n    private _position: IgxHintPosition = IgxHintPosition.START;\n    /**\n     * Sets/gets whether the hint position is at the start.\n     * Default value is `false`.\n     * ```typescript\n     * @ViewChild('hint', {read: IgxHintDirective})\n     * public igxHint: IgxHintDirective;\n     * this.igxHint.isPositionStart = true;\n     * ```\n     * ```typescript\n     * let isHintPositionStart = this.igxHint.isPositionStart;\n     * ```\n     * @memberof IgxHintDirective\n     */\n    @HostBinding('class.igx-input-group__hint-item--start')\n    public isPositionStart = false;\n    /**\n     * Sets/gets whether the hint position is at the end.\n     * Default value is `false`.\n     * ```typescript\n     * @ViewChild('hint', {read: IgxHintDirective})\n     * public igxHint: IgxHintDirective;\n     * this.igxHint.isPositionEnd = true;\n     * ```\n     * ```typescript\n     * let isHintPositionEnd = this.igxHint.isPositionEnd;\n     * ```\n     * @memberof IgxHintDirective\n     */\n    @HostBinding('class.igx-input-group__hint-item--end')\n    public isPositionEnd = false;\n\n    constructor(private _element: ElementRef) {\n    }\n    /**\n     * Sets the position of the hint.\n     * ```html\n     * <igx-input-group>\n     *  <input igxInput type=\"text\"/>\n     *  <igx-hint #hint [position]=\"'start'\">IgxHint displayed at the start</igx-hint>\n     * </igx-input-group>\n     * ```\n     * @memberof IgxHintDirective\n     */\n    @Input('position')\n    set position(value: string) {\n        const position: IgxHintPosition = (IgxHintPosition as any)[value.toUpperCase()];\n        if (position !== undefined) {\n            this._position = position;\n            this._applyPosition(this._position);\n        }\n    }\n    /**\n     * Gets the position of the hint.\n     * ```typescript\n     * @ViewChild('hint', {read: IgxHintDirective})\n     * public igxHint: IgxHintDirective;\n     * let hintPosition =  this.igxHint.position;\n     * ```\n     * @memberof IgxHintDirective\n     */\n    get position() {\n        return this._position.toString();\n    }\n    /**\n     *@hidden\n     */\n    ngOnInit() {\n        this._applyPosition(this._position);\n    }\n\n    private _applyPosition(position: IgxHintPosition) {\n        this.isPositionStart = this.isPositionEnd = false;\n        switch (position) {\n            case IgxHintPosition.START:\n                this.isPositionStart = true;\n                break;\n            case IgxHintPosition.END:\n                this.isPositionEnd = true;\n                break;\n            default: break;\n        }\n    }\n}\n","/** @hidden */\nexport abstract class IgxInputGroupBase {\n    disabled: boolean;\n    isFocused: boolean;\n    isRequired: boolean;\n    hasPlaceholder: boolean;\n}\n","import {\n    AfterViewInit,\n    ChangeDetectorRef,\n    Directive,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    OnDestroy,\n    Optional,\n    Self\n} from '@angular/core';\nimport { AbstractControl, FormControlName, NgControl, NgModel } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { IgxInputGroupBase } from '../../input-group/input-group.common';\n\nconst nativeValidationAttributes = ['required', 'pattern', 'minlength', 'maxlength', 'min', 'max', 'step'];\n\nexport enum IgxInputState {\n    INITIAL,\n    VALID,\n    INVALID\n}\n\n/**\n * The `igxInput` directive creates single- or multiline text elements, covering common scenarios when dealing with form inputs.\n *\n * @igxModule IgxInputGroupModule\n *\n * @igxParent Data Entry & Display\n *\n * @igxTheme igx-input-group-theme\n *\n * @igxKeywords input, input group, form, field, validation\n *\n * @igxGroup presentation\n *\n * @example\n * ```html\n * <input-group>\n *  <label for=\"address\">Adress</label>\n *  <input igxInput name=\"address\" type=\"text\" [(ngModel)]=\"customer.address\">\n * </input-group>\n * ```\n */\n@Directive({\n    selector: '[igxInput]',\n    exportAs: 'igxInput'\n})\nexport class IgxInputDirective implements AfterViewInit, OnDestroy {\n    private _valid = IgxInputState.INITIAL;\n    private _statusChanges$: Subscription;\n\n    constructor(\n        public inputGroup: IgxInputGroupBase,\n        @Optional() @Self() @Inject(NgModel) protected ngModel: NgModel,\n        @Optional() @Self() @Inject(FormControlName) protected formControl: FormControlName,\n        protected element: ElementRef,\n        protected cdr: ChangeDetectorRef) { }\n\n    private get ngControl(): NgControl {\n        return this.ngModel ? this.ngModel : this.formControl;\n    }\n    /**\n     * Sets the `value` property.\n     *\n     * @example\n     * ```html\n     * <input-group>\n     *  <input igxInput #igxInput [value]=\"'IgxInput Value'\">\n     * </input-group>\n     * ```\n     */\n    @Input('value')\n    set value(value: any) {\n        this.nativeElement.value = value;\n        this.checkValidity();\n    }\n    /**\n     * Gets the `value` propery.\n     *\n     * @example\n     * ```typescript\n     * @ViewChild('igxInput', {read: IgxInputDirective})\n     *  public igxInput: IgxInputDirective;\n     * let inputValue = this.igxInput.value;\n     * ```\n     */\n    get value() {\n        return this.nativeElement.value;\n    }\n    /**\n     * Sets the `disabled` property.\n     *\n     * @example\n     * ```html\n     * <input-group>\n     *  <input igxInput #igxInput [disabled]=\"true\">\n     * </input-group>\n     * ```\n     */\n    @Input()\n    public set disabled(value: boolean) {\n        this.nativeElement.disabled = value;\n        this.inputGroup.disabled = value;\n    }\n    /**\n     * Gets the `disabled` property\n     *\n     * @example\n     * ```typescript\n     * @ViewChild('igxInput', {read: IgxInputDirective})\n     *  public igxInput: IgxInputDirective;\n     * let isDisabled = this.igxInput.disabled;\n     * ```\n     */\n    public get disabled() {\n        return this.nativeElement.hasAttribute('disabled');\n    }\n\n    /**\n     * Sets the `required` property.\n     *\n     * @example\n     * ```html\n     * <input-group>\n     *  <input igxInput #igxInput [required]=\"true\">\n     * </input-group>\n     * ```\n     */\n    @Input()\n    public set required(value: boolean) {\n        if (typeof value === 'boolean') {\n            this.nativeElement.required = this.inputGroup.isRequired = value;\n\n            if (value && !this.nativeElement.checkValidity()) {\n                this._valid = IgxInputState.INVALID;\n            } else {\n                this._valid = IgxInputState.INITIAL;\n            }\n        }\n    }\n\n    /**\n     * Gets whether the igxInput is required.\n     *\n     * @example\n     * ```typescript\n     * let isRequired = this.igxInput.required;\n     * ```\n     */\n    public get required() {\n        return this.nativeElement.hasAttribute('required');\n    }\n\n    /**\n     * Sets/gets whether the `\"igx-input-group__input\"` class is added to the host element.\n     * Default value is `false`.\n     *\n     * @example\n     * ```typescript\n     * this.igxInput.isInput = true;\n     * ```\n     *\n     * @example\n     * ```typescript\n     * let isCLassAdded = this.igxInput.isInput;\n     * ```\n     */\n    @HostBinding('class.igx-input-group__input')\n    public isInput = false;\n    /**\n     * Sets/gets whether the `\"class.igx-input-group__textarea\"` class is added to the host element.\n     * Default value is `false`.\n     *\n     * @example\n     * ```typescript\n     * this.igxInput.isTextArea = true;\n     * ```\n     *\n     * @example\n     * ```typescript\n     * let isCLassAdded = this.igxInput.isTextArea;\n     * ```\n     */\n    @HostBinding('class.igx-input-group__textarea')\n    public isTextArea = false;\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('focus', ['$event'])\n    public onFocus(event) {\n        this.inputGroup.isFocused = true;\n    }\n    /**\n     * @param event The event to invoke the handler\n     *\n     * @hidden\n     * @internal\n     */\n    @HostListener('blur', ['$event'])\n    public onBlur(event) {\n        this.inputGroup.isFocused = false;\n        this._valid = IgxInputState.INITIAL;\n        if (this.ngControl) {\n            if (!this.ngControl.valid) {\n                this._valid = IgxInputState.INVALID;\n            }\n        } else if (this._hasValidators() && !this.nativeElement.checkValidity()) {\n            this._valid = IgxInputState.INVALID;\n        }\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('input')\n    public onInput() {\n        this.checkValidity();\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngAfterViewInit() {\n        this.inputGroup.hasPlaceholder = this.nativeElement.hasAttribute('placeholder');\n        this.inputGroup.disabled = this.inputGroup.disabled || this.nativeElement.hasAttribute('disabled');\n        this.inputGroup.isRequired = this.nativeElement.hasAttribute('required');\n\n        // Make sure we do not invalidate the input on init\n        if (!this.ngControl) {\n            this._valid = IgxInputState.INITIAL;\n        }\n        // Also check the control's validators for required\n        if (!this.inputGroup.isRequired && this.ngControl && this.ngControl.control.validator) {\n            const validation = this.ngControl.control.validator({} as AbstractControl);\n            this.inputGroup.isRequired = validation && validation.required;\n        }\n\n\n        const elTag = this.nativeElement.tagName.toLowerCase();\n        if (elTag === 'textarea') {\n            this.isTextArea = true;\n        } else {\n            this.isInput = true;\n        }\n\n        if (this.ngControl) {\n            this._statusChanges$ = this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this));\n        }\n\n        this.cdr.detectChanges();\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngOnDestroy() {\n        if (this._statusChanges$) {\n            this._statusChanges$.unsubscribe();\n        }\n    }\n    /**\n     * Sets a focus on the igxInput.\n     *\n     * @example\n     * ```typescript\n     * this.igxInput.focus();\n     * ```\n     */\n    public focus() {\n        this.nativeElement.focus();\n    }\n    /**\n     * Gets the `nativeElement` of the igxInput.\n     *\n     * @example\n     * ```typescript\n     * let igxInputNativeElement = this.igxInput.nativeElement;\n     * ```\n     */\n    public get nativeElement() {\n        return this.element.nativeElement;\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    protected onStatusChanged() {\n        if (this.ngControl.control.validator || this.ngControl.control.asyncValidator) {\n            if (this.ngControl.control.touched || this.ngControl.control.dirty) {\n                //  TODO: check the logic when control is touched or dirty\n                if (this.inputGroup.isFocused) {\n                    // the user is still typing in the control\n                    this._valid = this.ngControl.valid ? IgxInputState.VALID : IgxInputState.INVALID;\n                } else {\n                    // the user had touched the control previously but now the value is changing due to changes in the form\n                    this._valid = this.ngControl.valid ? IgxInputState.INITIAL : IgxInputState.INVALID;\n                }\n            } else {\n                //  if control is untouched and pristine its state is initial. This is when user did not interact\n                //  with the input or when form/control is reset\n                this._valid = IgxInputState.INITIAL;\n            }\n        }\n    }\n    /**\n     * Gets whether the igxInput has a placeholder.\n     *\n     * @example\n     * ```typescript\n     * let hasPlaceholder = this.igxInput.hasPlaceholder;\n     * ```\n     */\n    public get hasPlaceholder() {\n        return this.nativeElement.hasAttribute('placeholder');\n    }\n    /**\n     * Gets the placeholder element of the igxInput.\n     *\n     * @example\n     * ```typescript\n     * let igxInputPlaceholder = this.igxInput.placeholder;\n     * ```\n     */\n    public get placeholder() {\n        return this.nativeElement.placeholder;\n    }\n\n    /**\n     * @returns An indicator of whether the input has validator attributes or not\n     *\n     * @hidden\n     * @internal\n     */\n    private _hasValidators(): boolean {\n        for (const nativeValidationAttribute of nativeValidationAttributes) {\n            if (this.nativeElement.hasAttribute(nativeValidationAttribute)) {\n                return true;\n            }\n        }\n\n        return !!this.ngControl && (!!this.ngControl.control.validator || !!this.ngControl.control.asyncValidator);\n    }\n\n    /**\n     * Gets whether the igxInput is focused.\n     *\n     * @example\n     * ```typescript\n     * let isFocused = this.igxInput.focused;\n     * ```\n     */\n    public get focused() {\n        return this.inputGroup.isFocused;\n    }\n    /**\n     * Gets the state of the igxInput.\n     *\n     * @example\n     * ```typescript\n     * let igxInputState = this.igxInput.valid;\n     * ```\n     */\n    public get valid(): IgxInputState {\n        return this._valid;\n    }\n\n    /**\n     * Gets whether the igxInput is valid.\n     *\n     * @example\n     * ```typescript\n     * let valid = this.igxInput.isValid;\n     * ```\n     */\n    public get isValid(): boolean {\n        return this.valid !== IgxInputState.INVALID;\n    }\n\n    /**\n     * Sets the state of the igxInput.\n     *\n     * @example\n     * ```typescript\n     * this.igxInput.valid = IgxInputState.INVALID;\n     * ```\n     */\n    public set valid(value: IgxInputState) {\n        this._valid = value;\n    }\n\n    /**\n     * A function to assign a validity property of an input.\n     *\n     * @hidden\n     * @internal\n     */\n    private checkValidity() {\n        if (!this.ngControl && this._hasValidators()) {\n            this._valid = this.nativeElement.checkValidity() ? IgxInputState.VALID : IgxInputState.INVALID;\n        }\n    }\n}\n","import { Directive, HostBinding, Input } from '@angular/core';\n\nlet NEXT_ID = 0;\n\n@Directive({\n    selector: '[igxLabel]'\n})\nexport class IgxLabelDirective {\n    @HostBinding('class.igx-input-group__label')\n    public defaultClass = true;\n\n/**\n * @hidden\n */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-label-${NEXT_ID++}`;\n}\n","import { NgModule, Directive } from '@angular/core';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: 'igx-prefix,[igxPrefix]'\n})\nexport class IgxPrefixDirective { }\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxPrefixDirective],\n    exports: [IgxPrefixDirective]\n})\nexport class IgxPrefixModule { }\n","import { NgModule, Directive } from '@angular/core';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: 'igx-suffix,[igxSuffix]'\n})\nexport class IgxSuffixDirective { }\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxSuffixDirective],\n    exports: [IgxSuffixDirective]\n})\nexport class IgxSuffixModule { }\n","import { CommonModule } from '@angular/common';\nimport {\n    Component,\n    ContentChild,\n    ContentChildren,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    NgModule,\n    QueryList,\n    Inject,\n    Optional\n} from '@angular/core';\nimport { IgxHintDirective } from '../directives/hint/hint.directive';\nimport { IgxInputDirective, IgxInputState } from '../directives/input/input.directive';\nimport { IgxLabelDirective } from '../directives/label/label.directive';\nimport { IgxPrefixDirective, IgxPrefixModule} from '../directives/prefix/prefix.directive';\nimport { IgxSuffixDirective, IgxSuffixModule } from '../directives/suffix/suffix.directive';\nimport { DisplayDensity, IDisplayDensityOptions, DisplayDensityToken, DisplayDensityBase } from '../core/displayDensity';\nimport { IgxInputGroupBase } from './input-group.common';\n\nlet NEXT_ID = 0;\n\nenum IgxInputGroupType {\n    LINE,\n    BOX,\n    BORDER,\n    FLUENT,\n    BOOTSTRAP,\n    SEARCH,\n    FLUENT_SEARCH,\n}\n\n@Component({\n    selector: 'igx-input-group',\n    templateUrl: 'input-group.component.html',\n    providers: [{ provide: IgxInputGroupBase, useExisting: IgxInputGroupComponent }]\n})\nexport class IgxInputGroupComponent extends DisplayDensityBase implements IgxInputGroupBase {\n    private _type = IgxInputGroupType.LINE;\n    private _filled = false;\n    private _supressInputAutofocus = false;\n\n    /**\n     * An ElementRef property of the `IgxInputGroupComponent`.\n     */\n    public element: ElementRef;\n\n    /**\n     * An @Input property that sets the value of `id` attribute. If not provided it will be automatically generated.\n     * ```html\n     * <igx-input-group [id]=\"'igx-input-group-55'\"></igx-input-group>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-input-group-${NEXT_ID++}`;\n\n    /**\n     * Property that enables/disables the autogenerated class of the `IgxInputGroupComponent`.\n     * By default applied the class is applied.\n     *```typescript\n     *@ViewChild(\"MyInputGroup\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *this.inputGroup.defaultClass = false;\n     *```\n     *}\n     */\n    @HostBinding('class.igx-input-group')\n    public defaultClass = true;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--placeholder')\n    public hasPlaceholder = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--required')\n    public isRequired = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--focused')\n    public isFocused = false;\n\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--box')\n    public isBox = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--border')\n    public isBorder = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--search')\n    public isSearch = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--fluent-search')\n    public isFluentSearch = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--fluent')\n    public isFluent = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--bootstrap')\n    public isBootstrap = false;\n\n    /**\n     * An @Input property that disables the `IgxInputGroupComponent`.\n     * ```html\n     * <igx-input-group [disabled]=\"'true'\"></igx-input-group>\n     * ```\n     */\n    @HostBinding('class.igx-input-group--disabled')\n    @Input()\n    public disabled = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--valid')\n    public get validClass(): boolean {\n        return this.input.valid === IgxInputState.VALID;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--invalid')\n    public get invalidClass(): boolean {\n        return this.input.valid === IgxInputState.INVALID;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-input-group--warning')\n    public hasWarning = false;\n\n    /**\n     * @hidden\n     */\n    @ContentChildren(IgxHintDirective, { read: IgxHintDirective })\n    protected hints: QueryList<IgxHintDirective>;\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxInputDirective, { read: IgxInputDirective, static: true })\n    protected input: IgxInputDirective;\n\n    /**\n     *@hidden\n     */\n    @HostListener('click', ['$event'])\n    public onClick(event) {\n        if (!this._supressInputAutofocus) {\n            this.input.focus();\n        }\n    }\n\n    /**\n     * An @Input property that sets how the input will be styled.\n     * The allowed values are `line`, `box`, `border`, `fluent`, `search` and `fluentSearch`. The default is `line`.\n     * ```html\n     *<igx-input-group [type]=\"'search'\">\n     * ```\n     */\n    @Input('type')\n    set type(value: string) {\n        const type: IgxInputGroupType = (IgxInputGroupType as any)[value.toUpperCase()];\n        if (type !== undefined) {\n            this.isBox = this.isBootstrap = this.isFluent = this.isFluentSearch = this.isBorder = this.isSearch = false;\n            switch (type) {\n                case IgxInputGroupType.BOX:\n                    this.isBox = true;\n                    break;\n                case IgxInputGroupType.BORDER:\n                    this.isBorder = true;\n                    break;\n                case IgxInputGroupType.FLUENT:\n                    this.isFluent = true;\n                    break;\n                case IgxInputGroupType.FLUENT_SEARCH:\n                    this.isFluentSearch = true;\n                    break;\n                case IgxInputGroupType.SEARCH:\n                    this.isSearch = true;\n                    break;\n                case IgxInputGroupType.BOOTSTRAP:\n                    this.isBootstrap = true;\n                    break;\n                default: break;\n            }\n\n            this._type = type;\n        }\n    }\n\n    /**\n     * Returns whether the input element of the input group will be automatically focused on click.\n     * ```typescript\n     * let supressInputAutofocus = this.inputGroup.supressInputAutofocus;\n     * ```\n     */\n    @Input()\n    public get supressInputAutofocus(): boolean {\n        return this._supressInputAutofocus;\n    }\n\n    /**\n     * Sets whether the input element of the input group will be automatically focused on click.\n     * ```html\n     * <igx-input-group [supressInputAutofocus]=\"true\"></igx-input-group>\n     * ```\n     */\n    public set supressInputAutofocus(value: boolean) {\n        this._supressInputAutofocus = value;\n    }\n\n    /**\n     *@hidden\n     */\n    @HostBinding('class.igx-input-group--filled')\n    get isFilled() {\n        return this._filled || (this.input && this.input.value);\n    }\n\n    /**\n     *@hidden\n     */\n    @HostBinding('class.igx-input-group--cosy')\n    get isDisplayDensityCosy() {\n        return this.displayDensity === DisplayDensity.cosy;\n    }\n\n    /**\n     *@hidden\n     */\n    @HostBinding('class.igx-input-group--comfortable')\n    get isDisplayDensityComfortable() {\n        return this.displayDensity === DisplayDensity.comfortable;\n    }\n\n    /**\n     *@hidden\n     */\n    @HostBinding('class.igx-input-group--compact')\n    get isDisplayDensityCompact() {\n        return this.displayDensity === DisplayDensity.compact;\n    }\n\n    /**\n     * Returns the type of the `IgxInputGroupComponent`. How the input is styled.\n     * Values are `line` - 0, `box` - 1, `border` - 2,  `fluent` - 3 `fluentSearch` - 4 and `search` - 5. The default is `line`.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let inputType = this.inputGroup.type;\n     *}\n     * ```\n     */\n    get type() {\n        return this._type.toString();\n    }\n\n    constructor(private _element: ElementRef,\n        @Optional() @Inject(DisplayDensityToken) private _displayDensityOptions: IDisplayDensityOptions) {\n        super(_displayDensityOptions);\n        this.element = _element;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` has hints.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let inputHints = this.inputGroup.hasHints;\n     *}\n     * ```\n     */\n    get hasHints() {\n        return this.hints.length > 0;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` has border.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let inputBroder = this.inputGroup.hasBorder;\n     *}\n     * ```\n     */\n    get hasBorder() {\n        return this._type === IgxInputGroupType.LINE ||\n            this._type === IgxInputGroupType.BOX;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is line.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeLine = this.inputGroup.isTypeLine;\n     *}\n     * ```\n     */\n    public get isTypeLine(): boolean {\n        return  this._type === IgxInputGroupType.LINE;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is box.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeBox = this.inputGroup.isTypeBox;\n     *}\n     *```\n     */\n    get isTypeBox() {\n        return this._type === IgxInputGroupType.BOX;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is border.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeBorder = this.inputGroup.isTypeBorder;\n     *}\n     * ```\n     */\n    get isTypeBorder() {\n        return this._type === IgxInputGroupType.BORDER;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is Fluent.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeFluent = this.inputGroup.isTypeFluent;\n     *}\n     * ```\n     */\n    get isTypeFluent() {\n        return this._type === IgxInputGroupType.FLUENT;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is Bootstrap.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeBootstrap = this.inputGroup.isTypeBootstrap;\n     *}\n     * ```\n     */\n    get isTypeBootstrap() {\n        return this._type === IgxInputGroupType.BOOTSTRAP;\n    }\n\n    get isNotMaterial() {\n        return this._type === IgxInputGroupType.FLUENT || this._type === IgxInputGroupType.BOOTSTRAP;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is search.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeSearch = this.inputGroup.isTypeSearch;\n     *}\n     * ```\n     */\n    get isTypeSearch() {\n        return  this._type === IgxInputGroupType.SEARCH;\n    }\n\n    /**\n     * Returns whether the `IgxInputGroupComponent` type is fluentSearch.\n     * ```typescript\n     *@ViewChild(\"MyInputGroup1\")\n     *public inputGroup: IgxInputGroupComponent;\n     *ngAfterViewInit(){\n     *    let isTypeFluentSearch = this.inputGroup.isTypeFluentSearch;\n     *}\n     * ```\n     */\n    get isTypeFluentSearch() {\n        return  this._type === IgxInputGroupType.FLUENT_SEARCH;\n    }\n\n    get filled() {\n        return this._filled;\n    }\n\n    set filled(val) {\n        this._filled = val;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxInputGroupComponent,\n        IgxHintDirective,\n        IgxInputDirective,\n        IgxLabelDirective\n    ],\n    exports: [\n        IgxInputGroupComponent,\n        IgxHintDirective,\n        IgxInputDirective,\n        IgxLabelDirective,\n        IgxPrefixModule,\n        IgxSuffixModule\n    ],\n    imports: [\n        CommonModule,\n        IgxPrefixModule,\n        IgxSuffixModule\n    ]\n})\nexport class IgxInputGroupModule { }\n","import {\n    Directive, Input, Self, Optional, Inject, HostBinding, Output, EventEmitter,\n    NgModule, ElementRef, HostListener, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { NgModel, FormControlName } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { CancelableEventArgs, IBaseEventArgs } from '../../core/utils';\nimport { OverlaySettings, AbsoluteScrollStrategy, IScrollStrategy, IPositionStrategy, AutoPositionStrategy } from '../../services/index';\nimport { IgxDropDownModule, IgxDropDownComponent, ISelectionEventArgs, IgxDropDownItemNavigationDirective } from '../../drop-down/index';\nimport { IgxInputGroupComponent } from '../../input-group/index';\nimport { IgxOverlayOutletDirective } from '../toggle/toggle.directive';\n\n/**\n * Interface that encapsulates onItemSelection event arguments - new value and cancel selection.\n * @export\n */\nexport interface AutocompleteItemSelectionEventArgs extends CancelableEventArgs, IBaseEventArgs {\n    /**\n     * New value selected from the drop down\n     */\n    value: string;\n}\n\nexport interface AutocompleteOverlaySettings {\n    /** Position strategy to use with this settings */\n    positionStrategy?: IPositionStrategy;\n    /** Scroll strategy to use with this settings */\n    scrollStrategy?: IScrollStrategy;\n    /** Set the outlet container to attach the overlay to */\n    outlet?: IgxOverlayOutletDirective | ElementRef;\n}\n\n/**\n * **Ignite UI for Angular Autocomplete** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/autocomplete.html)\n *\n * The igxAutocomplete directive provides a way to enhance a text input\n * by showing a drop down of suggested options, provided by the developer.\n *\n * Example:\n * ```html\n * <input type=\"text\" [igxAutocomplete]=\"townsPanel\" />\n * <igx-drop-down #townsPanel>\n *     <igx-drop-down-item *ngFor=\"let town of towns | startsWith:townSelected\" [value]=\"town\">\n *         {{town}}\n *     </igx-drop-down-item>\n * </igx-drop-down>\n * ```\n */\n@Directive({\n    selector: '[igxAutocomplete]'\n})\nexport class IgxAutocompleteDirective extends IgxDropDownItemNavigationDirective implements OnDestroy {\n\n    constructor(@Self() @Optional() @Inject(NgModel) protected ngModel: NgModel,\n                @Self() @Optional() @Inject(FormControlName) protected formControl: FormControlName,\n                @Optional() protected group: IgxInputGroupComponent,\n                protected elementRef: ElementRef,\n                protected cdr: ChangeDetectorRef) {\n        super(null);\n    }\n\n    private defaultSettings: OverlaySettings = {\n        modal: false,\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        positionStrategy: new AutoPositionStrategy({ target: this.parentElement }),\n        excludePositionTarget: true\n    };\n\n    protected id: string;\n    protected dropDownOpened$ = new Subject<boolean>();\n    protected get model() {\n        return this.ngModel || this.formControl;\n    }\n\n    /** @hidden @internal */\n    get nativeElement(): HTMLInputElement {\n        return this.elementRef.nativeElement;\n    }\n\n    /** @hidden @internal */\n    get parentElement(): HTMLElement {\n        return this.group ? this.group.element.nativeElement : this.nativeElement;\n    }\n\n    private get settings(): OverlaySettings {\n        const settings = Object.assign({}, this.defaultSettings, this.autocompleteSettings);\n        if (!settings.positionStrategy.settings.target) {\n            const positionStrategyClone: IPositionStrategy = settings.positionStrategy.clone();\n            positionStrategyClone.settings.target = this.parentElement;\n            settings.positionStrategy = positionStrategyClone;\n        }\n        return settings;\n    }\n\n    /**\n     * Sets the target of the autocomplete directive\n     *\n     * ```html\n     * <!-- Set -->\n     * <input [igxAutocomplete]=\"dropdown\" />\n     * ...\n     * <igx-drop-down #dropdown>\n     * ...\n     * </igx-drop-down>\n     * ```\n     */\n    @Input('igxAutocomplete')\n    public target: IgxDropDownComponent;\n\n    /**\n     * Enables/disables autocomplete component\n     *\n     * ```typescript\n     * // get\n     * let disabled = this.autocomplete.disabled;\n     * ```\n     * ```html\n     * <!--set-->\n     * <input type=\"text\" [igxAutocomplete]=\"townsPanel\" [igxAutocompleteDisabled]=\"disabled\"/>\n     * ```\n     * ```typescript\n     * // set\n     * public disabled = true;\n     * ```\n     */\n    @Input('igxAutocompleteDisabled')\n    public disabled = false;\n\n    /**\n     * Provide overlay settings for the autocomplete drop down\n     *\n     * ```typescript\n     * // get\n     * let settings = this.autocomplete.autocompleteSettings;\n     * ```\n     * ```html\n     * <!--set-->\n     * <input type=\"text\" [igxAutocomplete]=\"townsPanel\" [igxAutocompleteSettings]=\"settings\"/>\n     * ```\n     * ```typescript\n     * // set\n     * this.settings = {\n     *  positionStrategy: new ConnectedPositioningStrategy({\n     *      closeAnimation: null,\n     *      openAnimation: null\n     *  })\n     * };\n     * ```\n     */\n    @Input('igxAutocompleteSettings')\n    autocompleteSettings: AutocompleteOverlaySettings;\n\n    /**\n     * Emitted after item from the drop down is selected\n     *\n     * ```html\n     * <input igxInput [igxAutocomplete]=\"townsPanel\" (onItemSelected)='itemSelected($event)' />\n     * ```\n     */\n    @Output()\n    onItemSelected = new EventEmitter<AutocompleteItemSelectionEventArgs>();\n\n    /** @hidden @internal */\n    @HostBinding('attr.autocomplete')\n    public autofill = 'off';\n\n    /** @hidden  @internal */\n    @HostBinding('attr.role')\n    public role = 'combobox';\n\n    /** @hidden  @internal */\n    @HostBinding('attr.aria-expanded')\n    public get ariaExpanded() {\n        return !this.collapsed;\n    }\n\n    /** @hidden  @internal */\n    @HostBinding('attr.aria-haspopup')\n    public get hasPopUp() {\n        return 'listbox';\n    }\n\n    /** @hidden  @internal */\n    @HostBinding('attr.aria-owns')\n    public get ariaOwns() {\n        return this.target.listId;\n    }\n\n    /** @hidden  @internal */\n    @HostBinding('attr.aria-activedescendant')\n    public get ariaActiveDescendant() {\n        return !this.target.collapsed && this.target.focusedItem ? this.target.focusedItem.id : null;\n    }\n\n    /** @hidden  @internal */\n    @HostBinding('attr.aria-autocomplete')\n    public get ariaAutocomplete() {\n        return 'list';\n    }\n\n    /** @hidden  @internal */\n    @HostListener('input')\n    onInput() {\n        this.open();\n    }\n\n    /** @hidden  @internal */\n    @HostListener('keydown.ArrowDown', ['$event'])\n    @HostListener('keydown.Alt.ArrowDown', ['$event'])\n    @HostListener('keydown.ArrowUp', ['$event'])\n    @HostListener('keydown.Alt.ArrowUp', ['$event'])\n    onArrowDown(event: Event) {\n        event.preventDefault();\n        this.open();\n    }\n\n    /** @hidden  @internal */\n    @HostListener('keydown.Tab')\n    @HostListener('keydown.Shift.Tab')\n    onTab() {\n        this.close();\n    }\n\n    /** @hidden  @internal */\n    handleKeyDown(event) {\n        if (!this.collapsed) {\n            switch (event.key.toLowerCase()) {\n                case 'space':\n                case 'spacebar':\n                case ' ':\n                case 'home':\n                case 'end':\n                    return;\n                default:\n                    super.handleKeyDown(event);\n            }\n        }\n    }\n\n    /** @hidden  @internal */\n    onArrowDownKeyDown() {\n        super.onArrowDownKeyDown();\n    }\n\n    /** @hidden  @internal */\n    onArrowUpKeyDown() {\n        super.onArrowUpKeyDown();\n    }\n\n    /** @hidden  @internal */\n    onEndKeyDown() {\n        super.onEndKeyDown();\n    }\n\n    /** @hidden  @internal */\n    onHomeKeyDown() {\n        super.onHomeKeyDown();\n    }\n\n    /**\n     * Closes autocomplete drop down\n     */\n    public close() {\n        if (this.collapsed) {\n            return;\n        }\n        this.target.close();\n        this.dropDownOpened$.next();\n    }\n\n    /**\n     * Opens autocomplete drop down\n     */\n    public open() {\n        if (this.disabled || !this.collapsed) {\n            return;\n        }\n        // If no drop-down width is set, the drop-down will be as wide as the autocomplete input;\n        this.target.width = this.target.width || (this.parentElement.clientWidth + 'px');\n        this.target.open(this.settings);\n        this.target.onSelection.pipe(takeUntil(this.dropDownOpened$)).subscribe(this.select);\n        this.target.onOpened.pipe(first()).subscribe(this.highlightFirstItem);\n        this.target.children.changes.pipe(takeUntil(this.dropDownOpened$)).subscribe(this.highlightFirstItem);\n    }\n\n    private get collapsed(): boolean {\n        return this.target ? this.target.collapsed : true;\n    }\n\n    private select = (value: ISelectionEventArgs) => {\n        if (!value.newSelection) {\n            return;\n        }\n        value.cancel = true; // Disable selection in the drop down, because in autocomplete we do not save selection.\n        const newValue = value.newSelection.value;\n        const args: AutocompleteItemSelectionEventArgs = { value: newValue, cancel: false };\n        this.onItemSelected.emit(args);\n        if (args.cancel) {\n            return;\n        }\n        this.close();\n        this.nativeElement.focus();\n\n        // Update model after the input is re-focused, in order to have proper valid styling.\n        // Otherwise when item is selected using mouse (and input is blurred), then valid style will be removed.\n        this.model ? this.model.control.setValue(newValue) : this.nativeElement.value = newValue;\n    }\n\n    private highlightFirstItem = () => {\n        if (this.target.focusedItem) {\n            this.target.focusedItem.focused = false;\n            this.target.focusedItem = null;\n        }\n        this.target.navigateFirst();\n        this.cdr.detectChanges();\n    }\n\n    /** @hidden */\n    public ngOnDestroy() {\n        this.dropDownOpened$.complete();\n    }\n}\n\n/** @hidden */\n@NgModule({\n    imports: [IgxDropDownModule, CommonModule],\n    declarations: [IgxAutocompleteDirective],\n    exports: [IgxAutocompleteDirective]\n})\nexport class IgxAutocompleteModule { }\n","import {\n    Directive,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    Output,\n    NgModule,\n    Renderer2,\n    HostListener,\n    Optional,\n    Inject\n} from '@angular/core';\nimport { DisplayDensityBase, DisplayDensityToken, IDisplayDensityOptions, DisplayDensity } from '../../core/density';\n\n/**\n * The Button directive provides the Ignite UI Button functionality to every component that's intended to be used as a button.\n *\n * @igxModule IgxButtonModule\n *\n * @igxParent Data Entry & Display\n *\n * @igxTheme igx-button-theme\n *\n * @igxKeywords button, span, div, click\n *\n * @remarks\n * The Ignite UI Button directive is intended to be used by any button, span or div and turn it into a fully functional button.\n *\n * @example\n * ```html\n * <button igxButton=\"outlined\">A Button</button>\n * ```\n */\n@Directive({\n    selector: '[igxButton]'\n})\nexport class IgxButtonDirective extends DisplayDensityBase {\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _type: string;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _defaultType = 'flat';\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _cssClassPrefix = 'igx-button';\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _color: string;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _label: string;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _backgroundColor: string;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _disabled: boolean;\n\n    constructor(public element: ElementRef, private _renderer: Renderer2,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(_displayDensityOptions);\n    }\n\n    /**\n     * Returns the underlying DOM element.\n     */\n    public get nativeElement() {\n        return this.element.nativeElement;\n    }\n\n    /**\n     * Called when the button is clicked.\n     */\n    @Output()\n    public buttonClick = new EventEmitter<any>();\n\n    /**\n     * Sets/gets the `role` attribute.\n     *\n     * @example\n     * ```typescript\n     * this.button.role = 'navbutton';\n     * let buttonRole = this.button.role;\n     * ```\n     */\n    @HostBinding('attr.role')\n    public role = 'button';\n\n    /**\n     * Sets the type of the button.\n     *\n     * @example\n     * ```html\n     * <button igxButton=\"icon\"></button>\n     * ```\n     */\n    @Input('igxButton')\n    set type(value: string) {\n        const newValue = value ? value : this._defaultType;\n        if (this._type !== newValue) {\n            this._renderer.removeClass(this.nativeElement, `${this._cssClassPrefix}--${this._type}`);\n            this._type = newValue;\n            this._renderer.addClass(this.nativeElement, `${this._cssClassPrefix}--${this._type}`);\n        }\n    }\n\n    /**\n     * Sets the button text color.\n     *\n     * @example\n     * ```html\n     * <button igxButton=\"gradient\" igxButtonColor=\"blue\"></button>\n     * ```\n     */\n    @Input('igxButtonColor') set color(value: string) {\n        this._color = value || this.nativeElement.style.color;\n        this._renderer.setStyle(this.nativeElement, 'color', this._color);\n    }\n\n    /**\n     * Sets the background color of the button.\n     *\n     * @example\n     *  ```html\n     * <button igxButton=\"raised\" igxButtonBackground=\"red\"></button>\n     * ```\n     */\n    @Input('igxButtonBackground') set background(value: string) {\n        this._backgroundColor = value || this._backgroundColor;\n        this._renderer.setStyle(this.nativeElement, 'background', this._backgroundColor);\n    }\n\n    /**\n     * Sets the `aria-label` attribute.\n     *\n     * @example\n     *  ```html\n     * <button igxButton= \"flat\" igxLabel=\"Label\"></button>\n     * ```\n     */\n    @Input('igxLabel') set label(value: string) {\n        this._label = value || this._label;\n        this._renderer.setAttribute(this.nativeElement, `aria-label`, this._label);\n    }\n\n    /**\n     * Enables/disables the button.\n     *\n     * @example\n     * ```html\n     * <button igxButton= \"fab\" [disabled]=\"true\"></button>\n     * ```\n     */\n    @Input() set disabled(val) {\n        val = !!val;\n        this._disabled = val;\n        if (val) {\n            this._renderer.addClass(this.nativeElement, `${this._cssClassPrefix}--disabled`);\n        } else {\n            this._renderer.removeClass(this.nativeElement, `${this._cssClassPrefix}--disabled`);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-button--cosy')\n    public get cssClassCosy(): boolean {\n        return (this._type === 'flat' || this._type === 'raised' || this._type === 'outlined') &&\n            this.displayDensity === DisplayDensity.cosy;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-button--compact')\n    public get cssClassCompact(): boolean {\n        return (this._type === 'flat' || this._type === 'raised' || this._type === 'outlined') &&\n            this.displayDensity === DisplayDensity.compact;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-button--fab-cosy')\n    public get cssClassCosyFab(): boolean {\n        return this._type === 'fab' && this.displayDensity === DisplayDensity.cosy;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-button--fab-compact')\n    public get cssClassCompactFab(): boolean {\n        return this._type === 'fab' && this.displayDensity === DisplayDensity.compact;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('attr.disabled')\n    public get disabledAttribute() {\n        return this._disabled ? this._disabled : null;\n    }\n\n    /**\n     * Gets or sets whether the button is selected.\n     * Mainly used in the IgxButtonGroup component and it will have no effect if set separately.\n     *\n     * @example\n     * ```html\n     * <button igxButton=\"flat\" [selected]=\"button.selected\"></button>\n     * ```\n     */\n    @Input() public selected = false;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('click', ['$event'])\n    public onClick(ev) {\n        this.buttonClick.emit(ev);\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxButtonDirective],\n    exports: [IgxButtonDirective]\n})\nexport class IgxButtonModule { }\n","import { Directive, HostBinding, NgModule, Input } from '@angular/core';\n\nexport enum IgxDividerType {\n    SOLID = 'solid',\n    DASHED = 'dashed'\n}\n\nlet NEXT_ID = 0;\n\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-divider'\n})\nexport class IgxDividerDirective {\n    /**\n     * Sets/gets the `id` of the divider.\n     * If not set, `id` will have value `\"igx-divider-0\"`;\n     * ```html\n     * <igx-divider id=\"my-divider\"></igx-divider>\n     * ```\n     * ```typescript\n     * let dividerId =  this.divider.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-divider-${NEXT_ID++}`;\n\n\n    /**\n     * An @Input property that sets the value of the `inset` attribute.\n     * If not provided it will be set to `'0'`.\n     * ```html\n     * <igx-divider inset=\"16px\"></igx-divider>\n     * ```\n     */\n    @Input('inset')\n    private _inset = '0';\n\n    /**\n     * An @Input property that sets the value of `role` attribute.\n     * If not the default value of `separator` will be used.\n     */\n    @HostBinding('attr.role')\n    @Input()\n    public role = 'separator';\n\n    /**\n     * Sets the type of the divider. The default value\n     * is `default`. The divider can also be `dashed`;\n     * ```html\n     * <igx-divider type=\"dashed\"></igx-divider>\n     * ```\n     */\n    @HostBinding('class.igx-divider')\n    @Input()\n    public type: IgxDividerType | string = IgxDividerType.SOLID;\n\n    @HostBinding('class.igx-divider--dashed')\n    get isDashed() {\n        return this.type === IgxDividerType.DASHED;\n    }\n\n    /**\n     * An @Input that sets the `middle` attribute of the divider.\n     * If set to `true` and an `inset` value has been provided,\n     * the divider will start shrinking from both ends.\n     * ```html\n     * <igx-divider [middle]=\"true\"></igx-divider>\n     * ```\n     */\n    @HostBinding('class.igx-divider--inset')\n    @Input()\n    public middle = false;\n\n    /**\n     * A getter that returns `true` if the type of the divider is `default`;\n     * ```typescript\n     * const isDefault = this.divider.isDefault;\n     * ```\n     */\n    get isSolid() {\n        return this.type === IgxDividerType.SOLID;\n    }\n\n    /**\n     * An @Input that sets the vertical attribute of the divider.\n     * ```html\n     * <igx-divider [vertical]=\"true\"></igx-divider>\n     * ```\n     */\n    @HostBinding('class.igx-divider--vertical')\n    @Input()\n    public vertical = false;\n\n    /**\n     * Sets the inset of the divider from the side(s).\n     * If the divider attribute `middle` is set to `true`,\n     * it will inset the divider on both sides.\n     * ```typescript\n     * this.divider.inset = '32px';\n     * ```\n     */\n    @HostBinding('style.margin')\n    set inset(value: string) {\n        this._inset = value;\n    }\n\n    /**\n     * Gets the current divider inset in terms of\n     * margin representation as applied to the divider.\n     * ```typescript\n     * const inset = this.divider.inset;\n     * ```\n     */\n    get inset() {\n        const baseMargin = '0';\n\n        if (this.middle) {\n            if (this.vertical) {\n                return `${this._inset} ${baseMargin}`;\n            }\n            return `${baseMargin} ${this._inset}`;\n        } else {\n            if (this.vertical) {\n                return `${this._inset} ${baseMargin} 0 ${baseMargin}`;\n            }\n            return `${baseMargin} 0 ${baseMargin} ${this._inset}`;\n        }\n    }\n}\n\n@NgModule({\n    declarations: [IgxDividerDirective],\n    exports: [IgxDividerDirective]\n})\nexport class IgxDividerModule { }\n","import { Renderer2 } from '@angular/core';\nimport { IgxDragDirective, IgxDropDirective } from './drag-drop.directive';\n\n\nexport interface IDropStrategy {\n    dropAction: (drag: IgxDragDirective, drop: IgxDropDirective, atIndex: number) => void;\n}\n\n// @dynamic\nexport class IgxDefaultDropStrategy implements IDropStrategy {\n\n    dropAction(drag: IgxDragDirective, drop: IgxDropDirective, atIndex: number) { }\n}\n\n// @dynamic\nexport class IgxAppendDropStrategy implements IDropStrategy {\n\n    constructor(private _renderer: Renderer2) { }\n\n    dropAction(drag: IgxDragDirective, drop: IgxDropDirective, atIndex: number) {\n        const dragElement = drag.element.nativeElement;\n        const dropAreaElement = drop.element.nativeElement;\n        this._renderer.removeChild(dragElement.parentNode, dragElement);\n        this._renderer.appendChild(dropAreaElement, dragElement);\n    }\n}\n\n// @dynamic\nexport class IgxPrependDropStrategy implements IDropStrategy {\n\n    constructor(private _renderer: Renderer2) { }\n\n    dropAction(drag: IgxDragDirective, drop: IgxDropDirective, atIndex: number) {\n        const dragElement = drag.element.nativeElement;\n        const dropAreaElement = drop.element.nativeElement;\n        this._renderer.removeChild(dragElement.parentNode, dragElement);\n        if (dropAreaElement.children.length) {\n            this._renderer.insertBefore(dropAreaElement, dragElement, dropAreaElement.children[0]);\n        } else {\n            this._renderer.appendChild(dropAreaElement, dragElement);\n        }\n    }\n}\n\n// @dynamic\nexport class IgxInsertDropStrategy implements IDropStrategy {\n\n    constructor(private _renderer: Renderer2) { }\n\n    dropAction(drag: IgxDragDirective, drop: IgxDropDirective, atIndex: number) {\n        if (drag.element.nativeElement.parentElement === drop.element.nativeElement && atIndex === -1) {\n            return;\n        }\n\n        const dragElement = drag.element.nativeElement;\n        const dropAreaElement = drop.element.nativeElement;\n        this._renderer.removeChild(dragElement.parentNode, dragElement);\n        if (atIndex !== -1 && dropAreaElement.children.length > atIndex) {\n            this._renderer.insertBefore(dropAreaElement, dragElement, dropAreaElement.children[atIndex]);\n        } else {\n            this._renderer.appendChild(dropAreaElement, dragElement);\n        }\n    }\n}\n","import { Directive, ElementRef, HostBinding } from '@angular/core';\n\n@Directive({\n    selector: '[igxDragHandle]'\n})\nexport class IgxDragHandleDirective {\n\n    @HostBinding('class.igx-drag__handle')\n    public baseClass = true;\n\n    constructor(public element: ElementRef<any>) {}\n}\n","import {\n    Directive,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Input,\n    NgModule,\n    NgZone,\n    OnDestroy,\n    OnInit,\n    Output,\n    Renderer2,\n    ChangeDetectorRef,\n    ViewContainerRef,\n    AfterContentInit,\n    TemplateRef,\n    ContentChildren,\n    QueryList\n} from '@angular/core';\nimport { animationFrameScheduler, fromEvent, interval, Subject } from 'rxjs';\nimport { takeUntil, throttle } from 'rxjs/operators';\nimport { IgxDragHandleDirective } from './drag-handle.directive';\nimport { DeprecateProperty } from '../../core/deprecateDecorators';\nimport { IBaseEventArgs } from '../../core/utils';\nimport { IDropStrategy, IgxDefaultDropStrategy } from './drag-drop.strategy';\n\nexport enum RestrictDrag {\n    VERTICALLY,\n    HORIZONTALLY,\n    NONE\n}\n\nexport interface IgxDragCustomEventDetails {\n    startX: number;\n    startY: number;\n    pageX: number;\n    pageY: number;\n    owner: IgxDragDirective;\n    originalEvent: any;\n}\n\nexport interface IDropBaseEventArgs extends IBaseEventArgs {\n        /**\n     * Reference to the original event that caused the draggable element to enter the igxDrop element.\n     * Can be PointerEvent, TouchEvent or MouseEvent.\n     */\n    originalEvent: any;\n    /** The owner igxDrop directive that triggered this event. */\n    owner: IgxDropDirective;\n    /** The igxDrag directive instanced on an element that entered the area of the igxDrop element */\n    drag: IgxDragDirective;\n    /** The data contained for the draggable element in igxDrag directive. */\n    dragData: any;\n    /** The initial position of the pointer on X axis when the dragged element began moving */\n    startX: number;\n    /** The initial position of the pointer on Y axis when the dragged element began moving */\n    startY: number;\n    /**\n     * The current position of the pointer on X axis when the event was triggered.\n     * Note: The browser might trigger the event with some delay and pointer would be already inside the igxDrop.\n     */\n    pageX: number;\n    /**\n     * The current position of the pointer on Y axis when the event was triggered.\n     * Note: The browser might trigger the event with some delay and pointer would be already inside the igxDrop.\n     */\n    pageY: number;\n    /**\n     * The current position of the pointer on X axis relative to the container that initializes the igxDrop.\n     * Note: The browser might trigger the event with some delay and pointer would be already inside the igxDrop.\n     */\n    offsetX: number;\n    /**\n     * The current position of the pointer on Y axis relative to the container that initializes the igxDrop.\n     * Note: The browser might trigger the event with some delay and pointer would be already inside the igxDrop.\n     */\n    offsetY: number;\n}\n\nexport interface IDropDroppedEventArgs extends IDropBaseEventArgs {\n    /** Specifies if the default drop logic related to the event should be canceled. */\n    cancel: boolean;\n}\n\nexport interface IDragBaseEventArgs extends IBaseEventArgs {\n    /**\n     * Reference to the original event that caused the interaction with the element.\n     * Can be PointerEvent, TouchEvent or MouseEvent.\n     */\n    originalEvent: PointerEvent | MouseEvent | TouchEvent;\n    /** The owner igxDrag directive that triggered this event. */\n    owner: IgxDragDirective;\n    /** The initial position of the pointer on X axis when the dragged element began moving */\n    startX: number;\n    /** The initial position of the pointer on Y axis when the dragged element began moving */\n    startY: number;\n    /**\n     * The current position of the pointer on X axis when the event was triggered.\n     * Note: The browser might trigger the event with some delay and pointer would be already inside the igxDrop.\n     */\n    pageX: number;\n        /**\n     * The current position of the pointer on Y axis when the event was triggered.\n     * Note: The browser might trigger the event with some delay and pointer would be already inside the igxDrop.\n     */\n    pageY: number;\n}\n\nexport interface IDragStartEventArgs extends IDragBaseEventArgs {\n    /** Set if the the dragging should be canceled. */\n    cancel: boolean;\n}\n\nexport interface IDragMoveEventArgs extends IDragStartEventArgs {\n    /** The new pageX position of the pointer that the igxDrag will use. It can be overridden to limit dragged element X movement. */\n    nextPageX: number;\n    /** The new pageX position of the pointer that the igxDrag will use. It can be overridden to limit dragged element Y movement. */\n    nextPageY: number;\n}\n\n\nexport interface IDragGhostBaseEventArgs extends IBaseEventArgs {\n    /** The owner igxDrag directive that triggered this event. */\n    owner: IgxDragDirective;\n    /** Instance to the ghost element that is created when dragging starts. */\n    ghostElement: any;\n    /** Set if the ghost creation/destruction should be canceled. */\n    cancel: boolean;\n}\n\nexport interface IDragCustomTransitionArgs {\n    duration?: number;\n    timingFunction?: string;\n    delay?: number;\n}\n\nexport class IgxDragLocation {\n    public pageX: number;\n    public pageY: number;\n\n    constructor(private _pageX, private _pageY) {\n        this.pageX = parseFloat(_pageX);\n        this.pageY = parseFloat(_pageY);\n    }\n}\n\n@Directive({\n    exportAs: 'drag',\n    selector: '[igxDrag]'\n})\nexport class IgxDragDirective implements AfterContentInit, OnDestroy {\n\n    protected ghostContext: any = null;\n\n    /**\n     * - Save data inside the `igxDrag` directive. This can be set when instancing `igxDrag` on an element.\n     * ```html\n     * <div [igxDrag]=\"{ source: myElement }\"></div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input('igxDrag')\n    public data: any;\n\n    /**\n     * An @Input property that indicates when the drag should start.\n     * By default the drag starts after the draggable element is moved by 5px.\n     * ```html\n     * <div igxDrag [dragTolerance]=\"100\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public dragTolerance = 5;\n\n    /**\n     * An @Input property that provide a way for igxDrag and igxDrop to be linked through channels.\n     * It accepts single value or an array of values and evaluates then using strict equality.\n     * ```html\n     * <div igxDrag [dragChannel]=\"'odd'\">\n     *         <span>95</span>\n     * </div>\n     * <div igxDrop [dropChannel]=\"['odd', 'irrational']\">\n     *         <span>Numbers drop area!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public dragChannel: number | string | number[] | string[];\n\n    /**\n     * An @Input property that specifies if the base element should not be moved and a ghost element should be rendered that represents it.\n     * By default it is set to `true`.\n     * If it is set to `false` when dragging the base element is moved instead and no ghost elements are rendered.\n     * ```html\n     * <div igxDrag [ghost]=\"false\">\n     *      <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public ghost = true;\n\n    /**\n     * Sets a custom class that will be added to the `ghostElement` element.\n     * ```html\n     * <div igxDrag [ghostClass]=\"'ghostElement'\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public ghostClass = '';\n\n    /**\n     * @deprecated Please use custom base styling instead.\n     * An @Input property that hides the draggable element.\n     * By default it's set to false.\n     * ```html\n     * <div igxDrag [dragTolerance]=\"100\" [hideBaseOnDrag]=\"'true'\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @DeprecateProperty(`'hideBaseOnDrag' @Input property is deprecated and will be removed in future major versions.\n        Alternatives to it are using the new no ghost dragging and custom base styling.`)\n    @Input()\n    public hideBaseOnDrag = false;\n\n    /**\n     * @deprecated Please use provided transition functions in future.\n     * An @Input property that enables/disables the draggable element animation\n     * when the element is released.\n     * By default it's set to false.\n     * ```html\n     * <div igxDrag [animateOnRelease]=\"'true'\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @DeprecateProperty(`'animateOnRelease' @Input property is deprecated and will be removed in future major versions.\n        Please use 'transitionToOrigin' or 'transitionTo' methods instead.`)\n    @Input()\n    public animateOnRelease = false;\n\n    /**\n     * An @Input property that specifies a template for the ghost element created when dragging starts and `ghost` is true.\n     * By default a clone of the base element the igxDrag is instanced is created.\n     * ```html\n     * <div igxDrag [ghostTemplate]=\"customGhost\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * <ng-template #customGhost>\n     *      <div class=\"customGhostStyle\">\n     *          <span>I am being dragged!</span>\n     *      </div>\n     * </ng-template>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public ghostTemplate: TemplateRef<any>;\n\n    /**\n     * An @Input property that sets the element to which the dragged element will be appended.\n     * By default it's set to null and the dragged element is appended to the body.\n     * ```html\n     * <div #hostDiv></div>\n     * <div igxDrag [ghostHost]=\"hostDiv\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public ghostHost;\n\n    /**\n     * An @Input property that specifies the offset of the dragged element relative to the mouse in pixels.\n     * By default it's taking the relative position to the mouse when the drag started and keeps it the same.\n     * ```html\n     * <div #hostDiv></div>\n     * <div igxDrag [ghostOffsetX]=\"0\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public set ghostOffsetX(value) {\n        this._offsetX = parseInt(value, 10);\n    }\n\n    public get ghostOffsetX() {\n        return this._offsetX !== undefined ? this._offsetX : this._defaultOffsetX;\n    }\n\n    /**\n     * An @Input property that specifies the offset of the dragged element relative to the mouse in pixels.\n     * By default it's taking the relative position to the mouse when the drag started and keeps it the same.\n     * ```html\n     * <div #hostDiv></div>\n     * <div igxDrag [ghostOffsetY]=\"0\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Input()\n    public set ghostOffsetY(value) {\n        this._offsetY = parseInt(value, 10);\n    }\n\n    public get ghostOffsetY() {\n        return this._offsetY !== undefined ? this._offsetY : this._defaultOffsetY ;\n    }\n\n    /**\n     * Event triggered when the draggable element drag starts.\n     * ```html\n     * <div igxDrag (dragStart)=\"onDragStart()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public onDragStart(){\n     *      alert(\"The drag has stared!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public dragStart = new EventEmitter<IDragStartEventArgs>();\n\n    /**\n     * Event triggered when the draggable element has been moved.\n     * ```html\n     * <div igxDrag  (dragMove)=\"onDragMove()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public onDragMove(){\n     *      alert(\"The element has moved!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public dragMove = new EventEmitter<IDragMoveEventArgs>();\n\n    /**\n     * Event triggered when the draggable element is released.\n     * ```html\n     * <div igxDrag (dragEnd)=\"onDragEnd()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public onDragEnd(){\n     *      alert(\"The drag has ended!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public dragEnd = new EventEmitter<IDragBaseEventArgs>();\n\n    /**\n     * Event triggered when the draggable element is clicked.\n     * ```html\n     * <div igxDrag (dragClick)=\"onDragClick()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public onDragClick(){\n     *      alert(\"The element has been clicked!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public dragClick = new EventEmitter<IDragBaseEventArgs>();\n\n    /**\n     * Event triggered when the drag ghost element is created.\n     * ```html\n     * <div igxDrag (ghostCreate)=\"ghostCreated()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public ghostCreated(){\n     *      alert(\"The ghost has been created!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public ghostCreate = new EventEmitter<IDragGhostBaseEventArgs>();\n\n    /**\n     * Event triggered when the drag ghost element is created.\n     * ```html\n     * <div igxDrag (ghostDestroy)=\"ghostDestroyed()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public ghostDestroyed(){\n     *      alert(\"The ghost has been destroyed!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public ghostDestroy = new EventEmitter<IDragGhostBaseEventArgs>();\n\n    /**\n     * Event triggered after the draggable element is released and after its animation has finished.\n     * ```html\n     * <div igxDrag (transitioned)=\"onMoveEnd()\">\n     *         <span>Drag Me!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * public onMoveEnd(){\n     *      alert(\"The move has ended!\");\n     * }\n     * ```\n     * @memberof IgxDragDirective\n     */\n    @Output()\n    public transitioned = new EventEmitter<IDragBaseEventArgs>();\n\n    /**\n     * @hidden\n     */\n    @ContentChildren(IgxDragHandleDirective)\n    public dragHandles: QueryList<IgxDragHandleDirective>;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.visibility')\n    public _visibility = 'visible';\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-drag')\n    public baseClass = true;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-drag--select-disabled')\n    public selectDisabled = false;\n\n    /**\n     * @deprecated Please use native angular ways of hiding it using custom to the base element styling for future versions.\n     * Sets the visibility of the draggable element.\n     * ```typescript\n     * @ViewChild(\"myDrag\" ,{read: IgxDragDirective})\n     * public myDrag: IgxDragDirective;\n     * ngAfterViewInit(){\n     *     this.myDrag.visible = false;\n     * }\n     * ```\n     */\n    @DeprecateProperty(`'visible' @Input property is deprecated and will be removed in future major versions.\n        Please use native angular ways of hiding the base element using styling.`)\n    public set visible(bVisible) {\n        this._visibility = bVisible ? 'visible' : 'hidden';\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Returns the visibility state of the draggable element.\n     * ```typescript\n     * @ViewChild(\"myDrag\" ,{read: IgxDragDirective})\n     * public myDrag: IgxDragDirective;\n     * ngAfterViewInit(){\n     *     let dragVisibility = this.myDrag.visible;\n     * }\n     * ```\n     */\n    public get visible() {\n        return this._visibility === 'visible';\n    }\n\n    /**\n     * Gets the current location of the element relative to the page.\n     */\n    public get location(): IgxDragLocation {\n        return new IgxDragLocation(this.pageX, this.pageY);\n    }\n\n    /**\n     * Gets the original location of the element before dragging started.\n     */\n    public get originLocation(): IgxDragLocation {\n        return new IgxDragLocation(this.baseOriginLeft, this.baseOriginTop);\n    }\n\n    /**\n     * @hidden\n     */\n    public get pointerEventsEnabled() {\n        return typeof PointerEvent !== 'undefined';\n    }\n\n    /**\n     * @hidden\n     */\n    public get touchEventsEnabled() {\n        return 'ontouchstart' in window;\n    }\n\n    /**\n     * @hidden\n     */\n    public get pageX() {\n        if (this.ghost && this.ghostElement) {\n            return this.ghostLeft;\n        }\n        return this.baseLeft;\n    }\n\n    /**\n     * @hidden\n     */\n    public get pageY() {\n        if (this.ghost && this.ghostElement) {\n            return this.ghostTop;\n        }\n        return this.baseTop;\n    }\n\n    protected get baseLeft(): number {\n        return this.element.nativeElement.getBoundingClientRect().left;\n    }\n\n    protected get baseTop(): number {\n        return this.element.nativeElement.getBoundingClientRect().top;\n    }\n\n    protected get baseOriginLeft(): number {\n        return this.baseLeft - this.getTransformX(this.element.nativeElement);\n    }\n\n    protected get baseOriginTop(): number {\n        return this.baseTop - this.getTransformY(this.element.nativeElement);\n    }\n\n    protected set ghostLeft(pageX: number) {\n        if (this.ghostElement) {\n            // We need to take into account marginLeft, since top style does not include margin, but pageX includes the margin.\n            const ghostMarginLeft = parseInt(document.defaultView.getComputedStyle(this.ghostElement)['margin-left'], 10);\n            // If ghost host is defined it needs to be taken into account.\n            this.ghostElement.style.left = (pageX - ghostMarginLeft - this._ghostHostX) + 'px';\n        }\n    }\n\n    protected get ghostLeft() {\n        return parseInt(this.ghostElement.style.left, 10) + this._ghostHostX;\n    }\n\n    protected set ghostTop(pageY: number) {\n        if (this.ghostElement) {\n            // We need to take into account marginTop, since top style does not include margin, but pageY includes the margin.\n            const ghostMarginTop = parseInt(document.defaultView.getComputedStyle(this.ghostElement)['margin-top'], 10);\n            // If ghost host is defined it needs to be taken into account.\n            this.ghostElement.style.top = (pageY - ghostMarginTop - this._ghostHostY) + 'px';\n        }\n    }\n\n    protected get ghostTop() {\n        return parseInt(this.ghostElement.style.top, 10) + this._ghostHostY;\n    }\n\n    /**\n     * @hidden\n     */\n    public defaultReturnDuration = '0.5s';\n\n    /**\n     * @hidden\n     */\n    public ghostElement;\n\n    /**\n     * @hidden\n     */\n    public animInProgress = false;\n\n    protected _startX = 0;\n    protected _startY = 0;\n    protected _lastX = 0;\n    protected _lastY = 0;\n    protected _dragStarted = false;\n\n    /** Drag ghost related properties */\n    protected _defaultOffsetX;\n    protected _defaultOffsetY;\n    protected _offsetX;\n    protected _offsetY;\n    protected _ghostStartX;\n    protected _ghostStartY;\n    protected _ghostHostX = 0;\n    protected _ghostHostY = 0;\n\n    protected _pointerDownId = null;\n    protected _clicked = false;\n    protected _lastDropArea = null;\n\n    protected _destroy = new Subject<boolean>();\n    protected _removeOnDestroy = true;\n\n    constructor(\n        public cdr: ChangeDetectorRef,\n        public element: ElementRef,\n        public viewContainer: ViewContainerRef,\n        public zone: NgZone,\n        public renderer: Renderer2\n    ) {\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterContentInit() {\n        if (!this.dragHandles || !this.dragHandles.length ) {\n            // Set user select none to the whole draggable element if no drag handles are defined.\n            this.selectDisabled = true;\n        }\n\n        // Bind events\n        this.zone.runOutsideAngular(() => {\n            const targetElements = this.dragHandles && this.dragHandles.length ?\n                this.dragHandles.map((item) => item.element.nativeElement) : [this.element.nativeElement];\n            targetElements.forEach((element) => {\n                if (this.pointerEventsEnabled) {\n                    fromEvent(element, 'pointerdown').pipe(takeUntil(this._destroy))\n                    .subscribe((res) => this.onPointerDown(res));\n\n                    fromEvent(element, 'pointermove').pipe(\n                        throttle(() => interval(0, animationFrameScheduler)),\n                        takeUntil(this._destroy)\n                    ).subscribe((res) => this.onPointerMove(res));\n\n                    fromEvent(element, 'pointerup').pipe(takeUntil(this._destroy))\n                        .subscribe((res) => this.onPointerUp(res));\n\n                    if (!this.ghost) {\n                        // Do not bind `lostpointercapture` to the target, because we will bind it on the ghost later.\n                        fromEvent(element, 'lostpointercapture').pipe(takeUntil(this._destroy))\n                        .subscribe((res) => this.onPointerLost(res));\n                    }\n                } else if (this.touchEventsEnabled) {\n                    fromEvent(element, 'touchstart').pipe(takeUntil(this._destroy))\n                    .subscribe((res) => this.onPointerDown(res));\n                } else {\n                    // We don't have pointer events and touch events. Use then mouse events.\n                    fromEvent(element, 'mousedown').pipe(takeUntil(this._destroy))\n                    .subscribe((res) => this.onPointerDown(res));\n                }\n            });\n\n            // We should bind to document events only once when there are no pointer events.\n            if (!this.pointerEventsEnabled && this.touchEventsEnabled) {\n                fromEvent(document.defaultView, 'touchmove').pipe(\n                    throttle(() => interval(0, animationFrameScheduler)),\n                    takeUntil(this._destroy)\n                ).subscribe((res) => this.onPointerMove(res));\n\n                fromEvent(document.defaultView, 'touchend').pipe(takeUntil(this._destroy))\n                    .subscribe((res) => this.onPointerUp(res));\n            } else if (!this.pointerEventsEnabled) {\n                fromEvent(document.defaultView, 'mousemove').pipe(\n                    throttle(() => interval(0, animationFrameScheduler)),\n                    takeUntil(this._destroy)\n                ).subscribe((res) => this.onPointerMove(res));\n\n                fromEvent(document.defaultView, 'mouseup').pipe(takeUntil(this._destroy))\n                    .subscribe((res) => this.onPointerUp(res));\n            }\n\n            this.element.nativeElement.addEventListener('transitionend', (args) => {\n                this.onTransitionEnd(args);\n            });\n        });\n\n        // Set transition duration to 0s. This also helps with setting `visibility: hidden` to the base to not lag.\n        this.element.nativeElement.style.transitionDuration = '0.0s';\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this._destroy.next(true);\n        this._destroy.complete();\n\n        if (this.ghost && this.ghostElement && this._removeOnDestroy) {\n            this.ghostElement.parentNode.removeChild(this.ghostElement);\n            this.ghostElement = null;\n        }\n    }\n\n    /**\n     * Sets desired location of the base element or ghost element if rended relative to the document.\n     * @param newLocation New location that should be applied. It is advised to get new location using getBoundingClientRects() + scroll.\n     */\n    public setLocation(newLocation: IgxDragLocation) {\n        // We do not subtract marginLeft and marginTop here because here we calculate deltas.\n        if (this.ghost && this.ghostElement) {\n            const offsetHostX = this.ghostHost ? this.ghostHostOffsetLeft(this.ghostHost) : 0;\n            const offsetHostY = this.ghostHost ? this.ghostHostOffsetTop(this.ghostHost) : 0;\n            this.ghostLeft = newLocation.pageX - offsetHostX + this.getWindowScrollLeft();\n            this.ghostTop = newLocation.pageY - offsetHostY + this.getWindowScrollTop();\n        } else if (!this.ghost) {\n            const deltaX = newLocation.pageX - this.pageX;\n            const deltaY = newLocation.pageY - this.pageY;\n            const transformX = this.getTransformX(this.element.nativeElement);\n            const transformY = this.getTransformY(this.element.nativeElement);\n            this.setTransformXY(transformX + deltaX, transformY + deltaY);\n        }\n\n        this._startX = this.baseLeft;\n        this._startY = this.baseTop;\n    }\n\n    /**\n     * Animates the base or ghost element depending on the `ghost` input to its initial location.\n     * If `ghost` is true but there is not ghost rendered, it will be created and animated.\n     * If the base element has changed its DOM position its initial location will be changed accordingly.\n     * @param customAnimArgs Custom transition properties that will be applied when performing the transition.\n     * @param startLocation Start location from where the transition should start.\n     */\n    public transitionToOrigin(customAnimArgs?: IDragCustomTransitionArgs, startLocation?: IgxDragLocation) {\n        if ((!!startLocation && startLocation.pageX === this.baseOriginLeft && startLocation.pageY === this.baseOriginLeft) ||\n            (!startLocation && this.ghost && !this.ghostElement)) {\n            return;\n        }\n\n        if (!!startLocation && startLocation.pageX !== this.pageX && startLocation.pageY !== this.pageY) {\n            if (this.ghost && !this.ghostElement) {\n                this._startX = startLocation.pageX;\n                this._startY = startLocation.pageY;\n                this._ghostStartX = this._startX;\n                this._ghostStartY = this._startY;\n                this.createGhost(this._startX, this._startY);\n            }\n\n            this.setLocation(startLocation);\n        }\n\n        this.animInProgress = true;\n        // Use setTimeout because we need to be sure that the element is positioned first correctly if there is start location.\n        setTimeout(() => {\n            if (this.ghost) {\n                this.ghostElement.style.transitionProperty = 'top, left';\n                this.ghostElement.style.transitionDuration =\n                    customAnimArgs && customAnimArgs.duration ? customAnimArgs.duration + 's' : this.defaultReturnDuration ;\n                this.ghostElement.style.transitionTimingFunction =\n                    customAnimArgs && customAnimArgs.timingFunction ? customAnimArgs.timingFunction : '';\n                this.ghostElement.style.transitionDelay = customAnimArgs && customAnimArgs.delay ? customAnimArgs.delay + 's' : '';\n                this.setLocation(new IgxDragLocation(this.baseLeft, this.baseTop));\n            } else if (!this.ghost) {\n                this.element.nativeElement.style.transitionProperty = 'transform';\n                this.element.nativeElement.style.transitionDuration =\n                    customAnimArgs && customAnimArgs.duration ? customAnimArgs.duration + 's' : this.defaultReturnDuration ;\n                this.element.nativeElement.style.transitionTimingFunction =\n                    customAnimArgs && customAnimArgs.timingFunction ? customAnimArgs.timingFunction : '';\n                this.element.nativeElement.style.transitionDelay = customAnimArgs && customAnimArgs.delay ? customAnimArgs.delay + 's' : '';\n                this._startX = this.baseLeft;\n                this._startY = this.baseTop;\n                this.setTransformXY(0, 0);\n            }\n        }, 0);\n    }\n\n    /**\n     * Animates the base or ghost element to a specific target location or other element using transition.\n     * If `ghost` is true but there is not ghost rendered, it will be created and animated.\n     * It is recommended to use 'getBoundingClientRects() + pageScroll' when determining desired location.\n     * @param target Target that the base or ghost will transition to. It can be either location in the page or another HTML element.\n     * @param customAnimArgs Custom transition properties that will be applied when performing the transition.\n     * @param startLocation Start location from where the transition should start.\n     */\n    public transitionTo(target: IgxDragLocation | ElementRef, customAnimArgs?: IDragCustomTransitionArgs, startLocation?: IgxDragLocation) {\n        if (!!startLocation && this.ghost && !this.ghostElement) {\n            this._startX = startLocation.pageX;\n            this._startY = startLocation.pageY;\n            this._ghostStartX = this._startX;\n            this._ghostStartY = this._startY;\n        } else if (!!startLocation && (!this.ghost || this.ghostElement)) {\n            this.setLocation(startLocation);\n        } else if (this.ghost && !this.ghostElement) {\n            this._startX = this.baseLeft;\n            this._startY = this.baseTop;\n            this._ghostStartX = this._startX + this.getWindowScrollLeft();\n            this._ghostStartY = this._startY + this.getWindowScrollTop();\n        }\n\n        if (this.ghost && !this.ghostElement) {\n            this.createGhost(this._startX, this._startY);\n        }\n\n        this.animInProgress = true;\n        // Use setTimeout because we need to be sure that the element is positioned first correctly if there is start location.\n        setTimeout(() => {\n            const movedElem = this.ghost ? this.ghostElement : this.element.nativeElement;\n            movedElem.style.transitionProperty = this.ghost && this.ghostElement ? 'left, top' : 'transform';\n            movedElem.style.transitionDuration =\n                customAnimArgs && customAnimArgs.duration ? customAnimArgs.duration + 's' : this.defaultReturnDuration ;\n            movedElem.style.transitionTimingFunction =\n                customAnimArgs && customAnimArgs.timingFunction ? customAnimArgs.timingFunction : '';\n            movedElem.style.transitionDelay = customAnimArgs && customAnimArgs.delay ? customAnimArgs.delay + 's' : '';\n\n            if (target instanceof IgxDragLocation) {\n                this.setLocation(new IgxDragLocation (target.pageX, target.pageY));\n            } else {\n                const targetRects = target.nativeElement.getBoundingClientRect();\n                this.setLocation(new IgxDragLocation(\n                    targetRects.left -  this.getWindowScrollLeft(),\n                    targetRects.top - this.getWindowScrollTop()\n                ));\n            }\n        }, 0);\n    }\n\n    /**\n     * @hidden\n     * Method bound to the PointerDown event of the base element igxDrag is initialized.\n     * @param event PointerDown event captured\n     */\n    public onPointerDown(event) {\n        this._clicked = true;\n        this._pointerDownId = event.pointerId;\n\n        // Set pointer capture so we detect pointermove even if mouse is out of bounds until ghostElement is created.\n        const handleFound = this.dragHandles.find(handle => handle.element.nativeElement === event.currentTarget);\n        const targetElement = handleFound ? handleFound.element.nativeElement : this.element.nativeElement;\n        if (this.pointerEventsEnabled) {\n            targetElement.setPointerCapture(this._pointerDownId);\n        } else {\n            targetElement.focus();\n            event.preventDefault();\n        }\n\n        if (this.pointerEventsEnabled || !this.touchEventsEnabled) {\n            // Check first for pointer events or non touch, because we can have pointer events and touch events at once.\n            this._startX = event.pageX;\n            this._startY = event.pageY;\n        } else if (this.touchEventsEnabled) {\n            this._startX = event.touches[0].pageX;\n            this._startY = event.touches[0].pageY;\n        }\n\n        this._defaultOffsetX = this.baseLeft - this._startX + this.getWindowScrollLeft();\n        this._defaultOffsetY = this.baseTop - this._startY + this.getWindowScrollTop();\n        this._ghostStartX = this._startX + this.ghostOffsetX;\n        this._ghostStartY = this._startY + this.ghostOffsetY;\n        this._lastX = this._startX;\n        this._lastY = this._startY;\n    }\n\n    /**\n     * @hidden\n     * Perform drag move logic when dragging and dispatching events if there is igxDrop under the pointer.\n     * This method is bound at first at the base element.\n     * If dragging starts and after the ghostElement is rendered the pointerId is reassigned it. Then this method is bound to it.\n     * @param event PointerMove event captured\n     */\n    public onPointerMove(event) {\n        if (this._clicked) {\n            let pageX, pageY;\n            if (this.pointerEventsEnabled || !this.touchEventsEnabled) {\n                // Check first for pointer events or non touch, because we can have pointer events and touch events at once.\n                pageX = event.pageX;\n                pageY = event.pageY;\n            } else if (this.touchEventsEnabled) {\n                pageX = event.touches[0].pageX;\n                pageY = event.touches[0].pageY;\n\n                // Prevent scrolling on touch while dragging\n                event.preventDefault();\n            }\n\n            const totalMovedX = pageX - this._startX;\n            const totalMovedY = pageY - this._startY;\n            if (!this._dragStarted &&\n                (Math.abs(totalMovedX) > this.dragTolerance || Math.abs(totalMovedY) > this.dragTolerance)) {\n                const dragStartArgs: IDragStartEventArgs = {\n                    originalEvent: event,\n                    owner: this,\n                    startX: pageX - totalMovedX,\n                    startY: pageY - totalMovedY,\n                    pageX: pageX,\n                    pageY: pageY,\n                    cancel: false\n                };\n                this.zone.run(() => {\n                    this.dragStart.emit(dragStartArgs);\n                });\n\n                if (!dragStartArgs.cancel) {\n                    this._dragStarted = true;\n                    if (this.ghost) {\n                        // We moved enough so ghostElement can be rendered and actual dragging to start.\n                        // When creating it will take into account any offset set by the user by default.\n                        this.createGhost(pageX, pageY);\n                    } else if (this._offsetX !== undefined || this._offsetY !== undefined) {\n                        // There is no need for ghost, but we will need to position initially the base element to reflect any offset.\n                        const transformX = (this._offsetX !== undefined ? this._offsetX - this._defaultOffsetX : 0) +\n                            this.getTransformX(this.element.nativeElement);\n                        const transformY = (this._offsetY !== undefined ? this._offsetY - this._defaultOffsetY : 0) +\n                            this.getTransformY(this.element.nativeElement);\n                        this.setTransformXY(transformX, transformY);\n                    }\n                } else {\n                    return;\n                }\n            } else if (!this._dragStarted) {\n                return;\n            }\n\n            const moveArgs: IDragMoveEventArgs = {\n                originalEvent: event,\n                owner: this,\n                startX: this._startX,\n                startY: this._startY,\n                pageX: this._lastX,\n                pageY: this._lastY,\n                nextPageX: pageX,\n                nextPageY: pageY,\n                cancel: false\n            };\n            this.dragMove.emit(moveArgs);\n\n            const setPageX = moveArgs.nextPageX;\n            const setPageY = moveArgs.nextPageY;\n            const updatedMovedX = setPageX - this._startX;\n            const updatedMovedY = setPageY - this._startY;\n\n            if (!moveArgs.cancel) {\n                if (this.ghost) {\n                    this.ghostLeft = this._ghostStartX + updatedMovedX;\n                    this.ghostTop = this._ghostStartY + updatedMovedY;\n                } else {\n                    const lastMovedX = setPageX - this._lastX;\n                    const lastMovedY = setPageY - this._lastY;\n                    const translateX = this.getTransformX(this.element.nativeElement) + lastMovedX;\n                    const translateY = this.getTransformY(this.element.nativeElement) + lastMovedY;\n                    this.setTransformXY(translateX, translateY);\n                }\n                this.dispatchDragEvents(pageX, pageY, event);\n            }\n\n            this._lastX = setPageX;\n            this._lastY = setPageY;\n        }\n    }\n\n    /**\n     * @hidden\n     * Perform drag end logic when releasing the ghostElement and dispatching drop event if igxDrop is under the pointer.\n     * This method is bound at first at the base element.\n     * If dragging starts and after the ghostElement is rendered the pointerId is reassigned to it. Then this method is bound to it.\n     * @param event PointerUp event captured\n     */\n    public onPointerUp(event) {\n        if (!this._clicked) {\n            return;\n        }\n\n        let pageX, pageY;\n        if (this.pointerEventsEnabled || !this.touchEventsEnabled) {\n            // Check first for pointer events or non touch, because we can have pointer events and touch events at once.\n            pageX = event.pageX;\n            pageY = event.pageY;\n        } else if (this.touchEventsEnabled) {\n            pageX = event.touches[0].pageX;\n            pageY = event.touches[0].pageY;\n\n            // Prevent scrolling on touch while dragging\n            event.preventDefault();\n        }\n\n        const eventArgs: IDragBaseEventArgs = {\n            originalEvent: event,\n            owner: this,\n            startX: this._startX,\n            startY: this._startY,\n            pageX: pageX,\n            pageY: pageY\n        };\n        this._pointerDownId = null;\n        this._clicked = false;\n        if (this._dragStarted) {\n            if (this._lastDropArea && this._lastDropArea !== this.element.nativeElement ) {\n                this.dispatchDropEvent(event.pageX, event.pageY, event);\n            } else if (this.animateOnRelease) {\n                this.transitionToOrigin();\n            }\n\n            this.zone.run(() => {\n                this.dragEnd.emit(eventArgs);\n            });\n\n            if (!this.animInProgress) {\n                this.onTransitionEnd(null);\n            }\n        } else {\n            // Trigger our own click event because when there is no ghost, native click cannot be prevented when dragging.\n            this.zone.run(() => {\n                this.dragClick.emit(eventArgs);\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * Execute this method whe the pointer capture has been lost.\n     * This means that during dragging the user has performed other action like right clicking and then clicking somewhere else.\n     * This method will ensure that the drag state is being reset in this case as if the user released the dragged element.\n     * @param event Event captured\n     */\n    public onPointerLost(event) {\n        if (!this._clicked) {\n            return;\n        }\n\n        const eventArgs = {\n            originalEvent: event,\n            owner: this,\n            startX: this._startX,\n            startY: this._startY,\n            pageX: event.pageX,\n            pageY: event.pageY\n        };\n        this._pointerDownId = null;\n        this._clicked = false;\n        if (this._dragStarted) {\n            this.zone.run(() => {\n                this.dragEnd.emit(eventArgs);\n            });\n            if (this.animateOnRelease) {\n                this.transitionToOrigin();\n            } else if (!this.animInProgress) {\n                this.onTransitionEnd(null);\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     * Create ghost element - if a Node object is provided it creates a clone of that node,\n     * otherwise it clones the host element.\n     * Bind all needed events.\n     * @param pageX Latest pointer position on the X axis relative to the page.\n     * @param pageY Latest pointer position on the Y axis relative to the page.\n     * @param node The Node object to be cloned.\n     */\n    protected createGhost(pageX, pageY, node: any = null) {\n        if (!this.ghost) {\n            return;\n        }\n\n        let dynamicGhostRef;\n        if (this.ghostTemplate) {\n            dynamicGhostRef = this.viewContainer.createEmbeddedView(this.ghostTemplate, this.ghostContext);\n            this.ghostElement = dynamicGhostRef.rootNodes[0];\n        } else {\n            this.ghostElement = node ? node.cloneNode(true) : this.element.nativeElement.cloneNode(true);\n        }\n\n        const totalMovedX = pageX - this._startX;\n        const totalMovedY = pageY - this._startY;\n        this._ghostHostX = this.ghostHost ? this.ghostHostOffsetLeft(this.ghostHost) : 0;\n        this._ghostHostY = this.ghostHost ? this.ghostHostOffsetTop(this.ghostHost) : 0;\n\n        this.ghostElement.style.transitionDuration = '0.0s';\n        this.ghostElement.style.position = 'absolute';\n\n\n        if (this.ghostClass) {\n            this.renderer.addClass(this.ghostElement, this.ghostClass);\n        }\n\n        const createEventArgs = {\n            owner: this,\n            ghostElement: this.ghostElement,\n            cancel: false\n        };\n        this.ghostCreate.emit(createEventArgs);\n        if (createEventArgs.cancel) {\n            this.ghostElement = null;\n            if (this.ghostTemplate && dynamicGhostRef) {\n                dynamicGhostRef.destroy();\n            }\n            return;\n        }\n\n        if (this.ghostHost) {\n            this.ghostHost.appendChild(this.ghostElement);\n        } else {\n            document.body.appendChild(this.ghostElement);\n        }\n\n        const ghostMarginLeft = parseInt(document.defaultView.getComputedStyle(this.ghostElement)['margin-left'], 10);\n        const ghostMarginTop = parseInt(document.defaultView.getComputedStyle(this.ghostElement)['margin-top'], 10);\n        this.ghostElement.style.left = (this._ghostStartX - ghostMarginLeft + totalMovedX - this._ghostHostX) + 'px';\n        this.ghostElement.style.top = (this._ghostStartY - ghostMarginTop + totalMovedY - this._ghostHostX) + 'px';\n\n        if (this.pointerEventsEnabled) {\n            // The ghostElement takes control for moving and dragging after it has been rendered.\n            if (this._pointerDownId !== null) {\n                this.ghostElement.setPointerCapture(this._pointerDownId);\n            }\n            this.ghostElement.addEventListener('pointermove', (args) => {\n                this.onPointerMove(args);\n            });\n            this.ghostElement.addEventListener('pointerup', (args) => {\n                this.onPointerUp(args);\n            });\n            this.ghostElement.addEventListener('lostpointercapture', (args) => {\n                this.onPointerLost(args);\n            });\n        }\n\n        // Transition animation when the ghostElement is released and it returns to it's original position.\n        this.ghostElement.addEventListener('transitionend', (args) => {\n            this.onTransitionEnd(args);\n        });\n\n        // Hide the base after the ghostElement is created, because otherwise the ghostElement will be not visible.\n        if (this.hideBaseOnDrag) {\n            this.visible = false;\n        }\n\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * @hidden\n     * Dispatch custom igxDragEnter/igxDragLeave events based on current pointer position and if drop area is under.\n     */\n    protected dispatchDragEvents(pageX: number, pageY: number, originalEvent) {\n        let topDropArea;\n        const customEventArgs: IgxDragCustomEventDetails = {\n            startX: this._startX,\n            startY: this._startY,\n            pageX: pageX,\n            pageY: pageY,\n            owner: this,\n            originalEvent: originalEvent\n        };\n\n        const elementsFromPoint = this.getElementsAtPoint(pageX, pageY);\n        for (let i = 0; i < elementsFromPoint.length; i++) {\n            if (elementsFromPoint[i].getAttribute('droppable') === 'true' &&\n                elementsFromPoint[i] !== this.ghostElement && elementsFromPoint[i] !== this.element.nativeElement) {\n                topDropArea = elementsFromPoint[i];\n                break;\n            }\n        }\n\n        if (topDropArea &&\n            (!this._lastDropArea || (this._lastDropArea && this._lastDropArea !== topDropArea))) {\n                if (this._lastDropArea) {\n                    this.dispatchEvent(this._lastDropArea, 'igxDragLeave', customEventArgs);\n                }\n\n                this._lastDropArea = topDropArea;\n                this.dispatchEvent(this._lastDropArea, 'igxDragEnter', customEventArgs);\n            } else if (!topDropArea && this._lastDropArea) {\n                this.dispatchEvent(this._lastDropArea, 'igxDragLeave', customEventArgs);\n                this._lastDropArea = null;\n                return;\n            }\n\n        if (topDropArea) {\n            this.dispatchEvent(topDropArea, 'igxDragOver', customEventArgs);\n        }\n    }\n\n    /**\n     * @hidden\n     * Dispatch custom igxDrop event based on current pointer position if there is last recorder drop area under the pointer.\n     * Last recorder drop area is updated in @dispatchDragEvents method.\n     */\n    protected dispatchDropEvent(pageX: number, pageY: number, originalEvent) {\n        const eventArgs: IgxDragCustomEventDetails = {\n            startX: this._startX,\n            startY: this._startY,\n            pageX: pageX,\n            pageY: pageY,\n            owner: this,\n            originalEvent: originalEvent\n        };\n\n        this.dispatchEvent(this._lastDropArea, 'igxDrop', eventArgs);\n        this.dispatchEvent(this._lastDropArea, 'igxDragLeave', eventArgs);\n        this._lastDropArea = null;\n    }\n\n    /**\n     * @hidden\n     */\n    public onTransitionEnd(event) {\n        if ((!this._dragStarted && !this.animInProgress) || this._clicked) {\n            // Return if no dragging started and there is no animation in progress.\n            return ;\n        }\n\n        if (this.ghost && this.ghostElement) {\n            this._ghostStartX = this.baseLeft + this.getWindowScrollLeft();\n            this._ghostStartY = this.baseTop + this.getWindowScrollTop();\n\n            const ghostDestroyArgs: IDragGhostBaseEventArgs = {\n                owner: this,\n                ghostElement: this.ghostElement,\n                cancel: false\n            };\n            this.ghostDestroy.emit(ghostDestroyArgs);\n            if (ghostDestroyArgs.cancel) {\n                return;\n            }\n\n            if (this.hideBaseOnDrag) {\n                this.visible = true;\n            }\n            this.ghostElement.parentNode.removeChild(this.ghostElement);\n            this.ghostElement = null;\n        } else if (!this.ghost) {\n            this.element.nativeElement.style.transitionProperty = '';\n            this.element.nativeElement.style.transitionDuration = '0.0s';\n            this.element.nativeElement.style.transitionTimingFunction = '';\n            this.element.nativeElement.style.transitionDelay = '';\n        }\n        this.animInProgress = false;\n        this._dragStarted = false;\n\n        // Execute transitioned after everything is reset so if the user sets new location on the base now it would work as expected.\n        this.zone.run(() => {\n            this.transitioned.emit({\n                originalEvent: event,\n                owner: this,\n                startX: this._startX,\n                startY: this._startY,\n                pageX: this._startX,\n                pageY: this._startY\n            });\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    protected getElementsAtPoint(pageX: number, pageY: number) {\n        // correct the coordinates with the current scroll position, because\n        // document.elementsFromPoint consider position within the current viewport\n        // window.pageXOffset == window.scrollX; // always true\n        // using window.pageXOffset for IE9 compatibility\n        const viewPortX = pageX - window.pageXOffset;\n        const viewPortY = pageY - window.pageYOffset;\n        if (document['msElementsFromPoint']) {\n            // Edge and IE special snowflakes\n            const elements = document['msElementsFromPoint'](viewPortX, viewPortY);\n            return elements === null ? [] : elements;\n        } else {\n            // Other browsers like Chrome, Firefox, Opera\n            return document.elementsFromPoint(viewPortX, viewPortY);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected dispatchEvent(target, eventName: string, eventArgs: IgxDragCustomEventDetails) {\n        // This way is IE11 compatible.\n        const dragLeaveEvent = document.createEvent('CustomEvent');\n        dragLeaveEvent.initCustomEvent(eventName, false, false, eventArgs);\n        target.dispatchEvent(dragLeaveEvent);\n        // Otherwise can be used `target.dispatchEvent(new CustomEvent(eventName, eventArgs));`\n    }\n\n    protected getTransformX(elem) {\n        let posX = 0;\n        if (elem.style.transform) {\n            const matrix = elem.style.transform;\n            const values = matrix ? matrix.match(/-?[\\d\\.]+/g) : undefined;\n            posX = values ? Number(values[ 1 ]) : 0;\n        }\n\n        return posX;\n    }\n\n    protected getTransformY(elem) {\n        let posY = 0;\n        if (elem.style.transform) {\n            const matrix = elem.style.transform;\n            const values = matrix ? matrix.match(/-?[\\d\\.]+/g) : undefined;\n            posY = values ? Number(values[ 2 ]) : 0;\n        }\n\n        return posY;\n    }\n\n    /** Method setting transformation to the base draggable element. */\n    protected setTransformXY(x: number, y: number) {\n        this.element.nativeElement.style.transform = 'translate3d(' + x + 'px, ' + y + 'px, 0px)';\n    }\n\n    protected getWindowScrollTop() {\n        return window.scrollY ? window.scrollY : (window.pageYOffset ? window.pageYOffset : 0);\n    }\n\n    protected getWindowScrollLeft() {\n        return window.scrollX ? window.scrollX : (window.pageXOffset ? window.pageXOffset : 0);\n    }\n\n    protected ghostHostOffsetLeft(ghostHost: any) {\n        const ghostPosition = document.defaultView.getComputedStyle(ghostHost).getPropertyValue('position');\n        if (ghostPosition === 'static' && ghostHost.offsetParent && ghostHost.offsetParent === document.body) {\n            return 0;\n        } else if (ghostPosition === 'static' && ghostHost.offsetParent) {\n            return ghostHost.offsetParent.getBoundingClientRect().left - this.getWindowScrollLeft();\n        }\n        return ghostHost.getBoundingClientRect().left - this.getWindowScrollLeft();\n    }\n\n    protected ghostHostOffsetTop(ghostHost: any) {\n        const ghostPosition = document.defaultView.getComputedStyle(ghostHost).getPropertyValue('position');\n        if (ghostPosition === 'static' && ghostHost.offsetParent && ghostHost.offsetParent === document.body) {\n            return 0;\n        } else if (ghostPosition === 'static' && ghostHost.offsetParent) {\n            return ghostHost.offsetParent.getBoundingClientRect().top - this.getWindowScrollTop();\n        }\n        return ghostHost.getBoundingClientRect().top - this.getWindowScrollTop();\n    }\n}\n\n@Directive({\n    exportAs: 'drop',\n    selector: '[igxDrop]'\n})\nexport class IgxDropDirective implements OnInit, OnDestroy {\n\n    /**\n     * - Save data inside the `igxDrop` directive. This can be set when instancing `igxDrop` on an element.\n     * ```html\n     * <div [igxDrop]=\"{ source: myElement }\"></div>\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Input('igxDrop')\n    public data: any;\n\n    /**\n     * An @Input property that provide a way for igxDrag and igxDrop to be linked through channels.\n     * It accepts single value or an array of values and evaluates then using strict equality.\n     * ```html\n     * <div igxDrag [dragChannel]=\"'odd'\">\n     *         <span>95</span>\n     * </div>\n     * <div igxDrop [dropChannel]=\"['odd', 'irrational']\">\n     *         <span>Numbers drop area!</span>\n     * </div>\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Input()\n    public dropChannel: number | string | number[] | string[];\n\n    /**\n     * An @Input property that specifies a drop strategy type that will be executed when an `IgxDrag` element is released inside\n     *  the current drop area. The provided strategies are:\n     *  - IgxDefaultDropStrategy - This is the default base strategy and it doesn't perform any actions.\n     *  - IgxAppendDropStrategy - Appends the dropped element to last position as a direct child to the `igxDrop`.\n     *  - IgxPrependDropStrategy - Prepends the dropped element to first position as a direct child to the `igxDrop`.\n     *  - IgxInsertDropStrategy - If the dropped element is released above a child element of the `igxDrop`, it will be inserted\n     *      at that position. Otherwise the dropped element will be appended if released outside any child of the `igxDrop`.\n     * ```html\n     * <div igxDrag>\n     *      <span>DragMe</span>\n     * </div>\n     * <div igxDrop [dropStrategy]=\"myDropStrategy\">\n     *         <span>Numbers drop area!</span>\n     * </div>\n     * ```\n     * ```typescript\n     * import { IgxAppendDropStrategy } from 'igniteui-angular';\n     *\n     * export class App {\n     *      public myDropStrategy = IgxAppendDropStrategy;\n     * }\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Input()\n    public set dropStrategy(classRef: any) {\n        this._dropStrategy = new classRef(this._renderer);\n    }\n\n    public get dropStrategy() {\n        return this._dropStrategy;\n    }\n\n    /** Event triggered when dragged element enters the area of the element.\n     * ```html\n     * <div class=\"cageArea\" igxDrop (enter)=\"dragEnter()\" (igxDragEnter)=\"onDragCageEnter()\" (igxDragLeave)=\"onDragCageLeave()\">\n     * </div>\n     * ```\n     * ```typescript\n     * public dragEnter(){\n     *     alert(\"A draggable element has entered the chip area!\");\n     * }\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Output()\n    public enter = new EventEmitter<IDropBaseEventArgs>();\n\n        /** Event triggered when dragged element enters the area of the element.\n     * ```html\n     * <div class=\"cageArea\" igxDrop (enter)=\"dragEnter()\" (igxDragEnter)=\"onDragCageEnter()\" (igxDragLeave)=\"onDragCageLeave()\">\n     * </div>\n     * ```\n     * ```typescript\n     * public dragEnter(){\n     *     alert(\"A draggable element has entered the chip area!\");\n     * }\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Output()\n    public over = new EventEmitter<IDropBaseEventArgs>();\n\n    /** Event triggered when dragged element leaves the area of the element.\n     * ```html\n     * <div class=\"cageArea\" igxDrop (leave)=\"dragLeave()\" (igxDragEnter)=\"onDragCageEnter()\" (igxDragLeave)=\"onDragCageLeave()\">\n     * </div>\n     * ```\n     * ```typescript\n     * public dragLeave(){\n     *     alert(\"A draggable element has left the chip area!\");\n     * }\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Output()\n    public leave = new EventEmitter<IDropBaseEventArgs>();\n\n    /** Event triggered when dragged element is dropped in the area of the element.\n     * Since the `igxDrop` has default logic that appends the dropped element as a child, it can be canceled here.\n     * To cancel the default logic the `cancel` property of the event needs to be set to true.\n     * ```html\n     * <div class=\"cageArea\" igxDrop (dropped)=\"dragDrop()\" (igxDragEnter)=\"onDragCageEnter()\" (igxDragLeave)=\"onDragCageLeave()\">\n     * </div>\n     * ```\n     * ```typescript\n     * public dragDrop(){\n     *     alert(\"A draggable element has been dropped in the chip area!\");\n     * }\n     * ```\n     * @memberof IgxDropDirective\n     */\n    @Output()\n    public dropped = new EventEmitter<IDropDroppedEventArgs>();\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.droppable')\n    public droppable = true;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.dragOver')\n    public dragover = false;\n\n    /**\n     * @hidden\n     */\n    protected _destroy = new Subject<boolean>();\n    protected _dropStrategy: IDropStrategy;\n\n    constructor(public element: ElementRef, private _renderer: Renderer2, private _zone: NgZone) {\n        this._dropStrategy = new IgxDefaultDropStrategy();\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        this._zone.runOutsideAngular(() => {\n            fromEvent(this.element.nativeElement, 'igxDragEnter').pipe(takeUntil(this._destroy))\n                .subscribe((res) => this.onDragEnter(res as CustomEvent<IgxDragCustomEventDetails>));\n\n            fromEvent(this.element.nativeElement, 'igxDragLeave').pipe(takeUntil(this._destroy)).subscribe((res) => this.onDragLeave(res));\n            fromEvent(this.element.nativeElement, 'igxDragOver').pipe(takeUntil(this._destroy)).subscribe((res) => this.onDragOver(res));\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this._destroy.next(true);\n        this._destroy.complete();\n    }\n\n    /**\n     * @hidden\n     */\n    public onDragOver(event) {\n        const elementPosX = this.element.nativeElement.getBoundingClientRect().left + this.getWindowScrollLeft();\n        const elementPosY = this.element.nativeElement.getBoundingClientRect().top + this.getWindowScrollTop();\n        const offsetX = event.detail.pageX - elementPosX;\n        const offsetY = event.detail.pageY - elementPosY;\n        const eventArgs: IDropBaseEventArgs = {\n            originalEvent: event.detail.originalEvent,\n            owner: this,\n            drag: event.detail.owner,\n            dragData: event.detail.owner.data,\n            startX: event.detail.startX,\n            startY: event.detail.startY,\n            pageX: event.detail.pageX,\n            pageY: event.detail.pageY,\n            offsetX: offsetX,\n            offsetY: offsetY\n        };\n\n        this.over.emit(eventArgs);\n     }\n\n    /**\n     * @hidden\n     */\n    public onDragEnter(event: CustomEvent<IgxDragCustomEventDetails>) {\n        if (!this.isDragLinked(event.detail.owner)) {\n            return;\n        }\n\n        this.dragover = true;\n        const elementPosX = this.element.nativeElement.getBoundingClientRect().left + this.getWindowScrollLeft();\n        const elementPosY = this.element.nativeElement.getBoundingClientRect().top + this.getWindowScrollTop();\n        const offsetX = event.detail.pageX - elementPosX;\n        const offsetY = event.detail.pageY - elementPosY;\n        const eventArgs: IDropBaseEventArgs = {\n            originalEvent: event.detail.originalEvent,\n            owner: this,\n            drag: event.detail.owner,\n            dragData: event.detail.owner.data,\n            startX: event.detail.startX,\n            startY: event.detail.startY,\n            pageX: event.detail.pageX,\n            pageY: event.detail.pageY,\n            offsetX: offsetX,\n            offsetY: offsetY\n        };\n        this._zone.run(() => {\n            this.enter.emit(eventArgs);\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public onDragLeave(event) {\n        if (!this.isDragLinked(event.detail.owner)) {\n            return;\n        }\n\n        this.dragover = false;\n        const elementPosX = this.element.nativeElement.getBoundingClientRect().left + this.getWindowScrollLeft();\n        const elementPosY = this.element.nativeElement.getBoundingClientRect().top + this.getWindowScrollTop();\n        const offsetX = event.detail.pageX - elementPosX;\n        const offsetY = event.detail.pageY - elementPosY;\n        const eventArgs: IDropBaseEventArgs = {\n            originalEvent: event.detail.originalEvent,\n            owner: this,\n            drag: event.detail.owner,\n            dragData: event.detail.owner.data,\n            startX: event.detail.startX,\n            startY: event.detail.startY,\n            pageX: event.detail.pageX,\n            pageY: event.detail.pageY,\n            offsetX: offsetX,\n            offsetY: offsetY\n        };\n        this._zone.run(() => {\n            this.leave.emit(eventArgs);\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('igxDrop', ['$event'])\n    public onDragDrop(event) {\n        if (!this.isDragLinked(event.detail.owner)) {\n            return;\n        }\n\n        const elementPosX = this.element.nativeElement.getBoundingClientRect().left + this.getWindowScrollLeft();\n        const elementPosY = this.element.nativeElement.getBoundingClientRect().top + this.getWindowScrollTop();\n        const offsetX = event.detail.pageX - elementPosX;\n        const offsetY = event.detail.pageY - elementPosY;\n        const args: IDropDroppedEventArgs = {\n            owner: this,\n            originalEvent: event.detail.originalEvent,\n            drag: event.detail.owner,\n            dragData: event.detail.owner.data,\n            startX: event.detail.startX,\n            startY: event.detail.startY,\n            pageX: event.detail.pageX,\n            pageY: event.detail.pageY,\n            offsetX: offsetX,\n            offsetY: offsetY,\n            cancel: false\n        };\n        this._zone.run(() => {\n            this.dropped.emit(args);\n        });\n\n        if (this._dropStrategy && !args.cancel) {\n            const elementsAtPoint = event.detail.owner.getElementsAtPoint(event.detail.pageX, event.detail.pageY);\n            const insertIndex = this.getInsertIndexAt(event.detail.owner, elementsAtPoint);\n            this._dropStrategy.dropAction(event.detail.owner, this, insertIndex);\n        }\n    }\n\n    protected getWindowScrollTop() {\n        return window.scrollY ? window.scrollY : (window.pageYOffset ? window.pageYOffset : 0);\n    }\n\n    protected getWindowScrollLeft() {\n        return window.scrollX ? window.scrollX : (window.pageXOffset ? window.pageXOffset : 0);\n    }\n\n    protected isDragLinked(drag: IgxDragDirective): boolean {\n        const dragLinkArray = drag.dragChannel instanceof Array;\n        const dropLinkArray = this.dropChannel instanceof Array;\n\n        if (!dragLinkArray && !dropLinkArray) {\n            return this.dropChannel === drag.dragChannel;\n        } else if (!dragLinkArray && dropLinkArray) {\n            const dropLinks = <Array<any>>this.dropChannel;\n            for (let i = 0; i < dropLinks.length; i ++) {\n                if (dropLinks[i] === drag.dragChannel) {\n                    return true;\n                }\n            }\n        } else if (dragLinkArray && !dropLinkArray) {\n            const dragLinks = <Array<any>>drag.dragChannel;\n            for (let i = 0; i < dragLinks.length; i ++) {\n                if (dragLinks[i] === this.dropChannel) {\n                    return true;\n                }\n            }\n        } else {\n            const dragLinks = <Array<any>>drag.dragChannel;\n            const dropLinks = <Array<any>>this.dropChannel;\n            for (let i = 0; i < dragLinks.length; i ++) {\n                for (let j = 0; j < dropLinks.length; j ++) {\n                    if (dragLinks[i] === dropLinks[j]) {\n                        return true;\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n\n    protected getInsertIndexAt(draggedDir: IgxDragDirective, elementsAtPoint: any[]): number {\n        let insertIndex = -1;\n        const dropChildren = Array.prototype.slice.call(this.element.nativeElement.children);\n        if (!dropChildren.length) {\n            return insertIndex;\n        }\n\n        let i = 0;\n        let childUnder = null;\n        while (!childUnder && i < elementsAtPoint.length) {\n            if (elementsAtPoint[i].parentElement === this.element.nativeElement) {\n                childUnder = elementsAtPoint[i];\n            }\n            i++;\n        }\n\n        const draggedElemIndex = dropChildren.indexOf(draggedDir.element.nativeElement);\n        insertIndex = dropChildren.indexOf(childUnder);\n        if (draggedElemIndex !== -1 && draggedElemIndex < insertIndex) {\n            insertIndex++;\n        }\n\n        return insertIndex;\n    }\n}\n\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxDragDirective, IgxDropDirective, IgxDragHandleDirective],\n    exports: [IgxDragDirective, IgxDropDirective, IgxDragHandleDirective]\n})\nexport class IgxDragDropModule { }\n","import { CommonModule } from '@angular/common';\nimport {\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Input,\n    NgModule,\n    OnChanges,\n    Output,\n    Pipe,\n    PipeTransform,\n    Renderer2,\n    SimpleChanges\n} from '@angular/core';\n\nexport class IgxFilterOptions {\n    // Input text value that will be used as a filtering pattern (matching condition is based on it)\n    public inputValue = '';\n\n    // Item property, which value should be used for filtering\n    public key: string;\n\n    // Represent items of the list. It should be used to handle decalaratevely defined widgets\n    public items: any[];\n\n    // Function - get value to be tested from the item\n    // item - single item of the list to be filtered\n    // key - property name of item, which value should be tested\n    // Default behavior - returns \"key\"- named property value of item if key si provided,\n    // otherwise textContent of the item's html element\n    public get_value(item: any, key: string): string {\n        let result = '';\n\n        if (key && item[key]) {\n            result = item[key].toString();\n        } else if (item.element) {\n            if (item.element.nativeElement) {\n                result = item.element.nativeElement.textContent.trim();\n            // Check if element doesn't return the DOM element directly\n            } else if (item.element.textContent) {\n                result = item.element.textContent.trim();\n            }\n        }\n\n        return result;\n    }\n\n    // Function - formats the original text before matching process\n    // Default behavior - returns text to lower case\n    public formatter(valueToTest: string): string {\n        return valueToTest.toLowerCase();\n    }\n\n    // Function - determines whether the item met the condition\n    // valueToTest - text value that should be tested\n    // inputValue - text value from input that condition is based on\n    // Default behavior - \"contains\"\n    public matchFn(valueToTest: string, inputValue: string): boolean {\n        return valueToTest.indexOf(inputValue && inputValue.toLowerCase() || '') > -1;\n    }\n\n    // Function - executed after matching test for every matched item\n    // Default behavior - shows the item\n    public metConditionFn(item: any) {\n        if (item.hasOwnProperty('hidden')) {\n            item.hidden = false;\n        }\n    }\n\n    // Function - executed for every NOT matched item after matching test\n    // Default behavior - hides the item\n    public overdueConditionFn(item: any) {\n        if (item.hasOwnProperty('hidden')) {\n            item.hidden = true;\n        }\n    }\n}\n\n\n@Directive({\n    selector: '[igxFilter]'\n})\nexport class IgxFilterDirective implements OnChanges {\n    @Output() public filtering = new EventEmitter(false); // synchronous event emitter\n    @Output() public filtered = new EventEmitter();\n\n    @Input('igxFilter') public filterOptions: IgxFilterOptions;\n\n    constructor(private element: ElementRef, renderer: Renderer2) {\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        // Detect only changes of input value\n        if (changes.filterOptions &&\n            changes.filterOptions.currentValue &&\n            changes.filterOptions.currentValue.inputValue !== undefined &&\n            changes.filterOptions.previousValue &&\n            changes.filterOptions.currentValue.inputValue !== changes.filterOptions.previousValue.inputValue) {\n            this.filter();\n        }\n    }\n\n    private filter() {\n        if (!this.filterOptions.items) {\n            return;\n        }\n\n        const args = { cancel: false, items: this.filterOptions.items };\n        this.filtering.emit(args);\n\n        if (args.cancel) {\n            return;\n        }\n\n        const pipe = new IgxFilterPipe();\n\n        const filtered = pipe.transform(this.filterOptions.items, this.filterOptions);\n        this.filtered.emit({ filteredItems: filtered });\n    }\n}\n\n@Pipe({\n    name: 'igxFilter',\n    pure: false\n})\n\nexport class IgxFilterPipe implements PipeTransform {\n    public transform(items: any[],\n                     // options - initial settings of filter functionality\n                     options: IgxFilterOptions) {\n\n        let result = [];\n\n        if (!items || !items.length || !options) {\n            return;\n        }\n\n        if (options.items) {\n            items = options.items;\n        }\n\n        result = items.filter((item: any) => {\n            const match = options.matchFn(options.formatter(options.get_value(item, options.key)), options.inputValue);\n\n            if (match) {\n                if (options.metConditionFn) {\n                    options.metConditionFn(item);\n                }\n            } else {\n                if (options.overdueConditionFn) {\n                    options.overdueConditionFn(item);\n                }\n            }\n\n            return match;\n        });\n\n        return result;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxFilterDirective, IgxFilterPipe],\n    exports: [IgxFilterDirective, IgxFilterPipe],\n    imports: [CommonModule]\n})\nexport class IgxFilterModule {\n}\n","import { Directive, ElementRef, Input, NgModule, Optional, Inject, Self } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { EditorProvider } from '../../core/edit-provider';\n\n@Directive({\n    exportAs: 'igxFocus',\n    selector: '[igxFocus]'\n})\nexport class IgxFocusDirective {\n\n    private focusState = true;\n    /**\n     * Returns the state of the igxFocus.\n     * ```typescript\n     * @ViewChild('focusContainer', {read: IgxFocusDirective})\n     * public igxFocus: IgxFocusDirective;\n     * let isFocusOn = this.igxFocus.focused;\n     * ```\n     * @memberof IgxFocusDirective\n     */\n    @Input('igxFocus')\n    get focused(): boolean {\n        return this.focusState;\n    }\n    /**\n     * Sets the state of the igxFocus.\n     * ```html\n     * <igx-input-group >\n     *  <input #focusContainer igxInput [igxFocus]=\"true\"/>\n     * </igx-input-group>\n     * ```\n     * @memberof IgxFocusDirective\n     */\n    set focused(val: boolean) {\n        this.focusState = val;\n        this.trigger();\n    }\n    /**\n     * Gets the native element of the igxFocus.\n     * ```typescript\n     * @ViewChild('focusContainer', {read: IgxFocusDirective})\n     * public igxFocus: IgxFocusDirective;\n     * let igxFocusNativeElement = this.igxFocus.nativeElement;\n     * ```\n     * @memberof IgxFocusDirective\n     */\n    get nativeElement() {\n        if (this.comp && this.comp[0] && this.comp[0].getEditElement) {\n            return (this.comp[0] as EditorProvider).getEditElement();\n        }\n        return this.element.nativeElement;\n    }\n\n    constructor(private element: ElementRef, @Inject(NG_VALUE_ACCESSOR) @Self() @Optional() private comp?: any[]) { }\n    /**\n     * Triggers the igxFocus state.\n     * ```typescript\n     * @ViewChild('focusContainer', {read: IgxFocusDirective})\n     * public igxFocus: IgxFocusDirective;\n     * this.igxFocus.trigger();\n     * ```\n     * @memberof IgxFocusDirective\n     */\n    trigger() {\n        if (this.focusState) {\n            requestAnimationFrame(() => this.nativeElement.focus());\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxFocusDirective],\n    exports: [IgxFocusDirective]\n})\nexport class IgxFocusModule { }\n","import { Directive, HostBinding, Input, NgModule } from '@angular/core';\n\n@Directive({\n    selector: '[igxLayout]'\n})\nexport class IgxLayoutDirective {\n    /**\n     * Sets the default flow direction of the container's children.\n     *\n     * Defaults to `rows`.\n     *\n     * ```html\n     *  <div\n     *   igxLayout\n     *   igxLayoutDir=\"row\">\n     *    <div igxFlex>1</div>\n     *    <div igxFlex>2</div>\n     *    <div igxFlex>3</div>\n     *  </div>\n     * ```\n     */\n    @Input('igxLayoutDir') public dir = 'row';\n\n    /**\n     * Defines the direction flex children are placed in the flex container.\n     *\n     * When set to `true`, the `rows` direction goes right to left and `columns` goes bottom to top.\n     *\n     * ```html\n     * <div\n     *   igxLayout\n     *   igxLayoutReverse=\"true\">\n     *    <div igxFlex>1</div>\n     *    <div igxFlex>2</div>\n     *    <div igxFlex>3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxLayoutReverse') public reverse = false;\n\n    /**\n     * By default the immediate children will all try to fit onto one line.\n     *\n     * The default value `nowrap` sets this behavior.\n     *\n     * Other accepted values are `wrap` and `wrap-reverse`.\n     *\n     * ```html\n     * <div\n     *   igxLayout\n     *   igxLayoutDir=\"row\"\n     *   igxLayoutWrap=\"wrap\">\n     *    <div igxFlex igxFlexGrow=\"0\">1</div>\n     *    <div igxFlex igxFlexGrow=\"0\">2</div>\n     *    <div igxFlex igxFlexGrow=\"0\">3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxLayoutWrap') public wrap = 'nowrap';\n\n    /**\n     * Defines the alignment along the main axis.\n     *\n     * Defaults to `flex-start` which packs the children toward the start line.\n     *\n     * Other possible values are `flex-end`, `center`, `space-between`, `space-around`.\n     *\n     * ```html\n     * <div\n     *   igxLayout\n     *   igxLayoutDir=\"column\"\n     *   igxLayoutJustify=\"space-between\">\n     *    <div>1</div>\n     *    <div>2</div>\n     *    <div>3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxLayoutJustify') public justify = 'flex-start';\n\n    /**\n     * Defines the default behavior for how children are laid out along the corss axis of the current line.\n     *\n     * Defaults to `flex-start`.\n     *\n     * Other possible values are `flex-end`, `center`, `baseline`, and `stretch`.\n     *\n     * ```html\n     * <div\n     *   igxLayout\n     *   igxLayoutDir=\"column\"\n     *   igxLayoutItemAlign=\"start\">\n     *    <div igxFlex igxFlexGrow=\"0\">1</div>\n     *    <div igxFlex igxFlexGrow=\"0\">2</div>\n     *    <div igxFlex igxFlexGrow=\"0\">3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxLayoutItemAlign') public itemAlign = 'stretch';\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.display') public display = 'flex';\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.flex-wrap') get flexwrap() { return this.wrap; }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.justify-content') get justifycontent() { return this.justify; }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.align-items') get align() { return this.itemAlign; }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.flex-direction')\n    get direction() {\n        if (this.reverse) {\n            return (this.dir === 'row') ? 'row-reverse' : 'column-reverse';\n        }\n        return (this.dir === 'row') ? 'row' : 'column';\n    }\n}\n\n@Directive({\n    selector: '[igxFlex]'\n})\nexport class IgxFlexDirective {\n\n    /**\n     * Applies the `grow` attribute to an element that uses the directive.\n     *\n     * Default value is `1`.\n     *\n     * ```html\n     * <div>\n     *    <div igxFlex igxFlexGrow=\"0\">Content1</div>\n     *    <div igxFlex igxFlexGrow=\"1\">Content2</div>\n     *    <div igxFlex igxFlexGrow=\"0\">Content3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxFlexGrow') public grow = 1;\n\n    /**\n     * Applies the `shrink` attribute to an element that uses the directive.\n     *\n     * Default value is `1`.\n     *\n     * ```html\n     * <div>\n     *    <div igxFlex igxFlexShrink=\"1\">Content1</div>\n     *    <div igxFlex igxFlexShrink=\"0\">Content2</div>\n     *    <div igxFlex igxFlexShrink=\"1\">Content3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxFlexShrink') public shrink = 1;\n\n    /**\n     * Applies the directive to an element.\n     *\n     * Possible values include `igxFlexGrow`, `igxFlexShrink`, `igxFlexOrder`, `igxFlexBasis`.\n     *\n     * ```html\n     * <div igxFlex>Content</div>\n     * ```\n     */\n    @Input('igxFlex') public flex = '';\n\n    /**\n     * Applies the `order` attribute to an element that uses the directive.\n     *\n     * Default value is `0`.\n     *\n     * ```html\n     * <div>\n     *    <div igxFlex igxFlexOrder=\"1\">Content1</div>\n     *    <div igxFlex igxFlexOrder=\"0\">Content2</div>\n     *    <div igxFlex igxFlexOrder=\"2\">Content3</div>\n     * </div>\n     * ```\n     */\n    @Input('igxFlexOrder') public order = 0;\n\n    /**\n     * Applies the `flex-basis` attribute to an element that uses the directive.\n     *\n     * Default value is `auto`.\n     *\n     * Other possible values include `content`, `max-content`, `min-content`, `fit-content`.\n     *\n     * ```html\n     * <div igxFlex igxFlexBasis=\"fit-content\">Content</div>\n     * ```\n     */\n    @Input('igxFlexBasis') public basis = 'auto';\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.flex')\n    get style() {\n        if (this.flex) {\n            return `${this.flex}`;\n        }\n        return `${this.grow} ${this.shrink} ${this.basis}`;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.order')\n    get itemorder() {\n        return this.order || 0;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxFlexDirective, IgxLayoutDirective],\n    exports: [IgxFlexDirective, IgxLayoutDirective]\n})\nexport class IgxLayoutModule { }\n","/**\n * @hidden\n */\nexport const MASK_FLAGS = [ 'C', '&', 'a', 'A', '?', 'L', '9', '0', '#' ];\n\n/**\n * @hidden\n */\nexport const KEYS = {\n    Ctrl : 17,\n    Z : 90,\n    Y : 89,\n    X : 88,\n    BACKSPACE : 8,\n    DELETE : 46\n  };\n\n\n/**\n * @hidden\n */\nexport class MaskHelper {\n    private _cursor;\n    public get cursor() {\n        return this._cursor;\n    }\n    public data: boolean;\n\n    public parseValueByMask(value, maskOptions, cursor): string {\n        let inputValue: string = value;\n        const mask: string = maskOptions.format;\n        const literals: Map<number, string> = this.getMaskLiterals(mask);\n        const literalKeys: number[] = Array.from(literals.keys());\n        const nonLiteralIndeces: number[] = this.getNonLiteralIndeces(mask, literalKeys);\n\n        if (inputValue.length < mask.length) { // BACKSPACE, DELETE\n            if (inputValue === '' && cursor === -1) {\n                this._cursor = 0;\n                return this.parseValueByMaskOnInit(value, maskOptions);\n            } // workaround for IE 'x' button\n\n            if (nonLiteralIndeces.indexOf(cursor + 1) !== -1) {\n                inputValue = this.insertCharAt(inputValue, cursor + 1, maskOptions.promptChar);\n                this._cursor = cursor + 1;\n            } else {\n                inputValue = this.insertCharAt(inputValue, cursor + 1, mask[cursor + 1]);\n                this._cursor = cursor + 1;\n                for (let i = this._cursor; i < 0; i--) {\n                    if (literalKeys.indexOf(this._cursor) !== -1) {\n                        this._cursor--;\n                    } else {\n                        break;\n                    }\n                }\n            }\n        } else {\n            const char = inputValue[cursor];\n            let isCharValid = this.validateCharOnPostion(char, cursor, mask);\n            if (nonLiteralIndeces.indexOf(cursor) !== -1) {\n                inputValue = this.replaceCharAt(inputValue, cursor, '');\n                if (isCharValid) {\n                    inputValue = this.replaceCharAt(inputValue, cursor, char);\n                    this._cursor = cursor + 1;\n                } else {\n                    this._cursor = cursor;\n                }\n            } else {\n                inputValue = this.replaceCharAt(inputValue, cursor, '');\n                this._cursor = ++cursor;\n                for (let i = cursor; i < mask.length; i++) {\n                    if (literalKeys.indexOf(this._cursor) !== -1) {\n                        this._cursor = ++cursor;\n                    } else {\n                        isCharValid = this.validateCharOnPostion(char, cursor, mask);\n                        if (isCharValid) {\n                            inputValue = this.replaceCharAt(inputValue, cursor, char);\n                            this._cursor = ++cursor;\n                            break;\n                        } else {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        return inputValue;\n    }\n\n    public parseMask(maskOptions): string {\n        let outputVal = '';\n        const mask: string = maskOptions.format;\n        const literals: Map<number, string> = this.getMaskLiterals(mask);\n\n        for (const maskSym of mask) {\n            outputVal += maskOptions.promptChar;\n        }\n\n        literals.forEach((val: string, key: number) => {\n            outputVal = this.replaceCharAt(outputVal, key, val);\n        });\n\n        return outputVal;\n    }\n\n    public parseValueByMaskOnInit(inputVal, maskOptions): string {\n        let outputVal = '';\n        let value = '';\n        const mask: string = maskOptions.format;\n        const literals: Map<number, string> = this.getMaskLiterals(mask);\n        const literalKeys: number[] = Array.from(literals.keys());\n        const nonLiteralIndeces: number[] = this.getNonLiteralIndeces(mask, literalKeys);\n        const literalValues: string[] = Array.from(literals.values());\n\n        if (inputVal != null) {\n            value = inputVal.toString();\n        }\n\n        for (const maskSym of mask) {\n            outputVal += maskOptions.promptChar;\n        }\n\n        literals.forEach((val: string, key: number) => {\n            outputVal = this.replaceCharAt(outputVal, key, val);\n        });\n\n        if (!value) {\n            return outputVal;\n        }\n\n        const nonLiteralValues: string[] = this.getNonLiteralValues(value, literalValues);\n\n        for (let i = 0; i < nonLiteralValues.length; i++) {\n            const char = nonLiteralValues[i];\n            const isCharValid = this.validateCharOnPostion(char, nonLiteralIndeces[i], mask);\n\n            if (!isCharValid && char !== maskOptions.promptChar) {\n                nonLiteralValues[i] = maskOptions.promptChar;\n            }\n        }\n\n        if (nonLiteralValues.length > nonLiteralIndeces.length) {\n            nonLiteralValues.splice(nonLiteralIndeces.length);\n        }\n\n        let pos = 0;\n        for (const nonLiteralValue of nonLiteralValues) {\n            const char = nonLiteralValue;\n            outputVal = this.replaceCharAt(outputVal, nonLiteralIndeces[pos++], char);\n        }\n\n        return outputVal;\n    }\n\n    public restoreValueFromMask(value, maskOptions): string {\n        let outputVal = '';\n        const mask: string = maskOptions.format;\n        const literals: Map<number, string> = this.getMaskLiterals(mask);\n        const literalValues: string[] = Array.from(literals.values());\n\n        for (const val of value) {\n            if (literalValues.indexOf(val) === -1) {\n                if (val !== maskOptions.promptChar) {\n                    outputVal += val;\n                }\n            }\n        }\n\n        return outputVal;\n    }\n\n    public parseValueByMaskUponSelection(value, maskOptions, cursor, selection): string {\n        let isCharValid: boolean;\n        let inputValue: string = value;\n        const char: string = inputValue[cursor];\n        const mask: string = maskOptions.format;\n        const literals: Map<number, string> = this.getMaskLiterals(mask);\n        const literalKeys: number[] = Array.from(literals.keys());\n        const nonLiteralIndeces: number[] = this.getNonLiteralIndeces(mask, literalKeys);\n\n        if (!this.data) {\n            this._cursor = cursor < 0 ? ++cursor : cursor;\n            if (nonLiteralIndeces.indexOf(this._cursor) !== -1) {\n                isCharValid = this.validateCharOnPostion(char, this._cursor, mask);\n                inputValue = isCharValid ? this.replaceCharAt(inputValue, this._cursor++, char) :\n                    inputValue = this.replaceCharAt(inputValue, this._cursor++, maskOptions.promptChar);\n                selection--;\n                if (selection > 0) {\n                    for (let i = 0; i < selection; i++) {\n                        cursor++;\n                        inputValue = nonLiteralIndeces.indexOf(cursor) !== -1 ?\n                            this.insertCharAt(inputValue, cursor, maskOptions.promptChar) :\n                            this.insertCharAt(inputValue, cursor, mask[cursor]);\n                    }\n                }\n            } else {\n                inputValue = this.replaceCharAt(inputValue, this._cursor, mask[this._cursor]);\n                this._cursor++;\n                selection--;\n                let isMarked = false;\n                if (selection > 0) {\n                    cursor = this._cursor;\n                    for (let i = 0; i < selection; i++) {\n                        if (nonLiteralIndeces.indexOf(cursor) !== -1) {\n                            isCharValid = this.validateCharOnPostion(char, cursor, mask);\n                            if (isCharValid && !isMarked) {\n                                inputValue = this.insertCharAt(inputValue, cursor, char);\n                                cursor++;\n                                this._cursor++;\n                                isMarked = true;\n                            } else {\n                                inputValue = this.insertCharAt(inputValue, cursor, maskOptions.promptChar);\n                                cursor++;\n                            }\n                        } else {\n                            inputValue = this.insertCharAt(inputValue, cursor, mask[cursor]);\n                            if (cursor === this._cursor) {\n                                this._cursor++;\n                            }\n                            cursor++;\n                        }\n                    }\n                }\n            }\n        } else {\n            if (inputValue === '' && cursor === -1) {\n                this._cursor = 0;\n                return this.parseValueByMaskOnInit(value, maskOptions);\n            } // workaround for IE 'x' button\n\n            if (this._cursor < 0) {\n                this._cursor++;\n                cursor++;\n            }\n            cursor++;\n            this._cursor = cursor;\n            for (let i = 0; i < selection; i++) {\n                if (nonLiteralIndeces.indexOf(cursor) !== -1) {\n                    inputValue = this.insertCharAt(inputValue, cursor, maskOptions.promptChar);\n                    cursor++;\n                } else {\n                    inputValue = this.insertCharAt(inputValue, cursor, mask[cursor]);\n                    cursor++;\n                }\n            }\n        }\n\n        return inputValue;\n    }\n\n    public parseValueByMaskUponCopyPaste(value, maskOptions, cursor, clipboardData, selection): string {\n        let inputValue: string = value;\n        const mask: string = maskOptions.format;\n        const literals: Map<number, string> = this.getMaskLiterals(mask);\n        const literalKeys: number[] = Array.from(literals.keys());\n        const nonLiteralIndeces: number[] = this.getNonLiteralIndeces(mask, literalKeys);\n\n        const selectionEnd = cursor + selection;\n\n        this._cursor = cursor;\n        for (const clipboardSym of clipboardData) {\n            const char = clipboardSym;\n\n            if (this._cursor > mask.length) {\n                return inputValue;\n            }\n\n            if (nonLiteralIndeces.indexOf(this._cursor) !== -1) {\n                const isCharValid = this.validateCharOnPostion(char, this._cursor, mask);\n                if (isCharValid) {\n                    inputValue = this.replaceCharAt(inputValue, this._cursor++, char);\n                }\n            } else {\n                for (let i = cursor; i < mask.length; i++) {\n                    if (literalKeys.indexOf(this._cursor) !== -1) {\n                        this._cursor++;\n                    } else {\n                        const isCharValid = this.validateCharOnPostion(char, this._cursor, mask);\n                        if (isCharValid) {\n                            inputValue = this.replaceCharAt(inputValue, this._cursor++, char);\n                        }\n                        break;\n                    }\n                }\n            }\n\n            selection--;\n        }\n\n        if (selection > 0) {\n            for (let i = this._cursor; i < selectionEnd; i++) {\n                if (literalKeys.indexOf(this._cursor) !== -1) {\n                    this._cursor++;\n                } else {\n                    inputValue = this.replaceCharAt(inputValue, this._cursor++, maskOptions.promptChar);\n                }\n            }\n        }\n\n        return inputValue;\n    }\n\n    private validateCharOnPostion(inputChar: string, position: number, mask: string): boolean {\n        let regex: RegExp;\n        let isValid: boolean;\n        const letterOrDigitRegEx = '[\\\\d\\\\u00C0-\\\\u1FFF\\\\u2C00-\\\\uD7FFa-zA-Z]';\n        const letterDigitOrSpaceRegEx = '[\\\\d\\\\u00C0-\\\\u1FFF\\\\u2C00-\\\\uD7FFa-zA-Z\\\\u0020]';\n        const letterRegEx = '[\\\\u00C0-\\\\u1FFF\\\\u2C00-\\\\uD7FFa-zA-Z]';\n        const letteSpaceRegEx = '[\\\\u00C0-\\\\u1FFF\\\\u2C00-\\\\uD7FFa-zA-Z\\\\u0020]';\n        const digitRegEx = '[\\\\d]';\n        const digitSpaceRegEx = '[\\\\d\\\\u0020]';\n        const digitSpecialRegEx = '[\\\\d-\\\\+]';\n\n        switch (mask.charAt(position)) {\n            case 'C':\n                isValid = inputChar !== '';\n                break;\n            case '&':\n                regex = new RegExp('[\\\\u0020]');\n                isValid = !regex.test(inputChar);\n                break;\n            case 'a':\n                regex = new RegExp(letterDigitOrSpaceRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            case 'A':\n                regex = new RegExp(letterOrDigitRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            case '?':\n                regex = new RegExp(letteSpaceRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            case 'L':\n                regex = new RegExp(letterRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            case '0':\n                regex = new RegExp(digitRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            case '9':\n                regex = new RegExp(digitSpaceRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            case '#':\n                regex = new RegExp(digitSpecialRegEx);\n                isValid = regex.test(inputChar);\n                break;\n            default: {\n                isValid = null;\n            }\n        }\n\n        return isValid;\n    }\n    private replaceCharAt(strValue: string, index: number, char: string): string {\n        if (strValue !== undefined) {\n            return strValue.substring(0, index) + char + strValue.substring(index + 1);\n        }\n    }\n    private insertCharAt(strValue: string, index: number, char: string): string {\n        if (strValue !== undefined) {\n            return strValue.substring(0, index) + char + strValue.substring(index);\n        }\n    }\n    private getMaskLiterals(mask: string): Map<number, string> {\n        const literals = new Map<number, string>();\n\n        for (let i = 0; i < mask.length; i++) {\n            const char = mask.charAt(i);\n            if (MASK_FLAGS.indexOf(char) === -1) {\n                literals.set(i, char);\n            }\n        }\n\n        return literals;\n    }\n    private getNonLiteralIndeces(mask: string, literalKeys: number[]): number[] {\n        const nonLiteralsIndeces: number[] = new Array();\n\n        for (let i = 0; i < mask.length; i++) {\n            if (literalKeys.indexOf(i) === -1) {\n                nonLiteralsIndeces.push(i);\n            }\n        }\n\n        return nonLiteralsIndeces;\n    }\n    private getNonLiteralValues(value: string, literalValues: string[]): string[] {\n        const nonLiteralValues: string[] = new Array();\n\n        for (const val of value) {\n            if (literalValues.indexOf(val) === -1) {\n                nonLiteralValues.push(val);\n            }\n        }\n\n        return nonLiteralValues;\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    Directive,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    Input,\n    NgModule,\n    OnInit,\n    Output,\n    PipeTransform\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { KEYS, MaskHelper } from './mask-helper';\nimport { isIE, IBaseEventArgs } from '../../core/utils';\n\nconst noop = () => { };\n\n@Directive({\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxMaskDirective, multi: true }],\n    selector: '[igxMask]'\n})\nexport class IgxMaskDirective implements OnInit, ControlValueAccessor {\n    /**\n     * Sets the input mask.\n     * ```html\n     * <input [igxMask] = \"'00/00/0000'\">\n     * ```\n     * @memberof IgxMaskDirective\n     */\n    @Input('igxMask')\n    public mask: string;\n\n    /**\n     * Sets the character representing a fillable spot in the input mask.\n     * Default value is \"'_'\".\n     * ```html\n     * <input [promptChar] = \"'/'\">\n     * ```\n     * @memberof IgxMaskDirective\n     */\n    @Input()\n    public promptChar: string;\n\n    /**\n     * Specifies if the bound value includes the formatting symbols.\n     * ```html\n     * <input [includeLiterals] = \"true\">\n     * ```\n     * @memberof IgxMaskDirective\n     */\n    @Input()\n    public includeLiterals: boolean;\n\n    /**\n     * Specifies a placeholder.\n     * ```html\n     * <input placeholder = \"enter text...\">\n     * ```\n     * @memberof IgxMaskDirective\n     */\n    @Input()\n    public set placeholder(val: string) {\n        this._placeholder = val;\n        this.nativeElement.setAttribute('placeholder', this._placeholder);\n    }\n\n    public get placeholder(): string {\n        return this._placeholder;\n    }\n\n    /**\n     * Specifies a pipe to be used on blur.\n     * ```html\n     * <input [displayValuePipe] = \"displayFormatPipe\">\n     * ```\n     * @memberof IgxMaskDirective\n     */\n    @Input()\n    public displayValuePipe: PipeTransform;\n\n    /**\n     * Specifies a pipe to be used on focus.\n     * ```html\n     * <input [focusedValuePipe] = \"inputFormatPipe\">\n     * ```\n     * @memberof IgxMaskDirective\n     */\n    @Input()\n    public focusedValuePipe: PipeTransform;\n\n    /**\n     *@hidden\n     */\n    @Input()\n    private dataValue: string;\n\n    /**\n     * Emits an event each time the value changes.\n     * Provides `rawValue: string` and `formattedValue: string` as event arguments.\n     * ```html\n     * <input (onValueChange) = \"onValueChange(rawValue: string, formattedValue: string)\">\n     * ```\n     */\n    @Output()\n    public onValueChange = new EventEmitter<IMaskEventArgs>();\n\n    /**\n     *@hidden\n     */\n    private get value() {\n        return this.nativeElement.value;\n    }\n\n    /**\n     *@hidden\n     */\n    private set value(val) {\n        this.nativeElement.value = val;\n    }\n\n    /**\n     *@hidden\n     */\n    private get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     *@hidden\n     */\n    private get selectionStart() {\n        return this.nativeElement.selectionStart;\n    }\n\n    /**\n     *@hidden\n     */\n    private get selectionEnd() {\n        return this.nativeElement.selectionEnd;\n    }\n\n    /**\n     *@hidden\n     */\n    private _ctrlDown: boolean;\n\n    /**\n     *@hidden\n     */\n    private _paste: boolean;\n\n    /**\n     *@hidden\n     */\n    private _selection: number;\n\n    /**\n     *@hidden\n     */\n    private _placeholder: string;\n\n    /**\n     *@hidden\n     */\n    private _maskOptions = {\n        format: '',\n        promptChar: ''\n    };\n\n    /**\n     *@hidden\n     */\n    private _key;\n\n    /**\n     *@hidden\n     */\n    private _cursorOnPaste;\n\n    /**\n     *@hidden\n     */\n    private _valOnPaste;\n\n    private _stopPropagation: boolean;\n\n    /**\n     *@hidden\n     */\n    private maskHelper: MaskHelper;\n\n    /**\n     *@hidden\n     */\n    private _onTouchedCallback: () => void = noop;\n\n    /**\n     *@hidden\n     */\n    private _onChangeCallback: (_: any) => void = noop;\n\n    constructor(private elementRef: ElementRef) {\n        this.maskHelper = new MaskHelper();\n    }\n\n    /**\n     *@hidden\n     */\n    public ngOnInit(): void {\n        if (this.promptChar && this.promptChar.length > 1) {\n            this._maskOptions.promptChar = this.promptChar = this.promptChar.substring(0, 1);\n        }\n\n        this._maskOptions.format = this.mask ? this.mask : 'CCCCCCCCCC';\n        this._maskOptions.promptChar = this.promptChar ? this.promptChar : '_';\n        this.nativeElement.setAttribute('placeholder', this.placeholder ? this.placeholder : this._maskOptions.format);\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('keydown', ['$event'])\n    public onKeydown(event): void {\n        const key = event.keyCode || event.charCode;\n\n        if (isIE() && this._stopPropagation) {\n            this._stopPropagation = false;\n        }\n\n        if (key === KEYS.Ctrl) {\n            this._ctrlDown = true;\n        }\n\n        if ((this._ctrlDown && key === KEYS.Z) || (this._ctrlDown && key === KEYS.Y)) {\n            event.preventDefault();\n        }\n\n        this._key = key;\n        this._selection = Math.abs(this.selectionEnd - this.selectionStart);\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('keyup', ['$event'])\n    public onKeyup(event): void {\n        const key = event.keyCode || event.charCode;\n\n        if (key === KEYS.Ctrl) {\n            this._ctrlDown = false;\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('paste', ['$event'])\n    public onPaste(event): void {\n        this._paste = true;\n\n        this._valOnPaste = this.value;\n        this._cursorOnPaste = this.getCursorPosition();\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('input', ['$event'])\n    public onInputChanged(event): void {\n        if (isIE() && this._stopPropagation) {\n            this._stopPropagation = false;\n            return;\n        }\n\n        if (this._paste) {\n            this._paste = false;\n\n            const clipboardData = this.value.substring(this._cursorOnPaste, this.getCursorPosition());\n            this.value = this.maskHelper.parseValueByMaskUponCopyPaste(\n                this._valOnPaste, this._maskOptions, this._cursorOnPaste, clipboardData, this._selection);\n\n            this.setCursorPosition(this.maskHelper.cursor);\n        } else {\n            const currentCursorPos = this.getCursorPosition();\n\n            this.maskHelper.data = (this._key === KEYS.BACKSPACE) || (this._key === KEYS.DELETE);\n\n            this.value = this._selection && this._selection !== 0 ?\n                this.maskHelper.parseValueByMaskUponSelection(this.value, this._maskOptions, currentCursorPos - 1, this._selection) :\n                this.maskHelper.parseValueByMask(this.value, this._maskOptions, currentCursorPos - 1);\n\n            this.setCursorPosition(this.maskHelper.cursor);\n        }\n\n        const rawVal = this.maskHelper.restoreValueFromMask(this.value, this._maskOptions);\n\n        this.dataValue = this.includeLiterals ? this.value : rawVal;\n        this._onChangeCallback(this.dataValue);\n\n        this.onValueChange.emit({ rawValue: rawVal, formattedValue: this.value });\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('focus', ['$event.target.value'])\n    public onFocus(value) {\n        if (this.focusedValuePipe) {\n            if (isIE()) {\n                this._stopPropagation = true;\n            }\n            this.value = this.focusedValuePipe.transform(value);\n        } else {\n            this.value = this.maskHelper.parseValueByMaskOnInit(this.value, this._maskOptions);\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('blur', ['$event.target.value'])\n    public onBlur(value) {\n        if (this.displayValuePipe) {\n            this.value = this.displayValuePipe.transform(value);\n        } else if (value === this.maskHelper.parseMask(this._maskOptions)) {\n            this.value = '';\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    private getCursorPosition(): number {\n        return this.nativeElement.selectionStart;\n    }\n\n    /**\n     *@hidden\n     */\n    private setCursorPosition(start: number, end: number = start): void {\n        this.nativeElement.setSelectionRange(start, end);\n    }\n\n    /**\n     *@hidden\n     */\n    public writeValue(value) {\n        if (this.promptChar && this.promptChar.length > 1) {\n            this._maskOptions.promptChar = this.promptChar.substring(0, 1);\n        }\n\n        this.value = value ? this.maskHelper.parseValueByMaskOnInit(value, this._maskOptions) : '';\n        if (this.displayValuePipe) {\n            this.value = this.displayValuePipe.transform(this.value);\n        }\n\n        this.dataValue = this.includeLiterals ? this.value : value;\n        this._onChangeCallback(this.dataValue);\n\n        this.onValueChange.emit({ rawValue: value, formattedValue: this.value });\n    }\n\n    /**\n     *@hidden\n     */\n    public registerOnChange(fn: (_: any) => void) { this._onChangeCallback = fn; }\n\n    /**\n     *@hidden\n     */\n    public registerOnTouched(fn: () => void) { this._onTouchedCallback = fn; }\n}\n\n/**\n * The IgxMaskModule provides the {@link IgxMaskDirective} inside your application.\n */\nexport interface IMaskEventArgs extends IBaseEventArgs {\n    rawValue: string;\n    formattedValue: string;\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxMaskDirective],\n    exports: [IgxMaskDirective],\n    imports: [CommonModule]\n})\nexport class IgxMaskModule { }\n","import {\n    Component,\n    EventEmitter,\n    HostBinding,\n    Input,\n    Output,\n    ViewChild,\n    ElementRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { isIE, IBaseEventArgs } from '../core/utils';\nimport { EditorProvider } from '../core/edit-provider';\n\nexport interface IChangeRadioEventArgs extends IBaseEventArgs {\n    value: any;\n    radio: IgxRadioComponent;\n}\n\nexport enum RadioLabelPosition {\n    BEFORE = 'before',\n    AFTER = 'after'\n}\n\nlet nextId = 0;\nconst noop = () => { };\n/**\n * **Ignite UI for Angular Radio Button** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/radio_button.html)\n *\n * The Ignite UI Radio Button allows the user to select a single option from an available set of options that are listed side by side.\n *\n * Example:\n * ```html\n * <igx-radio>\n *   Simple radio button\n * </igx-radio>\n * ```\n */\n@Component({\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxRadioComponent, multi: true }],\n    selector: 'igx-radio',\n    templateUrl: 'radio.component.html'\n})\n\nexport class IgxRadioComponent implements ControlValueAccessor, EditorProvider {\n    /**\n     * Returns reference to native radio element.\n     * ```typescript\n     * let radioElement =  this.radio.nativeRadio;\n     * ```\n     * @memberof IgxSwitchComponent\n     */\n    @ViewChild('radio', { static: true }) public nativeRadio: ElementRef;\n    /**\n     * Returns reference to native label element.\n     * ```typescript\n     * let labelElement =  this.radio.nativeLabel;\n     * ```\n     * @memberof IgxSwitchComponent\n     */\n    @ViewChild('nativeLabel', { static: true }) public nativeLabel;\n    /**\n     * Returns reference to the label placeholder element.\n     * ```typescript\n     * let labelPlaceholder =  this.radio.placeholderLabel;\n     * ```\n     * @memberof IgxSwitchComponent\n     */\n    @ViewChild('placeholderLabel', { static: true }) public placeholderLabel;\n\n    /**\n     * Sets/gets the `id` of the radio component.\n     * If not set, the `id` of the first radio component will be `\"igx-radio-0\"`.\n     * ```html\n     * <igx-radio id = \"my-first-radio\"></igx-radio>\n     * ```\n     * ```typescript\n     * let radioId =  this.radio.id;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @HostBinding('attr.id')\n    @Input() public id = `igx-radio-${nextId++}`;\n    /**\n     * Sets/gets the id of the `label` element in the radio component.\n     * If not set, the id of the `label` in the first radio component will be `\"igx-radio-0-label\"`.\n     * ```html\n     * <igx-radio labelId = \"Label1\"></igx-radio>\n     * ```\n     * ```typescript\n     * let labelId =  this.radio.labelId;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public labelId = `${this.id}-label`;\n    /**\n     * Sets/gets the position of the `label` in the radio component.\n     * If not set, `labelPosition` will have value `\"after\"`.\n     * ```html\n     * <igx-radio labelPosition = \"before\"></igx-radio>\n     * ```\n     * ```typescript\n     * let labelPosition =  this.radio.labelPosition;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public labelPosition: RadioLabelPosition | string = 'after';\n    /**\n     * Sets/gets the `value` attribute.\n     * ```html\n     * <igx-radio [value] = \"'radioButtonValue'\"></igx-radio>\n     * ```\n     * ```typescript\n     * let value =  this.radio.value;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public value: any;\n    /**\n     * Sets/gets the `name` attribute of the radio component.\n     * ```html\n     * <igx-radio name = \"Radio1\"></igx-radio>\n     *  ```\n     * ```typescript\n     * let name =  this.radio.name;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public name: string;\n    /**\n     * Sets the value of the `tabindex` attribute.\n     * ```html\n     * <igx-radio [tabindex] = \"1\"></igx-radio>\n     * ```\n     * ```typescript\n     * let tabIndex =  this.radio.tabindex;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public tabindex: number = null;\n    /**\n     * Enables/disables the ripple effect on the radio button..\n     * If not set, the `disableRipple` will have value `false`.\n     * ```html\n     * <igx-radio [disableRipple] = \"true\"></igx-radio>\n     * ```\n     * ```typescript\n     * let isDisabledRipple =  this.radio.disableRipple;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public disableRipple = false;\n    /**\n     * Sets/gets whether the radio button is required.\n     * If not set, `required` will have value `false`.\n     * ```html\n     * <igx-radio [required] = \"true\"></igx-radio>\n     * ```\n     * ```typescript\n     * let isRequired =  this.radio.required;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input() public required = false;\n    /**\n     * Sets/gets the `aria-labelledby` attribute of the radio component.\n     * If not set, the `aria-labelledby` will be equal to the value of `labelId` attribute.\n     * ```html\n     * <igx-radio aria-labelledby = \"Radio1\"></igx-radio>\n     * ```\n     * ```typescript\n     * let ariaLabelledBy = this.radio.ariaLabelledBy;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input('aria-labelledby')\n    public ariaLabelledBy = this.labelId;\n    /**\n     * Sets/gets the `aria-label` attribute of the radio component.\n     * ```html\n     * <igx-radio aria-label = \"Radio1\"></igx-radio>\n     * ```\n     * ```typescript\n     * let ariaLabel =  this.radio.ariaLabel;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @Input('aria-label')\n    public ariaLabel: string | null = null;\n    /**\n     * An event that is emitted after the radio `value` is changed.\n     * Provides references to the `IgxRadioComponent` and the `value` property as event arguments.\n     * @memberof IgxRadioComponent\n     */\n    @Output()\n    readonly change: EventEmitter<IChangeRadioEventArgs> = new EventEmitter<IChangeRadioEventArgs>();\n    /**\n     * Returns the class of the radio component.\n     * ```typescript\n     * let radioClass = this.radio.cssClass;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @HostBinding('class.igx-radio')\n    public cssClass = 'igx-radio';\n    /**\n     * Sets/gets  the `checked` attribute.\n     * Default value is `false`.\n     * ```html\n     * <igx-radio [checked] = \"true\"></igx-radio>\n     * ```\n     * ```typescript\n     * let isChecked =  this.radio.checked;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @HostBinding('class.igx-radio--checked')\n    @Input() public checked = false;\n    /**\n     * Sets/gets  the `disabled` attribute.\n     * Default value is `false`.\n     * ```html\n     * <igx-radio [disabled] = \"true\"></igx-radio>\n     * ```\n     * ```typescript\n     * let isDisabled =  this.radio.disabled;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @HostBinding('class.igx-radio--disabled')\n    @Input() public disabled = false;\n    /**\n     * Sets/gets whether the radio component is on focus.\n     * Default value is `false`.\n     * ```typescript\n     * this.radio.focus = true;\n     * ```\n     * ```typescript\n     * let isFocused =  this.radio.focused;\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    @HostBinding('class.igx-radio--focused')\n    public focused = false;\n    /**\n     *@hidden\n     */\n    public inputId = `${this.id}-input`;\n    /**\n     *@hidden\n     */\n    protected _value: any = null;\n\n    constructor() { }\n    /**\n     *@hidden\n     */\n    private _onTouchedCallback: () => void = noop;\n    /**\n     *@hidden\n     */\n    private _onChangeCallback: (_: any) => void = noop;\n    /**\n     *@hidden\n     */\n    public _onRadioChange(event) {\n        event.stopPropagation();\n    }\n    /**\n     *@hidden\n     */\n    public _onRadioClick(event) {\n        event.stopPropagation();\n        this.select();\n\n        if (isIE()) {\n            this.nativeRadio.nativeElement.blur();\n        }\n    }\n    /**\n     *@hidden\n     */\n    public _onLabelClick() {\n        this.select();\n    }\n    /**\n     * Selects the current radio button.\n     * ```typescript\n     * this.radio.select();\n     * ```\n     * @memberof IgxRadioComponent\n     */\n    public select() {\n        if (this.disabled) {\n            return;\n        }\n\n        this.checked = true;\n        this.focused = false;\n        this.change.emit({ value: this.value, radio: this });\n        this._onChangeCallback(this.value);\n    }\n    /**\n     * Checks whether the provided value is consistent to the current radio button.\n     * If it is, the checked attribute will have value `true`;\n     * ```typescript\n     * this.radio.writeValue('radioButtonValue');\n     * ```\n     */\n    public writeValue(value: any) {\n        this._value = value;\n        this.checked = (this._value === this.value);\n    }\n    /** @hidden */\n    getEditElement() {\n        return this.nativeRadio.nativeElement;\n    }\n    /**\n     *@hidden\n     */\n    public get labelClass(): string {\n        switch (this.labelPosition) {\n            case RadioLabelPosition.BEFORE:\n                return `${this.cssClass}__label--before`;\n            case RadioLabelPosition.AFTER:\n            default:\n                return `${this.cssClass}__label`;\n        }\n    }\n    /**\n     *@hidden\n     */\n    public onFocus() {\n        this.focused = true;\n    }\n    /**\n     *@hidden\n     */\n    public onBlur() {\n        this.focused = false;\n        this._onTouchedCallback();\n    }\n    /**\n     *@hidden\n     */\n    public registerOnChange(fn: (_: any) => void) { this._onChangeCallback = fn; }\n    /**\n     *@hidden\n     */\n    public registerOnTouched(fn: () => void) { this._onTouchedCallback = fn; }\n}\n","import { Directive, ElementRef, HostListener, Input, NgModule, NgZone, Renderer2 } from '@angular/core';\nimport { AnimationBuilder, style, animate } from '@angular/animations';\n\n@Directive({\n    selector: '[igxRipple]'\n})\nexport class IgxRippleDirective {\n    /**\n     * Sets/gets the ripple target.\n     * ```html\n     * <div  #rippleContainer class=\"div-1\" igxRipple [igxRippleTarget] = \"'.div-1'\"></div>\n     * ```\n     * ```typescript\n     * @ViewChild('rippleContainer', {read: IgxRippleDirective})\n     * public ripple: IgxRippleDirective;\n     * let rippleTarget = this.ripple.rippleTarget;\n     * ```\n     * Can set the ripple to activate on a child element inside the parent where igxRipple is defined.\n     * ```html\n     * <div #rippleContainer [igxRippleTarget] = \"'#child\"'>\n     *  <button id=\"child\">Click</button>\n     * </div>\n     * ```\n     * @memberof IgxRippleDirective\n     */\n    @Input('igxRippleTarget')\n    public rippleTarget = '';\n    /**\n     * Sets/gets the ripple color.\n     * ```html\n     * <button #rippleContainer [igxRipple] = \"'red'\" ></button>\n     * ```\n     * ```typescript\n     * @ViewChild('rippleContainer', {read: IgxRippleDirective})\n     * public ripple: IgxRippleDirective;\n     * let rippleColor = this.ripple.rippleColor;\n     * ```\n     * @memberof IgxRippleDirective\n     */\n    @Input('igxRipple')\n    public rippleColor: string;\n    /**\n     * Sets/gets the ripple duration(in milliseconds).\n     * Default value is `600`.\n     * ```html\n     * <button #rippleContainer igxRipple [igxRippleDuration] = \"800\"></button>\n     * ```\n     * ```typescript\n     * @ViewChild('rippleContainer', {read: IgxRippleDirective})\n     * public ripple: IgxRippleDirective;\n     * let rippleDuration = this.ripple.rippleDuration;\n     * ```\n     * @memberof IgxRippleDirective\n     */\n    @Input('igxRippleDuration')\n    public rippleDuration = 600;\n    /**\n     * Enables/disables the ripple to be centered.\n     * ```html\n     * <button #rippleContainer igxRipple [igxRippleCentered] = \"true\"></button>\n     * ```\n     * @memberof IgxRippleDirective\n     */\n    @Input('igxRippleCentered') set centered(value: boolean) {\n        this._centered = value || this.centered;\n    }\n    /**\n     * Sets/gets whether the ripple is disabled.\n     * Default value is `false`.\n     * ```html\n     * <button #rippleContainer igxRipple [igxRippleDisabled] = \"true\"></button>\n     * ```\n     * ```typescript\n     * @ViewChild('rippleContainer', {read: IgxRippleDirective})\n     * public ripple: IgxRippleDirective;\n     * let isRippleDisabled = this.ripple.rippleDisabled;\n     * ```\n     * @memberof IgxRippleDirective\n     */\n    @Input('igxRippleDisabled')\n    public rippleDisabled = false;\n\n    protected get nativeElement(): HTMLElement {\n        return this.elementRef.nativeElement;\n    }\n\n    private rippleElementClass = 'igx-ripple__inner';\n    private rippleHostClass = 'igx-ripple';\n    private _centered = false;\n    private animationQueue = [];\n\n    constructor(\n        protected builder: AnimationBuilder,\n        protected elementRef: ElementRef,\n        protected renderer: Renderer2,\n        private zone: NgZone) { }\n    /**\n     *@hidden\n     */\n    @HostListener('mousedown', ['$event'])\n    public onMouseDown(event) {\n        this.zone.runOutsideAngular(() => this._ripple(event));\n    }\n\n    private setStyles(rippleElement: HTMLElement, styleParams: any) {\n        this.renderer.addClass(rippleElement, this.rippleElementClass);\n        this.renderer.setStyle(rippleElement, 'width', `${styleParams.radius}px`);\n        this.renderer.setStyle(rippleElement, 'height', `${styleParams.radius}px`);\n        this.renderer.setStyle(rippleElement, 'top', `${styleParams.top}px`);\n        this.renderer.setStyle(rippleElement, 'left', `${styleParams.left}px`);\n        if (this.rippleColor) {\n            this.renderer.setStyle(rippleElement, 'background', this.rippleColor);\n        }\n    }\n\n    private _ripple(event) {\n        if (this.rippleDisabled) {\n            return;\n        }\n\n        const target = (this.rippleTarget ? this.nativeElement.querySelector(this.rippleTarget) || this.nativeElement : this.nativeElement);\n\n        const rectBounds = target.getBoundingClientRect();\n        const radius = Math.max(rectBounds.width, rectBounds.height);\n        let left = event.clientX - rectBounds.left - radius / 2;\n        let top = event.clientY - rectBounds.top - radius / 2;\n\n        if (this._centered) {\n            left = top = 0;\n        }\n\n        const dimensions = {\n            radius,\n            top,\n            left\n        };\n\n        const rippleElement = this.renderer.createElement('span');\n\n        this.setStyles(rippleElement, dimensions);\n        this.renderer.addClass(target, this.rippleHostClass);\n        this.renderer.appendChild(target, rippleElement);\n\n        const animation = this.builder.build([\n            style({ opacity: 0.5, transform: 'scale(.3)' }),\n            animate(this.rippleDuration, style({ opacity: 0, transform: 'scale(2)' }))\n        ]).create(rippleElement);\n\n        this.animationQueue.push(animation);\n\n        animation.onDone(() => {\n            this.animationQueue.splice(this.animationQueue.indexOf(animation), 1);\n            target.removeChild(rippleElement);\n            if (this.animationQueue.length < 1) {\n                this.renderer.removeClass(target, this.rippleHostClass);\n            }\n        });\n\n        animation.play();\n\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxRippleDirective],\n    exports: [IgxRippleDirective]\n})\nexport class IgxRippleModule { }\n","import {\n    Directive,\n    NgModule,\n    Input,\n    QueryList,\n    Output,\n    EventEmitter,\n    AfterContentInit,\n    ContentChildren,\n    OnDestroy,\n    HostBinding\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IgxRadioComponent, RadioLabelPosition, IChangeRadioEventArgs } from '../../radio/radio.component';\nimport { IgxRippleModule } from '../ripple/ripple.directive';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\nconst noop = () => { };\nlet nextId = 0;\n\n/**\n * Radio group directive renders set of radio buttons.\n *\n * @igxModule IgxRadioModule\n *\n * @igxTheme igx-radio-theme\n *\n * @igxKeywords radiogroup, radio, button, input\n *\n * @igxGroup Data Entry & Display\n *\n * @remarks\n * The Ignite UI Radio Group allows the user to select a single option from an available set of options that are listed side by side.\n *\n * @example:\n * ```html\n * <igx-radio-group name=\"radioGroup\">\n *   <igx-radio *ngFor=\"let item of ['Foo', 'Bar', 'Baz']\" value=\"{{item}}\">\n *      {{item}}\n *   </igx-radio>\n * </igx-radio-group>\n * ```\n */\n@Directive({\n    exportAs: 'igxRadioGroup',\n    selector: 'igx-radio-group, [igxRadioGroup]',\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxRadioGroupDirective, multi: true }]\n})\nexport class IgxRadioGroupDirective implements AfterContentInit, ControlValueAccessor, OnDestroy {\n    /**\n     * Returns reference to the child radio buttons.\n     *\n     * @example\n     * ```typescript\n     * let radioButtons =  this.radioGroup.radioButtons;\n     * ```\n     */\n    @ContentChildren(IgxRadioComponent, { descendants: true }) public radioButtons: QueryList<IgxRadioComponent>;\n\n    /**\n     * Sets/gets the `value` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-radio-group [value] = \"'radioButtonValue'\"></igx-radio-group>\n     * ```\n     */\n    @Input()\n    get value(): any { return this._value; }\n    set value(newValue: any) {\n        if (this._value !== newValue) {\n            this._value = newValue;\n            this._selectRadioButton();\n        }\n    }\n\n    /**\n     * Sets/gets the `name` attribute of the radio group component. All child radio buttons inherits this name.\n     *\n     * @example\n     * ```html\n     * <igx-radio-group name = \"Radio1\"></igx-radio-group>\n     *  ```\n     */\n    @Input()\n    get name(): string { return this._name; }\n    set name(newValue: string) {\n        if (this._name !== newValue) {\n            this._name = newValue;\n            this._setRadioButtonNames();\n        }\n    }\n\n    /**\n     * Sets/gets whether the radio group is required.\n     *\n     * @remarks\n     * If not set, `required` will have value `false`.\n     *\n     * @example\n     * ```html\n     * <igx-radio-group [required] = \"true\"></igx-radio-group>\n     * ```\n     */\n    @Input()\n    get required(): boolean { return this._required; }\n    set required(newValue: boolean) {\n        if (this._required !== newValue) {\n            this._required = newValue;\n            this._setRadioButtonsRequired();\n        }\n    }\n\n    /**\n     * An @Input property that allows you to disable the radio group. By default it's false.\n     *\n     * @example\n     *  ```html\n     * <igx-radio-group [disabled]=\"true\"></igx-radio-group>\n     * ```\n     */\n    @Input()\n    get disabled(): boolean { return this._disabled; }\n    set disabled(newValue: boolean) {\n        if (this._disabled !== newValue) {\n            this._disabled = newValue;\n            this._disableRadioButtons();\n        }\n    }\n\n    /**\n     * Sets/gets the position of the `label` in the child radio buttons.\n     *\n     * @remarks\n     * If not set, `labelPosition` will have value `\"after\"`.\n     *\n     * @example\n     * ```html\n     * <igx-radio-group labelPosition = \"before\"></igx-radio-group>\n     * ```\n     */\n    @Input()\n    get labelPosition(): RadioLabelPosition | string { return this._labelPosition; }\n    set labelPosition(newValue: RadioLabelPosition | string) {\n        if (this._labelPosition !== newValue) {\n            this._labelPosition = newValue === RadioLabelPosition.BEFORE ? RadioLabelPosition.BEFORE : RadioLabelPosition.AFTER;\n            this._setRadioButtonLabelPosition();\n        }\n    }\n\n    /**\n     * Sets/gets the selected child radio button.\n     *\n     * @example\n     * ```typescript\n     * let selectedButton = this.radioGroup.selected;\n     * this.radioGroup.selected = selectedButton;\n     * ```\n     */\n    @Input()\n    get selected() { return this._selected; }\n    set selected(selected: IgxRadioComponent | null) {\n        if (this._selected !== selected) {\n            this._selected = selected;\n            this.value = selected ? selected.value : null;\n        }\n    }\n\n    /**\n     * An event that is emitted after the radio group `value` is changed.\n     *\n     * @remarks\n     * Provides references to the selected `IgxRadioComponent` and the `value` property as event arguments.\n     *\n     * @example\n     * ```html\n     * <igx-radio-group (change)=\"handler($event)\"></igx-radio-group>\n     * ```\n     */\n    @Output()\n    readonly change: EventEmitter<IChangeRadioEventArgs> = new EventEmitter<IChangeRadioEventArgs>();\n\n    /**\n     * The css class applied to the component.\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-radio-group')\n    public cssClass = 'igx-radio-group';\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _onChangeCallback: (_: any) => void = noop;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _name = `igx-radio-group-${nextId++}`;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _value: any = null;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _selected: IgxRadioComponent | null = null;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _isInitialized = false;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _labelPosition: RadioLabelPosition | string = 'after';\n    /**\n     * @hidden\n     * @internal\n     */\n    private _disabled = false;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _required = false;\n    /**\n     * @hidden\n     * @internal\n     */\n    private destroy$ = new Subject<boolean>();\n\n    ngAfterContentInit() {\n        // The initial value can possibly be set by NgModel and it is possible that\n        // the OnInit of the NgModel occurs after the OnInit of this class.\n        this._isInitialized = true;\n\n        setTimeout(() => { this._initRadioButtons(); });\n    }\n\n    /**\n     * Sets the \"checked\" property value on the radio input element.\n     *\n     * @remarks\n     * Checks whether the provided value is consistent to the current radio button.\n     * If it is, the checked attribute will have value `true` and selected property will contain the selected `IgxRadioComponent`.\n     *\n     * @example\n     * ```typescript\n     * this.radioGroup.writeValue('radioButtonValue');\n     * ```\n     */\n    public writeValue(value: any) {\n        this.value = value;\n    }\n\n    /**\n     * Registers a function called when the control value changes.\n     *\n     * @hidden\n     * @internal\n     */\n    public registerOnChange(fn: (_: any) => void) { this._onChangeCallback = fn; }\n\n    /**\n     * Registers a function called when the control is touched.\n     *\n     * @hidden\n     * @internal\n     */\n    public registerOnTouched(fn: () => void) {\n        if (this.radioButtons) {\n            this.radioButtons.forEach((button) => {\n                button.registerOnTouched(fn);\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _initRadioButtons() {\n        if (this.radioButtons) {\n            const props = { name: this._name, labelPosition: this._labelPosition, disabled: this._disabled, required: this._required };\n            this.radioButtons.forEach((button) => {\n                Object.assign(button, props);\n\n                if (button.value === this._value) {\n                    button.checked = true;\n                    this._selected = button;\n                }\n\n                button.change.pipe(takeUntil(this.destroy$)).subscribe((ev) => this._selectedRadioButtonChanged(ev));\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _selectedRadioButtonChanged(args: IChangeRadioEventArgs) {\n        if (this._selected !== args.radio) {\n            if (this._selected) {\n                this._selected.checked = false;\n            }\n            this._selected = args.radio;\n        }\n\n        this._value = args.value;\n\n        if (this._isInitialized) {\n            this.change.emit(args);\n            this._onChangeCallback(this.value);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _setRadioButtonNames() {\n        if (this.radioButtons) {\n            this.radioButtons.forEach((button) => {\n                button.name = this._name;\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _selectRadioButton() {\n        if (this.radioButtons) {\n            this.radioButtons.forEach((button) => {\n                if (!this._value) {\n                    // no value - uncheck all radio buttons\n                    if (button.checked) {\n                        button.checked = false;\n                    }\n                } else {\n                    if (this._value === button.value) {\n                        // selected button\n                        if (this._selected !== button) {\n                            this._selected = button;\n                        }\n\n                        if (!button.checked) {\n                            button.select();\n                        }\n                    } else {\n                        // non-selected button\n                        if (button.checked) {\n                            button.checked = false;\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _setRadioButtonLabelPosition() {\n        if (this.radioButtons) {\n            this.radioButtons.forEach((button) => {\n                button.labelPosition = this._labelPosition;\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _disableRadioButtons() {\n        if (this.radioButtons) {\n            this.radioButtons.forEach((button) => {\n                button.disabled = this._disabled;\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _setRadioButtonsRequired() {\n        if (this.radioButtons) {\n            this.radioButtons.forEach((button) => {\n                button.required = this._required;\n            });\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxRadioGroupDirective, IgxRadioComponent],\n    exports: [IgxRadioGroupDirective, IgxRadioComponent],\n    imports: [IgxRippleModule]\n})\nexport class IgxRadioModule { }\n","import {\n    AfterViewInit,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    Input,\n    NgModule,\n    OnChanges,\n    OnDestroy,\n    Renderer2,\n    SimpleChanges,\n    AfterViewChecked,\n} from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { DeprecateProperty } from '../../core/deprecateDecorators';\n\ninterface ISearchInfo {\n    searchedText: string;\n    content: string;\n    matchCount: number;\n    caseSensitive: boolean;\n    exactMatch: boolean;\n}\n\n/**\n * An interface describing information for the active highlight.\n */\nexport interface IActiveHighlightInfo {\n    /**\n     * The row index of the highlight. This property is deprecated, use `row` instead.\n     */\n    rowIndex?: number;\n    /**\n     * The column index of the highlight. This property is deprecated, use `column` instead.\n     */\n    columnIndex?: number;\n    /**\n     * The page index of the highlight. This property is deprecated.\n     */\n    page?: number;\n    /**\n     * The row of the highlight.\n     */\n    row?: any;\n    /**\n     * The column of the highlight.\n     */\n    column?: any;\n    /**\n     * The index of the highlight.\n     */\n    index: number;\n}\n\n@Directive({\n    selector: '[igxTextHighlight]'\n})\nexport class IgxTextHighlightDirective implements AfterViewInit, AfterViewChecked, OnDestroy, OnChanges {\n    private static onActiveElementChanged = new EventEmitter<string>();\n    public static highlightGroupsMap = new Map<string, IActiveHighlightInfo>();\n\n    private _lastSearchInfo: ISearchInfo;\n    private _div = null;\n    private _observer: MutationObserver = null;\n    private _nodeWasRemoved = false;\n    private _forceEvaluation = false;\n    private _activeElementIndex = -1;\n    private _valueChanged: boolean;\n    private _defaultCssClass = 'igx-highlight';\n    private _defaultActiveCssClass = 'igx-highlight--active';\n\n    /**\n     * Determines the `CSS` class of the highlight elements.\n     * This allows the developer to provide custom `CSS` to customize the highlight.\n     *\n     * ```html\n     * <div\n     *   igxTextHighlight\n     *   [cssClass]=\"myClass\">\n     * </div>\n     * ```\n     */\n    @Input('cssClass')\n    public cssClass: string;\n\n    /**\n     * Determines the `CSS` class of the active highlight element.\n     * This allows the developer to provide custom `CSS` to customize the highlight.\n     *\n     * ```html\n     * <div\n     *   igxTextHighlight\n     *   [activeCssClass]=\"activeHighlightClass\">\n     * </div>\n     * ```\n     */\n    @Input('activeCssClass')\n    public activeCssClass: string;\n\n    /**\n     * @hidden\n     */\n    @Input('containerClass')\n    public containerClass: string;\n\n    /**\n     * Identifies the highlight within a unique group.\n     * This allows it to have several different highlight groups,\n     * with each of them having their own active highlight.\n     *\n     * ```html\n     * <div\n     *   igxTextHighlight\n     *   [groupName]=\"myGroupName\">\n     * </div>\n     * ```\n     */\n    @Input('groupName')\n    public groupName = '';\n\n    private _value = '';\n\n    /**\n     * The underlying value of the element that will be highlighted.\n     *\n     * ```typescript\n     * // get\n     * const elementValue = this.textHighlight.value;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <div\n     *   igxTextHighlight\n     *   [value]=\"newValue\">\n     * </div>\n     * ```\n     */\n    @Input('value')\n    public get value(): any {\n        return this._value;\n    }\n    public set value(value: any) {\n        if (value === undefined || value === null) {\n            this._value = '';\n        } else {\n            this._value = value;\n        }\n    }\n\n    /**\n     * The identifier of the row on which the directive is currently on.\n     *\n     * ```html\n     * <div\n     *   igxTextHighlight\n     *   [row]=\"0\">\n     * </div>\n     * ```\n     */\n    @Input('row')\n    public row: any;\n\n    /**\n     * The identifier of the column on which the directive is currently on.\n     *\n     * ```html\n     * <div\n     *   igxTextHighlight\n     *   [column]=\"0\">\n     * </div>\n     * ```\n     */\n    @Input('column')\n    public column: any;\n\n    @Input('page')\n    @DeprecateProperty(`IgxTextHighlightDirective 'page' input property is deprecated.`)\n    public page: number;\n\n    /**\n     * @hidden\n     */\n    public get lastSearchInfo(): ISearchInfo {\n        return this._lastSearchInfo;\n    }\n\n    /**\n     * @hidden\n     */\n    public parentElement: any;\n\n    private _container: any;\n\n    private destroy$ = new Subject<boolean>();\n\n    /**\n     * Activates the highlight at a given index.\n     * (if such index exists)\n     */\n    public static setActiveHighlight(groupName: string, highlight: IActiveHighlightInfo) {\n        IgxTextHighlightDirective.highlightGroupsMap.set(groupName, highlight);\n        IgxTextHighlightDirective.onActiveElementChanged.emit(groupName);\n    }\n\n    /**\n     * Clears any existing highlight.\n     */\n    public static clearActiveHighlight(groupName) {\n        IgxTextHighlightDirective.highlightGroupsMap.set(groupName, {\n            index: -1\n        });\n        IgxTextHighlightDirective.onActiveElementChanged.emit(groupName);\n    }\n\n    constructor(private element: ElementRef, public renderer: Renderer2) {\n        IgxTextHighlightDirective.onActiveElementChanged.pipe(takeUntil(this.destroy$)).subscribe((groupName) => {\n            if (this.groupName === groupName) {\n                if (this._activeElementIndex !== -1) {\n                    this.deactivate();\n                }\n                this.activateIfNecessary();\n            }\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        this.clearHighlight();\n\n        if (this._observer !== null) {\n            this._observer.disconnect();\n        }\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes.value && !changes.value.firstChange) {\n            this._valueChanged = true;\n        } else if ((changes.row !== undefined && !changes.row.firstChange) ||\n            (changes.column !== undefined && !changes.column.firstChange) ||\n            (changes.page !== undefined && !changes.page.firstChange)) {\n            if (this._activeElementIndex !== -1) {\n                this.deactivate();\n            }\n            this.activateIfNecessary();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterViewInit() {\n        this.parentElement = this.renderer.parentNode(this.element.nativeElement);\n\n        if (IgxTextHighlightDirective.highlightGroupsMap.has(this.groupName) === false) {\n            IgxTextHighlightDirective.highlightGroupsMap.set(this.groupName, {\n                index: -1\n            });\n        }\n\n        this._lastSearchInfo = {\n            searchedText: '',\n            content: this.value,\n            matchCount: 0,\n            caseSensitive: false,\n            exactMatch: false\n        };\n\n        this._container = this.parentElement.firstElementChild;\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterViewChecked() {\n        if (this._valueChanged) {\n            this.highlight(this._lastSearchInfo.searchedText, this._lastSearchInfo.caseSensitive, this._lastSearchInfo.exactMatch);\n            this.activateIfNecessary();\n            this._valueChanged = false;\n        }\n    }\n\n    /**\n     * Clears the existing highlight and highlights the searched text.\n     * Returns how many times the element contains the searched text.\n     */\n    public highlight(text: string, caseSensitive?: boolean, exactMatch?: boolean): number {\n        const caseSensitiveResolved = caseSensitive ? true : false;\n        const exactMatchResolved = exactMatch ? true : false;\n\n        if (this.searchNeedsEvaluation(text, caseSensitiveResolved, exactMatchResolved)) {\n            this._lastSearchInfo.searchedText = text;\n            this._lastSearchInfo.caseSensitive = caseSensitiveResolved;\n            this._lastSearchInfo.exactMatch = exactMatchResolved;\n            this._lastSearchInfo.content = this.value;\n\n            if (text === '' || text === undefined || text === null) {\n                this.clearHighlight();\n            } else {\n                this.clearChildElements(true);\n                this._lastSearchInfo.matchCount = this.getHighlightedText(text, caseSensitive, exactMatch);\n            }\n        } else if (this._nodeWasRemoved) {\n            this._lastSearchInfo.searchedText = text;\n            this._lastSearchInfo.caseSensitive = caseSensitiveResolved;\n            this._lastSearchInfo.exactMatch = exactMatchResolved;\n        }\n\n        return this._lastSearchInfo.matchCount;\n    }\n\n    /**\n     * Clears any existing highlight.\n     */\n    public clearHighlight(): void {\n        this.clearChildElements(false);\n\n        this._lastSearchInfo.searchedText = '';\n        this._lastSearchInfo.matchCount = 0;\n    }\n\n    /**\n     * Activates the highlight if it is on the currently active row, column and page.\n     */\n    public activateIfNecessary(): void {\n        const group = IgxTextHighlightDirective.highlightGroupsMap.get(this.groupName);\n        const column = group.columnIndex === undefined ? group.column : group.columnIndex;\n        const row = group.rowIndex === undefined ? group.row : group.rowIndex;\n\n        if (column === this.column && row === this.row && group.page === this.page) {\n            this.activate(group.index);\n        }\n    }\n\n    /**\n     * Attaches a MutationObserver to the parentElement and watches for when the container element is removed/readded to the DOM.\n     * Should be used only when necessary as using many observers may lead to performance degradation.\n     */\n    public observe(): void {\n        if (this._observer === null) {\n            const callback = (mutationList) => {\n                mutationList.forEach((mutation) => {\n                    const removedNodes = Array.from(mutation.removedNodes);\n                    removedNodes.forEach((n) => {\n                        if (n === this._container) {\n                            this._nodeWasRemoved = true;\n                            this.clearChildElements(false);\n                        }\n                    });\n\n                    const addedNodes = Array.from(mutation.addedNodes);\n                    addedNodes.forEach((n) => {\n                        if (n === this.parentElement.firstElementChild && this._nodeWasRemoved) {\n                            this._container = this.parentElement.firstElementChild;\n                            this._nodeWasRemoved = false;\n\n                            this._forceEvaluation = true;\n                            this.highlight(this._lastSearchInfo.searchedText,\n                                this._lastSearchInfo.caseSensitive,\n                                this._lastSearchInfo.exactMatch);\n                            this._forceEvaluation = false;\n\n                            this.activateIfNecessary();\n                            this._observer.disconnect();\n                            this._observer = null;\n                        }\n                    });\n                });\n            };\n\n            this._observer = new MutationObserver(callback);\n            this._observer.observe(this.parentElement, {childList: true});\n        }\n    }\n\n    private activate(index: number) {\n        this.deactivate();\n\n        if (this._div !== null) {\n            const spans = this._div.querySelectorAll('span');\n            this._activeElementIndex = index;\n\n            if (spans.length <= index) {\n                return;\n            }\n\n            const elementToActivate = spans[index];\n            this.renderer.addClass(elementToActivate, this._defaultActiveCssClass);\n            this.renderer.addClass(elementToActivate, this.activeCssClass);\n        }\n    }\n\n    private deactivate() {\n        if (this._activeElementIndex === -1) {\n            return;\n        }\n\n        const spans = this._div.querySelectorAll('span');\n\n        if (spans.length <= this._activeElementIndex) {\n            this._activeElementIndex = -1;\n            return;\n        }\n\n        const elementToDeactivate = spans[this._activeElementIndex];\n        this.renderer.removeClass(elementToDeactivate, this._defaultActiveCssClass);\n        this.renderer.removeClass(elementToDeactivate, this.activeCssClass);\n        this._activeElementIndex = -1;\n    }\n\n    private clearChildElements(originalContentHidden: boolean): void {\n        this.renderer.setProperty(this.element.nativeElement, 'hidden', originalContentHidden);\n\n        if (this._div !== null) {\n            this.renderer.removeChild(this.parentElement, this._div);\n\n            this._div = null;\n            this._activeElementIndex = -1;\n        }\n    }\n\n    private getHighlightedText(searchText: string, caseSensitive: boolean, exactMatch: boolean) {\n        this.appendDiv();\n\n        const stringValue = String(this.value);\n        const contentStringResolved = !caseSensitive ? stringValue.toLowerCase() : stringValue;\n        const searchTextResolved = !caseSensitive ? searchText.toLowerCase() : searchText;\n\n        let matchCount = 0;\n\n        if (exactMatch) {\n            if (contentStringResolved === searchTextResolved) {\n                // tslint:disable-next-line:max-line-length\n                this.appendSpan(`<span class=\"${this._defaultCssClass} ${this.cssClass ? this.cssClass : ''}\">${stringValue}</span>`);\n                matchCount++;\n            } else {\n                this.appendText(stringValue);\n            }\n        } else {\n            let foundIndex = contentStringResolved.indexOf(searchTextResolved, 0);\n            let previousMatchEnd = 0;\n\n            while (foundIndex !== -1) {\n                const start = foundIndex;\n                const end = foundIndex + searchTextResolved.length;\n\n                this.appendText(stringValue.substring(previousMatchEnd, start));\n                // tslint:disable-next-line:max-line-length\n                this.appendSpan(`<span class=\"${this._defaultCssClass} ${this.cssClass ? this.cssClass : ''}\">${stringValue.substring(start, end)}</span>`);\n\n                previousMatchEnd = end;\n                matchCount++;\n\n                foundIndex = contentStringResolved.indexOf(searchTextResolved, end);\n            }\n\n            this.appendText(stringValue.substring(previousMatchEnd, stringValue.length));\n        }\n\n        return matchCount;\n    }\n\n    private appendText(text: string) {\n        const textElement = this.renderer.createText(text);\n        this.renderer.appendChild(this._div, textElement);\n    }\n\n    private appendSpan(outerHTML: string) {\n        const span = this.renderer.createElement('span');\n        this.renderer.appendChild(this._div, span);\n        this.renderer.setProperty(span, 'outerHTML', outerHTML);\n    }\n\n    private appendDiv() {\n        this._div = this.renderer.createElement('div');\n        if ( this.containerClass) {\n            this.renderer.addClass(this._div, this.containerClass);\n        }\n        this.renderer.appendChild(this.parentElement, this._div);\n    }\n\n    private searchNeedsEvaluation(text: string, caseSensitive: boolean, exactMatch: boolean): boolean {\n        const searchedText = this._lastSearchInfo.searchedText;\n\n        return !this._nodeWasRemoved &&\n            (searchedText === null ||\n                searchedText !== text ||\n                this._lastSearchInfo.content !== this.value ||\n                this._lastSearchInfo.caseSensitive !== caseSensitive ||\n                this._lastSearchInfo.exactMatch !== exactMatch ||\n                this._forceEvaluation);\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxTextHighlightDirective],\n    exports: [IgxTextHighlightDirective]\n})\nexport class IgxTextHighlightModule { }\n","import { Directive, ElementRef, HostListener, Input, NgModule } from '@angular/core';\n\n@Directive({\n    exportAs: 'igxTextSelection',\n    selector: '[igxTextSelection]'\n})\nexport class IgxTextSelectionDirective {\n\n    private selectionState = true;\n\n    /**\n     * Returns whether the input element is selectable through the directive.\n     *\n     * ```typescript\n     * // get\n     * @ViewChild('firstName',\n     *  {read: IgxTextSelectionDirective})\n     * public firstName: IgxTextSelectionDirective;\n     *\n     * public getFirstNameSelectionStatus() {\n     *  return this.firstName.selected;\n     * }\n     * ```\n     */\n    @Input('igxTextSelection')\n    get selected(): boolean {\n        return this.selectionState;\n    }\n\n    /**\n     *  Determines whether the input element could be selected through the directive.\n     *\n     *```html\n     * <!--set-->\n     * <input\n     *   type=\"text\"\n     *   id=\"firstName\"\n     *   [igxTextSelection]=\"true\">\n     * </input>\n     *\n     * <input\n     *   type=\"text\"\n     *   id=\"lastName\"\n     *   igxTextSelection\n     *   [selected]=\"true\">\n     * </input>\n     * ```\n     */\n    set selected(val: boolean) {\n        this.selectionState = val;\n    }\n\n    /**\n     * Returns the nativeElement of the element where the directive was applied.\n     *\n     * ```html\n     * <input\n     *   type=\"text\"\n    *    id=\"firstName\"\n     *   igxTextSelection>\n     * </input>\n     * ```\n     *\n     * ```typescript\n     * @ViewChild('firstName',\n     *  {read: IgxTextSelectionDirective})\n     * public inputElement: IgxTextSelectionDirective;\n     *\n     * public getNativeElement() {\n     *  return this.inputElement.nativeElement;\n     * }\n     * ```\n     */\n    get nativeElement() {\n        return this.element.nativeElement;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('focus')\n    onFocus() {\n        this.trigger();\n    }\n\n    constructor(private element: ElementRef) { }\n\n    /**\n     * Triggers the selection of the element if it is marked as selectable.\n     *\n     * ```html\n     * <input\n     *   type=\"text\"\n     *   id=\"firstName\"\n     *   igxTextSelection>\n     * </input>\n     * ```\n     *\n     * ```typescript\n     * @ViewChild('firstName',\n     *  {read: IgxTextSelectionDirective})\n     * public inputElement: IgxTextSelectionDirective;\n     *\n     * public triggerElementSelection() {\n     *  this.inputElement.trigger();\n     * }\n     * ```\n     */\n    trigger() {\n        if (this.selected && this.nativeElement.value.length) {\n            requestAnimationFrame(() => this.nativeElement.setSelectionRange(0, this.nativeElement.value.length));\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxTextSelectionDirective],\n    exports: [IgxTextSelectionDirective]\n})\nexport class IgxTextSelectionModule { }\n","import {\n    Directive, ElementRef, HostListener, Input, NgModule, ChangeDetectorRef, OnInit,\n    Output, EventEmitter, Optional, HostBinding, Inject\n} from '@angular/core';\nimport { useAnimation } from '@angular/animations';\nimport { scaleInCenter } from '../../animations/scale/index';\nimport { fadeOut } from '../../animations/fade/index';\nimport { IgxOverlayService } from '../../services/overlay/overlay';\nimport { HorizontalAlignment, AutoPositionStrategy, PositionSettings, OverlaySettings } from '../../services';\nimport { CommonModule } from '@angular/common';\nimport { IgxNavigationService } from '../../core/navigation';\nimport { IgxToggleDirective, IgxToggleActionDirective } from '../toggle/toggle.directive';\nimport { IBaseEventArgs } from '../../core/utils';\n\nexport interface ITooltipShowEventArgs extends IBaseEventArgs {\n    target: IgxTooltipTargetDirective;\n    tooltip: IgxTooltipDirective;\n    cancel: boolean;\n}\nexport interface ITooltipHideEventArgs extends IBaseEventArgs {\n    target: IgxTooltipTargetDirective;\n    tooltip: IgxTooltipDirective;\n    cancel: boolean;\n}\n\n/**\n * **Ignite UI for Angular Tooltip Target** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/tooltip.html)\n *\n * The Ignite UI for Angular Tooltip Target directive is used to mark an HTML element in the markup as one that has a tooltip.\n * The tooltip target is used in combination with the Ignite UI for Angular Tooltip by assigning the exported tooltip reference to the\n * target's selector property.\n *\n * Example:\n * ```html\n * <button [igxTooltipTarget]=\"tooltipRef\">Hover me</button>\n * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n * ```\n */\n@Directive({\n    exportAs: 'tooltipTarget',\n    selector: '[igxTooltipTarget]'\n})\nexport class IgxTooltipTargetDirective extends IgxToggleActionDirective implements OnInit {\n    /**\n     * Gets/sets the amount of milliseconds that should pass before showing the tooltip.\n     *\n     * ```typescript\n     * // get\n     * let tooltipShowDelay = this.tooltipTarget.showDelay;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <button [igxTooltipTarget]=\"tooltipRef\" showDelay=\"1500\">Hover me</button>\n     * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n     * ```\n     */\n    @Input('showDelay')\n    public showDelay = 500;\n\n    /**\n     * Gets/sets the amount of milliseconds that should pass before hiding the tooltip.\n     *\n     * ```typescript\n     * // get\n     * let tooltipHideDelay = this.tooltipTarget.hideDelay;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <button [igxTooltipTarget]=\"tooltipRef\" hideDelay=\"1500\">Hover me</button>\n     * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n     * ```\n     */\n    @Input('hideDelay')\n    public hideDelay = 500;\n\n    /**\n     * Specifies if the tooltip should not show when hovering its target with the mouse. (defaults to false)\n     * While setting this property to 'true' will disable the user interactions that shows/hides the tooltip,\n     * the developer will still be able to show/hide the tooltip through the API.\n     *\n     * ```typescript\n     * // get\n     * let tooltipDisabledValue = this.tooltipTarget.tooltipDisabled;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <button [igxTooltipTarget]=\"tooltipRef\" [tooltipDisabled]=\"true\">Hover me</button>\n     * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n     * ```\n     */\n    @Input('tooltipDisabled')\n    public tooltipDisabled = false;\n\n    /**\n     * @hidden\n     */\n    @Input('igxTooltipTarget')\n    set target(target: any) {\n        if (target !== null && target !== '') {\n            this._target = target;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    get target(): any {\n        if (typeof this._target === 'string') {\n            return this._navigationService.get(this._target);\n        }\n        return this._target;\n    }\n\n    /**\n     * Gets the respective native element of the directive.\n     *\n     * ```typescript\n     * let tooltipTargetElement = this.tooltipTarget.nativeElement;\n     * ```\n     */\n    public get nativeElement() {\n        return this._element.nativeElement;\n    }\n\n    /**\n     * Indicates if the tooltip that is is associated with this target is currently hidden.\n     *\n     * ```typescript\n     * let tooltipHiddenValue = this.tooltipTarget.tooltipHidden;\n     * ```\n     */\n    public get tooltipHidden(): boolean {\n        return !this.target || this.target.collapsed;\n    }\n\n    /**\n     * Emits an event when the tooltip that is associated with this target starts showing.\n     * This event is fired before the start of the countdown to showing the tooltip.\n     *\n     * ```typescript\n     * tooltipShowing(args: ITooltipShowEventArgs) {\n     *    alert(\"Tooltip started showing!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <button [igxTooltipTarget]=\"tooltipRef\"\n     *         (onTooltipShow)='tooltipShowing($event)'>Hover me</button>\n     * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n     * ```\n     */\n    @Output()\n    public onTooltipShow = new EventEmitter<ITooltipShowEventArgs>();\n\n    /**\n     * Emits an event when the tooltip that is associated with this target starts hiding.\n     * This event is fired before the start of the countdown to hiding the tooltip.\n     *\n     * ```typescript\n     * tooltipHiding(args: ITooltipHideEventArgs) {\n     *    alert(\"Tooltip started hiding!\");\n     * }\n     * ```\n     *\n     * ```html\n     * <button [igxTooltipTarget]=\"tooltipRef\"\n     *         (onTooltipHide)='tooltipHiding($event)'>Hover me</button>\n     * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n     * ```\n     */\n    @Output()\n    public onTooltipHide = new EventEmitter<ITooltipHideEventArgs>();\n\n    constructor(private _element: ElementRef,\n        @Optional() private _navigationService: IgxNavigationService) {\n        super(_element, _navigationService);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        super.ngOnInit();\n\n        const positionSettings: PositionSettings = {\n            target: this.nativeElement,\n            horizontalDirection: HorizontalAlignment.Center,\n            horizontalStartPoint: HorizontalAlignment.Center,\n            openAnimation: useAnimation(scaleInCenter, { params: { duration: '150ms' } }),\n            closeAnimation: useAnimation(fadeOut, { params: { duration: '75ms' } })\n        };\n\n        this._overlayDefaults.positionStrategy = new AutoPositionStrategy(positionSettings);\n        this._overlayDefaults.closeOnOutsideClick = false;\n    }\n\n    private checkOutletAndOutsideClick() {\n        if (this.outlet) {\n            this._overlayDefaults.outlet = this.outlet;\n        }\n    }\n\n    private get mergedOverlaySettings() {\n        return Object.assign({}, this._overlayDefaults, this.overlaySettings);\n    }\n\n    // Return true if the execution in onMouseEnter should be terminated after this method\n    private preMouseEnterCheck() {\n        // If tooltip is about to be opened\n        if (this.target.toBeShown) {\n            clearTimeout(this.target.timeoutId);\n            this.target.toBeShown = false;\n        }\n\n        // If Tooltip is opened or about to be hidden\n        if (!this.target.collapsed || this.target.toBeHidden) {\n            clearTimeout(this.target.timeoutId);\n\n            const hidingArgs = { target: this, tooltip: this.target, cancel: false };\n            this.onTooltipHide.emit(hidingArgs);\n\n            if (hidingArgs.cancel) {\n                return true;\n            }\n\n            //  if close animation has started finish it, or close the tooltip with no animation\n            this.target.forceClose(this.mergedOverlaySettings);\n            this.target.toBeHidden = false;\n        }\n\n        return false;\n    }\n\n    // Return true if the execution in onMouseLeave should be terminated after this method\n    private preMouseLeaveCheck(): boolean {\n        clearTimeout(this.target.timeoutId);\n\n        // If tooltip is about to be opened\n        if (this.target.toBeShown) {\n            this.target.toBeShown = false;\n            this.target.toBeHidden = false;\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('document:keydown.escape', ['$event'])\n    public onKeydownEscape(event) {\n        const hidingArgs = { target: this, tooltip: this.target, cancel: false };\n        this.onTooltipHide.emit(hidingArgs);\n\n        if (hidingArgs.cancel) {\n            return;\n        }\n\n        this.target.toBeHidden = true;\n        this.target.close();\n        this.target.toBeHidden = false;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('click')\n    public onClick() {\n        if (!this.target.collapsed) {\n            const hidingArgs = { target: this, tooltip: this.target, cancel: false };\n            this.onTooltipHide.emit(hidingArgs);\n\n            if (hidingArgs.cancel) {\n                return;\n            }\n\n            this.target.forceClose(this.mergedOverlaySettings);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mouseenter')\n    public onMouseEnter() {\n        if (this.tooltipDisabled) {\n            return;\n        }\n\n        this.checkOutletAndOutsideClick();\n        const shouldReturn = this.preMouseEnterCheck();\n        if (shouldReturn) {\n            return;\n        }\n\n        const showingArgs = { target: this, tooltip: this.target, cancel: false };\n        this.onTooltipShow.emit(showingArgs);\n\n        if (showingArgs.cancel) {\n            return;\n        }\n\n        this.target.toBeShown = true;\n        this.target.timeoutId = setTimeout(() => {\n            this.target.open(this.mergedOverlaySettings); // Call open() of IgxTooltipDirective\n            this.target.toBeShown = false;\n        }, this.showDelay);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mouseleave')\n    public onMouseLeave() {\n        if (this.tooltipDisabled) {\n            return;\n        }\n\n        this.checkOutletAndOutsideClick();\n        const shouldReturn = this.preMouseLeaveCheck();\n        if (shouldReturn || this.target.collapsed) {\n            return;\n        }\n\n        const hidingArgs = { target: this, tooltip: this.target, cancel: false };\n        this.onTooltipHide.emit(hidingArgs);\n\n        if (hidingArgs.cancel) {\n            return;\n        }\n\n        this.target.toBeHidden = true;\n        this.target.timeoutId = setTimeout(() => {\n            this.target.close(); // Call close() of IgxTooltipDirective\n            this.target.toBeHidden = false;\n        }, this.hideDelay);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('touchstart', ['$event'])\n    public onTouchStart(event) {\n        if (this.tooltipDisabled) {\n            return;\n        }\n\n        this.showTooltip();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('document:touchstart', ['$event'])\n    public onDocumentTouchStart(event) {\n        if (this.tooltipDisabled) {\n            return;\n        }\n\n        if (this.nativeElement !== event.target &&\n            !this.nativeElement.contains(event.target)\n        ) {\n            this.hideTooltip();\n        }\n    }\n\n    /**\n     * Shows the tooltip by respecting the 'showDelay' property.\n     *\n     * ```typescript\n     * this.tooltipTarget.showTooltip();\n     * ```\n     */\n    public showTooltip() {\n        clearTimeout(this.target.timeoutId);\n\n        if (!this.target.collapsed) {\n            const hidingArgs = { target: this, tooltip: this.target, cancel: false };\n            this.onTooltipHide.emit(hidingArgs);\n\n            if (hidingArgs.cancel) {\n                return;\n            }\n            //  if close animation has started finish it, or close the tooltip with no animation\n            this.target.forceClose(this.mergedOverlaySettings);\n            this.target.toBeHidden = false;\n        }\n\n        const showingArgs = { target: this, tooltip: this.target, cancel: false };\n        this.onTooltipShow.emit(showingArgs);\n\n        if (showingArgs.cancel) {\n            return;\n        }\n\n        this.target.toBeShown = true;\n        this.target.timeoutId = setTimeout(() => {\n            this.target.open(this.mergedOverlaySettings); // Call open() of IgxTooltipDirective\n            this.target.toBeShown = false;\n        }, this.showDelay);\n    }\n\n    /**\n     * Hides the tooltip by respecting the 'hideDelay' property.\n     *\n     * ```typescript\n     * this.tooltipTarget.hideTooltip();\n     * ```\n     */\n    public hideTooltip() {\n        if (this.target.collapsed && this.target.toBeShown) {\n            clearTimeout(this.target.timeoutId);\n        }\n\n        if (this.target.collapsed || this.target.toBeHidden) {\n            return;\n        }\n\n        const hidingArgs = { target: this, tooltip: this.target, cancel: false };\n        this.onTooltipHide.emit(hidingArgs);\n\n        if (hidingArgs.cancel) {\n            return;\n        }\n\n        this.target.toBeHidden = true;\n        this.target.timeoutId = setTimeout(() => {\n            this.target.close(); // Call close() of IgxTooltipDirective\n            this.target.toBeHidden = false;\n        }, this.hideDelay);\n    }\n}\n\nlet NEXT_ID = 0;\n/**\n * **Ignite UI for Angular Tooltip** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/tooltip.html)\n *\n * The Ignite UI for Angular Tooltip directive is used to mark an HTML element in the markup as one that should behave as a tooltip.\n * The tooltip is used in combination with the Ignite UI for Angular Tooltip Target by assigning the exported tooltip reference to the\n * respective target's selector property.\n *\n * Example:\n * ```html\n * <button [igxTooltipTarget]=\"tooltipRef\">Hover me</button>\n * <span #tooltipRef=\"tooltip\" igxTooltip>Hello there, I am a tooltip!</span>\n * ```\n */\n@Directive({\n    exportAs: 'tooltip',\n    selector: '[igxTooltip]'\n})\nexport class IgxTooltipDirective extends IgxToggleDirective {\n\n    /**\n     * @hidden\n     */\n    public timeoutId;\n\n    /**\n     * @hidden\n     * Returns whether close time out has started\n     */\n    public toBeHidden = false;\n\n    /**\n     * @hidden\n     * Returns whether open time out has started\n     */\n    public toBeShown = false;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-tooltip--hidden')\n    public get hiddenClass() {\n        return this.collapsed;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-tooltip--desktop')\n    public get defaultClass() {\n        return !this.collapsed;\n    }\n\n    /**\n     * Gets/sets any tooltip related data.\n     * The 'context' can be used for storing any information that is necessary\n     * to access when working with the tooltip.\n     *\n     * ```typescript\n     * // get\n     * let tooltipContext = this.tooltip.context;\n     * ```\n     *\n     * ```typescript\n     * // set\n     * this.tooltip.context = \"Tooltip's context\";\n     * ```\n     */\n    @Input('context')\n    public context;\n\n    /**\n     * Identifier for the tooltip.\n     * If this is property is not explicitly set, it will be automatically generated.\n     *\n     * ```typescript\n     * let tooltipId = this.tooltip.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-tooltip-${NEXT_ID++}`;\n\n    /**\n     * Get the role attribute of the tooltip.\n     *\n     * ```typescript\n     * let tooltipRole = this.tooltip.role;\n     * ```\n     */\n    @HostBinding('attr.role')\n    public get role() {\n        return 'tooltip';\n    }\n\n    /** @hidden */\n    constructor(\n        elementRef: ElementRef,\n        cdr: ChangeDetectorRef,\n        @Inject(IgxOverlayService) overlayService: IgxOverlayService,\n        @Optional() navigationService: IgxNavigationService) {\n        // D.P. constructor duplication due to es6 compilation, might be obsolete in the future\n        super(elementRef, cdr, overlayService, navigationService);\n    }\n\n    /**\n     * If there is open animation in progress this method will finish is.\n     * If there is no open animation in progress this method will open the toggle with no animation.\n     * @param overlaySettings setting to use for opening the toggle\n     */\n    protected forceOpen(overlaySettings?: OverlaySettings) {\n        const info = this.overlayService.getOverlayById(this._overlayId);\n        const hasOpenAnimation = info ? info.openAnimationPlayer : false;\n        if (hasOpenAnimation) {\n            info.openAnimationPlayer.finish();\n            info.openAnimationPlayer.reset();\n            info.openAnimationPlayer = null;\n        } else if (this.collapsed) {\n            const animation = overlaySettings.positionStrategy.settings.openAnimation;\n            overlaySettings.positionStrategy.settings.openAnimation = null;\n            this.open(overlaySettings);\n            overlaySettings.positionStrategy.settings.openAnimation = animation;\n        }\n    }\n\n    /**\n     * If there is close animation in progress this method will finish is.\n     * If there is no close animation in progress this method will close the toggle with no animation.\n     * @param overlaySettings settings to use for closing the toggle\n     */\n    protected forceClose(overlaySettings?: OverlaySettings) {\n        const info = this.overlayService.getOverlayById(this._overlayId);\n        const hasCloseAnimation = info ? info.closeAnimationPlayer : false;\n\n        if (hasCloseAnimation) {\n            info.closeAnimationPlayer.finish();\n            info.closeAnimationPlayer.reset();\n            info.closeAnimationPlayer = null;\n        } else if (!this.collapsed) {\n            const animation = overlaySettings.positionStrategy.settings.closeAnimation;\n            overlaySettings.positionStrategy.settings.closeAnimation = null;\n            this.close();\n            overlaySettings.positionStrategy.settings.closeAnimation = animation;\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxTooltipDirective, IgxTooltipTargetDirective],\n    exports: [IgxTooltipDirective, IgxTooltipTargetDirective],\n    imports: [CommonModule],\n    providers: [IgxOverlayService]\n})\nexport class IgxTooltipModule { }\n\n","/**\n * Provides base filtering operations\n * Implementations should be Singleton\n *\n * @export\n */\nexport class IgxFilteringOperand {\n    protected static _instance: IgxFilteringOperand = null;\n    public operations: IFilteringOperation[];\n\n    public constructor() {\n        this.operations = [{\n            name: 'null',\n            isUnary: true,\n            iconName: 'is_null',\n            logic: (target: any) => {\n                return target === null;\n            }\n        }, {\n            name: 'notNull',\n            isUnary: true,\n            iconName: 'is_not_null',\n            logic: (target: any) => {\n                return target !== null;\n            }\n        }, {\n            name: 'in',\n            isUnary: false,\n            iconName: 'is_in',\n            hidden: true,\n            logic: (target: any, searchVal: Set<any>) => {\n                return this.findValueInSet(target, searchVal);\n            }\n        }];\n    }\n\n    public static instance(): IgxFilteringOperand {\n        return this._instance || (this._instance = new this());\n    }\n\n    /**\n     * @hidden\n     */\n    protected findValueInSet(target: any, searchVal: Set<any>) {\n        return searchVal.has(target);\n    }\n\n    /**\n     * Returns an array of names of the conditions which are visible in the UI\n     */\n    public conditionList(): string[] {\n        return this.operations.filter(f => !f.hidden).map((element) => element.name);\n    }\n\n    /**\n     * Returns an instance of the condition with the specified name.\n     * @param name The name of the condition.\n     */\n    public condition(name: string): IFilteringOperation {\n        return this.operations.find((element) => element.name === name);\n    }\n\n    /**\n     * Adds a new condition to the filtering operations.\n     * @param operation The filtering operation.\n     */\n    public append(operation: IFilteringOperation) {\n        this.operations.push(operation);\n    }\n}\n\n/**\n * Provides filtering operations for booleans\n *\n * @export\n */\nexport class IgxBooleanFilteringOperand extends IgxFilteringOperand {\n    protected constructor() {\n        super();\n        this.operations = [{\n            name: 'all',\n            isUnary: true,\n            iconName: 'all',\n            logic: (target: boolean) => {\n                return true;\n            }\n        }, {\n            name: 'true',\n            isUnary: true,\n            iconName: 'is_true',\n            logic: (target: boolean) => {\n                return !!(target && target !== null && target !== undefined);\n            }\n        }, {\n            name: 'false',\n            isUnary: true,\n            iconName: 'is_false',\n            logic: (target: boolean) => {\n                return !target && target !== null && target !== undefined;\n            }\n        }, {\n            name: 'empty',\n            isUnary: true,\n            iconName: 'empty',\n            logic: (target: boolean) => {\n                return target === null || target === undefined;\n            }\n        }, {\n            name: 'notEmpty',\n            isUnary: true,\n            iconName: 'not_empty',\n            logic: (target: boolean) => {\n                return target !== null && target !== undefined;\n            }\n        }].concat(this.operations);\n    }\n}\n\n/**\n * Provides filtering operations for Dates\n *\n * @export\n */\nexport class IgxDateFilteringOperand extends IgxFilteringOperand {\n    protected constructor() {\n        super();\n        this.operations = [{\n            name: 'equals',\n            isUnary: false,\n            iconName: 'equals',\n            logic: (target: Date, searchVal: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const targetp = IgxDateFilteringOperand.getDateParts(target, 'yMd');\n                const searchp = IgxDateFilteringOperand.getDateParts(searchVal, 'yMd');\n                return targetp.year === searchp.year &&\n                    targetp.month === searchp.month &&\n                    targetp.day === searchp.day;\n            }\n        }, {\n            name: 'doesNotEqual',\n            isUnary: false,\n            iconName: 'not_equal',\n            logic: (target: Date, searchVal: Date) => {\n                if (!target) {\n                    return true;\n                }\n\n                this.validateInputData(target);\n\n                const targetp = IgxDateFilteringOperand.getDateParts(target, 'yMd');\n                const searchp = IgxDateFilteringOperand.getDateParts(searchVal, 'yMd');\n                return targetp.year !== searchp.year ||\n                    targetp.month !== searchp.month ||\n                    targetp.day !== searchp.day;\n            }\n        }, {\n            name: 'before',\n            isUnary: false,\n            iconName: 'is_before',\n            logic: (target: Date, searchVal: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                return target < searchVal;\n            }\n        }, {\n            name: 'after',\n            isUnary: false,\n            iconName: 'is_after',\n            logic: (target: Date, searchVal: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                return target > searchVal;\n            }\n        }, {\n            name: 'today',\n            isUnary: true,\n            iconName: 'today',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'yMd');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'yMd');\n                return d.year === now.year &&\n                    d.month === now.month &&\n                    d.day === now.day;\n            }\n        }, {\n            name: 'yesterday',\n            isUnary: true,\n            iconName: 'yesterday',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const td = IgxDateFilteringOperand.getDateParts(target, 'yMd');\n                const y = ((d) => new Date(d.setDate(d.getDate() - 1)))(new Date());\n                const yesterday = IgxDateFilteringOperand.getDateParts(y, 'yMd');\n                return td.year === yesterday.year &&\n                    td.month === yesterday.month &&\n                    td.day === yesterday.day;\n            }\n        }, {\n            name: 'thisMonth',\n            isUnary: true,\n            iconName: 'this_month',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'yM');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'yM');\n                return d.year === now.year &&\n                    d.month === now.month;\n            }\n        }, {\n            name: 'lastMonth',\n            isUnary: true,\n            iconName: 'last_month',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'yM');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'yM');\n                if (!now.month) {\n                    now.month = 11;\n                    now.year -= 1;\n                } else {\n                    now.month--;\n                }\n                return d.year === now.year &&\n                    d.month === now.month;\n            }\n        }, {\n            name: 'nextMonth',\n            isUnary: true,\n            iconName: 'next_month',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'yM');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'yM');\n                if (now.month === 11) {\n                    now.month = 0;\n                    now.year += 1;\n                } else {\n                    now.month++;\n                }\n                return d.year === now.year &&\n                    d.month === now.month;\n            }\n        }, {\n            name: 'thisYear',\n            isUnary: true,\n            iconName: 'this_year',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'y');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'y');\n                return d.year === now.year;\n            }\n        }, {\n            name: 'lastYear',\n            isUnary: true,\n            iconName: 'last_year',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'y');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'y');\n                return d.year === now.year - 1;\n            }\n        }, {\n            name: 'nextYear',\n            isUnary: true,\n            iconName: 'next_year',\n            logic: (target: Date) => {\n                if (!target) {\n                    return false;\n                }\n\n                this.validateInputData(target);\n\n                const d = IgxDateFilteringOperand.getDateParts(target, 'y');\n                const now = IgxDateFilteringOperand.getDateParts(new Date(), 'y');\n                return d.year === now.year + 1;\n            }\n        }, {\n            name: 'empty',\n            isUnary: true,\n            iconName: 'empty',\n            logic: (target: Date) => {\n                return target === null || target === undefined;\n            }\n        }, {\n            name: 'notEmpty',\n            isUnary: true,\n            iconName: 'not_empty',\n            logic: (target: Date) => {\n                return target !== null && target !== undefined;\n            }\n        }].concat(this.operations);\n    }\n\n    /**\n     * Splits a Date object into parts\n     *\n     * @memberof IgxDateFilteringOperand\n     */\n    public static getDateParts(date: Date, dateFormat?: string): IDateParts {\n        const res = {\n            day: null,\n            hours: null,\n            milliseconds: null,\n            minutes: null,\n            month: null,\n            seconds: null,\n            year: null\n        };\n        if (!date || !dateFormat) {\n            return res;\n        }\n        if (dateFormat.indexOf('y') >= 0) {\n            res.year = date.getFullYear();\n        }\n        if (dateFormat.indexOf('M') >= 0) {\n            res.month = date.getMonth();\n        }\n        if (dateFormat.indexOf('d') >= 0) {\n            res.day = date.getDate();\n        }\n        if (dateFormat.indexOf('h') >= 0) {\n            res.hours = date.getHours();\n        }\n        if (dateFormat.indexOf('m') >= 0) {\n            res.minutes = date.getMinutes();\n        }\n        if (dateFormat.indexOf('s') >= 0) {\n            res.seconds = date.getSeconds();\n        }\n        if (dateFormat.indexOf('f') >= 0) {\n            res.milliseconds = date.getMilliseconds();\n        }\n        return res;\n    }\n\n    private validateInputData(target: Date) {\n        if (!(target instanceof Date)) {\n            throw new Error('Could not perform filtering on \\'date\\' column because the datasource object type is not \\'Date\\'.');\n        }\n    }\n\n    protected findValueInSet(target: any, searchVal: Set<any>) {\n        if (!target) { return false; }\n        return searchVal.has(new Date(target.getFullYear(), target.getMonth(), target.getDate()).toISOString());\n    }\n}\n\n/**\n * Provides filtering operations for numbers\n *\n * @export\n */\nexport class IgxNumberFilteringOperand extends IgxFilteringOperand {\n    protected constructor() {\n        super();\n        this.operations = [{\n            name: 'equals',\n            isUnary: false,\n            iconName: 'equals',\n            logic: (target: number, searchVal: number) => {\n                return target === searchVal;\n            }\n        }, {\n            name: 'doesNotEqual',\n            isUnary: false,\n            iconName: 'not_equal',\n            logic: (target: number, searchVal: number) => {\n                return target !== searchVal;\n            }\n        }, {\n            name: 'greaterThan',\n            isUnary: false,\n            iconName: 'greater_than',\n            logic: (target: number, searchVal: number) => {\n                return target > searchVal;\n            }\n        }, {\n            name: 'lessThan',\n            isUnary: false,\n            iconName: 'less_than',\n            logic: (target: number, searchVal: number) => {\n                return target < searchVal;\n            }\n        }, {\n            name: 'greaterThanOrEqualTo',\n            isUnary: false,\n            iconName: 'greater_than_or_equal',\n            logic: (target: number, searchVal: number) => {\n                return target >= searchVal;\n            }\n        }, {\n            name: 'lessThanOrEqualTo',\n            isUnary: false,\n            iconName: 'less_than_or_equal',\n            logic: (target: number, searchVal: number) => {\n                return target <= searchVal;\n            }\n        }, {\n            name: 'empty',\n            isUnary: true,\n            iconName: 'empty',\n            logic: (target: number) => {\n                return target === null || target === undefined || isNaN(target);\n            }\n        }, {\n            name: 'notEmpty',\n            isUnary: true,\n            iconName: 'not_empty',\n            logic: (target: number) => {\n                return target !== null && target !== undefined && !isNaN(target);\n            }\n        }].concat(this.operations);\n    }\n}\n\n/**\n * Provides filtering operations for strings\n *\n * @export\n */\nexport class IgxStringFilteringOperand extends IgxFilteringOperand {\n    protected constructor() {\n        super();\n        this.operations = [{\n            name: 'contains',\n            isUnary: false,\n            iconName: 'contains',\n            logic: (target: string, searchVal: string, ignoreCase?: boolean) => {\n                const search = IgxStringFilteringOperand.applyIgnoreCase(searchVal, ignoreCase);\n                target = IgxStringFilteringOperand.applyIgnoreCase(target, ignoreCase);\n                return target.indexOf(search) !== -1;\n            }\n        }, {\n            name: 'doesNotContain',\n            isUnary: false,\n            iconName: 'does_not_contain',\n            logic: (target: string, searchVal: string, ignoreCase?: boolean) => {\n                const search = IgxStringFilteringOperand.applyIgnoreCase(searchVal, ignoreCase);\n                target = IgxStringFilteringOperand.applyIgnoreCase(target, ignoreCase);\n                return target.indexOf(search) === -1;\n            }\n        }, {\n            name: 'startsWith',\n            isUnary: false,\n            iconName: 'starts_with',\n            logic: (target: string, searchVal: string, ignoreCase?: boolean) => {\n                const search = IgxStringFilteringOperand.applyIgnoreCase(searchVal, ignoreCase);\n                target = IgxStringFilteringOperand.applyIgnoreCase(target, ignoreCase);\n                return target.startsWith(search);\n            }\n        }, {\n            name: 'endsWith',\n            isUnary: false,\n            iconName: 'ends_with',\n            logic: (target: string, searchVal: string, ignoreCase?: boolean) => {\n                const search = IgxStringFilteringOperand.applyIgnoreCase(searchVal, ignoreCase);\n                target = IgxStringFilteringOperand.applyIgnoreCase(target, ignoreCase);\n                return target.endsWith(search);\n            }\n        }, {\n            name: 'equals',\n            isUnary: false,\n            iconName: 'equals',\n            logic: (target: string, searchVal: string, ignoreCase?: boolean) => {\n                const search = IgxStringFilteringOperand.applyIgnoreCase(searchVal, ignoreCase);\n                target = IgxStringFilteringOperand.applyIgnoreCase(target, ignoreCase);\n                return target === search;\n            }\n        }, {\n            name: 'doesNotEqual',\n            isUnary: false,\n            iconName: 'not_equal',\n            logic: (target: string, searchVal: string, ignoreCase?: boolean) => {\n                const search = IgxStringFilteringOperand.applyIgnoreCase(searchVal, ignoreCase);\n                target = IgxStringFilteringOperand.applyIgnoreCase(target, ignoreCase);\n                return target !== search;\n            }\n        }, {\n            name: 'empty',\n            isUnary: true,\n            iconName: 'empty',\n            logic: (target: string) => {\n                return target === null || target === undefined || target.length === 0;\n            }\n        }, {\n            name: 'notEmpty',\n            isUnary: true,\n            iconName: 'not_empty',\n            logic: (target: string) => {\n                return target !== null && target !== undefined && target.length > 0;\n            }\n        }].concat(this.operations);\n    }\n\n    /**\n     * Applies case sensitivity on strings if provided\n     *\n     * @memberof IgxStringFilteringOperand\n     */\n    public static applyIgnoreCase(a: string, ignoreCase: boolean): string {\n        a = a || '';\n        // bulletproof\n        return ignoreCase ? ('' + a).toLowerCase() : a;\n    }\n}\n\n/**\n * Interface describing filtering operations\n *\n * @export\n */\nexport interface IFilteringOperation {\n    name: string;\n    isUnary: boolean;\n    iconName: string;\n    hidden?: boolean;\n    logic: (value: any, searchVal?: any, ignoreCase?: boolean) => boolean;\n}\n\n/**\n * Interface describing Date object in parts\n *\n * @export\n */\nexport interface IDateParts {\n    year: number;\n    month: number;\n    day: number;\n    hours: number;\n    minutes: number;\n    seconds: number;\n    milliseconds: number;\n}\n","import { IFilteringExpressionsTree } from './filtering-expressions-tree';\nimport { FilteringStrategy, IFilteringStrategy } from './filtering-strategy';\n\nexport const filteringStateDefaults = {\n    strategy: new FilteringStrategy()\n};\n\nexport declare interface IFilteringState {\n    expressionsTree: IFilteringExpressionsTree;\n    advancedExpressionsTree?: IFilteringExpressionsTree;\n    strategy?: IFilteringStrategy;\n}\n","import { ISortingExpression } from './sorting-expression.interface';\n\n/**\n * @hidden\n */\nexport class GroupedRecords extends Array<any> {}\n\nexport interface IGroupByRecord {\n    expression: ISortingExpression;\n    level: number;\n    records: GroupedRecords;\n    value: any;\n    groupParent: IGroupByRecord;\n    groups?: IGroupByRecord[];\n    height: number;\n }\n","import { Injectable, SecurityContext, Inject } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * **Ignite UI for Angular Icon Service** -\n *\n * The Ignite UI Icon Service makes it easy for developers to include custom SVG images and use them with IgxIconComponent.\n * In addition it could be used to associate a custom class to be applied on IgxIconComponent according to given fontSet.\n *\n * Example:\n * ```typescript\n * this.iconService.registerFontSetAlias('material', 'material-icons');\n * this.iconService.addSvgIcon('aruba', '/assets/svg/country_flags/aruba.svg', 'svg-flags');\n * ```\n */\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class IgxIconService {\n    private _fontSet = 'material-icons';\n    private _fontSetAliases = new Map<string, string>();\n    private _svgContainer: HTMLElement;\n    private _cachedSvgIcons: Set<string> = new Set<string>();\n\n    constructor(private _sanitizer: DomSanitizer, @Inject(DOCUMENT) private _document: any) { }\n\n    /**\n     *  Returns the default font set.\n     *```typescript\n     *   const defaultFontSet = this.iconService.defaultFontSet;\n     * ```\n     */\n    get defaultFontSet(): string {\n        return this._fontSet;\n    }\n\n    /**\n     *  Sets the default font set.\n     *```typescript\n     *   this.iconService.defaultFontSet = 'svg-flags';\n     * ```\n     */\n    set defaultFontSet(className: string) {\n        this._fontSet = className;\n    }\n\n    /**\n     *  Registers a custom class to be applied to IgxIconComponent for a given fontSet.\n     *```typescript\n     *   this.iconService.registerFontSetAlias('material', 'material-icons');\n     * ```\n     */\n    public registerFontSetAlias(alias: string, className: string = alias): this {\n        this._fontSetAliases.set(alias, className);\n        return this;\n    }\n\n    /**\n     *  Returns the custom class, if any, associated to a given fontSet.\n     *```typescript\n     *   const fontSetClass = this.iconService.fontSetClassName('material');\n     * ```\n     */\n    public fontSetClassName(alias: string): string {\n        return this._fontSetAliases.get(alias) || alias;\n    }\n\n    /**\n     *  Adds an SVG image to the cache. SVG source is an url.\n     *```typescript\n     *   this.iconService.addSvgIcon('aruba', '/assets/svg/country_flags/aruba.svg', 'svg-flags');\n     * ```\n     */\n    public addSvgIcon(iconName: string, url: string, fontSet: string = '') {\n        if (iconName && url) {\n            const safeUrl = this._sanitizer.bypassSecurityTrustResourceUrl(url);\n            if (!safeUrl) {\n                throw new Error(`The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: \"${url}\".`);\n            }\n\n            const sanitizedUrl = this._sanitizer.sanitize(SecurityContext.RESOURCE_URL, safeUrl);\n            if (!sanitizedUrl) {\n                throw new Error(`The URL provided was not trusted as a resource URL: \"${url}\".`);\n            }\n\n            this.fetchSvg(iconName, url, fontSet);\n        } else {\n            throw new Error('You should provide at least `iconName` and `url` to register an svg icon.');\n        }\n    }\n\n    /**\n     *  Adds an SVG image to the cache. SVG source is its text.\n     *```typescript\n     *   this.iconService.addSvgIcon('simple', '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\">\n     *   <path d=\"M74 74h54v54H74\" /></svg>', 'svg-flags');\n     * ```\n     */\n    public addSvgIconFromText(iconName: string, iconText: string, fontSet: string = '') {\n        if (iconName && iconText) {\n            this.cacheSvgIcon(iconName, iconText, fontSet);\n        } else {\n            throw new Error('You should provide at least `iconName` and `iconText` to register an svg icon.');\n        }\n    }\n\n    /**\n     *  Returns whether a given SVG image is present in the cache.\n     *```typescript\n     *   const isSvgCached = this.iconService.isSvgIconCached('aruba', 'svg-flags');\n     * ```\n     */\n    public isSvgIconCached(iconName: string, fontSet: string = ''): boolean {\n        const iconKey = this.getSvgIconKey(iconName, fontSet);\n        return this._cachedSvgIcons.has(iconKey);\n    }\n\n    /**\n     *  Returns the key of a cached SVG image.\n     *```typescript\n     *   const svgIconKey = this.iconService.getSvgIconKey('aruba', 'svg-flags');\n     * ```\n     */\n    public getSvgIconKey(iconName: string, fontSet: string = '') {\n        return fontSet + '_' + iconName;\n    }\n\n    /**\n     * @hidden\n     */\n    private fetchSvg(iconName: string, url: string, fontSet: string = '') {\n        const instance = this;\n        const httpRequest = new XMLHttpRequest();\n        httpRequest.open('GET', url, true);\n        httpRequest.responseType = 'text';\n\n        // load  when the result is ready, that includes HTTP errors like 404.\n        httpRequest.onload = function (event: ProgressEvent) {\n            if (event) {\n                const request = event.target as XMLHttpRequest;\n                if (request.status === 200) {\n                    instance.cacheSvgIcon(iconName, request.responseText, fontSet);\n                } else {\n                    throw new Error(`Could not fetch SVG from url: ${url}; error: ${request.status} (${request.statusText})`);\n                }\n            } else {\n                throw new Error(`Could not fetch SVG from url: ${url};`);\n            }\n        };\n\n        // error  when the request couldnt be made, e.g.network down or invalid URL.\n        httpRequest.onerror = function (event: ProgressEvent) {\n            if (event) {\n                const request = event.target as XMLHttpRequest;\n                throw new Error(`Could not fetch SVG from url: ${url}; error status code: ${request.status} (${request.statusText})`);\n            }\n            throw new Error(`Could not fetch SVG from url: ${url};`);\n        };\n\n        httpRequest.send();\n    }\n\n    /**\n     * @hidden\n     */\n    private cacheSvgIcon(iconName: string, value: string, fontSet: string = '') {\n        if (iconName && value) {\n            this.ensureSvgContainerCreated();\n\n            const div = this._document.createElement('DIV');\n            div.innerHTML = value;\n            const svg = div.querySelector('svg') as SVGElement;\n\n            if (svg) {\n                const iconKey = this.getSvgIconKey(iconName, fontSet);\n\n                svg.setAttribute('id', iconKey);\n                svg.setAttribute('fit', '');\n                svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');\n                svg.setAttribute('focusable', 'false'); // Disable IE11 default behavior to make SVGs focusable.\n\n                if (this._cachedSvgIcons.has(iconKey)) {\n                    const oldChild = this._svgContainer.querySelector(`svg[id='${iconKey}']`);\n                    this._svgContainer.removeChild(oldChild);\n                }\n\n                this._svgContainer.appendChild(svg);\n                this._cachedSvgIcons.add(iconKey);\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    private ensureSvgContainerCreated() {\n        if (!this._svgContainer) {\n            this._svgContainer = this._document.documentElement.querySelector('.igx-svg-container');\n            if (!this._svgContainer) {\n                this._svgContainer = this._document.createElement('DIV');\n                this._svgContainer.classList.add('igx-svg-container');\n                this._document.documentElement.appendChild(this._svgContainer);\n            }\n        }\n    }\n}\n","import { Component, ElementRef, HostBinding, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { IgxIconService } from './icon.service';\n\n/**\n * Icon provides a way to include material icons to markup\n *\n * @igxModule IgxIconModule\n *\n * @igxTheme igx-icon-theme\n *\n * @igxKeywords icon, picture\n *\n * @igxGroup Display\n *\n * @remarks\n *\n * The Ignite UI Icon makes it easy for developers to include material design icons directly in their markup. The icons\n * support custom colors and can be marked as active or disabled using the `isActive` property. This will change the appearance\n * of the icon.\n *\n * @example\n * ```html\n * <igx-icon color=\"#00ff00\" isActive=\"true\">home</igx-icon>\n * ```\n */\nlet NEXT_ID = 0;\n\n@Component({\n    selector: 'igx-icon',\n    templateUrl: 'icon.component.html'\n})\n\nexport class IgxIconComponent implements OnInit {\n    @ViewChild('noLigature', { read: TemplateRef, static: true })\n    private noLigature: TemplateRef<HTMLElement>;\n\n    @ViewChild('explicitLigature', { read: TemplateRef, static: true })\n    private explicitLigature: TemplateRef<HTMLElement>;\n\n    @ViewChild('svgImage', { read: TemplateRef, static: true })\n    private svgImage: TemplateRef<HTMLElement>;\n\n    /**\n     *  This allows you to change the value of `class.igx-icon`. By default it's `igx-icon`.\n     *\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-icon')\n    public cssClass = 'igx-icon';\n\n    /**\n     *  This allows you to disable the `aria-hidden` attribute. By default it's applied.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\") public icon: IgxIconComponent;\n     *constructor(private cdRef:ChangeDetectorRef) {}\n     *ngAfterViewInit() {\n     *    this.icon.ariaHidden = false;\n     *    this.cdRef.detectChanges();\n     *}\n     * ```\n     */\n    @HostBinding('attr.aria-hidden')\n    public ariaHidden = true;\n\n    /**\n    *  An @Input property that sets the value of the `id` attribute.\n    * @example\n    *```html\n    *<igx-icon id=\"igx-icon-1\" fontSet=\"material\">settings</igx-icon>\n    *```\n    */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-icon-${NEXT_ID++}`;\n\n    /**\n    *  An @Input property that sets the value of the `fontSet`. By default it's \"material\".\n    * @example\n    *```html\n    *<igx-icon fontSet=\"material\">settings</igx-icon>\n    *```\n    */\n    @Input('fontSet')\n    public font: string;\n\n    /**\n    *  An @Input property that allows you to disable the `active` property. By default it's applied.\n    * @example\n    *```html\n    *<igx-icon [isActive]=\"false\">settings</igx-icon>\n    *```\n    */\n    @Input('isActive')\n    public active = true;\n\n    /**\n    *  An @Input property that allows you to change the `iconColor` of the icon.\n    * @example\n    *```html\n    *<igx-icon color=\"blue\">settings</igx-icon>\n    *```\n    */\n    @Input('color')\n    public iconColor: string;\n\n    /**\n    *  An @Input property that allows you to set the `iconName` of the icon.\n    *  @example\n    *```html\n    *<igx-icon name=\"contains\" fontSet=\"filter-icons\"></igx-icon>\n    *```\n    */\n    @Input('name')\n    public iconName: string;\n\n    /**\n     * An ElementRef property of the `igx-icon` component.\n     */\n    public el: ElementRef;\n\n    constructor(private _el: ElementRef, private iconService: IgxIconService) {\n        this.el = _el;\n        this.font = this.iconService.defaultFontSet;\n        this.iconService.registerFontSetAlias('material', 'material-icons');\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    ngOnInit() {\n        this.updateIconClass();\n    }\n\n    /**\n     *  An accessor that returns the value of the font property.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let iconFont = this.icon.getFontSet;\n     * }\n     * ```\n     */\n    get getFontSet(): string {\n        return this.font;\n    }\n\n    /**\n     *  An accessor that returns the value of the active property.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let iconActive = this.icon.getActive;\n     * }\n     * ```\n     */\n    get getActive(): boolean {\n        return this.active;\n    }\n\n    /**\n     *  An accessor that returns inactive property.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let iconActive = this.icon.getInactive;\n     * }\n     * ```\n     */\n    @HostBinding('class.igx-icon--inactive')\n    get getInactive(): boolean {\n        return !this.active;\n    }\n\n    /**\n     *  An accessor that returns the opposite value of the `iconColor` property.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let iconColor = this.icon.getIconColor;\n     * }\n     * ```\n     */\n    @HostBinding('style.color')\n    get getIconColor(): string {\n        return this.iconColor;\n    }\n\n    /**\n     *  An accessor that returns the value of the iconName property.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let iconName = this.icon.getIconName;\n     * }\n     * ```\n     */\n    get getIconName(): string {\n        return this.iconName;\n    }\n\n    /**\n     *  An accessor that returns the key of the SVG image.\n     *  The key consists of the fontSet and the iconName separated by underscore.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let svgKey = this.icon.getSvgKey;\n     * }\n     * ```\n     */\n    get getSvgKey(): string {\n        if (this.iconService.isSvgIconCached(this.iconName, this.font)) {\n            return '#' + this.iconService.getSvgIconKey(this.iconName, this.font);\n        }\n\n        return null;\n    }\n\n    /**\n     *   An accessor that returns a TemplateRef to explicit, svg or no ligature.\n     * @example\n     *```typescript\n     *@ViewChild(\"MyIcon\")\n     *public icon: IgxIconComponent;\n     *ngAfterViewInit() {\n     *    let iconTemplate = this.icon.template;\n     * }\n     * ```\n     */\n    get template(): TemplateRef<HTMLElement> {\n        if (this.iconName) {\n            if (this.iconService.isSvgIconCached(this.iconName, this.font)) {\n                return this.svgImage;\n            }\n\n            return this.noLigature;\n        }\n\n        return this.explicitLigature;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private updateIconClass() {\n        const className = this.iconService.fontSetClassName(this.font);\n        this.el.nativeElement.classList.add(className);\n\n        if (this.iconName && !this.iconService.isSvgIconCached(this.iconName, this.font)) {\n            this.el.nativeElement.classList.add(this.iconName);\n        }\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { IgxIconComponent } from './icon.component';\nimport { DeprecateMethod } from '../core/deprecateDecorators';\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxIconComponent],\n    exports: [IgxIconComponent],\n    imports: [CommonModule]\n})\nexport class IgxIconModule { }\n\nexport * from './icon.component';\nexport * from './icon.service';\n","import { CommonModule } from '@angular/common';\nimport {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    HostBinding,\n    Input,\n    NgModule,\n    OnInit,\n    TemplateRef,\n    ViewChild\n} from '@angular/core';\nimport { IgxIconModule } from '../icon/index';\n\nlet NEXT_ID = 0;\n\nexport enum IgxAvatarSize {\n    SMALL = 'small',\n    MEDIUM = 'medium',\n    LARGE = 'large'\n}\n\nexport enum IgxAvatarType {\n    INITIALS = 'initials',\n    IMAGE = 'image',\n    ICON = 'icon',\n    CUSTOM = 'custom',\n}\n\n/**\n * **Ignite UI for Angular Avatar** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/avatar.html)\n *\n * The Ignite UI Avatar provides an easy way to add an avatar icon to your application.  This icon can be an\n * image, someone's initials or a material icon from the google material icon set.\n *\n * Example:\n * ```html\n * <igx-avatar initials=\"MS\" roundShape=\"true\" size=\"large\">\n * </igx-avatar>\n * ```\n */\n@Component({\n    selector: 'igx-avatar',\n    templateUrl: 'avatar.component.html'\n})\nexport class IgxAvatarComponent implements OnInit, AfterViewInit {\n\n    /**\n     * This is a reference to the avatar `image` element in the DOM.\n     *\n     * ```typescript\n     *  let image =  this.avatar.image;\n     * ```\n     * @memberof IgxAvatarComponent\n     */\n    @ViewChild('image')\n    public image: ElementRef;\n\n    /**\n     *@hidden\n     */\n    @ViewChild('defaultTemplate', { read: TemplateRef, static: true })\n    protected defaultTemplate: TemplateRef<any>;\n\n    /**\n     *@hidden\n     */\n    @ViewChild('imageTemplate', { read: TemplateRef, static: true })\n    protected imageTemplate: TemplateRef<any>;\n\n    /**\n     *@hidden\n     */\n    @ViewChild('initialsTemplate', { read: TemplateRef, static: true })\n    protected initialsTemplate: TemplateRef<any>;\n\n    /**\n     *@hidden\n     */\n    @ViewChild('iconTemplate', { read: TemplateRef, static: true })\n    protected iconTemplate: TemplateRef<any>;\n\n    /**\n     * Returns the `aria-label` of the avatar.\n     *\n     * ```typescript\n     * let ariaLabel = this.avatar.ariaLabel;\n     * ```\n     *\n     */\n    @HostBinding('attr.aria-label')\n    public ariaLabel = 'avatar';\n\n    /**\n     * Returns the `role` attribute of the avatar.\n     *\n     * ```typescript\n     * let avatarRole = this.avatar.role;\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @HostBinding('attr.role')\n    public role = 'img';\n\n    /**\n     * Returns the class of the avatar.\n     *\n     * ```typescript\n     * let avatarCLass =  this.avatar.cssClass;\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @HostBinding('class.igx-avatar')\n    public cssClass = 'igx-avatar';\n\n    /**\n     * Returns the type of the avatar.\n     * The avatar can be:\n     * - `\"initials type avatar\"`\n     * - `\"icon type avatar\"`\n     * - `\"image type avatar\"`.\n     * - `\"custom type avatar\"`.\n     *\n     * ```typescript\n     * let avatarDescription = this.avatar.roleDescription;\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @HostBinding('attr.aria-roledescription')\n    public roleDescription: string;\n\n    /**\n     * @hidden\n     */\n    private _size: string | IgxAvatarSize = IgxAvatarSize.SMALL;\n\n    /**\n     * Sets the `id` of the avatar. If not set, the first avatar component will have `id` = `\"igx-avatar-0\"`.\n     *\n     * ```html\n     * <igx-avatar id=\"my-first-avatar\"></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-avatar-${NEXT_ID++}`;\n\n    /**\n     * Sets a round shape to the avatar if `roundShape` is `\"true\"`.\n     * By default the shape of the avatar is a square.\n     *\n     * ```html\n     * <igx-avatar roundShape = \"true\" ></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n\n    @HostBinding('class.igx-avatar--rounded')\n    @Input()\n    public roundShape = false;\n\n    /**\n     * Sets the avatar's `initials`/`icon` color.\n     *\n     *```html\n     *<igx-avatar color=\"blue\"></igx-avatar>\n     *```\n     *\n     * @memberof IgxAvatarComponent\n     */\n\n    @HostBinding('style.color')\n    @Input()\n    public color: string;\n\n    /**\n     * Sets the background color of the avatar.\n     *\n     * ```html\n     * <igx-avatar bgColor=\"yellow\"></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n\n    @HostBinding('style.background')\n    @Input()\n    public bgColor: string;\n\n    /**\n     * Sets `initials` to the avatar.\n     *\n     * ```html\n     * <igx-avatar initials=\"MN\"></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @Input()\n    public initials: string;\n\n    /**\n     * Sets an `icon` to the avatar. All icons from the material icon set are supported.\n     *\n     * ```html\n     * <igx-avatar icon=\"phone\"></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @Input()\n    public icon: string;\n\n    /**\n     * Sets the `image` source of the avatar.\n     *\n     * ```html\n     * <igx-avatar src=\"images/picture.jpg\"></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @Input()\n    public src: string;\n\n    /**\n     * Returns the `size` of the avatar.\n     *\n     * ```typescript\n     *let avatarSize =  this.avatar.size;\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    @Input()\n    public get size(): string | IgxAvatarSize {\n        return this._size;\n    }\n\n    /**\n     * Sets the `size`  of the avatar.\n     * By default the `size` is `\"small\"`. It can be set to `\"medium\"` or `\"large\"`.\n     *\n     * ```\n     * <igx-avatar size=\"large\"></igx-avatar>\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    public set size(value: string | IgxAvatarSize) {\n        switch (value) {\n            case 'small':\n            case 'medium':\n            case 'large':\n                this._size = value;\n                break;\n            default:\n                this._size = 'small';\n        }\n    }\n\n    /**\n     * Returns the type of the avatar.\n     *\n     * ```typescript\n     * let avatarType = this.avatar.type;\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    get type(): IgxAvatarType {\n        if (this.src) {\n            return IgxAvatarType.IMAGE;\n        }\n\n        if (this.icon) {\n            return IgxAvatarType.ICON;\n        }\n\n        if (this.initials) {\n            return IgxAvatarType.INITIALS;\n        }\n\n        return IgxAvatarType.CUSTOM;\n    }\n\n    /**\n     * Returns the template of the avatar.\n     *\n     * ```typescript\n     * let template = this.avatar.template;\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    get template(): TemplateRef<any> {\n        switch (this.type) {\n            case IgxAvatarType.IMAGE:\n                return this.imageTemplate;\n            case IgxAvatarType.INITIALS:\n                return this.initialsTemplate;\n            case IgxAvatarType.ICON:\n                return this.iconTemplate;\n            default:\n                return this.defaultTemplate;\n        }\n    }\n\n    constructor(public elementRef: ElementRef) { }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        this.roleDescription = this.getRole();\n    }\n\n    /**\n     *@hidden\n     */\n    public ngAfterViewInit() {\n        if (this.type !== IgxAvatarType.CUSTOM) {\n            this.elementRef.nativeElement.classList.add(`igx-avatar--${this.type}`);\n        }\n\n        this.elementRef.nativeElement.classList.add(`igx-avatar--${this._size}`);\n    }\n\n    /**\n     * @hidden\n     */\n    private getRole(): string {\n        switch (this.type) {\n            case IgxAvatarType.IMAGE:\n                return 'image avatar';\n            case IgxAvatarType.ICON:\n                return 'icon avatar';\n            case IgxAvatarType.INITIALS:\n                return 'initials avatar';\n            default:\n                return 'custom avatar';\n        }\n    }\n\n    /**\n     * Returns the url of the `image`.\n     *\n     * ```typescript\n     * let imageSourceUrl = this.avatar.getSrcUrl();\n     * ```\n     *\n     * @memberof IgxAvatarComponent\n     */\n    public getSrcUrl() {\n        return `url(${this.src})`;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxAvatarComponent],\n    exports: [IgxAvatarComponent],\n    imports: [CommonModule, IgxIconModule]\n})\nexport class IgxAvatarModule { }\n","import { CommonModule } from '@angular/common';\nimport { Component, HostBinding, Input, NgModule } from '@angular/core';\nimport { IgxIconModule } from '../icon/index';\n\nlet NEXT_ID = 0;\n\n/**\n * Determines the igxBadge type\n */\nexport enum IgxBadgeType {\n    PRIMARY = 'primary',\n    INFO = 'info',\n    SUCCESS = 'success',\n    WARNING = 'warning',\n    ERROR = 'error'\n}\n/**\n * Badge provides visual notifications used to decorate avatars, menus, etc.\n *\n * @igxModule IgxBadgeModule\n *\n * @igxTheme igx-badge-theme\n *\n * @igxKeywords badge, icon, notification\n *\n * @igxGroup Data Entry & Display\n *\n * @remarks\n * The Ignite UI Badge is used to decorate avatars, navigation menus, or other components in the\n * application when visual notification is needed. They are usually designed as icons with a predefined\n * style to communicate information, success, warnings, or errors.\n *\n * @example\n * ```html\n * <igx-avatar>\n *   <igx-badge icon=\"check\" type=\"success\"></igx-badge>\n * </igx-avatar>\n */\n@Component({\n    selector: 'igx-badge',\n    templateUrl: 'badge.component.html'\n})\nexport class IgxBadgeComponent {\n\n    /**\n    * Sets/gets the `id` of the badge.\n    *\n    * @remarks\n    * If not set, the `id` will have value `\"igx-badge-0\"`.\n    *\n    * @example\n    * ```html\n    * <igx-badge id=\"igx-badge-2\"></igx-badge>\n    * ```\n    */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-badge-${NEXT_ID++}`;\n\n    /**\n    * Sets/gets the type of the badge.\n    *\n    * @remarks\n    * Allowed values are `primary`, `info`, `success`, `warning`, `error`.\n    * Providing an invalid value won't display a badge.\n    *\n    * @example\n    * ```html\n    * <igx-badge type=\"success\"></igx-badge>\n    * ```\n    */\n    @Input()\n    public type: string | IgxBadgeType = IgxBadgeType.PRIMARY;\n\n    /**\n    * Sets/gets the value to be displayed inside the badge.\n    *\n    * @remarks\n    * If an `icon` property is already set the `icon` will be displayed.\n    * If neither a `value` nor an `icon` is set the content of the badge will be empty.\n    *\n    * @example\n    * ```html\n    * <igx-badge value=\"11\"></igx-badge>\n    * ```\n    */\n    @Input()\n    public value = '';\n\n    /**\n     * Sets/gets an icon for the badge from the material icons set.\n     *\n     * @remarks\n     * Has priority over the `value` property.\n     * If neither a `value` nor an `icon` is set the content of the badge will be empty.\n     * Providing an invalid value won't display anything.\n     *\n     * @example\n     * ```html\n     * <igx-badge icon=\"check\"></igx-badge>\n     * ```\n     */\n    @Input()\n    public icon: string;\n\n    /**\n     * Sets/gets the role attribute value.\n     *\n     * @example\n     * ```typescript\n     * @ViewChild(\"MyBadge\", { read: IgxBadgeComponent })\n     * public badge: IgxBadgeComponent;\n     *\n     * badge.role = 'status';\n     * ```\n     */\n    @HostBinding('attr.role')\n    public role = 'status';\n\n    /**\n     * Sets/gets the the css class to use on the badge.\n     *\n     * @example\n     * ```typescript\n     * @ViewChild(\"MyBadge\", { read: IgxBadgeComponent })\n     * public badge: IgxBadgeComponent;\n     *\n     * badge.cssClass = 'my-badge-class';\n     * ```\n     */\n    @HostBinding('class.igx-badge')\n    public cssClass = 'igx-badge';\n\n    /**\n     * Sets/gets the aria-label attribute value.\n     *\n     * @example\n     * ```typescript\n     * @ViewChild(\"MyBadge\", { read: IgxBadgeComponent })\n     * public badge: IgxBadgeComponent;\n     *\n     * badge.label = 'badge';\n     * ```\n     */\n    @HostBinding('attr.aria-label')\n    public label = 'badge';\n\n    /**\n     * Defines a human-readable, accessor, author-localized description for\n     * the `type` and the `icon` or `value` of the element.\n     * @hidden\n     * @internal\n     */\n    get roleDescription() {\n        let message: string;\n\n        // tslint:disable-next-line:prefer-conditional-expression\n        if (this.icon) {\n            message = this.type + ' type badge with icon type ' + this.icon;\n        } else if (this.value) {\n            message = this.type + ' badge type with value ' + this.value;\n        } else {\n            message = this.type + ' badge type without value';\n        }\n\n        return message;\n    }\n\n    /**\n     * Method which makes the name of the class more descriptive.\n     * This helps the styling of the badges.\n     * @hidden\n     * @internal\n     */\n    public setClasses() {\n        let classes = {};\n\n        switch (IgxBadgeType[this.type.toUpperCase()]) {\n            case IgxBadgeType.INFO:\n                classes = {\n                    [`${this.cssClass}__circle--info`]: true\n                };\n                break;\n            case IgxBadgeType.SUCCESS:\n                classes = {\n                    [`${this.cssClass}__circle--success`]: true\n                };\n                break;\n            case IgxBadgeType.WARNING:\n                classes = {\n                    [`${this.cssClass}__circle--warning`]: true\n                };\n                break;\n            case IgxBadgeType.ERROR:\n                classes = {\n                    [`${this.cssClass}__circle--error`]: true\n                };\n                break;\n            default:\n                classes = {\n                    [`${this.cssClass}__circle--default`]: true\n                };\n        }\n\n        return classes;\n    }\n\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxBadgeComponent],\n    exports: [IgxBadgeComponent],\n    imports: [CommonModule, IgxIconModule]\n})\nexport class IgxBadgeModule { }\n","import { EventEmitter, InjectionToken } from '@angular/core';\nimport { AnimationReferenceMetadata } from '@angular/animations';\nimport { IBaseEventArgs } from '../core/utils';\n\nexport interface IgxExpansionPanelBase {\n    id: string;\n    cssClass: string;\n    /** @hidden @internal */\n    headerId: string;\n    collapsed: boolean;\n    animationSettings: { openAnimation: AnimationReferenceMetadata, closeAnimation: AnimationReferenceMetadata };\n    onCollapsed: EventEmitter<any>;\n    onExpanded: EventEmitter<any>;\n    collapse(evt?: Event);\n    expand(evt?: Event);\n    toggle(evt?: Event);\n}\n\n/** @hidden */\nexport const IGX_EXPANSION_PANEL_COMPONENT = new InjectionToken<IgxExpansionPanelBase>('IgxExpansionPanelToken');\n\nexport interface IExpansionPanelEventArgs extends IBaseEventArgs {\n    event: Event;\n    panel: IgxExpansionPanelBase;\n}\n","import { Component, HostBinding, ElementRef, Input, ChangeDetectorRef, Inject } from '@angular/core';\nimport { IgxExpansionPanelBase, IGX_EXPANSION_PANEL_COMPONENT } from './expansion-panel.common';\n\n@Component({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-expansion-panel-body',\n    template: `<ng-content></ng-content>`\n})\nexport class IgxExpansionPanelBodyComponent {\n    private _labelledBy = '';\n    private _label = '';\n    constructor(\n        @Inject(IGX_EXPANSION_PANEL_COMPONENT) public panel: IgxExpansionPanelBase,\n        public element: ElementRef, public cdr: ChangeDetectorRef) {\n    }\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-expansion-panel__body')\n    public cssClass = `igx-expansion-panel__body`;\n\n    /**\n     * Gets the `aria-label` attribute of the panel body\n     * Defaults to the panel id with '-region' in the end;\n     * Get\n     * ```typescript\n     *  const currentLabel = this.panel.body.label;\n     * ```\n     */\n    @Input()\n    @HostBinding('attr.aria-label')\n    public get label(): string {\n        return this._label || this.panel.id + '-region';\n    }\n    /**\n     * Sets the `aria-label` attribute of the panel body\n     * ```typescript\n     *  this.panel.body.label = 'my-custom-label';\n     * ```\n     * ```html\n     *  <igx-expansion-panel-body [label]=\"'my-custom-label'\"></igx-expansion-panel-body>\n     * ```\n     */\n    public set label(val: string) {\n        this._label = val;\n    }\n\n    /**\n     * Gets the `aria-labelledby` attribute of the panel body\n     * Defaults to the panel header id;\n     * Get\n     * ```typescript\n     *  const currentLabel = this.panel.body.labelledBy;\n     * ```\n     */\n    @Input()\n    @HostBinding('attr.aria-labelledby')\n    public get labelledBy(): string {\n        return this._labelledBy;\n    }\n    /**\n     * Sets the `aria-labelledby` attribute of the panel body\n     * ```typescript\n     *  this.panel.body.labelledBy = 'my-custom-id';\n     * ```\n     * ```html\n     *  <igx-expansion-panel-body [labelledBy]=\"'my-custom-id'\"></igx-expansion-panel-body>\n     * ```\n     */\n    public set labelledBy(val: string) {\n        this._labelledBy = val;\n    }\n\n    /**\n     * Gets/sets the `role` attribute of the panel body\n     * Default is 'region';\n     * Get\n     * ```typescript\n     *  const currentRole = this.panel.body.role;\n     * ```\n     * Set\n     * ```typescript\n     *  this.panel.body.role = 'content';\n     * ```\n     * ```html\n     *  <igx-expansion-panel-body [role]=\"'custom'\"></igx-expansion-panel-body>\n     * ```\n     */\n    @Input()\n    @HostBinding('attr.role')\n    public role = 'region';\n}\n","import { Directive, HostBinding } from '@angular/core';\n\n/**\n * @hidden\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-expansion-panel-title'\n})\nexport class IgxExpansionPanelTitleDirective {\n    @HostBinding('class.igx-expansion-panel__header-title')\n    public cssClass = `igx-expansion-panel__header-title`;\n}\n\n/**\n * @hidden\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-expansion-panel-description'\n})\nexport class IgxExpansionPanelDescriptionDirective {\n    @HostBinding('class.igx-expansion-panel__header-description')\n    public cssClass = `igx-expansion-panel__header-description`;\n}\n\n/**\n * @hidden\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-expansion-panel-icon'\n})\nexport class IgxExpansionPanelIconDirective {\n}\n","import {\n    Component,\n    ChangeDetectorRef,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    Host,\n    EventEmitter,\n    Output,\n    ContentChild,\n    Inject\n} from '@angular/core';\nimport { IgxExpansionPanelIconDirective } from './expansion-panel.directives';\nimport { IExpansionPanelEventArgs, IGX_EXPANSION_PANEL_COMPONENT, IgxExpansionPanelBase } from './expansion-panel.common';\n\n/**\n * @hidden\n */\nexport enum ICON_POSITION {\n    LEFT = 'left',\n    NONE = 'none',\n    RIGHT = 'right'\n}\n\n\n@Component({\n    selector: 'igx-expansion-panel-header',\n    templateUrl: 'expansion-panel-header.component.html'\n})\nexport class IgxExpansionPanelHeaderComponent {\n     // properties section\n    private _iconTemplate = false;\n    /**\n     * Sets/gets the `id` of the expansion panel header.\n     * ```typescript\n     * let panelHeaderId =  this.panel.header.id;\n     * ```\n     * @memberof IgxExpansionPanelComponent\n     */\n    public id = '';\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxExpansionPanelIconDirective)\n    public set iconTemplate(val: any) {\n        this._iconTemplate = <boolean>val;\n    }\n\n    /**\n     * @hidden\n     */\n    public get iconTemplate(): any {\n        return this._iconTemplate;\n    }\n\n    /**\n     * Gets/sets the `aria-level` attribute of the header\n     * Get\n     * ```typescript\n     *  const currentAriaLevel = this.panel.header.lv;\n     * ```\n     * Set\n     * ```typescript\n     *  this.panel.header.lv = '5';\n     * ```\n     * ```html\n     *  <igx-expansion-panel-header [lv]=\"myCustomLevel\"></igx-expansion-panel-header>\n     * ```\n     */\n    @HostBinding('attr.aria-level')\n    @Input()\n    public lv = '3';\n\n    /**\n     * Gets/sets the `role` attribute of the header\n     * Get\n     * ```typescript\n     *  const currentRole = this.panel.header.role;\n     * ```\n     * Set\n     * ```typescript\n     *  this.panel.header.role = '5';\n     * ```\n     * ```html\n     *  <igx-expansion-panel-header [role]=\"'custom'\"></igx-expansion-panel-header>\n     * ```\n     */\n    @HostBinding('attr.role')\n    @Input()\n    public role = 'heading';\n\n    /**\n     * @hidden\n     */\n    public get controls (): string {\n        return this.panel.id;\n    }\n\n    /**\n     * Gets/sets the position of the expansion-panel-header expand/collapse icon\n     * Accepts `left`, `right` or `none`\n     * ```typescript\n     *  const currentIconPosition = this.panel.header.iconPosition;\n     * ```\n     * Set\n     * ```typescript\n     *  this.panel.header.iconPosition = 'left';\n     * ```\n     * ```html\n     *  <igx-expansion-panel-header [iconPosition]=\"'right'\"></igx-expansion-panel-header>\n     * ```\n     */\n    @Input()\n    public iconPosition: ICON_POSITION = ICON_POSITION.LEFT;\n\n    /**\n     * Emitted whenever a user interacts with the header host\n     * ```typescript\n     *  handleInteraction(event: IExpansionPanelEventArgs) {\n     *  ...\n     * }\n     * ```\n     * ```html\n     *  <igx-expansion-panel-header (onInteraction)=\"handleInteraction($event)\">\n     *      ...\n     *  </igx-expansion-panel-header>\n     * ```\n     */\n    @Output()\n    public onInteraction = new EventEmitter<IExpansionPanelEventArgs>();\n\n    /**\n     * @hidden\n     */\n     @HostBinding('class.igx-expansion-panel__header')\n     public cssClass = 'igx-expansion-panel__header';\n\n     /**\n     * @hidden\n     */\n     @HostBinding('class.igx-expansion-panel__header--expanded')\n     public get isExpanded () {\n            return !this.panel.collapsed;\n         }\n\n    /**\n     * Gets/sets the whether the header is disabled\n     * When disabled, the header will not handle user events and will stop their propagation\n     *\n     * ```typescript\n     *  const isDisabled = this.panel.header.disabled;\n     * ```\n     * Set\n     * ```typescript\n     *  this.panel.header.disabled = true;\n     * ```\n     * ```html\n     *  <igx-expansion-panel-header [disabled]=\"true\">\n     *     ...\n     *  </igx-expansion-panel-header>\n     * ```\n     */\n    @Input()\n    @HostBinding('class.igx-expansion-panel--disabled')\n    public disabled = false;\n\n    constructor(@Host() @Inject(IGX_EXPANSION_PANEL_COMPONENT) public panel: IgxExpansionPanelBase, public cdr: ChangeDetectorRef,\n     public elementRef: ElementRef) {\n         this.id = `${this.panel.id}-header`;\n     }\n\n     /**\n     * @hidden\n     */\n     @HostListener('keydown.Enter', ['$event'])\n     @HostListener('keydown.Space', ['$event'])\n     @HostListener('keydown.Spacebar', ['$event'])\n     @HostListener('click', ['$event'])\n     public onAction(evt?: Event) {\n         if (this.disabled) {\n            evt.stopPropagation();\n            return;\n         }\n         this.onInteraction.emit({ event: evt, panel: this.panel });\n         this.panel.toggle(evt);\n         evt.preventDefault();\n     }\n\n    /** @hidden @internal */\n    @HostListener('keydown.Alt.ArrowDown', ['$event'])\n    public openPanel(event: KeyboardEvent) {\n        if (event.altKey) {\n            this.panel.expand(event);\n            this.onInteraction.emit({ event: event, panel: this.panel });\n        }\n     }\n\n     /** @hidden @internal */\n     @HostListener('keydown.Alt.ArrowUp', ['$event'])\n     public closePanel(event: KeyboardEvent) {\n        if (event.altKey) {\n            this.panel.collapse(event);\n            this.onInteraction.emit({ event: event, panel: this.panel });\n        }\n     }\n\n     /**\n     * @hidden\n     */\n     public get iconPositionClass(): string {\n        switch (this.iconPosition) {\n            case (ICON_POSITION.LEFT):\n                return `igx-expansion-panel__header-icon--start`;\n            case (ICON_POSITION.RIGHT):\n                return `igx-expansion-panel__header-icon--end`;\n            case (ICON_POSITION.NONE):\n                return `igx-expansion-panel__header-icon--none`;\n            default:\n                return '';\n        }\n     }\n}\n","import {\n    Component,\n    ChangeDetectorRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    Output,\n    ContentChild,\n    AfterContentInit\n} from '@angular/core';\nimport { AnimationBuilder, AnimationReferenceMetadata, useAnimation } from '@angular/animations';\nimport { growVerOut, growVerIn } from '../animations/main';\nimport { IgxExpansionPanelBodyComponent } from './expansion-panel-body.component';\nimport { IgxExpansionPanelHeaderComponent } from './expansion-panel-header.component';\nimport { IGX_EXPANSION_PANEL_COMPONENT, IgxExpansionPanelBase, IExpansionPanelEventArgs } from './expansion-panel.common';\n\nlet NEXT_ID = 0;\n\nexport interface AnimationSettings {\n    openAnimation: AnimationReferenceMetadata;\n    closeAnimation: AnimationReferenceMetadata;\n}\n@Component({\n    selector: 'igx-expansion-panel',\n    templateUrl: 'expansion-panel.component.html',\n    providers: [{ provide: IGX_EXPANSION_PANEL_COMPONENT, useExisting: IgxExpansionPanelComponent }]\n})\nexport class IgxExpansionPanelComponent implements IgxExpansionPanelBase, AfterContentInit {\n    private _collapsed = true;\n    /**\n     * Sets/gets the animation settings of the expansion panel component\n     * Open and Close animation should be passed\n     *\n     * Get\n     * ```typescript\n     *  const currentAnimations = this.panel.animationSettings;\n     * ```\n     * Set\n     * ```typescript\n     *  import { slideInLeft, slideOutRight } from 'igniteui-angular';\n     *  ...\n     *  this.panel.animationsSettings = {\n     *      openAnimation: slideInLeft,\n     *      closeAnimation: slideOutRight\n     * };\n     * ```\n     * or via template\n     * ```typescript\n     *  import { slideInLeft, slideOutRight } from 'igniteui-angular';\n     *  ...\n     *  myCustomAnimationObject = {\n     *      openAnimation: slideInLeft,\n     *      closeAnimation: slideOutRight\n     * };\n     * ```html\n     *  <igx-expansion-panel [animationSettings]='myCustomAnimationObject'>\n     *  ...\n     *  </igx-expansion-panel>\n     * ```\n     */\n    @Input()\n    public animationSettings: AnimationSettings = {\n        openAnimation: growVerIn,\n        closeAnimation: growVerOut\n    };\n\n    /**\n     * Sets/gets the `id` of the expansion panel component.\n     * If not set, `id` will have value `\"igx-expansion-panel-0\"`;\n     * ```html\n     * <igx-expansion-panel id = \"my-first-expansion-panel\"></igx-expansion-panel>\n     * ```\n     * ```typescript\n     * let panelId =  this.panel.id;\n     * ```\n     * @memberof IgxExpansionPanelComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-expansion-panel-${NEXT_ID++}`;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-expansion-panel')\n    public cssClass = 'igx-expansion-panel';\n\n    /**\n     * Gets/sets whether the component is collapsed (its content is hidden)\n     * Get\n     * ```typescript\n     *  const myPanelState: boolean = this.panel.collapsed;\n     * ```\n     * Set\n     * ```html\n     *  this.panel.collapsed = true;\n     * ```\n     *\n     * Two-way data binding:\n     * ```html\n     * <igx-expansion-panel [(collapsed)]=\"model.isCollapsed\"></igx-expansion-panel>\n     * ```\n     */\n    @Input()\n    public get collapsed(): boolean {\n        return this._collapsed;\n    }\n    public set collapsed(value) {\n        this._collapsed = value;\n        this.collapsedChange.emit(this._collapsed);\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public collapsedChange = new EventEmitter<boolean>();\n\n    /**\n     * Emitted when the expansion panel finishes collapsing\n     * ```typescript\n     *  handleCollapsed(event: {\n     *  panel: IgxExpansionPanelComponent,\n     *  event: Event\n     * })\n     * ```\n     * ```html\n     *  <igx-expansion-panel (onCollapsed)=\"handleCollapsed($event)\">\n     *      ...\n     *  </igx-expansion-panel>\n     * ```\n     */\n    @Output()\n    public onCollapsed = new EventEmitter<IExpansionPanelEventArgs>();\n\n    /**\n     * Emitted when the expansion panel finishes expanding\n     * ```typescript\n     *  handleExpanded(event: {\n     *  panel: IgxExpansionPanelComponent,\n     *  event: Event\n     * })\n     * ```\n     * ```html\n     *  <igx-expansion-panel (onExpanded)=\"handleExpanded($event)\">\n     *      ...\n     *  </igx-expansion-panel>\n     * ```\n     */\n    @Output()\n    public onExpanded = new EventEmitter<IExpansionPanelEventArgs>();\n\n    /**\n     * @hidden\n     */\n    public get headerId() {\n        return this.header ? `${this.id}-header` : '';\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxExpansionPanelBodyComponent, { read: IgxExpansionPanelBodyComponent })\n    public body: IgxExpansionPanelBodyComponent;\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxExpansionPanelHeaderComponent, { read: IgxExpansionPanelHeaderComponent })\n    public header: IgxExpansionPanelHeaderComponent;\n\n    constructor(private cdr: ChangeDetectorRef, private builder: AnimationBuilder) { }\n\n    /** @hidden */\n    ngAfterContentInit(): void {\n        if (this.body && this.header) {\n            // schedule at end of turn:\n            Promise.resolve().then(() => {\n                this.body.labelledBy = this.body.labelledBy || this.headerId;\n                this.body.label = this.body.label || this.id + '-region';\n            });\n        }\n    }\n\n    private playOpenAnimation(cb: () => void) {\n        if (!this.body) { // if not body element is passed, there is nothing to animate\n            return;\n        }\n        const animation = useAnimation(this.animationSettings.openAnimation);\n        const animationBuilder = this.builder.build(animation);\n        const openAnimationPlayer = animationBuilder.create(this.body.element.nativeElement);\n\n        openAnimationPlayer.onDone(() => {\n            cb();\n            openAnimationPlayer.reset();\n        });\n\n        openAnimationPlayer.play();\n    }\n\n    private playCloseAnimation(cb: () => void) {\n        if (!this.body) { // if not body element is passed, there is nothing to animate\n            return;\n        }\n        const animation = useAnimation(this.animationSettings.closeAnimation);\n        const animationBuilder = this.builder.build(animation);\n        const closeAnimationPlayer = animationBuilder.create(this.body.element.nativeElement);\n        closeAnimationPlayer.onDone(() => {\n            cb();\n            closeAnimationPlayer.reset();\n        });\n\n        closeAnimationPlayer.play();\n    }\n\n    /**\n     * Collapses the panel\n     *\n     * ```html\n     *  <igx-expansion-panel #myPanel>\n     *      ...\n     *  </igx-expansion-panel>\n     *  <button (click)=\"myPanel.collapse($event)\">Collpase Panel</button>\n     * ```\n     */\n    collapse(evt?: Event) {\n        if (this.collapsed) { // If expansion panel is already collapsed, do nothing\n            return;\n        }\n        this.playCloseAnimation(\n            () => {\n                this.onCollapsed.emit({ event: evt, panel: this });\n                this.collapsed = true;\n            }\n        );\n    }\n\n    /**\n     * Expands the panel\n     *\n     * ```html\n     *  <igx-expansion-panel #myPanel>\n     *      ...\n     *  </igx-expansion-panel>\n     *  <button (click)=\"myPanel.expand($event)\">Expand Panel</button>\n     * ```\n     */\n    expand(evt?: Event) {\n        if (!this.collapsed) { // If the panel is already opened, do nothing\n            return;\n        }\n        this.collapsed = false;\n        this.cdr.detectChanges();\n        this.playOpenAnimation(\n            () => {\n                this.onExpanded.emit({ event: evt, panel: this });\n            }\n        );\n    }\n\n    /**\n     * Toggles the panel\n     *\n     * ```html\n     *  <igx-expansion-panel #myPanel>\n     *      ...\n     *  </igx-expansion-panel>\n     *  <button (click)=\"myPanel.toggle($event)\">Expand Panel</button>\n     * ```\n     */\n    toggle(evt?: Event) {\n        if (this.collapsed) {\n            this.open(evt);\n        } else {\n            this.close(evt);\n        }\n    }\n\n    open(evt?: Event) {\n        this.expand(evt);\n    }\n    close(evt?: Event) {\n        this.collapse(evt);\n    }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxAvatarModule } from '../avatar/avatar.component';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxExpansionPanelComponent } from './expansion-panel.component';\nimport { IgxExpansionPanelHeaderComponent } from './expansion-panel-header.component';\nimport { IgxExpansionPanelBodyComponent } from './expansion-panel-body.component';\nimport { IgxExpansionPanelDescriptionDirective, IgxExpansionPanelTitleDirective,\n  IgxExpansionPanelIconDirective } from './expansion-panel.directives';\n\n/**\n * @hidden\n */\n@NgModule({\n  declarations: [\n    IgxExpansionPanelComponent,\n    IgxExpansionPanelHeaderComponent,\n    IgxExpansionPanelBodyComponent,\n    IgxExpansionPanelDescriptionDirective,\n    IgxExpansionPanelTitleDirective,\n    IgxExpansionPanelIconDirective\n  ],\n  entryComponents: [\n  ],\n  exports: [\n    IgxExpansionPanelComponent,\n    IgxExpansionPanelHeaderComponent,\n    IgxExpansionPanelBodyComponent,\n    IgxExpansionPanelDescriptionDirective,\n    IgxExpansionPanelTitleDirective,\n      IgxExpansionPanelIconDirective\n  ],\n  imports: [\n    CommonModule,\n    IgxRippleModule,\n    IgxIconModule,\n    IgxButtonModule,\n    IgxAvatarModule\n  ]\n})\nexport class IgxExpansionPanelModule {\n}\n","import { Directive } from '@angular/core';\n\n// tslint:disable:directive-selector\n@Directive({\n    selector: 'igx-banner-actions'\n})\nexport class IgxBannerActionsDirective {\n}\n","import { Component, NgModule, EventEmitter, Output, Input, ViewChild, ElementRef,\n    ContentChild, HostBinding } from '@angular/core';\nimport { IgxExpansionPanelModule } from '../expansion-panel/expansion-panel.module';\nimport { AnimationSettings } from '../expansion-panel/expansion-panel.component';\nimport { IgxExpansionPanelComponent } from '../expansion-panel';\nimport { IgxIconModule, IgxIconComponent } from '../icon/index';\nimport { IToggleView } from '../core/navigation';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxBannerActionsDirective } from './banner.directives';\nimport { CommonModule } from '@angular/common';\nimport { CancelableEventArgs, IBaseEventArgs } from '../core/utils';\n\nexport interface BannerEventArgs extends IBaseEventArgs {\n    banner: IgxBannerComponent;\n    event?: Event;\n}\n\nexport interface BannerCancelEventArgs extends BannerEventArgs, CancelableEventArgs {\n}\n/**\n * **Ignite UI for Angular Banner** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/banner.html)\n *\n * The Ignite UI Banner provides a highly templateable and easy to use banner that can be shown in your application.\n *\n * Usage:\n *\n * ```html\n * <igx-banner #banner>\n *   Our privacy settings have changed.\n *  <igx-banner-actions>\n *      <button igxButton=\"raised\">Read More</button>\n *      <button igxButton=\"raised\">Accept and Continue</button>\n *  </igx-banner-actions>\n * </igx-banner>\n * ```\n */\n@Component({\n    selector: 'igx-banner',\n    templateUrl: 'banner.component.html'\n})\nexport class IgxBannerComponent implements IToggleView {\n    private _bannerEvent: BannerEventArgs;\n    private _animationSettings: AnimationSettings;\n\n    @ViewChild('expansionPanel', { static: true })\n    private _expansionPanel: IgxExpansionPanelComponent;\n\n    @ContentChild(IgxBannerActionsDirective)\n    private _bannerActionTemplate: IgxBannerActionsDirective;\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxIconComponent)\n    public bannerIcon: IgxIconComponent;\n\n    /**\n     * Fires after the banner shows up\n     * ```typescript\n     * public handleOpened(event) {\n     *  ...\n     * }\n     * ```\n     * ```html\n     * <igx-banner (onOpened)=\"handleOpened($event)\"></igx-banner>\n     * ```\n     */\n    @Output()\n    public onOpened = new EventEmitter<BannerEventArgs>();\n\n    /**\n     * Fires before the banner shows up\n     * ```typescript\n     * public handleOpening(event) {\n     *  ...\n     * }\n     * ```\n     * ```html\n     * <igx-banner (onOpening)=\"handleOpening($event)\"></igx-banner>\n     * ```\n     */\n    @Output()\n    public onOpening = new EventEmitter<BannerCancelEventArgs>();\n\n    /**\n     * Fires after the banner hides\n     * ```typescript\n     * public handleClosed(event) {\n     *  ...\n     * }\n     * ```\n     * ```html\n     * <igx-banner (onClosed)=\"handleClosed($event)\"></igx-banner>\n     * ```\n     */\n    @Output()\n    public onClosed = new EventEmitter<BannerEventArgs>();\n\n    /**\n     * Fires before the banner hides\n     * ```typescript\n     * public handleClosing(event) {\n     *  ...\n     * }\n     * ```\n     * ```html\n     * <igx-banner (onClosing)=\"handleClosing($event)\"></igx-banner>\n     * ```\n     */\n    @Output()\n    public onClosing = new EventEmitter<BannerCancelEventArgs>();\n\n    /** @hidden */\n    public get useDefaultTemplate(): boolean {\n        return !this._bannerActionTemplate;\n    }\n\n    /**\n     * Get the animation settings used by the banner open/close methods\n     * ```typescript\n     * let currentAnimations: AnimationSettings = banner.animationSettings\n     * ```\n     */\n    @Input()\n    public get animationSettings(): AnimationSettings {\n        return this._animationSettings ? this._animationSettings : this._expansionPanel.animationSettings;\n    }\n\n    /**\n     * Set the animation settings used by the banner open/close methods\n     * ```typescript\n     * import { slideInLeft, slideOutRight } from 'igniteui-angular';\n     * ...\n     * banner.animationSettings: AnimationSettings = { openAnimation: slideInLeft, closeAnimation: slideOutRight };\n     * ```\n     */\n    public set animationSettings(settings: AnimationSettings) {\n        this._animationSettings = settings;\n    }\n    /**\n     * Gets whether banner is collapsed\n     *\n     * ```typescript\n     * const isCollapsed: boolean = banner.collapsed;\n     * ```\n     */\n    public get collapsed() {\n        return this._expansionPanel.collapsed;\n    }\n\n    /**\n     * Returns the native element of the banner component\n     * ```typescript\n     *  const myBannerElement: HTMLElement = banner.element;\n     * ```\n     */\n    public get element() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.display')\n    public get displayStyle(): string {\n        return this.collapsed ? '' : 'block';\n    }\n\n    constructor(public elementRef: ElementRef) { }\n\n    /**\n     * Opens the banner\n     *\n     * ```typescript\n     *  myBanner.open();\n     * ```\n     *\n     * ```html\n     * <igx-banner #banner>\n     * ...\n     * </igx-banner>\n     * <button (click)=\"banner.open()\">Open Banner</button>\n     * ```\n     */\n    public open(event?: Event) {\n        this._bannerEvent = { banner: this, event};\n        const openingArgs = {\n            banner: this,\n            event,\n            cancel: false\n        };\n        this.onOpening.emit(openingArgs);\n        if (openingArgs.cancel) {\n            return;\n        }\n        this._expansionPanel.open(event);\n    }\n\n    /**\n     * Closes the banner\n     *\n     * ```typescript\n     *  myBanner.close();\n     * ```\n     *\n     * ```html\n     * <igx-banner #banner>\n     * ...\n     * </igx-banner>\n     * <button (click)=\"banner.close()\">Close Banner</button>\n     * ```\n     */\n    public close(event?: Event) {\n        this._bannerEvent = { banner: this, event};\n        const closingArgs = {\n            banner: this,\n            event,\n            cancel: false\n        };\n        this.onClosing.emit(closingArgs);\n        if (closingArgs.cancel) {\n            return;\n        }\n        this._expansionPanel.close(event);\n    }\n\n    /**\n     * Toggles the banner\n     *\n     * ```typescript\n     *  myBanner.toggle();\n     * ```\n     *\n     * ```html\n     * <igx-banner #banner>\n     * ...\n     * </igx-banner>\n     * <button (click)=\"banner.toggle()\">Toggle Banner</button>\n     * ```\n     */\n    toggle(event?: Event) {\n        if (this.collapsed) {\n            this.open(event);\n        } else {\n            this.close(event);\n        }\n    }\n\n    /** @hidden */\n    public onExpansionPanelOpen() {\n        this.onOpened.emit(this._bannerEvent);\n    }\n\n    /** @hidden */\n    public onExpansionPanelClose() {\n        this.onClosed.emit(this._bannerEvent);\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxBannerComponent, IgxBannerActionsDirective],\n    exports: [IgxBannerComponent, IgxBannerActionsDirective],\n    imports: [CommonModule, IgxExpansionPanelModule, IgxIconModule, IgxButtonModule, IgxRippleModule]\n})\nexport class IgxBannerModule { }\n","import { CommonModule } from '@angular/common';\nimport {\n    AfterContentInit,\n    AfterViewInit,\n    Component,\n    ContentChildren,\n    ChangeDetectorRef,\n    EventEmitter,\n    HostBinding,\n    Inject,\n    Input,\n    NgModule,\n    Output,\n    Optional,\n    QueryList,\n    Renderer2,\n    ViewChildren,\n    OnDestroy\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { IgxButtonDirective, IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxIconModule } from '../icon/index';\nimport { takeUntil } from 'rxjs/operators';\nimport { DisplayDensityBase, DisplayDensityToken, IDisplayDensityOptions } from '../core/density';\nimport { IBaseEventArgs } from '../core/utils';\n\nexport enum ButtonGroupAlignment { horizontal, vertical }\nlet NEXT_ID = 0;\n\n/**\n * **Ignite UI for Angular Button Group** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/buttongroup.html)\n *\n * The Ignite UI Button Group displays a group of buttons either vertically or horizontally.  The group supports\n * single, multiple and toggle selection.\n *\n * Example:\n * ```html\n * <igx-buttongroup multiSelection=\"true\" [values]=\"fontOptions\">\n * </igx-buttongroup>\n * ```\n * The `fontOptions` value shown above is defined as:\n * ```typescript\n * this.fontOptions = [\n *   { icon: 'format_bold', selected: false },\n *   { icon: 'format_italic', selected: false },\n *   { icon: 'format_underlined', selected: false }];\n * ```\n */\n@Component({\n    selector: 'igx-buttongroup',\n    templateUrl: 'buttongroup-content.component.html'\n})\n\nexport class IgxButtonGroupComponent extends DisplayDensityBase implements AfterContentInit, AfterViewInit, OnDestroy {\n\n    private _disabled = false;\n    protected buttonClickNotifier$ = new Subject<boolean>();\n    protected queryListNotifier$ = new Subject<boolean>();\n\n    @ViewChildren(IgxButtonDirective) private viewButtons: QueryList<IgxButtonDirective>;\n    @ContentChildren(IgxButtonDirective) private templateButtons: QueryList<IgxButtonDirective>;\n\n    /**\n     * A collection containing all buttons inside the button group.\n     */\n    public get buttons(): IgxButtonDirective[] {\n        return [...this.viewButtons.toArray(), ...this.templateButtons.toArray()];\n    }\n\n    /**\n     * An @Input property that sets the value of the `id` attribute. If not set it will be automatically generated.\n     * ```html\n     *  <igx-buttongroup [id]=\"'igx-dialog-56'\" [multiSelection]=\"!multi\" [values]=\"alignOptions\">\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-buttongroup-${NEXT_ID++}`;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.zIndex')\n    public zIndex = 0;\n\n    /**\n     * Allows you to set a style using the `itemContentCssClass` input.\n     * The value should be the CSS class name that will be applied to the button group.\n     *```typescript\n     *public style1 = \"styleClass\";\n     * //..\n     *```\n     * ```html\n     *<igx-buttongroup [itemContentCssClass]=\"style1\" [multiSelection]=\"!multi\" [values]=\"alignOptions\">\n     *```\n     */\n    @Input() set itemContentCssClass(value: string) {\n        this._itemContentCssClass = value || this._itemContentCssClass;\n    }\n\n    /**\n     * Returns the CSS class of the item content of the `IgxButtonGroup`.\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *public buttonG: IgxButtonGroupComponent;\n     *ngAfterViewInit(){\n     *   let buttonSelect = this.buttonG.itemContentCssClass;\n     *}\n     *```\n     */\n    get itemContentCssClass(): string {\n        return this._itemContentCssClass;\n    }\n\n    /**\n     * An @Input property that enables selecting multiple buttons. By default, multi-selection is false.\n     * ```html\n     * <igx-buttongroup [multiSelection]=\"false\" [alignment]=\"alignment\"></igx-buttongroup>\n     * ```\n     */\n    @Input() public multiSelection = false;\n    /**\n     * An @Input property that allows setting the buttons in the button group.\n     * ```typescript\n     *  public ngOnInit() {\n     *      this.cities = [\n     *        new Button({\n     *          label: \"Sofia\"\n     *      }),\n     *        new Button({\n     *          label: \"London\"\n     *      }),\n     *        new Button({\n     *          label: \"New York\",\n     *          selected: true\n     *      }),\n     *        new Button({\n     *          label: \"Tokyo\"\n     *      })\n     *  ];\n     *  }\n     *  //..\n     * ```\n     * ```html\n     *  <igx-buttongroup [multiSelection]=\"false\" [values]=\"cities\"></igx-buttongroup>\n     * ```\n     */\n    @Input() public values: any;\n    /**\n     * An @Input property that allows you to disable the `igx-buttongroup` component. By default it's false.\n     * ```html\n     * <igx-buttongroup [disabled]=\"true\" [multiSelection]=\"multi\" [values]=\"fontOptions\"></igx-buttongroup>\n     * ```\n     */\n    @Input()\n    public get disabled(): boolean {\n        return this._disabled;\n    }\n    public set disabled(value: boolean) {\n        if (this._disabled !== value) {\n            this._disabled = value;\n\n            if (this.viewButtons && this.templateButtons) {\n                this.buttons.forEach((b) => b.disabled = this._disabled);\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public selectedIndexes: number[] = [];\n\n    /**\n     * Allows you to set the button group alignment.\n     * Available options are `ButtonGroupAlignment.horizontal` (default) and `ButtonGroupAlignment.vertical`.\n     * ```typescript\n     *public alignment = ButtonGroupAlignment.vertical;\n     * //..\n     * ```\n     * ```html\n     *<igx-buttongroup [multiSelection]=\"false\" [values]=\"cities\" [alignment]=\"alignment\"></igx-buttongroup>\n     * ```\n     */\n    @Input() set alignment(value: ButtonGroupAlignment) {\n        this._isVertical = value === ButtonGroupAlignment.vertical;\n    }\n    /**\n     * Returns the alignment of the `igx-buttongroup`.\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *public buttonG: IgxButtonGroupComponent;\n     *ngAfterViewInit(){\n     *    let buttonAlignment = this.buttonG.alignment;\n     *}\n     *```\n     */\n    get alignment(): ButtonGroupAlignment {\n        return this._isVertical ? ButtonGroupAlignment.vertical : ButtonGroupAlignment.horizontal;\n    }\n\n    /**\n     * An @Ouput property that emits an event when a button is selected.\n     *```typescript\n     *@ViewChild(\"toast\")\n     *private toast: IgxToastComponent;\n     *public onSelect(buttongroup){\n     *    this.toast.show()\n     *}\n     * //...\n     *```\n     *```html\n     * <igx-buttongroup #MyChild [multiSelection]=\"!multi\" (onSelect)=\"onSelect($event)\"></igx-buttongroup>\n     *<igx-toast #toast message=\"You have made a selection!\"></igx-toast>\n     *```\n     */\n    @Output() public onSelect = new EventEmitter<IButtonGroupEventArgs>();\n\n    /**\n     * An @Ouput property that emits an event when a button is deselected.\n     *```typescript\n     *@ViewChild(\"toast\")\n     *private toast: IgxToastComponent;\n     *public onUnselect(buttongroup){\n     *    this.toast.show()\n     *}\n     * //...\n     *```\n     *```html\n     * igx-buttongroup #MyChild [multiSelection]=\"multi\" (onUnselect)=\"onUnselect($event)\"></igx-buttongroup>\n     *<igx-toast #toast message=\"You have deselected a button!\"></igx-toast>\n     *```\n     */\n    @Output() public onUnselect = new EventEmitter<IButtonGroupEventArgs>();\n\n    /**\n     * Returns true if the `igx-buttongroup` alignment is vertical.\n     * Note that in order for the accessor to work correctly the property should be set explicitly.\n     * ```html\n     * <igx-buttongroup #MyChild [alignment]=\"alignment\" [values]=\"alignOptions\">\n     * ```\n     * ```typescript\n     * //...\n     *@ViewChild(\"MyChild\")\n     *private buttonG: IgxButtonGroupComponent;\n     *ngAfterViewInit(){\n     *    let orientation = this.buttonG.isVertical;\n     *}\n     *```\n     */\n    public get isVertical(): boolean {\n        return this._isVertical;\n    }\n    private _isVertical: boolean;\n    private _itemContentCssClass: string;\n\n    constructor(private _cdr: ChangeDetectorRef, private _renderer: Renderer2,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(_displayDensityOptions);\n    }\n\n    /**\n     * Gets the selected button/buttons.\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *private buttonG: IgxButtonGroupComponent;\n     *ngAfterViewInit(){\n     *    let selectedButton = this.buttonG.selectedButtons;\n     *}\n     *```\n     */\n    get selectedButtons(): IgxButtonDirective[] {\n        return this.buttons.filter((b, i) => {\n            return this.selectedIndexes.indexOf(i) !== -1;\n        });\n\n    }\n\n    /**\n     * Selects a button by its index.\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *private buttonG: IgxButtonGroupComponent;\n     *ngAfterViewInit(){\n     *    this.buttonG.selectButton(2);\n     *    this.cdr.detectChanges();\n     *}\n     *```\n     * @memberOf {@link IgxButtonGroupComponent}\n     */\n    public selectButton(index: number) {\n        if (index >= this.buttons.length || index < 0) {\n            return;\n        }\n\n        const button = this.buttons[index];\n        const buttonElement = button.nativeElement;\n\n        this.selectedIndexes.push(index);\n        button.selected = true;\n\n        this._renderer.setAttribute(buttonElement, 'aria-pressed', 'true');\n        this._renderer.addClass(buttonElement, 'igx-button-group__item--selected');\n\n        this.onSelect.emit({ button: button, index: index });\n\n        const indexInViewButtons = this.viewButtons.toArray().indexOf(button);\n        if (indexInViewButtons !== -1) {\n            this.values[indexInViewButtons].selected = true;\n        }\n\n        // deselect other buttons if multiSelection is not enabled\n        if (!this.multiSelection && this.selectedIndexes.length > 1) {\n            this.buttons.forEach((b, i) => {\n                if (i !== index && this.selectedIndexes.indexOf(i) !== -1) {\n                    this.deselectButton(i);\n                }\n            });\n        }\n    }\n\n    /**\n     * Deselects a button by its index.\n     * ```typescript\n     *@ViewChild(\"MyChild\")\n     *private buttonG: IgxButtonGroupComponent;\n     *ngAfterViewInit(){\n     *    this.buttonG.deselectButton(2);\n     *    this.cdr.detectChanges();\n     *}\n     * ```\n     * @memberOf {@link IgxButtonGroupComponent}\n     */\n    public deselectButton(index: number) {\n        if (index >= this.buttons.length || index < 0) {\n            return;\n        }\n\n        const button = this.buttons[index];\n        const buttonElement = button.nativeElement;\n\n        this.selectedIndexes.splice(this.selectedIndexes.indexOf(index), 1);\n        button.selected = false;\n\n        this._renderer.setAttribute(buttonElement, 'aria-pressed', 'false');\n        this._renderer.removeClass(buttonElement, 'igx-button-group__item--selected');\n\n        this.onUnselect.emit({ button: button, index: index });\n\n        const indexInViewButtons = this.viewButtons.toArray().indexOf(button);\n        if (indexInViewButtons !== -1) {\n            this.values[indexInViewButtons].selected = false;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterContentInit() {\n        this.templateButtons.forEach((button) => {\n            if (!button.initialDensity) {\n                button.displayDensity = this.displayDensity;\n            }\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit() {\n        const initButtons = () => {\n            // Cancel any existing buttonClick subscriptions\n            this.buttonClickNotifier$.next();\n\n            this.selectedIndexes.splice(0, this.selectedIndexes.length);\n\n            // initial configuration\n            this.buttons.forEach((button, index) => {\n                const buttonElement = button.nativeElement;\n\n                if (this.disabled) {\n                    button.disabled = true;\n                }\n\n                if (button.selected) {\n                    this.selectButton(index);\n                }\n\n                button.buttonClick.pipe(takeUntil(this.buttonClickNotifier$)).subscribe((ev) => this._clickHandler(ev, index));\n                this._renderer.addClass(buttonElement, 'igx-button-group__item');\n            });\n        };\n\n        this.viewButtons.changes.pipe(takeUntil(this.queryListNotifier$)).subscribe(() => initButtons());\n        this.templateButtons.changes.pipe(takeUntil(this.queryListNotifier$)).subscribe(() => initButtons());\n        initButtons();\n\n        this._cdr.detectChanges();\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this.buttonClickNotifier$.next();\n        this.buttonClickNotifier$.complete();\n\n        this.queryListNotifier$.next();\n        this.queryListNotifier$.complete();\n    }\n\n    /**\n     *@hidden\n     */\n    public _clickHandler(event, i) {\n        if (this.selectedIndexes.indexOf(i) !== -1) {\n            this.deselectButton(i);\n        } else {\n            this.selectButton(i);\n        }\n    }\n}\n\nexport interface IButtonGroupEventArgs extends IBaseEventArgs {\n    button: IgxButtonDirective;\n    index: number;\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxButtonGroupComponent],\n    exports: [IgxButtonGroupComponent],\n    imports: [IgxButtonModule, CommonModule, IgxRippleModule, IgxIconModule]\n})\n\nexport class IgxButtonGroupModule {\n}\n","export interface DateRangeDescriptor {\n    type: DateRangeType;\n    dateRange?: Date[];\n}\n\nexport enum DateRangeType {\n    After,\n    Before,\n    Between,\n    Specific,\n    Weekdays,\n    Weekends\n}\n","import { DateRangeDescriptor, DateRangeType } from '../core/dates';\n\n/**\n * @hidden\n */\nenum TimeDeltaInterval {\n    Month = 'month',\n    Year = 'year'\n}\n\nconst MDAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst FEBRUARY = 1;\n\nexport function range(start = 0, stop, step = 1) {\n    const res = [];\n    const cur = (stop === undefined) ? 0 : start;\n    const max = (stop === undefined) ? start : stop;\n    for (let i = cur; step < 0 ? i > max : i < max; i += step) {\n        res.push(i);\n    }\n    return res;\n}\n\n/**\n * Returns true for leap years, false for non-leap years.\n *\n * @export\n * @param year\n * @returns\n */\nexport function isLeap(year: number): boolean {\n    return (year % 4 === 0) && ((year % 100 !== 0) || (year % 400 === 0));\n}\n\nexport function weekDay(year: number, month: number, day: number): number {\n    return new Date(year, month, day).getDay();\n}\n\n/**\n * Return weekday and number of days for year, month.\n *\n * @export\n * @param year\n * @param month\n * @returns\n */\nexport function monthRange(year: number, month: number): number[] {\n    if ((month < 0) || (month > 11)) {\n        throw new Error('Invalid month specified');\n    }\n    const day = weekDay(year, month, 1);\n    let nDays = MDAYS[month];\n    if ((month === FEBRUARY) && (isLeap(year))) {\n        nDays++;\n    }\n    return [day, nDays];\n}\n\nexport function isDateInRanges(date: Date, ranges: DateRangeDescriptor[]): boolean {\n    date = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n    const dateInMs = date.getTime();\n\n    if (!ranges) {\n        return false;\n    }\n\n    for (const descriptor of ranges) {\n        const dRanges = descriptor.dateRange ? descriptor.dateRange.map(\n            r => new Date(r.getFullYear(), r.getMonth(), r.getDate())) : undefined;\n        switch (descriptor.type) {\n            case (DateRangeType.After):\n                if (dateInMs > dRanges[0].getTime()) {\n                    return true;\n                }\n\n                break;\n            case (DateRangeType.Before):\n                if (dateInMs < dRanges[0].getTime()) {\n                    return true;\n                }\n\n                break;\n            case (DateRangeType.Between):\n                const dRange = dRanges.map(d => d.getTime());\n                const min = Math.min(dRange[0], dRange[1]);\n                const max = Math.max(dRange[0], dRange[1]);\n                if (dateInMs >= min && dateInMs <= max) {\n                    return true;\n                }\n\n                break;\n            case (DateRangeType.Specific):\n                const datesInMs = dRanges.map(d => d.getTime());\n                for (const specificDateInMs of datesInMs) {\n                    if (dateInMs === specificDateInMs) {\n                        return true;\n                    }\n                }\n\n                break;\n            case (DateRangeType.Weekdays):\n                const day = date.getDay();\n                if (day % 6 !== 0) {\n                    return true;\n                }\n\n                break;\n            case (DateRangeType.Weekends):\n                const weekday = date.getDay();\n                if (weekday % 6 === 0) {\n                    return true;\n                }\n\n                break;\n            default:\n                return false;\n        }\n    }\n\n    return false;\n}\n\nexport interface ICalendarDate {\n    date: Date;\n    isCurrentMonth: boolean;\n    isPrevMonth: boolean;\n    isNextMonth: boolean;\n}\n\nexport interface IFormattedParts {\n    value: string;\n    literal?: string;\n    combined: string;\n}\n\nexport interface IFormattingOptions {\n    day?: string;\n    month?: string;\n    weekday?: string;\n    year?: string;\n}\n\n\nexport interface IFormattingViews {\n    day?: boolean;\n    month?: boolean;\n    year?: boolean;\n}\n\nexport enum WEEKDAYS {\n    SUNDAY = 0,\n    MONDAY = 1,\n    TUESDAY = 2,\n    WEDNESDAY = 3,\n    THURSDAY = 4,\n    FRIDAY = 5,\n    SATURDAY = 6\n}\n\nexport class Calendar {\n\n    private _firstWeekDay: number | WEEKDAYS;\n\n    constructor(firstWeekDay: number | WEEKDAYS = WEEKDAYS.SUNDAY) {\n        this._firstWeekDay = firstWeekDay;\n    }\n\n    public get firstWeekDay(): number {\n        return this._firstWeekDay % 7;\n    }\n\n    public set firstWeekDay(value: number) {\n        this._firstWeekDay = value;\n    }\n\n    /**\n     * Returns an array of weekdays for one week starting\n     * with the currently set `firstWeekDay`\n     *\n     * this.firstWeekDay = 0 (Sunday) --> [0, 1, 2, 3, 4, 5, 6]\n     * this.firstWeekDay = 1 (Monday) --> [1, 2, 3, 4, 5, 6, 0]\n     *\n     * @returns\n     *\n     * @memberof Calendar\n     */\n    public weekdays(): number[] {\n        const res = [];\n        for (const i of range(this.firstWeekDay, this.firstWeekDay + 7)) {\n            res.push(i % 7);\n        }\n        return res;\n    }\n\n    /**\n     * Returns the date values for one month. It will always iterate throught\n     * complete weeks, so it will contain dates outside the specified month.\n     *\n     * @param year\n     * @param month\n     * @param boolean\n     * @returns\n     *\n     * @memberof Calendar\n     */\n    public monthdates(year: number, month: number, extraWeek: boolean = false): ICalendarDate[] {\n        let date = new Date(year, month, 1);\n        let days = (date.getDay() - this.firstWeekDay) % 7;\n        if (days < 0) {\n            days = 7 - Math.abs(days);\n        }\n        date = this.timedelta(date, 'day', -days);\n        const res = [];\n        let value: ICalendarDate;\n\n        while (true) {\n\n            value = this.generateICalendarDate(date, year, month);\n            res.push(value);\n\n            date = this.timedelta(date, 'day', 1);\n\n            if ((date.getMonth() !== month) && (date.getDay() === this.firstWeekDay)) {\n                if (extraWeek && res.length <= 35) {\n                    for (const _ of range(0, 7)) {\n                        value = this.generateICalendarDate(date, year, month);\n                        res.push(value);\n                        date = this.timedelta(date, 'day', 1);\n                    }\n                }\n                break;\n            }\n        }\n        return res;\n    }\n\n    /**\n     * Returns a matrix (array of arrays) representing a month's calendar.\n     * Each row represents a full week; week entries are ICalendarDate objects.\n     *\n     * @param year\n     * @param month\n     * @returns\n     *\n     * @memberof Calendar\n     */\n    public monthdatescalendar(year: number, month: number, extraWeek: boolean = false): ICalendarDate[][] {\n        const dates = this.monthdates(year, month, extraWeek);\n        const res = [];\n        for (const i of range(0, dates.length, 7)) {\n            res.push(dates.slice(i, i + 7));\n        }\n        return res;\n    }\n\n    public timedelta(date: Date, interval: string, units: number): Date {\n        const ret = new Date(date);\n\n        const checkRollover = () => {\n            if (ret.getDate() !== date.getDate()) {\n                ret.setDate(0);\n            }\n        };\n\n        switch (interval.toLowerCase()) {\n            case 'year':\n                ret.setFullYear(ret.getFullYear() + units);\n                checkRollover();\n                break;\n            case 'quarter':\n                ret.setMonth(ret.getMonth() + 3 * units);\n                checkRollover();\n                break;\n            case 'month':\n                ret.setMonth(ret.getMonth() + units);\n                checkRollover();\n                break;\n            case 'week':\n                ret.setDate(ret.getDate() + 7 * units);\n                break;\n            case 'day':\n                ret.setDate(ret.getDate() + units);\n                break;\n            case 'hour':\n                ret.setTime(ret.getTime() + units * 3600000);\n                break;\n            case 'minute':\n                ret.setTime(ret.getTime() + units * 60000);\n                break;\n            case 'second':\n                ret.setTime(ret.getTime() + units * 1000);\n                break;\n            default:\n                throw new Error('Invalid interval specifier');\n        }\n        return ret;\n    }\n\n    public formatToParts(date: Date, locale: string, options: any, parts: string[]) {\n        const formatter = new Intl.DateTimeFormat(locale, options);\n        const result = {\n            date,\n            full: formatter.format(date)\n        };\n\n        if ((formatter as any).formatToParts) {\n            const formattedParts = (formatter as any).formatToParts(date);\n\n            const toType = (partType: string) => {\n                const index = formattedParts.findIndex(({ type }) => type === partType);\n                const o: IFormattedParts = { value: '', literal: '', combined: '' };\n\n                if (partType === 'era' && index > -1) {\n                    o.value = formattedParts[index].value;\n                    return o;\n                } else if (partType === 'era' && index === -1) {\n                    return o;\n                }\n\n                o.value = formattedParts[index].value;\n                o.literal = formattedParts[index + 1] ? formattedParts[index + 1].value : '';\n                o.combined = [o.value, o.literal].join('');\n                return o;\n            };\n\n            for (const each of parts) {\n                result[each] = toType(each);\n            }\n        } else {\n            for (const each of parts) {\n                result[each] = { value: '', literal: '', combined: '' };\n            }\n        }\n        return result;\n    }\n\n    public getFirstViewDate(date: Date, interval: string, activeViewIdx: number) {\n        return this.timedelta(date, interval, -activeViewIdx);\n    }\n\n    public getNextMonth(date: Date) {\n        return this.timedelta(date, TimeDeltaInterval.Month, 1);\n    }\n\n    public getPrevMonth(date: Date) {\n        return this.timedelta(date, TimeDeltaInterval.Month, -1);\n    }\n\n    public getNextYear(date: Date) {\n        return this.timedelta(date, TimeDeltaInterval.Year, 1);\n    }\n\n    public getPrevYear(date: Date) {\n        return this.timedelta(date, TimeDeltaInterval.Year, -1);\n    }\n\n    private generateICalendarDate(date: Date, year: number, month: number): ICalendarDate {\n        return {\n            date,\n            isCurrentMonth: date.getFullYear() === year && date.getMonth() === month,\n            isNextMonth: this.isNextMonth(date, year, month),\n            isPrevMonth: this.isPreviousMonth(date, year, month)\n        };\n    }\n\n    private isPreviousMonth(date: Date, year: number, month: number): boolean {\n        if (date.getFullYear() === year) {\n            return date.getMonth() < month;\n        }\n        return date.getFullYear() < year;\n    }\n\n    private isNextMonth(date: Date, year: number, month: number): boolean {\n        if (date.getFullYear() === year) {\n            return date.getMonth() > month;\n        }\n\n        return date.getFullYear() > year;\n    }\n}\n","/**\n * This file contains all the directives used by the @link IgxCalendarComponent.\n * Except for the directives which are used for templating the calendar itself\n * you should generally not use them directly.\n * @preferred\n */\nimport {\n    Directive,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Input,\n    Output,\n    TemplateRef,\n    ElementRef,\n    AfterViewInit,\n    OnDestroy,\n    NgZone\n} from '@angular/core';\nimport { fromEvent, Subject, interval } from 'rxjs';\nimport { takeUntil, debounce, tap } from 'rxjs/operators';\nimport { KEYS } from '../core/utils';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxCalendarYear]'\n})\nexport class IgxCalendarYearDirective {\n\n    @Input('igxCalendarYear')\n    public value: Date;\n\n    @Input()\n    public date: Date;\n\n    @Output()\n    public onYearSelection = new EventEmitter<Date>();\n\n    @HostBinding('class.igx-calendar__year')\n    public get defaultCSS(): boolean {\n        return !this.isCurrentYear;\n    }\n\n    @HostBinding('class.igx-calendar__year--current')\n    public get currentCSS(): boolean {\n        return this.isCurrentYear;\n    }\n\n    public get isCurrentYear(): boolean {\n        return this.date.getFullYear() === this.value.getFullYear();\n    }\n\n    @HostListener('click')\n    public onClick() {\n        this.onYearSelection.emit(this.value);\n    }\n}\n\n@Directive({\n    selector: '[igxCalendarMonth]'\n})\nexport class IgxCalendarMonthDirective {\n\n    @Input('igxCalendarMonth')\n    public value: Date;\n\n    @Input()\n    public date: Date;\n\n    @Input()\n    public index;\n\n    @Output()\n    public onMonthSelection = new EventEmitter<Date>();\n\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    @HostBinding('class.igx-calendar__month')\n    public get defaultCSS(): boolean {\n        return !this.isCurrentMonth;\n    }\n\n    @HostBinding('class.igx-calendar__month--current')\n    public get currentCSS(): boolean {\n        return this.isCurrentMonth;\n    }\n\n    public get isCurrentMonth(): boolean {\n        return this.date.getMonth() === this.value.getMonth();\n    }\n\n    public get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n\n    constructor(public elementRef: ElementRef) {}\n\n    @HostListener('click')\n    public onClick() {\n        const date = new Date(this.value.getFullYear(), this.value.getMonth(), this.date.getDate());\n        this.onMonthSelection.emit(date);\n    }\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxCalendarHeader]'\n})\nexport class IgxCalendarHeaderTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) {}\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxCalendarSubheader]'\n})\nexport class IgxCalendarSubheaderTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxCalendarScrollMonth]'\n})\nexport class IgxCalendarScrollMonthDirective implements AfterViewInit, OnDestroy {\n\n    /**\n     * A callback function to be invoked when month increment/decrement starts.\n     * @hidden\n     */\n    @Input()\n    public startScroll: (keydown?: boolean) => {};\n\n    /**\n     * A callback function to be invoked when month increment/decrement stops.\n     * @hidden\n     */\n    @Input()\n    public stopScroll: (event: any) => {};\n\n    /**\n     * @hidden\n     */\n    private destroy$ = new Subject<boolean>();\n\n    constructor(private element: ElementRef, private zone: NgZone) { }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit() {\n\n        fromEvent(this.element.nativeElement, 'keyup').pipe(\n            debounce(() => interval(100)),\n            takeUntil(this.destroy$)\n        ).subscribe((event: KeyboardEvent) => {\n            this.stopScroll(event);\n        });\n\n        this.zone.runOutsideAngular(() => {\n            fromEvent(this.element.nativeElement, 'keydown').pipe(\n                tap((event: KeyboardEvent) => {\n                    if (event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE || event.key === KEYS.ENTER) {\n                        event.preventDefault();\n                        event.stopPropagation();\n                    }\n                }),\n                debounce(() => interval(100)),\n                takeUntil(this.destroy$)\n            ).subscribe((event: KeyboardEvent) => {\n                if (event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE || event.key === KEYS.ENTER) {\n                    this.zone.run(() => this.startScroll(true));\n                }\n            });\n        });\n\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mousedown')\n    public onMouseDown() {\n        this.startScroll();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mouseup', ['$event'])\n    public onMouseUp(event: MouseEvent) {\n        this.stopScroll(event);\n    }\n}\n","import { Input, Output, EventEmitter, Directive } from '@angular/core';\nimport { WEEKDAYS, Calendar, isDateInRanges, IFormattingOptions, IFormattingViews } from './calendar';\nimport { ControlValueAccessor } from '@angular/forms';\nimport { DateRangeDescriptor } from '../core/dates';\nimport { Subject } from 'rxjs';\nimport { isDate } from '../core/utils';\n\n/**\n * Sets the selction type - single, multi or range.\n */\nexport enum CalendarSelection {\n    SINGLE = 'single',\n    MULTI = 'multi',\n    RANGE = 'range'\n}\n\nexport enum ScrollMonth {\n    PREV = 'prev',\n    NEXT = 'next',\n    NONE = 'none'\n}\n\n/** @hidden @internal */\n@Directive({\n    selector: '[igxCalendarBase]'\n})\nexport class IgxCalendarBaseDirective implements ControlValueAccessor {\n    /**\n     * Gets the start day of the week.\n     * Can return a numeric or an enum representation of the week day.\n     * Defaults to `Sunday` / `0`.\n     */\n    @Input()\n    public get weekStart(): WEEKDAYS | number {\n        return this.calendarModel.firstWeekDay;\n    }\n\n    /**\n     * Sets the start day of the week.\n     * Can be assigned to a numeric value or to `WEEKDAYS` enum value.\n     */\n    public set weekStart(value: WEEKDAYS | number) {\n        this.calendarModel.firstWeekDay = value;\n    }\n\n    /**\n     * Gets the `locale` of the calendar.\n     * Default value is `\"en\"`.\n     */\n    @Input()\n    public get locale(): string {\n        return this._locale;\n    }\n\n    /**\n     * Sets the `locale` of the calendar.\n     * Expects a valid BCP 47 language tag.\n     * Default value is `\"en\"`.\n     */\n    public set locale(value: string) {\n        this._locale = value;\n        this.initFormatters();\n    }\n\n    /**\n     * Gets the date format options of the days view.\n     */\n    @Input()\n    public get formatOptions(): IFormattingOptions {\n        return this._formatOptions;\n    }\n\n    /**\n     * Sets the date format options of the days view.\n     * Default is { day: 'numeric', month: 'short', weekday: 'short', year: 'numeric' }\n     */\n    public set formatOptions(formatOptions: IFormattingOptions) {\n        this._formatOptions = Object.assign(this._formatOptions, formatOptions);\n        this.initFormatters();\n    }\n\n    /**\n     * Gets whether the `day`, `month` and `year` should be rendered\n     * according to the locale and formatOptions, if any.\n     */\n    @Input()\n    public get formatViews(): IFormattingViews {\n        return this._formatViews;\n    }\n\n    /**\n     * Gets whether the `day`, `month` and `year` should be rendered\n     * according to the locale and formatOptions, if any.\n     */\n    public set formatViews(formatViews: IFormattingViews) {\n        this._formatViews = Object.assign(this._formatViews, formatViews);\n    }\n\n    /**\n     *\n     * Gets the selection type.\n     * Default value is `\"single\"`.\n     * Changing the type of selection resets the currently\n     * selected values if any.\n     */\n    @Input()\n    public get selection(): string {\n        return this._selection;\n    }\n\n    /**\n     * Sets the selection.\n     */\n    public set selection(value: string) {\n        switch (value) {\n            case CalendarSelection.SINGLE:\n                this.selectedDates = null;\n                break;\n            case CalendarSelection.MULTI:\n            case CalendarSelection.RANGE:\n                this.selectedDates = [];\n                break;\n            default:\n                throw new Error('Invalid selection value');\n        }\n        this._onChangeCallback(this.selectedDates);\n        this.rangeStarted = false;\n        this._selection = value;\n    }\n\n    /**\n     * Gets the selected date(s).\n     *\n     * When selection is set to `single`, it returns\n     * a single `Date` object.\n     * Otherwise it is an array of `Date` objects.\n     */\n    @Input()\n    public get value(): Date | Date[] {\n        return this.selectedDates;\n    }\n\n    /**\n     * Sets the selected date(s).\n     *\n     * When selection is set to `single`, it accepts\n     * a single `Date` object.\n     * Otherwise it is an array of `Date` objects.\n     */\n    public set value(value: Date | Date[]) {\n        if (!value || !!value && (value as Date[]).length === 0) {\n            return;\n        }\n\n        this.selectDate(value);\n    }\n\n    /**\n     * Gets the date that is presented.\n     * By default it is the current date.\n     */\n    @Input()\n    public get viewDate(): Date {\n        return this._viewDate;\n    }\n\n    /**\n     * Sets the date that will be presented in the default view when the component renders.\n     */\n    public set viewDate(value: Date) {\n        this._viewDate = this.getDateOnly(value);\n    }\n\n    /**\n     * Gets the disabled dates descriptors.\n     */\n    @Input()\n    public get disabledDates(): DateRangeDescriptor[] {\n        return this._disabledDates;\n    }\n\n    /**\n     * Sets the disabled dates' descriptors.\n     * ```typescript\n     *@ViewChild(\"MyCalendar\")\n     *public calendar: IgxCalendarComponent;\n     *ngOnInit(){\n     *    this.calendar.disabledDates = [\n     *     {type: DateRangeType.Between, dateRange: [new Date(\"2020-1-1\"), new Date(\"2020-1-15\")]},\n     *     {type: DateRangeType.Weekends}];\n     *}\n     *```\n     */\n    public set disabledDates(value: DateRangeDescriptor[]) {\n        this._disabledDates = value;\n    }\n\n    /**\n     * Gets the special dates descriptors.\n     */\n    @Input()\n    public get specialDates(): DateRangeDescriptor[] {\n        return this._specialDates;\n    }\n\n    /**\n     * Sets the special dates' descriptors.\n     * ```typescript\n     *@ViewChild(\"MyCalendar\")\n     *public calendar: IgxCalendarComponent;\n     *ngOnInit(){\n     *    this.calendar.specialDates = [\n     *     {type: DateRangeType.Between, dateRange: [new Date(\"2020-1-1\"), new Date(\"2020-1-15\")]},\n     *     {type: DateRangeType.Weekends}];\n     *}\n     *```\n     */\n    public set specialDates(value: DateRangeDescriptor[]) {\n        this._specialDates = value;\n    }\n\n    /**\n     * Sets/gets whether the outside dates (dates that are out of the current month) will be hidden.\n     * Default value is `false`.\n     * ```html\n     * <igx-calendar [hideOutsideDays] = \"true\"></igx-calendar>\n     * ```\n     * ```typescript\n     * let hideOutsideDays = this.calendar.hideOutsideDays;\n     * ```\n     */\n\n    @Input()\n    public hideOutsideDays = false;\n\n    /**\n     * Emits an event when a date is selected.\n     * Provides reference the `selectedDates` property.\n     */\n    @Output()\n    public onSelection = new EventEmitter<Date | Date[]>();\n\n    /**\n     *@hidden\n     */\n    private _selection: CalendarSelection | string = CalendarSelection.SINGLE;\n\n    /**\n     *@hidden\n     */\n    public rangeStarted = false;\n\n    /**\n    *@hidden\n    */\n    private _locale = 'en';\n\n    /**\n     *@hidden\n     */\n    private _viewDate: Date;\n\n    /**\n     *@hidden\n     */\n    private _disabledDates: DateRangeDescriptor[] = null;\n\n    /**\n     *@hidden\n     */\n    private _specialDates: DateRangeDescriptor[] = null;\n\n    /**\n     *@hidden\n     */\n    private _formatOptions: IFormattingOptions = {\n        day: 'numeric',\n        month: 'short',\n        weekday: 'short',\n        year: 'numeric'\n    };\n\n    /**\n     *@hidden\n     */\n    private _formatViews: IFormattingViews = {\n        day: false,\n        month: true,\n        year: false\n    };\n\n    /**\n     *@hidden\n     */\n    protected formatterWeekday;\n\n    /**\n     *@hidden\n     */\n    protected formatterDay;\n\n    /**\n     *@hidden\n     */\n    protected formatterMonth;\n\n    /**\n     *@hidden\n     */\n    protected formatterYear;\n\n    /**\n     *@hidden\n     */\n    protected formatterMonthday;\n\n    /**\n     *@hidden\n     */\n    protected calendarModel: Calendar;\n\n    /**\n     * @hidden\n     */\n    public monthScrollDirection = ScrollMonth.NONE;\n\n    /**\n     *@hidden\n     */\n    public scrollMonth$ = new Subject();\n\n    /**\n     *@hidden\n     */\n    public stopMonthScroll$ = new Subject<boolean>();\n\n    /**\n     *@hidden\n     */\n    public startMonthScroll$ = new Subject();\n\n    /**\n     *@hidden\n     */\n    public selectedDates;\n\n    /**\n     *@hidden\n     */\n    protected _onTouchedCallback: () => void = () => { };\n    /**\n     *@hidden\n     */\n    protected _onChangeCallback: (_: Date) => void = () => { };\n\n    /**\n     * @hidden\n     */\n    constructor() {\n        this.calendarModel = new Calendar();\n\n        this.viewDate = this.viewDate ? this.viewDate : new Date();\n\n        this.calendarModel.firstWeekDay = this.weekStart;\n        this.initFormatters();\n    }\n\n    /**\n     *@hidden\n     */\n    private getDateOnlyInMs(date: Date) {\n        return this.getDateOnly(date).getTime();\n    }\n\n    /**\n     *@hidden\n     */\n    private generateDateRange(start: Date, end: Date): Date[] {\n        const result = [];\n        start = this.getDateOnly(start);\n        end = this.getDateOnly(end);\n        while (start.getTime() !== end.getTime()) {\n            start = this.calendarModel.timedelta(start, 'day', 1);\n            result.push(start);\n        }\n\n        return result;\n    }\n\n    /**\n     * Performs a single selection.\n     * @hidden\n     */\n    private selectSingle(value: Date) {\n        this.selectedDates = this.getDateOnly(value);\n        this._onChangeCallback(this.selectedDates);\n    }\n\n    /**\n     * Performs a multiple selection\n     * @hidden\n     */\n    private selectMultiple(value: Date | Date[]) {\n        if (Array.isArray(value)) {\n            const newDates = value.map(v => this.getDateOnly(v).getTime());\n            const selDates = this.selectedDates.map(v => this.getDateOnly(v).getTime());\n\n            if (JSON.stringify(newDates) === JSON.stringify(selDates)) {\n                return;\n            }\n\n            this.selectedDates = Array.from(new Set([...newDates, ...selDates])).map(v => new Date(v));\n        } else {\n            const valueDateOnly = this.getDateOnly(value);\n            const newSelection = [];\n            if (this.selectedDates.every((date: Date) => date.getTime() !== valueDateOnly.getTime())) {\n                newSelection.push(valueDateOnly);\n            } else {\n                this.selectedDates = this.selectedDates.filter(\n                    (date: Date) => date.getTime() !== valueDateOnly.getTime()\n                );\n            }\n\n            if (newSelection.length > 0) {\n                this.selectedDates = this.selectedDates.concat(newSelection);\n            }\n        }\n        this.selectedDates = this.selectedDates.filter(d => !this.isDateDisabled(d));\n        this.selectedDates.sort((a: Date, b: Date) => a.valueOf() - b.valueOf());\n        this._onChangeCallback(this.selectedDates);\n    }\n\n    /**\n     *@hidden\n     */\n    private selectRange(value: Date | Date[], excludeDisabledDates: boolean = false) {\n        let start: Date;\n        let end: Date;\n\n        if (Array.isArray(value)) {\n            // this.rangeStarted = false;\n            value.sort((a: Date, b: Date) => a.valueOf() - b.valueOf());\n            start = this.getDateOnly(value[0]);\n            end = this.getDateOnly(value[value.length - 1]);\n            this.selectedDates = [start, ...this.generateDateRange(start, end)];\n        } else {\n            if (!this.rangeStarted) {\n                this.rangeStarted = true;\n                this.selectedDates = [value];\n            } else {\n                this.rangeStarted = false;\n\n                if (this.selectedDates[0].getTime() === value.getTime()) {\n                    this.selectedDates = [];\n                    this._onChangeCallback(this.selectedDates);\n                    return;\n                }\n\n                this.selectedDates.push(value);\n                this.selectedDates.sort((a: Date, b: Date) => a.valueOf() - b.valueOf());\n\n                start = this.selectedDates.shift();\n                end = this.selectedDates.pop();\n                this.selectedDates = [start, ...this.generateDateRange(start, end)];\n            }\n        }\n\n        if (excludeDisabledDates) {\n            this.selectedDates = this.selectedDates.filter(d => !this.isDateDisabled(d));\n        }\n\n        this._onChangeCallback(this.selectedDates);\n    }\n\n    /**\n     * Performs a single deselection.\n     * @hidden\n     */\n    private deselectSingle(value: Date) {\n        if (this.selectedDates !== null &&\n            this.getDateOnlyInMs(value as Date) === this.getDateOnlyInMs(this.selectedDates)) {\n            this.selectedDates = null;\n            this._onChangeCallback(this.selectedDates);\n        }\n    }\n\n    /**\n     * Performs a multiple deselection.\n     * @hidden\n     */\n    private deselectMultiple(value: Date[]) {\n        value = value.filter(v => v !== null);\n        const selectedDatesCount = this.selectedDates.length;\n        const datesInMsToDeselect: Set<number> = new Set<number>(\n            value.map(v => this.getDateOnlyInMs(v)));\n\n        for (let i = this.selectedDates.length - 1; i >= 0; i--) {\n            if (datesInMsToDeselect.has(this.getDateOnlyInMs(this.selectedDates[i]))) {\n                this.selectedDates.splice(i, 1);\n            }\n        }\n\n        if (this.selectedDates.length !== selectedDatesCount) {\n            this._onChangeCallback(this.selectedDates);\n        }\n    }\n\n    /**\n     * Performs deselection of a single value, when selection is multi\n     * Usually performed by the selectMultiple method, but leads to bug when multiple months are in view\n     * @hidden\n     */\n    public deselectMultipleInMonth(value: Date) {\n        const valueDateOnly = this.getDateOnly(value);\n        this.selectedDates = this.selectedDates.filter(\n            (date: Date) => date.getTime() !== valueDateOnly.getTime()\n        );\n    }\n\n    /**\n     * Performs a range deselection.\n     * @hidden\n     */\n    private deselectRange(value: Date[]) {\n        value = value.filter(v => v !== null);\n        if (value.length < 1) {\n            return;\n        }\n\n        value.sort((a: Date, b: Date) => a.valueOf() - b.valueOf());\n        const valueStart = this.getDateOnlyInMs(value[0]);\n        const valueEnd = this.getDateOnlyInMs(value[value.length - 1]);\n\n        this.selectedDates.sort((a: Date, b: Date) => a.valueOf() - b.valueOf());\n        const selectedDatesStart = this.getDateOnlyInMs(this.selectedDates[0]);\n        const selectedDatesEnd = this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length - 1]);\n\n        if (!(valueEnd < selectedDatesStart) && !(valueStart > selectedDatesEnd)) {\n            this.selectedDates = [];\n            this.rangeStarted = false;\n            this._onChangeCallback(this.selectedDates);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected initFormatters() {\n        this.formatterDay = new Intl.DateTimeFormat(this._locale, { day: this._formatOptions.day });\n        this.formatterWeekday = new Intl.DateTimeFormat(this._locale, { weekday: this._formatOptions.weekday });\n        this.formatterMonth = new Intl.DateTimeFormat(this._locale, { month: this._formatOptions.month });\n        this.formatterYear = new Intl.DateTimeFormat(this._locale, { year: this._formatOptions.year });\n        this.formatterMonthday = new Intl.DateTimeFormat(this._locale, { month: this._formatOptions.month, day: this._formatOptions.day });\n    }\n\n    /**\n     *@hidden\n     */\n    protected getDateOnly(date: Date) {\n        return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnChange(fn: (v: Date) => void) {\n        this._onChangeCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnTouched(fn: () => void) {\n        this._onTouchedCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public writeValue(value: Date | Date[]) {\n        this.selectDate(value as Date);\n    }\n\n    /**\n     * Checks whether a date is disabled.\n     * @hidden\n     */\n    public isDateDisabled(date: Date) {\n        if (this.disabledDates === null) {\n            return false;\n        }\n\n        return isDateInRanges(date, this.disabledDates);\n    }\n\n    /**\n     * Selects date(s) (based on the selection type).\n     */\n    public selectDate(value: Date | Date[]) {\n        if (value === null || value === undefined || (Array.isArray(value) && value.length === 0)) {\n            return;\n        }\n\n        switch (this.selection) {\n            case CalendarSelection.SINGLE:\n                if (isDate(value) && !this.isDateDisabled(value as Date)) {\n                    this.selectSingle(value as Date);\n                }\n                break;\n            case CalendarSelection.MULTI:\n                this.selectMultiple(value);\n                break;\n            case CalendarSelection.RANGE:\n                this.selectRange(value, true);\n                break;\n        }\n    }\n\n    /**\n     * Deselects date(s) (based on the selection type).\n     */\n    public deselectDate(value?: Date | Date[]) {\n        if (!this.selectedDates || this.selectedDates.length === 0) {\n            return;\n        }\n\n        if (value === null || value === undefined) {\n            this.selectedDates = this.selection === CalendarSelection.SINGLE ? null : [];\n            this.rangeStarted = false;\n            this._onChangeCallback(this.selectedDates);\n            return;\n        }\n\n        switch (this.selection) {\n            case CalendarSelection.SINGLE:\n                this.deselectSingle(value as Date);\n                break;\n            case CalendarSelection.MULTI:\n                this.deselectMultiple(value as Date[]);\n                break;\n            case CalendarSelection.RANGE:\n                this.deselectRange(value as Date[]);\n                break;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public selectDateFromClient(value: Date) {\n        switch (this.selection) {\n            case CalendarSelection.SINGLE:\n            case CalendarSelection.MULTI:\n                this.selectDate(value);\n                break;\n            case CalendarSelection.RANGE:\n                this.selectRange(value, true);\n                break;\n        }\n    }\n}\n","import { IgxCalendarBaseDirective } from './calendar-base';\nimport { HostBinding, Directive, ViewChildren, ElementRef, QueryList } from '@angular/core';\nimport { KEYS } from '../core/utils';\n\n/**\n * Sets the calender view - days, months or years.\n */\nexport enum CalendarView {\n    DEFAULT,\n    YEAR,\n    DECADE\n}\n@Directive({\n    selector: '[igxMonthPickerBase]'\n})\nexport class IgxMonthPickerBaseDirective extends IgxCalendarBaseDirective {\n\n    /**\n     * Holds month view index we are operating on.\n     */\n    protected activeViewIdx = 0;\n\n    /**\n     * The default `tabindex` attribute for the component.\n     *\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * @hidden\n     */\n    @ViewChildren('yearsBtn')\n    public yearsBtns: QueryList<ElementRef>;\n\n\n    /**\n     * Gets the current active view.\n     */\n    public get activeView(): CalendarView {\n        return this._activeView;\n    }\n\n    /**\n     * Sets the current active view.\n     */\n    public set activeView(val: CalendarView) {\n        this._activeView = val;\n    }\n\n    /**\n     * @hidden\n     */\n    public get isDefaultView(): boolean {\n        return this._activeView === CalendarView.DEFAULT;\n    }\n\n    /**\n     * @hidden\n     */\n    public get isDecadeView(): boolean {\n        return this._activeView === CalendarView.DECADE;\n    }\n\n    /**\n     *@hidden\n     */\n    private _activeView = CalendarView.DEFAULT;\n\n    /**\n     * @hidden\n     */\n    public changeYear(event: Date) {\n        this.viewDate = this.calendarModel.getFirstViewDate(event, 'month', this.activeViewIdx);\n        this.activeView = CalendarView.DEFAULT;\n\n        requestAnimationFrame(() => {\n            if (this.yearsBtns && this.yearsBtns.length) {\n                this.yearsBtns.find((e: ElementRef, idx: number) => idx === this.activeViewIdx).nativeElement.focus();\n            }\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public activeViewDecade(activeViewIdx = 0): void {\n        this._activeView = CalendarView.DECADE;\n        this.activeViewIdx = activeViewIdx;\n    }\n\n    /**\n     * @hidden\n     */\n    public activeViewDecadeKB(event, activeViewIdx = 0) {\n        if (event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE || event.key === KEYS.ENTER) {\n            event.preventDefault();\n            this.activeViewDecade(activeViewIdx);\n        }\n    }\n\n    /**\n     * Returns the locale representation of the year in the year view if enabled,\n     * otherwise returns the default `Date.getFullYear()` value.\n     *\n     * @hidden\n     */\n    public formattedYear(value: Date): string {\n        if (this.formatViews.year) {\n            return this.formatterYear.format(value);\n        }\n        return `${value.getFullYear()}`;\n    }\n}\n","import {\n    Component,\n    Output,\n    EventEmitter,\n    Input,\n    HostBinding,\n    HostListener,\n    ViewChildren,\n    QueryList,\n    ElementRef\n} from '@angular/core';\nimport { Calendar } from '../calendar';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IgxCalendarMonthDirective } from '../calendar.directives';\n\nlet NEXT_ID = 0;\n\n@Component({\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxMonthsViewComponent, multi: true }],\n    selector: 'igx-months-view',\n    templateUrl: 'months-view.component.html'\n})\nexport class IgxMonthsViewComponent implements ControlValueAccessor {\n\n    /**\n     * Sets/gets the `id` of the months view.\n     * If not set, the `id` will have value `\"igx-months-view-0\"`.\n     * ```html\n     * <igx-months-view id=\"my-months-view\"></igx-months-view>\n     * ```\n     * ```typescript\n     * let monthsViewId =  this.monthsView.id;\n     * ```\n     * @memberof IgxMonthsViewComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-months-view-${NEXT_ID++}`;\n\n    /**\n     * Gets/sets the selected date of the months view.\n     * By default it is the current date.\n     * ```html\n     * <igx-months-view [date]=\"myDate\"></igx-months-view>\n     * ```\n     * ```typescript\n     * let date =  this.monthsView.date;\n     * ```\n     * @memberof IgxMonthsViewComponent\n     */\n    @Input()\n    public date = new Date();\n\n    /**\n     * Gets the month format option of the months view.\n     * ```typescript\n     * let monthFormat = this.monthsView.monthFormat.\n     * ```\n     */\n    @Input()\n    public get monthFormat(): string {\n        return this._monthFormat;\n    }\n\n    /**\n     * Sets the month format option of the months view.\n     * ```html\n     * <igx-months-view> [monthFormat] = \"short'\"</igx-months-view>\n     * ```\n     * @memberof IgxMonthsViewComponent\n     */\n    public set monthFormat(value: string) {\n        this._monthFormat = value;\n        this.initMonthFormatter();\n    }\n\n    /**\n     * Gets the `locale` of the months view.\n     * Default value is `\"en\"`.\n     * ```typescript\n     * let locale =  this.monthsView.locale;\n     * ```\n     * @memberof IgxMonthsViewComponent\n     */\n    @Input()\n    public get locale(): string {\n        return this._locale;\n    }\n\n    /**\n     * Sets the `locale` of the months view.\n     * Expects a valid BCP 47 language tag.\n     * Default value is `\"en\"`.\n     * ```html\n     * <igx-months-view [locale]=\"de\"></igx-months-view>\n     * ```\n     * @memberof IgxMonthsViewComponent\n     */\n    public set locale(value: string) {\n        this._locale = value;\n        this.initMonthFormatter();\n    }\n\n    /**\n     * Gets/sets whether the view should be rendered\n     * according to the locale and monthFormat, if any.\n     */\n    @Input()\n    public formatView = true;\n\n    /**\n     * Emits an event when a selection is made in the months view.\n     * Provides reference the `date` property in the `IgxMonthsViewComponent`.\n     * ```html\n     * <igx-months-view (onSelection)=\"onSelection($event)\"></igx-months-view>\n     * ```\n     * @memberof IgxMonthsViewComponent\n     */\n    @Output()\n    public onSelection = new EventEmitter<Date>();\n\n    /**\n     * The default css class applied to the component.\n     *\n     * @hidden\n     */\n    @HostBinding('class.igx-calendar')\n    public styleClass = true;\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(IgxCalendarMonthDirective, { read: IgxCalendarMonthDirective })\n    public monthsRef: QueryList<IgxCalendarMonthDirective>;\n\n\n    /**\n     * The default `tabindex` attribute for the component.\n     *\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * Returns an array of date objects which are then used to\n     * properly render the month names.\n     *\n     * Used in the template of the component\n     *\n     * @hidden\n     */\n    get months(): Date[] {\n        let start = new Date(this.date.getFullYear(), 0, 1);\n        const result = [];\n\n        for (let i = 0; i < 12; i++) {\n            result.push(start);\n            start = this._calendarModel.timedelta(start, 'month', 1);\n        }\n\n        return result;\n    }\n\n    /**\n     *@hidden\n     */\n    private _formatterMonth: any;\n\n    /**\n     *@hidden\n     */\n    private _locale = 'en';\n\n    /**\n     *@hidden\n     */\n    private _monthFormat = 'short';\n\n    /**\n     *@hidden\n     */\n    private _calendarModel: Calendar;\n\n    /**\n     *@hidden\n     */\n    private _onTouchedCallback: () => void = () => { };\n    /**\n     *@hidden\n     */\n    private _onChangeCallback: (_: Date) => void = () => { };\n\n    constructor(public el: ElementRef) {\n        this.initMonthFormatter();\n        this._calendarModel = new Calendar();\n    }\n\n    /**\n     * Returns the locale representation of the month in the months view.\n     *\n     * @hidden\n     */\n    public formattedMonth(value: Date): string {\n        if (this.formatView) {\n            return this._formatterMonth.format(value);\n        }\n        return `${value.getMonth()}`;\n    }\n\n    /**\n     *@hidden\n     */\n    public selectMonth(event) {\n        this.onSelection.emit(event);\n\n        this.date = event;\n        this._onChangeCallback(this.date);\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnChange(fn: (v: Date) => void) {\n        this._onChangeCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnTouched(fn: () => void) {\n        this._onTouchedCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public writeValue(value: Date) {\n        if (value) {\n            this.date = value;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public monthTracker(index, item): string {\n        return `${item.getMonth()}}`;\n    }\n\n    /**\n     *@hidden\n     */\n    private initMonthFormatter() {\n        this._formatterMonth = new Intl.DateTimeFormat(this._locale, { month: this.monthFormat });\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowup', ['$event'])\n    public onKeydownArrowUp(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const node = this.monthsRef.find((date) => date.nativeElement === event.target);\n        if (!node) {\n            return;\n        }\n\n        const months = this.monthsRef.toArray();\n        const nodeRect = node.nativeElement.getBoundingClientRect();\n\n        for (let index = months.indexOf(node) - 1; index >= 0; index--) {\n            const nextNodeRect = months[index].nativeElement.getBoundingClientRect();\n            const tolerance = 6;\n            if (nodeRect.top !== nextNodeRect.top && (nextNodeRect.left - nodeRect.left) < tolerance) {\n                months[index].nativeElement.focus();\n                break;\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowdown', ['$event'])\n    public onKeydownArrowDown(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const node = this.monthsRef.find((date) => date.nativeElement === event.target);\n        if (!node) {\n            return;\n        }\n\n        const months = this.monthsRef.toArray();\n        const nodeRect = node.nativeElement.getBoundingClientRect();\n\n        for (let index = months.indexOf(node) + 1; index < months.length; index++) {\n            const nextNodeRect = months[index].nativeElement.getBoundingClientRect();\n            const tolerance = 6;\n            if (nextNodeRect.top !== nodeRect.top && (nodeRect.left - nextNodeRect.left) < tolerance ) {\n                months[index].nativeElement.focus();\n                break;\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowright', ['$event'])\n    public onKeydownArrowRight(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const node = this.monthsRef.find((date) => date.nativeElement === event.target);\n        if (!node) { return; }\n\n        const months = this.monthsRef.toArray();\n        if (months.indexOf(node) + 1 < months.length) {\n            const month = months[months.indexOf(node) + 1];\n\n            month.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowleft', ['$event'])\n    public onKeydownArrowLeft(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const node = this.monthsRef.find((date) => date.nativeElement === event.target);\n        if (!node) { return; }\n\n        const months = this.monthsRef.toArray();\n        if (months.indexOf(node) - 1 >= 0) {\n            const month = months[months.indexOf(node) - 1];\n\n            month.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.home', ['$event'])\n    public onKeydownHome(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const month = this.monthsRef.toArray()[0];\n\n        month.nativeElement.focus();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.end', ['$event'])\n    public onKeydownEnd(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const months = this.monthsRef.toArray();\n        const month = months[months.length - 1];\n\n        month.nativeElement.focus();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.enter', ['$event'])\n    public onKeydownEnter(event) {\n        const value = this.monthsRef.find((date) => date.nativeElement === event.target).value;\n        this.date = new Date(value.getFullYear(), value.getMonth(), this.date.getDate());\n\n        this.onSelection.emit(this.date);\n        this._onChangeCallback(this.date);\n    }\n}\n","import { Component, Output, EventEmitter, Input, HostBinding, HostListener, ElementRef, Injectable} from '@angular/core';\nimport { range, Calendar } from '../calendar';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { HammerGestureConfig, HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\n\nlet NEXT_ID = 0;\n\n@Injectable()\nexport class CalendarHammerConfig extends HammerGestureConfig {\n    public overrides = {\n        pan: { direction: Hammer.DIRECTION_VERTICAL, threshold: 1 }\n    };\n}\n\n@Component({\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: IgxYearsViewComponent,\n            multi: true\n        },\n        {\n            provide: HAMMER_GESTURE_CONFIG,\n            useClass: CalendarHammerConfig\n        }\n    ],\n    selector: 'igx-years-view',\n    templateUrl: 'years-view.component.html'\n})\nexport class IgxYearsViewComponent implements ControlValueAccessor {\n\n    /**\n     * Sets/gets the `id` of the years view.\n     * If not set, the `id` will have value `\"igx-years-view-0\"`.\n     * ```html\n     * <igx-years-view id = \"my-years-view\"></igx-years-view>\n     * ```\n     * ```typescript\n     * let yearsViewId =  this.yearsView.id;\n     * ```\n     * @memberof IgxCalendarComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-years-view-${NEXT_ID++}`;\n\n    /**\n     * Gets/sets the selected date of the years view.\n     * By default it is the current date.\n     * ```html\n     * <igx-years-view [date]=\"myDate\"></igx-years-view>\n     * ```\n     * ```typescript\n     * let date =  this.yearsView.date;\n     * ```\n     * @memberof IgxYearsViewComponent\n     */\n    @Input()\n    public date = new Date();\n\n    /**\n     * Gets the year format option of the years view.\n     * ```typescript\n     * let yearFormat = this.yearsView.yearFormat.\n     * ```\n     */\n    @Input()\n    public get yearFormat(): string {\n        return this._yearFormat;\n    }\n\n    /**\n     * Sets the year format option of the years view.\n     * ```html\n     * <igx-years-view [yearFormat]=\"numeric\"></igx-years-view>\n     * ```\n     * @memberof IgxYearsViewComponent\n     */\n    public set yearFormat(value: string) {\n        this._yearFormat = value;\n        this.initYearFormatter();\n    }\n\n    /**\n     * Gets the `locale` of the years view.\n     * Default value is `\"en\"`.\n     * ```typescript\n     * let locale =  this.yearsView.locale;\n     * ```\n     * @memberof IgxYearsViewComponent\n     */\n    @Input()\n    public get locale(): string {\n        return this._locale;\n    }\n\n    /**\n     * Sets the `locale` of the years view.\n     * Expects a valid BCP 47 language tag.\n     * Default value is `\"en\"`.\n     * ```html\n     * <igx-years-view [locale]=\"de\"></igx-years-view>\n     * ```\n     * @memberof IgxYearsViewComponent\n     */\n    public set locale(value: string) {\n        this._locale = value;\n        this.initYearFormatter();\n    }\n\n    /**\n     * Gets/sets whether the view should be rendered\n     * according to the locale and yearFormat, if any.\n     */\n    @Input()\n    public formatView: boolean;\n\n    /**\n     * Emits an event when a selection is made in the years view.\n     * Provides reference the `date` property in the `IgxYearsViewComponent`.\n     * ```html\n     * <igx-years-view (onSelection)=\"onSelection($event)\"></igx-years-view>\n     * ```\n     * @memberof IgxYearsViewComponent\n     */\n    @Output()\n    public onSelection = new EventEmitter<Date>();\n\n    /**\n     * The default css class applied to the component.\n     *\n     * @hidden\n     */\n    @HostBinding('class.igx-calendar')\n    public styleClass = true;\n\n    /**\n     * The default `tabindex` attribute for the component.\n     *\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * Returns an array of date objects which are then used to properly\n     * render the years.\n     *\n     * Used in the template of the component.\n     *\n     * @hidden\n     */\n    get decade(): number[] {\n        const result = [];\n        const start = this.date.getFullYear() - 3;\n        const end = this.date.getFullYear() + 4;\n\n        for (const year of range(start, end)) {\n            result.push(new Date(year, this.date.getMonth(), this.date.getDate()));\n        }\n\n        return result;\n    }\n\n    /**\n     *@hidden\n     */\n    private _formatterYear: any;\n\n    /**\n     *@hidden\n     */\n    private _locale = 'en';\n\n    /**\n     *@hidden\n     */\n    private _yearFormat = 'numeric';\n\n    /**\n     *@hidden\n     */\n    private _calendarModel: Calendar;\n\n    /**\n     *@hidden\n     */\n    private _onTouchedCallback: () => void = () => { };\n    /**\n     *@hidden\n     */\n    private _onChangeCallback: (_: Date) => void = () => { };\n\n    constructor(public el: ElementRef) {\n        this.initYearFormatter();\n        this._calendarModel = new Calendar();\n    }\n\n    /**\n     * Returns the locale representation of the year in the years view.\n     *\n     * @hidden\n     */\n    public formattedYear(value: Date): string {\n        if (this.formatView) {\n            return this._formatterYear.format(value);\n        }\n        return `${value.getFullYear()}`;\n    }\n\n    /**\n     *@hidden\n     */\n    public selectYear(event) {\n        this.date = event;\n\n        this.onSelection.emit(this.date);\n        this._onChangeCallback(this.date);\n    }\n\n    /**\n     *@hidden\n     */\n    public scroll(event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const delta = event.deltaY < 0 ? -1 : 1;\n        this.generateYearRange(delta);\n    }\n\n    /**\n     *@hidden\n     */\n    public pan(event) {\n        const delta = event.deltaY < 0 ? 1 : -1;\n        this.generateYearRange(delta);\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnChange(fn: (v: Date) => void) {\n        this._onChangeCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnTouched(fn: () => void) {\n        this._onTouchedCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public yearTracker(index, item): string {\n        return `${item.getFullYear()}}`;\n    }\n\n    /**\n     * @hidden\n     */\n    public writeValue(value: Date) {\n        if (value) {\n            this.date = value;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowdown', ['$event'])\n    public onKeydownArrowDown(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        this.generateYearRange(1);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowup', ['$event'])\n    public onKeydownArrowUp(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        this.generateYearRange(-1);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.enter')\n    public onKeydownEnter() {\n        this.onSelection.emit(this.date);\n        this._onChangeCallback(this.date);\n    }\n\n    /**\n     *@hidden\n     */\n    private initYearFormatter() {\n        this._formatterYear = new Intl.DateTimeFormat(this._locale, { year: this.yearFormat });\n    }\n\n    /**\n     *@hidden\n     */\n    private generateYearRange(delta: number) {\n        const currentYear = new Date().getFullYear();\n\n        if ((delta > 0 && this.date.getFullYear() - currentYear >= 95) ||\n            (delta < 0 && currentYear - this.date.getFullYear() >= 95)) {\n            return;\n        }\n        this.date = this._calendarModel.timedelta(this.date, 'year', delta);\n    }\n}\n","import { Component, Input, Output, EventEmitter, HostBinding, ElementRef, HostListener } from '@angular/core';\nimport { ICalendarDate, isDateInRanges } from '../calendar';\nimport { DateRangeDescriptor } from '../../core/dates';\nimport { CalendarSelection } from '../calendar-base';\n\n/**\n *@hidden\n*/\n@Component({\n    selector: 'igx-day-item',\n    templateUrl: 'day-item.component.html'\n})\nexport class IgxDayItemComponent {\n    @Input()\n    public date: ICalendarDate;\n\n    @Input()\n    public selection: string;\n\n    /**\n     * Returns boolean indicating if the day is selected\n     *\n     */\n    @Input()\n    public get selected(): any {\n        return this._selected;\n    }\n\n    /**\n     * Selects the day\n     */\n    public set selected(value: any) {\n        this._selected = value;\n    }\n\n    @Input()\n    public disabledDates: DateRangeDescriptor[];\n\n    @Input()\n    public outOfRangeDates: DateRangeDescriptor[];\n\n    @Input()\n    public specialDates: DateRangeDescriptor[];\n\n    @Input()\n    public hideOutsideDays = false;\n\n    @Input()\n    @HostBinding('class.igx-calendar__date--last')\n    public isLastInRange = false;\n\n    @Input()\n    @HostBinding('class.igx-calendar__date--first')\n    public isFirstInRange = false;\n\n    @Input()\n    public isWithinRange = false;\n\n    @Output()\n    public onDateSelection = new EventEmitter<ICalendarDate>();\n\n    public get isCurrentMonth(): boolean {\n        return this.date.isCurrentMonth;\n    }\n\n    public get isPreviousMonth(): boolean {\n        return this.date.isPrevMonth;\n    }\n\n    public get isNextMonth(): boolean {\n        return this.date.isNextMonth;\n    }\n\n    public get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n\n    @HostBinding('class.igx-calendar__date--selected')\n    public get isSelectedCSS(): boolean {\n        return (!this.isDisabled && this.selected);\n    }\n\n    @HostBinding('class.igx-calendar__date--inactive')\n    public get isInactive(): boolean {\n        return this.date.isNextMonth || this.date.isPrevMonth;\n    }\n\n    @HostBinding('class.igx-calendar__date--hidden')\n    public get isHidden(): boolean {\n        return this.hideOutsideDays && this.isInactive;\n    }\n\n    @HostBinding('class.igx-calendar__date--current')\n    public get isToday(): boolean {\n        const today = new Date(Date.now());\n        const date = this.date.date;\n        return (date.getFullYear() === today.getFullYear() &&\n            date.getMonth() === today.getMonth() &&\n            date.getDate() === today.getDate()\n        );\n    }\n\n    @HostBinding('class.igx-calendar__date--weekend')\n    public get isWeekend(): boolean {\n        const day = this.date.date.getDay();\n        return day === 0 || day === 6;\n    }\n\n    public get isDisabled(): boolean {\n        if (this.disabledDates === null) {\n            return false;\n        }\n\n        return isDateInRanges(this.date.date, this.disabledDates);\n    }\n\n    public get isOutOfRange(): boolean {\n        if (!this.outOfRangeDates) {\n            return false;\n        }\n\n        return isDateInRanges(this.date.date, this.outOfRangeDates);\n    }\n\n    public get isFocusable(): boolean {\n        return this.isCurrentMonth && !this.isHidden && !this.isDisabled && !this.isOutOfRange;\n    }\n\n    @HostBinding('class.igx-calendar__date--range')\n    public get isWithinRangeCSS(): boolean {\n        return !this.isSingleSelection && this.isWithinRange;\n    }\n\n    @HostBinding('class.igx-calendar__date--special')\n    public get isSpecial(): boolean {\n        if (this.specialDates === null) {\n            return false;\n        }\n\n        return isDateInRanges(this.date.date, this.specialDates);\n    }\n\n    @HostBinding('class.igx-calendar__date')\n    public get defaultCSS(): boolean {\n        return this.date.isCurrentMonth && !(this.isWeekend && this.selected);\n    }\n\n    @HostBinding('class.igx-calendar__date--disabled')\n    public get isDisabledCSS(): boolean {\n        return this.isHidden || this.isDisabled || this.isOutOfRange;\n    }\n\n    @HostBinding('class.igx-calendar__date--single')\n    public get isSingleSelection(): boolean {\n        return this.selection !== CalendarSelection.RANGE;\n    }\n\n    @HostBinding('attr.tabindex')\n    public get tabindex(): number {\n        return this.isDisabled || this.isHidden ? -1 : 0;\n    }\n\n    private _selected = false;\n\n    constructor(private elementRef: ElementRef) { }\n\n    @HostListener('click')\n    @HostListener('keydown.enter')\n    public onSelect() {\n        this.onDateSelection.emit(this.date);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { IgxDayItemComponent } from './day-item.component';\nimport { IgxDaysViewComponent } from './days-view.component';\nimport { ScrollMonth } from '../calendar-base';\n\nenum Direction {\n    Up = 'ArrowUp',\n    Down = 'ArrowDown',\n    Left = 'ArrowLeft',\n    Right = 'ArrowRight',\n}\n\nconst ARROW = 'Arrow';\n\n/** @hidden */\n@Injectable()\nexport class IgxDaysViewNavigationService {\n    public monthView: IgxDaysViewComponent;\n    /**\n     * Implements kb navigation in all MoveDirections. nextDate and nextMonthView naming convention is used for both previous/next\n     * @hidden\n     */\n    public focusNextDate(target: HTMLElement, key: string, nextView = false) {\n        if (target.childElementCount === 0) { target = target.parentElement; }\n        if (key.indexOf('Arrow') === -1) { key = ARROW.concat(key); }\n        const monthView = this.monthView;\n        const node = monthView.dates.find((date) => date.nativeElement === target);\n        let dates = monthView.dates.toArray(),\n            day: IgxDayItemComponent, step, i, nextDate: Date;\n        const index = dates.indexOf(node);\n\n        if (!node) { return; }\n\n        // focus item in current month\n        switch (key) {\n            case Direction.Left: {\n                step = -1;\n                nextDate = this.timedelta(node.date.date, step);\n                for (i = index; i > 0; i--) {\n                    day = nextView ? dates[i] : dates[i - 1];\n                    nextDate = day.date.date;\n                    if (day.date.isPrevMonth) {\n                        break;\n                    }\n                    if (day && day.isFocusable) {\n                        day.nativeElement.focus();\n                        return;\n                    }\n                }\n                break;\n            }\n            case Direction.Right: {\n                step = 1;\n                nextDate = this.timedelta(node.date.date, step);\n                for (i = index; i < dates.length - 1; i++) {\n                    day = nextView ? dates[i] : dates[i + 1];\n                    nextDate = day.date.date;\n                    if (day.date.isNextMonth) {\n                        break;\n                    }\n                    if (day && day.isFocusable) {\n                        day.nativeElement.focus();\n                        return;\n                    }\n                }\n                break;\n            }\n            case Direction.Up: {\n                step = -7;\n                nextDate = this.timedelta(node.date.date, step);\n                for (i = index; i - 7 > -1; i -= 7) {\n                    day = nextView ? dates[i] : dates[i - 7];\n                    nextDate = day.date.date;\n                    if (day.date.isPrevMonth) {\n                        break;\n                    }\n                    if (day && day.isFocusable) {\n                        day.nativeElement.focus();\n                        return;\n                    }\n                }\n                break;\n            }\n            case Direction.Down: {\n                step = 7;\n                nextDate = this.timedelta(node.date.date, step);\n                for (i = index; i + 7 < 42; i += 7) {\n                    day = nextView ? dates[i] : dates[i + 7];\n                    nextDate = day.date.date;\n                    if (day.date.isNextMonth) {\n                        break;\n                    }\n                    if (day && day.isFocusable) {\n                        day.nativeElement.focus();\n                        return;\n                    }\n                }\n                break;\n            }\n        }\n\n        // focus item in prev/next visible month\n        const nextMonthView = step > 0 ? monthView.nextMonthView : monthView.prevMonthView;\n        if (nextMonthView) {\n            dates = nextMonthView.dates.toArray();\n            day = dates.find((item) => item.date.date.getTime() === nextDate.getTime());\n\n            if (day && day.isFocusable) {\n                day.nativeElement.focus();\n                return;\n            }\n            nextMonthView.daysNavService.focusNextDate(day.nativeElement, key);\n        }\n\n        // if iterating in the visible prev/next moths above found a day that is not focusable, ie is disabled, hidden, etc\n        // then it is needed to recalculate the next day, which is going to be part of the prev/next months\n        if (day && !day.isFocusable) {\n            day = dates[i + step];\n            if (!day) {\n                nextDate = this.timedelta(node.date.date, step + i - index);\n            }\n        }\n\n        // focus item in prev/next month, which is currently out of view\n        let dayIsNextMonth: boolean; // determine what we need to check for next date - if it belongs to prev or next month\n        if (day) { dayIsNextMonth = step > 0 ? day.date.isNextMonth : day.date.isPrevMonth; }\n        if (monthView.changeDaysView && !nextMonthView && ((day && dayIsNextMonth) || !day)) {\n            const monthAction = step > 0 ? ScrollMonth.NEXT : ScrollMonth.PREV;\n            monthView.onViewChanging.emit({monthAction: monthAction, key: key, nextDate: nextDate});\n        }\n    }\n\n    /**\n     * Focuses first focusable day in the month. Will go to next visible month, if no day in the first month is focusable\n     * @hidden\n     */\n    public focusHomeDate() {\n        let monthView = this.monthView;\n        while (!this.focusFirstDay(monthView) && monthView.nextMonthView) {\n            monthView = monthView.nextMonthView;\n        }\n    }\n\n    /**\n     * Focuses last focusable day in the month. Will go to previous visible month, if no day in the first month is focusable\n     * @hidden\n     */\n    public focusEndDate() {\n        let monthView = this.monthView;\n        while (!this.focusLastDay(monthView) && monthView.prevMonthView) {\n            monthView = monthView.prevMonthView;\n        }\n    }\n\n    private timedelta(date: Date, units: number): Date {\n        const ret = new Date(date);\n        ret.setDate(ret.getDate() + units);\n        return ret;\n    }\n\n    private focusFirstDay(monthView: IgxDaysViewComponent): boolean {\n        const dates = monthView.dates.filter(d => d.isCurrentMonth);\n        for (let i = 0; i < dates.length; i++) {\n            if (dates[i].isFocusable) {\n                dates[i].nativeElement.focus();\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private focusLastDay(monthView: IgxDaysViewComponent): boolean {\n        const dates = monthView.dates.filter(d => d.isCurrentMonth);\n        for (let i = dates.length - 1; i >= 0; i--) {\n            if (dates[i].isFocusable) {\n                dates[i].nativeElement.focus();\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","import {\n    Component,\n    Output,\n    EventEmitter,\n    Input,\n    HostListener,\n    ViewChildren,\n    QueryList,\n    HostBinding,\n    DoCheck,\n    OnInit\n} from '@angular/core';\nimport { ICalendarDate, isDateInRanges } from '../../calendar/calendar';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IgxDayItemComponent } from './day-item.component';\nimport { DateRangeDescriptor, DateRangeType } from '../../core/dates';\nimport { IgxCalendarBaseDirective, CalendarSelection } from '../calendar-base';\nimport { isEqual } from '../../core/utils';\nimport { IViewChangingEventArgs } from './days-view.interface';\nimport { IgxDaysViewNavigationService } from './daysview-navigation.service';\n\nlet NEXT_ID = 0;\n\n@Component({\n    providers: [\n        {\n            multi: true,\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: IgxDaysViewComponent\n        },\n        { provide: IgxDaysViewNavigationService, useClass: IgxDaysViewNavigationService }\n    ],\n    selector: 'igx-days-view',\n    templateUrl: 'days-view.component.html'\n})\nexport class IgxDaysViewComponent extends IgxCalendarBaseDirective implements DoCheck, OnInit {\n    /**\n     * Sets/gets the `id` of the days view.\n     * If not set, the `id` will have value `\"igx-days-view-0\"`.\n     * ```html\n     * <igx-days-view id=\"my-days-view\"></igx-days-view>\n     * ```\n     * ```typescript\n     * let daysViewId =  this.daysView.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-days-view-${NEXT_ID++}`;\n\n    /**\n     * @hidden\n     */\n    @Input()\n    public changeDaysView = false;\n\n    /**\n     * @hidden\n     */\n    @Output()\n    public onDateSelection = new EventEmitter<ICalendarDate>();\n\n    /**\n     * @hidden\n     */\n    @Output()\n    public onViewChanging = new EventEmitter<IViewChangingEventArgs>();\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(IgxDayItemComponent, { read: IgxDayItemComponent })\n    public dates: QueryList<IgxDayItemComponent>;\n\n    /**\n     * @hidden\n     */\n    public outOfRangeDates: DateRangeDescriptor[];\n\n    /**\n     * @hidden\n     */\n    public nextMonthView: IgxDaysViewComponent;\n\n    /**\n     * @hidden\n     */\n    public prevMonthView: IgxDaysViewComponent;\n\n    /**\n     * The default css class applied to the component.\n     *\n     * @hidden\n     */\n    @HostBinding('class.igx-calendar')\n    public styleClass = true;\n\n    /**\n     * @hidden\n     */\n    constructor(public daysNavService: IgxDaysViewNavigationService) {\n        super();\n    }\n\n    /**\n     * @hidden\n     */\n    public get getCalendarMonth(): ICalendarDate[][] {\n        return this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(), this.viewDate.getMonth(), true);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        this.daysNavService.monthView = this;\n    }\n\n    /**\n     * @hidden\n     */\n    public ngDoCheck() {\n        if (!this.changeDaysView && this.dates) {\n            this.disableOutOfRangeDates();\n        }\n    }\n\n    /**\n     * Returns the locale representation of the date in the days view.\n     *\n     * @hidden\n     */\n    public formattedDate(value: Date): string {\n        if (this.formatViews.day) {\n            return this.formatterDay.format(value);\n        }\n        return `${value.getDate()}`;\n    }\n\n    /**\n     * @hidden\n     */\n    public generateWeekHeader(): string[] {\n        const dayNames = [];\n        const rv = this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(), this.viewDate.getMonth())[0];\n        for (const day of rv) {\n            dayNames.push(this.formatterWeekday.format(day.date));\n        }\n\n        return dayNames;\n    }\n\n    /**\n     * @hidden\n     */\n    public rowTracker(index, item): string {\n        return `${item[index].date.getMonth()}${item[index].date.getDate()}`;\n    }\n\n    /**\n     * @hidden\n     */\n    public dateTracker(index, item): string {\n        return `${item.date.getMonth()}--${item.date.getDate()}`;\n    }\n\n    /**\n     * @hidden\n     */\n    public isCurrentMonth(value: Date): boolean {\n        return this.viewDate.getMonth() === value.getMonth();\n    }\n\n    /**\n     * @hidden\n     */\n    public isCurrentYear(value: Date): boolean {\n        return this.viewDate.getFullYear() === value.getFullYear();\n    }\n\n    /**\n     * @hidden\n     */\n    public isSelected(date: ICalendarDate): boolean {\n        let selectedDates: Date | Date[];\n        if (this.isDateDisabled(date.date) || !this.value ||\n            (Array.isArray(this.value) && this.value.length === 0)\n            )  {\n            return false;\n        }\n\n        if (this.selection === CalendarSelection.SINGLE) {\n            selectedDates = (this.value as Date);\n            return this.getDateOnly(selectedDates).getTime() === date.date.getTime();\n        }\n\n        selectedDates = (this.value as Date[]);\n        if (this.selection === CalendarSelection.RANGE && selectedDates.length === 1) {\n            return this.getDateOnly(selectedDates[0]).getTime() === date.date.getTime();\n        }\n\n        if (this.selection === CalendarSelection.MULTI) {\n            const start = this.getDateOnly(selectedDates[0]);\n            const end = this.getDateOnly(selectedDates[selectedDates.length - 1]);\n\n            if (this.isWithinRange(date.date, false, start, end)) {\n                const currentDate = selectedDates.find(element => element.getTime() === date.date.getTime());\n                return !!currentDate;\n            } else {\n                return false;\n            }\n\n        } else {\n            return this.isWithinRange(date.date, true);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public isLastInRange(date: ICalendarDate): boolean {\n        if (this.isSingleSelection || !this.value) {\n            return false;\n        }\n\n        const dates = this.value as Date[];\n        const lastDate = dates[dates.length - 1];\n        return isEqual(lastDate, date.date);\n    }\n\n    /**\n     * @hidden\n     */\n    public isFirstInRange(date: ICalendarDate): boolean {\n        if (this.isSingleSelection || !this.value) {\n            return false;\n        }\n\n        return isEqual((this.value as Date[])[0], date.date);\n    }\n\n    /**\n     * @hidden\n     */\n    public isWithinRange(date: Date, checkForRange: boolean, min?: Date, max?: Date): boolean {\n        if (checkForRange && !(Array.isArray(this.value) && this.value.length > 1)) {\n            return false;\n        }\n\n        min = min ? min : this.value[0];\n        max = max ? max : this.value[(this.value as Date[]).length - 1];\n\n        return isDateInRanges(date,\n            [\n                {\n                    type: DateRangeType.Between,\n                    dateRange: [min, max]\n                }\n            ]\n        );\n    }\n\n    /**\n     *@hidden\n     */\n    public focusActiveDate() {\n        let date = this.dates.find((d) => d.selected);\n\n        if (!date) {\n            date = this.dates.find((d) => d.isToday);\n        }\n\n        if (date.isFocusable) {\n            date.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public selectDay(event) {\n        this.selectDateFromClient(event.date);\n        this.onDateSelection.emit(event);\n\n        this.onSelection.emit(this.selectedDates);\n    }\n\n    /**\n     * @hidden\n     */\n    private disableOutOfRangeDates() {\n        const dateRange = [];\n        this.dates.toArray().forEach((date) => {\n            if (!date.isCurrentMonth) {\n                dateRange.push(date.date.date);\n            }\n        });\n\n        this.outOfRangeDates = [{\n            type: DateRangeType.Specific,\n            dateRange: dateRange\n        }];\n    }\n\n    /**\n     * @hidden\n     */\n    public getFirstMonthView(): IgxDaysViewComponent {\n        let monthView = this as IgxDaysViewComponent;\n        while (monthView.prevMonthView) {\n            monthView = monthView.prevMonthView;\n        }\n        return monthView;\n    }\n\n    /**\n     * @hidden\n     */\n    private getLastMonthView(): IgxDaysViewComponent {\n        let monthView = this as IgxDaysViewComponent;\n        while (monthView.nextMonthView) {\n            monthView = monthView.nextMonthView;\n        }\n        return monthView;\n    }\n\n    /**\n     * @hidden\n     */\n    private get isSingleSelection(): boolean {\n        return this.selection !== CalendarSelection.RANGE;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowleft', ['$event'])\n    @HostListener('keydown.arrowright', ['$event'])\n    @HostListener('keydown.arrowup', ['$event'])\n    @HostListener('keydown.arrowdown', ['$event'])\n    public onKeydownArrow(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.daysNavService.focusNextDate(event.target as HTMLElement, event.key);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.home', ['$event'])\n    public onKeydownHome(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.getFirstMonthView().daysNavService.focusHomeDate();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.end', ['$event'])\n    public onKeydownEnd(event: KeyboardEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.getLastMonthView().daysNavService.focusEndDate();\n    }\n}\n","import { transition, trigger, useAnimation } from '@angular/animations';\nimport {\n    Component,\n    ContentChild,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Input,\n    ViewChild,\n    ElementRef,\n    AfterViewInit,\n    ViewChildren,\n    QueryList,\n    OnDestroy\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { fadeIn, scaleInCenter, slideInLeft, slideInRight } from '../animations/main';\nimport {\n    IgxCalendarHeaderTemplateDirective,\n    IgxCalendarSubheaderTemplateDirective\n} from './calendar.directives';\nimport { KEYS } from '../core/utils';\nimport { ICalendarDate, monthRange } from './calendar';\nimport { CalendarView, IgxMonthPickerBaseDirective } from './month-picker-base';\nimport { IgxMonthsViewComponent } from './months-view/months-view.component';\nimport { IgxYearsViewComponent } from './years-view/years-view.component';\nimport { IgxDaysViewComponent } from './days-view/days-view.component';\nimport { interval, Subscription } from 'rxjs';\nimport { takeUntil, debounce, skipLast, switchMap } from 'rxjs/operators';\nimport { ScrollMonth } from './calendar-base';\nimport { IViewChangingEventArgs } from './days-view/days-view.interface';\n\nlet NEXT_ID = 0;\n\n/**\n * Calendar provides a way to display date information.\n *\n * @igxModule IgxCalendarModule\n *\n * @igxTheme igx-calendar-theme, igx-icon-theme\n *\n * @igxKeywords calendar, datepicker, schedule, date\n *\n * @igxGroup Scheduling\n *\n * @remarks\n * The Ignite UI Calendar provides an easy way to display a calendar and allow users to select dates using single, multiple\n * or range selection.\n *\n * @example:\n * ```html\n * <igx-calendar selection=\"range\"></igx-calendar>\n * ```\n */\n@Component({\n    providers: [\n        {\n            multi: true,\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: IgxCalendarComponent\n        }\n    ],\n    animations: [\n        trigger('animateView', [\n            transition('void => 0', useAnimation(fadeIn)),\n            transition('void => *', useAnimation(scaleInCenter, {\n                params: {\n                    duration: '.2s',\n                    fromScale: .9\n                }\n            }))\n        ]),\n        trigger('animateChange', [\n            transition('* => prev', useAnimation(slideInLeft, {\n                params: {\n                    fromPosition: 'translateX(-30%)'\n                }\n            })),\n            transition('* => next', useAnimation(slideInRight, {\n                params: {\n                    fromPosition: 'translateX(30%)'\n                }\n            }))\n        ])\n    ],\n    selector: 'igx-calendar',\n    templateUrl: 'calendar.component.html'\n})\nexport class IgxCalendarComponent extends IgxMonthPickerBaseDirective implements AfterViewInit, OnDestroy {\n\n    /**\n     * Sets/gets the `id` of the calendar.\n     *\n     * @remarks\n     * If not set, the `id` will have value `\"igx-calendar-0\"`.\n     *\n     * @example\n     * ```html\n     * <igx-calendar id=\"my-first-calendar\"></igx-calendar>\n     * ```\n     * @memberof IgxCalendarComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-calendar-${NEXT_ID++}`;\n\n    /**\n     * Sets/gets whether the calendar has header.\n     * Default value is `true`.\n     *\n     * @example\n     * ```html\n     * <igx-calendar [hasHeader]=\"false\"></igx-calendar>\n     * ```\n     */\n    @Input()\n    public hasHeader = true;\n\n    /**\n     * Sets/gets whether the calendar header will be in vertical position.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-calendar [vertical] = \"true\"></igx-calendar>\n     * ```\n     */\n    @Input()\n    public vertical = false;\n\n    /**\n     * Sets/gets the number of month views displayed.\n     * Default value is `1`.\n     *\n     * @example\n     * ```html\n     * <igx-calendar [monthsViewNumber]=\"2\"></igx-calendar>\n     * ```\n     */\n    @Input()\n    get monthsViewNumber() {\n        return this._monthsViewNumber;\n    }\n\n    set monthsViewNumber(val: number) {\n        if (val < 1 ) {\n            return;\n        }\n\n        this._monthsViewNumber = val;\n    }\n\n    /**\n     * Apply the different states for the transitions of animateChange\n     * @hidden\n     * @internal\n     */\n    @Input()\n    public animationAction: any = '';\n\n    /**\n     * Used to apply the active date when the calendar view is changed\n     *\n     * @hidden\n     * @internal\n     */\n    public nextDate: Date;\n\n    /**\n     * Denote if the calendar view was changed with the keyboard\n     *\n     * @hidden\n     * @internal\n     */\n    public isKeydownTrigger = false;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public callback: (next) => void;\n\n    /**\n     * The default `tabindex` attribute for the component.\n     *\n     * @hidden\n     * @internal\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * The default aria role attribute for the component.\n     *\n     * @hidden\n     * @internal\n     */\n    @HostBinding('attr.role')\n    public role = 'grid';\n\n    /**\n     * The default aria lebelled by attribute for the component.\n     *\n     * @hidden\n     * @internal\n     */\n    @HostBinding('attr.aria-labelledby')\n    public ariaLabelledBy = 'calendar';\n\n    /**\n     * The default css class applied to the component.\n     *\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-calendar--vertical')\n    get styleVerticalClass(): boolean {\n        return this.vertical;\n    }\n\n    /**\n     * The default css class applied to the component.\n     *\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-calendar')\n    public styleClass = true;\n\n    /**\n     * ViewChild that represents the months view.\n     *\n     * @hidden\n     * @internal\n     */\n    @ViewChild('months', { read: IgxMonthsViewComponent })\n    public monthsView: IgxMonthsViewComponent;\n\n    /**\n     * Month button, that displays the months view.\n     * @hidden\n     * @internal\n     */\n    @ViewChildren('monthsBtn')\n    public monthsBtns: QueryList<ElementRef>;\n\n    /**\n     * ViewChild that represents the decade view.\n     *\n     * @hidden\n     * @internal\n     */\n    @ViewChild('decade', { read: IgxYearsViewComponent })\n    public dacadeView: IgxYearsViewComponent;\n\n    /**\n     * ViewChild that represents the days view.\n     *\n     * @hidden\n     * @internal\n     */\n    @ViewChild('days', { read: IgxDaysViewComponent })\n    public daysView: IgxDaysViewComponent;\n\n    /**\n     * ViewChildrenden representing all of the rendered days views.\n     * @hidden\n     * @internal\n     */\n    @ViewChildren('days', { read: IgxDaysViewComponent })\n    public monthViews: QueryList<IgxDaysViewComponent>;\n\n    /**\n     * Button for previous month.\n     *\n     * @hidden\n     * @internal\n     */\n    @ViewChild('prevMonthBtn')\n    public prevMonthBtn: ElementRef;\n\n    /**\n     * Button for next month.\n     *\n     * @hidden\n     * @internal\n     */\n    @ViewChild('nextMonthBtn')\n    public nextMonthBtn: ElementRef;\n\n    /**\n     * Denote if the year view is active.\n     * @hidden\n     * @internal\n     */\n    get isYearView(): boolean {\n        return this.activeView === CalendarView.YEAR;\n    }\n\n    /**\n     * Gets the header template.\n     *\n     * @example\n     * ```typescript\n     * let headerTemplate =  this.calendar.headerTeamplate;\n     * ```\n     * @memberof IgxCalendarComponent\n     */\n    get headerTemplate(): any {\n        if (this.headerTemplateDirective) {\n            return this.headerTemplateDirective.template;\n        }\n        return null;\n    }\n\n    /**\n     * Sets the header template.\n     *\n     * @example\n     * ```html\n     * <igx-calendar headerTemplateDirective = \"igxCalendarHeader\"></igx-calendar>\n     * ```\n     * @memberof IgxCalendarComponent\n     */\n    set headerTemplate(directive: any) {\n        this.headerTemplateDirective = directive;\n    }\n\n    /**\n     * Gets the subheader template.\n     *\n     * @example\n     * ```typescript\n     * let subheaderTemplate = this.calendar.subheaderTemplate;\n     * ```\n     */\n    get subheaderTemplate(): any {\n        if (this.subheaderTemplateDirective) {\n            return this.subheaderTemplateDirective.template;\n        }\n        return null;\n    }\n\n    /**\n     * Sets the subheader template.\n     *\n     * @example\n     * ```html\n     * <igx-calendar subheaderTemplate = \"igxCalendarSubheader\"></igx-calendar>\n     * ```\n     * @memberof IgxCalendarComponent\n     */\n    set subheaderTemplate(directive: any) {\n        this.subheaderTemplateDirective = directive;\n    }\n\n    /**\n     * Gets the context for the template marked with the `igxCalendarHeader` directive.\n     *\n     * @example\n     * ```typescript\n     * let headerContext =  this.calendar.headerContext;\n     * ```\n     */\n    get headerContext() {\n        const date: Date = this.headerDate;\n        return this.generateContext(date);\n    }\n\n    /**\n     * Gets the context for the template marked with either `igxCalendarSubHeaderMonth`\n     * or `igxCalendarSubHeaderYear` directive.\n     *\n     * @example\n     * ```typescript\n     * let context =  this.calendar.context;\n     * ```\n     */\n    get context() {\n        const date: Date = this.viewDate;\n        return this.generateContext(date);\n    }\n\n    /**\n     * Date displayed in header\n     *\n     * @hidden\n     * @internal\n     */\n    get headerDate(): Date {\n        return this.selectedDates ? this.selectedDates : new Date();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChild(forwardRef(() => IgxCalendarHeaderTemplateDirective), { read: IgxCalendarHeaderTemplateDirective, static: true  })\n    private headerTemplateDirective: IgxCalendarHeaderTemplateDirective;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    // tslint:disable-next-line:max-line-length\n    @ContentChild(forwardRef(() => IgxCalendarSubheaderTemplateDirective), { read: IgxCalendarSubheaderTemplateDirective, static: true  })\n    private subheaderTemplateDirective: IgxCalendarSubheaderTemplateDirective;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _monthsViewNumber = 1;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    private _monthViewsChanges$: Subscription;\n\n    public ngAfterViewInit() {\n        this.setSiblingMonths(this.monthViews);\n        this._monthViewsChanges$ = this.monthViews.changes.subscribe(c => {\n            this.setSiblingMonths(c);\n        });\n\n        this.startMonthScroll$.pipe(\n            takeUntil(this.stopMonthScroll$),\n            switchMap(() => this.scrollMonth$.pipe(\n                skipLast(1),\n                debounce(() => interval(300)),\n                takeUntil(this.stopMonthScroll$)\n            ))).subscribe(() => {\n                switch (this.monthScrollDirection) {\n                    case ScrollMonth.PREV:\n                        this.previousMonth();\n                        break;\n                    case ScrollMonth.NEXT:\n                        this.nextMonth();\n                        break;\n                    case ScrollMonth.NONE:\n                    default:\n                        break;\n                }\n        });\n    }\n\n    /**\n     * Returns the locale representation of the month in the month view if enabled,\n     * otherwise returns the default `Date.getMonth()` value.\n     *\n     * @hidden\n     * @internal\n     */\n    public formattedMonth(value: Date): string {\n        if (this.formatViews.month) {\n            return this.formatterMonth.format(value);\n        }\n        return `${value.getMonth()}`;\n    }\n\n    /**\n     * Change to previous month\n     *\n     * @hidden\n     * @internal\n     */\n    public previousMonth(isKeydownTrigger = false) {\n        this.viewDate = this.calendarModel.getPrevMonth(this.viewDate);\n        this.animationAction = ScrollMonth.PREV;\n        this.isKeydownTrigger = isKeydownTrigger;\n    }\n\n    /**\n     * Change to next month\n     *\n     * @hidden\n     * @internal\n     */\n    public nextMonth(isKeydownTrigger = false) {\n        this.viewDate = this.calendarModel.getNextMonth(this.viewDate);\n        this.animationAction = ScrollMonth.NEXT;\n        this.isKeydownTrigger = isKeydownTrigger;\n    }\n\n    /**\n     * Continious navigation through the previous months\n     * @hidden\n     * @internal\n     */\n    public startPrevMonthScroll = (isKeydownTrigger = false) => {\n        this.startMonthScroll$.next();\n        this.monthScrollDirection = ScrollMonth.PREV;\n\n        this.previousMonth(isKeydownTrigger);\n    }\n\n    /**\n     * Continious navigation through the next months\n     * @hidden\n     * @internal\n     */\n    public startNextMonthScroll = (isKeydownTrigger = false) => {\n        this.startMonthScroll$.next();\n        this.monthScrollDirection = ScrollMonth.NEXT;\n\n        this.nextMonth(isKeydownTrigger);\n    }\n\n    /**\n     * Stop continuous navigation\n     * @hidden\n     * @internal\n     */\n    public stopMonthScroll = (event) => {\n        event.stopPropagation();\n\n        // generally the scrolling is built on the calendar component\n        // and all start/stop scrolling methods are called on the calendar\n        // if we change below lines to call stopMonthScroll$ on the calendar instead of on the views,\n        // strange bug is introduced --> after changing number of months, continuous scrolling on mouse click does not happen\n        this.daysView.stopMonthScroll$.next(true);\n        this.daysView.stopMonthScroll$.complete();\n\n\n        if (this.monthScrollDirection === ScrollMonth.PREV) {\n            this.prevMonthBtn.nativeElement.focus();\n        } else if (this.monthScrollDirection === ScrollMonth.NEXT) {\n            this.nextMonthBtn.nativeElement.focus();\n        }\n\n        this.monthScrollDirection = ScrollMonth.NONE;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onActiveViewDecade(args: Date, activeViewIdx: number) {\n        super.activeViewDecade(activeViewIdx);\n        requestAnimationFrame(() => {\n            if (this.dacadeView) {\n                this.dacadeView.date = args;\n                this.dacadeView.el.nativeElement.focus();\n            }\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onActiveViewDecadeKB(event, args: Date, activeViewIdx: number) {\n        super.activeViewDecadeKB(event, activeViewIdx);\n\n        requestAnimationFrame(() => {\n            if (this.dacadeView) {\n                this.dacadeView.date = args;\n                this.dacadeView.el.nativeElement.focus();\n            }\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public getFormattedDate(): { weekday: string, monthday: string } {\n\n        const date = this.headerDate;\n\n        return {\n            monthday: this.formatterMonthday.format(date),\n            weekday: this.formatterWeekday.format(date),\n        };\n    }\n\n    /**\n     * Handles invoked on date selection\n     * @hidden\n     * @internal\n     */\n    public childClicked(instance: ICalendarDate) {\n        if (instance.isPrevMonth) {\n            this.previousMonth();\n        }\n\n        if (instance.isNextMonth) {\n            this.nextMonth();\n        }\n\n        this.selectDateFromClient(instance.date);\n        if (this.selection === 'multi') {\n            this.deselectDateInMonthViews(instance.date);\n        }\n        this.onSelection.emit(this.selectedDates);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public viewChanging(args: IViewChangingEventArgs) {\n        this.animationAction = args.monthAction;\n        this.isKeydownTrigger = true;\n        this.nextDate = args.nextDate;\n        this.callback = (next) => {\n            const day = this.daysView.dates.find((item) => item.date.date.getTime() === next.getTime());\n            if (day) {\n                this.daysView.daysNavService.focusNextDate(day.nativeElement, args.key, true);\n            }\n        };\n        this.viewDate = this.nextDate;\n    }\n\n    /**\n     * @hidden\n     * @intenal\n     */\n    public changeMonth(event: Date) {\n        this.viewDate = this.calendarModel.getFirstViewDate(event, 'month', this.activeViewIdx);\n        this.activeView = CalendarView.DEFAULT;\n\n        requestAnimationFrame(() => {\n            const elem = this.monthsBtns.find((e: ElementRef, idx: number) => idx === this.activeViewIdx);\n            if (elem) { elem.nativeElement.focus(); }\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onActiveViewYear(args: Date, activeViewIdx: number, event?): void {\n        this.activeView = CalendarView.YEAR;\n        this.activeViewIdx = activeViewIdx;\n        requestAnimationFrame(() => {\n            this.monthsView.date = args;\n            this.focusMonth(event.target);\n        });\n    }\n\n    private focusMonth(target: HTMLElement) {\n        const month = this.monthsView.monthsRef.find((e) =>\n            e.index === parseInt(target.parentElement.attributes['data-month'].value, 10));\n        if (month) { month.nativeElement.focus(); }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onActiveViewYearKB(args: Date, event, activeViewIdx: number): void {\n        if (event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE || event.key === KEYS.ENTER) {\n            event.preventDefault();\n            this.onActiveViewYear(args, activeViewIdx, event);\n        }\n    }\n\n    /**\n     * Deselects date(s) (based on the selection type).\n     *\n     * @example\n     *```typescript\n     * this.calendar.deselectDate(new Date(`2018-06-12`));\n     *````\n     */\n    public deselectDate(value?: Date | Date[]) {\n        super.deselectDate(value);\n\n        this.monthViews.forEach((view) => {\n            view.selectedDates = this.selectedDates;\n            view.rangeStarted = false;\n        });\n        this._onChangeCallback(this.selectedDates);\n    }\n\n    /**\n     * Helper method that does deselection for all month views when selection is \"multi\"\n     * If not called, selection in other month views stays\n     * @hidden\n     * @internal\n     */\n    private deselectDateInMonthViews(value: Date) {\n        this.monthViews.forEach(m => {\n            m.deselectMultipleInMonth(value);\n         });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public getViewDate(i: number): Date {\n        const date = this.calendarModel.timedelta(this.viewDate, 'month', i);\n        return date;\n    }\n\n    /**\n     * Getter for the context object inside the calendar templates.\n     * @hidden\n     * @internal\n     */\n    public getContext(i: number) {\n        const date = this.getViewDate(i);\n        return this.generateContext(date, i);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public animationDone(event) {\n        if (this.monthScrollDirection !== ScrollMonth.NONE) {\n            this.scrollMonth$.next();\n        }\n\n        if (this.activeView !== CalendarView.DEFAULT) {\n            return;\n        }\n\n        let monthView = this.daysView as IgxDaysViewComponent;\n        let date = monthView.dates.find((d) => d.selected);\n\n        while (!date && monthView.nextMonthView) {\n            monthView = monthView.nextMonthView;\n            date = monthView.dates.find((d) => d.selected);\n        }\n        if (date && date.isFocusable && !this.isKeydownTrigger) {\n            setTimeout(() => {\n                date.nativeElement.focus();\n            }, parseInt(slideInRight.options.params.duration, 10));\n        } else if (this.callback && (event.toState === ScrollMonth.NEXT || event.toState === ScrollMonth.PREV)) {\n            this.callback(this.nextDate);\n        }\n        this.animationAction = ScrollMonth.NONE;\n    }\n\n    /**\n     * Keyboard navigation of the calendar\n     * @hidden\n     * @internal\n     */\n    @HostListener('keydown.pagedown', ['$event'])\n    @HostListener('keydown.pageup', ['$event'])\n    public onKeydownPageDown(event: KeyboardEvent) {\n        event.preventDefault();\n\n        if (this.activeView !== CalendarView.DEFAULT) {\n            return;\n        }\n\n        const isPageDown = event.key === 'PageDown';\n        const step = isPageDown ? 1 : -1;\n        let monthView = this.daysView as IgxDaysViewComponent;\n        let activeDate;\n\n        while (!activeDate && monthView) {\n            activeDate = monthView.dates.find((date) => date.nativeElement === document.activeElement);\n            monthView = monthView.nextMonthView;\n        }\n\n        if (activeDate) {\n            this.nextDate = new Date(activeDate.date.date);\n\n            let year = this.nextDate.getFullYear();\n\n            let month = this.nextDate.getMonth() + step;\n            if (isPageDown) {\n                if (month > 11) { month = 0; year += step; }\n            } else {\n                if (month < 0) { month = 11; year += step; }\n            }\n\n            const range = monthRange(this.nextDate.getFullYear(), month);\n\n            let day = this.nextDate.getDate();\n            if (day > range[1]) { day = range[1]; }\n\n            this.nextDate.setDate(day);\n            this.nextDate.setMonth(month);\n            this.nextDate.setFullYear(year);\n\n            this.callback = (next) => {\n                monthView = this.daysView as IgxDaysViewComponent;\n                let dayItem;\n                while ((!dayItem && monthView) || (dayItem && !dayItem.isCurrentMonth)) {\n                    dayItem = monthView.dates.find((d) => d.date.date.getTime() === next.getTime());\n                    monthView = monthView.nextMonthView;\n                }\n                if (dayItem && dayItem.isFocusable) { dayItem.nativeElement.focus(); }\n            };\n        }\n\n        if (isPageDown) { this.nextMonth(true); } else {\n            this.previousMonth(true);\n        }\n    }\n\n    /**\n     * Keyboard navigation of the calendar\n     * @hidden\n     * @internal\n     */\n    @HostListener('keydown.shift.pageup', ['$event'])\n    @HostListener('keydown.shift.pagedown', ['$event'])\n    public onKeydownShiftPageUp(event: KeyboardEvent) {\n        event.preventDefault();\n\n        if (this.activeView !== CalendarView.DEFAULT) {\n            return;\n        }\n\n        const isPageDown = event.key === 'PageDown';\n        const step = isPageDown ? 1 : -1;\n        this.viewDate = this.calendarModel.timedelta(this.viewDate, 'year', step);\n\n        this.animationAction = isPageDown ? ScrollMonth.NEXT : ScrollMonth.PREV;\n        this.isKeydownTrigger = true;\n\n        let monthView = this.daysView as IgxDaysViewComponent;\n        let activeDate;\n\n        while (!activeDate && monthView) {\n            activeDate = monthView.dates.find((date) => date.nativeElement === document.activeElement);\n            monthView = monthView.nextMonthView;\n        }\n\n        if (activeDate) {\n            this.nextDate = new Date(activeDate.date.date);\n\n            const year = this.nextDate.getFullYear() + step;\n\n            const range = monthRange(year, this.nextDate.getMonth());\n\n            let day = this.nextDate.getDate();\n            if (day > range[1]) { day = range[1]; }\n\n            this.nextDate.setDate(day);\n            this.nextDate.setFullYear(year);\n\n            this.callback = (next) => {\n                monthView = this.daysView as IgxDaysViewComponent;\n                let dayItem;\n                while ((!dayItem && monthView) || (dayItem && !dayItem.isCurrentMonth)) {\n                    dayItem = monthView.dates.find((d) => d.date.date.getTime() === next.getTime());\n                    monthView = monthView.nextMonthView;\n                }\n                if (dayItem && dayItem.isFocusable) { dayItem.nativeElement.focus(); }\n            };\n        }\n    }\n\n    /**\n     * Keyboard navigation of the calendar\n     * @hidden\n     * @internal\n     */\n    @HostListener('keydown.home', ['$event'])\n    public onKeydownHome(event: KeyboardEvent) {\n        if (this.daysView) {\n            this.daysView.onKeydownHome(event);\n        }\n    }\n\n    /**\n     * Keyboard navigation of the calendar\n     * @hidden\n     * @internal\n     */\n    @HostListener('keydown.end', ['$event'])\n    public onKeydownEnd(event: KeyboardEvent) {\n        if (this.daysView) {\n            this.daysView.onKeydownEnd(event);\n        }\n    }\n\n    /**\n     * Stop continuous navigation on mouseup event\n     * @hidden\n     * @internal\n     */\n    @HostListener('document:mouseup', ['$event'])\n    public onMouseUp(event: KeyboardEvent) {\n        if (this.monthScrollDirection !== ScrollMonth.NONE) {\n            this.stopMonthScroll(event);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngOnDestroy(): void {\n        if (this._monthViewsChanges$) {\n            this._monthViewsChanges$.unsubscribe();\n        }\n    }\n\n    /**\n     * Helper method building and returning the context object inside\n     * the calendar templates.\n     * @hidden\n     * @internal\n     */\n    private generateContext(value: Date, i?: number) {\n        const formatObject = {\n            index: i,\n            monthView: () => this.onActiveViewYear(value, i),\n            yearView: () => this.onActiveViewDecade(value, i),\n            ...this.calendarModel.formatToParts(value, this.locale, this.formatOptions,\n                ['era', 'year', 'month', 'day', 'weekday'])\n        };\n        return { $implicit: formatObject };\n    }\n\n    /**\n     * Helper method that sets references for prev/next months for each month in the view\n     * @hidden\n     * @internal\n     */\n    private setSiblingMonths(monthViews: QueryList<IgxDaysViewComponent>) {\n        monthViews.forEach((item, index) => {\n            const prevMonthView = this.getMonthView(index - 1);\n            const nextMonthView = this.getMonthView(index + 1);\n            item.nextMonthView = nextMonthView;\n            item.prevMonthView = prevMonthView;\n        });\n    }\n\n    /**\n     * Helper method returning previous/next day views\n     * @hidden\n     * @internal\n     */\n    private getMonthView(index: number): IgxDaysViewComponent {\n        if (index === -1 || index === this.monthViews.length ) {\n            return null;\n        } else {\n            return this.monthViews.toArray()[index];\n        }\n    }\n}\n","import {\n    Component,\n    HostListener,\n    ViewChild,\n    HostBinding,\n    Input,\n    ElementRef\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { trigger, transition, useAnimation } from '@angular/animations';\nimport { fadeIn, scaleInCenter, slideInLeft, slideInRight } from '../../animations/main';\nimport { KEYS } from '../../core/utils';\nimport { IgxMonthsViewComponent } from '../months-view/months-view.component';\nimport { IgxMonthPickerBaseDirective, CalendarView } from '../month-picker-base';\nimport { IgxYearsViewComponent } from '../years-view/years-view.component';\nimport { IgxDaysViewComponent } from '../days-view/days-view.component';\n\nlet NEXT_ID = 0;\n@Component({\n    providers: [\n        {\n            multi: true,\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: IgxMonthPickerComponent\n        }\n    ],\n    animations: [\n        trigger('animateView', [\n            transition('void => 0', useAnimation(fadeIn)),\n            transition('void => *', useAnimation(scaleInCenter, {\n                params: {\n                    duration: '.2s',\n                    fromScale: .9\n                }\n            }))\n        ]),\n        trigger('animateChange', [\n            transition('* => prev', useAnimation(slideInLeft, {\n                params: {\n                    fromPosition: 'translateX(-30%)'\n                }\n            })),\n            transition('* => next', useAnimation(slideInRight, {\n                params: {\n                    fromPosition: 'translateX(30%)'\n                }\n            }))\n        ])\n    ],\n    selector: 'igx-month-picker',\n    templateUrl: 'month-picker.component.html'\n})\nexport class IgxMonthPickerComponent extends IgxMonthPickerBaseDirective {\n    /**\n     * Sets/gets the `id` of the month picker.\n     * If not set, the `id` will have value `\"igx-month-picker-0\"`.\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-month-picker-${NEXT_ID++}`;\n\n    /**\n     * The default css class applied to the component.\n     *\n     * @hidden\n     */\n    @HostBinding('class.igx-calendar')\n    public styleClass = true;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('months', { read: IgxMonthsViewComponent })\n    public monthsView: IgxMonthsViewComponent;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('decade', { read: IgxYearsViewComponent })\n    public dacadeView: IgxYearsViewComponent;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('days', { read: IgxDaysViewComponent })\n    public daysView: IgxDaysViewComponent;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('yearsBtn')\n    public yearsBtn: ElementRef;\n\n    /**\n     * @hidden\n     */\n    public yearAction = '';\n\n    /**\n     * @hidden\n     */\n    public animationDone() {\n        this.yearAction = '';\n    }\n\n    /**\n     * @hidden\n     */\n    public activeViewDecadeKB(event) {\n        super.activeViewDecadeKB(event);\n\n        if (event.key === KEYS.RIGHT_ARROW || event.key === KEYS.RIGHT_ARROW_IE) {\n            event.preventDefault();\n            this.nextYear();\n        }\n\n        if (event.key === KEYS.LEFT_ARROW || event.key === KEYS.LEFT_ARROW_IE) {\n            event.preventDefault();\n            this.previousYear();\n        }\n\n        requestAnimationFrame(() => {\n            if (this.dacadeView) { this.dacadeView.el.nativeElement.focus(); }\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public activeViewDecade() {\n        super.activeViewDecade();\n\n        requestAnimationFrame(() => {\n            this.dacadeView.el.nativeElement.focus();\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public nextYear() {\n        this.yearAction = 'next';\n        this.viewDate = this.calendarModel.getNextYear(this.viewDate);\n\n        this.selectDate(this.viewDate);\n        this.onSelection.emit(this.selectedDates);\n    }\n\n    /**\n     * @hidden\n     */\n    public nextYearKB(event) {\n        if (event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE || event.key === KEYS.ENTER) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            this.nextYear();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public previousYear() {\n        this.yearAction = 'prev';\n        this.viewDate = this.calendarModel.getPrevYear(this.viewDate);\n\n        this.selectDate(this.viewDate);\n        this.onSelection.emit(this.selectedDates);\n    }\n\n    /**\n     * @hidden\n     */\n    public previousYearKB(event) {\n        if (event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE || event.key === KEYS.ENTER) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            this.previousYear();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public selectYear(event: Date) {\n        this.viewDate = new Date(event.getFullYear(), event.getMonth(), event.getDate());\n        this.activeView = CalendarView.DEFAULT;\n\n        this.selectDate(event);\n        this.onSelection.emit(this.selectedDates);\n\n        requestAnimationFrame(() => {\n            if (this.yearsBtn) { this.yearsBtn.nativeElement.focus(); }\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public selectMonth(event: Date) {\n        this.selectDate(event);\n        this.onSelection.emit(this.selectedDates);\n    }\n\n    /**\n     * Selects a date.\n     *```typescript\n     * this.monPicker.selectDate(new Date(`2018-06-12`));\n     *```\n     */\n    public selectDate(value: Date) {\n        if (!value) {\n            return new Date();\n        }\n\n        // TO DO: to be refactored after discussion on the desired behavior\n        super.selectDate(value);\n        this.viewDate = value;\n    }\n\n    /**\n     * @hidden\n     */\n    public writeValue(value: Date) {\n\n        // TO DO: to be refactored after discussion on the desired behavior\n        if (value) {\n            this.viewDate = this.selectedDates = value;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.pageup', ['$event'])\n    public onKeydownPageUp(event: KeyboardEvent) {\n        event.preventDefault();\n        this.yearAction = 'prev';\n        this.viewDate = this.calendarModel.getPrevYear(this.viewDate);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.pagedown', ['$event'])\n    public onKeydownPageDown(event: KeyboardEvent) {\n        event.preventDefault();\n        this.yearAction = 'next';\n        this.viewDate = this.calendarModel.getNextYear(this.viewDate);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.home', ['$event'])\n    public onKeydownHome(event: KeyboardEvent) {\n        if (this.monthsView) {\n            this.monthsView.el.nativeElement.focus();\n            this.monthsView.onKeydownHome(event);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.end', ['$event'])\n    public onKeydownEnd(event: KeyboardEvent) {\n        if (this.monthsView) {\n            this.monthsView.el.nativeElement.focus();\n            this.monthsView.onKeydownEnd(event);\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Calendar } from './calendar';\n\n@Pipe({\n    name: 'IgxMonthViewSlots'\n})\nexport class IgxMonthViewSlotsCalendar implements PipeTransform {\n    public transform(monthViews: number) {\n        return new Array(monthViews);\n    }\n}\n\n@Pipe({\n    name: 'IgxGetViewDate'\n})\nexport class IgxGetViewDateCalendar implements PipeTransform {\n    private calendar: Calendar;\n    constructor() {\n        this.calendar = new Calendar();\n    }\n    public transform(index: number, viewDate: Date, wholeDate = true) {\n        const date = this.calendar.timedelta(viewDate, 'month', index);\n        return wholeDate ? date : date.getMonth();\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxCalendarComponent } from './calendar.component';\nimport {\n    IgxCalendarHeaderTemplateDirective,\n    IgxCalendarMonthDirective,\n    IgxCalendarSubheaderTemplateDirective,\n    IgxCalendarYearDirective,\n    IgxCalendarScrollMonthDirective\n} from './calendar.directives';\nimport { IgxMonthsViewComponent } from './months-view/months-view.component';\nimport { IgxYearsViewComponent } from './years-view/years-view.component';\nimport { IgxDaysViewComponent } from './days-view/days-view.component';\nimport { IgxDayItemComponent } from './days-view/day-item.component';\nimport { IgxMonthPickerComponent } from './month-picker/month-picker.component';\nimport { IgxCalendarBaseDirective } from './calendar-base';\nimport { IgxMonthPickerBaseDirective } from './month-picker-base';\nimport { IgxMonthViewSlotsCalendar, IgxGetViewDateCalendar } from './months-view.pipe';\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxCalendarBaseDirective,\n        IgxMonthPickerBaseDirective,\n        IgxDayItemComponent,\n        IgxDaysViewComponent,\n        IgxCalendarComponent,\n        IgxCalendarHeaderTemplateDirective,\n        IgxCalendarMonthDirective,\n        IgxCalendarYearDirective,\n        IgxCalendarSubheaderTemplateDirective,\n        IgxCalendarScrollMonthDirective,\n        IgxMonthsViewComponent,\n        IgxYearsViewComponent,\n        IgxMonthPickerComponent,\n        IgxMonthViewSlotsCalendar,\n        IgxGetViewDateCalendar\n    ],\n    exports: [\n        IgxCalendarComponent,\n        IgxDaysViewComponent,\n        IgxMonthsViewComponent,\n        IgxYearsViewComponent,\n        IgxMonthPickerComponent,\n        IgxCalendarHeaderTemplateDirective,\n        IgxCalendarMonthDirective,\n        IgxCalendarYearDirective,\n        IgxCalendarSubheaderTemplateDirective\n    ],\n    imports: [CommonModule, FormsModule, IgxIconModule]\n})\nexport class IgxCalendarModule { }\n","import { CommonModule } from '@angular/common';\nimport {\n    Component,\n    Directive,\n    HostBinding,\n    Optional,\n    Inject,\n    Input,\n    NgModule,\n    OnInit,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { IgxButtonModule } from '../directives/button/button.directive';\n\nlet NEXT_ID = 0;\n\n/**\n * IgxCardMedia is container for the card media section.\n * Use it to wrap images and videos.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-card-media'\n})\nexport class IgxCardMediaDirective {\n    /** @hidden @internal */\n    @HostBinding('class.igx-card__media')\n    public cssClass = 'igx-card__media';\n\n    /**\n     * An @Input property that sets the `width` and `min-width` style property\n     * of the media container. If not provided it will be set to `auto`.\n     *\n     * @example\n     * ```html\n     * <igx-card-media width=\"300px\"></igx-card-media>\n     * ```\n     */\n    @HostBinding('style.width')\n    @HostBinding('style.min-width')\n    @Input()\n    public width = 'auto';\n\n    /**\n     * An @Input property that sets the `height` style property of the media container.\n     * If not provided it will be set to `auto`.\n     *\n     * @example\n     * ```html\n     * <igx-card-media height=\"50%\"></igx-card-media>\n     * ```\n     */\n    @HostBinding('style.height')\n    @Input()\n    public height = 'auto';\n\n    /**\n     * An @Input property that sets the `role` attribute of the media container.\n     */\n    @HostBinding('attr.role')\n    @Input()\n    public role = 'img';\n}\n\n/**\n * IgxCardHeader is container for the card header\n */\n@Component({\n    selector: 'igx-card-header',\n    templateUrl: 'card-header.component.html'\n})\nexport class IgxCardHeaderComponent {\n    /** @hidden @internal */\n    @HostBinding('class.igx-card-header')\n    public cssClass = 'igx-card-header';\n\n    /**\n     * An @Input property that sets the layout style of the header.\n     * By default the header elements(thumbnail and title/subtitle) are aligned horizontally.\n     *\n     * @example\n     * ```html\n     * <igx-card-header [vertical]=\"true\"></igx-card-header>\n     * ```\n     */\n    @HostBinding('class.igx-card-header--vertical')\n    @Input()\n    public vertical = false;\n\n    /**\n     * An @Input property that sets the value of the `role` attribute of the card header.\n     * By default the value is set to `header`.\n     *\n     * @example\n     * ```html\n     * <igx-card-header role=\"header\"></igx-card-header>\n     * ```\n     */\n    @HostBinding('attr.role')\n    public role = 'header';\n}\n\n/**\n * IgxCardThumbnail is container for the card thumbnail section.\n * Use it to wrap anything you want to be used as a thumbnail.\n */\n@Directive({\n    selector: '[igxCardThumbnail]'\n})\nexport class IgxCardThumbnailDirective { }\n\n/**\n * igxCardHeaderTitle is used to denote the header title in a card.\n * Use it to tag text nodes.\n */\n@Directive({\n    selector: '[igxCardHeaderTitle]'\n})\nexport class IgxCardHeaderTitleDirective {\n    /** @hidden @internal */\n    @HostBinding('class.igx-card-header__title')\n    public cssClass = 'igx-card__header__title';\n}\n\n/**\n * igxCardHeaderSubtitle is used to denote the header subtitle in a card.\n * Use it to tag text nodes.\n */\n@Directive({\n    selector: '[igxCardHeaderSubtitle]'\n})\nexport class IgxCardHeaderSubtitleDirective {\n    /** @hidden @internal */\n    @HostBinding('class.igx-card-header__subtitle')\n    public cssClass = 'igx-card-header__subtitle';\n}\n/**\n * IgxCardContent is container for the card content.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-card-content'\n})\nexport class IgxCardContentDirective {\n    /** @hidden @internal */\n    @HostBinding('class.igx-card-content')\n    public cssClass = 'igx-card-content';\n}\n\n/**\n * IgxCardFooter is container for the card footer\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-card-footer'\n})\nexport class IgxCardFooterDirective {\n    /**\n     * An @Input property that sets the value of the `role` attribute of the card footer.\n     * By default the value is set to `footer`.\n     *\n     * @example\n     * ```html\n     * <igx-card-footer role=\"footer\"></igx-card-footer>\n     * ```\n     */\n    @HostBinding('attr.role')\n    @Input()\n    public role = 'footer';\n}\n\n/**\n * Card provides a way to display organized content in appealing way.\n *\n * @igxModule IgxCardModule\n *\n * @igxTheme igx-card-theme, igx-icon-theme, igx-button-theme\n *\n * @igxKeywords card, button, avatar, icon\n *\n * @igxGroup Layouts\n *\n * @remarks\n * The Ignite UI Card serves as a container that allows custom content to be organized in an appealing way. There are\n * five sections in a card that you can use to organize your content. These are header, media, content, actions, and footer.\n *\n * @example\n * ```html\n * <igx-card>\n *   <igx-card-header>\n *     <h3 igxCardHeaderTitle>{{title}}</h3>\n *     <h5 igxCardHeaderSubtitle>{{subtitle}}</h5>\n *   </igx-card-header>\n *   <igx-card-actions>\n *       <button igxButton igxRipple>Share</button>\n *       <button igxButton igxRipple>Play Album</button>\n *   </igx-card-actions>\n * </igx-card>\n * ```\n */\n\nexport enum IgxCardType {\n    ELEVATED = 'elevated',\n    OUTLINED = 'outlined'\n}\n\n@Component({\n    selector: 'igx-card',\n    templateUrl: 'card.component.html'\n})\nexport class IgxCardComponent {\n    /**\n     * Sets/gets the `id` of the card.\n     * If not set, `id` will have value `\"igx-card-0\"`;\n     *\n     * @example\n     * ```html\n     * <igx-card id = \"my-first-card\"></igx-card>\n     * ```\n     * ```typescript\n     * let cardId =  this.card.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-card-${NEXT_ID++}`;\n\n    /**\n     * An @Input property that sets the value of the `role` attribute of the card.\n     * By default the value is set to `group`.\n     *\n     * @example\n     * ```html\n     * <igx-card role=\"group\"></igx-card>\n     * ```\n     */\n    @HostBinding('attr.role')\n    @Input()\n    public role = 'group';\n\n    /**\n     * An @Input property that sets the value of the `type` attribute of the card.\n     * By default the value is set to `default`. You can make the card use the\n     * outlined style by setting the value to `outlined`.\n     *\n     * @example\n     * ```html\n     * <igx-card type=\"outlined\"></igx-card>\n     * ```\n     */\n    @HostBinding('class.igx-card')\n    @Input()\n    public type: IgxCardType | string = IgxCardType.ELEVATED;\n\n    /**\n     * A getter which will return true if the card type is `outlined`.\n     */\n    @HostBinding('class.igx-card--outlined')\n    get isOutlinedCard() {\n        return this.type === IgxCardType.OUTLINED;\n    }\n\n    /**\n     * An @Input property that sets the value of the `horizontal` attribute of the card.\n     * Setting this to `true` will make the different card sections align horizontally,\n     * essentially flipping the card to the side.\n     *\n     * @example\n     * ```html\n     * <igx-card [horizontal]=\"true\"></igx-card>\n     * ```\n     */\n    @HostBinding('class.igx-card--horizontal')\n    @Input()\n    public horizontal = false;\n}\n\nexport enum IgxCardActionsLayout {\n    START = 'start',\n    JUSTIFY = 'justify',\n}\n\n/**\n * IgxCardActions is container for the card actions.\n */\n@Component({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-card-actions',\n    templateUrl: 'card-actions.component.html'\n})\nexport class IgxCardActionsComponent implements OnInit, OnChanges {\n    private isVerticalSet = false;\n\n    constructor(@Optional() @Inject(IgxCardComponent) public card: IgxCardComponent) { }\n\n    /**\n     * An @Input property that sets the layout style of the actions.\n     * By default icons and icon buttons, as well as regular buttons\n     * are split into two containers, which are then positioned on both ends\n     * of the card-actions area.\n     * You can justify the elements in those groups so they are positioned equally\n     * from one another taking up all the space available along the card actions axis.\n     *\n     * @example\n     * ```html\n     * <igx-card-actions layout=\"justify\"></igx-card-actions>\n     * ```\n     */\n    @HostBinding('class.igx-card-actions')\n    @Input()\n    public layout: IgxCardActionsLayout | string = IgxCardActionsLayout.START;\n\n    /**\n     * An @Input property that sets the vertical attribute of the actions.\n     * When set to `true` the actions will be layed out vertically.\n     */\n    @HostBinding('class.igx-card-actions--vertical')\n    @Input()\n    public vertical: boolean;\n\n    /**\n     * A getter that returns `true` when the layout has been\n     * set to `justify`.\n     */\n    @HostBinding('class.igx-card-actions--justify')\n    get isJustifyLayout() {\n        return this.layout === IgxCardActionsLayout.JUSTIFY;\n    }\n\n    /**\n     * An @Input property that sets order of the buttons the actions area.\n     * By default all icons/icon buttons are placed at the end of the action\n     * area. Any regular buttons(flat, raised) will appear before the icons/icon buttons\n     * placed in the actions area.\n     * If you want to reverse their positions so that icons appear first, use the `reverse`\n     * attribute.\n     *\n     * @example\n     * ```html\n     * <igx-card-actions [reverse]=\"true\"></igx-card-actions>\n     * ```\n     */\n    @HostBinding('class.igx-card-actions--reverse')\n    @Input()\n    public reverse = false;\n\n    ngOnChanges(changes: SimpleChanges) {\n        for (const prop in changes) {\n            if (prop === 'vertical') {\n                this.isVerticalSet = true;\n            }\n        }\n    }\n\n    ngOnInit() {\n        this.vertical = !this.isVerticalSet && this.card.horizontal;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxCardComponent,\n        IgxCardHeaderComponent,\n        IgxCardMediaDirective,\n        IgxCardContentDirective,\n        IgxCardActionsComponent,\n        IgxCardFooterDirective,\n        IgxCardHeaderTitleDirective,\n        IgxCardHeaderSubtitleDirective,\n        IgxCardThumbnailDirective,\n    ],\n    exports: [\n        IgxCardComponent,\n        IgxCardHeaderComponent,\n        IgxCardMediaDirective,\n        IgxCardContentDirective,\n        IgxCardActionsComponent,\n        IgxCardFooterDirective,\n        IgxCardHeaderTitleDirective,\n        IgxCardHeaderSubtitleDirective,\n        IgxCardThumbnailDirective,\n    ],\n    imports: [CommonModule, IgxButtonModule]\n})\nexport class IgxCardModule { }\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: '[igxCarouselIndicator]'\n})\nexport class IgxCarouselIndicatorDirective {\n}\n\n@Directive({\n    selector: '[igxCarouselNextButton]'\n})\nexport class IgxCarouselNextButtonDirective {\n}\n\n@Directive({\n    selector: '[igxCarouselPrevButton]'\n})\nexport class IgxCarouselPrevButtonDirective {\n}\n","import { Component, OnDestroy, Input, HostBinding, Output, EventEmitter, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nexport enum Direction { NONE, NEXT, PREV }\n\n/**\n * A slide component that usually holds an image and/or a caption text.\n * IgxSlideComponent is usually a child component of an IgxCarouselComponent.\n *\n * ```\n * <igx-slide [input bindings] >\n *    <ng-content></ng-content>\n * </igx-slide>\n * ```\n *\n * @export\n */\n@Component({\n    selector: 'igx-slide',\n    templateUrl: 'slide.component.html'\n})\n\nexport class IgxSlideComponent implements OnDestroy {\n    private _active = false;\n    private _destroy$ = new Subject<boolean>();\n    /**\n     * Gets/sets the `index` of the slide inside the carousel.\n     * ```html\n     * <igx-carousel>\n     *  <igx-slide index = \"1\"></igx-slide>\n     * <igx-carousel>\n     * ```\n     * @memberOf IgxSlideComponent\n     */\n    @Input() public index: number;\n\n    /**\n     * Gets/sets the target `direction` for the slide.\n     * ```html\n     * <igx-carousel>\n     *  <igx-slide direction=\"NEXT\"></igx-slide>\n     * <igx-carousel>\n     * ```\n     * @memberOf IgxSlideComponent\n     */\n    @Input() public direction: Direction;\n\n    /**\n     * Returns the `tabIndex` of the slide component.\n     * ```typescript\n     * let tabIndex =  this.carousel.tabIndex;\n     * ```\n     * @memberof IgxSlideComponent\n     */\n    @HostBinding('attr.tabindex')\n    get tabIndex() {\n        return this.active ? 0 : null;\n    }\n\n    /**\n     * Returns the `aria-selected` of the slide.\n     *\n     * ```typescript\n     * let slide = this.slide.ariaSelected;\n     * ```\n     *\n     */\n    @HostBinding('attr.aria-selected')\n    public get ariaSelected(): boolean {\n        return this.active;\n    }\n\n    /**\n     * Returns the `aria-live` of the slide.\n     *\n     * ```typescript\n     * let slide = this.slide.ariaLive;\n     * ```\n     *\n     */\n    @HostBinding('attr.aria-selected')\n    public get ariaLive() {\n        return this.active ? 'polite' : null;\n    }\n\n    /**\n     * Returns the class of the slide component.\n     * ```typescript\n     * let class =  this.slide.cssClass;\n     * ```\n     * @memberof IgxSlideComponent\n     */\n    @HostBinding('class.igx-slide')\n    public cssClass = 'igx-slide';\n\n    /**\n     * Gets/sets the `active` state of the slide.\n     * ```html\n     * <igx-carousel>\n     *  <igx-slide [active] =\"false\"></igx-slide>\n     * <igx-carousel>\n     * ```\n     *\n     * Two-way data binding.\n     * ```html\n     * <igx-carousel>\n     *  <igx-slide [(active)] =\"model.isActive\"></igx-slide>\n     * <igx-carousel>\n     * ```\n     * @memberof IgxSlideComponent\n     */\n    @HostBinding('class.igx-slide--current')\n    @Input()\n    public get active(): boolean {\n        return this._active;\n    }\n\n    public set active(value) {\n        this._active = !!value;\n        this.activeChange.emit(this._active);\n    }\n\n    @HostBinding('class.igx-slide--previous')\n    @Input() public previous = false;\n\n    /**\n     *@hidden\n     */\n    @Output() public activeChange = new EventEmitter<boolean>();\n\n    constructor(private elementRef: ElementRef) { }\n\n    /**\n    * Returns a reference to the carousel element in the DOM.\n    * ```typescript\n    * let nativeElement =  this.slide.nativeElement;\n    * ```\n    * @memberof IgxSlideComponent\n    */\n    public get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n    * @hidden\n    */\n    public get isDestroyed(): Subject<boolean> {\n    return this._destroy$;\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this._destroy$.next(true);\n        this._destroy$.complete();\n    }\n}\n","export interface IGridResourceStrings {\n    igx_grid_groupByArea_message?: string;\n    igx_grid_emptyFilteredGrid_message?: string;\n    igx_grid_emptyGrid_message?: string;\n    igx_grid_filter?: string;\n    igx_grid_filter_row_close?: string;\n    igx_grid_filter_row_reset?: string;\n    igx_grid_filter_row_placeholder?: string;\n    igx_grid_filter_row_boolean_placeholder?: string;\n    igx_grid_filter_row_date_placeholder?: string;\n    igx_grid_filter_operator_and?: string;\n    igx_grid_complex_filter?: string;\n    igx_grid_filter_operator_or?: string;\n    igx_grid_filter_contains?: string;\n    igx_grid_filter_doesNotContain?: string;\n    igx_grid_filter_startsWith?: string;\n    igx_grid_filter_endsWith?: string;\n    igx_grid_filter_equals?: string;\n    igx_grid_filter_doesNotEqual?: string;\n    igx_grid_filter_empty?: string;\n    igx_grid_filter_notEmpty?: string;\n    igx_grid_filter_null?: string;\n    igx_grid_filter_notNull?: string;\n    igx_grid_filter_before?: string;\n    igx_grid_filter_after?: string;\n    igx_grid_filter_today?: string;\n    igx_grid_filter_yesterday?: string;\n    igx_grid_filter_thisMonth?: string;\n    igx_grid_filter_lastMonth?: string;\n    igx_grid_filter_nextMonth?: string;\n    igx_grid_filter_thisYear?: string;\n    igx_grid_filter_lastYear?: string;\n    igx_grid_filter_nextYear?: string;\n    igx_grid_filter_greaterThan?: string;\n    igx_grid_filter_lessThan?: string;\n    igx_grid_filter_greaterThanOrEqualTo?: string;\n    igx_grid_filter_lessThanOrEqualTo?: string;\n    igx_grid_filter_true?: string;\n    igx_grid_filter_false?: string;\n    igx_grid_filter_all?: string;\n    igx_grid_filter_condition_placeholder?: string;\n    igx_grid_summary_count?: string;\n    igx_grid_summary_min?: string;\n    igx_grid_summary_max?: string;\n    igx_grid_summary_sum?: string;\n    igx_grid_summary_average?: string;\n    igx_grid_summary_earliest?: string;\n    igx_grid_summary_latest?: string;\n    igx_grid_excel_filter_moving_left?: string;\n    igx_grid_excel_filter_moving_left_short?: string;\n    igx_grid_excel_filter_moving_right?: string;\n    igx_grid_excel_filter_moving_right_short?: string;\n    igx_grid_excel_filter_moving_header?: string;\n    igx_grid_excel_filter_sorting_asc?: string;\n    igx_grid_excel_filter_sorting_asc_short?: string;\n    igx_grid_excel_filter_sorting_desc?: string;\n    igx_grid_excel_filter_sorting_desc_short?: string;\n    igx_grid_excel_filter_sorting_header?: string;\n    igx_grid_excel_filter_clear?: string;\n    igx_grid_excel_custom_dialog_add?: string;\n    igx_grid_excel_custom_dialog_clear?: string;\n    igx_grid_excel_custom_dialog_header?: string;\n    igx_grid_excel_cancel?: string;\n    igx_grid_excel_apply?: string;\n    igx_grid_excel_search_placeholder?: string;\n    igx_grid_excel_select_all?: string;\n    igx_grid_excel_blanks?: string;\n    igx_grid_excel_hide?: string;\n    igx_grid_excel_show?: string;\n    igx_grid_excel_pin?: string;\n    igx_grid_excel_unpin?: string;\n    igx_grid_excel_text_filter?: string;\n    igx_grid_excel_number_filter?: string;\n    igx_grid_excel_date_filter?: string;\n    igx_grid_excel_boolean_filter?: string;\n    igx_grid_excel_custom_filter?: string;\n    igx_grid_advanced_filter_title?: string;\n    igx_grid_advanced_filter_and_group?: string;\n    igx_grid_advanced_filter_or_group?: string;\n    igx_grid_advanced_filter_end_group?: string;\n    igx_grid_advanced_filter_create_and_group?: string;\n    igx_grid_advanced_filter_create_or_group?: string;\n    igx_grid_advanced_filter_and_label?: string;\n    igx_grid_advanced_filter_or_label?: string;\n    igx_grid_advanced_filter_add_condition?: string;\n    igx_grid_advanced_filter_ungroup?: string;\n    igx_grid_advanced_filter_delete?: string;\n    igx_grid_advanced_filter_delete_filters?: string;\n    igx_grid_advanced_filter_initial_text?: string;\n    igx_grid_advanced_filter_column_placeholder?: string;\n    igx_grid_advanced_filter_value_placeholder?: string;\n}\n\nexport const GridResourceStringsEN: IGridResourceStrings = {\n    igx_grid_groupByArea_message: 'Drag a column header and drop it here to group by that column.',\n    igx_grid_emptyFilteredGrid_message: 'No records found.',\n    igx_grid_emptyGrid_message: 'Grid has no data.',\n    igx_grid_filter: 'Filter',\n    igx_grid_filter_row_close: 'Close',\n    igx_grid_filter_row_reset: 'Reset',\n    igx_grid_filter_row_placeholder: 'Add filter value',\n    igx_grid_filter_row_boolean_placeholder: 'All',\n    igx_grid_filter_row_date_placeholder: 'Pick up date',\n    igx_grid_filter_operator_and: 'And',\n    igx_grid_filter_operator_or: 'Or',\n    igx_grid_complex_filter: 'Complex Filter',\n    igx_grid_filter_contains: 'Contains',\n    igx_grid_filter_doesNotContain: 'Does Not Contain',\n    igx_grid_filter_startsWith: 'Starts With',\n    igx_grid_filter_endsWith: 'Ends With',\n    igx_grid_filter_equals: 'Equals',\n    igx_grid_filter_doesNotEqual: 'Does Not Equal',\n    igx_grid_filter_empty: 'Empty',\n    igx_grid_filter_notEmpty: 'Not Empty',\n    igx_grid_filter_null: 'Null',\n    igx_grid_filter_notNull: 'Not Null',\n    igx_grid_filter_before: 'Before',\n    igx_grid_filter_after: 'After',\n    igx_grid_filter_today: 'Today',\n    igx_grid_filter_yesterday: 'Yesterday',\n    igx_grid_filter_thisMonth: 'This Month',\n    igx_grid_filter_lastMonth: 'Last Month',\n    igx_grid_filter_nextMonth: 'Next Month',\n    igx_grid_filter_thisYear: 'This Year',\n    igx_grid_filter_lastYear: 'Last Year',\n    igx_grid_filter_nextYear: 'Next Year',\n    igx_grid_filter_greaterThan: 'Greater Than',\n    igx_grid_filter_lessThan: 'Less Than',\n    igx_grid_filter_greaterThanOrEqualTo: 'Greater Than Or Equal To',\n    igx_grid_filter_lessThanOrEqualTo: 'Less Than Or Equal To',\n    igx_grid_filter_true: 'True',\n    igx_grid_filter_false: 'False',\n    igx_grid_filter_all: 'All',\n    igx_grid_filter_condition_placeholder: 'Select filter',\n    igx_grid_summary_count: 'Count',\n    igx_grid_summary_min: 'Min',\n    igx_grid_summary_max: 'Max',\n    igx_grid_summary_sum: 'Sum',\n    igx_grid_summary_average: 'Avg',\n    igx_grid_summary_earliest: 'Earliest',\n    igx_grid_summary_latest: 'Latest',\n    igx_grid_excel_filter_moving_left: 'move left',\n    igx_grid_excel_filter_moving_left_short: 'left',\n    igx_grid_excel_filter_moving_right: 'move right',\n    igx_grid_excel_filter_moving_right_short: 'right',\n    igx_grid_excel_filter_moving_header: 'move',\n    igx_grid_excel_filter_sorting_asc: 'ascending',\n    igx_grid_excel_filter_sorting_asc_short: 'asc',\n    igx_grid_excel_filter_sorting_desc: 'descending',\n    igx_grid_excel_filter_sorting_desc_short: 'desc',\n    igx_grid_excel_filter_sorting_header: 'sort',\n    igx_grid_excel_filter_clear: 'Clear column filters',\n    igx_grid_excel_custom_dialog_add: 'add filter',\n    igx_grid_excel_custom_dialog_clear: 'Clear filter',\n    igx_grid_excel_custom_dialog_header: 'Custom auto-filter on column: ',\n    igx_grid_excel_cancel: 'cancel',\n    igx_grid_excel_apply: 'apply',\n    igx_grid_excel_search_placeholder: 'Search',\n    igx_grid_excel_select_all: 'Select All',\n    igx_grid_excel_blanks: '(Blanks)',\n    igx_grid_excel_hide: 'Hide column',\n    igx_grid_excel_show: 'Show column',\n    igx_grid_excel_pin: 'Pin column',\n    igx_grid_excel_unpin: 'Unpin column',\n    igx_grid_excel_text_filter: 'Text filter',\n    igx_grid_excel_number_filter: 'Number filter',\n    igx_grid_excel_date_filter: 'Date filter',\n    igx_grid_excel_boolean_filter: 'Boolean filter',\n    igx_grid_excel_custom_filter: 'Custom filter...',\n    igx_grid_advanced_filter_title: 'Advanced Filtering',\n    igx_grid_advanced_filter_and_group: '\"And\" Group',\n    igx_grid_advanced_filter_or_group: '\"Or\" Group',\n    igx_grid_advanced_filter_end_group: 'End Group',\n    igx_grid_advanced_filter_create_and_group: 'Create \"And\" Group',\n    igx_grid_advanced_filter_create_or_group: 'Create \"Or\" Group',\n    igx_grid_advanced_filter_and_label: 'and',\n    igx_grid_advanced_filter_or_label: 'or',\n    igx_grid_advanced_filter_add_condition: 'Condition',\n    igx_grid_advanced_filter_ungroup: 'Ungroup',\n    igx_grid_advanced_filter_delete: 'Delete',\n    igx_grid_advanced_filter_delete_filters: 'Delete filters',\n    igx_grid_advanced_filter_initial_text: 'Start with creating a group of conditions linked with \"And\" or \"Or\"',\n    igx_grid_advanced_filter_column_placeholder: 'Select column',\n    igx_grid_advanced_filter_value_placeholder: 'Value'\n};\n","export interface ITimePickerResourceStrings {\n    igx_time_picker_ok?: string;\n    igx_time_picker_cancel?: string;\n}\n\nexport const TimePickerResourceStringsEN: ITimePickerResourceStrings = {\n    igx_time_picker_ok: 'OK',\n    igx_time_picker_cancel: 'Cancel'\n};\n","export interface IPaginatorResourceStrings {\n    igx_paginator_label?: string;\n}\n\nexport const PaginatorResourceStringsEN: IPaginatorResourceStrings = {\n    igx_paginator_label: 'Items per page'\n};\n","export interface ICarouselResourceStrings {\n    igx_carousel_of?: string;\n}\n\nexport const CarouselResourceStringsEN: ICarouselResourceStrings = {\n    igx_carousel_of: 'of'\n};\n","import { IGridResourceStrings, GridResourceStringsEN } from './grid-resources';\nimport { ITimePickerResourceStrings, TimePickerResourceStringsEN } from './time-picker-resources';\nimport { PaginatorResourceStringsEN } from './paginator-resources';\nimport { cloneValue } from '../utils';\nimport { ICarouselResourceStrings, CarouselResourceStringsEN } from './carousel-resources';\n\nexport interface IResourceStrings extends IGridResourceStrings, ITimePickerResourceStrings, ICarouselResourceStrings  {}\n\n/**\n * @hidden\n */\nexport const CurrentResourceStrings = {\n    GridResStrings: cloneValue(GridResourceStringsEN),\n    TimePickerResStrings: cloneValue(TimePickerResourceStringsEN),\n    PaginatorResStrings: cloneValue(PaginatorResourceStringsEN),\n    CarouselResStrings: cloneValue(CarouselResourceStringsEN),\n};\n\nfunction updateResourceStrings(currentStrings: IResourceStrings, newStrings: IResourceStrings ) {\n    for (const key of Object.keys(newStrings)) {\n        if (key in currentStrings) {\n            currentStrings[key] = newStrings[key];\n        }\n    }\n}\n\n/**\n * Changes the resource strings for all components in the application\n * ```\n * @param resourceStrings to be applied\n */\nexport function changei18n(resourceStrings: IResourceStrings) {\n    for (const key of Object.keys(CurrentResourceStrings)) {\n        updateResourceStrings(CurrentResourceStrings[key], resourceStrings);\n    }\n}\n\n/**\n * Returns current resource strings for all components\n */\nexport function getCurrentResourceStrings(): IResourceStrings {\n    return {\n            ...CurrentResourceStrings.GridResStrings,\n            ...CurrentResourceStrings.TimePickerResStrings\n    };\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Input,\n    NgModule,\n    OnDestroy,\n    Output,\n    ContentChildren,\n    QueryList,\n    IterableDiffer,\n    IterableDiffers,\n    AfterContentInit,\n    IterableChangeRecord,\n    TemplateRef,\n    ViewChild,\n    ContentChild,\n    Injectable\n} from '@angular/core';\nimport { IgxIconModule } from '../icon/index';\nimport { IBaseEventArgs, PlatformUtil } from '../core/utils';\nimport { Subject, merge } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { IgxCarouselIndicatorDirective, IgxCarouselNextButtonDirective, IgxCarouselPrevButtonDirective } from './carousel.directives';\nimport { useAnimation, AnimationBuilder, AnimationPlayer, AnimationReferenceMetadata } from '@angular/animations';\nimport { slideInLeft, fadeIn } from '../animations/main';\nimport { IgxSlideComponent, Direction } from './slide.component';\nimport { ICarouselResourceStrings } from '../core/i18n/carousel-resources';\nimport { CurrentResourceStrings } from '../core/i18n/resources';\nimport { HammerGestureConfig, HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\n\nlet NEXT_ID = 0;\n\nexport enum CarouselIndicatorsOrientation {\n    bottom = 'bottom',\n    top = 'top'\n}\n\nexport enum CarouselAnimationType {\n    none = 'none',\n    slide = 'slide',\n    fade = 'fade'\n}\n\nexport interface CarouselAnimationSettings {\n    enterAnimation: AnimationReferenceMetadata;\n    leaveAnimation: AnimationReferenceMetadata;\n}\n\n@Injectable()\nexport class CarouselHammerConfig extends HammerGestureConfig {\n    public overrides = {\n        pan: { direction: Hammer.DIRECTION_HORIZONTAL }\n    };\n}\n/**\n * **Ignite UI for Angular Carousel** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/carousel.html)\n *\n * The Ignite UI Carousel is used to browse or navigate through a collection of slides. Slides can contain custom\n * content such as images or cards and be used for things such as on-boarding tutorials or page-based interfaces.\n * It can be used as a separate fullscreen element or inside another component.\n *\n * Example:\n * ```html\n * <igx-carousel>\n *   <igx-slide>\n *     <h3>First Slide Header</h3>\n *     <p>First slide Content</p>\n *   <igx-slide>\n *   <igx-slide>\n *     <h3>Second Slide Header</h3>\n *     <p>Second Slide Content</p>\n * </igx-carousel>\n * ```\n */\n@Component({\n    providers: [\n        {\n            provide: HAMMER_GESTURE_CONFIG,\n            useClass: CarouselHammerConfig\n        }\n    ],\n    selector: 'igx-carousel',\n    templateUrl: 'carousel.component.html',\n    styles: [`\n    :host {\n        display: block;\n        outline-style: none;\n    }`]\n})\n\nexport class IgxCarouselComponent implements OnDestroy, AfterContentInit {\n    /**\n     * Returns the `role` attribute of the carousel.\n     * ```typescript\n     * let carouselRole =  this.carousel.role;\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    @HostBinding('attr.role') public role = 'region';\n\n    /**\n     * Sets the `id` of the carousel.\n     * If not set, the `id` of the first carousel component will be `\"igx-carousel-0\"`.\n     * ```html\n     * <igx-carousel id=\"my-first-carousel\"></igx-carousel>\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-carousel-${NEXT_ID++}`;\n\n    /**\n     * Returns the `aria-label` of the carousel.\n     *\n     * ```typescript\n     * let carousel = this.carousel.ariaLabel;\n     * ```\n     *\n     */\n    @HostBinding('attr.aria-label')\n    public ariaLabel = 'carousel';\n\n    /**\n     * Returns the `tabIndex` of the carousel component.\n     * ```typescript\n     * let tabIndex =  this.carousel.tabIndex;\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    @HostBinding('attr.tabindex')\n    get tabIndex() {\n        return 0;\n    }\n\n    /**\n     * Returns the class of the carousel component.\n     * ```typescript\n     * let class =  this.carousel.cssClass;\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    @HostBinding('class.igx-carousel')\n    public cssClass = 'igx-carousel';\n\n    /**\n    * Gets the `touch-action` style of the `list item`.\n    * ```typescript\n    * let touchAction = this.listItem.touchAction;\n    * ```\n    */\n    @HostBinding('style.touch-action')\n    get touchAction() {\n        return this.gesturesSupport ? 'pan-y' : 'auto';\n    }\n\n    /**\n     * Sets whether the carousel should `loop` back to the first slide after reaching the last slide.\n     * Default value is `true`.\n     * ```html\n     * <igx-carousel [loop]=\"false\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Input() public loop = true;\n\n    /**\n     * Sets whether the carousel will `pause` the slide transitions on user interactions.\n     * Default value is `true`.\n     * ```html\n     *  <igx-carousel [pause]=\"false\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Input() public pause = true;\n\n    /**\n     * Returns the time `interval` in milliseconds before the slide changes.\n     * ```typescript\n     * let timeInterval = this.carousel.interval;\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    @Input()\n    get interval(): number {\n        return this._interval;\n    }\n\n    /**\n     * Sets the time `interval` in milliseconds before the slide changes.\n     * If not set, the carousel will not change `slides` automatically.\n     * ```html\n     * <igx-carousel [interval] = \"1000\"></igx-carousel>\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    set interval(value: number) {\n        this._interval = +value;\n        this.restartInterval();\n    }\n\n    /**\n     * Controls whether the carousel should render the left/right `navigation` buttons.\n     * Default value is `true`.\n     * ```html\n     * <igx-carousel [navigation] = \"false\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Input() public navigation = true;\n\n    /**\n    * Controls whether the carousel should support keyboard navigation.\n    * Default value is `true`.\n    * ```html\n    * <igx-carousel [keyboardSupport] = \"false\"></igx-carousel>\n    * ```\n    * @memberOf IgxCarouselComponent\n    */\n    @Input() public keyboardSupport = true;\n\n    /**\n  * Controls whether the carousel should support gestures.\n  * Default value is `true`.\n  * ```html\n  * <igx-carousel [gesturesSupport] = \"false\"></igx-carousel>\n  * ```\n  * @memberOf IgxCarouselComponent\n  */\n    @Input() public gesturesSupport = true;\n\n    /**\n     * Controls the maximum indexes that can be shown.\n     * Default value is `5`.\n     * ```html\n     * <igx-carousel [maximumIndicatorsCount] = \"10\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Input() public maximumIndicatorsCount = 5;\n\n    /**\n    * Gets/sets the display mode of carousel indicators. It can be top or bottom.\n    * Default value is `bottom`.\n    * ```html\n    * <igx-carousel indicatorsOrientation='top'>\n    * <igx-carousel>\n    * ```\n    * @memberOf IgxSlideComponent\n    */\n    @Input() public indicatorsOrientation: CarouselIndicatorsOrientation = CarouselIndicatorsOrientation.bottom;\n\n    /**\n   * Gets/sets the animation type of carousel.\n   * Default value is `slide`.\n   * ```html\n   * <igx-carousel animationType='none'>\n   * <igx-carousel>\n   * ```\n   * @memberOf IgxSlideComponent\n   */\n    @Input() public animationType = CarouselAnimationType.slide;\n\n    /**\n    * An accessor that sets the resource strings.\n    * By default it uses EN resources.\n    */\n    @Input()\n    set resourceStrings(value: ICarouselResourceStrings) {\n        this._resourceStrings = Object.assign({}, this._resourceStrings, value);\n    }\n\n    /**\n     * An accessor that returns the resource strings.\n    */\n    get resourceStrings(): ICarouselResourceStrings {\n        return this._resourceStrings;\n    }\n\n    @ViewChild('defaultIndicator', { read: TemplateRef, static: true })\n    private defaultIndicator: TemplateRef<any>;\n\n    @ViewChild('defaultNextButton', { read: TemplateRef, static: true })\n    private defaultNextButton: TemplateRef<any>;\n\n    @ViewChild('defaultPrevButton', { read: TemplateRef, static: true })\n    private defaultPrevButton: TemplateRef<any>;\n\n    /**\n     * The custom template, if any, that should be used when rendering carousel indicators\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.carousel.indicatorTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-carousel #carousel>\n     *      ...\n     *      <ng-template igxCarouselIndicator let-slide>\n     *         <igx-icon *ngIf=\"slide.active\"  fontSet=\"material\">brightness_7</igx-icon>\n     *         <igx-icon *ngIf=\"!slide.active\"  fontSet=\"material\">brightness_5</igx-icon>\n     *      </ng-template>\n     *  </igx-carousel>\n     * ```\n     */\n    @ContentChild(IgxCarouselIndicatorDirective, { read: TemplateRef, static: false })\n    public indicatorTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering carousel next button\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.carousel.nextButtonTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-carousel #carousel>\n     *      ...\n     *      <ng-template igxCarouselNextButton let-disabled>\n     *            <button igxButton=\"fab\" igxRipple=\"white\" [disabled]=\"disabled\">\n     *                <igx-icon fontSet=\"material\">add</igx-icon>\n     *           </button>\n     *      </ng-template>\n     *  </igx-carousel>\n     * ```\n     */\n    @ContentChild(IgxCarouselNextButtonDirective, { read: TemplateRef, static: false })\n    public nextButtonTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering carousel previous button\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.carousel.nextButtonTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-carousel #carousel>\n     *      ...\n     *      <ng-template igxCarouselPrevButton let-disabled>\n     *            <button igxButton=\"fab\" igxRipple=\"white\" [disabled]=\"disabled\">\n     *                <igx-icon fontSet=\"material\">remove</igx-icon>\n     *           </button>\n     *      </ng-template>\n     *  </igx-carousel>\n     * ```\n     */\n    @ContentChild(IgxCarouselPrevButtonDirective, { read: TemplateRef, static: false })\n    public prevButtonTemplate: TemplateRef<any> = null;\n\n    /**\n    * The collection of `slides` currently in the carousel.\n    * ```typescript\n    * let slides: QueryList<IgxSlideComponent> = this.carousel.slides;\n    * ```\n    * @memberOf IgxCarouselComponent\n    */\n    @ContentChildren(IgxSlideComponent)\n    public slides: QueryList<IgxSlideComponent>;\n\n    /**\n     * An event that is emitted after a slide transition has happened.\n     * Provides references to the `IgxCarouselComponent` and `IgxSlideComponent` as event arguments.\n     * ```html\n     * <igx-carousel (onSlideChanged)=\"onSlideChanged($event)\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Output() public onSlideChanged = new EventEmitter<ISlideEventArgs>();\n\n    /**\n     * An event that is emitted after a slide has been added to the carousel.\n     * Provides references to the `IgxCarouselComponent` and `IgxSlideComponent` as event arguments.\n     * ```html\n     * <igx-carousel (onSlideAdded)=\"onSlideAdded($event)\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Output() public onSlideAdded = new EventEmitter<ISlideEventArgs>();\n\n    /**\n     * An event that is emitted after a slide has been removed from the carousel.\n     * Provides references to the `IgxCarouselComponent` and `IgxSlideComponent` as event arguments.\n     * ```html\n     * <igx-carousel (onSlideRemoved)=\"onSlideRemoved($event)\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Output() public onSlideRemoved = new EventEmitter<ISlideEventArgs>();\n\n    /**\n     * An event that is emitted after the carousel has been paused.\n     * Provides a reference to the `IgxCarouselComponent` as an event argument.\n     * ```html\n     * <igx-carousel (onCarouselPaused)=\"onCarouselPaused($event)\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Output() public onCarouselPaused = new EventEmitter<IgxCarouselComponent>();\n\n    /**\n     * An event that is emitted after the carousel has resumed transitioning between `slides`.\n     * Provides a reference to the `IgxCarouselComponent` as an event argument.\n     * ```html\n     * <igx-carousel (onCarouselPlaying)=\"onCarouselPlaying($event)\"></igx-carousel>\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    @Output() public onCarouselPlaying = new EventEmitter<IgxCarouselComponent>();\n\n    private _interval: number;\n    private _resourceStrings = CurrentResourceStrings.CarouselResStrings;\n    private lastInterval: any;\n    private playing: boolean;\n    private stoppedByInteraction: boolean;\n    private destroyed: boolean;\n    private destroy$ = new Subject<any>();\n    private differ: IterableDiffer<IgxSlideComponent> | null = null;\n    private enterAnimationPlayer?: AnimationPlayer;\n    private leaveAnimationPlayer?: AnimationPlayer;\n    private currentSlide: IgxSlideComponent;\n    private previousSlide: IgxSlideComponent;\n    private animationDuration = 320;\n    private incomingSlide: IgxSlideComponent;\n    private animationPosition = 0;\n    private newDuration = 0;\n\n    constructor(private element: ElementRef, private iterableDiffers: IterableDiffers,\n            private builder: AnimationBuilder, private platformUtil: PlatformUtil) {\n        this.differ = this.iterableDiffers.find([]).create(null);\n    }\n\n    /** @hidden */\n    public ngAfterContentInit() {\n        this.slides.changes\n            .pipe(takeUntil(this.destroy$))\n            .subscribe((change: QueryList<IgxSlideComponent>) => { this.initSlides(change); });\n\n        this.initSlides(this.slides);\n    }\n\n    /** @hidden */\n    public ngOnDestroy() {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n        this.destroyed = true;\n        if (this.lastInterval) {\n            clearInterval(this.lastInterval);\n        }\n    }\n\n    private unsubscriber(slide: IgxSlideComponent) {\n        return merge(this.destroy$, slide.isDestroyed);\n    }\n\n    private onSlideActivated(slide: IgxSlideComponent) {\n        if (slide.active && slide !== this.currentSlide) {\n            if (slide.direction === Direction.NONE) {\n                const newIndex = slide.index;\n                slide.direction = newIndex > this.current ? Direction.NEXT : Direction.PREV;\n            }\n\n            if (this.currentSlide) {\n                const animationWasStarted = this.finishAnimations();\n                this.currentSlide.direction = slide.direction;\n                this.currentSlide.active = false;\n\n                this.previousSlide = this.currentSlide;\n                this.currentSlide = slide;\n                if (this.animationType !== CarouselAnimationType.none) {\n                    if (animationWasStarted) {\n                        requestAnimationFrame(() => {\n                            this.playAnimations();\n                        });\n                    } else {\n                        this.playAnimations();\n                    }\n                }\n            } else {\n                this.currentSlide = slide;\n            }\n            this.onSlideChanged.emit({ carousel: this, slide });\n            this.restartInterval();\n        }\n    }\n\n    private playAnimations() {\n        this.playLeaveAnimation();\n        this.playEnterAnimation();\n    }\n\n    private finishAnimations(): boolean {\n        let animationWasStarted = false;\n        if (this.previousSlide && this.previousSlide.previous) {\n            this.previousSlide.previous = false;\n        }\n        if (this.leaveAnimationPlayer) {\n            animationWasStarted = true;\n            this.leaveAnimationPlayer.finish();\n        }\n        if (this.enterAnimationPlayer) {\n            animationWasStarted = true;\n            this.enterAnimationPlayer.finish();\n        }\n        return animationWasStarted;\n    }\n\n    private getAnimation(): CarouselAnimationSettings {\n        let duration;\n        if (this.newDuration) {\n            duration = this.animationPosition ? this.animationPosition * this.newDuration : this.newDuration;\n        } else {\n            duration = this.animationPosition ? this.animationPosition * this.animationDuration : this.animationDuration;\n        }\n\n        switch (this.animationType) {\n            case CarouselAnimationType.slide:\n                const trans = this.animationPosition ? this.animationPosition * 100 : 100;\n                return {\n                    enterAnimation: useAnimation(slideInLeft,\n                        {\n                            params: {\n                                delay: '0s',\n                                duration: `${duration}ms`,\n                                endOpacity: 1,\n                                startOpacity: 1,\n                                fromPosition: `translateX(${this.currentSlide.direction === 1 ? trans : -trans}%)`,\n                                toPosition: 'translateX(0%)'\n                            }\n                        }),\n                    leaveAnimation: useAnimation(slideInLeft,\n                        {\n                            params: {\n                                delay: '0s',\n                                duration: `${duration}ms`,\n                                endOpacity: 1,\n                                startOpacity: 1,\n                                fromPosition: `translateX(0%)`,\n                                toPosition: `translateX(${this.currentSlide.direction === 1 ? -trans : trans}%)`,\n                            }\n                        })\n                };\n            case CarouselAnimationType.fade:\n                return {\n                    enterAnimation: useAnimation(fadeIn,\n                        { params: { duration: `${duration}ms`, startOpacity: `${this.animationPosition}` } }),\n                    leaveAnimation: null\n                };\n        }\n        return {\n            enterAnimation: null,\n            leaveAnimation: null\n        };\n    }\n\n    private playEnterAnimation() {\n        if (!this.getAnimation().enterAnimation) {\n            return;\n        }\n        const animationBuilder = this.builder.build(this.getAnimation().enterAnimation);\n\n        this.enterAnimationPlayer = animationBuilder.create(this.currentSlide.nativeElement);\n\n        this.enterAnimationPlayer.onDone(() => {\n            if (this.enterAnimationPlayer) {\n                this.enterAnimationPlayer.reset();\n                this.enterAnimationPlayer = null;\n            }\n            this.animationPosition = 0;\n            this.newDuration = 0;\n            this.previousSlide.previous = false;\n        });\n        this.previousSlide.previous = true;\n        this.enterAnimationPlayer.play();\n    }\n\n    private playLeaveAnimation() {\n        if (!this.getAnimation().leaveAnimation) {\n            return;\n        }\n\n        const animationBuilder = this.builder.build(this.getAnimation().leaveAnimation);\n        this.leaveAnimationPlayer = animationBuilder.create(this.previousSlide.nativeElement);\n\n        this.leaveAnimationPlayer.onDone(() => {\n            if (this.leaveAnimationPlayer) {\n                this.leaveAnimationPlayer.reset();\n                this.leaveAnimationPlayer = null;\n            }\n            this.animationPosition = 0;\n            this.newDuration = 0;\n        });\n        this.leaveAnimationPlayer.play();\n    }\n\n    private initSlides(change: QueryList<IgxSlideComponent>) {\n        const diff = this.differ.diff(change.toArray());\n        if (diff) {\n            this.slides.reduce((any, c, ind) => c.index = ind, 0); // reset slides indexes\n            diff.forEachAddedItem((record: IterableChangeRecord<IgxSlideComponent>) => {\n                const slide = record.item;\n                this.onSlideAdded.emit({ carousel: this, slide });\n                if (slide.active) {\n                    this.currentSlide = slide;\n                }\n                slide.activeChange.pipe(takeUntil(this.unsubscriber(slide))).subscribe(() => this.onSlideActivated(slide));\n            });\n\n            diff.forEachRemovedItem((record: IterableChangeRecord<IgxSlideComponent>) => {\n                const slide = record.item;\n                this.onSlideRemoved.emit({ carousel: this, slide });\n                if (slide.active) {\n                    slide.active = false;\n                    this.currentSlide = this.get(slide.index < this.total ? slide.index : this.total - 1);\n                }\n            });\n\n            this.updateSlidesSelection();\n        }\n    }\n\n    private updateSlidesSelection() {\n        requestAnimationFrame(() => {\n            if (this.currentSlide) {\n                this.currentSlide.active = true;\n                const activeSlides = this.slides.filter(slide => slide.active && slide.index !== this.currentSlide.index);\n                activeSlides.forEach(slide => { slide.active = false; });\n            } else if (this.total) {\n                this.slides.first.active = true;\n            }\n            this.play();\n        });\n    }\n\n    /** @hidden */\n    public get getIndicatorTemplate(): TemplateRef<any> {\n        if (this.indicatorTemplate) {\n            return this.indicatorTemplate;\n        }\n        return this.defaultIndicator;\n    }\n\n    /** @hidden */\n    public get getNextButtonTemplate(): TemplateRef<any> {\n        if (this.nextButtonTemplate) {\n            return this.nextButtonTemplate;\n        }\n        return this.defaultNextButton;\n    }\n\n    /** @hidden */\n    public get getPrevButtonTemplate(): TemplateRef<any> {\n        if (this.prevButtonTemplate) {\n            return this.prevButtonTemplate;\n        }\n        return this.defaultPrevButton;\n    }\n\n    /** @hidden */\n    public setAriaLabel(slide) {\n        return `Item ${slide.index + 1} of ${this.total}`;\n    }\n\n    /** @hidden */\n    public get indicatorsOrientationClass() {\n        return `igx-carousel-indicators--${this.indicatorsOrientation}`;\n    }\n\n    /** @hidden */\n    public get showIndicators(): boolean {\n        return this.total <= this.maximumIndicatorsCount && this.total > 0;\n    }\n\n    /** @hidden */\n    public get showIndicatorsLabel(): boolean {\n        return this.total > this.maximumIndicatorsCount;\n    }\n\n    /** @hidden */\n    public get getCarouselLabel() {\n        return `${this.current + 1} ${this.resourceStrings.igx_carousel_of} ${this.total}`;\n    }\n\n    /**\n     * Returns the total number of `slides` in the carousel.\n     * ```typescript\n     * let slideCount =  this.carousel.total;\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public get total(): number {\n        return this.slides.length;\n    }\n\n    /**\n     * The index of the slide being currently shown.\n     * ```typescript\n     * let currentSlideNumber =  this.carousel.current;\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public get current(): number {\n        return !this.currentSlide ? 0 : this.currentSlide.index;\n    }\n\n    private getNextIndex(): number {\n        return (this.current + 1) % this.total;\n    }\n\n    private getPrevIndex(): number {\n        return this.current - 1 < 0 ? this.total - 1 : this.current - 1;\n    }\n\n    /**\n     * Returns a boolean indicating if the carousel is playing.\n     * ```typescript\n     * let isPlaying =  this.carousel.isPlaying;\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public get isPlaying(): boolean {\n        return this.playing;\n    }\n\n    /**\n     * Returns  boolean indicating if the carousel is destroyed.\n     * ```typescript\n     * let isDestroyed =  this.carousel.isDestroyed;\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public get isDestroyed(): boolean {\n        return this.destroyed;\n    }\n    /**\n     * Returns a reference to the carousel element in the DOM.\n     * ```typescript\n     * let nativeElement =  this.carousel.nativeElement;\n     * ```\n     * @memberof IgxCarouselComponent\n     */\n    get nativeElement(): any {\n        return this.element.nativeElement;\n    }\n\n    /**\n     * Returns the slide corresponding to the provided `index` or null.\n     * ```typescript\n     * let slide1 =  this.carousel.get(1);\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public get(index: number): IgxSlideComponent {\n        return this.slides.find((slide) => slide.index === index);\n    }\n\n    /**\n     * Adds a new slide to the carousel.\n     * ```typescript\n     * this.carousel.add(newSlide);\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public add(slide: IgxSlideComponent) {\n        const newSlides = this.slides.toArray();\n        newSlides.push(slide);\n        this.slides.reset(newSlides);\n        this.slides.notifyOnChanges();\n    }\n\n    /**\n     * Removes a slide from the carousel.\n     * ```typescript\n     * this.carousel.remove(slide);\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public remove(slide: IgxSlideComponent) {\n        if (slide && slide === this.get(slide.index)) { // check if the requested slide for delete is present in the carousel\n            const newSlides = this.slides.toArray();\n            newSlides.splice(slide.index, 1);\n            this.slides.reset(newSlides);\n            this.slides.notifyOnChanges();\n        }\n    }\n\n    /**\n     * Kicks in a transition for a given slide with a given `direction`.\n     * ```typescript\n     * this.carousel.select(this.carousel.get(2), Direction.NEXT);\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public select(slide: IgxSlideComponent, direction: Direction = Direction.NONE) {\n        if (slide && slide !== this.currentSlide) {\n            slide.direction = direction;\n            slide.active = true;\n        }\n    }\n\n    /**\n     * Transitions to the next slide in the carousel.\n     * ```typescript\n     * this.carousel.next();\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public next() {\n        const index = this.getNextIndex();\n\n        if (index === 0 && !this.loop) {\n            this.stop();\n            return;\n        }\n        return this.select(this.get(index), Direction.NEXT);\n    }\n\n    /**\n     * Transitions to the previous slide in the carousel.\n     * ```typescript\n     * this.carousel.prev();\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public prev() {\n        const index = this.getPrevIndex();\n\n        if (!this.loop && index === this.total - 1) {\n            this.stop();\n            return;\n        }\n        return this.select(this.get(index), Direction.PREV);\n    }\n\n    /**\n     * Resumes playing of the carousel if in paused state.\n     * No operation otherwise.\n     * ```typescript\n     * this.carousel.play();\n     * }\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public play() {\n        if (!this.playing) {\n            this.playing = true;\n            this.onCarouselPlaying.emit(this);\n            this.restartInterval();\n            this.stoppedByInteraction = false;\n        }\n    }\n\n    /**\n     * Stops slide transitions if the `pause` option is set to `true`.\n     * No operation otherwise.\n     * ```typescript\n     *  this.carousel.stop();\n     * }\n     * ```\n     * @memberOf IgxCarouselComponent\n     */\n    public stop() {\n        if (this.pause) {\n            this.playing = false;\n            this.onCarouselPaused.emit(this);\n            this.resetInterval();\n        }\n    }\n\n    private resetInterval() {\n        if (this.lastInterval) {\n            clearInterval(this.lastInterval);\n            this.lastInterval = null;\n        }\n    }\n\n    private restartInterval() {\n        this.resetInterval();\n\n        if (!isNaN(this.interval) && this.interval > 0 && this.platformUtil.isBrowser) {\n            this.lastInterval = setInterval(() => {\n                const tick = +this.interval;\n                if (this.playing && this.total && !isNaN(tick) && tick > 0) {\n                    this.next();\n                } else {\n                    this.stop();\n                }\n            }, this.interval);\n        }\n    }\n\n    /** @hidden */\n    public get nextButtonDisabled() {\n        return !this.loop && this.current === (this.total - 1);\n    }\n\n    /** @hidden */\n    public get prevButtonDisabled() {\n        return !this.loop && this.current === 0;\n    }\n\n    /** @hidden */\n    @HostListener('keydown.arrowright', ['$event'])\n    public onKeydownArrowRight(event) {\n        if (this.keyboardSupport) {\n            event.preventDefault();\n            this.next();\n            requestAnimationFrame(() => this.nativeElement.focus());\n        }\n    }\n\n    /** @hidden */\n    @HostListener('keydown.arrowleft', ['$event'])\n    public onKeydownArrowLeft(event) {\n        if (this.keyboardSupport) {\n            event.preventDefault();\n            this.prev();\n            requestAnimationFrame(() => this.nativeElement.focus());\n        }\n    }\n\n    /** @hidden */\n    @HostListener('tap', ['$event'])\n    public onTap(event) {\n        // play pause only when tap on slide\n        if (event.target && event.target.classList.contains('igx-slide')) {\n            if (this.isPlaying) {\n                if (this.pause) {\n                    this.stoppedByInteraction = true;\n                }\n                this.stop();\n            } else if (this.stoppedByInteraction) {\n                this.play();\n            }\n        }\n    }\n\n    /** @hidden */\n    @HostListener('keydown.home', ['$event'])\n    public onKeydownHome(event) {\n        if (this.keyboardSupport && this.slides.length > 0) {\n            event.preventDefault();\n            this.slides.first.active = true;\n            requestAnimationFrame(() => this.nativeElement.focus());\n        }\n    }\n\n    /** @hidden */\n    @HostListener('keydown.end', ['$event'])\n    public onKeydownEnd(event) {\n        if (this.keyboardSupport && this.slides.length > 0) {\n            event.preventDefault();\n            this.slides.last.active = true;\n            requestAnimationFrame(() => this.nativeElement.focus());\n        }\n    }\n\n    /** @hidden */\n    @HostListener('mouseenter')\n    public onMouseEnter() {\n        if (this.pause && this.isPlaying) {\n            this.stoppedByInteraction = true;\n        }\n        this.stop();\n    }\n\n    /** @hidden */\n    @HostListener('mouseleave')\n    public onMouseLeave() {\n        if (this.stoppedByInteraction) {\n            this.play();\n        }\n    }\n\n    /** @hidden */\n    @HostListener('panleft', ['$event'])\n    public onPanLeft(event) {\n        this.pan(event);\n    }\n\n    /** @hidden */\n    @HostListener('panright', ['$event'])\n    public onPanRight(event) {\n        this.pan(event);\n    }\n\n    private resetSlideStyles(slide: IgxSlideComponent) {\n        slide.nativeElement.style.transform = '';\n        slide.nativeElement.style.opacity = '';\n    }\n\n    private pan(event) {\n        const slideWidth = this.currentSlide.nativeElement.offsetWidth;\n        const panOffset = (slideWidth / 1000);\n        const deltaX = event.deltaX;\n        const index = deltaX < 0 ? this.getNextIndex() : this.getPrevIndex();\n        const offset = deltaX < 0 ? slideWidth + deltaX : -slideWidth + deltaX;\n\n        if (!this.gesturesSupport || event.isFinal || Math.abs(deltaX) + panOffset >= slideWidth) {\n            return;\n        }\n\n        if (!this.loop && ((this.current === 0 && deltaX > 0) || (this.current === this.total - 1 && deltaX < 0))) {\n            this.incomingSlide = null;\n            return;\n        }\n\n        event.preventDefault();\n        if (this.isPlaying) {\n            this.stoppedByInteraction = true;\n            this.stop();\n        }\n        this.finishAnimations();\n\n        if (this.incomingSlide) {\n            if (index !== this.incomingSlide.index) {\n                this.resetSlideStyles(this.incomingSlide);\n                this.incomingSlide.previous = false;\n                this.incomingSlide = this.get(index);\n            }\n        } else {\n            this.incomingSlide = this.get(index);\n        }\n        this.incomingSlide.previous = true;\n\n        if (this.animationType === CarouselAnimationType.fade) {\n            this.currentSlide.nativeElement.style.opacity = `${Math.abs(offset) / slideWidth}`;\n        } else {\n            this.currentSlide.nativeElement.style.transform = `translateX(${deltaX}px)`;\n            this.incomingSlide.nativeElement.style.transform = `translateX(${offset}px)`;\n        }\n    }\n\n    /**\n    * @hidden\n    */\n    @HostListener('panend', ['$event'])\n    public onPanEnd(event) {\n        if (!this.gesturesSupport) {\n            return;\n        }\n        event.preventDefault();\n\n        const slideWidth = this.currentSlide.nativeElement.offsetWidth;\n        const panOffset = (slideWidth / 1000);\n        const deltaX = Math.abs(event.deltaX) + panOffset < slideWidth ? Math.abs(event.deltaX) : slideWidth - panOffset;\n        const velocity = Math.abs(event.velocity);\n        this.resetSlideStyles(this.currentSlide);\n        if (this.incomingSlide) {\n            this.resetSlideStyles(this.incomingSlide);\n            if (slideWidth / 2 < deltaX || velocity > 1) {\n                this.incomingSlide.direction = event.deltaX < 0 ? Direction.NEXT : Direction.PREV;\n                this.incomingSlide.previous = false;\n\n                this.animationPosition = this.animationType === CarouselAnimationType.fade ?\n                    deltaX / slideWidth : (slideWidth - deltaX) / slideWidth;\n\n                if (velocity > 1) {\n                    this.newDuration = this.animationDuration / velocity;\n                }\n                this.incomingSlide.active = true;\n            } else {\n                this.currentSlide.direction = event.deltaX > 0 ? Direction.NEXT : Direction.PREV;\n                this.previousSlide = this.incomingSlide;\n                this.previousSlide.previous = true;\n                this.animationPosition = this.animationType === CarouselAnimationType.fade ?\n                    Math.abs((slideWidth - deltaX) / slideWidth) : deltaX / slideWidth;\n                this.playAnimations();\n            }\n        }\n\n        if (this.stoppedByInteraction) {\n            this.play();\n        }\n    }\n}\n\nexport interface ISlideEventArgs extends IBaseEventArgs {\n    carousel: IgxCarouselComponent;\n    slide: IgxSlideComponent;\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxCarouselComponent,\n        IgxSlideComponent,\n        IgxCarouselIndicatorDirective,\n        IgxCarouselNextButtonDirective,\n        IgxCarouselPrevButtonDirective\n    ],\n    exports: [\n        IgxCarouselComponent,\n        IgxSlideComponent,\n        IgxCarouselIndicatorDirective,\n        IgxCarouselNextButtonDirective,\n        IgxCarouselPrevButtonDirective\n    ],\n    imports: [CommonModule, IgxIconModule]\n})\nexport class IgxCarouselModule {\n}\n","import {\n    Component,\n    Directive,\n    EventEmitter,\n    forwardRef,\n    HostBinding,\n    Input,\n    NgModule,\n    Output,\n    Provider,\n    ViewChild,\n    ElementRef\n} from '@angular/core';\nimport { CheckboxRequiredValidator, ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { isIE, IBaseEventArgs } from '../core/utils';\nimport { EditorProvider } from '../core/edit-provider';\n\nexport enum LabelPosition {\n    BEFORE = 'before',\n    AFTER = 'after'\n}\n\nexport interface IChangeCheckboxEventArgs extends IBaseEventArgs {\n    checked: boolean;\n    checkbox: IgxCheckboxComponent;\n}\n\nconst noop = () => { };\nlet nextId = 0;\n/**\n * Allows users to make a binary choice for a certain condition.\n *\n * @igxModule IgxCheckboxModule\n *\n * @igxTheme igx-checkbox-theme\n *\n * @igxKeywords checkbox, label\n *\n * @igxGroup Data entry and display\n *\n * @remarks\n * The Ignite UI Checkbox is a selection control that allows users to make a binary choice for a certain condition.It behaves similarly\n * to the native browser checkbox.\n *\n * @example\n * ```html\n * <igx-checkbox checked=\"true\">\n *   simple checkbox\n * </igx-checkbox>\n * ```\n */\n@Component({\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxCheckboxComponent, multi: true }],\n    selector: 'igx-checkbox',\n    preserveWhitespaces: false,\n    templateUrl: 'checkbox.component.html'\n})\nexport class IgxCheckboxComponent implements ControlValueAccessor, EditorProvider {\n    /**\n     *@hidden\n     */\n    protected _value: any;\n    /**\n     * Returns reference to the native checkbox element.\n     *\n     * @example\n     * ```typescript\n     * let checkboxElement =  this.checkbox.checkboxElement;\n     * ```\n     */\n    @ViewChild('checkbox', { static: true }) public nativeCheckbox: ElementRef;\n    /**\n     * Returns reference to the native label element.\n     * ```typescript\n     *\n     * @example\n     * let labelElement =  this.checkbox.nativeLabel;\n     * ```\n     */\n    @ViewChild('label', { static: true }) public nativeLabel;\n    /**\n     * Returns reference to the label placeholder element.\n     * ```typescript\n     *\n     * @example\n     * let labelPlaceholder =  this.checkbox.placeholderLabel;\n     * ```\n     */\n    @ViewChild('placeholderLabel', { static: true }) public placeholderLabel;\n    /**\n     * Sets/gets the `id` of the checkbox component.\n     * If not set, the `id` of the first checkbox component will be `\"igx-checkbox-0\"`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox id=\"my-first-checkbox\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let checkboxId =  this.checkbox.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input() public id = `igx-checkbox-${nextId++}`;\n    /**\n     * Sets/gets the id of the `label` element.\n     * If not set, the id of the `label` in the first checkbox component will be `\"igx-checkbox-0-label\"`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox labelId = \"Label1\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let labelId =  this.checkbox.labelId;\n     * ```\n     */\n    @Input() public labelId = `${this.id}-label`;\n    /**\n     * Sets/gets the `value` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [value] = \"'CheckboxValue'\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let value =  this.checkbox.value;\n     * ```\n     */\n    @Input() public value: any;\n    /**\n     * Sets/gets the `name` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox name = \"Checkbox1\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let name =  this.checkbox.name;\n     * ```\n     */\n    @Input() public name: string;\n    /**\n     * Sets/gets the value of the `tabindex` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [tabindex] = \"1\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let tabIndex =  this.checkbox.tabindex;\n     * ```\n     */\n    @Input() public tabindex: number = null;\n    /**\n     *  Sets/gets the position of the `label`.\n     *  If not set, the `labelPosition` will have value `\"after\"`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox labelPosition = \"before\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let labelPosition =  this.checkbox.labelPosition;\n     * ```\n     */\n    @Input() public labelPosition: LabelPosition | string = LabelPosition.AFTER;\n    /**\n     * Enables/Disables the ripple effect.\n     * If not set, `disableRipple` will have value `false`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [disableRipple] = \"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let isRippleDisabled = this.checkbox.desableRipple;\n     * ```\n     */\n    @Input() public disableRipple = false;\n    /**\n     * Sets/gets whether the checkbox is required.\n     * If not set, `required` will have value `false`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [required] = \"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let isRequired =  this.checkbox.required;\n     * ```\n     */\n    @Input() public required = false;\n    /**\n     * Sets/gets the `aria-labelledby` attribute.\n     * If not set, the `aria-labelledby` will be equal to the value of `labelId` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox aria-labelledby = \"Checkbox1\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let ariaLabelledBy =  this.checkbox.ariaLabelledBy;\n     * ```\n     */\n    @Input('aria-labelledby')\n    public ariaLabelledBy = this.labelId;\n    /**\n     * Sets/gets the value of the `aria-label` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox aria-label = \"Checkbox1\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let ariaLabel = this.checkbox.ariaLabel;\n     * ```\n     */\n    @Input('aria-label')\n    public ariaLabel: string | null = null;\n    /**\n     * An event that is emitted after the checkbox state is changed.\n     * Provides references to the `IgxCheckboxComponent` and the `checked` property as event arguments.\n     */\n    @Output()\n    readonly change: EventEmitter<IChangeCheckboxEventArgs> = new EventEmitter<IChangeCheckboxEventArgs>();\n    /**\n     * Returns the class of the checkbox component.\n     *\n     * @example\n     * ```typescript\n     * let class =  this.checkbox.cssClass;\n     * ```\n     */\n    @HostBinding('class.igx-checkbox')\n    public cssClass = 'igx-checkbox';\n    /**\n     * Sets/gets whether the checkbox component is on focus.\n     * Default value is `false`.\n     *\n     * @example\n     * ```typescript\n     * this.checkbox.focused =  true;\n     * ```\n     * ```typescript\n     * let isFocused =  this.checkbox.focused;\n     * ```\n     */\n    @HostBinding('class.igx-checkbox--focused')\n    public focused = false;\n    /**\n     * Sets/gets the checkbox indeterminate visual state.\n     * Default value is `false`;\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [indeterminate] = \"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let isIndeterminate = this.checkbox.indeterminate;\n     * ```\n     */\n    @HostBinding('class.igx-checkbox--indeterminate')\n    @Input() public indeterminate = false;\n    /**\n     * Sets/gets whether the checkbox is checked.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [checked] = \"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let isChecked =  this.checkbox.checked;\n     * ```\n     */\n    @HostBinding('class.igx-checkbox--checked')\n    @Input() public checked = false;\n    /**\n     * Sets/gets whether the checkbox is disabled.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [disabled] = \"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let isDisabled = this.checkbox.disabled;\n     * ```\n     */\n    @HostBinding('class.igx-checkbox--disabled')\n    @Input() public disabled = false;\n    /**\n     * Sets/gets whether the checkbox is readonly.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [readonly]=\"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let readonly = this.checkbox.readonly;\n     * ```\n     */\n    @Input() public readonly = false;\n    /**\n     * Sets/gets whether the checkbox should disable all css transitions.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-checkbox [disableTransitions]=\"true\"></igx-checkbox>\n     * ```\n     * ```typescript\n     * let disableTransitions = this.checkbox.disableTransitions;\n     * ```\n     */\n    @HostBinding('class.igx-checkbox--plain')\n    @Input() public disableTransitions = false;\n    /** @hidden @internal */\n    public inputId = `${this.id}-input`;\n    /**\n     *@hidden\n     */\n    private _onTouchedCallback: () => void = noop;\n    /**\n     * @hidden\n     */\n    private _onChangeCallback: (_: any) => void = noop;\n    /**\n     * If `disabled` is `false`, switches the `checked` state.\n     *\n     * @example\n     * ```typescript\n     * this.checkbox.toggle();\n     * ```\n     */\n    public toggle() {\n        if (this.disabled || this.readonly) {\n            return;\n        }\n\n        this.indeterminate = false;\n        this.focused = false;\n        this.checked = !this.checked;\n\n        this.change.emit({ checked: this.checked, checkbox: this });\n        this._onChangeCallback(this.checked);\n    }\n    /** @hidden @internal */\n    public _onCheckboxChange(event) {\n        // We have to stop the original checkbox change event\n        // from bubbling up since we emit our own change event\n        event.stopPropagation();\n    }\n    /** @hidden @internal */\n    public _onCheckboxClick(event) {\n        // Since the original checkbox is hidden and the label\n        // is used for styling and to change the checked state of the checkbox,\n        // we need to prevent the checkbox click event from bubbling up\n        // as it gets triggered on label click\n        event.stopPropagation();\n\n        if (this.readonly) {\n            // readonly prevents the component from changing state (see toggle() method).\n            // However, the native checkbox can still be activated through user interaction (focus + space, label click)\n            // Prevent the native change so the input remains in sync\n            event.preventDefault();\n        }\n\n        if (isIE()) {\n            this.nativeCheckbox.nativeElement.blur();\n        }\n\n        this.toggle();\n    }\n    /** @hidden @internal */\n    public _onLabelClick(event) {\n        // We use a span element as a placeholder label\n        // in place of the native label, we need to emit\n        // the change event separately here alongside\n        // the click event emitted on click\n        this.toggle();\n    }\n    /** @hidden @internal */\n    public onFocus(event) {\n        this.focused = true;\n    }\n    /** @hidden @internal */\n    public onBlur(event) {\n        this.focused = false;\n        this._onTouchedCallback();\n    }\n    /** @hidden @internal */\n    public writeValue(value) {\n        this._value = value;\n        this.checked = !!this._value;\n    }\n    /** @hidden @internal */\n    public get labelClass(): string {\n        switch (this.labelPosition) {\n            case LabelPosition.BEFORE:\n                return `${this.cssClass}__label--before`;\n            case LabelPosition.AFTER:\n            default:\n                return `${this.cssClass}__label`;\n        }\n    }\n    /** @hidden @internal */\n    public registerOnChange(fn: (_: any) => void) { this._onChangeCallback = fn; }\n    /** @hidden @internal */\n    public registerOnTouched(fn: () => void) { this._onTouchedCallback = fn; }\n\n    /** @hidden @internal */\n    public getEditElement() {\n        return this.nativeCheckbox.nativeElement;\n    }\n}\n\nexport const IGX_CHECKBOX_REQUIRED_VALIDATOR: Provider = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => IgxCheckboxRequiredDirective),\n    multi: true\n};\n\n/* tslint:disable directive-selector */\n@Directive({\n    selector: `igx-checkbox[required][formControlName],\n    igx-checkbox[required][formControl],\n    igx-checkbox[required][ngModel]`,\n    providers: [IGX_CHECKBOX_REQUIRED_VALIDATOR]\n})\nexport class IgxCheckboxRequiredDirective extends CheckboxRequiredValidator { }\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxCheckboxComponent, IgxCheckboxRequiredDirective],\n    exports: [IgxCheckboxComponent, IgxCheckboxRequiredDirective],\n    imports: [IgxRippleModule]\n})\nexport class IgxCheckboxModule { }\n","import {\n    Component,\n    ChangeDetectorRef,\n    EventEmitter,\n    ElementRef,\n    HostBinding,\n    Input,\n    Output,\n    ViewChild,\n    Renderer2,\n    TemplateRef,\n    Inject,\n    Optional\n} from '@angular/core';\nimport { IDisplayDensityOptions, DisplayDensityToken, DisplayDensityBase } from '../core/displayDensity';\nimport {\n    IgxDragDirective,\n    IDragBaseEventArgs,\n    IDragStartEventArgs,\n    IDropBaseEventArgs,\n    IDropDroppedEventArgs\n} from '../directives/drag-drop/drag-drop.directive';\nimport { IBaseEventArgs } from '../core/utils';\nimport { fromEvent } from 'rxjs';\nimport { take, filter } from 'rxjs/operators';\n\n\nexport interface IBaseChipEventArgs extends IBaseEventArgs {\n    originalEvent: IDragBaseEventArgs | IDropBaseEventArgs | KeyboardEvent | MouseEvent | TouchEvent;\n    owner: IgxChipComponent;\n}\n\nexport interface IChipClickEventArgs extends IBaseChipEventArgs {\n    cancel: boolean;\n}\n\nexport interface IChipKeyDownEventArgs extends IBaseChipEventArgs {\n    originalEvent: KeyboardEvent;\n    cancel: boolean;\n}\n\nexport interface IChipEnterDragAreaEventArgs extends IBaseChipEventArgs {\n    dragChip: IgxChipComponent;\n}\n\nexport interface IChipSelectEventArgs extends IBaseChipEventArgs {\n    cancel: boolean;\n    selected: boolean;\n}\n\nlet CHIP_ID = 0;\n\n/**\n * Chip is compact visual component that displays information in an obround.\n *\n * @igxModule IgxChipsModule\n *\n * @igxTheme igx-chip-theme\n *\n * @igxKeywords chip\n *\n * @igxGroup display\n *\n * @remarks\n * The Ignite UI Chip can be templated, deleted, and selected.\n * Multiple chips can be reordered and visually connected to each other.\n * Chips reside in a container called chips area which is responsible for managing the interactions between the chips.\n *\n * @example\n * ```html\n * <igx-chip class=\"chipStyle\" [id]=\"901\" [draggable]=\"true\" [removable]=\"true\" (onRemove)=\"chipRemoved($event)\">\n *    <igx-avatar class=\"chip-avatar-resized\" igxPrefix fontSet=\"material\" roundShape=\"true\"></igx-avatar>\n * </igx-chip>\n * ```\n */\n@Component({\n    selector: 'igx-chip',\n    templateUrl: 'chip.component.html'\n})\nexport class IgxChipComponent extends DisplayDensityBase {\n\n    /**\n     * An @Input property that sets the value of `id` attribute. If not provided it will be automatically generated.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"'igx-chip-1'\"></igx-chip>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-chip-${CHIP_ID++}`;\n\n    /**\n     * An @Input property that stores data related to the chip.\n     * @example\n     * ```html\n     * <igx-chip [data]=\"{ value: 'Country' }\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public data: any;\n\n    /**\n     * An @Input property that defines if the `IgxChipComponent` can be dragged in order to change it's position.\n     * By default it is set to false.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"'igx-chip-1'\" [draggable]=\"true\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public draggable = false;\n\n        /**\n     * An @Input property that enables/disables the draggable element animation when the element is released.\n     * By default it's set to true.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"'igx-chip-1'\" [draggable]=\"true\" [animateOnRelease]=\"false\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public animateOnRelease = true;\n\n    /**\n     * An @Input property that enables/disables the hiding of the base element that has been dragged.\n     * By default it's set to true.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"'igx-chip-1'\" [draggable]=\"true\" [hideBaseOnDrag]=\"false\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public hideBaseOnDrag = true;\n\n    /**\n     * An @Input property that defines if the `IgxChipComponent` should render remove button and throw remove events.\n     * By default it is set to false.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"'igx-chip-1'\" [draggable]=\"true\" [removable]=\"true\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public removable = false;\n\n    /**\n     * An @Input property that overrides the default icon that the chip applies to the remove button.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"chip.id\" [removable]=\"true\" [removeIcon]=\"iconTemplate\"></igx-chip>\n     * <ng-template #iconTemplate><igx-icon>delete</igx-icon></ng-template>\n     * ```\n     */\n    @Input()\n    public removeIcon: TemplateRef<any>;\n\n    /**\n     * An @Input property that defines if the `IgxChipComponent` can be selected on click or through navigation,\n     * By default it is set to false.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"chip.id\" [draggable]=\"true\" [removable]=\"true\" [selectable]=\"true\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public selectable = false;\n\n    /**\n     * An @Input property that overrides the default icon that the chip applies when it is selected.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"chip.id\" [selectable]=\"true\" [selectIcon]=\"iconTemplate\"></igx-chip>\n     * <ng-template #iconTemplate><igx-icon>done_outline</igx-icon></ng-template>\n     * ```\n     */\n    @Input()\n    public selectIcon: TemplateRef<any>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @Input()\n    public class = '';\n\n    /**\n     * An @Input property that defines if the `IgxChipComponent` is disabled. When disabled it restricts user interactions\n     * like focusing on click or tab, selection on click or Space, dragging.\n     * By default it is set to false.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"chip.id\" [disabled]=\"true\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public disabled = false;\n\n    /**\n     * Sets the `IgxChipComponent` selected state.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [selectable]=\"true\" [selected]=\"true\">\n     * ```\n     *\n     * Two-way data binding:\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [selectable]=\"true\" [(selected)]=\"model.isSelected\">\n     * ```\n     */\n    @Input()\n    public set selected(newValue: boolean) {\n        this.changeSelection(newValue);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @Output()\n    public selectedChange = new EventEmitter<boolean>();\n\n    /**\n     * Returns if the `IgxChipComponent` is selected.\n     * @example\n     * ```typescript\n     * @ViewChild('myChip')\n     * public chip: IgxChipComponent;\n     * selectedChip(){\n     *     let selectedChip = this.chip.selected;\n     * }\n     * ```\n     */\n    public get selected() {\n        return this._selected;\n    }\n\n    /**\n     * An @Input property that sets the `IgxChipComponent` background color.\n     * The `color` property supports string, rgb, hex.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [color]=\"'#ff0000'\"></igx-chip>\n     * ```\n     */\n    @Input()\n    public set color(newColor) {\n        this.chipArea.nativeElement.style.backgroundColor = newColor;\n    }\n\n    /**\n     * Returns the background color of the `IgxChipComponent`.\n     * @example\n     * ```typescript\n     * @ViewChild('myChip')\n     * public chip: IgxChipComponent;\n     * ngAfterViewInit(){\n     *     let chipColor = this.chip.color;\n     * }\n     * ```\n     */\n    public get color() {\n        return this.chipArea.nativeElement.style.backgroundColor;\n    }\n\n    /**\n     * Emits an event when the `IgxChipComponent` moving starts.\n     * Returns the moving `IgxChipComponent`.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [draggable]=\"true\" (onMoveStart)=\"moveStarted($event)\">\n     * ```\n     */\n    @Output()\n    public onMoveStart = new EventEmitter<IBaseChipEventArgs>();\n\n    /**\n     * Emits an event when the `IgxChipComponent` moving ends.\n     * Returns the moved `IgxChipComponent`.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [draggable]=\"true\" (onMoveEnd)=\"moveEnded($event)\">\n     * ```\n     */\n    @Output()\n    public onMoveEnd = new EventEmitter<IBaseChipEventArgs>();\n\n    /**\n     * Emits an event when the `IgxChipComponent` is removed.\n     * Returns the removed `IgxChipComponent`.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [draggable]=\"true\" (onRemove)=\"remove($event)\">\n     * ```\n     */\n    @Output()\n    public onRemove = new EventEmitter<IBaseChipEventArgs>();\n\n    /**\n     * Emits an event when the `IgxChipComponent` is clicked.\n     * Returns the clicked `IgxChipComponent`, whether the event should be canceled.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [draggable]=\"true\" (onClick)=\"chipClick($event)\">\n     * ```\n     */\n    @Output()\n    public onClick = new EventEmitter<IChipClickEventArgs>();\n\n    /**\n     * Emits event when the `IgxChipComponent` is selected/deselected.\n     * Returns the selected chip reference, whether the event should be canceled, what is the next selection state and\n     * when the event is triggered by interaction `originalEvent` is provided, otherwise `originalEvent` is `null`.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [selectable]=\"true\" (onSelection)=\"chipSelect($event)\">\n     * ```\n     */\n    @Output()\n    public onSelection = new EventEmitter<IChipSelectEventArgs>();\n\n    /**\n     * Emits event when the `IgxChipComponent` is selected/deselected and any related animations and transitions also end.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [selectable]=\"true\" (onSelectionDone)=\"chipSelectEnd($event)\">\n     * ```\n     */\n    @Output()\n    public onSelectionDone = new EventEmitter<IBaseChipEventArgs>();\n\n    /**\n     * Emits an event when the `IgxChipComponent` keyboard navigation is being used.\n     * Returns the focused/selected `IgxChipComponent`, whether the event should be canceled,\n     * if the `alt`, `shift` or `control` key is pressed and the pressed key name.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [draggable]=\"true\" (onKeyDown)=\"chipKeyDown($event)\">\n     * ```\n     */\n    @Output()\n    public onKeyDown = new EventEmitter<IChipKeyDownEventArgs>();\n\n    /**\n     * Emits an event when the `IgxChipComponent` has entered the `IgxChipsAreaComponent`.\n     * Returns the target `IgxChipComponent`, the drag `IgxChipComponent`, as  well as\n     * the original drop event arguments.\n     * @example\n     * ```html\n     * <igx-chip #myChip [id]=\"'igx-chip-1'\" [draggable]=\"true\" (onDragEnter)=\"chipEnter($event)\">\n     * ```\n     */\n    @Output()\n    public onDragEnter = new EventEmitter<IChipEnterDragAreaEventArgs>();\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('attr.class')\n    get hostClass(): string {\n        const classes = [this.getComponentDensityClass('igx-chip')];\n        classes.push(this.disabled ? 'igx-chip--disabled' : '');\n        // The custom classes should be at the end.\n        classes.push(this.class);\n        return classes.join(' ');\n    }\n\n    /**\n     * Property that contains a reference to the `IgxDragDirective` the `IgxChipComponent` uses for dragging behavior.\n     * @example\n     * ```html\n     * <igx-chip [id]=\"chip.id\" [draggable]=\"true\"></igx-chip>\n     * ```\n     * ```typescript\n     * onMoveStart(event: IBaseChipEventArgs){\n     *     let dragDirective = event.owner.dragDirective;\n     * }\n     * ```\n     */\n    @ViewChild('chipArea', { read: IgxDragDirective, static: true })\n    public dragDirective: IgxDragDirective;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('chipArea', { read: ElementRef, static: true })\n    public chipArea: ElementRef;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('selectContainer', { read: ElementRef, static: true })\n    public selectContainer: ElementRef;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('defaultRemoveIcon', { read: TemplateRef, static: true })\n    public defaultRemoveIcon: TemplateRef<any>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('defaultSelectIcon', { read: TemplateRef, static: true })\n    public defaultSelectIcon: TemplateRef<any>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get removeButtonTemplate() {\n        return this.removeIcon || this.defaultRemoveIcon;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get selectIconTemplate() {\n        return this.selectIcon || this.defaultSelectIcon;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get ghostClass(): string {\n        return this.getComponentDensityClass('igx-chip__ghost');\n    }\n\n    public get chipTabindex() {\n        return !this.disabled ? 0 : '';\n    }\n\n    protected _selected = false;\n    protected _selectedItemClass = 'igx-chip__item--selected';\n    protected _movedWhileRemoving = false;\n\n    constructor(public cdr: ChangeDetectorRef, public elementRef: ElementRef, private renderer: Renderer2,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n            super(_displayDensityOptions);\n        }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public selectClass(condition: boolean): object {\n        const SELECT_CLASS = 'igx-chip__select';\n\n        return {\n            [SELECT_CLASS]: condition,\n            [`${SELECT_CLASS}--hidden`]: !condition\n        };\n    }\n\n    protected changeSelection(newValue: boolean, srcEvent = null) {\n        const onSelectArgs: IChipSelectEventArgs = {\n            originalEvent: srcEvent,\n            owner: this,\n            selected: false,\n            cancel: false\n        };\n\n        fromEvent(this.selectContainer.nativeElement, 'transitionend')\n            .pipe(filter<TransitionEvent>(event => event.propertyName === 'width'), take(1))\n            .subscribe(event => this.onSelectTransitionDone(event));\n\n        if (newValue && !this._selected) {\n            onSelectArgs.selected = true;\n            this.onSelection.emit(onSelectArgs);\n\n            if (!onSelectArgs.cancel) {\n                this.renderer.addClass(this.chipArea.nativeElement, this._selectedItemClass);\n                this._selected = newValue;\n                this.selectedChange.emit(this._selected);\n            }\n        } else if (!newValue && this._selected) {\n            this.onSelection.emit(onSelectArgs);\n\n            if (!onSelectArgs.cancel) {\n                this.renderer.removeClass(this.chipArea.nativeElement, this._selectedItemClass);\n                this._selected = newValue;\n                this.selectedChange.emit(this._selected);\n            }\n        }\n    }\n\n    public onSelectTransitionDone(event) {\n        if (!!event.target.tagName) {\n            // Trigger onSelectionDone on when `width` property is changed and the target is valid element(not comment).\n            this.onSelectionDone.emit({\n                owner: this,\n                originalEvent: event\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onChipKeyDown(event: KeyboardEvent) {\n        const keyDownArgs: IChipKeyDownEventArgs = {\n            originalEvent: event,\n            owner: this,\n            cancel: false\n        };\n\n        this.onKeyDown.emit(keyDownArgs);\n        if (keyDownArgs.cancel) {\n            return;\n        }\n\n        if ((event.key === 'Delete' || event.key === 'Del') && this.removable) {\n            this.onRemove.emit({\n                originalEvent: event,\n                owner: this\n            });\n        }\n\n        if ((event.key === ' ' || event.key === 'Spacebar') && this.selectable && !this.disabled) {\n            this.changeSelection(!this.selected, event);\n        }\n\n        if (event.key !== 'Tab') {\n            event.preventDefault();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onRemoveBtnKeyDown(event: KeyboardEvent) {\n        if (event.key === ' ' || event.key === 'Spacebar' || event.key === 'Enter') {\n            this.onRemove.emit({\n                originalEvent: event,\n                owner: this\n            });\n\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    public onRemoveMouseDown(event: PointerEvent | MouseEvent) {\n        event.stopPropagation();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onRemoveClick(event: MouseEvent | TouchEvent) {\n        this.onRemove.emit({\n            originalEvent: event,\n            owner: this\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onRemoveTouchMove() {\n        // We don't remove chip if user starting touch interacting on the remove button moves the chip\n        this._movedWhileRemoving = true;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onRemoveTouchEnd(event: TouchEvent) {\n        if (!this._movedWhileRemoving) {\n            this.onRemoveClick(event);\n        }\n        this._movedWhileRemoving = false;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    // -----------------------------\n    // Start chip igxDrag behavior\n    public onChipDragStart(event: IDragStartEventArgs) {\n        this.onMoveStart.emit({\n            originalEvent: event,\n            owner: this\n        });\n        event.cancel = !this.draggable || this.disabled;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onChipDragEnd() {\n        if (this.animateOnRelease) {\n            this.dragDirective.transitionToOrigin();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onChipMoveEnd(event: IDragBaseEventArgs) {\n        // moveEnd is triggered after return animation has finished. This happen when we drag and release the chip.\n        this.onMoveEnd.emit({\n            originalEvent: event,\n            owner: this\n        });\n\n        if (this.selected) {\n            this.chipArea.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onChipDragClicked(event: IDragBaseEventArgs) {\n        const clickEventArgs: IChipClickEventArgs = {\n            originalEvent: event,\n            owner: this,\n            cancel: false\n        };\n        this.onClick.emit(clickEventArgs);\n\n        if (!clickEventArgs.cancel && this.selectable && !this.disabled) {\n            this.changeSelection(!this.selected, event);\n        }\n    }\n    // End chip igxDrag behavior\n\n    /**\n     * @hidden\n     * @internal\n     */\n    // -----------------------------\n    // Start chip igxDrop behavior\n    public onChipDragEnterHandler(event: IDropBaseEventArgs) {\n        if (this.dragDirective === event.drag || !event.drag.data || !event.drag.data.chip) {\n            return;\n        }\n\n        const eventArgs: IChipEnterDragAreaEventArgs = {\n            owner: this,\n            dragChip: event.drag.data.chip,\n            originalEvent: event\n        };\n        this.onDragEnter.emit(eventArgs);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onChipDrop(event: IDropDroppedEventArgs) {\n        // Cancel the default drop logic\n        event.cancel = true;\n    }\n    // End chip igxDrop behavior\n}\n","import {\n    Component,\n    ContentChildren,\n    ChangeDetectorRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    IterableDiffer,\n    IterableDiffers,\n    Output,\n    QueryList,\n    DoCheck,\n    AfterViewInit,\n    OnDestroy,\n    ElementRef\n} from '@angular/core';\nimport {\n    IgxChipComponent,\n    IChipSelectEventArgs,\n    IChipKeyDownEventArgs,\n    IChipEnterDragAreaEventArgs,\n    IBaseChipEventArgs\n} from './chip.component';\nimport { IDropBaseEventArgs, IDragBaseEventArgs } from '../directives/drag-drop/drag-drop.directive';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\nexport interface IBaseChipsAreaEventArgs {\n    originalEvent: IDragBaseEventArgs | IDropBaseEventArgs | KeyboardEvent | MouseEvent | TouchEvent;\n    owner: IgxChipsAreaComponent;\n}\n\nexport interface IChipsAreaReorderEventArgs extends IBaseChipsAreaEventArgs {\n    chipsArray: IgxChipComponent[];\n}\n\nexport interface IChipsAreaSelectEventArgs extends IBaseChipsAreaEventArgs {\n    newSelection: IgxChipComponent[];\n}\n\n/**\n * The chip area allows you to perform more complex scenarios with chips that require interaction,\n * like dragging, selection, navigation, etc.\n *\n * @igxModule IgxChipsModule\n *\n * @igxTheme igx-chip-theme\n *\n * @igxKeywords chip area, chip\n *\n * @igxGroup display\n *\n * @example\n * ```html\n * <igx-chips-area>\n *    <igx-chip *ngFor=\"let chip of chipList\" [id]=\"chip.id\">\n *        <span>{{chip.text}}</span>\n *    </igx-chip>\n * </igx-chips-area>\n * ```\n */\n@Component({\n    selector: 'igx-chips-area',\n    templateUrl: 'chips-area.component.html',\n})\nexport class IgxChipsAreaComponent implements DoCheck, AfterViewInit, OnDestroy {\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @Input()\n    public class = '';\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('attr.class')\n    get hostClass() {\n        const classes = ['igx-chip-area'];\n        classes.push(this.class);\n\n        return classes.join(' ');\n    }\n\n    /**\n     * An @Input property that sets the width of the `IgxChipsAreaComponent`.\n     * @example\n     * ```html\n     * <igx-chips-area #chipsArea [width]=\"'300'\" [height]=\"'10'\" (onReorder)=\"chipsOrderChanged($event)\"></igx-chips-area>\n     * ```\n     */\n    @HostBinding('style.width.px')\n    @Input()\n    public width: number;\n\n    /**\n     * An @Input property that sets the height of the `IgxChipsAreaComponent`.\n     * @example\n     * ```html\n     * <igx-chips-area #chipsArea [width]=\"'300'\" [height]=\"'10'\" (onReorder)=\"chipsOrderChanged($event)\"></igx-chips-area>\n     * ```\n     */\n    @HostBinding('style.height.px')\n    @Input()\n    public height: number;\n\n    /**\n     * Emits an event when `IgxChipComponent`s in the `IgxChipsAreaComponent` should be reordered.\n     * Returns an array of `IgxChipComponent`s.\n     * @example\n     * ```html\n     * <igx-chips-area #chipsArea [width]=\"'300'\" [height]=\"'10'\" (onReorder)=\"changedOrder($event)\"></igx-chips-area>\n     * ```\n     */\n    @Output()\n    public onReorder = new EventEmitter<IChipsAreaReorderEventArgs>();\n\n    /**\n     * Emits an event when an `IgxChipComponent` in the `IgxChipsAreaComponent` is selected/deselected.\n     * Fired after the chips area is initialized if there are initially selected chips as well.\n     * Returns an array of selected `IgxChipComponent`s and the `IgxChipAreaComponent`.\n     * @example\n     * ```html\n     * <igx-chips-area #chipsArea [width]=\"'300'\" [height]=\"'10'\" (onSelection)=\"selection($event)\"></igx-chips-area>\n     * ```\n     */\n    @Output()\n    public onSelection = new EventEmitter<IChipsAreaSelectEventArgs>();\n\n    /**\n     * Emits an event when an `IgxChipComponent` in the `IgxChipsAreaComponent` is moved.\n     * @example\n     * ```html\n     * <igx-chips-area #chipsArea [width]=\"'300'\" [height]=\"'10'\" (onMoveStart)=\"moveStart($event)\"></igx-chips-area>\n     * ```\n     */\n    @Output()\n    public onMoveStart = new EventEmitter<IBaseChipsAreaEventArgs>();\n\n    /**\n     * Emits an event after an `IgxChipComponent` in the `IgxChipsAreaComponent` is moved.\n     * @example\n     * ```html\n     * <igx-chips-area #chipsArea [width]=\"'300'\" [height]=\"'10'\" (onMoveEnd)=\"moveEnd($event)\"></igx-chips-area>\n     * ```\n     */\n    @Output()\n    public onMoveEnd = new EventEmitter<IBaseChipsAreaEventArgs>();\n\n    /**\n     * Holds the `IgxChipComponent` in the `IgxChipsAreaComponent`.\n     * @example\n     * ```typescript\n     * ngAfterViewInit(){\n     *    let chips = this.chipsArea.chipsList;\n     * }\n     * ```\n     */\n    @ContentChildren(IgxChipComponent, { descendants: true })\n    public chipsList: QueryList<IgxChipComponent>;\n\n    private modifiedChipsArray: IgxChipComponent[];\n    private _differ: IterableDiffer<IgxChipComponent> | null = null;\n    protected destroy$ = new Subject<boolean>();\n\n    constructor(public cdr: ChangeDetectorRef, public element: ElementRef,\n        private _iterableDiffers: IterableDiffers) {\n        this._differ = this._iterableDiffers.find([]).create(null);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngAfterViewInit() {\n        // If we have initially selected chips through their inputs, we need to get them, because we cannot listen to their events yet.\n        if (this.chipsList.length) {\n            const selectedChips = this.chipsList.filter((item: IgxChipComponent) => item.selected);\n            if (selectedChips.length) {\n                this.onSelection.emit({\n                    originalEvent: null,\n                    newSelection: selectedChips,\n                    owner: this\n                });\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngDoCheck(): void {\n        if (this.chipsList) {\n            const changes = this._differ.diff(this.chipsList.toArray());\n            if (changes) {\n                changes.forEachAddedItem((addedChip) => {\n                    addedChip.item.onMoveStart.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n                        this.onChipMoveStart(args);\n                    });\n                    addedChip.item.onMoveEnd.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n                        this.onChipMoveEnd(args);\n                    });\n                    addedChip.item.onDragEnter.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n                        this.onChipDragEnter(args);\n                    });\n                    addedChip.item.onKeyDown.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n                        this.onChipKeyDown(args);\n                    });\n                    if (addedChip.item.selectable) {\n                        addedChip.item.onSelection.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n                            this.onChipSelectionChange(args);\n                        });\n                    }\n                });\n                this.modifiedChipsArray = this.chipsList.toArray();\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected onChipKeyDown(event: IChipKeyDownEventArgs) {\n        let orderChanged = false;\n        const chipsArray = this.chipsList.toArray();\n        const dragChipIndex = chipsArray.findIndex((el) => el === event.owner);\n        if (event.originalEvent.shiftKey === true) {\n            if (event.originalEvent.key === 'ArrowLeft' || event.originalEvent.key === 'Left') {\n                orderChanged = this.positionChipAtIndex(dragChipIndex, dragChipIndex - 1, false, event.originalEvent);\n                if (orderChanged) {\n                    setTimeout(() => {\n                        this.chipsList.toArray()[dragChipIndex - 1].chipArea.nativeElement.focus();\n                    });\n                }\n            } else if (event.originalEvent.key === 'ArrowRight' || event.originalEvent.key === 'Right') {\n                orderChanged = this.positionChipAtIndex(dragChipIndex, dragChipIndex + 1, true, event.originalEvent);\n            }\n        } else {\n            if ((event.originalEvent.key === 'ArrowLeft' || event.originalEvent.key === 'Left') && dragChipIndex > 0) {\n                chipsArray[dragChipIndex - 1].chipArea.nativeElement.focus();\n            } else if ((event.originalEvent.key === 'ArrowRight' || event.originalEvent.key === 'Right') &&\n                dragChipIndex < chipsArray.length - 1) {\n                chipsArray[dragChipIndex + 1].chipArea.nativeElement.focus();\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected onChipMoveStart(event: IBaseChipEventArgs) {\n        this.onMoveStart.emit({\n            originalEvent: event.originalEvent,\n            owner: this\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected onChipMoveEnd(event: IBaseChipEventArgs) {\n        this.onMoveEnd.emit({\n            originalEvent: event.originalEvent,\n            owner: this\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected onChipDragEnter(event: IChipEnterDragAreaEventArgs) {\n        const dropChipIndex = this.chipsList.toArray().findIndex((el) => el === event.owner);\n        const dragChipIndex = this.chipsList.toArray().findIndex((el) => el === event.dragChip);\n        if (dragChipIndex < dropChipIndex) {\n            // from the left to right\n            this.positionChipAtIndex(dragChipIndex, dropChipIndex, true, event.originalEvent);\n        } else {\n            // from the right to left\n            this.positionChipAtIndex(dragChipIndex, dropChipIndex, false, event.originalEvent);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected positionChipAtIndex(chipIndex, targetIndex, shiftRestLeft, originalEvent) {\n        if (chipIndex < 0 || this.chipsList.length <= chipIndex ||\n            targetIndex < 0 || this.chipsList.length <= targetIndex) {\n            return false;\n        }\n\n        const chipsArray = this.chipsList.toArray();\n        const result: IgxChipComponent[] = [];\n        for (let i = 0; i < chipsArray.length; i++) {\n            if (shiftRestLeft) {\n                if (chipIndex <= i && i < targetIndex) {\n                    result.push(chipsArray[i + 1]);\n                } else if (i === targetIndex) {\n                    result.push(chipsArray[chipIndex]);\n                } else {\n                    result.push(chipsArray[i]);\n                }\n            } else {\n                if (targetIndex < i && i <= chipIndex) {\n                    result.push(chipsArray[i - 1]);\n                } else if (i === targetIndex) {\n                    result.push(chipsArray[chipIndex]);\n                } else {\n                    result.push(chipsArray[i]);\n                }\n            }\n        }\n        this.modifiedChipsArray = result;\n\n        const eventData: IChipsAreaReorderEventArgs = {\n            chipsArray: this.modifiedChipsArray,\n            originalEvent: originalEvent,\n            owner: this\n        };\n        this.onReorder.emit(eventData);\n        return true;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected onChipSelectionChange(event: IChipSelectEventArgs) {\n        let selectedChips = this.chipsList.filter((chip) => chip.selected);\n        if (event.selected && !selectedChips.includes(event.owner)) {\n            selectedChips.push(event.owner);\n        } else if (!event.selected && selectedChips.includes(event.owner)) {\n            selectedChips = selectedChips.filter((chip) => {\n                return chip.id !== event.owner.id;\n            });\n        }\n        this.onSelection.emit({\n            originalEvent: event.originalEvent,\n            newSelection: selectedChips,\n            owner: this\n        });\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxAvatarModule } from '../avatar/avatar.component';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxChipComponent } from './chip.component';\nimport { IgxChipsAreaComponent } from './chips-area.component';\nimport { IgxDragDropModule } from '../directives/drag-drop/drag-drop.directive';\nimport { IgxPrefixModule, IgxPrefixDirective} from '../directives/prefix/prefix.directive';\nimport { IgxSuffixModule, IgxSuffixDirective } from '../directives/suffix/suffix.directive';\n\n/**\n * @hidden\n */\n@NgModule({\n  declarations: [\n    IgxChipsAreaComponent,\n    IgxChipComponent\n  ],\n  exports: [\n    IgxChipsAreaComponent,\n    IgxChipComponent,\n    IgxPrefixDirective,\n    IgxSuffixDirective\n  ],\n  imports: [\n    CommonModule,\n    IgxRippleModule,\n    IgxIconModule,\n    IgxButtonModule,\n    IgxAvatarModule,\n    IgxDragDropModule,\n    IgxPrefixModule,\n    IgxSuffixModule\n  ]\n})\nexport class IgxChipsModule { }\n","import { Directive } from '@angular/core';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboHeader]'\n})\nexport class IgxComboHeaderDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboFooter]'\n})\nexport class IgxComboFooterDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboItem]'\n})\nexport class IgxComboItemDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboEmpty]'\n})\nexport class IgxComboEmptyDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboHeaderItem]'\n})\n\nexport class IgxComboHeaderItemDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboAddItem]'\n})\nexport class IgxComboAddItemDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboToggleIcon]'\n})\nexport class IgxComboToggleIconDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxComboClearIcon]'\n})\nexport class IgxComboClearIconDirective {\n}\n\n","import { IgxComboBase } from './combo.common';\nimport { Injectable } from '@angular/core';\n\n/**\n * @hidden\n */\n@Injectable()\nexport class IgxComboAPIService {\n    protected combo: IgxComboBase;\n\n    public disableTransitions = false;\n\n    public register(combo: IgxComboBase) {\n        this.combo = combo;\n    }\n\n\n    public clear(): void {\n        this.combo = null;\n    }\n\n    public get valueKey() {\n        return this.combo.valueKey !== null && this.combo.valueKey !== undefined ? this.combo.valueKey : null;\n    }\n\n    public get item_focusable(): boolean {\n        return false;\n    }\n    public get isRemote(): boolean {\n        return this.combo.isRemote;\n    }\n\n    public add_custom_item(): void {\n        if (!this.combo) {\n            return;\n        }\n        this.combo.addItemToCollection();\n    }\n\n    public get comboID(): string {\n        return this.combo.id;\n    }\n\n    public set_selected_item(itemID: any, event?: Event): void {\n        const selected = this.combo.isItemSelected(itemID);\n        if (itemID === null || itemID === undefined) {\n            return;\n        }\n        if (!selected) {\n            this.combo.selectItems([itemID], false, event);\n        } else {\n            this.combo.deselectItems([itemID], event);\n        }\n    }\n\n    public is_item_selected(itemID: any): boolean {\n        return this.combo.isItemSelected(itemID);\n    }\n}\n","import {\n    Component,\n    ElementRef,\n    HostBinding,\n    Inject,\n    Input,\n    DoCheck\n} from '@angular/core';\nimport { IgxDropDownItemComponent } from '../drop-down/drop-down-item.component';\nimport { IGX_DROPDOWN_BASE, IDropDownBase, Navigate } from '../drop-down/drop-down.common';\nimport { IgxComboAPIService } from './combo.api';\nimport { IgxSelectionAPIService } from '../core/selection';\n\n/** @hidden */\n@Component({\n    selector: 'igx-combo-item',\n    templateUrl: 'combo-item.component.html'\n})\nexport class IgxComboItemComponent extends IgxDropDownItemComponent implements DoCheck {\n\n    /**\n     * Gets the height of a list item\n     * @hidden\n     */\n    @Input()\n    @HostBinding('style.height.px')\n    public itemHeight = '';\n\n    /**\n     * @hidden\n     */\n    public get itemID() {\n        const valueKey = this.comboAPI.valueKey;\n        return valueKey !== null ? this.value[valueKey] : this.value;\n    }\n\n    /**\n     * @hidden\n     */\n    public get comboID() {\n        return this.comboAPI.comboID;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get disableTransitions() {\n        return this.comboAPI.disableTransitions;\n    }\n\n    constructor(\n        protected comboAPI: IgxComboAPIService,\n        @Inject(IGX_DROPDOWN_BASE) protected dropDown: IDropDownBase,\n        protected elementRef: ElementRef,\n        @Inject(IgxSelectionAPIService) protected selection: IgxSelectionAPIService\n    ) {\n        super(dropDown, elementRef, null, selection);\n    }\n\n    /**\n     * @hidden\n     */\n    get selected(): boolean {\n        return this.comboAPI.is_item_selected(this.itemID);\n    }\n\n    set selected(value: boolean) {\n        if (this.isHeader) {\n            return;\n        }\n        this._selected = value;\n    }\n\n    /**\n     * @hidden\n     */\n    isVisible(direction: Navigate): boolean {\n        const rect = this.element.nativeElement.getBoundingClientRect();\n        const parentDiv = this.element.nativeElement.parentElement.parentElement.getBoundingClientRect();\n        if (direction === Navigate.Down) {\n            return rect.y + rect.height <= parentDiv.y + parentDiv.height;\n        }\n        return rect.y >= parentDiv.y;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    clicked(event): void {\n        this.comboAPI.disableTransitions = false;\n        if (!this.isSelectable) { return; }\n        this.dropDown.navigateItem(this.index);\n        this.comboAPI.set_selected_item(this.itemID, event);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     * The event that is prevented is the click on the checkbox label element.\n     * That is the only visible element that a user can interact with.\n     * The click propagates to the host and the preventDefault is to stop it from\n     * switching focus to the input it's base on.\n     * The toggle happens in an internal handler in the drop-down on the next task queue cycle.\n     */\n    disableCheck(event: MouseEvent) {\n        event.preventDefault();\n    }\n\n    ngDoCheck() {\n    }\n}\n","import { ElementRef, EventEmitter, InjectionToken } from '@angular/core';\nimport { CancelableEventArgs, CancelableBrowserEventArgs } from '../core/utils';\n\nexport const IGX_COMBO_COMPONENT = new InjectionToken<IgxComboBase>('IgxComboComponentToken');\n\n/** @hidden @internal TODO: Evaluate */\nexport interface IgxComboBase {\n    id: string;\n    data: any[];\n    valueKey: string;\n    groupKey: string;\n    isRemote: boolean;\n    filteredData: any[];\n    totalItemCount: number;\n    itemsMaxHeight: number;\n    itemHeight: number;\n    searchValue: string;\n    searchInput: ElementRef<HTMLInputElement>;\n    comboInput: ElementRef<HTMLInputElement>;\n    onOpened: EventEmitter<void>;\n    onOpening: EventEmitter<CancelableEventArgs>;\n    onClosing: EventEmitter<CancelableBrowserEventArgs>;\n    onClosed: EventEmitter<void>;\n    focusSearchInput(opening?: boolean): void;\n    triggerCheck(): void;\n    addItemToCollection(): void;\n    isAddButtonVisible(): boolean;\n    handleInputChange(event?: string): void;\n    isItemSelected(itemID: any): boolean;\n    selectItems(itemIDs: any[], clearSelection?: boolean, event?: Event): void;\n    deselectItems(itemIDs: any[], event?: Event): void;\n}\n","import { IgxComboItemComponent } from './combo-item.component';\nimport { Component } from '@angular/core';\n\n/**\n * @hidden\n */\n@Component({\n    selector: 'igx-combo-add-item',\n    template: '<ng-content></ng-content>',\n    providers: [{ provide: IgxComboItemComponent, useExisting: IgxComboAddItemComponent}]\n})\nexport class IgxComboAddItemComponent extends IgxComboItemComponent {\n    get selected(): boolean {\n        return false;\n    }\n    set selected(value: boolean) {\n    }\n\n    /**\n     * @inheritdoc\n     */\n    clicked(event?) {\n        this.comboAPI.disableTransitions = false;\n        this.comboAPI.add_custom_item();\n    }\n}\n","import {\n    ChangeDetectorRef, Component, ElementRef, Inject, QueryList, OnDestroy, AfterViewInit, ContentChildren, Optional\n} from '@angular/core';\nimport { IgxComboBase, IGX_COMBO_COMPONENT } from './combo.common';\nimport { IDropDownBase, IGX_DROPDOWN_BASE } from '../drop-down/drop-down.common';\nimport { IgxDropDownComponent } from '../drop-down/drop-down.component';\nimport { DropDownActionKey } from '../drop-down/drop-down.common';\nimport { IgxComboAddItemComponent } from './combo-add-item.component';\nimport { IgxComboAPIService } from './combo.api';\nimport { IgxDropDownItemBaseDirective } from '../drop-down/drop-down-item.base';\nimport { IgxSelectionAPIService } from '../core/selection';\nimport { IgxComboItemComponent } from './combo-item.component';\nimport { DisplayDensityToken, IDisplayDensityOptions } from '../core/density';\n\n/** @hidden */\n@Component({\n    selector: 'igx-combo-drop-down',\n    templateUrl: '../drop-down/drop-down.component.html',\n    providers: [{ provide: IGX_DROPDOWN_BASE, useExisting: IgxComboDropDownComponent }]\n})\nexport class IgxComboDropDownComponent extends IgxDropDownComponent implements IDropDownBase, OnDestroy, AfterViewInit {\n    constructor(\n        protected elementRef: ElementRef,\n        protected cdr: ChangeDetectorRef,\n        protected selection: IgxSelectionAPIService,\n        @Inject(IGX_COMBO_COMPONENT) public combo: IgxComboBase,\n        protected comboAPI: IgxComboAPIService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(elementRef, cdr, selection, _displayDensityOptions);\n    }\n\n    /** @hidden @internal */\n   public get scrollContainer(): HTMLElement {\n        return this.virtDir.dc.location.nativeElement;\n    }\n\n    protected get isScrolledToLast(): boolean {\n        const scrollTop = this.virtDir.scrollPosition;\n        const scrollHeight = this.virtDir.getScroll().scrollHeight;\n        return Math.floor(scrollTop + this.virtDir.igxForContainerSize) === scrollHeight;\n    }\n\n    protected get lastVisibleIndex(): number {\n        return this.combo.totalItemCount ?\n            Math.floor(this.combo.itemsMaxHeight / this.combo.itemHeight) :\n            this.items.length - 1;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(IgxComboItemComponent, { descendants: true })\n    public children: QueryList<IgxDropDownItemBaseDirective> = null;\n\n    /**\n     * @hidden @internal\n     */\n    public onFocus() {\n        this.focusedItem = this._focusedItem || this.items[0];\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onBlur(evt?) {\n        this.focusedItem = null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onToggleOpened() {\n        this.onOpened.emit();\n    }\n\n    /**\n     * @hidden\n     */\n    public navigateFirst() {\n        this.navigateItem(this.virtDir.igxForOf.findIndex(e => !e.isHeader));\n    }\n\n    /**\n     * @hidden\n     */\n    public navigatePrev() {\n        if (this._focusedItem && this._focusedItem.index === 0 && this.virtDir.state.startIndex === 0) {\n            this.combo.focusSearchInput(false);\n        } else {\n            super.navigatePrev();\n        }\n    }\n\n\n    /**\n     * @hidden\n     */\n    public navigateNext() {\n        const lastIndex = this.combo.totalItemCount ? this.combo.totalItemCount - 1 : this.virtDir.igxForOf.length - 1;\n        if (this._focusedItem && this._focusedItem.index === lastIndex) {\n            this.focusAddItemButton();\n        } else {\n            super.navigateNext();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public selectItem(item: IgxDropDownItemBaseDirective) {\n        if (item === null || item === undefined) {\n            return;\n        }\n        this.comboAPI.set_selected_item(item.itemID);\n        this._focusedItem = item;\n    }\n\n    private focusAddItemButton() {\n        if (this.combo.isAddButtonVisible()) {\n            this.focusedItem = this.items[this.items.length - 1];\n        }\n    }\n\n    protected scrollToHiddenItem(newItem: any): void { }\n\n    protected scrollHandler = () => {\n        this.comboAPI.disableTransitions = true;\n    }\n\n    protected get sortedChildren(): IgxDropDownItemBaseDirective[] {\n        if (this.children !== undefined) {\n            return this.children.toArray()\n                .sort((a: IgxDropDownItemBaseDirective, b: IgxDropDownItemBaseDirective) => {\n                    return a.index - b.index;\n                });\n        }\n        return null;\n    }\n\n    /**\n     * Get all non-header items\n     *\n     * ```typescript\n     * let myDropDownItems = this.dropdown.items;\n     * ```\n     */\n    public get items(): IgxComboItemComponent[] {\n        const items: IgxComboItemComponent[] = [];\n        if (this.children !== undefined) {\n            const sortedChildren = this.sortedChildren as IgxComboItemComponent[];\n            for (const child of sortedChildren) {\n                if (!child.isHeader) {\n                    items.push(child);\n                }\n            }\n        }\n\n        return items;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public updateScrollPosition() {\n        this.virtDir.getScroll().scrollTop = this._scrollPosition;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onItemActionKey(key: DropDownActionKey) {\n        switch (key) {\n            case DropDownActionKey.ENTER:\n                this.handleEnter();\n                break;\n            case DropDownActionKey.SPACE:\n                this.handleSpace();\n                break;\n            case DropDownActionKey.ESCAPE:\n                this.close();\n        }\n    }\n\n    private handleEnter() {\n        if (this.isAddItemFocused()) {\n            this.combo.addItemToCollection();\n        } else {\n            this.close();\n        }\n    }\n\n    private handleSpace() {\n        if (this.isAddItemFocused()) {\n            return;\n        } else {\n            this.selectItem(this.focusedItem);\n        }\n    }\n\n    private isAddItemFocused(): boolean {\n        return this.focusedItem instanceof IgxComboAddItemComponent;\n    }\n\n    public ngAfterViewInit() {\n        this.virtDir.getScroll().addEventListener('scroll', this.scrollHandler);\n    }\n\n    /**\n     *@hidden @internal\n     */\n    public ngOnDestroy(): void {\n        this.virtDir.getScroll().removeEventListener('scroll', this.scrollHandler);\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n}\n","import { Inject, Pipe, PipeTransform} from '@angular/core';\nimport { cloneArray } from '../core/utils';\nimport { DataUtil } from '../data-operations/data-util';\nimport { SortingDirection } from '../data-operations/sorting-expression.interface';\nimport { IGX_COMBO_COMPONENT, IgxComboBase } from './combo.common';\nimport { DefaultSortingStrategy } from '../data-operations/sorting-strategy';\n\n\n/**\n * @hidden\n */\n@Pipe({\n    name: 'comboFiltering'\n})\nexport class IgxComboFilteringPipe implements PipeTransform {\n    public transform(collection: any[], searchValue: any, displayKey: any, shouldFilter: boolean) {\n        if (!collection) {\n            return [];\n        }\n        if (!searchValue || !shouldFilter) {\n            return collection;\n        } else {\n            const searchTerm = searchValue.toLowerCase().trim();\n            if (displayKey != null) {\n                return collection.filter(e => e[displayKey].toLowerCase().includes(searchTerm));\n            } else {\n                return collection.filter(e => e.toLowerCase().includes(searchTerm));\n            }\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@Pipe({\n    name: 'comboGrouping'\n})\nexport class IgxComboGroupingPipe implements PipeTransform {\n\n    constructor(@Inject(IGX_COMBO_COMPONENT) public combo: IgxComboBase) { }\n\n    public transform(collection: any[], groupKey: any, valueKey: any) {\n        this.combo.filteredData = collection;\n        if ((!groupKey && groupKey !== 0) || !collection.length) {\n            return collection;\n        }\n        const sorted = DataUtil.sort(cloneArray(collection), [{\n            fieldName: groupKey,\n            dir: SortingDirection.Asc,\n            ignoreCase: true,\n            strategy: DefaultSortingStrategy.instance()\n        }]);\n        const data = cloneArray(sorted);\n        let inserts = 0;\n        let currentHeader = null;\n        for (let i = 0; i < sorted.length; i++) {\n            let insertFlag = 0;\n            if (currentHeader !== sorted[i][groupKey]) {\n                currentHeader = sorted[i][groupKey];\n                insertFlag = 1;\n            }\n            if (insertFlag) {\n                data.splice(i + inserts, 0, {\n                    [valueKey]: currentHeader,\n                    [groupKey]: currentHeader,\n                    isHeader: true\n                });\n                inserts++;\n            }\n        }\n        return data;\n    }\n}\n","import { ConnectedPositioningStrategy } from './../services/overlay/position/connected-positioning-strategy';\nimport { CommonModule } from '@angular/common';\nimport {\n    AfterViewInit, ChangeDetectorRef, Component, ContentChild, ElementRef, EventEmitter, HostBinding, HostListener,\n    Input, NgModule, OnInit, OnDestroy, Output, TemplateRef, ViewChild, Optional, Inject, Injector, Type\n} from '@angular/core';\nimport {\n    IgxComboItemDirective,\n    IgxComboEmptyDirective,\n    IgxComboHeaderItemDirective,\n    IgxComboHeaderDirective,\n    IgxComboFooterDirective,\n    IgxComboAddItemDirective,\n    IgxComboToggleIconDirective,\n    IgxComboClearIconDirective\n} from './combo.directives';\nimport { FormsModule, ReactiveFormsModule, ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl, AbstractControl } from '@angular/forms';\nimport { IgxCheckboxModule } from '../checkbox/checkbox.component';\nimport { IgxSelectionAPIService } from '../core/selection';\nimport { cloneArray, CancelableEventArgs, CancelableBrowserEventArgs, IBaseEventArgs } from '../core/utils';\nimport { IgxStringFilteringOperand, IgxBooleanFilteringOperand } from '../data-operations/filtering-condition';\nimport { FilteringLogic } from '../data-operations/filtering-expression.interface';\nimport { IgxForOfModule, IForOfState, IgxForOfDirective } from '../directives/for-of/for_of.directive';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxToggleModule } from '../directives/toggle/toggle.directive';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxDropDownModule } from '../drop-down/index';\nimport { IgxInputGroupModule, IgxInputGroupComponent } from '../input-group/input-group.component';\nimport { IgxComboItemComponent } from './combo-item.component';\nimport { IgxComboDropDownComponent } from './combo-dropdown.component';\nimport { IgxComboFilteringPipe, IgxComboGroupingPipe } from './combo.pipes';\nimport { OverlaySettings, AbsoluteScrollStrategy } from '../services';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { DisplayDensityBase, DisplayDensityToken, IDisplayDensityOptions } from '../core/density';\nimport { IGX_COMBO_COMPONENT, IgxComboBase } from './combo.common';\nimport { IgxComboAddItemComponent } from './combo-add-item.component';\nimport { IgxComboAPIService } from './combo.api';\nimport { EditorProvider } from '../core/edit-provider';\nimport { IgxInputState, IgxInputDirective } from '../directives/input/input.directive';\n\n/**\n * @hidden\n */\nenum DataTypes {\n    EMPTY = 'empty',\n    PRIMITIVE = 'primitive',\n    COMPLEX = 'complex',\n    PRIMARYKEY = 'valueKey'\n}\n\n/**\n * @hidden\n */\nconst ItemHeights = {\n    'comfortable': 40,\n    'cosy': 32,\n    'compact': 28,\n};\n\n/**\n * @hidden\n * The default number of items that should be in the combo's\n * drop-down list if no `[itemsMaxHeight]` is specified\n */\nconst itemsInContainer = 10;\n\nexport enum IgxComboState {\n    /**\n     * Combo with initial state.\n     */\n    INITIAL = IgxInputState.INITIAL,\n    /**\n     * Combo with valid state.\n     */\n    VALID = IgxInputState.VALID,\n    /**\n     * Combo with invalid state.\n     */\n    INVALID = IgxInputState.INVALID\n}\n\n/** Event emitted when an igx-combo's selection is changing */\nexport interface IComboSelectionChangeEventArgs extends CancelableEventArgs, IBaseEventArgs {\n    /** An array containing the values that are currently selected */\n    oldSelection: any[];\n    /** An array containing the values that will be selected after this event */\n    newSelection: any[];\n    /** An array containing the values that will be added to the selection (if any) */\n    added: any[];\n    /** An array containing the values that will be removed from the selection (if any) */\n    removed: any[];\n    /** The text that will be displayed in the combo text box */\n    displayText: string;\n    /** The user interaction that triggered the selection change */\n    event?: Event;\n}\n\nexport interface IComboItemAdditionEvent extends IBaseEventArgs {\n    oldCollection: any[];\n    addedItem: any;\n    newCollection: any[];\n}\n\n/**\n * When called with sets A & B, returns A - B (as array);\n * @hidden\n */\nfunction diffInSets(set1: Set<any>, set2: Set<any>): any[] {\n    const results = [];\n    set1.forEach(entry => {\n        if (!set2.has(entry)) {\n            results.push(entry);\n        }\n    });\n    return results;\n}\n\nlet NEXT_ID = 0;\nconst noop = () => { };\n\n@Component({\n    selector: 'igx-combo',\n    templateUrl: 'combo.component.html',\n    providers: [\n        IgxComboAPIService,\n        { provide: IGX_COMBO_COMPONENT, useExisting: IgxComboComponent },\n        { provide: NG_VALUE_ACCESSOR, useExisting: IgxComboComponent, multi: true }\n    ]\n})\nexport class IgxComboComponent extends DisplayDensityBase implements IgxComboBase, AfterViewInit, ControlValueAccessor, OnInit,\n    OnDestroy, EditorProvider {\n    /**\n     * @hidden @internal\n     */\n    public customValueFlag = true;\n    /**\n     * @hidden @internal\n     */\n    public defaultFallbackGroup = 'Other';\n    protected stringFilters = IgxStringFilteringOperand;\n    protected booleanFilters = IgxBooleanFilteringOperand;\n    protected _groupKey = '';\n    protected _displayKey: string;\n    protected _prevInputValue = '';\n    private _dataType = '';\n    private ngControl: NgControl = null;\n    private destroy$ = new Subject<any>();\n    private _data = [];\n    private _filteredData = [];\n    private _itemHeight = null;\n    private _itemsMaxHeight = null;\n    private _remoteSelection = {};\n    private _onChangeCallback: (_: any) => void = noop;\n    private _onTouchedCallback: () => void = noop;\n    private _overlaySettings: OverlaySettings = {\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        positionStrategy: new ConnectedPositioningStrategy(),\n        modal: false,\n        closeOnOutsideClick: true,\n        excludePositionTarget: true\n    };\n    private _value = '';\n    private _valid = IgxComboState.INITIAL;\n    constructor(\n        protected elementRef: ElementRef,\n        protected cdr: ChangeDetectorRef,\n        protected selection: IgxSelectionAPIService,\n        protected comboAPI: IgxComboAPIService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions,\n        @Optional() private _injector: Injector) {\n        super(_displayDensityOptions);\n        this.comboAPI.register(this);\n    }\n\n    @ViewChild(IgxForOfDirective, { read: IgxForOfDirective, static: true })\n    protected virtDir: IgxForOfDirective<any>;\n\n    /**\n     * Set custom overlay settings that control how the combo's list of items is displayed.\n     * Set:\n     * ```html\n     * <igx-combo [overlaySettings] = \"customOverlaySettings\"></igx-combo>\n     * ```\n     *\n     * ```typescript\n     *  const customSettings = { positionStrategy: { settings: { target: myTarget } } };\n     *  combo.overlaySettings = customSettings;\n     * ```\n     * Get any custom overlay settings used by the combo:\n     * ```typescript\n     *  const comboOverlaySettings: OverlaySettings = myCombo.overlaySettings;\n     * ```\n     */\n\n    @Input()\n    public overlaySettings: OverlaySettings = null;\n\n    /** @hidden @internal */\n    @ViewChild('inputGroup', { read: IgxInputGroupComponent, static: true }) public inputGroup: IgxInputGroupComponent;\n\n    /** @hidden @internal */\n    @ViewChild('comboInput', { read: IgxInputDirective, static: true }) public comboInput: IgxInputDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild(IgxComboDropDownComponent, { read: IgxComboDropDownComponent, static: true })\n    public dropdown: IgxComboDropDownComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('searchInput')\n    public searchInput: ElementRef<HTMLInputElement> = null;\n\n    /**\n     * @hidden @internal\n     */\n    get displaySearchInput(): boolean {\n        return this.filterable || this.allowCustomValues;\n    }\n\n    /**\n     * The custom template, if any, that should be used when rendering ITEMS in the combo list\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.itemTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboItem>\n     *          <div class=\"custom-item\" let-item let-key=\"valueKey\">\n     *              <div class=\"custom-item__name\">{{ item[key] }}</div>\n     *              <div class=\"custom-item__cost\">{{ item.cost }}</div>\n     *          </div>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboItemDirective, { read: TemplateRef })\n    public itemTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the HEADER for the combo items list\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.headerTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboHeader>\n     *          <div class=\"combo__header\">\n     *              This is a custom header\n     *          </div>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboHeaderDirective, { read: TemplateRef })\n    public headerTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the FOOTER for the combo items list\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.footerTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboFooter>\n     *          <div class=\"combo__footer\">\n     *              This is a custom footer\n     *          </div>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboFooterDirective, { read: TemplateRef })\n    public footerTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering HEADER ITEMS for groups in the combo list\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.headerItemTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboHeaderItem let-item let-key=\"groupKey\">\n     *          <div class=\"custom-item--group\">Group header for {{ item[key] }}</div>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboHeaderItemDirective, { read: TemplateRef })\n    public headerItemTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the ADD BUTTON in the combo drop down\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.addItemTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboAddItem>\n     *          <button class=\"combo__add-button\">\n     *              Click to add item\n     *          </button>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboAddItemDirective, { read: TemplateRef })\n    public addItemTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the ADD BUTTON in the combo drop down\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.emptyTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboEmpty>\n     *          <div class=\"combo--empty\">\n     *              There are no items to display\n     *          </div>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboEmptyDirective, { read: TemplateRef })\n    public emptyTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the combo TOGGLE(open/close) button\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.toggleIconTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboToggleIcon let-collapsed>\n     *          <igx-icon>{{ collapsed ? 'remove_circle' : 'remove_circle_outline'}}</igx-icon>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboToggleIconDirective, { read: TemplateRef })\n    public toggleIconTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the combo CLEAR button\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.combo.clearIconTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-combo #combo>\n     *      ...\n     *      <ng-template igxComboClearIcon>\n     *          <igx-icon>clear</igx-icon>\n     *      </ng-template>\n     *  </igx-combo>\n     * ```\n     */\n    @ContentChild(IgxComboClearIconDirective, { read: TemplateRef })\n    public clearIconTemplate: TemplateRef<any> = null;\n\n    @ViewChild('primitive', { read: TemplateRef, static: true })\n    protected primitiveTemplate: TemplateRef<any>;\n\n    @ViewChild('complex', { read: TemplateRef, static: true })\n    protected complexTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild(IgxForOfDirective, { static: true })\n    public virtualScrollContainer: IgxForOfDirective<any>;\n\n    @ViewChild('dropdownItemContainer', { static: true })\n    protected dropdownContainer: ElementRef = null;\n\n    /**\n     * Emitted when item selection is changing, before the selection completes\n     *\n     * ```html\n     * <igx-combo (onSelectionChange)='handleSelection()'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onSelectionChange = new EventEmitter<IComboSelectionChangeEventArgs>();\n\n    /**\n     * Emitted before the dropdown is opened\n     *\n     * ```html\n     * <igx-combo onOpening='handleOpening($event)'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onOpening = new EventEmitter<CancelableEventArgs & IBaseEventArgs>();\n\n    /**\n     * Emitted after the dropdown is opened\n     *\n     * ```html\n     * <igx-combo (onOpened)='handleOpened()'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onOpened = new EventEmitter<void>();\n\n    /**\n     * Emitted before the dropdown is closed\n     *\n     * ```html\n     * <igx-combo (onClosing)='handleClosing($event)'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onClosing = new EventEmitter<CancelableBrowserEventArgs & IBaseEventArgs>();\n\n    /**\n     * Emitted after the dropdown is closed\n     *\n     * ```html\n     * <igx-combo (onClosed)='handleClosed()'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onClosed = new EventEmitter<void>();\n\n    /**\n     * Emitted when an item is being added to the data collection\n     *\n     * ```html\n     * <igx-combo (onAddition)='handleAdditionEvent()'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onAddition = new EventEmitter<IComboItemAdditionEvent>();\n\n    /**\n     * Emitted when the value of the search input changes (e.g. typing, pasting, clear, etc.)\n     *\n     * ```html\n     * <igx-combo (onSearchInput)='handleSearchInputEvent()'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onSearchInput = new EventEmitter();\n\n    /**\n     * Emitted when new chunk of data is loaded from the virtualization\n     *\n     * ```html\n     * <igx-combo (onDataPreLoad)='handleDataPreloadEvent()'></igx-combo>\n     * ```\n     */\n    @Output()\n    public onDataPreLoad = new EventEmitter<any>();\n\n    /**\n     * Gets/gets combo id.\n     *\n     * ```typescript\n     * // get\n     * let id = this.combo.id;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [id]='combo1'></igx-combo>\n     * ```\n    */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-combo-${NEXT_ID++}`;\n\n    /**\n     * Sets the style width of the element\n     *\n     * ```typescript\n     * // get\n     * let myComboWidth = this.combo.width;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [width]='250px'></igx-combo>\n     * ```\n     */\n    @HostBinding('style.width')\n    @Input()\n    public width: string;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-combo')\n    public cssClass = 'igx-combo'; // Independent of display density, at the time being\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding(`attr.role`)\n    public role = 'combobox';\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-expanded')\n    public get ariaExpanded(): boolean {\n        return !this.dropdown.collapsed;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-haspopup')\n    public get hasPopUp() {\n        return 'listbox';\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-owns')\n    public get ariaOwns() {\n        return this.dropdown.id;\n    }\n\n    /**\n     * Controls whether custom values can be added to the collection\n     *\n     * ```typescript\n     * // get\n     * let comboAllowsCustomValues = this.combo.allowCustomValues;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [allowCustomValues]='true'></igx-combo>\n     * ```\n     */\n    @Input()\n    public allowCustomValues = false;\n\n    /**\n     * Configures the drop down list height\n     *\n     * ```typescript\n     * // get\n     * let myComboItemsMaxHeight = this.combo.itemsMaxHeight;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [itemsMaxHeight]='320'></igx-combo>\n     * ```\n    */\n    @Input()\n    public get itemsMaxHeight(): number {\n        if (this._itemsMaxHeight === null || this._itemsMaxHeight === undefined) {\n            return this.itemHeight * itemsInContainer;\n        }\n        return this._itemsMaxHeight;\n    }\n\n    public set itemsMaxHeight(val: number) {\n        this._itemsMaxHeight = val;\n    }\n\n    /**\n     * Configures the drop down list width\n     *\n     * ```typescript\n     * // get\n     * let myComboItemsWidth = this.combo.itemsWidth;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [itemsWidth] = '\"180px\"'></igx-combo>\n     * ```\n     */\n    @Input()\n    public itemsWidth: string;\n\n    /**\n     * Configures the drop down list item height\n     *\n     * ```typescript\n     * // get\n     * let myComboItemHeight = this.combo.itemHeight;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [itemHeight]='32'></igx-combo>\n     * ```\n     */\n    @Input()\n    public get itemHeight(): number {\n        if (this._itemHeight === null || this._itemHeight === undefined) {\n            return ItemHeights[this.displayDensity];\n        }\n        return this._itemHeight;\n    }\n\n    public set itemHeight(val: number) {\n        this._itemHeight = val;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public filteringLogic = FilteringLogic.Or;\n\n    /**\n     * Defines the placeholder value for the combo value field\n     *\n     * ```typescript\n     * // get\n     * let myComboPlaceholder = this.combo.placeholder;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [placeholder]='newPlaceHolder'></igx-combo>\n     * ```\n     */\n    @Input()\n    public placeholder;\n\n    /**\n     * @hidden @internal\n     */\n    public get inputEmpty(): boolean {\n        return !this.value && !this.placeholder;\n    }\n\n    /**\n     * Defines the placeholder value for the combo dropdown search field\n     *\n     * ```typescript\n     * // get\n     * let myComboSearchPlaceholder = this.combo.searchPlaceholder;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [searchPlaceholder]='newPlaceHolder'></igx-combo>\n     * ```\n     */\n    @Input()\n    public searchPlaceholder = 'Enter a Search Term';\n\n    /**\n     * Combo data source.\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [data]='items'></igx-combo>\n     * ```\n     */\n    @Input()\n    get data(): any[] {\n        return this._data;\n    }\n    set data(val: any[]) {\n        this._data = (val) ? val : [];\n    }\n\n    /**\n     * Combo value data source property.\n     *\n     * ```typescript\n     * // get\n     * let myComboValueKey = this.combo.valueKey;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [valueKey]='myKey'></igx-combo>\n     * ```\n     */\n    @Input()\n    public valueKey: string = null;\n\n    @Input()\n    set displayKey(val: string) {\n        this._displayKey = val;\n    }\n\n    /**\n     * Combo text data source property.\n     *\n     * ```typescript\n     * // get\n     * let myComboDisplayKey = this.combo.displayKey;\n     *\n     * // set\n     * this.combo.displayKey = 'val';\n     *\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [displayKey]='myDisplayKey'></igx-combo>\n     * ```\n     */\n    get displayKey() {\n        return this._displayKey ? this._displayKey : this.valueKey;\n    }\n\n    /**\n     * The item property by which items should be grouped inside the items list. Not usable if data is not of type Object[].\n     *\n     * ```html\n     * <!--set-->\n     * <igx-combo [groupKey]='newGroupKey'></igx-combo>\n     * ```\n     */\n    @Input()\n    public set groupKey(val: string) {\n        this._groupKey = val;\n    }\n\n    /**\n     * The item property by which items should be grouped inside the items list. Not usable if data is not of type Object[].\n     *\n     * ```typescript\n     * // get\n     * let currentGroupKey = this.combo.groupKey;\n     * ```\n     */\n    public get groupKey(): string {\n        return this._groupKey;\n    }\n\n    /**\n     * An @Input property that enabled/disables filtering in the list. The default is `true`.\n     * ```html\n     *<igx-combo [filterable]=\"false\">\n     * ```\n     */\n    @Input()\n    public filterable = true;\n\n    /**\n     * An @Input property that set aria-labelledby attribute\n     * ```html\n     *<igx-combo [ariaLabelledBy]=\"'label1'\">\n     * ```\n     */\n    @Input()\n    @HostBinding('attr.aria-labelledby')\n    public ariaLabelledBy: string;\n\n    /**\n     * An @Input property that enabled/disables combo. The default is `false`.\n     * ```html\n     *<igx-combo [disabled]=\"'true'\">\n     * ```\n     */\n    @Input()\n    public disabled = false;\n\n    /**\n     * An @Input property that sets how the combo will be styled.\n     * The allowed values are `line`, `box`, `border` and `search`. The default is `box`.\n     * ```html\n     *<igx-combo [type]=\"'line'\">\n     * ```\n     */\n    @Input()\n    public type = 'box';\n\n    /**\n     * Gets if control is valid, when used in a form\n     *\n     * ```typescript\n     * // get\n     * let valid = this.combo.valid;\n     * ```\n     * */\n    public get valid(): IgxComboState {\n        return this._valid;\n    }\n\n    /**\n    * Sets if control is valid, when used in a form\n    *\n    * ```typescript\n    * // set\n    * this.combo.valid = IgxComboState.INVALID;\n    * ```\n   */\n    public set valid(valid: IgxComboState) {\n        this._valid = valid;\n        this.comboInput.valid = IgxInputState[IgxComboState[valid]];\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public searchValue = '';\n\n    /**\n     * @hidden @internal\n     */\n    @HostListener('keydown.ArrowDown', ['$event'])\n    @HostListener('keydown.Alt.ArrowDown', ['$event'])\n    onArrowDown(event: Event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.open();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    onInputClick(event: Event) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.toggle();\n    }\n\n    /**\n     * Defines the current state of the virtualized data. It contains `startIndex` and `chunkSize`\n     *\n     * ```typescript\n     * // get\n     * let state = this.combo.virtualizationState;\n     * ```\n    */\n    get virtualizationState(): IForOfState {\n        return this.virtDir.state;\n    }\n    /**\n     * Sets the current state of the virtualized data.\n     *\n     * ```typescript\n     * // set\n     * this.combo.virtualizationState(state);\n     * ```\n     */\n    set virtualizationState(state: IForOfState) {\n        this.virtDir.state = state;\n    }\n\n    /**\n     * Gets total count of the virtual data items, when using remote service.\n     *\n     * ```typescript\n     * // get\n     * let count = this.combo.totalItemCount;\n     * ```\n    */\n    get totalItemCount(): number {\n        return this.virtDir.totalItemCount;\n    }\n    /**\n     * Sets total count of the virtual data items, when using remote service.\n     *\n     * ```typescript\n     * // set\n     * this.combo.totalItemCount(remoteService.count);\n     * ```\n     */\n    set totalItemCount(count: number) {\n        this.virtDir.totalItemCount = count;\n    }\n\n    /**\n     * The text displayed in the combo input\n     *\n     * ```typescript\n     * // get\n     * let comboValue = this.combo.value;\n     * ```\n     */\n    get value(): string {\n        return this._value;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get filteredData(): any[] {\n        return this.filterable ? this._filteredData : this.data;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public set filteredData(val: any[]) {\n        this._filteredData = this.groupKey ? (val || []).filter((e) => e.isHeader !== true) : val;\n        this.checkMatch();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleKeyUp(event: KeyboardEvent): void {\n        if (event.key === 'ArrowDown' || event.key === 'Down') {\n            this.dropdown.focusedItem = this.dropdown.items[0];\n            this.dropdownContainer.nativeElement.focus();\n        } else if (event.key === 'Escape' || event.key === 'Esc') {\n            this.toggle();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleKeyDown(event: KeyboardEvent) {\n        if (event.key === 'ArrowUp' || event.key === 'Up') {\n            event.preventDefault();\n            event.stopPropagation();\n            this.close();\n        }\n    }\n\n    private checkMatch(): void {\n        const displayKey = this.displayKey;\n        const matchFn = (e) => {\n            const value = displayKey ? e[displayKey] : e;\n            return value.toString().toLowerCase() === this.searchValue.trim().toLowerCase();\n        };\n        const itemMatch = this.filteredData.some(matchFn);\n        this.customValueFlag = this.allowCustomValues && !itemMatch;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleInputChange(event?: string) {\n        if (event !== undefined) {\n            this.onSearchInput.emit(event);\n        }\n        this.checkMatch();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get dataType(): string {\n        if (this.displayKey) {\n            return DataTypes.COMPLEX;\n        }\n        return DataTypes.PRIMITIVE;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get isRemote() {\n        return this.totalItemCount > 0 &&\n            this.valueKey &&\n            this.dataType === DataTypes.COMPLEX;\n    }\n\n    /** Contains key-value pairs of the selected valueKeys and their resp. displayKeys */\n    private registerRemoteEntries(ids: any[], add = true) {\n        if (add) {\n            const selection = this.getValueDisplayPairs(ids);\n            for (const entry of selection) {\n                this._remoteSelection[entry[this.valueKey]] = entry[this.displayKey];\n            }\n        } else {\n            for (const entry of ids) {\n                delete this._remoteSelection[entry];\n            }\n        }\n    }\n\n    /** For `id: any[]` returns a mapped `{ [combo.valueKey]: any, [combo.displayKey]: any }[]`*/\n    private getValueDisplayPairs(ids: any[]) {\n        return this.data.filter(entry => ids.indexOf(entry[this.valueKey]) > -1).map(e => {\n            return {\n                [this.valueKey]: e[this.valueKey],\n                [this.displayKey]: e[this.displayKey]\n            };\n        });\n    }\n\n    /**\n     * Returns if the specified itemID is selected\n     * @hidden\n     * @internal\n     */\n    public isItemSelected(item: any): boolean {\n        return this.selection.is_item_selected(this.id, item);\n    }\n\n    /**\n     * Triggers change detection on the combo view\n     */\n    public triggerCheck() {\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public isAddButtonVisible(): boolean {\n        // This should always return a boolean value. If this.searchValue was '', it returns '' instead of false;\n        return this.searchValue !== '' && this.customValueFlag;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleSelectAll(evt) {\n        if (evt.checked) {\n            this.selectAllItems();\n        } else {\n            this.deselectAllItems();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public addItemToCollection() {\n        if (!this.searchValue) {\n            return;\n        }\n        const newValue = this.searchValue.trim();\n        const addedItem = this.displayKey ? {\n            [this.valueKey]: newValue,\n            [this.displayKey]: newValue\n        } : newValue;\n        if (this.groupKey) {\n            Object.assign(addedItem, { [this.groupKey]: this.defaultFallbackGroup });\n        }\n        const oldCollection = this.data;\n        const newCollection = [...this.data];\n        newCollection.push(addedItem);\n        const args: IComboItemAdditionEvent = {\n            oldCollection, addedItem, newCollection\n        };\n        this.onAddition.emit(args);\n        this.data.push(addedItem);\n        // If you mutate the array, no pipe is invoked and the display isn't updated;\n        // if you replace the array, the pipe executes and the display is updated.\n        this.data = cloneArray(this.data);\n        this.selectItems(this.comboAPI.valueKey !== null ? [addedItem[this.valueKey]] : [addedItem], false);\n        this.customValueFlag = false;\n        this.searchInput.nativeElement.focus();\n        this.dropdown.focusedItem = null;\n        this.virtDir.scrollTo(0);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public focusSearchInput(opening?: boolean): void {\n        if (this.displaySearchInput && this.searchInput) {\n            this.searchInput.nativeElement.focus();\n        } else {\n            if (opening) {\n                this.dropdownContainer.nativeElement.focus();\n            } else {\n                this.comboInput.nativeElement.focus();\n                this.toggle();\n            }\n        }\n    }\n\n    protected onStatusChanged = () => {\n        if ((this.ngControl.control.touched || this.ngControl.control.dirty) &&\n            (this.ngControl.control.validator || this.ngControl.control.asyncValidator)) {\n            this.valid = this.ngControl.valid ? IgxComboState.VALID : IgxComboState.INVALID;\n        }\n        this.manageRequiredAsterisk();\n    }\n\n    protected manageRequiredAsterisk(): void {\n        if (this.ngControl && this.ngControl.control.validator) {\n            // Run the validation with empty object to check if required is enabled.\n            const error = this.ngControl.control.validator({} as AbstractControl);\n            this.inputGroup.isRequired = error && error.required;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onBlur() {\n        if (this.collapsed) {\n            this._onTouchedCallback();\n            if (this.ngControl && !this.ngControl.valid) {\n                this.valid = IgxComboState.INVALID;\n            } else {\n                this.valid = IgxComboState.INITIAL;\n            }\n        }\n    }\n\n    /** @hidden @internal */\n    public onFocus() {\n        if (this.collapsed) {\n            this._onTouchedCallback();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngOnInit() {\n        this.ngControl = this._injector.get<NgControl>(NgControl, null);\n        this._overlaySettings.positionStrategy.settings.target = this.elementRef.nativeElement;\n        this.selection.set(this.id, new Set());\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngAfterViewInit() {\n        this.filteredData = [...this.data];\n\n        if (this.ngControl) {\n            this.ngControl.statusChanges.pipe(takeUntil(this.destroy$)).subscribe(this.onStatusChanged);\n            this.manageRequiredAsterisk();\n            this.cdr.detectChanges();\n        }\n        this.virtDir.onChunkPreload.pipe(takeUntil(this.destroy$)).subscribe((e) => {\n            this.onDataPreLoad.emit(e);\n        });\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n        this.comboAPI.clear();\n        this.selection.clear(this.id);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public writeValue(value: any[]): void {\n        this.selectItems(value, true);\n        this.cdr.markForCheck();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public registerOnChange(fn: any): void {\n        this._onChangeCallback = fn;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public registerOnTouched(fn: any): void {\n        this._onTouchedCallback = fn;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public setDisabledState(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n\n    /**\n     * @hidden\n     */\n    public getEditElement(): HTMLElement {\n        return this.comboInput.nativeElement;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get template(): TemplateRef<any> {\n        this._dataType = this.dataType;\n        if (this.itemTemplate) {\n            return this.itemTemplate;\n        }\n        if (this._dataType === DataTypes.COMPLEX) {\n            return this.complexTemplate;\n        }\n        return this.primitiveTemplate;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get context(): any {\n        return {\n            $implicit: this\n        };\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleClearItems(event: Event): void {\n        this.deselectAllItems(true, event);\n        if (this.collapsed) {\n            this.getEditElement().focus();\n        } else {\n            this.focusSearchInput(true);\n        }\n        event.stopPropagation();\n    }\n\n    /**\n     * A method that opens/closes the combo.\n     *\n     *```html\n     *<button (click)=\"combo.toggle()\">Toggle Combo</button>\n     *<igx-combo #combo></igx-combo>\n     *```\n     */\n    public toggle(): void {\n        const overlaySettings = Object.assign({}, this._overlaySettings, this.overlaySettings);\n        this.dropdown.toggle(overlaySettings);\n    }\n\n    /**\n     * A method that opens the combo.\n     *\n     *```html\n     *<button (click)=\"combo.open()\">Open Combo</button>\n     *<igx-combo #combo></igx-combo>\n     *```\n     */\n    public open(): void {\n        const overlaySettings = Object.assign({}, this._overlaySettings, this.overlaySettings);\n        this.dropdown.open(overlaySettings);\n    }\n\n    /**\n     * A method that closes the combo.\n     *\n     *```html\n     *<button (click)=\"combo.close()\">Close Combo</button>\n     *<igx-combo #combo></igx-combo>\n     *```\n     */\n    public close(): void {\n        this.dropdown.close();\n    }\n\n    /**\n     * Gets drop down state.\n     *\n     * ```typescript\n     * let state = this.combo.collapsed;\n     * ```\n    */\n    public get collapsed(): boolean {\n        return this.dropdown.collapsed;\n    }\n\n    /**\n     * Get current selection state\n     * @returns Array of selected items\n     * ```typescript\n     * let selectedItems = this.combo.selectedItems();\n     * ```\n     */\n    public selectedItems() {\n        const items = Array.from(this.selection.get(this.id));\n        return items;\n    }\n\n    /**\n     * Select defined items\n     * @param newItems new items to be selected\n     * @param clearCurrentSelection if true clear previous selected items\n     * ```typescript\n     * this.combo.selectItems([\"New York\", \"New Jersey\"]);\n     * ```\n     */\n    public selectItems(newItems: Array<any>, clearCurrentSelection?: boolean, event?: Event) {\n        if (newItems) {\n            const newSelection = this.selection.add_items(this.id, newItems, clearCurrentSelection);\n            this.setSelection(newSelection, event);\n        }\n    }\n\n    /**\n     * Deselect defined items\n     * @param items items to deselected\n     * ```typescript\n     * this.combo.deselectItems([\"New York\", \"New Jersey\"]);\n     * ```\n     */\n    public deselectItems(items: Array<any>, event?: Event) {\n        if (items) {\n            const newSelection = this.selection.delete_items(this.id, items);\n            this.setSelection(newSelection, event);\n        }\n    }\n\n    /**\n     * Select all (filtered) items\n     * @param ignoreFilter if set to true, selects all items, otherwise selects only the filtered ones.\n     * ```typescript\n     * this.combo.selectAllItems();\n     * ```\n     */\n    public selectAllItems(ignoreFilter?: boolean, event?: Event) {\n        const allVisible = this.selection.get_all_ids(ignoreFilter ? this.data : this.filteredData, this.valueKey);\n        const newSelection = this.selection.add_items(this.id, allVisible);\n        this.setSelection(newSelection, event);\n    }\n\n    /**\n     * Deselect all (filtered) items\n     * @param ignoreFilter if set to true, deselects all items, otherwise deselects only the filtered ones.\n     * ```typescript\n     * this.combo.deselectAllItems();\n     * ```\n     */\n    public deselectAllItems(ignoreFilter?: boolean, event?: Event): void {\n        let newSelection = this.selection.get_empty();\n        if (this.filteredData.length !== this.data.length && !ignoreFilter) {\n            newSelection = this.selection.delete_items(this.id, this.selection.get_all_ids(this.filteredData, this.valueKey));\n        }\n        this.setSelection(newSelection, event);\n    }\n\n    /**\n     * Selects/Deselects a single item\n     * @param itemID the itemID of the specific item\n     * @param select If the item should be selected (true) or deselected (false)\n     *\n     * Without specified valueKey;\n     * ```typescript\n     * this.combo.valueKey = null;\n     * const items: { field: string, region: string}[] = data;\n     * this.combo.setSelectedItem(items[0], true);\n     * ```\n     * With specified valueKey;\n     * ```typescript\n     * this.combo.valueKey = 'field';\n     * const items: { field: string, region: string}[] = data;\n     * this.combo.setSelectedItem('Connecticut', true);\n     * ```\n     */\n    public setSelectedItem(itemID: any, select = true, event?: Event): void {\n        if (itemID === null || itemID === undefined) {\n            return;\n        }\n        if (select) {\n            this.selectItems([itemID], false, event);\n        } else {\n            this.deselectItems([itemID], event);\n        }\n    }\n\n    protected setSelection(newSelection: Set<any>, event?: Event): void {\n        const removed = diffInSets(this.selection.get(this.id), newSelection);\n        const added = diffInSets(newSelection, this.selection.get(this.id));\n        const newSelectionAsArray = Array.from(newSelection);\n        const oldSelectionAsArray = Array.from(this.selection.get(this.id) || []);\n        const displayText = this.createDisplayText(newSelectionAsArray, oldSelectionAsArray);\n        const args: IComboSelectionChangeEventArgs = {\n            newSelection: newSelectionAsArray,\n            oldSelection: oldSelectionAsArray,\n            added,\n            removed,\n            event,\n            displayText,\n            cancel: false\n        };\n        this.onSelectionChange.emit(args);\n        if (!args.cancel) {\n            this.selection.select_items(this.id, args.newSelection, true);\n            if (displayText !== args.displayText) {\n                this._value = args.displayText;\n            } else {\n                this._value = this.createDisplayText(args.newSelection, args.oldSelection);\n            }\n            this._onChangeCallback(args.newSelection);\n        }\n    }\n\n    /** Returns a string that should be populated in the combo's text box */\n    private concatDisplayText(selection: any[]): string {\n        const value = this.displayKey !== null && this.displayKey !== undefined ?\n        this.convertKeysToItems(selection).map(entry => entry[this.displayKey]).join(', ') :\n        selection.join(', ');\n        return value;\n    }\n\n    /** Constructs the combo display value\n     * If remote, caches the key displayText\n     * If not, just combine the object.displayKeys\n     */\n    private createDisplayText(newSelection: any[], oldSelection: any[]) {\n        let value = '';\n        if (this.isRemote) {\n            if (newSelection.length) {\n                const removedItems = oldSelection.filter(e => newSelection.indexOf(e) < 0);\n                const addedItems = newSelection.filter(e => oldSelection.indexOf(e) < 0);\n                this.registerRemoteEntries(addedItems);\n                this.registerRemoteEntries(removedItems, false);\n                value = Object.keys(this._remoteSelection).map(e => this._remoteSelection[e]).join(', ');\n            } else {\n                // If new selection is empty, clear all items\n                this.registerRemoteEntries(oldSelection, false);\n            }\n        } else {\n            value = this.concatDisplayText(newSelection);\n        }\n        return value;\n    }\n\n    /** if there is a valueKey - map the keys to data items, else - just return the keys */\n    private convertKeysToItems(keys: any[]) {\n        if (this.comboAPI.valueKey === null) {\n            return keys;\n        }\n        // map keys vs. filter data to retain the order of the selected items\n        return keys.map(key => this.data.find(entry => entry[this.valueKey] === key)).filter(e => e !== undefined);\n    }\n    /**\n     * Event handlers\n     * @hidden\n     * @internal\n     */\n    public handleOpening(event: CancelableEventArgs) {\n        this.onOpening.emit(event);\n        if (event.cancel) {\n            return;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleOpened() {\n        this.triggerCheck();\n        this.focusSearchInput(true);\n        this.onOpened.emit();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleClosing(event) {\n        this.onClosing.emit(event);\n        if (event.cancel) {\n            return;\n        }\n        this.searchValue = '';\n        this.comboInput.nativeElement.focus();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public handleClosed() {\n        this.onClosed.emit();\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxComboComponent, IgxComboItemComponent, IgxComboGroupingPipe,\n        IgxComboFilteringPipe, IgxComboDropDownComponent, IgxComboAddItemComponent,\n        IgxComboItemDirective,\n        IgxComboEmptyDirective,\n        IgxComboHeaderItemDirective,\n        IgxComboHeaderDirective,\n        IgxComboFooterDirective,\n        IgxComboAddItemDirective,\n        IgxComboToggleIconDirective,\n        IgxComboClearIconDirective],\n    exports: [IgxComboComponent, IgxComboItemComponent, IgxComboDropDownComponent, IgxComboAddItemComponent,\n        IgxComboItemDirective,\n        IgxComboEmptyDirective,\n        IgxComboHeaderItemDirective,\n        IgxComboHeaderDirective,\n        IgxComboFooterDirective,\n        IgxComboAddItemDirective,\n        IgxComboToggleIconDirective,\n        IgxComboClearIconDirective],\n    imports: [IgxRippleModule, CommonModule, IgxInputGroupModule, FormsModule, ReactiveFormsModule,\n        IgxForOfModule, IgxToggleModule, IgxCheckboxModule, IgxDropDownModule, IgxButtonModule, IgxIconModule]\n})\nexport class IgxComboModule { }\n","import { isIE } from '../core/utils';\n\n/**\n * This enum is used to keep the date validation result.\n *\n *@hidden\n */\nexport const enum DateState {\n    Valid = 'valid',\n    Invalid = 'invalid',\n}\n\n/**\n *@hidden\n */\nconst enum FormatDesc {\n    Numeric = 'numeric',\n    TwoDigits = '2-digit'\n}\n\n/**\n *@hidden\n */\nconst enum DateChars {\n    YearChar = 'y',\n    MonthChar = 'M',\n    DayChar = 'd'\n}\n\n/**\n *@hidden\n */\nconst enum DateParts {\n    Day = 'day',\n    Month = 'month',\n    Year = 'year'\n}\n\n/**\n *@hidden\n */\nexport abstract class DatePickerUtil {\n    private static readonly SHORT_DATE_MASK = 'MM/dd/yy';\n    private static readonly SEPARATOR = 'literal';\n    private static readonly NUMBER_OF_MONTHS = 12;\n    private static readonly PROMPT_CHAR = '_';\n    private static readonly DEFAULT_LOCALE = 'en';\n\n    /**\n     * This method generates date parts structure based on editor mask and locale.\n     * @param maskValue: string\n     * @param locale: string\n     * @returns array containing information about date parts - type, position, format\n     */\n    public static parseDateFormat(maskValue: string, locale: string = DatePickerUtil.DEFAULT_LOCALE): any[] {\n        let dateStruct = [];\n        if (maskValue === undefined && !isIE()) {\n            dateStruct = DatePickerUtil.getDefaultLocaleMask(locale);\n        } else {\n            const mask = (maskValue) ? maskValue : DatePickerUtil.SHORT_DATE_MASK;\n            const maskArray = Array.from(mask);\n            const monthInitPosition = mask.indexOf(DateChars.MonthChar);\n            const dayInitPosition = mask.indexOf(DateChars.DayChar);\n            const yearInitPosition = mask.indexOf(DateChars.YearChar);\n\n            if (yearInitPosition !== -1) {\n                dateStruct.push({\n                    type: DateParts.Year,\n                    initialPosition: yearInitPosition,\n                    formatType: DatePickerUtil.getYearFormatType(mask)\n                });\n            }\n\n            if (monthInitPosition !== -1) {\n                dateStruct.push({\n                    type: DateParts.Month,\n                    initialPosition: monthInitPosition,\n                    formatType: DatePickerUtil.getMonthFormatType(mask)\n                });\n            }\n\n            if (dayInitPosition !== -1) {\n                dateStruct.push({\n                    type: DateParts.Day,\n                    initialPosition: dayInitPosition,\n                    formatType: DatePickerUtil.getDayFormatType(mask)\n                });\n            }\n\n            for (let i = 0; i < maskArray.length; i++) {\n                if (!DatePickerUtil.isDateChar(maskArray[i])) {\n                    dateStruct.push({\n                        type: DatePickerUtil.SEPARATOR,\n                        initialPosition: i,\n                        value: maskArray[i]\n                    });\n                }\n            }\n\n            dateStruct.sort((a, b) => a.initialPosition - b.initialPosition);\n            DatePickerUtil.fillDatePartsPositions(dateStruct);\n        }\n        return dateStruct;\n    }\n\n    /**\n     * This method generates input mask based on date parts.\n     * @param dateStruct array\n     * @returns input mask\n     */\n    public static getInputMask(dateStruct: any[]): string {\n        const inputMask = [];\n        for (let i = 0; i < dateStruct.length; i++) {\n            if (dateStruct[i].type === DatePickerUtil.SEPARATOR) {\n                inputMask.push(dateStruct[i].value);\n            } else if (dateStruct[i].type === DateParts.Day || dateStruct[i].type === DateParts.Month) {\n                inputMask.push('00');\n            } else if (dateStruct[i].type === DateParts.Year) {\n                switch (dateStruct[i].formatType) {\n                    case FormatDesc.Numeric: {\n                        inputMask.push('0000');\n                        break;\n                    }\n                    case FormatDesc.TwoDigits: {\n                        inputMask.push('00');\n                        break;\n                    }\n                }\n            }\n        }\n        return inputMask.join('');\n    }\n\n    /**\n     * This method generates editor mask.\n     * @param dateStruct\n     * @returns editor mask\n     */\n    public static getMask(dateStruct: any[]): string {\n        const mask = [];\n        for (let i = 0; i < dateStruct.length; i++) {\n            switch (dateStruct[i].formatType) {\n                case FormatDesc.Numeric: {\n                    if (dateStruct[i].type === DateParts.Day) {\n                        mask.push('d');\n                    } else if (dateStruct[i].type === DateParts.Month) {\n                        mask.push('M');\n                    } else {\n                        mask.push('yyyy');\n                    }\n                    break;\n                }\n                case FormatDesc.TwoDigits: {\n                    if (dateStruct[i].type === DateParts.Day) {\n                        mask.push('dd');\n                    } else if (dateStruct[i].type === DateParts.Month) {\n                        mask.push('MM');\n                    } else {\n                        mask.push('yy');\n                    }\n                }\n            }\n\n            if (dateStruct[i].type === DatePickerUtil.SEPARATOR) {\n                mask.push(dateStruct[i].value);\n            }\n        }\n\n        return mask.join('');\n    }\n    /**\n     * This method parses an input string base on date parts and returns a date and its validation state.\n     * @param dateFormatParts\n     * @param prevDateValue\n     * @param inputValue\n     * @returns object containing a date and its validation state\n     */\n    public static parseDateArray(dateFormatParts: any[], prevDateValue: Date, inputValue: string): any {\n        const dayStr = DatePickerUtil.getDayValueFromInput(dateFormatParts, inputValue);\n        const monthStr = DatePickerUtil.getMonthValueFromInput(dateFormatParts, inputValue);\n        const yearStr = DatePickerUtil.getYearValueFromInput(dateFormatParts, inputValue);\n        const yearFormat = DatePickerUtil.getDateFormatPart(dateFormatParts, DateParts.Year).formatType;\n        const day = (dayStr !== '') ? parseInt(dayStr, 10) : 1;\n        const month = (monthStr !== '') ? parseInt(monthStr, 10) - 1 : 0;\n\n        let year;\n        if (yearStr === '') {\n            year = (yearFormat === FormatDesc.TwoDigits) ? '00' : '2000';\n        } else {\n            year = yearStr;\n        }\n        let yearPrefix;\n        if (prevDateValue) {\n            const originalYear = prevDateValue.getFullYear().toString();\n            if (originalYear.length === 4) {\n                yearPrefix = originalYear.substring(0, 2);\n            }\n        } else {\n            yearPrefix = '20';\n        }\n        const fullYear = (yearFormat === FormatDesc.TwoDigits) ? yearPrefix.concat(year) : year;\n\n        if ((month < 0) || (month > 11) || (month === NaN)) {\n            return { state: DateState.Invalid, value: inputValue };\n        }\n\n        if ((day < 1) || (day > DatePickerUtil.daysInMonth(fullYear, month + 1)) || (day === NaN)) {\n            return { state: DateState.Invalid, value: inputValue };\n        }\n\n        return { state: DateState.Valid, date: new Date(fullYear, month, day) };\n    }\n\n    public static maskToPromptChars(mask: string): string {\n        const result = mask.replace(/0|L/g, DatePickerUtil.PROMPT_CHAR);\n        return result;\n    }\n\n    /**\n     * This method replaces prompt chars with empty string.\n     * @param value\n     */\n    public static trimUnderlines(value: string): string {\n        const result = value.replace(/_/g, '');\n        return result;\n    }\n\n    /**\n     * This method is used for spinning date parts.\n     * @param dateFormatParts\n     * @param inputValue\n     * @param position\n     * @param delta\n     * @param isSpinLoop\n     * @return modified text input\n     */\n    public static getModifiedDateInput(dateFormatParts: any[],\n        inputValue: string,\n        position: number,\n        delta: number,\n        isSpinLoop: boolean): string {\n        const datePart = DatePickerUtil.getDatePartOnPosition(dateFormatParts, position);\n        const datePartType = datePart.type;\n        const datePartFormatType = datePart.formatType;\n        let newValue;\n\n        const datePartValue = DatePickerUtil.getDateValueFromInput(dateFormatParts, datePartType, inputValue);\n        newValue = parseInt(datePartValue, 10);\n\n        let maxValue, minValue;\n        const minMax = DatePickerUtil.getMinMaxValue(dateFormatParts, datePart, inputValue);\n        minValue = minMax.min;\n        maxValue = minMax.max;\n\n        if (isNaN(newValue)) {\n            if (minValue === 'infinite') {\n                newValue = 2000;\n            } else {\n                newValue = minValue;\n            }\n        }\n        let tempValue = newValue;\n        tempValue += delta;\n\n        // Infinite loop for full years\n        if (maxValue === 'infinite' && minValue === 'infinite') {\n            newValue = tempValue;\n        }\n\n        if (isSpinLoop) {\n            if (tempValue > maxValue) {\n                tempValue = minValue;\n            }\n            if (tempValue < minValue) {\n                tempValue = maxValue;\n            }\n            newValue = tempValue;\n        } else {\n            if (tempValue <= maxValue && tempValue >= minValue) {\n                newValue = tempValue;\n            }\n        }\n\n        const startIdx = datePart.position[0];\n        const endIdx = datePart.position[1];\n        const start = inputValue.slice(0, startIdx);\n        const end = inputValue.slice(endIdx, inputValue.length);\n        let changedPart: string;\n\n        const prefix = DatePickerUtil.getNumericFormatPrefix(datePartFormatType);\n        changedPart = (newValue < 10) ? `${prefix}${newValue}` : `${newValue}`;\n\n        return `${start}${changedPart}${end}`;\n    }\n\n    /**\n     * This method returns date input with prompt chars.\n     * @param dateFormatParts\n     * @param date\n     * @param inputValue\n     * @returns date input including prompt chars\n     */\n    public static addPromptCharsEditMode(dateFormatParts: any[], date: Date, inputValue: string): string {\n        const dateArray = Array.from(inputValue);\n        for (let i = 0; i < dateFormatParts.length; i++) {\n            if (dateFormatParts[i].formatType === FormatDesc.Numeric) {\n                if ((dateFormatParts[i].type === DateParts.Day && date.getDate() < 10)\n                    || (dateFormatParts[i].type === DateParts.Month && date.getMonth() + 1 < 10)) {\n                    dateArray.splice(dateFormatParts[i].position[0], 0, DatePickerUtil.PROMPT_CHAR);\n                    dateArray.join('');\n                }\n            }\n        }\n        return dateArray.join('');\n    }\n\n    /**\n     * This method checks if date input is done.\n     * @param dateFormatParts\n     * @param input\n     * @returns input completeness\n     */\n    public static checkForCompleteDateInput(dateFormatParts: any[], input: string): string {\n        const dayValue = DatePickerUtil.getDayValueFromInput(dateFormatParts, input);\n        const monthValue = DatePickerUtil.getMonthValueFromInput(dateFormatParts, input);\n        const yearValue = DatePickerUtil.getYearValueFromInput(dateFormatParts, input);\n        const dayStr = DatePickerUtil.getDayValueFromInput(dateFormatParts, input, false);\n        const monthStr = DatePickerUtil.getMonthValueFromInput(dateFormatParts, input, false);\n\n        if (DatePickerUtil.isFullInput(dayValue, dayStr)\n            && DatePickerUtil.isFullInput(monthValue, monthStr)\n            && DatePickerUtil.isFullYearInput(dateFormatParts, yearValue)) {\n            return 'complete';\n        } else if (dayValue === '' && monthValue === '' && yearValue === '') {\n            return 'empty';\n        } else if (dayValue === '' || monthValue === '' || yearValue === '') {\n            return 'partial';\n        }\n        return '';\n    }\n\n    private static getYearFormatType(format: string): string {\n        switch (format.match(new RegExp(DateChars.YearChar, 'g')).length) {\n            case 1: {\n                // y (2020)\n                return FormatDesc.Numeric;\n            }\n            case 4: {\n                // yyyy (2020)\n                return FormatDesc.Numeric;\n            }\n            case 2: {\n                // yy (20)\n                return FormatDesc.TwoDigits;\n            }\n        }\n    }\n\n    private static getMonthFormatType(format: string): string {\n        switch (format.match(new RegExp(DateChars.MonthChar, 'g')).length) {\n            case 1: {\n                // M (8)\n                return FormatDesc.Numeric;\n            }\n            case 2: {\n                // MM (08)\n                return FormatDesc.TwoDigits;\n            }\n        }\n    }\n\n    private static getDayFormatType(format: string): string {\n        switch (format.match(new RegExp(DateChars.DayChar, 'g')).length) {\n            case 1: {\n                // d (6)\n                return FormatDesc.Numeric;\n            }\n            case 2: {\n                // dd (06)\n                return FormatDesc.TwoDigits;\n            }\n        }\n    }\n\n    private static getDefaultLocaleMask(locale: string) {\n        const dateStruct = [];\n        const formatter = new Intl.DateTimeFormat(locale);\n        const formatToParts = formatter.formatToParts(new Date());\n        for (let i = 0; i < formatToParts.length; i++) {\n            if (formatToParts[i].type === DatePickerUtil.SEPARATOR) {\n                dateStruct.push({\n                    type: DatePickerUtil.SEPARATOR,\n                    value: formatToParts[i].value\n                });\n            } else {\n                dateStruct.push({\n                    type: formatToParts[i].type,\n                });\n            }\n        }\n        const formatterOptions = formatter.resolvedOptions();\n        for (let i = 0; i < dateStruct.length; i++) {\n            switch (dateStruct[i].type) {\n                case DateParts.Day: {\n                    dateStruct[i].formatType = formatterOptions.day;\n                    break;\n                }\n                case DateParts.Month: {\n                    dateStruct[i].formatType = formatterOptions.month;\n                    break;\n                }\n                case DateParts.Year: {\n                    dateStruct[i].formatType = formatterOptions.month;\n                    break;\n                }\n            }\n        }\n        DatePickerUtil.fillDatePartsPositions(dateStruct);\n        return dateStruct;\n    }\n\n    private static isDateChar(char: string): boolean {\n        return (char === DateChars.YearChar || char === DateChars.MonthChar || char === DateChars.DayChar);\n    }\n\n    private static getNumericFormatPrefix(formatType: string): string {\n        switch (formatType) {\n            case FormatDesc.TwoDigits: {\n                return '0';\n            }\n            case FormatDesc.Numeric: {\n                return DatePickerUtil.PROMPT_CHAR;\n            }\n        }\n    }\n\n    private static getMinMaxValue(dateFormatParts: any[], datePart, inputValue: string): any {\n        let maxValue, minValue;\n        switch (datePart.type) {\n            case DateParts.Month: {\n                minValue = 1;\n                maxValue = DatePickerUtil.NUMBER_OF_MONTHS;\n                break;\n            }\n            case DateParts.Day: {\n                minValue = 1;\n                maxValue = DatePickerUtil.daysInMonth(\n                    DatePickerUtil.getFullYearFromString(DatePickerUtil.getDateFormatPart(dateFormatParts, DateParts.Year), inputValue),\n                    parseInt(DatePickerUtil.getMonthValueFromInput(dateFormatParts, inputValue), 10));\n                break;\n            }\n            case DateParts.Year: {\n                if (datePart.formatType === FormatDesc.TwoDigits) {\n                    minValue = 0;\n                    maxValue = 99;\n                } else {\n                    // Infinite loop\n                    minValue = 'infinite';\n                    maxValue = 'infinite';\n                }\n                break;\n            }\n        }\n        return { min: minValue, max: maxValue };\n    }\n\n    private static daysInMonth(fullYear: number, month: number): number {\n        return new Date(fullYear, month, 0).getDate();\n    }\n\n    private static getDateValueFromInput(dateFormatParts: any[], type: DateParts, inputValue: string, trim: boolean = true): string {\n        const partPosition = DatePickerUtil.getDateFormatPart(dateFormatParts, type).position;\n        const result = inputValue.substring(partPosition[0], partPosition[1]);\n        return (trim) ? DatePickerUtil.trimUnderlines(result) : result;\n    }\n\n    private static getDayValueFromInput(dateFormatParts: any[], inputValue: string, trim: boolean = true): string {\n        return DatePickerUtil.getDateValueFromInput(dateFormatParts, DateParts.Day, inputValue, trim);\n    }\n\n    private static getMonthValueFromInput(dateFormatParts: any[], inputValue: string, trim: boolean = true): string {\n        return DatePickerUtil.getDateValueFromInput(dateFormatParts, DateParts.Month, inputValue, trim);\n    }\n\n    private static getYearValueFromInput(dateFormatParts: any[], inputValue: string, trim: boolean = true): string {\n        return DatePickerUtil.getDateValueFromInput(dateFormatParts, DateParts.Year, inputValue, trim);\n    }\n\n    private static getDateFormatPart(dateFormatParts: any[], type: DateParts): any {\n        const result = dateFormatParts.filter((datePart) => (datePart.type === type))[0];\n        return result;\n    }\n\n    private static isFullInput(value: any, input: string): boolean {\n        return (value !== '' && input.length === 2 && input.charAt(1) !== DatePickerUtil.PROMPT_CHAR);\n    }\n\n    private static isFullYearInput(dateFormatParts: any[], value: any): boolean {\n        switch (DatePickerUtil.getDateFormatPart(dateFormatParts, DateParts.Year).formatType) {\n            case FormatDesc.Numeric: {\n                return (value !== '' && value.length === 4);\n            }\n            case FormatDesc.TwoDigits: {\n                return (value !== '' && value.length === 2);\n            }\n            default: {\n                return false;\n            }\n        }\n    }\n\n    private static getDatePartOnPosition(dateFormatParts: any[], position: number) {\n        const result = dateFormatParts.filter((element) =>\n            element.position[0] <= position && position <= element.position[1] && element.type !== DatePickerUtil.SEPARATOR)[0];\n        return result;\n    }\n\n    private static getFullYearFromString(yearPart, inputValue): number {\n        return parseInt(inputValue.substring(yearPart.position[0], yearPart.position[1]), 10);\n    }\n\n    private static fillDatePartsPositions(dateArray: any[]): void {\n        let currentPos = 0;\n\n        for (let i = 0; i < dateArray.length; i++) {\n            // Day|Month part positions\n            if (dateArray[i].type === DateParts.Day || dateArray[i].type === DateParts.Month) {\n                // Offset 2 positions for number\n                dateArray[i].position = [currentPos, currentPos + 2];\n                currentPos += 2;\n            } else if (dateArray[i].type === DateParts.Year) {\n                // Year part positions\n                switch (dateArray[i].formatType) {\n                    case FormatDesc.Numeric: {\n                        // Offset 4 positions for full year\n                        dateArray[i].position = [currentPos, currentPos + 4];\n                        currentPos += 4;\n                        break;\n                    }\n                    case FormatDesc.TwoDigits: {\n                        // Offset 2 positions for short year\n                        dateArray[i].position = [currentPos, currentPos + 2];\n                        currentPos += 2;\n                        break;\n                    }\n                }\n            } else if (dateArray[i].type === DatePickerUtil.SEPARATOR) {\n                // Separator positions\n                dateArray[i].position = [currentPos, currentPos + 1];\n                currentPos++;\n            }\n        }\n    }\n}\n\n\n","/** @hidden */\nexport const IGX_DATE_PICKER_COMPONENT = 'IgxDatePickerComponentToken';\n\n/** @hidden */\nexport interface IDatePicker {\n    value: Date;\n    mask: string;\n    inputMask: string;\n    rawDateString: string;\n    dateFormatParts: any[];\n    invalidDate: string;\n}\n","import { PipeTransform, Pipe, Inject } from '@angular/core';\nimport { IGX_DATE_PICKER_COMPONENT, IDatePicker } from './date-picker.common';\nimport { DatePickerUtil } from './date-picker.utils';\n\n/**\n * @hidden\n */\n@Pipe({\n    name: 'displayValue'\n})\nexport class DatePickerDisplayValuePipe implements PipeTransform {\n    constructor(@Inject(IGX_DATE_PICKER_COMPONENT) private _datePicker: IDatePicker) { }\n    transform(value: any, args?: any): any {\n        if (value !== '') {\n            if (value === DatePickerUtil.maskToPromptChars(this._datePicker.inputMask)) {\n                return '';\n            }\n            this._datePicker.rawDateString = value;\n            return DatePickerUtil.trimUnderlines(value);\n        }\n        return '';\n    }\n}\n\n/**\n * @hidden\n */\n@Pipe({\n    name: 'inputValue'\n})\nexport class DatePickerInputValuePipe implements PipeTransform {\n    constructor(@Inject(IGX_DATE_PICKER_COMPONENT) private _datePicker: IDatePicker) { }\n    transform(value: any, args?: any): any {\n        if (this._datePicker.invalidDate !== '') {\n            return this._datePicker.invalidDate;\n        } else {\n            if (this._datePicker.value === null || this._datePicker.value === undefined) {\n                return DatePickerUtil.maskToPromptChars(this._datePicker.inputMask);\n            } else {\n                return DatePickerUtil.addPromptCharsEditMode(this._datePicker.dateFormatParts, this._datePicker.value, value);\n            }\n        }\n    }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: '[igxDatePickerTemplate]'\n})\n\n/**\n * IgxDatePickerTemplateDirective can be used to re-template the date-picker input-group.\n *\n * @hidden\n */\nexport class IgxDatePickerTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n/**\n * IgxDatePickerActionsDirective can be used to re-template the dropdown/dialog action buttons.\n */\n@Directive({\n    selector: '[igxDatePickerActions]'\n})\nexport class IgxDatePickerActionsDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n","/**\n * This enumeration is used to configure whether the date/time picker has an editable input with drop down\n * or is readonly - the date/time is selected only through a dialog.\n */\nexport enum InteractionMode {\n    DropDown = 'dropdown',\n    Dialog = 'dialog'\n}\n","import { Component, ViewChild, Input, Output, EventEmitter, HostListener, HostBinding } from '@angular/core';\nimport { IgxCalendarComponent } from '../calendar';\nimport { InteractionMode } from '../core/enums';\nimport { IgxDatePickerActionsDirective } from './date-picker.directives';\n\n/**\n * @hidden\n */\n@Component({\n    selector: 'igx-calendar-container',\n    styles: [':host {display: block;}'],\n    templateUrl: 'calendar-container.component.html'\n})\nexport class IgxCalendarContainerComponent {\n    @ViewChild('calendar', { static: true })\n    public calendar: IgxCalendarComponent;\n\n    @Input()\n    public mode: InteractionMode = InteractionMode.Dialog;\n\n    @Input()\n    public vertical = false;\n\n    @Input()\n    public cancelButtonLabel: string;\n\n    @Input()\n    public todayButtonLabel: string;\n\n    @Input()\n    public datePickerActions: IgxDatePickerActionsDirective;\n\n    @Output()\n    public onClose = new EventEmitter();\n\n    @Output()\n    public onTodaySelection = new EventEmitter();\n\n    @HostBinding('class.igx-date-picker')\n    public styleClass = 'igx-date-picker';\n\n    @HostBinding('class.igx-date-picker--dropdown')\n    get dropdownCSS(): boolean {\n        return this.mode === InteractionMode.DropDown;\n    }\n\n    @HostBinding('class.igx-date-picker--vertical')\n    get verticalCSS(): boolean {\n        return this.vertical && this.mode === InteractionMode.Dialog;\n    }\n\n    @HostListener('keydown.esc', ['$event'])\n    @HostListener('keydown.alt.arrowup', ['$event'])\n    public onEscape(event) {\n        event.preventDefault();\n        this.onClose.emit();\n    }\n\n    /**\n     * Returns whether the date-picker is in readonly dialog mode.\n     *\n     * @hidden\n    */\n    public get isReadonly() {\n        return this.mode === InteractionMode.Dialog;\n    }\n\n    /**\n     * Emits close event for the calendar.\n     */\n    public closeCalendar() {\n        this.onClose.emit();\n    }\n\n    /**\n    * Emits today selection event for the calendar.\n    */\n    public triggerTodaySelection() {\n        this.onTodaySelection.emit();\n    }\n}\n","import { CommonModule, formatDate } from '@angular/common';\nimport {\n    Component,\n    ContentChild,\n    EventEmitter,\n    HostBinding,\n    Input,\n    NgModule,\n    OnDestroy,\n    Output,\n    ViewChild,\n    ElementRef,\n    TemplateRef,\n    Inject,\n    ChangeDetectorRef,\n    HostListener,\n    NgModuleRef,\n    OnInit,\n    AfterViewInit,\n    Injector,\n    AfterViewChecked\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl, AbstractControl } from '@angular/forms';\nimport {\n    IgxCalendarComponent,\n    IgxCalendarHeaderTemplateDirective,\n    IgxCalendarModule,\n    IgxCalendarSubheaderTemplateDirective,\n    WEEKDAYS,\n    isDateInRanges\n} from '../calendar/index';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxInputGroupModule, IgxInputDirective, IgxInputGroupComponent, IgxInputState } from '../input-group/index';\nimport { Subject, fromEvent, animationFrameScheduler, interval, Subscription } from 'rxjs';\nimport { filter, takeUntil, throttle } from 'rxjs/operators';\nimport { IgxOverlayOutletDirective } from '../directives/toggle/toggle.directive';\nimport { IgxTextSelectionModule} from '../directives/text-selection/text-selection.directive';\nimport {\n    OverlaySettings,\n    IgxOverlayService,\n    PositionSettings,\n    AbsoluteScrollStrategy,\n    AutoPositionStrategy,\n    OverlayCancelableEventArgs\n} from '../services/index';\nimport { DateRangeDescriptor } from '../core/dates/dateRange';\nimport { EditorProvider } from '../core/edit-provider';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxMaskModule } from '../directives/mask/mask.directive';\nimport {\n    DatePickerUtil,\n    DateState\n} from './date-picker.utils';\nimport { DatePickerDisplayValuePipe, DatePickerInputValuePipe } from './date-picker.pipes';\nimport { IDatePicker } from './date-picker.common';\nimport { KEYS, CancelableBrowserEventArgs, isIE, isEqual, IBaseEventArgs } from '../core/utils';\nimport { IgxDatePickerTemplateDirective, IgxDatePickerActionsDirective } from './date-picker.directives';\nimport { IgxCalendarContainerComponent } from './calendar-container.component';\nimport { InteractionMode } from '../core/enums';\nimport { fadeIn, fadeOut } from '../animations/fade';\nimport { DeprecateProperty } from '../core/deprecateDecorators';\n\nlet NEXT_ID = 0;\n\n/**\n * This interface is used to provide information about date picker reference and its current value\n * when onDisabledDate event is fired.\n */\nexport interface IDatePickerDisabledDateEventArgs extends IBaseEventArgs {\n    datePicker: IgxDatePickerComponent;\n    currentValue: Date;\n}\n\n/**\n * This interface is used to provide information about date picker reference and its previously valid value\n * when onValidationFailed event is fired.\n */\nexport interface IDatePickerValidationFailedEventArgs extends IBaseEventArgs {\n    datePicker: IgxDatePickerComponent;\n    prevValue: Date;\n}\n\n/**\n * This interface is used to configure calendar format view options.\n */\nexport interface IFormatViews {\n    day?: boolean;\n    month?: boolean;\n    year?: boolean;\n}\n\n/**\n * This interface is used to configure calendar format options.\n */\nexport interface IFormatOptions {\n    day?: string;\n    month?: string;\n    weekday?: string;\n    year?: string;\n}\n\n/**\n * This enumeration is used to configure the date picker to operate with pre-defined format option used in Angular DatePipe.\n * 'https://angular.io/api/common/DatePipe'\n * 'shortDate': equivalent to 'M/d/yy' (6/15/15).\n * 'mediumDate': equivalent to 'MMM d, y' (Jun 15, 2015).\n * 'longDate': equivalent to 'MMMM d, y' (June 15, 2015).\n * 'fullDate': equivalent to 'EEEE, MMMM d, y' (Monday, June 15, 2015).\n */\nexport enum PredefinedFormatOptions {\n    ShortDate = 'shortDate',\n    MediumDate = 'mediumDate',\n    LongDate = 'longDate',\n    FullDate = 'fullDate'\n}\n\nconst noop = () => { };\n\n/**\n * Date Picker displays a popup calendar that lets users select a single date.\n *@igxModule IgxDatePickerModule\n *@igxTheme igx-calendar-theme, igx-icon-theme\n *@igxGroup Scheduling\n *@igxKeywords  datepicker, calendar, schedule, date\n *@example\n * ```html\n * <igx-date-picker [(ngModel)]=\"selectedDate\"></igx-date-picker>\n * ```\n */\n@Component({\n    providers:\n        [{\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: IgxDatePickerComponent,\n            multi: true\n        }],\n    // tslint:disable-next-line:component-selector\n    selector: 'igx-date-picker',\n    templateUrl: 'date-picker.component.html',\n    styles: [`\n        :host {\n            display: block;\n        }\n    `]\n})\nexport class IgxDatePickerComponent implements IDatePicker, ControlValueAccessor,\n          EditorProvider, OnInit, AfterViewInit, OnDestroy, AfterViewChecked {\n    /**\n     * Gets/Sets the `IgxDatePickerComponent` label.\n     * @remarks\n     * The default label is 'Date'.\n     * @example\n     * ```html\n     * <igx-date-picker [label]=\"Calendar\"></igx-date-picker>\n     * ```\n     */\n    @Input()\n    public label = 'Date';\n\n    /**\n     * Gets/Sets the `IgxDatePickerComponent` label visibility.\n     * @remarks\n     * By default the visibility is set to true.\n     * @example\n     * <igx-date-picker [labelVisibility]=\"false\"></igx-date-picker>\n     */\n    @Input()\n    public labelVisibility = true;\n\n    /**\n     *Gets/Sets the locales.\n     * @remarks Default locale is en.\n     * @example\n     *```html\n     *<igx-date-picker locale=\"ja-JP\" [value]=\"date\"></igx-date-picker>\n     *```\n     */\n    @Input() public locale: 'en';\n\n    /**\n     *Gets/Sets on which day the week starts.\n     @example\n     *```html\n     *<igx-date-picker [weekStart]=\"WEEKDAYS.FRIDAY\" cancelButtonLabel=\"cancel\" todayButtonLabel=\"today\"></igx-date-picker>\n     *```\n     */\n    @Input() public weekStart: WEEKDAYS | number = WEEKDAYS.SUNDAY;\n\n    /**\n     *Gets the format options of the `IgxDatePickerComponent`.\n     @example\n     *```typescript\n        let formatOptions = this.datePicker.formatOptions;\n     *```\n     */\n    @Input()\n    public get formatOptions(): IFormatOptions {\n        return this._formatOptions;\n    }\n\n    /**\n     * Gets/Sets whether the inactive dates will be hidden.\n     * @remarks\n     * Apllies to dates that are out of the current month.\n     * Default value is `false`.\n     * @example\n     * ```html\n     * <igx-date-picker [hideOutsideDays]=\"true\"></igx-date-picker>\n     * ```\n     * @example\n     * ```typescript\n     * let hideOutsideDays = this.datePicker.hideOutsideDays;\n     * ```\n     */\n    @Input()\n    public hideOutsideDays: boolean;\n\n    /**\n     * Gets/Sets the number of month views displayed.\n     * @remarks\n     * Default value is `1`.\n     * @example\n     * ```html\n     * <igx-date-picker [monthsViewNumber]=\"2\"></igx-date-picker>\n     * ```\n     * @example\n     * ```typescript\n     * let monthViewsDisplayed = this.datePicker.monthsViewNumber;\n     * ```\n     */\n    @Input()\n    public monthsViewNumber = 1;\n\n    /**\n     *Sets the format options of the `IgxDatePickerComponent`.\n     *@example\n     *```typescript\n     * this.datePicker.formatOptions = {  day: \"numeric\",  month: \"long\", weekday: \"long\", year: \"numeric\"};\n     *```\n     */\n    public set formatOptions(formatOptions: IFormatOptions) {\n        this._formatOptions = Object.assign(this._formatOptions, formatOptions);\n    }\n\n    /**\n     *Gets/Sets the date display format of the `IgxDatePickerComponent` in dropdown mode.\n     @example\n     *```typescript\n     * let format = this.datePicker.format;\n     * this.datePicker.format = 'yyyy-M-d';\n     *```\n     */\n    @Input()\n    public get format(): string {\n        return (this._format === undefined) ? PredefinedFormatOptions.ShortDate : this._format;\n    }\n    public set format(format: string) {\n        this._format = format;\n    }\n\n    /**\n     *Gets/Sets the date mask of the `IgxDatePickerComponent` when in editable dropdown mode.\n     *@example\n     *```typescript\n     *let mask = this.datePicker.mask;\n     *```\n     */\n    @Input()\n    public mask: string;\n\n    /**\n     *Gets/Sets the format views of the `IgxDatePickerComponent`.\n     *@example\n     *```typescript\n     * let formatViews = this.datePicker.formatViews;\n     *  this.datePicker.formatViews = {day:false, month: false, year:false};\n     *```\n     */\n    @Input()\n    public get formatViews(): IFormatViews {\n        return this._formatViews;\n    }\n\n    public set formatViews(formatViews: IFormatViews) {\n        this._formatViews = Object.assign(this._formatViews, formatViews);\n    }\n\n    /**\n     * Gets/Sets the disabled dates descriptors.\n     * @example\n     * ```typescript\n     * let disabledDates = this.datepicker.disabledDates;\n     * this.datePicker.disabledDates = [ {type: DateRangeType.Weekends}, ...];\n     * ```\n     */\n    @Input()\n    public get disabledDates(): DateRangeDescriptor[] {\n        return this._disabledDates;\n    }\n    public set disabledDates(value: DateRangeDescriptor[]) {\n        this._disabledDates = value;\n    }\n\n    /**\n     * Gets/Sets the special dates descriptors.\n     * @example\n     * ```typescript\n     * let specialDates = this.datepicker.specialDates;\n     * this.datePicker.specialDates = [ {type: DateRangeType.Weekends}, ... ];\n     * ```\n     */\n    @Input()\n    public get specialDates(): DateRangeDescriptor[] {\n        return this._specialDates;\n    }\n    public set specialDates(value: DateRangeDescriptor[]) {\n        this._specialDates = value;\n    }\n\n    /**\n    * Gets/Sets the modal overlay settings.\n    */\n    @Input()\n    public get modalOverlaySettings(): OverlaySettings {\n        return this._modalOverlay;\n    }\n\n    public set modalOverlaySettings(value: OverlaySettings) {\n        this._modalOverlay = value;\n    }\n\n    /**\n    * Gets/Sets the drop-down overlay settings.\n    */\n    @Input()\n    public get dropDownOverlaySettings(): OverlaySettings {\n        return this._dropDownOverlaySettings || this._defaultDropDownOverlaySettings;\n    }\n\n    public set dropDownOverlaySettings(value: OverlaySettings) {\n        this._dropDownOverlaySettings = value;\n    }\n\n    /**\n     *Gets the formatted date when `IgxDatePickerComponent` is in dialog mode.\n     *@example\n     *```typescript\n     *let selectedDate = this.datePicker.displayData;\n     *```\n     */\n    public get displayData(): string {\n        if (this.value) {\n            return this._customFormatChecker(this.formatter, this.value);\n        }\n        return '';\n    }\n\n    /**\n     @hidden @internal\n     */\n    public get transformedDate(): string {\n        if (this._value) {\n            this._transformedDate = (this._isInEditMode) ? this._getEditorDate(this._value) : this._getDisplayDate(this._value);\n            this.isEmpty = false;\n        } else {\n            this._transformedDate = (this._isInEditMode) ? DatePickerUtil.maskToPromptChars(this.inputMask) : '';\n        }\n        return this._transformedDate;\n    }\n\n    /**\n     @hidden @internal\n     */\n    public set transformedDate(value) {\n        this._transformedDate = value;\n    }\n\n    constructor(@Inject(\n        IgxOverlayService) private _overlayService: IgxOverlayService,\n        public element: ElementRef,\n        private _cdr: ChangeDetectorRef,\n        private _moduleRef: NgModuleRef<any>,\n        private _injector: Injector) { }\n\n    /**\n     * Gets the input group template.\n     * @example\n     * ```typescript\n     * let template = this.template();\n     * ```\n     */\n    get template(): TemplateRef<any> {\n        if (this.datePickerTemplateDirective) {\n            return this.datePickerTemplateDirective.template;\n        }\n        return (this.mode === InteractionMode.Dialog) ? this.readOnlyDatePickerTemplate : this.editableDatePickerTemplate;\n    }\n\n    /**\n     * Gets the context passed to the input group template.\n     */\n    get context() {\n        return {\n            disabled: this.disabled,\n            disabledDates: this.disabledDates,\n            displayData: this.displayData,\n            format: this.format,\n            isSpinLoop: this.isSpinLoop,\n            label: this.label,\n            labelVisibility: this.labelVisibility,\n            locale: this.locale,\n            mask: this.mask,\n            mode: this.mode,\n            specialDates: this.specialDates,\n            value: this.value,\n            openDialog: (target?: HTMLElement) => this.openDialog(target)\n        };\n    }\n\n    private get required(): boolean {\n        if (this._ngControl && this._ngControl.control && this._ngControl.control.validator) {\n            // Run the validation with empty object to check if required is enabled.\n            const error = this._ngControl.control.validator({} as AbstractControl);\n            return error && error.required;\n        }\n\n        return false;\n    }\n\n\n    /**\n     *Gets/Sets the selected date.\n     *@example\n     *```html\n     *<igx-date-picker [value]=\"date\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public get value(): Date {\n        return this._value;\n    }\n\n    public set value(date: Date) {\n        this._value = date;\n        this._onChangeCallback(date);\n    }\n\n    /**\n     *Gets/Sets the value of `id` attribute.\n     *@remarks If not provided it will be automatically generated.\n     *@example\n     *```html\n     *<igx-date-picker [id]=\"'igx-date-picker-3'\" cancelButtonLabel=\"cancel\" todayButtonLabel=\"today\"></igx-date-picker>\n     *```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-date-picker-${NEXT_ID++}`;\n\n    /**\n     * Gets/Sets a custom formatter function on the selected or passed date.\n     * @example\n     *```html\n     *<igx-date-picker [value]=\"date\" [formatter]=\"formatter\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public formatter: (val: Date) => string;\n\n    /**\n     *Enables/Disables the `IgxDatePickerComponent`.\n     *@example\n     *```html\n     *<igx-date-picker [disabled]=\"'true'\" cancelButtonLabel=\"cancel\" todayButtonLabel=\"today\"></igx-date-picker>\n     * ```\n     */\n    @Input()\n    public disabled: boolean;\n\n    /**\n     *Gets/Sets the orientation of the `IgxDatePickerComponent` header.\n     *@example\n     *```html\n     *<igx-date-picker [vertical]=\"'true'\" cancelButtonLabel=\"cancel\" todayButtonLabel=\"today\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public vertical = false;\n\n    /**\n     *Gets/Sets the today button's label.\n     *@example\n     *```html\n     *<igx-date-picker cancelButtonLabel=\"cancel\" todayButtonLabel=\"Tomorrow\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public todayButtonLabel: string;\n\n    /**\n     * *Gets/Sets the cancel button's label.\n     * @example\n     *```html\n     *<igx-date-picker cancelButtonLabel=\"Close\" todayButtonLabel=\"Today\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public cancelButtonLabel: string;\n\n    /**\n     *Gets/Sets the interaction mode - dialog or drop down.\n     *@example\n     *```html\n     *<igx-date-picker mode=\"dropdown\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public mode = InteractionMode.Dialog;\n\n    /**\n     *Gets/Sets whether date should spin continuously or stop when min/max is reached.\n     *@example\n     *```html\n     *<igx-date-picker [isSpinLoop]=\"false\"></igx-date-picker>\n     *```\n     */\n    @Input()\n    public isSpinLoop = true;\n\n    /**\n     * Gets/Sets the container used for the popup element.\n     * @remarks\n     *  `outlet` is an instance of `IgxOverlayOutletDirective` or an `ElementRef`.\n     *@example\n     * ```html\n     * <div igxOverlayOutlet #outlet=\"overlay-outlet\"></div>\n     * //..\n     * <igx-date-picker [outlet]=\"outlet\"></igx-date-picker>\n     * //..\n     * ```\n     */\n    @Input()\n    public outlet: IgxOverlayOutletDirective | ElementRef;\n\n    /**\n     * @deprecated Use 'onOpened' instead.\n     *An event that is emitted when the `IgxDatePickerComponent` calendar is opened.\n     *@example\n     *```typescript\n     *public open(event){\n     *    alert(\"The date-picker calendar has been opened!\");\n     *}\n     *```\n     *```html\n     *<igx-date-picker (onOpen)=\"open($event)\" cancelButtonLabel=\"cancel\" todayButtonLabel=\"today\"></igx-date-picker>\n     *```\n     */\n    @DeprecateProperty(`'onOpen' @Output property is deprecated. Use 'onOpened' instead.`)\n    @Output()\n    public get onOpen(): EventEmitter<IgxDatePickerComponent> {\n        return this._onOpen;\n    }\n\n    public set onOpen(val: EventEmitter<IgxDatePickerComponent>) {\n        this._onOpen = val;\n    }\n\n    /**\n     *Emitted when the `IgxDatePickerComponent` calendar is opened.\n    */\n    @Output()\n    public onOpened = new EventEmitter<IgxDatePickerComponent>();\n\n    /**\n     * @deprecated Use 'onClosed' instead.\n     *\"An event that is emitted when the `IgxDatePickerComponent` is closed.\n     *@example\n     *```typescript\n     *public close(event){\n     *    alert(\"The date-picker has been closed!\");\n     *}\n     *```\n     *```html\n     *<igx-date-picker (onClose)=\"close($event)\" cancelButtonLabel=\"cancel\" todayButtonLabel=\"today\"></igx-date-picker>\n     *```\n     */\n    @DeprecateProperty(`'onClose' @Output property is deprecated. Use 'onClosed' instead.`)\n    @Output()\n    public get onClose(): EventEmitter<IgxDatePickerComponent> {\n        return this._onClose;\n    }\n\n    public set onClose(val: EventEmitter<IgxDatePickerComponent>) {\n        this._onClose = val;\n    }\n\n    /**\n     *Emitted after the `IgxDatePickerComponent` is closed.\n    */\n    @Output()\n    public onClosed = new EventEmitter<IgxDatePickerComponent>();\n\n    /**\n     *Emitted when the `IgxDatePickerComponent` is being closed.\n     */\n    @Output()\n    public onClosing = new EventEmitter<CancelableBrowserEventArgs & IBaseEventArgs>();\n\n    /**\n     *Emitted when selection is made in the calendar.\n     *@example\n     *```html\n     *<igx-date-picker (onSelection)=\"selection($event)\"></igx-date-picker>\n     *```\n     */\n    @Output()\n    public onSelection = new EventEmitter<Date>();\n\n    /**\n     *Emitted when date picker value is changed.\n     *@example\n    *```html\n    *<igx-date-picker (valueChange)=\"valueChanged($event)\" mode=\"dropdown\"></igx-date-picker>\n    *```\n    */\n    @Output()\n    public valueChange = new EventEmitter<Date>();\n\n    /**\n    *Emitted when the user types/spins to a disabled date in the date-picker editor.\n    *@example\n    *```html\n    *<igx-date-picker (onDisabledDate)=\"onDisabledDate($event)\"></igx-date-picker>\n    *```\n    */\n    @Output()\n    public onDisabledDate = new EventEmitter<IDatePickerDisabledDateEventArgs>();\n\n    /**\n    *Emitted when the user types/spins invalid date in the date-picker editor.\n    *@example\n    *```html\n    *<igx-date-picker (onValidationFailed)=\"onValidationFailed($event)\"></igx-date-picker>\n    *```\n    */\n    @Output()\n    public onValidationFailed = new EventEmitter<IDatePickerValidationFailedEventArgs>();\n\n    /*\n     * @hidden\n     */\n    @ViewChild('readOnlyDatePickerTemplate', { read: TemplateRef, static: true })\n    protected readOnlyDatePickerTemplate: TemplateRef<any>;\n\n    /*\n     * @hidden\n     */\n    @ViewChild('editableDatePickerTemplate', { read: TemplateRef, static: true })\n    protected editableDatePickerTemplate: TemplateRef<any>;\n\n    /*\n     * @hidden\n     */\n    @ViewChild(IgxInputGroupComponent)\n    protected inputGroup: IgxInputGroupComponent;\n\n    @ViewChild(IgxInputDirective, { read: ElementRef })\n    private _inputElementRef: ElementRef;\n\n    @ContentChild(IgxInputDirective, { read: ElementRef })\n    protected _inputUserTemplateElementRef: ElementRef;\n\n    @ViewChild(IgxInputDirective)\n    private _inputDirective: IgxInputDirective;\n\n    @ContentChild(IgxInputDirective)\n    private _inputDirectiveUserTemplate: IgxInputDirective;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxDatePickerTemplateDirective, { read: IgxDatePickerTemplateDirective })\n    protected datePickerTemplateDirective: IgxDatePickerTemplateDirective;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxCalendarHeaderTemplateDirective, { read: IgxCalendarHeaderTemplateDirective })\n    public headerTemplate: IgxCalendarHeaderTemplateDirective;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxCalendarSubheaderTemplateDirective, { read: IgxCalendarSubheaderTemplateDirective })\n    public subheaderTemplate: IgxCalendarSubheaderTemplateDirective;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxDatePickerActionsDirective, { read: IgxDatePickerActionsDirective })\n    public datePickerActionsDirective: IgxDatePickerActionsDirective;\n\n    /**@hidden @internal*/\n    public calendar: IgxCalendarComponent;\n    /**@hidden @internal*/\n    public hasHeader = true;\n    /**@hidden @internal*/\n    public collapsed = true;\n    /**@hidden @internal*/\n    public displayValuePipe = new DatePickerDisplayValuePipe(this);\n    /**@hidden @internal*/\n    public inputValuePipe = new DatePickerInputValuePipe(this);\n    /**@hidden @internal*/\n    public dateFormatParts = [];\n    /**@hidden @internal*/\n    public rawDateString: string;\n    /**@hidden @internal*/\n    public inputMask: string;\n    /**@hidden @internal*/\n    public isEmpty = true;\n    /**@hidden @internal*/\n    public invalidDate = '';\n\n    private readonly spinDelta = 1;\n    private readonly defaultLocale = 'en';\n\n    private _formatOptions = {\n        day: 'numeric',\n        month: 'short',\n        weekday: 'short',\n        year: 'numeric'\n    };\n    private _formatViews = {\n        day: false,\n        month: true,\n        year: false\n    };\n    private _destroy$ = new Subject<boolean>();\n    private _statusChanges$: Subscription;\n    private _componentID: string;\n    private _format: string;\n    private _value: Date;\n    private _isInEditMode: boolean;\n    private _disabledDates: DateRangeDescriptor[] = null;\n    private _specialDates: DateRangeDescriptor[] = null;\n    private _modalOverlay: OverlaySettings;\n    private _dropDownOverlaySettings: OverlaySettings;\n    private _positionSettings: PositionSettings;\n    private _defaultDropDownOverlaySettings: OverlaySettings;\n    private _modalOverlaySettings: OverlaySettings;\n    private _transformedDate;\n    private _onOpen = new EventEmitter<IgxDatePickerComponent>();\n    private _onClose = new EventEmitter<IgxDatePickerComponent>();\n    private _ngControl: NgControl = null;\n\n    //#region ControlValueAccessor\n\n    private _onChangeCallback: (_: Date) => void = noop;\n\n    private _onTouchedCallback: () => void = noop;\n\n    /** @hidden @internal */\n    public writeValue(value: Date) {\n        this._value = value;\n        // TODO: do we need next call\n        this._cdr.markForCheck();\n    }\n\n    /** @hidden @internal */\n    public registerOnChange(fn: (_: Date) => void) { this._onChangeCallback = fn; }\n\n    /** @hidden @internal */\n    public registerOnTouched(fn: () => void) { this._onTouchedCallback = fn; }\n\n    /** @hidden @internal */\n    public setDisabledState(isDisabled: boolean): void { this.disabled = isDisabled; }\n\n    //#endregion\n\n    /**\n    * @hidden\n    */\n    @HostListener('keydown.spacebar', ['$event'])\n    @HostListener('keydown.space', ['$event'])\n    public onSpaceClick(event: KeyboardEvent) {\n        this.openDialog(this.getInputGroupElement());\n        event.preventDefault();\n    }\n\n\n    /** @hidden */\n    public getEditElement() {\n        const inputDirectiveElementRef = this._inputElementRef || this._inputUserTemplateElementRef;\n        return (inputDirectiveElementRef) ? inputDirectiveElementRef.nativeElement : null;\n    }\n\n    /**\n     *@hidden @internal\n     */\n    public getInputGroupElement() {\n        return this.inputGroup ? this.inputGroup.element.nativeElement : null;\n    }\n\n    /**\n     *@hidden @internal\n     */\n    public ngOnInit(): void {\n        this._positionSettings = {\n            openAnimation: fadeIn,\n            closeAnimation: fadeOut\n        };\n\n        this._defaultDropDownOverlaySettings = {\n            closeOnOutsideClick: true,\n            modal: false,\n            scrollStrategy: new AbsoluteScrollStrategy(),\n            positionStrategy: new AutoPositionStrategy(this._positionSettings),\n            outlet: this.outlet\n        };\n\n        this._modalOverlaySettings = {\n            closeOnOutsideClick: true,\n            modal: true,\n            outlet: this.outlet\n        };\n\n        this._overlayService.onOpening.pipe(\n            filter((overlay) => overlay.id === this._componentID),\n            takeUntil(this._destroy$)).subscribe((eventArgs) => {\n                this._onOpening(eventArgs);\n            });\n\n        this._overlayService.onOpened.pipe(\n            filter((overlay) => overlay.id === this._componentID),\n            takeUntil(this._destroy$)).subscribe(() => {\n                this._onOpened();\n            });\n\n        this._overlayService.onClosed.pipe(\n            filter(overlay => overlay.id === this._componentID),\n            takeUntil(this._destroy$)).subscribe(() => {\n                this._onClosed();\n            });\n\n        this._overlayService.onClosing.pipe(\n            filter(overlay => overlay.id === this._componentID),\n            takeUntil(this._destroy$)).subscribe((event) => {\n                this.onClosing.emit(event);\n                // If canceled in a user onClosing handler\n                if (event.cancel) {\n                    return;\n                }\n                // Do not focus the input if clicking outside in dropdown mode\n                const input = this.getEditElement();\n                if (input && !(event.event && this.mode === InteractionMode.DropDown)) {\n                    input.focus();\n                } else {\n                    // outside click\n                    this._updateValidityOnBlur();\n                }\n            });\n\n        if (this.mode === InteractionMode.DropDown) {\n            this.dateFormatParts = DatePickerUtil.parseDateFormat(this.mask, this.locale);\n            if (this.mask === undefined) {\n                this.mask = DatePickerUtil.getMask(this.dateFormatParts);\n            }\n            this.inputMask = DatePickerUtil.getInputMask(this.dateFormatParts);\n        }\n\n        this._ngControl = this._injector.get<NgControl>(NgControl, null);\n    }\n\n    /**\n     *@hidden @internal\n    */\n    public ngAfterViewInit() {\n        if (this.mode === InteractionMode.DropDown && this._inputElementRef) {\n            fromEvent(this._inputElementRef.nativeElement, 'keydown').pipe(\n                throttle(() => interval(0, animationFrameScheduler)),\n                takeUntil(this._destroy$)\n            ).subscribe((res) => this.onKeyDown(res));\n        }\n\n        if (this._ngControl) {\n            this._statusChanges$ = this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this));\n        }\n    }\n\n    public ngAfterViewChecked() {\n        // if one sets mode at run time this forces initialization of new igxInputGroup\n        // As a result a new igxInputDirective is initialized too. In ngAfterViewInit of\n        // the new directive isRequired of the igxInputGroup is set again. However\n        // ngAfterViewInit of date picker is not called again and we may finish with wrong\n        // isRequired in igxInputGroup. This is why we should set it her, only when needed\n        if (this.inputGroup && this.inputGroup.isRequired !== this.required) {\n            this.inputGroup.isRequired = this.required;\n            this._cdr.detectChanges();\n        }\n    }\n\n    protected onStatusChanged() {\n        if ((this._ngControl.control.touched || this._ngControl.control.dirty) &&\n            (this._ngControl.control.validator || this._ngControl.control.asyncValidator)) {\n            if (this.inputGroup.isFocused) {\n                this._inputDirective.valid = this._ngControl.valid ? IgxInputState.VALID : IgxInputState.INVALID;\n            } else {\n                this._inputDirective.valid = this._ngControl.valid ? IgxInputState.INITIAL : IgxInputState.INVALID;\n            }\n        }\n\n        if (this.inputGroup && this.inputGroup.isRequired !== this.required) {\n            this.inputGroup.isRequired = this.required;\n        }\n    }\n\n    /**\n     *@hidden @internal\n    */\n    public ngOnDestroy(): void {\n        if (this._componentID) {\n            this._overlayService.hide(this._componentID);\n        }\n        this._destroy$.next(true);\n        this._destroy$.complete();\n    }\n\n    /**\n     *Selects today's date from calendar.\n     *@remarks\n     *Changes the input field value, @calendar.viewDate and @calendar.value.\n     *@example\n     *```typescript\n     *this.datePicker.triggerTodaySelection();\n     *```\n     */\n    public triggerTodaySelection(): void {\n        const today = new Date(Date.now());\n        this.handleSelection(today);\n    }\n\n    /**\n     * Change the calendar selection.\n     * @remarks\n     * Calling this method will emit the @calendar.onSelection event,\n     * which will fire @handleSelection method.\n     * @example\n     *```typescript\n     *this.datePicker.selectDate(this.date);\n     * ```\n     * @param date passed date that has to be set to the calendar.\n     */\n    public selectDate(date: Date): void {\n        const oldValue =  this.value;\n        this.value = date;\n\n        this.emitValueChangeEvent(oldValue, this.value );\n        this.onSelection.emit(date);\n    }\n\n    /**\n     * Deselects the calendar date.\n     * @example\n     *```typescript\n     *this.datePicker.deselectDate();\n     * ```\n     */\n    public deselectDate(): void {\n        const oldValue =  this.value;\n        this.value = null;\n        this.emitValueChangeEvent(oldValue, this.value );\n        if (this.calendar) {\n            this.calendar.deselectDate();\n        }\n    }\n\n    /**\n     * Opens the date picker drop down or dialog.\n     * @param target HTMLElement - the target element to use for positioning the drop down container according to\n     * @example\n     * ```typescript\n     * this.datePicker.openDialog(target);\n     * ```\n     */\n    public openDialog(target?: HTMLElement): void {\n        if (!this.collapsed) {\n            return;\n        }\n        switch (this.mode) {\n            case InteractionMode.Dialog: {\n                this.hasHeader = true;\n                const modalOverlay = (this.modalOverlaySettings !== undefined) ? this._modalOverlay : this._modalOverlaySettings;\n                this._componentID = this._overlayService.attach(IgxCalendarContainerComponent, modalOverlay, this._moduleRef);\n                this._overlayService.show(this._componentID);\n                break;\n            }\n            case InteractionMode.DropDown: {\n                this.hasHeader = false;\n                if (target) {\n                    this.dropDownOverlaySettings.positionStrategy.settings.target = target;\n                }\n                this._componentID = this._overlayService.attach(IgxCalendarContainerComponent,\n                    this.dropDownOverlaySettings, this._moduleRef);\n                this._overlayService.show(this._componentID);\n                break;\n            }\n        }\n    }\n\n    public mouseDown(e) {\n        // if the click is not on the input but in input group\n        // e.g. on prefix or sufix, prevent default and this way prevent blur\n        if (e.target !== this.getEditElement()) {\n            e.preventDefault();\n        }\n    }\n\n    /**\n     * Close the calendar.\n     *\n     * @hidden @internal\n     */\n    public closeCalendar(): void {\n        this._overlayService.hide(this._componentID);\n    }\n\n    /**\n     * Clear the input field, date picker value and calendar selection.\n     *\n     * @hidden @internal\n     */\n    public clear(): void {\n        this.isEmpty = true;\n        this.invalidDate = '';\n        this.deselectDate();\n        this._setCursorPosition(0);\n    }\n\n    /**\n     * Evaluates when @calendar.onSelection event was fired\n     * and update the input value.\n     *\n     * @param event selected value from calendar.\n     *\n     * @hidden @internal\n     */\n    public handleSelection(date: Date): void {\n        if (this.value) {\n            date.setHours(this.value.getHours());\n            date.setMinutes(this.value.getMinutes());\n            date.setSeconds(this.value.getSeconds());\n            date.setMilliseconds(this.value.getMilliseconds());\n        }\n        const oldValue =  this.value;\n        this.value = date;\n\n        this.emitValueChangeEvent(oldValue, this.value );\n        this.calendar.viewDate = date;\n        this.closeCalendar();\n        this.onSelection.emit(date);\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public onBlur(event): void {\n        this._isInEditMode = false;\n        if (this.mode === InteractionMode.DropDown) {\n            this.calculateDate(event.target.value, event.type);\n        }\n\n        if (this.collapsed) {\n            this._updateValidityOnBlur();\n        }\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public onFocus(): void {\n        this._isInEditMode = true;\n        if (this.value && this.invalidDate === '') {\n            this._transformedDate = this._getEditorDate(this.value);\n        }\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public onKeyDown(event) {\n        switch (event.key) {\n            case KEYS.UP_ARROW:\n            case KEYS.UP_ARROW_IE:\n                event.preventDefault();\n                event.stopPropagation();\n                this.spinValue(event.target.value, 1, event.type);\n                break;\n            case KEYS.DOWN_ARROW:\n            case KEYS.DOWN_ARROW_IE:\n                if (event.altKey) {\n                    this.openDialog(this.getInputGroupElement());\n                } else {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.spinValue(event.target.value, -1, event.type);\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public onWheel(event) {\n        if (this._isInEditMode) {\n            event.preventDefault();\n            event.stopPropagation();\n            const sign = (event.deltaY > 0) ? -1 : 1;\n            this.spinValue(event.target.value, sign, event.type);\n        }\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public onInput(event) {\n        const targetValue = event.target.value;\n        const cursorPosition = this._getCursorPosition();\n        const checkInput = DatePickerUtil.checkForCompleteDateInput(this.dateFormatParts, targetValue);\n        this._isInEditMode = true;\n\n        if (targetValue !== DatePickerUtil.maskToPromptChars(this.inputMask)) {\n            this.isEmpty = false;\n        }\n\n        // If all date parts are completed, change the date-picker value, stay in edit mode\n        if (checkInput === 'complete' && event.inputType !== 'deleteContentBackward') {\n            this._transformedDate = targetValue;\n            this.calculateDate(targetValue, event.type);\n            this._setCursorPosition(cursorPosition);\n        } else if (checkInput === 'partial') {\n            // While editing, if one date part is deleted, date-picker value is set to null, the remaining input stays intact.\n            this.deselectDate();\n            requestAnimationFrame(() => {\n                this.getEditElement().value = targetValue;\n                this._setCursorPosition(cursorPosition);\n            });\n        } else if (checkInput === 'empty') {\n            // Total clean-up as input is deleted.\n            this.isEmpty = true;\n            this.deselectDate();\n        }\n    }\n\n    private emitValueChangeEvent(oldValue: Date, newValue: Date) {\n        if (!isEqual(oldValue, newValue)) {\n            this.valueChange.emit(newValue);\n        }\n    }\n\n    private calculateDate(dateString: string, invokedByEvent: string): void {\n        if (dateString !== '') {\n            const prevDateValue = this.value;\n            const inputValue = (invokedByEvent === 'blur') ? this.rawDateString : dateString;\n            const newDateArray = DatePickerUtil.parseDateArray(this.dateFormatParts, prevDateValue, inputValue);\n\n            if (newDateArray.state === DateState.Valid) {\n                const newValue = newDateArray.date;\n                // Restore the time part if any\n                if (prevDateValue) {\n                    newValue.setHours(prevDateValue.getHours());\n                    newValue.setMinutes(prevDateValue.getMinutes());\n                    newValue.setSeconds(prevDateValue.getSeconds());\n                    newValue.setMilliseconds(prevDateValue.getMilliseconds());\n                }\n\n                if (this.disabledDates === null\n                    || (this.disabledDates !== null && !isDateInRanges(newValue, this.disabledDates))) {\n                        const oldValue =  this.value;\n                        this.value = newValue;\n\n                        this.emitValueChangeEvent(oldValue, this.value );\n                        this.invalidDate = '';\n                } else {\n                    const args: IDatePickerDisabledDateEventArgs = {\n                        datePicker: this,\n                        currentValue: newValue,\n                    };\n                    this.onDisabledDate.emit(args);\n                }\n            } else {\n                const args: IDatePickerValidationFailedEventArgs = {\n                    datePicker: this,\n                    prevValue: prevDateValue\n                };\n                this.invalidDate = dateString;\n                this.onValidationFailed.emit(args);\n            }\n        }\n    }\n\n    private spinValue(inputValue: string, sign: number, eventType: string): void {\n        this._isInEditMode = true;\n        this.isEmpty = false;\n        const cursorPosition = this._getCursorPosition();\n\n        const modifiedInputValue =\n            DatePickerUtil.getModifiedDateInput(this.dateFormatParts, inputValue, cursorPosition, this.spinDelta * sign, this.isSpinLoop);\n\n        this.getEditElement().value = modifiedInputValue;\n        this._setCursorPosition(cursorPosition);\n\n        const checkInput = DatePickerUtil.checkForCompleteDateInput(this.dateFormatParts, modifiedInputValue);\n        if (checkInput === 'complete') {\n            this._isInEditMode = true;\n            this.calculateDate(modifiedInputValue, eventType);\n            this._setCursorPosition(cursorPosition);\n        }\n    }\n\n    private _onOpening(event: OverlayCancelableEventArgs) {\n        this._initializeCalendarContainer(event.componentRef.instance as IgxCalendarContainerComponent);\n        this.collapsed = false;\n    }\n\n    private _onOpened(): void {\n        this.onOpened.emit(this);\n\n        // TODO: remove this line after deprecating 'onOpen'\n        this._onOpen.emit(this);\n\n        if (this.calendar) {\n            this._focusCalendarDate();\n        }\n    }\n\n    private _onClosed(): void {\n        this.collapsed = true;\n        this._componentID = null;\n        this.onClosed.emit(this);\n    }\n\n    private _initializeCalendarContainer(componentInstance: IgxCalendarContainerComponent) {\n        this.calendar = componentInstance.calendar;\n        const isVertical = (this.vertical && this.mode === InteractionMode.Dialog);\n        this.calendar.hasHeader = this.hasHeader;\n        this.calendar.formatOptions = this.formatOptions;\n        this.calendar.formatViews = this.formatViews;\n        this.calendar.locale = this.locale;\n        this.calendar.vertical = isVertical;\n        this.calendar.weekStart = this.weekStart;\n        this.calendar.specialDates = this.specialDates;\n        this.calendar.disabledDates = this.disabledDates;\n        this.calendar.headerTemplate = this.headerTemplate;\n        this.calendar.subheaderTemplate = this.subheaderTemplate;\n        this.calendar.hideOutsideDays = this.hideOutsideDays;\n        this.calendar.monthsViewNumber = this.monthsViewNumber;\n        this.calendar.onSelection.pipe(takeUntil(this._destroy$)).subscribe((ev: Date) => this.handleSelection(ev));\n\n        if (this.value) {\n            this.calendar.value = this.value;\n            this.calendar.viewDate = this.value;\n        }\n\n        componentInstance.mode = this.mode;\n        componentInstance.vertical = isVertical;\n        componentInstance.cancelButtonLabel = this.cancelButtonLabel;\n        componentInstance.todayButtonLabel = this.todayButtonLabel;\n        componentInstance.datePickerActions = this.datePickerActionsDirective;\n\n        componentInstance.onClose.pipe(takeUntil(this._destroy$)).subscribe(() => this.closeCalendar());\n        componentInstance.onTodaySelection.pipe(takeUntil(this._destroy$)).subscribe(() => this.triggerTodaySelection());\n    }\n\n    // Focus a date, after the calendar appearance into DOM.\n    private _focusCalendarDate(): void {\n        requestAnimationFrame(() => {\n            this.calendar.daysView.focusActiveDate();\n        });\n    }\n\n    private _setLocaleToDate(value: Date): string {\n        if (isIE()) {\n            // this is a workaround fixing the following IE11 issue:\n            // IE11 has added character code 8206 (mark for RTL) to the output of toLocaleDateString() that\n            // precedes each portion that comprises the total date... For more information read this article:\n            // tslint:disable-next-line: max-line-length\n            // https://www.csgpro.com/blog/2016/08/a-bad-date-with-internet-explorer-11-trouble-with-new-unicode-characters-in-javascript-date-strings/\n            const localeDateStrIE = new Date(value.getFullYear(), value.getMonth(), value.getDate(),\n                value.getHours(), value.getMinutes(), value.getSeconds(), value.getMilliseconds());\n            return localeDateStrIE.toLocaleDateString(this.locale);\n        }\n\n        return value.toLocaleDateString(this.locale);\n    }\n\n    private _getCursorPosition(): number {\n        return this.getEditElement().selectionStart;\n    }\n\n    private _setCursorPosition(start: number, end: number = start): void {\n        requestAnimationFrame(() => {\n            this.getEditElement().setSelectionRange(start, end);\n        });\n    }\n\n    /**\n     * Apply custom user formatter upon date.\n     * @param formatter custom formatter function.\n     * @param date passed date\n     */\n    private _customFormatChecker(formatter: (_: Date) => string, date: Date) {\n        return this.formatter ? this.formatter(date) : this._setLocaleToDate(date);\n    }\n\n    /*\n    * Transforms the date according to the specified format when `IgxDatePickerComponent` is in edit mode\n    * using @angular/common formatDate method: https://angular.io/api/common/formatDate\n    * @param  value: string | number | Date\n    * @returns formatted string\n    */\n    private _getDisplayDate(value: any): string {\n        if (this.format && !this.formatter) {\n            const locale = this.locale || this.defaultLocale;\n            return formatDate(value, this.format, locale);\n        } else {\n            return this._customFormatChecker(this.formatter, value);\n        }\n    }\n\n    private _getEditorDate(value: any) {\n        const locale = this.locale || this.defaultLocale;\n        const changedValue = (value) ? formatDate(value, this.mask, locale) : '';\n        return DatePickerUtil.addPromptCharsEditMode(this.dateFormatParts, this.value, changedValue);\n    }\n\n    public _updateValidityOnBlur() {\n        this._onTouchedCallback();\n        const input = this._inputDirective || this._inputDirectiveUserTemplate;\n        if (input && this._ngControl && !this._ngControl.valid) {\n            input.valid = IgxInputState.INVALID;\n        } else {\n            input.valid = IgxInputState.INITIAL;\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxDatePickerComponent,\n        IgxCalendarContainerComponent,\n        IgxDatePickerActionsDirective,\n        IgxDatePickerTemplateDirective,\n        DatePickerDisplayValuePipe,\n        DatePickerInputValuePipe\n    ],\n    entryComponents: [\n        IgxCalendarContainerComponent\n    ],\n    exports: [\n        IgxDatePickerComponent,\n        IgxDatePickerTemplateDirective,\n        IgxDatePickerActionsDirective,\n        DatePickerDisplayValuePipe,\n        DatePickerInputValuePipe\n    ],\n    imports: [\n        CommonModule,\n        IgxIconModule,\n        IgxInputGroupModule,\n        IgxCalendarModule,\n        IgxButtonModule,\n        IgxRippleModule,\n        IgxMaskModule,\n        IgxTextSelectionModule\n    ]\n})\nexport class IgxDatePickerModule { }\n","import { DOCUMENT } from '@angular/common';\nimport { Directive, HostBinding } from '@angular/core';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: 'igx-dialog-title,[igxDialogTitle]'\n})\nexport class IgxDialogTitleDirective {\n\n    @HostBinding('class.igx-dialog__window-title')\n    public defaultStyle = true;\n }\n\n/**\n * @hidden\n */\n@Directive({\n    selector: 'igx-dialog-actions,[igxDialogActions]'\n})\nexport class IgxDialogActionsDirective {\n\n    @HostBinding('class.igx-dialog__window-actions')\n    public defaultClass = true;\n }\n","import { useAnimation } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport {\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    NgModule,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Output,\n    ViewChild,\n    AfterContentInit\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { IgxNavigationService, IToggleView } from '../core/navigation';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxDialogActionsDirective, IgxDialogTitleDirective } from './dialog.directives';\nimport { IgxToggleModule, IgxToggleDirective } from '../directives/toggle/toggle.directive';\nimport { OverlaySettings, GlobalPositionStrategy, NoOpScrollStrategy, PositionSettings } from '../services';\nimport { slideInBottom, slideOutTop } from '../animations/slide/index';\nimport { IgxFocusModule } from '../directives/focus/focus.directive';\nimport { IBaseEventArgs } from '../core/utils';\n\nlet DIALOG_ID = 0;\n/**\n * **Ignite UI for Angular Dialog Window** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/dialog.html)\n *\n * The Ignite UI Dialog Window presents a dialog window to the user which can simply display messages or display\n * more complicated visuals such as a user sign-in form.  It also provides a right and left button\n * which can be used for custom actions.\n *\n * Example:\n * ```html\n * <button (click)=\"form.open()\">Show Dialog</button>\n * <igx-dialog #form title=\"Sign In\" rightButtonLabel=\"OK\">\n *   <div>\n *     <input type=\"text\" igxInput/>\n *     <label igxLabel>Username</label>\n *   </div>\n *   <div>\n *     <input type=\"password\" igxInput/>\n *     <label igxLabel>Password</label>\n *   </div>\n * </igx-dialog>\n * ```\n */\n@Component({\n    selector: 'igx-dialog',\n    templateUrl: 'dialog-content.component.html'\n})\nexport class IgxDialogComponent implements IToggleView, OnInit, OnDestroy, AfterContentInit {\n    private static NEXT_ID = 1;\n    private static readonly DIALOG_CLASS = 'igx-dialog';\n\n    @ViewChild(IgxToggleDirective, { static: true })\n    public toggleRef: IgxToggleDirective;\n\n    /**\n    * An @Input property that sets the value of the `id` attribute. If not provided it will be automatically generated.\n    *```html\n    *<igx-dialog [id]=\"'igx-dialog-56'\" #alert title=\"Notification\" leftButtonLabel=\"OK\" (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n    *```\n    */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-dialog-${DIALOG_ID++}`;\n\n    @Input()\n    get isModal() {\n        return this._isModal;\n    }\n\n    set isModal(val: boolean) {\n        this._overlayDefaultSettings.modal = val;\n        this._isModal = val;\n    }\n\n    /**\n    * An @Input property controlling the `title` of the dialog.\n    *```html\n    *<igx-dialog title=\"Notification\" #alert leftButtonLabel=\"OK\" (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n    *```\n    */\n    @Input()\n    public title = '';\n\n    /**\n     *  An @Input property controlling the `message` of the dialog.\n     *```html\n     *<igx-dialog message=\"Your email was sent!\" #alert leftButtonLabel=\"OK\" (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public message = '';\n\n    /**\n     * An @Input property to set the `label` of the left button of the dialog.\n     *```html\n     *<igx-dialog leftButtonLabel=\"OKAY\" #alert title=\"Notification\"  (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public leftButtonLabel = '';\n\n    /**\n     * An @Input property to set the left button `type`. The types are `flat`, `raised` and `fab`.\n     * The `flat` type button is a rectangle and doesn't have a shadow. <br>\n     * The `raised` type button is also a rectangle but has a shadow. <br>\n     * The `fab` type button is a circle with a shadow. <br>\n     * The default value is `flat`.\n     *```html\n     *<igx-dialog leftButtonType=\"raised\" leftButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public leftButtonType = 'flat';\n    /**\n     * An @Input property to set the left button color. The property accepts all valid CSS color property values.\n     *```html\n     *<igx-dialog leftButtonColor=\"yellow\" leftButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public leftButtonColor = '';\n\n    /**\n     * An @Input property to set the left button `background-color`. The property accepts all valid CSS color property values.\n     *```html\n     *<igx-dialog leftButtonBackgroundColor=\"black\" leftButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public leftButtonBackgroundColor = '';\n\n    /**\n     * An @Input property to set the left button `ripple`. The `ripple` animates a click/tap to a component as a series of fading waves.\n     * The property accepts all valid CSS color property values.\n     *```html\n     *<igx-dialog leftButtonRipple=\"green\" leftButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public leftButtonRipple = '';\n\n    /**\n     * An @Input property to set the `label` of the right button of the dialog.\n     *```html\n     *<igx-dialog rightButtonLabel=\"OKAY\" #alert title=\"Notification\"  (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public rightButtonLabel = '';\n\n    /**\n     * An @Input property to set the right button `type`. The types are `flat`, `raised` and `fab`.\n     * The `flat` type button is a rectangle and doesn't have a shadow. <br>\n     * The `raised` type button is also a rectangle but has a shadow. <br>\n     * The `fab` type button is a circle with a shadow. <br>\n     * The default value is `flat`.\n     *```html\n     *<igx-dialog rightButtonType=\"fab\" rightButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public rightButtonType = 'flat';\n\n    /**\n     * An @Input property to set the right button `color`. The property accepts all valid CSS color property values.\n     *```html\n     *<igx-dialog rightButtonColor=\"yellow\" rightButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public rightButtonColor = '';\n\n    /**\n     * An @Input property to set the right button `background-color`. The property accepts all valid CSS color property values.\n     *```html\n     *<igx-dialog rightButtonBackgroundColor=\"black\" rightButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public rightButtonBackgroundColor = '';\n\n    /**\n     * An @Input property to set the right button `ripple`.\n     *```html\n     *<igx-dialog rightButtonRipple=\"green\" rightButtonLabel=\"OKAY\" #alert (onLeftButtonSelect)=\"alert.close()\"></igx-dialog>\n     *```\n     */\n    @Input()\n    public rightButtonRipple = '';\n\n    /**\n     * An @Input property that allows you to enable the \"close on click outside the dialog\". By default it's disabled.\n     *```html\n     *<igx-dialog closeOnOutsideSelect=\"true\" leftButtonLabel=\"Cancel\" (onLeftButtonSelect)=\"dialog.close()\"\n     *rightButtonLabel=\"OK\" rightButtonRipple=\"#4CAF50\" (onRightButtonSelect)=\"onDialogOKSelected($event)\">\n     *</igx-dialog>\n     *```\n     */\n    @Input()\n    get closeOnOutsideSelect() {\n        return this._closeOnOutsideSelect;\n    }\n\n    set closeOnOutsideSelect(val: boolean) {\n        this._overlayDefaultSettings.closeOnOutsideClick = val;\n        this._closeOnOutsideSelect = val;\n    }\n\n    /**\n     * Get the position and animation settings used by the dialog.\n     * ```typescript\n     * @ViewChild('alert', { static: true }) public alert: IgxDialogComponent;\n     * let currentPosition: PositionSettings = this.alert.positionSettings\n     * ```\n     */\n    @Input()\n    public get positionSettings(): PositionSettings {\n        return this._positionSettings;\n    }\n\n    /**\n     * Set the position and animation settings used by the dialog.\n     * ```typescript\n     * import { slideInLeft, slideOutRight } from 'igniteui-angular';\n     * ...\n     * @ViewChild('alert', { static: true }) public alert: IgxDialogComponent;\n     *  public newPositionSettings: PositionSettings = {\n     *      openAnimation: useAnimation(slideInTop, { params: { duration: '2000ms' } }),\n     *      closeAnimation: useAnimation(slideOutBottom, { params: { duration: '2000ms'} }),\n     *      horizontalDirection: HorizontalAlignment.Left,\n     *      verticalDirection: VerticalAlignment.Middle,\n     *      horizontalStartPoint: HorizontalAlignment.Left,\n     *      verticalStartPoint: VerticalAlignment.Middle,\n     *      minSize: { height: 100, width: 100 }\n     *  };\n     * this.alert.positionSettings = this.newPositionSettings;\n     * ```\n     */\n    public set positionSettings(settings: PositionSettings) {\n        this._positionSettings = settings;\n        this._overlayDefaultSettings.positionStrategy = new GlobalPositionStrategy(this._positionSettings);\n    }\n\n    /**\n     * An event that is emitted when the dialog is opened.\n     *```html\n     *<igx-dialog (onOpen)=\"onDialogOpenHandler($event)\" (onLeftButtonSelect)=\"dialog.close()\" rightButtonLabel=\"OK\">\n     *</igx-dialog>\n     *```\n     */\n    @Output()\n    public onOpen = new EventEmitter<IDialogEventArgs>();\n\n    /**\n     * An event that is emitted when the dialog is closed.\n     *```html\n     *<igx-dialog (onClose)=\"onDialogCloseHandler($event)\" title=\"Confirmation\" leftButtonLabel=\"Cancel\" rightButtonLabel=\"OK\">\n     *</igx-dialog>\n     *```\n     */\n    @Output()\n    public onClose = new EventEmitter<IDialogEventArgs>();\n\n    /**\n     * An event that is emitted when the left button is clicked.\n     *```html\n     *<igx-dialog (onLeftButtonSelect)=\"onDialogOKSelected($event)\" #dialog leftButtonLabel=\"OK\" rightButtonLabel=\"Cancel\">\n     *</igx-dialog>\n     *```\n     */\n    @Output()\n    public onLeftButtonSelect = new EventEmitter<IDialogEventArgs>();\n\n    /**\n     * An event that is emitted when the right button is clicked.\n     * ```html\n     *<igx-dialog (onRightButtonSelect)=\"onDialogOKSelected($event)\"\n     *#dialog title=\"Confirmation\" (onLeftButtonSelect)=\"dialog.close()\" rightButtonLabel=\"OK\"\n     *rightButtonRipple=\"#4CAF50\" closeOnOutsideSelect=\"true\">\n     *</igx-dialog>\n     *```\n     */\n    @Output()\n    public onRightButtonSelect = new EventEmitter<IDialogEventArgs>();\n\n    private _positionSettings: PositionSettings = {\n        openAnimation: useAnimation(slideInBottom, { params: { fromPosition: 'translateY(100%)' } }),\n        closeAnimation: useAnimation(slideOutTop, { params: { toPosition: 'translateY(-100%)' } })\n    };\n\n    private _overlayDefaultSettings: OverlaySettings;\n    private _closeOnOutsideSelect = false;\n    private _isModal = true;\n    protected destroy$ = new Subject<boolean>();\n\n    /**\n     * @hidden\n     */\n    public get element() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * The default `tabindex` attribute for the component\n     *\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = -1;\n\n    private _titleId: string;\n\n    /**\n     * Returns the value of state. Possible state values are \"open\" or \"close\".\n     *```typescript\n     *@ViewChild(\"MyDialog\")\n     *public dialog: IgxDialogComponent;\n     *ngAfterViewInit() {\n     *    let dialogState = this.dialog.state;\n     *}\n     *```\n     */\n    get state(): string {\n        return this.isOpen ? 'open' : 'close';\n    }\n\n    /**\n     * Returns whether the dialog is visible to the end user.\n     *```typescript\n     *@ViewChild(\"MyDialog\")\n     *public dialog: IgxDialogComponent;\n     *ngAfterViewInit() {\n     *    let dialogOpen = this.dialog.isOpen;\n     *}\n     * ```\n     */\n    @Input()\n    get isOpen() {\n        return !this.toggleRef.collapsed;\n    }\n\n    @HostBinding('class.igx-dialog--hidden')\n    get isCollapsed() {\n        return this.toggleRef.collapsed;\n    }\n\n    /**\n     *Returns the value of the role of the dialog. The valid values are `dialog`, `alertdialog`, `alert`.\n     *```typescript\n     *@ViewChild(\"MyDialog\")\n     *public dialog: IgxDialogComponent;\n     *ngAfterViewInit() {\n     *    let dialogRole = this.dialog.role;\n     *}\n     * ```\n     */\n    @Input()\n    get role() {\n        if (this.leftButtonLabel !== '' && this.rightButtonLabel !== '') {\n            return 'dialog';\n        } else if (\n            this.leftButtonLabel !== '' ||\n            this.rightButtonLabel !== ''\n        ) {\n            return 'alertdialog';\n        } else {\n            return 'alert';\n        }\n    }\n\n    /**\n     *Returns the value of the title id.\n     *```typescript\n     *@ViewChild(\"MyDialog\")\n     *public dialog: IgxDialogComponent;\n     *ngAfterViewInit() {\n     *    let dialogTitle = this.dialog.titleId;\n     *}\n     * ```\n     */\n    @Input()\n    get titleId() {\n        return this._titleId;\n    }\n\n    constructor(\n        private elementRef: ElementRef,\n        @Optional() private navService: IgxNavigationService\n    ) {\n        this._titleId = IgxDialogComponent.NEXT_ID++ + '_title';\n\n        this._overlayDefaultSettings = {\n            positionStrategy: new GlobalPositionStrategy(this._positionSettings),\n            scrollStrategy: new NoOpScrollStrategy(),\n            modal: this.isModal,\n            closeOnOutsideClick: this.closeOnOutsideSelect\n        };\n    }\n\n    ngAfterContentInit() {\n        this.toggleRef.onClosing.pipe(takeUntil(this.destroy$)).subscribe(() => this.emitCloseFromDialog());\n    }\n\n    private emitCloseFromDialog() {\n        this.onClose.emit({ dialog: this, event: null });\n    }\n\n    /**\n     * A method that opens the dialog.\n     * @memberOf {@link IgxDialogComponent}\n     *```html\n     *<button (click)=\"dialog.open() igxButton=\"raised\" igxButtonColor=\"white\" igxRipple=\"white\">Trigger Dialog</button>\n     *<igx-dialog #dialog></igx-dialog>\n     *```\n     */\n    public open(overlaySettings: OverlaySettings = this._overlayDefaultSettings) {\n        this.toggleRef.open(overlaySettings);\n        this.onOpen.emit({ dialog: this, event: null });\n        if (!this.leftButtonLabel && !this.rightButtonLabel) {\n            this.toggleRef.element.focus();\n        }\n    }\n\n    /**\n     *A method that that closes the dialog.\n     *@memberOf {@link IgxDialogComponent}\n     *```html\n     *<button (click)=\"dialog.close() igxButton=\"raised\" igxButtonColor=\"white\" igxRipple=\"white\">Trigger Dialog</button>\n     *<igx-dialog #dialog></igx-dialog>\n     *```\n     */\n    public close() {\n        // `onClose` will emit from `toggleRef.onClosing` subscription\n        this.toggleRef.close();\n    }\n\n\n    /**\n     * A method that opens/closes the dialog.\n     *@memberOf {@link IgxDialogComponent}\n     *```html\n     *<button (click)=\"dialog.toggle() igxButton=\"raised\" igxButtonColor=\"white\" igxRipple=\"white\">Trigger Dialog</button>\n     *<igx-dialog #dialog></igx-dialog>\n     *```\n     */\n    public toggle() {\n        this.isOpen ? this.close() : this.open();\n    }\n\n    /**\n     * @hidden\n     */\n    public onDialogSelected(event) {\n        event.stopPropagation();\n        if (\n            this.isOpen &&\n            this.closeOnOutsideSelect &&\n            event.target.classList.contains(IgxDialogComponent.DIALOG_CLASS)\n        ) {\n            this.close();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public onInternalLeftButtonSelect(event) {\n        this.onLeftButtonSelect.emit({ dialog: this, event });\n    }\n\n    /**\n     * @hidden\n     */\n    public onInternalRightButtonSelect(event) {\n        this.onRightButtonSelect.emit({ dialog: this, event });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        if (this.navService && this.id) {\n            this.navService.add(this.id, this);\n        }\n    }\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        if (this.navService && this.id) {\n            this.navService.remove(this.id);\n        }\n\n    }\n\n}\n\nexport interface IDialogEventArgs extends IBaseEventArgs {\n    dialog: IgxDialogComponent;\n    event: Event;\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxDialogComponent, IgxDialogTitleDirective, IgxDialogActionsDirective],\n    exports: [IgxDialogComponent, IgxDialogTitleDirective, IgxDialogActionsDirective],\n    imports: [CommonModule, IgxToggleModule, IgxButtonModule, IgxRippleModule, IgxFocusModule]\n})\nexport class IgxDialogModule { }\n","import {\n    Directive, EmbeddedViewRef, Input, OnChanges, ChangeDetectorRef,\n    SimpleChange, SimpleChanges, TemplateRef, ViewContainerRef, NgModule, NgZone, Output, EventEmitter\n} from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { IBaseEventArgs } from '../../core/utils';\n\n/**\n * @hidden\n */\n@Directive({ selector: '[igxTemplateOutlet]' })\nexport class IgxTemplateOutletDirective implements OnChanges {\n    private _viewRef !: EmbeddedViewRef<any>;\n\n    /**\n    * The embedded views cache. Collection is key-value paired.\n    * Key is the template id, value is the embedded view for the related template.\n    */\n    private _embeddedViewsMap: Map<string, EmbeddedViewRef<any>> = new Map();\n\n    @Input() public igxTemplateOutletContext !: Object;\n\n    @Input() public igxTemplateOutlet !: TemplateRef<any>;\n\n    @Output()\n    public onViewCreated = new EventEmitter<IViewChangeEventArgs>();\n\n    @Output()\n    public onViewMoved = new EventEmitter<IViewChangeEventArgs>();\n\n    @Output()\n    public onCachedViewLoaded = new EventEmitter<ICachedViewLoadedEventArgs>();\n\n    @Output()\n    public onBeforeViewDetach = new EventEmitter<IViewChangeEventArgs>();\n\n    constructor(public _viewContainerRef: ViewContainerRef, private _zone: NgZone, public cdr: ChangeDetectorRef) {\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const actionType: TemplateOutletAction = this._getActionType(changes);\n        switch (actionType) {\n            case TemplateOutletAction.CreateView: this._recreateView(); break;\n            case TemplateOutletAction.MoveView: this._moveView(); break;\n            case TemplateOutletAction.UseCachedView: this._useCachedView(); break;\n            case TemplateOutletAction.UpdateViewContext: this._updateExistingContext(this.igxTemplateOutletContext); break;\n        }\n    }\n\n    public cleanCache() {\n        this._embeddedViewsMap.forEach((item) => {\n            if (!item.destroyed) {\n                item.destroy();\n            }\n        });\n        this._embeddedViewsMap.clear();\n    }\n\n    public cleanView(tmplID) {\n        const embView = this._embeddedViewsMap.get(tmplID);\n        if (embView) {\n            embView.destroy();\n            this._embeddedViewsMap.delete(tmplID);\n        }\n    }\n\n    private _recreateView() {\n        const prevIndex = this._viewRef ? this._viewContainerRef.indexOf(this._viewRef) : -1;\n        // detach old and create new\n        if (prevIndex !== -1) {\n            this.onBeforeViewDetach.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext });\n            this._viewContainerRef.detach(prevIndex);\n        }\n        if (this.igxTemplateOutlet) {\n            this._viewRef = this._viewContainerRef.createEmbeddedView(\n                this.igxTemplateOutlet, this.igxTemplateOutletContext);\n            this.onViewCreated.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext });\n            const tmplId = this.igxTemplateOutletContext['templateID'];\n            if (tmplId) {\n                // if context contains a template id, check if we have a view for that template already stored in the cache\n                // if not create a copy and add it to the cache in detached state.\n                // Note: Views in detached state do not appear in the DOM, however they remain stored in memory.\n                const res = this._embeddedViewsMap.get(this.igxTemplateOutletContext['templateID']);\n                if (!res) {\n                    this._embeddedViewsMap.set(this.igxTemplateOutletContext['templateID'], this._viewRef);\n                }\n            }\n        }\n    }\n\n    private _moveView() {\n        // using external view and inserting it in current view.\n        const view = this.igxTemplateOutletContext['moveView'];\n        const owner = this.igxTemplateOutletContext['owner'];\n        if (view !== this._viewRef) {\n            if (owner._viewContainerRef.indexOf(view) !== -1) {\n                // detach in case view it is attached somewhere else at the moment.\n                this.onBeforeViewDetach.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext });\n                owner._viewContainerRef.detach(owner._viewContainerRef.indexOf(view));\n            }\n            if (this._viewRef && this._viewContainerRef.indexOf(this._viewRef) !== -1) {\n                this.onBeforeViewDetach.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext });\n                this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef));\n            }\n            this._viewRef = view;\n            this._viewContainerRef.insert(view, 0);\n            this._updateExistingContext(this.igxTemplateOutletContext);\n            this.onViewMoved.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext });\n        } else {\n            this._updateExistingContext(this.igxTemplateOutletContext);\n        }\n    }\n    private _useCachedView() {\n        // use view for specific template cached in the current template outlet\n        const tmplID = this.igxTemplateOutletContext['templateID'];\n        const cachedView = tmplID ?\n            this._embeddedViewsMap.get(tmplID) :\n            null;\n        // if view exists, but template has been changed and there is a view in the cache with the related template\n        // then detach old view and insert the stored one with the matching template\n        // after that update its context.\n        if (this._viewContainerRef.length > 0) {\n            this.onBeforeViewDetach.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext });\n            this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef));\n        }\n\n        this._viewRef = cachedView;\n        const oldContext = this._cloneContext(cachedView.context);\n        this._viewContainerRef.insert(this._viewRef, 0);\n        this._updateExistingContext(this.igxTemplateOutletContext);\n        this.onCachedViewLoaded.emit({ owner: this, view: this._viewRef, context: this.igxTemplateOutletContext, oldContext });\n    }\n\n    private _shouldRecreateView(changes: SimpleChanges): boolean {\n        const ctxChange = changes['igxTemplateOutletContext'];\n        return !!changes['igxTemplateOutlet'] || (ctxChange && this._hasContextShapeChanged(ctxChange));\n    }\n\n    private _hasContextShapeChanged(ctxChange: SimpleChange): boolean {\n        const prevCtxKeys = Object.keys(ctxChange.previousValue || {});\n        const currCtxKeys = Object.keys(ctxChange.currentValue || {});\n\n        if (prevCtxKeys.length === currCtxKeys.length) {\n            for (const propName of currCtxKeys) {\n                if (prevCtxKeys.indexOf(propName) === -1) {\n                    return true;\n                }\n            }\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    private _updateExistingContext(ctx: Object): void {\n        for (const propName of Object.keys(ctx)) {\n            (<any>this._viewRef.context)[propName] = (<any>this.igxTemplateOutletContext)[propName];\n        }\n    }\n\n    private _cloneContext(ctx: any): any {\n        const clone = {};\n        for (const propName of Object.keys(ctx)) {\n            clone[propName] = ctx[propName];\n        }\n        return clone;\n    }\n\n    private _getActionType(changes: SimpleChanges) {\n        const movedView = this.igxTemplateOutletContext['moveView'];\n        const tmplID = this.igxTemplateOutletContext['templateID'];\n        const cachedView = tmplID ?\n            this._embeddedViewsMap.get(tmplID) :\n            null;\n        const shouldRecreate = this._shouldRecreateView(changes);\n        if (movedView) {\n            // view is moved from external source\n            return TemplateOutletAction.MoveView;\n        } else if (shouldRecreate && cachedView) {\n            // should recreate (template or context change) and there is a matching template in cache\n            return TemplateOutletAction.UseCachedView;\n        } else if (!this._viewRef || shouldRecreate) {\n            // no view or should recreate\n            return TemplateOutletAction.CreateView;\n        } else if (this.igxTemplateOutletContext) {\n            // has context, update context\n            return TemplateOutletAction.UpdateViewContext;\n        }\n    }\n}\nenum TemplateOutletAction {\n    CreateView,\n    MoveView,\n    UseCachedView,\n    UpdateViewContext\n}\n\nexport interface IViewChangeEventArgs extends IBaseEventArgs {\n    owner: IgxTemplateOutletDirective;\n    view: EmbeddedViewRef<any>;\n    context: any;\n}\n\nexport interface ICachedViewLoadedEventArgs extends IViewChangeEventArgs {\n    oldContext: any;\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxTemplateOutletDirective],\n    entryComponents: [],\n    exports: [IgxTemplateOutletDirective],\n    imports: [CommonModule]\n})\n\nexport class IgxTemplateOutletModule {\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: '[igxProcessBarText]'\n})\nexport class IgxProcessBarTextTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxProgressBarGradient]'\n})\nexport class IgxProgressBarGradientDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n","import { Injectable, Inject, InjectionToken, inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * @hidden\n */\nexport type Direction = 'ltr' | 'rtl';\n\n/**\n * Injection token is used to inject the document into Directionality\n * which factory could be faked for testing purposes.\n *\n * We can't provide and mock the DOCUMENT token from platform-browser because configureTestingModule\n * allows override of the default providers, directive, pipes, modules of the test injector\n * which causes errors.\n *\n * @hidden\n */\nexport const DIR_DOCUMENT = new InjectionToken<Document>('dir-doc', {\n    providedIn: 'root',\n    factory: DIR_DOCUMENT_FACTORY\n});\n\n/**\n * @hidden\n */\nexport function DIR_DOCUMENT_FACTORY(): Document {\n    return inject(DOCUMENT);\n}\n\n/**\n * @hidden\n *\n * Bidirectional service that extracts the value of the direction attribute on the body or html elements.\n *\n * The dir attribute over the body element takes precedence.\n */\n@Injectable({\n    providedIn: 'root'\n})\nexport class IgxDirectionality {\n    private _dir: Direction;\n    private _document: Document;\n\n    public get value(): Direction {\n        return this._dir;\n    }\n\n    public get document() {\n        return this._document;\n    }\n\n    public get rtl() {\n        return this._dir === 'rtl';\n    }\n\n    constructor(@Inject(DIR_DOCUMENT) document) {\n        this._document = <Document>document;\n        const bodyDir = this._document.body ? this._document.body.dir : null;\n        const htmlDir = this._document.documentElement ? this._document.documentElement.dir : null;\n        const extractedDir = bodyDir || htmlDir;\n        this._dir = (extractedDir === 'ltr' || extractedDir === 'rtl') ? extractedDir : 'ltr';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    NgModule,\n    Output,\n    Renderer2,\n    ViewChild,\n    ContentChild,\n    AfterViewInit\n} from '@angular/core';\nimport {\n    IgxProcessBarTextTemplateDirective,\n    IgxProgressBarGradientDirective,\n} from './progressbar.common';\nimport { IBaseEventArgs } from '../core/utils';\nimport { IgxDirectionality } from '../services/direction/directionality';\n\nconst ONE_PERCENT = 0.01;\nconst MIN_VALUE = 0;\n\nexport enum IgxTextAlign {\n    START = 'start',\n    CENTER = 'center',\n    END = 'end'\n}\n\nexport enum IgxProgressType {\n    ERROR = 'error',\n    INFO = 'info',\n    WARNING = 'warning',\n    SUCCESS = 'success'\n}\n\nexport interface IChangeProgressEventArgs extends IBaseEventArgs {\n    previousValue: number;\n    currentValue: number;\n}\n\nexport abstract class BaseProgress {\n    /**\n     * @hidden\n     */\n    private requestAnimationId: number = undefined;\n\n    /**\n     * @hidden\n     */\n    protected _valueInPercent = MIN_VALUE;\n    /**\n     * @hidden\n     */\n    protected _max = 100;\n    /**\n     * @hidden\n     */\n    protected _value = MIN_VALUE;\n    /**\n     * @hidden\n     */\n    protected _animate = true;\n\n    /**\n     * @hidden\n     */\n    protected _step;\n\n    /**\n     *Returns the `IgxLinearProgressBarComponent`/`IgxCircularProgressBarComponent` value in percentage.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxLinearProgressBarComponent; // IgxCircularProgressBarComponent\n     *public valuePercent(event){\n     *    let percentValue = this.progressBar.valueInPercent;\n     *    alert(percentValue);\n     *}\n     *```\n     */\n    public get valueInPercent(): number {\n        return this._valueInPercent;\n    }\n\n    /**\n     *Sets the `IgxLinearProgressBarComponent`/`IgxCircularProgressBarComponent` value in percentage.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxLinearProgressBarComponent; // IgxCircularProgressBarComponent\n     *    public setValue(event){\n     *    this.progressBar.valueInPercent = 56;\n     *}\n     * //...\n     *```\n     *```html\n     *<button igxButton=\"fab\" igxRipple=\"\" (click)=\"setValue()\">setValue</button>\n     *```\n     */\n    public set valueInPercent(value: number) {\n        this._valueInPercent = value;\n    }\n\n    /**\n     * @hidden\n     */\n    protected runAnimation(val: number, step: number) {\n        this.requestAnimationId = requestAnimationFrame(\n            () => this.updateProgressSmoothly.call(this, val, step));\n    }\n\n    /**\n     * @hidden\n     */\n    protected updateProgressSmoothly(val: number, step: number) {\n        this._value += step;\n        const passedValue = convertInPercentage(val, this._max);\n        const progressValue = convertInPercentage(this._value, this._max);\n        if (this.valueInPercent === passedValue) {\n            this.updateProgress(val);\n            cancelAnimationFrame(this.requestAnimationId);\n        } else if (this.isInLimitRange(progressValue, passedValue, step)) {\n            this.updateProgress(val);\n            cancelAnimationFrame(this.requestAnimationId);\n        } else {\n            this.valueInPercent = progressValue;\n            this.requestAnimationId = requestAnimationFrame(() => this.updateProgressSmoothly.call(this, val, step));\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected updateProgressDirectly(val: number) {\n        this._value = val;\n        this.valueInPercent = convertInPercentage(this._value, this._max);\n    }\n\n    /**\n     * @hidden\n     */\n    protected directionFlow(currentValue: number, prevValue: number, step: number): number {\n        if (currentValue < prevValue) {\n            return step;\n        }\n\n        return -step;\n    }\n\n    /**\n     * @hidden\n     */\n    private isInLimitRange(val: number, comparator: number, step: number) {\n        return this.isExceedingUpperLimit(val, comparator, step) || this.isExceedingLowerLimit(val, comparator, step);\n    }\n\n    /**\n     * @hidden\n     *\n     *\n     * @param val\n     * @param comparator\n     * @param step\n     */\n    private isExceedingUpperLimit(val: number, comparator: number, step: number) {\n        return val > comparator && step > 0;\n    }\n\n    /**\n     * @hidden\n     *\n     * @param val\n     * @param comparator\n     * @param step\n     */\n    private isExceedingLowerLimit(val: number, comparator: number, step: number) {\n        return val < comparator && step < 0;\n    }\n\n    /**\n     * @hidden\n     * @param step\n     */\n    private updateProgress(val: number) {\n        this._value = val;\n        this.valueInPercent = convertInPercentage(this._value, this._max);\n    }\n}\nlet NEXT_LINEAR_ID = 0;\nlet NEXT_CIRCULAR_ID = 0;\nlet NEXT_GRADIENT_ID = 0;\n@Component({\n    selector: 'igx-linear-bar',\n    templateUrl: 'templates/linear-bar.component.html'\n})\nexport class IgxLinearProgressBarComponent extends BaseProgress {\n\n    /**\n     *Animation on progress `IgxLinearProgressBarComponent`. By default it is set to true.\n     *```html\n     *<igx-linear-bar [animate]=\"false\" [striped]=\"true\" [max]=\"200\" [value]=\"50\"></igx-linear-bar>\n     *```\n     */\n    @Input()\n    set animate(animate: boolean) {\n        this._animate = animate;\n    }\n\n    /**\n     *Returns whether the `IgxLinearProgressBarComponent` has animation true/false.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxLinearProgressBarComponent;\n     *public animationStatus(event) {\n     *    let animationStatus = this.progressBar.animate;\n     *    alert(animationStatus);\n     *}\n     *```\n     */\n    get animate(): boolean {\n        return this._animate;\n    }\n\n    /**\n     *Set maximum value that can be passed. By default it is set to 100.\n     *```html\n     *<igx-linear-bar [striped]=\"false\" [max]=\"200\" [value]=\"0\"></igx-linear-bar>\n     *```\n     */\n    @HostBinding('attr.aria-valuemax')\n    @Input()\n    set max(maxNum: number) {\n        this._max = maxNum;\n    }\n\n    /**\n     *Returns the the maximum progress value of the `IgxLinearProgressBarComponent`.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxLinearProgressBarComponent;\n     *public maxValue(event) {\n     *    let max = this.progressBar.max;\n     *    alert(max);\n     *}\n     *```\n     */\n    get max() {\n        return this._max;\n    }\n\n    /**\n     *Returns the value which update the progress indicator of the `IgxLinearProgressBarComponent`.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxLinearProgressBarComponent;\n     *public stepValue(event) {\n     *    let step = this.progressBar.step;\n     *    alert(step);\n     *}\n     *```\n     */\n    @Input()\n    get step(): number {\n        if (this._step) {\n            return this._step;\n        }\n\n        return this._max * ONE_PERCENT;\n    }\n\n    /**\n     *Sets the value by which progress indicator is updated. By default it is 1% of the maximum value.\n     *```html\n     *<igx-linear-bar [striped]=\"false\" [max]=\"200\" [value]=\"0\" [step]=\"1\"></igx-linear-bar>\n     *```\n     */\n    set step(val: number) {\n        this._step = Number(val);\n    }\n\n    constructor() {\n        super();\n    }\n\n    @HostBinding('attr.aria-valuemin')\n    public valueMin = 0;\n\n    @HostBinding('class.igx-linear-bar')\n    public cssClass = 'igx-linear-bar';\n\n    /**\n     *Set `IgxLinearProgressBarComponent` to have striped style. By default it is set to false.\n     *```html\n     *<igx-linear-bar [striped]=\"true\" [max]=\"200\" [value]=\"50\"></igx-linear-bar>\n     *```\n     */\n    @HostBinding('class.igx-linear-bar--striped')\n    @Input()\n    public striped = false;\n\n    /**\n     *Set `IgxLinearProgressBarComponent` to have indeterminate. By default it is set to false.\n     *```html\n     *<igx-linear-bar [indeterminate]=\"true\"></igx-linear-bar>\n     *```\n     */\n    @HostBinding('class.igx-linear-bar--indeterminate')\n    @Input()\n    public indeterminate = false;\n\n    /**An @Input property that sets the value of the `role` attribute. If not provided it will be automatically set to `progressbar`.\n     * ```html\n     *<igx-linear-bar role=\"progressbar\"></igx-linear-bar>\n     * ```\n     */\n    @HostBinding('attr.role')\n    @Input()\n    public role = 'progressbar';\n\n    /**An @Input property that sets the value of `id` attribute. If not provided it will be automatically generated.\n     * ```html\n     *<igx-linear-bar [id]=\"'igx-linear-bar-55'\" [striped]=\"true\" [max]=\"200\" [value]=\"50\"></igx-linear-bar>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-linear-bar-${NEXT_LINEAR_ID++}`;\n\n    /**\n     *Set the position that defines where the text is aligned.\n     Possible options - `IgxTextAlign.START` (default), `IgxTextAlign.CENTER`, `IgxTextAlign.END`.\n     *```typescript\n     *public positionCenter: IgxTextAlign;\n     *public ngOnInit() {\n     *    this.positionCenter = IgxTextAlign.CENTER;\n     *}\n     * //...\n     *```\n     * ```html\n     *<igx-linear-bar type=\"warning\" [text]=\"'Custom text'\" [textAlign]=\"positionCenter\" [striped]=\"true\"></igx-linear-bar>\n     *```\n     */\n    @Input()\n    public textAlign: IgxTextAlign = IgxTextAlign.START;\n\n    /**\n     *Set the text to be visible. By default it is set to true.\n     * ```html\n     *<igx-linear-bar type=\"default\" [textVisibility]=\"false\"></igx-linear-bar>\n     *```\n     */\n    @Input()\n    public textVisibility = true;\n\n    /**\n     *Set the position that defines if the text should be aligned above the progress line. By default is set to false.\n     *```html\n     *<igx-linear-bar type=\"error\" [textTop]=\"true\"></igx-linear-bar>\n     *```\n     */\n    @Input()\n    public textTop = false;\n\n    /**\n     *Set a custom text that is displayed according to the defined position.\n     * ```html\n     *<igx-linear-bar type=\"warning\" [text]=\"'Custom text'\" [textAlign]=\"positionCenter\" [striped]=\"true\"></igx-linear-bar>\n     *```\n     */\n    @Input()\n    public text: string;\n\n    /**\n     *Set type of the `IgxLinearProgressBarComponent`. Possible options - `default`, `success`, `info`, `warning`, and `error`.\n     *```html\n     *<igx-linear-bar [striped]=\"false\" [max]=\"100\" [value]=\"0\" type=\"error\"></igx-linear-bar>\n     *```\n     */\n\n    @Input()\n    public type = 'default';\n\n    /**\n    *Returns value that indicates the current `IgxLinearProgressBarComponent` position.\n    *```typescript\n    *@ViewChild(\"MyProgressBar\")\n    *public progressBar: IgxLinearProgressBarComponent;\n    *public getValue(event) {\n    *    let value = this.progressBar.value;\n    *    alert(value);\n    *}\n    *```\n    */\n    @HostBinding('attr.aria-valuenow')\n    @Input()\n    get value(): number {\n        return this._value;\n    }\n\n    /**\n     *Set value that indicates the current `IgxLinearProgressBarComponent` position.\n     *```html\n     *<igx-linear-bar [striped]=\"false\" [max]=\"200\" [value]=\"50\"></igx-linear-bar>\n     *```\n     */\n    set value(val) {\n        val = Number(val);\n        if (this._value === val || this.indeterminate) {\n            return;\n        }\n\n        const valueInRange = getValueInProperRange(val, this.max);\n        if (isNaN(valueInRange)) {\n            return;\n        }\n        const changedValues = {\n            currentValue: valueInRange,\n            previousValue: this._value\n        };\n\n        const updateValue = super.directionFlow(this._value, val, this.step);\n        if (this._animate && val >= this.step) {\n            super.runAnimation(valueInRange, updateValue);\n        } else {\n            super.updateProgressDirectly(valueInRange);\n        }\n\n        this.onProgressChanged.emit(changedValues);\n    }\n\n    /**\n     *An event, which is triggered after a progress is changed.\n     *```typescript\n     *public progressChange(event) {\n     *    alert(\"Progress made!\");\n     *}\n     * //...\n     *```\n     *```html\n     *<igx-linear-bar (onProgressChanged)=\"progressChange($event)\" type=\"success\">\n     *```\n     */\n    @Output() public onProgressChanged = new EventEmitter<IChangeProgressEventArgs>();\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-linear-bar--danger')\n    public get error() {\n        return this.type === IgxProgressType.ERROR;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-linear-bar--info')\n    public get info() {\n        return this.type === IgxProgressType.INFO;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-linear-bar--warning')\n    public get warning() {\n        return this.type === IgxProgressType.WARNING;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-linear-bar--success')\n    public get success() {\n        return this.type === IgxProgressType.SUCCESS;\n    }\n}\n\n@Component({\n    selector: 'igx-circular-bar',\n    templateUrl: 'templates/circular-bar.component.html'\n})\nexport class IgxCircularProgressBarComponent extends BaseProgress implements AfterViewInit {\n\n    private readonly STROKE_OPACITY_DVIDER = 100;\n    private readonly STROKE_OPACITY_ADDITION = .2;\n\n    /** @hidden */\n    @HostBinding('class.igx-circular-bar')\n    public cssClass = 'igx-circular-bar';\n\n    /**\n     *An event, which is triggered after a progress is changed.\n     *```typescript\n     *public progressChange(event) {\n     *    alert(\"Progress made!\");\n     *}\n     * //...\n     *```\n     *```html\n     *<igx-circular-bar [value]=\"currentValue\" (onProgressChanged)=\"progressChange($event)\"></igx-circular-bar>\n     *```\n     */\n    @Output()\n    public onProgressChanged = new EventEmitter<IChangeProgressEventArgs>();\n\n    /**\n     *An @Input property that sets the value of `id` attribute. If not provided it will be automatically generated.\n     *```html\n     *<igx-circular-bar [id]=\"'igx-circular-bar-55'\" [value]=\"50\"></igx-circular-bar>\n     *```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-circular-bar-${NEXT_CIRCULAR_ID++}`;\n\n    /**\n     * @hidden\n     */\n    public gradientId = `igx-circular-gradient-${NEXT_GRADIENT_ID++}`;\n\n    /**\n     *An @Input property that sets the value of the `indeterminate` attribute. If not provided it will be automatically set to false.\n     *```html\n     *<igx-circular-bar [indeterminate]=\"true\"></igx-circular-bar>\n     *```\n     */\n    @HostBinding('class.igx-circular-bar--indeterminate')\n    @Input()\n    public indeterminate = false;\n\n    /**\n     *Sets the text visibility. By default it is set to true.\n     *```html\n     *<igx-circular-bar [textVisibility]=\"false\"></igx-circular-bar>\n     *```\n     */\n    @Input()\n    public textVisibility = true;\n\n    /**\n     * Sets/gets the text to be displayed inside the `igxCircularBar`.\n     *```html\n     *<igx-circular-bar text=\"Progress\"></igx-circular-bar>\n     *```\n     *```typescript\n     *let text = this.circularBar.text;\n     *```\n     */\n    @Input()\n    public text: string;\n\n    @ContentChild(IgxProcessBarTextTemplateDirective, { read: IgxProcessBarTextTemplateDirective })\n    public textTemplate: IgxProcessBarTextTemplateDirective;\n\n    @ContentChild(IgxProgressBarGradientDirective, { read: IgxProgressBarGradientDirective })\n    public gradientTemplate: IgxProgressBarGradientDirective;\n\n    /**\n     * @hidden\n    */\n    public get context(): any {\n        return {\n            $implicit: { value: this.value, valueInPercent: this.valueInPercent, max: this.max }\n        };\n    }\n\n    /**\n    *Animation on progress `IgxCircularProgressBarComponent`. By default it is set to true.\n     *```html\n     *<igx-circular-bar [animate]=\"false\" [value]=\"50\"></igx-circular-bar>\n     *```\n     */\n    @Input()\n    set animate(animate: boolean) {\n        this._animate = animate;\n    }\n\n    /**\n     *Returns whether the `IgxCircularProgressBarComponent` has animation true/false.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxCircularProgressBarComponent;\n     *public animationStatus(event) {\n     *    let animationStatus = this.progressBar.animate;\n     *    alert(animationStatus);\n     *}\n     *```\n     */\n    get animate(): boolean {\n        return this._animate;\n    }\n\n    /**\n     *Set maximum value that can be passed. By default it is set to 100.\n     *```html\n     *<igx-circular-bar [max]=\"200\" [value]=\"0\"></igx-circular-bar>\n     *```\n     */\n    @Input()\n    set max(maxNum: number) {\n        this._max = maxNum;\n    }\n\n    /**\n     *Returns the the maximum progress value of the `IgxCircularProgressBarComponent`.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxCircularProgressBarComponent;\n     *public maxValue(event) {\n     *    let max = this.progressBar.max;\n     *    alert(max);\n     *}\n     *```\n     *```html\n     *<igx-circular-bar [max]=\"245\" [animate]=\"false\" [value]=\"currentValue\"></igx-circular-bar>\n     *```\n     */\n    get max(): number {\n        return this._max;\n    }\n\n    /**\n     *Returns the value which update the progress indicator of the `IgxCircularProgressBarComponent`.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxCircularProgressBarComponent;\n     *public stepValue(event) {\n     *    let step = this.progressBar.step;\n     *    alert(step);\n     *}\n     *```\n     */\n    @Input()\n    get step(): number {\n        if (this._step) {\n            return this._step;\n        }\n\n        return this._max * ONE_PERCENT;\n    }\n\n    /**\n     *Sets the value by which progress indicator is updated. By default it is 1% of the maximum value.\n     *```html\n     *<igx-circular-bar [striped]=\"false\" [max]=\"200\" [value]=\"0\" [step]=\"1\"></igx-circular-bar>\n     *```\n    */\n    set step(val: number) {\n        this._step = Number(val);\n    }\n\n    /**\n     *Returns value that indicates the current `IgxCircularProgressBarComponent` position.\n     *```typescript\n     *@ViewChild(\"MyProgressBar\")\n     *public progressBar: IgxCircularProgressBarComponent;\n     *public getValue(event) {\n     *    let value = this.progressBar.value;\n     *    alert(value);\n     *}\n     *```\n     *```html\n     *<button igxButton=\"fab\" igxRipple=\"\" (click)=\"getValue()\">Click</button>\n     *```\n     */\n    @Input()\n    get value(): number {\n        return this._value;\n    }\n\n    /**\n     *Set value that indicates the current `IgxCircularProgressBarComponent` position.\n     *```html\n     *<igx-circular-bar [value]=\"50\"></igx-circular-bar>\n     *```\n     */\n    set value(val: number) {\n        val = Number(val);\n        if (this._value === val || this.indeterminate) {\n            return;\n        }\n\n        const valueInProperRange = getValueInProperRange(val, this.max);\n        if (isNaN(valueInProperRange)) {\n            return;\n        }\n\n        const changedValues = {\n            currentValue: valueInProperRange,\n            previousValue: this._value\n        };\n\n        const updateValue = super.directionFlow(this._value, val, this.step);\n        if (this.animate && val >= this.step) {\n            super.runAnimation(valueInProperRange, updateValue);\n        } else {\n            this.updateProgressDirectly(valueInProperRange);\n        }\n\n        this.onProgressChanged.emit(changedValues);\n    }\n\n    private _circleRadius = 46;\n    private _circumference = 2 * Math.PI * this._circleRadius;\n\n    @ViewChild('circle', { static: true }) private _svgCircle: ElementRef;\n\n    constructor(private renderer: Renderer2, private _directionality: IgxDirectionality) {\n        super();\n    }\n\n    ngAfterViewInit() {\n        this.renderer.setStyle(\n            this._svgCircle.nativeElement,\n            'stroke',\n            `url(#${this.gradientId})`\n        );\n    }\n\n    /**\n     * @hidden\n     */\n    public updateProgressSmoothly(val: number, step: number) {\n        // Set frames for the animation\n        const FRAMES = [{\n            strokeDashoffset: this.getProgress(this._value),\n            strokeOpacity: (this._value / this.STROKE_OPACITY_DVIDER) + this.STROKE_OPACITY_ADDITION\n        }, {\n            strokeDashoffset: this.getProgress(this.valueInPercent),\n            strokeOpacity: (this.valueInPercent / this.STROKE_OPACITY_DVIDER) + this.STROKE_OPACITY_ADDITION\n        }];\n        this._svgCircle.nativeElement.animate(FRAMES, {\n            easing: 'ease-out',\n            fill: 'forwards'\n        });\n\n        super.updateProgressSmoothly(val, step);\n    }\n\n    /**\n     * @hidden\n    */\n    public get textContent(): string {\n        return this.text;\n    }\n\n    /**\n     * @hidden\n    */\n    public updateProgressDirectly(val: number) {\n        super.updateProgressDirectly(val);\n\n        this.renderer.setStyle(\n            this._svgCircle.nativeElement,\n            'stroke-dashoffset',\n            this.getProgress(this.valueInPercent));\n\n        this.renderer.setStyle(\n            this._svgCircle.nativeElement,\n            'stroke-opacity',\n            (this.valueInPercent / this.STROKE_OPACITY_DVIDER) + this.STROKE_OPACITY_ADDITION);\n    }\n\n    private getProgress(percentage: number) {\n        return this._directionality.rtl ?\n            this._circumference + (percentage * this._circumference / 100) :\n            this._circumference - (percentage * this._circumference / 100);\n    }\n}\n\nexport function getValueInProperRange(value: number, max: number, min = 0): number {\n    return Math.max(Math.min(value, max), min);\n}\n\nexport function convertInPercentage(value: number, max: number) {\n    return Math.floor(100 * value / max);\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxLinearProgressBarComponent,\n        IgxCircularProgressBarComponent,\n        IgxProcessBarTextTemplateDirective,\n        IgxProgressBarGradientDirective,\n    ],\n    exports: [\n        IgxLinearProgressBarComponent,\n        IgxCircularProgressBarComponent,\n        IgxProcessBarTextTemplateDirective,\n        IgxProgressBarGradientDirective,\n    ],\n    imports: [CommonModule]\n})\nexport class IgxProgressBarModule { }\n\n","import { IgxDropDownItemComponent } from './../drop-down/drop-down-item.component';\nimport { Component, DoCheck, Input } from '@angular/core';\n\n@Component({\n    selector: 'igx-select-item',\n    template: '<ng-content></ng-content>'\n})\nexport class IgxSelectItemComponent extends IgxDropDownItemComponent implements DoCheck {\n\n    private _text: any;\n\n    /**\n     * An @Input property that gets/sets the item's text to be displayed in the select component's input when the item is selected.\n     *\n     * ```typescript\n     *  //get\n     *  let mySelectedItem = this.dropDown.selectedItem;\n     *  let selectedItemText = mySelectedItem.text;\n     * ```\n\n     * ```html\n     * // set\n     * <igx-select-item [text]=\"'London'\"></igx-select-item>\n     * ```\n     */\n    @Input()\n    public get text(): string {\n        return this._text;\n    }\n\n    public set text(text: string) {\n        this._text = text;\n    }\n\n    /** @hidden @internal */\n    public get itemText() {\n        if (this._text !== undefined) {\n            return this._text;\n        }\n        // If text @Input is undefined, try extract a meaningful item text out of the item template\n        return this.elementRef.nativeElement.textContent.trim();\n    }\n\n    /**\n     * Sets/Gets if the item is the currently selected one in the select\n     *\n     * ```typescript\n     *  let mySelectedItem = this.select.selectedItem;\n     *  let isMyItemSelected = mySelectedItem.selected; // true\n     * ```\n     */\n    public get selected() {\n        return !this.isHeader && !this.disabled && this.selection.is_item_selected(this.dropDown.id, this);\n    }\n\n    public set selected(value: any) {\n        if (value && !this.isHeader && !this.disabled) {\n            this.dropDown.selectItem(this);\n        }\n    }\n\n    /** @hidden @internal */\n    public isHeader: boolean;\n\n    ngDoCheck(): void {\n    }\n}\n","import { VerticalAlignment, HorizontalAlignment, PositionSettings, Size, Util, ConnectedFit  } from '../services/overlay/utilities';\nimport { IPositionStrategy } from '../services/overlay/position';\nimport { fadeOut, fadeIn } from '../animations/main';\nimport { IgxSelectBase } from './select.common';\nimport { isIE } from '../core/utils';\nimport { BaseFitPositionStrategy } from '../services/overlay/position/base-fit-position-strategy';\n\n/** @hidden @internal */\nexport class SelectPositioningStrategy extends BaseFitPositionStrategy implements IPositionStrategy {\n\n    private _selectDefaultSettings = {\n        horizontalDirection: HorizontalAlignment.Right,\n        verticalDirection: VerticalAlignment.Bottom,\n        horizontalStartPoint: HorizontalAlignment.Left,\n        verticalStartPoint: VerticalAlignment.Top,\n        openAnimation: fadeIn,\n        closeAnimation: fadeOut\n    };\n\n    /** @inheritdoc */\n    public settings: PositionSettings;\n\n    constructor(public select: IgxSelectBase, settings?: PositionSettings) {\n        super();\n        this.settings = Object.assign({}, this._selectDefaultSettings, settings);\n    }\n\n    // Global variables required for cases of !initialCall (page scroll/overlay repositionAll)\n    private global_yOffset = 0;\n    private global_xOffset = 0;\n    private global_styles: SelectStyles = {};\n\n    /** @inheritdoc */\n    position(contentElement: HTMLElement, size: Size, document?: Document, initialCall?: boolean): void {\n        const rects = super.calculateElementRectangles(contentElement);\n        // selectFit obj, to be used for both cases of initialCall and !initialCall(page scroll/overlay repositionAll)\n        const selectFit: SelectFit = {\n            verticalOffset: this.global_yOffset,\n            horizontalOffset: this.global_xOffset,\n            targetRect: rects.targetRect,\n            contentElementRect: rects.elementRect,\n            styles: this.global_styles,\n            scrollContainer: this.select.scrollContainer,\n            scrollContainerRect: this.select.scrollContainer.getBoundingClientRect()\n        };\n\n        if (initialCall) {\n            // Fill in the required selectFit object properties.\n            selectFit.viewPortRect = Util.getViewportRect(document);\n            selectFit.itemElement = this.getInteractionItemElement();\n            selectFit.itemRect = selectFit.itemElement.getBoundingClientRect();\n\n            // Calculate input and selected item elements style related variables\n            selectFit.styles = this.calculateStyles(selectFit);\n\n            selectFit.scrollAmount = this.calculateScrollAmount(selectFit);\n            // Calculate how much to offset the overlay container.\n            this.calculateYoffset(selectFit);\n            this.calculateXoffset(selectFit);\n\n            super.updateViewPortFit(selectFit);\n            // container does not fit in viewPort and is out on Top or Bottom\n            if (selectFit.fitVertical.back < 0 || selectFit.fitVertical.forward < 0 ) {\n                this.fitInViewport(contentElement, selectFit);\n            }\n            this.select.scrollContainer.scrollTop = selectFit.scrollAmount;\n        }\n        this.setStyles(contentElement, selectFit);\n    }\n\n    /**\n     * Calculate selected item scroll position.\n     */\n    private calculateScrollAmount(selectFit: SelectFit): number {\n        const itemElementRect = selectFit.itemRect;\n        const scrollContainer = selectFit.scrollContainer;\n        const scrollContainerRect = selectFit.scrollContainerRect;\n        const scrollDelta = scrollContainerRect.top - itemElementRect.top;\n        let scrollPosition = scrollContainer.scrollTop - scrollDelta;\n\n        const dropDownHeight = scrollContainer.clientHeight;\n        scrollPosition -= dropDownHeight / 2;\n        scrollPosition += itemElementRect.height / 2;\n\n        return Math.round(Math.min(Math.max(0, scrollPosition), scrollContainer.scrollHeight - scrollContainerRect.height));\n    }\n\n    /**\n     * Position the items outer container so selected item text is positioned over input text and if header\n     * And/OR footer - both header/footer are visible\n     * @param selectFit selectFit to use for computation.\n     */\n    protected fitInViewport(contentElement: HTMLElement, selectFit: SelectFit) {\n        const footer = selectFit.scrollContainerRect.bottom - selectFit.contentElementRect.bottom;\n        const header = selectFit.scrollContainerRect.top - selectFit.contentElementRect.top;\n        const lastItemFitSize = selectFit.targetRect.bottom + selectFit.styles.itemTextToInputTextDiff - footer;\n        const firstItemFitSize = selectFit.targetRect.top - selectFit.styles.itemTextToInputTextDiff - header;\n        // out of viewPort on Top\n        if (selectFit.fitVertical.back < 0) {\n            const possibleScrollAmount = selectFit.scrollContainer.scrollHeight -\n                selectFit.scrollContainerRect.height - selectFit.scrollAmount;\n            if (possibleScrollAmount + selectFit.fitVertical.back > 0 && firstItemFitSize > selectFit.viewPortRect.top) {\n                selectFit.scrollAmount -= selectFit.fitVertical.back;\n                selectFit.verticalOffset -= selectFit.fitVertical.back;\n                this.global_yOffset = selectFit.verticalOffset;\n            } else {\n                selectFit.verticalOffset = 0 ;\n                this.global_yOffset = 0;\n            }\n        // out of viewPort on Bottom\n        } else if (selectFit.fitVertical.forward < 0) {\n            if (selectFit.scrollAmount + selectFit.fitVertical.forward > 0 && lastItemFitSize < selectFit.viewPortRect.bottom) {\n                selectFit.scrollAmount += selectFit.fitVertical.forward;\n                selectFit.verticalOffset += selectFit.fitVertical.forward;\n                this.global_yOffset = selectFit.verticalOffset;\n            } else {\n                selectFit.verticalOffset = -selectFit.contentElementRect.height + selectFit.targetRect.height;\n                this.global_yOffset = selectFit.verticalOffset;\n            }\n        }\n    }\n\n    /**\n     * Sets element's style which effectively positions the provided element\n     * @param element Element to position\n     * @param selectFit selectFit to use for computation.\n     * @param initialCall should be true if this is the initial call to the position method calling setStyles\n     */\n    protected setStyles(contentElement: HTMLElement, selectFit: SelectFit) {\n        super.setStyle(contentElement, selectFit.targetRect, selectFit.contentElementRect, selectFit);\n        contentElement.style.width = `${selectFit.styles.contentElementNewWidth}px`; // manage container based on paddings?\n        this.global_styles.contentElementNewWidth = selectFit.styles.contentElementNewWidth;\n    }\n\n    /**\n     * Calculate the necessary input and selected item styles to be used for positioning item text over input text.\n     * Calculate & Set default items container width.\n     * @param selectFit selectFit to use for computation.\n     */\n    private calculateStyles(selectFit: SelectFit): SelectStyles  {\n        const styles: SelectStyles = {};\n        const inputElementStyles = window.getComputedStyle(this.settings.target as Element);\n        const itemElementStyles = window.getComputedStyle(selectFit.itemElement);\n        const numericInputFontSize = parseFloat(inputElementStyles.fontSize);\n        const numericItemFontSize = parseFloat(itemElementStyles.fontSize);\n        const inputTextToInputTop = (selectFit.targetRect.bottom - selectFit.targetRect.top - numericInputFontSize) / 2;\n        const itemTextToItemTop = (selectFit.itemRect.height - numericItemFontSize) / 2;\n         // Adjust for input top padding\n        const negateInputPaddings = (\n                parseFloat(inputElementStyles.paddingTop) -\n                parseFloat(inputElementStyles.paddingBottom)\n            ) / 2;\n        styles.itemTextToInputTextDiff = Math.round(itemTextToItemTop - inputTextToInputTop + negateInputPaddings);\n\n        const numericLeftPadding = parseFloat(itemElementStyles.paddingLeft);\n        const numericTextIndent = parseFloat(itemElementStyles.textIndent);\n\n        styles.itemTextPadding = numericLeftPadding;\n        styles.itemTextIndent = numericTextIndent;\n        // 24 is the input's toggle ddl icon width\n        styles.contentElementNewWidth = selectFit.targetRect.width + 24 + numericLeftPadding * 2;\n\n        return styles;\n    }\n\n    /**\n     * Obtain the selected item if there is such one or otherwise use the first one\n     */\n    public getInteractionItemElement(): HTMLElement {\n        let itemElement;\n        if (this.select.selectedItem) {\n            itemElement = this.select.selectedItem.element.nativeElement;\n            // D.P. Feb 22 2019, #3921 Force item scroll before measuring in IE11, due to base scrollToItem delay\n            if (isIE()) {\n                this.select.scrollContainer.scrollTop = this.select.calculateScrollPosition(this.select.selectedItem);\n            }\n        } else {\n            itemElement = this.select.getFirstItemElement();\n        }\n        return itemElement;\n    }\n\n    /**\n     * Calculate how much to offset the overlay container for Y-axis.\n     */\n    private calculateYoffset(selectFit: SelectFit) {\n        selectFit.verticalOffset = -(selectFit.itemRect.top - selectFit.contentElementRect.top +\n            selectFit.styles.itemTextToInputTextDiff - selectFit.scrollAmount);\n        this.global_yOffset = selectFit.verticalOffset;\n    }\n\n    /**\n     * Calculate how much to offset the overlay container for X-axis.\n     */\n    private calculateXoffset(selectFit: SelectFit) {\n        selectFit.horizontalOffset = selectFit.styles.itemTextIndent - selectFit.styles.itemTextPadding;\n        this.global_xOffset = selectFit.horizontalOffset;\n    }\n}\n\n/** @hidden */\nexport interface SelectFit extends ConnectedFit {\n    itemElement?: HTMLElement;\n    scrollContainer: HTMLElement;\n    scrollContainerRect: ClientRect;\n    itemRect?: ClientRect;\n    styles?: SelectStyles;\n    scrollAmount?: number;\n}\n\n/** @hidden */\nexport interface SelectStyles {\n    itemTextPadding?: number;\n    itemTextIndent?: number;\n    itemTextToInputTextDiff?: number;\n    contentElementNewWidth?: number;\n    numericLeftPadding?: number;\n}\n","import { IgxInputDirective, IgxInputState } from './../directives/input/input.directive';\nimport {\n    Component, ContentChildren, forwardRef, QueryList, ViewChild, Input, ContentChild,\n    AfterContentInit, HostBinding, Directive, TemplateRef, ElementRef, ChangeDetectorRef, Optional,\n    Injector, OnInit, AfterViewInit, OnDestroy, Inject, Type\n\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl, AbstractControl } from '@angular/forms';\nimport { Subscription } from 'rxjs';\n\nimport { IgxDropDownItemBaseDirective } from '../drop-down/index';\nimport { IgxInputGroupComponent } from '../input-group/input-group.component';\n\nimport { IgxDropDownComponent } from './../drop-down/drop-down.component';\nimport { IgxSelectItemComponent } from './select-item.component';\nimport { SelectPositioningStrategy } from './select-positioning-strategy';\n\nimport { OverlaySettings, AbsoluteScrollStrategy } from '../services/index';\nimport { IGX_DROPDOWN_BASE, ISelectionEventArgs, Navigate } from '../drop-down/drop-down.common';\nimport { CancelableEventArgs } from '../core/utils';\nimport { IgxLabelDirective } from '../directives/label/label.directive';\nimport { IgxSelectBase } from './select.common';\nimport { EditorProvider } from '../core/edit-provider';\nimport { IgxSelectionAPIService } from '../core/selection';\nimport { DisplayDensityToken, IDisplayDensityOptions } from '../core/density';\n\n/** @hidden @internal */\n@Directive({\n    selector: '[igxSelectToggleIcon]'\n})\nexport class IgxSelectToggleIconDirective {\n}\n\n/** @hidden @internal */\n@Directive({\n    selector: '[igxSelectHeader]'\n})\nexport class IgxSelectHeaderDirective {\n}\n\n/** @hidden @internal */\n@Directive({\n    selector: '[igxSelectFooter]'\n})\nexport class IgxSelectFooterDirective {\n}\n\nconst noop = () => { };\n\n/**\n * **Ignite UI for Angular Select** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/select.html)\n *\n * The `igxSelect` provides an input with dropdown list allowing selection of a single item.\n *\n * Example:\n * ```html\n * <igx-select #select1 [placeholder]=\"'Pick One'\">\n *   <label igxLabel>Select Label</label>\n *   <igx-select-item *ngFor=\"let item of items\" [value]=\"item.field\">\n *     {{ item.field }}\n *   </igx-select-item>\n * </igx-select>\n * ```\n */\n@Component({\n    selector: 'igx-select',\n    templateUrl: './select.component.html',\n    providers: [\n        { provide: NG_VALUE_ACCESSOR, useExisting: IgxSelectComponent, multi: true },\n        { provide: IGX_DROPDOWN_BASE, useExisting: IgxSelectComponent }],\n    styles: [`\n        :host {\n            display: block;\n        }\n    `]\n})\nexport class IgxSelectComponent extends IgxDropDownComponent implements IgxSelectBase, ControlValueAccessor,\n    AfterContentInit, OnInit, AfterViewInit, OnDestroy, EditorProvider {\n\n    private ngControl: NgControl = null;\n    private _statusChanges$: Subscription;\n    private _overlayDefaults: OverlaySettings;\n    private _value: any;\n\n    /** @hidden @internal do not use the drop-down container class */\n    public cssClass = false;\n\n    /** @hidden @internal */\n    @ViewChild('inputGroup', { read: IgxInputGroupComponent, static: true }) public inputGroup: IgxInputGroupComponent;\n\n    /** @hidden @internal */\n    @ViewChild('input', { read: IgxInputDirective, static: true }) public input: IgxInputDirective;\n\n    /** @hidden @internal */\n    @ContentChildren(forwardRef(() => IgxSelectItemComponent), { descendants: true })\n    public children: QueryList<IgxSelectItemComponent>;\n\n    /** @hidden @internal */\n    @ContentChild(forwardRef(() => IgxLabelDirective), { static: true }) label: IgxLabelDirective;\n\n    /** @hidden @internal */\n    public allowItemsFocus = false;\n\n    /** @hidden @internal */\n    public height: string;\n\n    /**\n     * An @Input property that gets/sets the component value.\n     *\n     * ```typescript\n     * // get\n     * let selectValue = this.select.value;\n     * ```\n     *\n     * ```typescript\n     * // set\n     * this.select.value = 'London';\n     * ```\n     * ```html\n     * <igx-select [value]=\"value\"></igx-select>\n     * ```\n     */\n    @Input()\n    public get value(): any {\n        return this._value;\n    }\n    public set value(v: any) {\n        if (this._value === v) {\n            return;\n        }\n        this._value = v;\n        this.setSelection(this.items.find(x => x.value === this.value));\n    }\n    /**\n     * An @Input property that sets input placeholder.\n     *\n     */\n    @Input() public placeholder;\n\n\n    /**\n     * An @Input property that disables the `IgxSelectComponent`.\n     * ```html\n     * <igx-select [disabled]=\"'true'\"></igx-select>\n     * ```\n     */\n    @Input() public disabled = false;\n\n    /**\n     * An @Input property that sets custom OverlaySettings `IgxSelectComponent`.\n     * ```html\n     * <igx-select [overlaySettings] = \"customOverlaySettings\"></igx-select>\n     * ```\n     */\n    @Input()\n    overlaySettings: OverlaySettings;\n\n    /** @hidden @internal */\n    @HostBinding('style.maxHeight')\n    public maxHeight = '256px';\n\n    /** @hidden @internal */\n    public width: string;\n\n    /**\n     * An @Input property that sets how the select will be styled.\n     * The allowed values are `line`, `box` and `border`. The default is `line`.\n     * ```html\n     *<igx-select [type]=\"'box'\"></igx-select>\n     * ```\n     */\n    @Input()\n    public type = 'line';\n\n    /**\n     * The custom template, if any, that should be used when rendering the select TOGGLE(open/close) button\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.select.toggleIconTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-select #select>\n     *      ...\n     *      <ng-template igxSelectToggleIcon let-collapsed>\n     *          <igx-icon>{{ collapsed ? 'remove_circle' : 'remove_circle_outline'}}</igx-icon>\n     *      </ng-template>\n     *  </igx-select>\n     * ```\n     */\n    @ContentChild(IgxSelectToggleIconDirective, { read: TemplateRef })\n    public toggleIconTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the HEADER for the select items list\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.select.headerTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-select #select>\n     *      ...\n     *      <ng-template igxSelectHeader>\n     *          <div class=\"select__header\">\n     *              This is a custom header\n     *          </div>\n     *      </ng-template>\n     *  </igx-select>\n     * ```\n     */\n    @ContentChild(IgxSelectHeaderDirective, { read: TemplateRef, static: false })\n    public headerTemplate: TemplateRef<any> = null;\n\n    /**\n     * The custom template, if any, that should be used when rendering the FOOTER for the select items list\n     *\n     * ```typescript\n     * // Set in typescript\n     * const myCustomTemplate: TemplateRef<any> = myComponent.customTemplate;\n     * myComponent.select.footerTemplate = myCustomTemplate;\n     * ```\n     * ```html\n     * <!-- Set in markup -->\n     *  <igx-select #select>\n     *      ...\n     *      <ng-template igxSelectFooter>\n     *          <div class=\"select__footer\">\n     *              This is a custom footer\n     *          </div>\n     *      </ng-template>\n     *  </igx-select>\n     * ```\n     */\n    @ContentChild(IgxSelectFooterDirective, { read: TemplateRef, static: false })\n    public footerTemplate: TemplateRef<any> = null;\n\n    /** @hidden @internal */\n    public get selectionValue() {\n        const selectedItem = this.selectedItem;\n        return selectedItem ? selectedItem.itemText : '';\n    }\n\n    /** @hidden @internal */\n    public get selectedItem(): IgxSelectItemComponent {\n        return this.selection.first_item(this.id);\n    }\n\n    constructor(\n        protected elementRef: ElementRef,\n        protected cdr: ChangeDetectorRef,\n        protected selection: IgxSelectionAPIService,\n\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions,\n        private _injector: Injector) {\n        super(elementRef, cdr, selection, _displayDensityOptions);\n    }\n\n    //#region ControlValueAccessor\n\n    /** @hidden @internal */\n    private _onChangeCallback: (_: any) => void = noop;\n    /** @hidden @internal */\n    private _onTouchedCallback: () => void = noop;\n\n    /** @hidden @internal */\n    public writeValue = (value: any) => {\n        this.value = value;\n    }\n\n    /** @hidden @internal */\n    public registerOnChange(fn: any): void {\n        this._onChangeCallback = fn;\n    }\n\n    /** @hidden @internal */\n    public registerOnTouched(fn: any): void {\n        this._onTouchedCallback = fn;\n    }\n\n    /** @hidden @internal */\n    public setDisabledState(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n    //#endregion\n\n    /** @hidden @internal */\n    public getEditElement(): HTMLElement {\n        return this.input.nativeElement;\n    }\n\n    /** @hidden @internal */\n    public selectItem(newSelection: IgxDropDownItemBaseDirective, event?) {\n        const oldSelection = this.selectedItem;\n\n        if (event) {\n            this.toggleDirective.close();\n        }\n        if (newSelection === null || newSelection === oldSelection || newSelection.disabled || newSelection.isHeader) {\n            return;\n        }\n\n        const args: ISelectionEventArgs = { oldSelection, newSelection, cancel: false };\n        this.onSelection.emit(args);\n\n        if (args.cancel) {\n            return;\n        }\n\n        this.setSelection(newSelection);\n        this._value = newSelection.value;\n        this.cdr.detectChanges();\n        this._onChangeCallback(this.value);\n    }\n\n    /** @hidden @internal */\n    public getFirstItemElement(): HTMLElement {\n        return this.children.first.element.nativeElement;\n    }\n\n    /**\n     * Opens the select\n     *\n     * ```typescript\n     * this.select.open();\n     * ```\n     */\n    public open(overlaySettings?: OverlaySettings) {\n        if (this.disabled || this.items.length === 0) {\n            return;\n        }\n        if (!this.selectedItem) {\n            this.navigateFirst();\n        }\n\n        super.open(Object.assign({}, this._overlayDefaults, this.overlaySettings, overlaySettings));\n    }\n\n    /** @hidden @internal */\n    ngAfterContentInit() {\n        this._overlayDefaults = {\n            modal: false,\n            closeOnOutsideClick: false,\n            positionStrategy: new SelectPositioningStrategy(this, { target: this.getEditElement() }),\n            scrollStrategy: new AbsoluteScrollStrategy(),\n            excludePositionTarget: true\n        };\n        this.children.changes.subscribe(() => {\n            this.setSelection(this.items.find(x => x.value === this.value));\n            this.cdr.detectChanges();\n        });\n        Promise.resolve().then(() => this.children.notifyOnChanges());\n    }\n\n    /** @hidden @internal */\n    public onToggleOpening(event: CancelableEventArgs) {\n        this.onOpening.emit(event);\n        if (event.cancel) {\n            return;\n        }\n        this.scrollToItem(this.selectedItem);\n    }\n\n    protected navigate(direction: Navigate, currentIndex?: number) {\n        if (this.collapsed && this.selectedItem) {\n            this.navigateItem(this.selectedItem.itemIndex);\n        }\n        super.navigate(direction, currentIndex);\n    }\n\n    protected manageRequiredAsterisk(): void {\n        if (this.ngControl && this.ngControl.control.validator) {\n            // Run the validation with empty object to check if required is enabled.\n            const error = this.ngControl.control.validator({} as AbstractControl);\n            this.inputGroup.isRequired = error && error.required;\n            this.cdr.markForCheck();\n        }\n    }\n    private setSelection(item: IgxDropDownItemBaseDirective) {\n        if (item && item.value !== undefined && item.value !== null) {\n            this.selection.set(this.id, new Set([item]));\n        } else {\n            this.selection.clear(this.id);\n        }\n    }\n\n    /** @hidden @internal */\n    public onBlur(): void {\n        this._onTouchedCallback();\n        if (this.ngControl && !this.ngControl.valid) {\n             this.input.valid = IgxInputState.INVALID;\n        } else {\n            this.input.valid = IgxInputState.INITIAL;\n        }\n        if (!this.collapsed) {\n            this.toggleDirective.close();\n        }\n    }\n\n    /** @hidden @internal */\n    public onFocus(): void {\n        this._onTouchedCallback();\n    }\n\n    protected onStatusChanged() {\n        if ((this.ngControl.control.touched || this.ngControl.control.dirty) &&\n            (this.ngControl.control.validator || this.ngControl.control.asyncValidator)) {\n            if (this.inputGroup.isFocused) {\n                this.input.valid = this.ngControl.valid ? IgxInputState.VALID : IgxInputState.INVALID;\n            } else {\n                this.input.valid = this.ngControl.valid ? IgxInputState.INITIAL : IgxInputState.INVALID;\n            }\n        }\n        this.manageRequiredAsterisk();\n    }\n    /**\n     * @hidden @internal\n     */\n    public ngOnInit() {\n        this.ngControl = this._injector.get<NgControl>(NgControl, null);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngAfterViewInit() {\n        if (this.ngControl) {\n            this._statusChanges$ = this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this));\n            this.manageRequiredAsterisk();\n        }\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngOnDestroy() {\n        this.selection.clear(this.id);\n        if (this._statusChanges$) {\n            this._statusChanges$.unsubscribe();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     * Prevent input blur - closing the items container on Header/Footer Template click.\n     */\n   public mousedownHandler(event) {\n        event.preventDefault();\n    }\n}\n\n","import { IgxDropDownItemNavigationDirective } from '../drop-down/drop-down-navigation.directive';\nimport { Directive, Input, HostListener, OnDestroy } from '@angular/core';\nimport { Subscription, timer } from 'rxjs';\nimport { IgxSelectItemComponent } from './select-item.component';\nimport { IgxSelectBase } from './select.common';\n\n/** @hidden @internal */\n@Directive({\n    selector: '[igxSelectItemNavigation]'\n})\nexport class IgxSelectItemNavigationDirective extends IgxDropDownItemNavigationDirective implements OnDestroy {\n\n    @Input('igxSelectItemNavigation')\n    public target: IgxSelectBase;\n\n    constructor() { super(null); }\n\n    /** Captures keydown events and calls the appropriate handlers on the target component */\n    handleKeyDown(event: KeyboardEvent) {\n        if (!event || event.shiftKey) {\n            return;\n        }\n\n        const key = event.key.toLowerCase();\n        if (event.altKey && (key === 'arrowdown' || key === 'arrowup' || key === 'down' || key === 'up')) {\n            this.target.toggle();\n            return;\n        }\n\n        if (this.target.collapsed) {\n            switch (key) {\n                case 'space':\n                case 'spacebar':\n                case ' ':\n                case 'enter':\n                    event.preventDefault();\n                    this.target.open();\n                    return;\n                case 'arrowdown':\n                case 'down':\n                    this.target.navigateNext();\n                    this.target.selectItem(this.target.focusedItem);\n                    event.preventDefault();\n                    return;\n                case 'arrowup':\n                case 'up':\n                    this.target.navigatePrev();\n                    this.target.selectItem(this.target.focusedItem);\n                    event.preventDefault();\n                    return;\n                default:\n                    break;\n            }\n        }\n\n        super.handleKeyDown(event);\n    }\n\n    // tslint:disable:member-ordering\n    private inputStream = '';\n    private clearStream$ = Subscription.EMPTY;\n\n    /** Handle continuous letter typing navigation */\n    @HostListener('keyup', ['$event'])\n    public captureKey(event: KeyboardEvent) {\n        // relying only on key, available on all major browsers:\n        // https://caniuse.com/#feat=keyboardevent-key (IE/Edge quirk doesn't affect letter typing)\n        if (!event || !event.key || event.key.length > 1) {\n            // ignore longer keys ('Alt', 'ArrowDown', etc)\n            return;\n        }\n\n        this.clearStream$.unsubscribe();\n        this.clearStream$ = timer(500).subscribe(() => {\n            this.inputStream = '';\n        });\n        this.inputStream += event.key;\n        const focusedItem = this.target.focusedItem as IgxSelectItemComponent;\n\n        // select the item\n        if (focusedItem && this.inputStream.length > 1 && focusedItem.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())) {\n            return;\n        }\n        this.activateItemByText(this.inputStream);\n    }\n\n    public activateItemByText(text: string) {\n        const items = this.target.items as IgxSelectItemComponent[];\n        const activeItemIndex = items.indexOf(this.target.focusedItem as IgxSelectItemComponent) || 0;\n        // ^ this is focused OR selected if the dd is closed\n        let nextItem = items.slice(activeItemIndex + 1).find(x => !x.disabled && (x.itemText.toLowerCase().startsWith(text.toLowerCase())));\n\n        if (!nextItem) {\n            nextItem = items.slice(0, activeItemIndex).find(x => !x.disabled && (x.itemText.toLowerCase().startsWith(text.toLowerCase())));\n        }\n\n        if (!nextItem) {\n            return;\n        }\n\n        if (this.target.collapsed) {\n            this.target.selectItem(nextItem);\n        }\n        this.target.navigateItem(items.indexOf(nextItem));\n    }\n\n    ngOnDestroy(): void {\n        this.clearStream$.unsubscribe();\n    }\n}\n","import { Component } from '@angular/core';\nimport { IgxDropDownGroupComponent } from '../drop-down/index';\n\n/**\n * The `<igx-select-item>` is a container intended for row items in\n * a `<igx-select>` container.\n */\n@Component({\n    selector: 'igx-select-item-group',\n    template: `\n        <label id=\"{{labelId}}\">{{ label }}</label>\n        <ng-content select=\"igx-select-item\"></ng-content>\n    `\n})\nexport class IgxSelectGroupComponent extends IgxDropDownGroupComponent {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxDropDownModule } from './../drop-down/index';\nimport { IgxToggleModule } from './../directives/toggle/toggle.directive';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxInputGroupModule } from '../input-group/input-group.component';\nimport { IgxButtonModule } from '../directives/button/button.directive';\n\nimport { IgxSelectComponent, IgxSelectToggleIconDirective, IgxSelectHeaderDirective, IgxSelectFooterDirective } from './select.component';\nimport { IgxSelectItemComponent } from './select-item.component';\nimport { IgxSelectItemNavigationDirective } from './select-navigation.directive';\nimport { IgxSelectGroupComponent } from './select-group.component';\n\n/** @hidden */\n@NgModule({\n    declarations: [IgxSelectComponent, IgxSelectItemComponent, IgxSelectItemNavigationDirective,\n        IgxSelectToggleIconDirective, IgxSelectGroupComponent, IgxSelectHeaderDirective,\n        IgxSelectFooterDirective],\n    exports: [IgxSelectComponent, IgxSelectItemComponent, IgxSelectItemNavigationDirective,\n         IgxSelectToggleIconDirective, IgxSelectGroupComponent, IgxSelectHeaderDirective,\n         IgxSelectFooterDirective],\n    imports: [IgxRippleModule, CommonModule, IgxInputGroupModule, FormsModule, ReactiveFormsModule,\n        IgxToggleModule, IgxDropDownModule, IgxButtonModule, IgxIconModule],\n    providers: []\n})\nexport class IgxSelectModule { }\n","import { SimpleChanges, SimpleChange } from '@angular/core';\n\n/**\n* @hidden\n*/\nexport function WatchChanges(): PropertyDecorator {\n    return (target: any, key: string, propDesc?: PropertyDescriptor) => {\n        const privateKey = '_' + key.toString();\n        propDesc = propDesc || {\n            configurable: true,\n            enumerable: true,\n        };\n        propDesc.get = propDesc.get || (function (this: any) { return this[privateKey]; });\n        const originalSetter = propDesc.set || (function (this: any, val: any) { this[privateKey] = val; });\n\n        propDesc.set = function (this: any, val: any) {\n            const init = this._init;\n            const oldValue = this[key];\n            if (val !== oldValue || (typeof val === 'object' && val === oldValue)) {\n                originalSetter.call(this, val);\n                if (this.ngOnChanges && !init) {\n                    // in case wacthed prop changes trigger ngOnChanges manually\n                    const changes: SimpleChanges = {\n                        [key]: new SimpleChange(oldValue, val, false)\n                    };\n                    this.ngOnChanges(changes);\n               }\n            }\n        };\n        return propDesc;\n    };\n}\n\nexport function WatchColumnChanges(): PropertyDecorator {\n    return (target: any, key: string, propDesc?: PropertyDescriptor) => {\n        const privateKey = '_' + key.toString();\n        propDesc = propDesc || {\n            configurable: true,\n            enumerable: true,\n        };\n        propDesc.get = propDesc.get || (function (this: any) { return this[privateKey]; });\n        const originalSetter = propDesc.set || (function (this: any, val: any) { this[privateKey] = val; });\n\n        propDesc.set = function (this: any, val: any) {\n            const init = this._init;\n            const oldValue = this[key];\n            originalSetter.call(this, val);\n            if (val !== oldValue || (typeof val === 'object' && val === oldValue)) {\n                if (this.rowIslandAPI.rowIsland) {\n                    this.rowIslandAPI.rowIsland.updateColumnList();\n               }\n            }\n        };\n        return propDesc;\n    };\n}\n\nexport function notifyChanges(repaint = false) {\n    return (_: any, key: string, propDesc?: PropertyDescriptor) => {\n\n        const privateKey = `__${key}`;\n\n        propDesc = propDesc || {\n            enumerable: true,\n            configurable: true\n        };\n\n\n        const originalSetter = propDesc ? propDesc.set : null;\n\n        propDesc.get = propDesc.get || (function(this) { return this[privateKey]; });\n\n        propDesc.set = function(this, newValue) {\n            if (originalSetter) {\n                originalSetter.call(this, newValue);\n                if (this.grid) {\n                    this.grid.notifyChanges(repaint);\n                }\n            } else {\n                if (newValue === this[key]) { return; }\n                this[privateKey] = newValue;\n                if (this.grid) {\n                    this.grid.notifyChanges(repaint);\n                }\n            }\n        };\n        return propDesc as any;\n    };\n}\n","import { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { IgxRowIslandComponent } from './row-island.component';\nimport { Subject } from 'rxjs';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class IgxRowIslandAPIService {\n    public rowIsland: IgxRowIslandComponent;\n    public change: Subject<any> = new Subject<any>();\n    protected state: Map<string, IgxRowIslandComponent> = new Map<string, IgxRowIslandComponent>();\n    protected destroyMap: Map<string, Subject<boolean>> = new Map<string, Subject<boolean>>();\n\n    protected childRowIslands: Map<string, IgxRowIslandComponent> = new Map<string, IgxRowIslandComponent>();\n    protected childGrids:  Map<any, IgxHierarchicalGridComponent> = new Map<any, IgxHierarchicalGridComponent>();\n\n    public register(rowIsland: IgxRowIslandComponent) {\n        this.state.set(rowIsland.id, rowIsland);\n        this.destroyMap.set(rowIsland.id, new Subject<boolean>());\n    }\n\n    public unsubscribe(rowIsland: IgxRowIslandComponent) {\n        this.state.delete(rowIsland.id);\n    }\n\n    public get(id: string): IgxRowIslandComponent {\n        return this.state.get(id);\n    }\n\n    public unset(id: string) {\n        this.state.delete(id);\n        this.destroyMap.delete(id);\n    }\n\n    public reset(oldId: string, newId: string) {\n        const destroy = this.destroyMap.get(oldId);\n        const rowIsland = this.get(oldId);\n\n        this.unset(oldId);\n\n        if (rowIsland) {\n            this.state.set(newId, rowIsland);\n        }\n\n        if (destroy) {\n            this.destroyMap.set(newId, destroy);\n        }\n    }\n\n    registerChildRowIsland(rowIsland: IgxRowIslandComponent) {\n        this.childRowIslands.set(rowIsland.key, rowIsland);\n        this.destroyMap.set(rowIsland.key, new Subject<boolean>());\n    }\n\n    unsetChildRowIsland(rowIsland: IgxRowIslandComponent) {\n        this.childRowIslands.delete(rowIsland.key);\n        this.destroyMap.delete(rowIsland.key);\n    }\n\n    getChildRowIsland(rowIslandKey: string) {\n        return this.childRowIslands.get(rowIslandKey);\n    }\n\n    registerChildGrid(parentRowID: string|object, grid: IgxHierarchicalGridComponent) {\n        this.childGrids.set(parentRowID, grid);\n    }\n\n    getChildGrids(inDepth?: boolean) {\n        let allChildren = [];\n        this.childGrids.forEach((grid) => {\n            allChildren.push(grid);\n        });\n        if (inDepth) {\n            this.childRowIslands.forEach((layout) => {\n                allChildren = allChildren.concat(layout.rowIslandAPI.getChildGrids(inDepth));\n            });\n        }\n\n        return allChildren;\n    }\n\n    getChildGridByID(rowID) {\n        return this.childGrids.get(rowID);\n    }\n}\n","import { Injectable, EventEmitter, NgZone } from '@angular/core';\nimport { IGridEditEventArgs } from '../common/events';\nimport { IgxGridBaseDirective } from '../grid';\nimport { FilteringExpressionsTree } from '../../data-operations/filtering-expressions-tree';\n\n\nexport interface GridSelectionRange {\n    rowStart: number;\n    rowEnd: number;\n    columnStart: string | number;\n    columnEnd: string | number;\n}\n\nexport interface ISelectionNode {\n    row: number;\n    column: number;\n    layout?: IMultiRowLayoutNode;\n    isSummaryRow?: boolean;\n}\n\nexport interface IMultiRowLayoutNode {\n    rowStart: number;\n    colStart: number;\n    rowEnd: number;\n    colEnd: number;\n    columnVisibleIndex: number;\n}\n\ninterface ISelectionKeyboardState {\n    node: null | ISelectionNode;\n    shift: boolean;\n    range: GridSelectionRange;\n    active: boolean;\n}\n\ninterface ISelectionPointerState extends ISelectionKeyboardState {\n    ctrl: boolean;\n    primaryButton: boolean;\n}\n\ntype SelectionState = ISelectionKeyboardState | ISelectionPointerState;\n\n\n// TODO: Refactor - export in a separate file\n\nexport class IgxRow {\n    transactionState: any;\n    state: any;\n    newData: any;\n\n    constructor(public id: any, public index: number, public data: any) {}\n\n    createEditEventArgs(): IGridEditEventArgs {\n        return {\n            rowID: this.id,\n            oldValue: { ... this.data },\n            newValue: this.newData,\n            cancel: false\n        };\n    }\n}\n\nexport class IgxCell {\n\n    primaryKey: any;\n    state: any;\n\n    constructor(\n        public id,\n        public rowIndex: number,\n        public column,\n        public value: any,\n        public editValue: any,\n        public rowData: any) {}\n\n    castToNumber(value: any): any {\n        if (this.column.dataType === 'number' && !this.column.inlineEditorTemplate) {\n            const v = parseFloat(value);\n            return !isNaN(v) && isFinite(v) ? v : 0;\n        }\n        return value;\n    }\n\n    createEditEventArgs(): IGridEditEventArgs {\n        return {\n            rowID: this.id.rowID,\n            cellID: this.id,\n            oldValue: this.value,\n            newValue: this.editValue,\n            cancel: false\n        };\n    }\n}\n\n@Injectable()\nexport class IgxGridCRUDService {\n\n    grid;\n    cell: IgxCell | null = null;\n    row: IgxRow | null = null;\n\n    createCell(cell): IgxCell {\n        return new IgxCell(cell.cellID, cell.rowIndex, cell.column, cell.value, cell.value, cell.row.rowData);\n    }\n\n    createRow(cell: IgxCell): IgxRow {\n        return new IgxRow(cell.id.rowID, cell.rowIndex, cell.rowData);\n    }\n\n    sameRow(rowID): boolean {\n        return this.row && this.row.id === rowID;\n    }\n\n    sameCell(cell: IgxCell): boolean {\n        return (this.cell.id.rowID === cell.id.rowID &&\n            this.cell.id.columnID === cell.id.columnID);\n    }\n\n    get inEditMode(): boolean {\n        return !!this.cell;\n    }\n\n    get rowEditing(): boolean {\n        return this.grid.rowEditable;\n    }\n\n    get primaryKey(): any {\n        return this.grid.primaryKey;\n    }\n\n    beginRowEdit() {\n        if (this.grid.rowEditable && (this.grid.primaryKey === undefined || this.grid.primaryKey === null)) {\n            console.warn('The grid must have a `primaryKey` specified when using `rowEditable`!');\n        }\n        this.row = this.createRow(this.cell);\n        const args = {\n            rowID: this.row.id,\n            oldValue: this.row.data,\n            cancel: false\n        };\n        this.grid.onRowEditEnter.emit(args);\n        if (args.cancel) {\n            this.endRowEdit();\n            return;\n        }\n        this.row.transactionState = this.grid.transactions.getAggregatedValue(this.row.id, true);\n        this.grid.transactions.startPending();\n        this.grid.openRowOverlay(this.row.id);\n    }\n\n\n    endRowEdit() {\n        this.row = null;\n    }\n\n    begin(cell): void {\n        const newCell = this.createCell(cell);\n        newCell.primaryKey = this.primaryKey;\n        const args = {\n            cellID: newCell.id,\n            rowID: newCell.id.rowID,\n            oldValue: newCell.value,\n            cancel: false\n        };\n\n        this.grid.onCellEditEnter.emit(args);\n\n        if (args.cancel) {\n            this.end();\n            return;\n        }\n\n        if (this.rowEditing) {\n            if (this.row && !this.sameRow(newCell.id.rowID)) {\n                this.grid.endEdit(true);\n                this.cell = newCell;\n                this.beginRowEdit();\n                return;\n            }\n\n            this.cell = newCell;\n\n            if (!this.row) {\n                this.beginRowEdit();\n                return;\n            }\n        } else {\n            this.cell = newCell;\n            this.endRowEdit();\n        }\n    }\n\n    end(): void {\n        this.cell = null;\n    }\n\n\n    isInEditMode(rowIndex: number, columnIndex: number): boolean {\n        if (!this.cell) {\n            return false;\n        }\n        return this.cell.column.index === columnIndex && this.cell.rowIndex === rowIndex;\n    }\n}\n\n\n@Injectable()\nexport class IgxGridSelectionService {\n    grid;\n    dragMode = false;\n    activeElement: ISelectionNode | null;\n    keyboardState = {} as ISelectionKeyboardState;\n    pointerState = {} as ISelectionPointerState;\n\n\n    selection = new Map<number, Set<number>>();\n    temp = new Map<number, Set<number>>();\n    _ranges: Set<string> = new Set<string>();\n    _selectionRange: Range;\n    rowSelection: Set<any> = new Set<any>();\n    private allRowsSelected: boolean;\n\n    /**\n     * Returns the current selected ranges in the grid from both\n     * keyboard and pointer interactions\n     */\n    get ranges(): GridSelectionRange[] {\n\n        // The last action was keyboard + shift selection -> add it\n        this.addKeyboardRange();\n\n        const ranges = Array.from(this._ranges).map(range => JSON.parse(range));\n\n        // No ranges but we have a focused cell -> add it\n        if (!ranges.length && this.activeElement && this.grid.isCellSelectable) {\n            ranges.push(this.generateRange(this.activeElement));\n        }\n\n        return ranges;\n    }\n\n    get primaryButton(): boolean {\n        return this.pointerState.primaryButton;\n    }\n\n    set primaryButton(value: boolean) {\n        this.pointerState.primaryButton = value;\n    }\n\n    constructor(private zone: NgZone) {\n        this.initPointerState();\n        this.initKeyboardState();\n    }\n\n    /**\n     * Resets the keyboard state\n     */\n    initKeyboardState(): void {\n        this.keyboardState.node = null;\n        this.keyboardState.shift = false;\n        this.keyboardState.range = null;\n        this.keyboardState.active = false;\n    }\n\n    /**\n     * Resets the pointer state\n     */\n    initPointerState(): void {\n        this.pointerState.node = null;\n        this.pointerState.ctrl = false;\n        this.pointerState.shift = false;\n        this.pointerState.range = null;\n        this.pointerState.primaryButton = true;\n    }\n\n    /**\n     * Adds a single node.\n     * Single clicks | Ctrl + single clicks on cells is the usual case.\n     */\n    add(node: ISelectionNode, addToRange = true): void {\n        this.selection.has(node.row) ? this.selection.get(node.row).add(node.column) :\n            this.selection.set(node.row, new Set<number>()).get(node.row).add(node.column);\n\n        if (addToRange) { this._ranges.add(JSON.stringify(this.generateRange(node))); }\n    }\n\n    /**\n     * Adds the active keyboard range selection (if any) to the `ranges` meta.\n     */\n    addKeyboardRange(): void {\n        if (this.keyboardState.range) {\n            this._ranges.add(JSON.stringify(this.keyboardState.range));\n        }\n    }\n\n    remove(node: ISelectionNode): void {\n        if (this.selection.has(node.row)) {\n            this.selection.get(node.row).delete(node.column);\n        }\n        if (this.isActiveNode(node)) {\n            this.activeElement = null;\n        }\n        this._ranges.delete(JSON.stringify(this.generateRange(node)));\n    }\n\n    isInMap(node: ISelectionNode): boolean {\n        return (this.selection.has(node.row) && this.selection.get(node.row).has(node.column)) ||\n            (this.temp.has(node.row) && this.temp.get(node.row).has(node.column));\n    }\n\n    selected(node: ISelectionNode): boolean {\n        return (this.isActiveNode(node) && this.grid.isCellSelectable) || this.isInMap(node);\n    }\n\n    isActiveNode(node: ISelectionNode): boolean {\n        if (this.activeElement) {\n            const isActive = this.activeElement.column === node.column && this.activeElement.row === node.row;\n            if (this.grid.hasColumnLayouts) {\n                const layout = this.activeElement.layout;\n                return isActive && this.isActiveLayout(layout, node.layout);\n            }\n            return isActive;\n        }\n        return false;\n    }\n\n    isActiveLayout(current: IMultiRowLayoutNode, target: IMultiRowLayoutNode): boolean {\n        return current.columnVisibleIndex === target.columnVisibleIndex;\n    }\n\n    addRangeMeta(node: ISelectionNode, state?: SelectionState): void {\n        this._ranges.add(JSON.stringify(this.generateRange(node, state)));\n    }\n\n    removeRangeMeta(node: ISelectionNode, state?: SelectionState): void {\n        this._ranges.delete(JSON.stringify(this.generateRange(node, state)));\n    }\n\n    /**\n     * Generates a new selection range from the given `node`.\n     * If `state` is passed instead it will generate the range based on the passed `node`\n     * and the start node of the `state`.\n     */\n    generateRange(node: ISelectionNode, state?: SelectionState): GridSelectionRange {\n        if (!state) {\n            return {\n                rowStart: node.row,\n                rowEnd: node.row,\n                columnStart: node.column,\n                columnEnd: node.column\n            };\n        }\n\n        const { row, column } = state.node;\n        const rowStart = Math.min(node.row, row);\n        const rowEnd = Math.max(node.row, row);\n        const columnStart = Math.min(node.column, column);\n        const columnEnd = Math.max(node.column, column);\n\n        return { rowStart, rowEnd, columnStart, columnEnd };\n    }\n\n    /**\n     *\n     */\n    keyboardStateOnKeydown(node: ISelectionNode, shift: boolean, shiftTab: boolean): void {\n        this.keyboardState.active = true;\n        this.initPointerState();\n        this.keyboardState.shift = shift && !shiftTab;\n\n        // Kb navigation with shift and no previous node.\n        // Clear the current selection init the start node.\n        if (this.keyboardState.shift && !this.keyboardState.node) {\n            this.clear();\n            this.keyboardState.node = node;\n        }\n    }\n\n    keyboardStateOnFocus(node: ISelectionNode, emitter: EventEmitter<GridSelectionRange>, dom): void {\n        const kbState = this.keyboardState;\n\n        // Focus triggered by keyboard navigation\n        if (kbState.active) {\n            if (isChromium()) {\n                this._moveSelectionChrome(dom);\n            }\n            // Start generating a range if shift is hold\n            if (kbState.shift) {\n                this.dragSelect(node, kbState);\n                kbState.range = this.generateRange(node, kbState);\n                emitter.emit(this.generateRange(node, kbState));\n                return;\n            }\n\n            this.initKeyboardState();\n            this.clear();\n            this.add(node);\n        }\n    }\n\n    pointerDown(node: ISelectionNode, shift: boolean, ctrl: boolean): void {\n        this.addKeyboardRange();\n        this.initKeyboardState();\n        this.pointerState.ctrl = ctrl;\n        this.pointerState.shift = shift;\n\n        // No ctrl key pressed - no multiple selection\n        if (!ctrl) {\n            this.clear();\n        }\n\n        if (shift) {\n            // No previously 'clicked' node. Use the last active node.\n            if (!this.pointerState.node) {\n                this.pointerState.node = this.activeElement || node;\n            }\n            this.pointerDownShiftKey(node);\n            this.clearTextSelection();\n            return;\n        }\n\n        this.removeRangeMeta(node);\n        this.pointerState.node = node;\n    }\n\n    pointerDownShiftKey(node: ISelectionNode): void {\n        this.clear();\n        this.selectRange(node, this.pointerState);\n    }\n\n    mergeMap(target: Map<number, Set<number>>, source: Map<number, Set<number>>): void {\n        const iterator = source.entries();\n        let pair = iterator.next();\n        let key: number;\n        let value: Set<number>;\n\n        while (!pair.done) {\n            [key, value] = pair.value;\n            if (target.has(key)) {\n                const newValue = target.get(key);\n                value.forEach(record => newValue.add(record));\n                target.set(key, newValue);\n            } else {\n                target.set(key, value);\n            }\n            pair = iterator.next();\n        }\n    }\n\n    pointerEnter(node: ISelectionNode, event: PointerEvent): boolean {\n        // https://www.w3.org/TR/pointerevents/#the-button-property\n        this.dragMode = event.buttons === 1 && event.button === -1;\n        if (!this.dragMode) {\n            return false;\n        }\n        this.clearTextSelection();\n\n        // If the users triggers a drag-like event by first clicking outside the grid cells\n        // and then enters in the grid body we may not have a initial pointer starting node.\n        // Assume the first pointerenter node is where we start.\n        if (!this.pointerState.node) {\n            this.pointerState.node = node;\n        }\n\n        this.pointerState.ctrl ? this.selectRange(node, this.pointerState, this.temp) :\n            this.dragSelect(node, this.pointerState);\n        return true;\n    }\n\n    pointerUp(node: ISelectionNode, emitter: EventEmitter<GridSelectionRange>): boolean {\n        if (this.dragMode) {\n            this.restoreTextSelection();\n            this.addRangeMeta(node, this.pointerState);\n            this.mergeMap(this.selection, this.temp);\n            this.zone.runTask(() => emitter.emit(this.generateRange(node, this.pointerState)));\n            this.temp.clear();\n            this.dragMode = false;\n            return true;\n        }\n\n        if (this.pointerState.shift) {\n            this.clearTextSelection();\n            this.restoreTextSelection();\n            this.addRangeMeta(node, this.pointerState);\n            emitter.emit(this.generateRange(node, this.pointerState));\n            return true;\n        }\n\n        this.add(node);\n        return false;\n    }\n\n    selectRange(node: ISelectionNode, state: SelectionState, collection: Map<number, Set<number>> = this.selection): void {\n        if (collection === this.temp) {\n            collection.clear();\n        }\n        const { rowStart, rowEnd, columnStart, columnEnd } = this.generateRange(node, state);\n        for (let i = rowStart; i <= rowEnd; i++) {\n            for (let j = columnStart as number; j <= columnEnd; j++) {\n                collection.has(i) ? collection.get(i).add(j) :\n                    collection.set(i, new Set<number>()).get(i).add(j);\n            }\n        }\n    }\n\n    dragSelect(node: ISelectionNode, state: SelectionState): void {\n        if (!this.pointerState.ctrl) {\n            this.selection.clear();\n        }\n        this.selectRange(node, state);\n    }\n\n    clear(clearAcriveEl = false): void {\n        if (clearAcriveEl) { this.activeElement = null; }\n        this.selection.clear();\n        this.temp.clear();\n        this._ranges.clear();\n    }\n\n    clearTextSelection(): void {\n        const selection = window.getSelection();\n        if (selection.rangeCount) {\n            this._selectionRange = selection.getRangeAt(0);\n            this._selectionRange.collapse(true);\n            selection.removeAllRanges();\n        }\n    }\n\n    restoreTextSelection(): void {\n        const selection = window.getSelection();\n        if (!selection.rangeCount) {\n            selection.addRange(this._selectionRange || document.createRange());\n        }\n    }\n\n    /**\n     * ( \n     * Chrome and Chromium don't care about the active\n     * range after keyboard navigation, thus this.\n     */\n    _moveSelectionChrome(node: Node) {\n        const selection = window.getSelection();\n        selection.removeAllRanges();\n        const range = new Range();\n        range.selectNode(node);\n        range.collapse(true);\n        selection.addRange(range);\n    }\n\n    /** Returns array of the selected row id's. */\n    getSelectedRows(): Array<any> {\n        return this.rowSelection.size ? Array.from(this.rowSelection.keys()) : [];\n    }\n\n    /** Clears row selection, if filtering is applied clears only selected rows from filtered data. */\n    clearRowSelection(event?): void {\n        const removedRec = this.isFilteringApplied() ?\n            this.getRowIDs(this.allData).filter(rID => this.isRowSelected(rID)) : this.getSelectedRows();\n        const newSelection = this.isFilteringApplied() ? this.getSelectedRows().filter(x => !removedRec.includes(x)) : [];\n        this.emitRowSelectionEvent(newSelection, [], removedRec, event);\n    }\n\n    /** Select all rows, if filtering is applied select only from filtered data. */\n    selectAllRows(event?) {\n        const allRowIDs = this.getRowIDs(this.allData);\n        const addedRows =  allRowIDs.filter((rID) => !this.isRowSelected(rID));\n        const newSelection = this.rowSelection.size ? this.getSelectedRows().concat(addedRows) : addedRows;\n\n        this.emitRowSelectionEvent(newSelection, addedRows, [], event);\n    }\n\n    /** Select the specified row and emit event. */\n    selectRowById(rowID, clearPrevSelection?, event?): void {\n        if (!this.grid.isRowSelectable || this.isRowDeleted(rowID)) { return; }\n        clearPrevSelection = !this.grid.isMultiRowSelectionEnabled || clearPrevSelection;\n\n        const newSelection = clearPrevSelection ? [rowID] : this.getSelectedRows().indexOf(rowID) !== -1 ?\n            this.getSelectedRows() : [...this.getSelectedRows(), rowID];\n        const removed = clearPrevSelection ? this.getSelectedRows() : [];\n        this.emitRowSelectionEvent(newSelection, [rowID], removed, event);\n    }\n\n    /** Deselect the specified row and emit event. */\n    deselectRow(rowID, event?): void {\n        if (!this.isRowSelected(rowID)) { return; }\n        const newSelection = this.getSelectedRows().filter(r => r !== rowID);\n        if (this.rowSelection.size && this.rowSelection.has(rowID)) {\n            this.emitRowSelectionEvent(newSelection, [], [rowID], event);\n        }\n    }\n\n    /** Select specified rows. No event is emitted. */\n    selectRowsWithNoEvent(rowIDs: any[], clearPrevSelection?): void {\n        if (clearPrevSelection) { this.rowSelection.clear(); }\n        rowIDs.forEach(rowID => { this.rowSelection.add(rowID); });\n        this.allRowsSelected = undefined;\n    }\n\n    /** Deselect specified rows. No event is emitted. */\n    deselectRowsWithNoEvent(rowIDs: any[]): void  {\n        rowIDs.forEach(rowID => this.rowSelection.delete(rowID));\n        this.allRowsSelected = undefined;\n    }\n\n    isRowSelected(rowID): boolean {\n        return this.rowSelection.size > 0 && this.rowSelection.has(rowID);\n    }\n\n    /** Select range from last selected row to the current specified row.*/\n    selectMultipleRows(rowID, rowData, event?): void  {\n        this.allRowsSelected = undefined;\n        if (!this.rowSelection.size || this.isRowDeleted(rowID)) {\n            this.selectRowById(rowID);\n            return;\n        }\n        const gridData = this.allData;\n        const lastRowID = this.getSelectedRows()[this.rowSelection.size - 1];\n        const currIndex = gridData.indexOf(this.getRowDataById(lastRowID));\n        const newIndex = gridData.indexOf(rowData);\n        const rows = gridData.slice(Math.min(currIndex, newIndex), Math.max(currIndex, newIndex) + 1);\n\n        const added = this.getRowIDs(rows).filter(rID => !this.isRowSelected(rID));\n        const newSelection = this.getSelectedRows().concat(added);\n\n        this.emitRowSelectionEvent(newSelection, added, [], event);\n    }\n\n    areAllRowSelected(): boolean {\n        if (!this.grid.data) { return false; }\n        if (this.allRowsSelected !== undefined) { return this.allRowsSelected; }\n\n        const dataItemsID = this.getRowIDs(this.allData);\n        return this.allRowsSelected = Math.min(this.rowSelection.size, dataItemsID.length) > 0 &&\n            new Set(Array.from(this.rowSelection.values()).concat(dataItemsID)).size === this.rowSelection.size;\n    }\n\n    hasSomeRowSelected(): boolean {\n        const filteredData = this.isFilteringApplied() ?\n            this.getRowIDs(this.grid.filteredData).some(rID => this.isRowSelected(rID)) : true;\n        return this.rowSelection.size > 0 && filteredData && !this.areAllRowSelected();\n    }\n\n    public get filteredSelectedRowIds(): any[] {\n        return this.isFilteringApplied() ?\n            this.getRowIDs(this.allData).filter(rowID => this.isRowSelected(rowID)) :\n            this.getSelectedRows().filter(rowID => !this.isRowDeleted(rowID));\n    }\n\n    public emitRowSelectionEvent(newSelection, added, removed, event?): boolean {\n        const currSelection = this.getSelectedRows();\n        if (this.areEqualCollections(currSelection, newSelection)) { return; }\n\n        const args = {\n            oldSelection: currSelection, newSelection: newSelection,\n            added: added, removed: removed, event: event, cancel: false\n        };\n        this.grid.onRowSelectionChange.emit(args);\n        if (args.cancel) { return; }\n        this.selectRowsWithNoEvent(args.newSelection, true);\n    }\n\n    public getRowDataById(rowID): Object {\n        if (!this.grid.primaryKey) { return rowID; }\n        const rowIndex = this.getRowIDs(this.grid.gridAPI.get_all_data(true)).indexOf(rowID);\n        return rowIndex < 0 ? {} : this.grid.gridAPI.get_all_data(true)[rowIndex];\n    }\n\n    public getRowIDs(data): Array<any> {\n        return this.grid.primaryKey && data.length ? data.map(rec => rec[this.grid.primaryKey]) : data;\n    }\n\n    public clearHeaderCBState(): void  {\n        this.allRowsSelected = undefined;\n    }\n\n    /**Clear rowSelection and update checkbox state*/\n    public clearAllSelectedRows(): void {\n        this.rowSelection.clear();\n        this.clearHeaderCBState();\n    }\n\n    /** Returns all data in the grid, with applied filtering and sorting and without deleted rows. */\n    public get allData(): Array<any> {\n        const allData = this.isFilteringApplied() || this.grid.sortingExpressions.length ?\n            this.grid.filteredSortedData : this.grid.gridAPI.get_all_data(true);\n        return allData.filter(rData => !this.isRowDeleted(this.grid.gridAPI.get_row_id(rData)));\n    }\n\n    private areEqualCollections(first, second): boolean {\n        return first.length === second.length && new Set(first.concat(second)).size === first.length;\n    }\n\n    private isFilteringApplied(): boolean {\n        const grid = this.grid as IgxGridBaseDirective;\n        return !FilteringExpressionsTree.empty(grid.filteringExpressionsTree) ||\n            !FilteringExpressionsTree.empty(grid.advancedFilteringExpressionsTree);\n    }\n\n    private isRowDeleted(rowID): boolean {\n        return this.grid.gridAPI.row_deleted_transaction(rowID);\n    }\n}\n\nexport function isChromium(): boolean {\n    return (/Chrom|e?ium/g.test(navigator.userAgent) || /Google Inc/g.test(navigator.vendor)) && !/Edge/g.test(navigator.userAgent);\n}\n","import { Inject, Injectable, NgZone } from '@angular/core';\nimport { getDOM as getDOM } from '@angular/platform-browser';\nimport { DOCUMENT } from '@angular/common';\nimport { PlatformUtil } from './utils';\n\nconst EVENT_SUFFIX = 'precise';\n\n/**\n * Touch gestures manager based on Hammer.js\n * Use with caution, this will track references for single manager per element. Very TBD. Much TODO.\n * @hidden\n */\n@Injectable()\nexport class HammerGesturesManager {\n    private platformBrowser: boolean;\n    /**\n     * Event option defaults for each recognizer, see http://hammerjs.github.io/api/ for API listing.\n     */\n    protected hammerOptions: HammerOptions = {};\n\n    private _hammerManagers: Array<{ element: EventTarget, manager: HammerManager; }> = [];\n\n    constructor(private _zone: NgZone, @Inject(DOCUMENT) private doc: any, private platformUtil: PlatformUtil) {\n        this.platformBrowser = this.platformUtil.isBrowser;\n        if (this.platformBrowser) {\n            this.hammerOptions = {\n                // D.P. #447 Force TouchInput due to PointerEventInput bug (https://github.com/hammerjs/hammer.js/issues/1065)\n                // see https://github.com/IgniteUI/igniteui-angular/issues/447#issuecomment-324601803\n                inputClass: Hammer.TouchInput,\n                recognizers: [\n                    [Hammer.Pan, { threshold: 0 }],\n                    [Hammer.Swipe, {\n                        direction: Hammer.DIRECTION_HORIZONTAL\n                    }],\n                    [Hammer.Tap],\n                    [Hammer.Tap, { event: 'doubletap', taps: 2 }, ['tap']]\n                ]\n            };\n        }\n    }\n\n    public supports(eventName: string): boolean {\n        return eventName.toLowerCase().endsWith('.' + EVENT_SUFFIX);\n    }\n\n    /**\n     * Add listener extended with options for Hammer.js. Will use defaults if none are provided.\n     * Modeling after other event plugins for easy future modifications.\n     */\n    public addEventListener(\n        element: HTMLElement,\n        eventName: string,\n        eventHandler: (eventObj) => void,\n        options: HammerOptions = null): () => void {\n        if (!this.platformBrowser) {\n            return;\n        }\n\n        // Creating the manager bind events, must be done outside of angular\n        return this._zone.runOutsideAngular(() => {\n            let mc: HammerManager = this.getManagerForElement(element);\n            if (mc === null) {\n                // new Hammer is a shortcut for Manager with defaults\n                mc = new Hammer(element, Object.assign(this.hammerOptions, options));\n                this.addManagerForElement(element, mc);\n            }\n            const handler = (eventObj) => { this._zone.run(() => { eventHandler(eventObj); }); };\n            mc.on(eventName, handler);\n            return () => { mc.off(eventName, handler); };\n        });\n    }\n\n    /**\n     * Add listener extended with options for Hammer.js. Will use defaults if none are provided.\n     * Modeling after other event plugins for easy future modifications.\n     *\n     * @param target Can be one of either window, body or document(fallback default).\n     */\n    public addGlobalEventListener(target: string, eventName: string, eventHandler: (eventObj) => void): () => void {\n        if (!this.platformBrowser) {\n            return;\n        }\n\n        const element = this.getGlobalEventTarget(target);\n\n        // Creating the manager bind events, must be done outside of angular\n        return this.addEventListener(element as HTMLElement, eventName, eventHandler);\n    }\n\n    /**\n     * Exposes [Dom]Adapter.getGlobalEventTarget to get global event targets.\n     * Supported: window, document, body. Defaults to document for invalid args.\n     * @param target Target name\n     */\n    public getGlobalEventTarget(target: string): EventTarget {\n        return getDOM().getGlobalEventTarget(this.doc, target);\n    }\n\n    /**\n     * Set HammerManager options.\n     *\n     * @param element The DOM element used to create the manager on.\n     *\n     * ### Example\n     *\n     * ```ts\n     * manager.setManagerOption(myElem, \"pan\", { pointers: 1 });\n     * ```\n     */\n    public setManagerOption(element: EventTarget, event: string, options: any) {\n        const manager = this.getManagerForElement(element);\n        manager.get(event).set(options);\n    }\n\n    /**\n     * Add an element and manager map to the internal collection.\n     *\n     * @param element The DOM element used to create the manager on.\n     */\n    public addManagerForElement(element: EventTarget, manager: HammerManager) {\n        this._hammerManagers.push({element, manager});\n    }\n\n    /**\n     * Get HammerManager for the element or null\n     *\n     * @param element The DOM element used to create the manager on.\n     */\n    public getManagerForElement(element: EventTarget): HammerManager {\n        const result =  this._hammerManagers.filter((value, index, array) => {\n            return value.element === element;\n        });\n        return result.length ? result[0].manager : null;\n    }\n\n    /**\n     * Destroys the HammerManager for the element, removing event listeners in the process.\n     *\n     * @param element The DOM element used to create the manager on.\n     */\n    public removeManagerForElement(element: HTMLElement) {\n        let index: number = null;\n        for (let i = 0; i < this._hammerManagers.length; i++) {\n            if (element === this._hammerManagers[i].element) {\n                index = i;\n                break;\n            }\n        }\n        if (index !== null) {\n            const item = this._hammerManagers.splice(index, 1)[0];\n            // destroy also\n            item.manager.destroy();\n        }\n    }\n\n    /** Destroys all internally tracked HammerManagers, removing event listeners in the process. */\n    public destroy() {\n        for (const item of this._hammerManagers) {\n            item.manager.destroy();\n        }\n        this._hammerManagers = [];\n    }\n}\n","\nexport enum FilterMode {\n    quickFilter = 'quickFilter',\n    excelStyleFilter = 'excelStyleFilter'\n}\n\nexport enum GridSummaryPosition {\n    top = 'top',\n    bottom = 'bottom'\n}\n\nexport enum GridSummaryCalculationMode {\n    rootLevelOnly = 'rootLevelOnly',\n    childLevelsOnly = 'childLevelsOnly',\n    rootAndChildLevels = 'rootAndChildLevels'\n}\n\nexport enum GridKeydownTargetType {\n    dataCell = 'dataCell',\n    summaryCell = 'summaryCell',\n    groupRow = 'groupRow',\n    hierarchicalRow = 'hierarchicalRow'\n}\n\nexport enum GridSelectionMode {\n    none = 'none',\n    single = 'single',\n    multiple = 'multiple',\n}\n\nexport enum ColumnDisplayOrder {\n    Alphabetical = 'Alphabetical',\n    DisplayOrder = 'DisplayOrder'\n}\n","import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    TemplateRef,\n    ViewChild,\n    NgZone,\n    OnInit,\n    OnDestroy,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { IgxTextHighlightDirective } from '../directives/text-highlight/text-highlight.directive';\nimport { GridBaseAPIService } from './api.service';\nimport {\n    getNodeSizeViaRange, ROW_COLLAPSE_KEYS, ROW_EXPAND_KEYS, SUPPORTED_KEYS, NAVIGATION_KEYS, isIE, isLeftClick, PlatformUtil\n} from '../core/utils';\nimport { State } from '../services/index';\nimport { IgxGridBaseDirective } from './grid-base.directive';\nimport { IgxGridSelectionService, ISelectionNode, IgxGridCRUDService } from './selection/selection.service';\nimport { DeprecateProperty, DeprecateMethod } from '../core/deprecateDecorators';\nimport { HammerGesturesManager } from '../core/touch';\nimport { ColumnType } from './common/column.interface';\nimport { RowType } from './common/row.interface';\nimport { GridSelectionMode } from './common/enums';\nimport { GridType } from './common/grid.interface';\nimport { IgxGridComponent, ISearchInfo } from './grid';\n\n/**\n * Providing reference to `IgxGridCellComponent`:\n * ```typescript\n * @ViewChild('grid', { read: IgxGridComponent })\n *  public grid: IgxGridComponent;\n * ```\n * ```typescript\n *  let column = this.grid.columnList.first;\n * ```\n * ```typescript\n *  let cell = column.cells[0];\n * ```\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'igx-grid-cell',\n    templateUrl: './cell.component.html',\n    providers: [HammerGesturesManager]\n})\nexport class IgxGridCellComponent implements OnInit, OnChanges, OnDestroy {\n    private _vIndex = -1;\n    protected _lastSearchInfo: ISearchInfo;\n\n    /**\n     * Gets the column of the cell.\n     * ```typescript\n     *  let cellColumn = this.cell.column;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    public column: ColumnType;\n\n    /**\n     * Gets the row of the cell.\n     * ```typescript\n     * let cellRow = this.cell.row;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    public row: RowType;\n\n    /**\n     * Gets the data of the row of the cell.\n     * ```typescript\n     * let rowData = this.cell.rowData;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    public rowData: any;\n\n    /**\n     * Sets/gets the template of the cell.\n     * ```html\n     * <ng-template #cellTemplate igxCell let-value>\n     *   <div style=\"font-style: oblique; color:blueviolet; background:red\">\n     *       <span>{{value}}</span>\n     *   </div>\n     * </ng-template>\n     * ```\n     * ```typescript\n     * @ViewChild('cellTemplate',{read: TemplateRef})\n     * cellTemplate: TemplateRef<any>;\n     * ```\n     * ```typescript\n     * this.cell.cellTemplate = this.cellTemplate;\n     * ```\n     * ```typescript\n     * let template =  this.cell.cellTemplate;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    public cellTemplate: TemplateRef<any>;\n\n    /**\n     * Sets/gets the cell value.\n     * ```typescript\n     * this.cell.value = \"Cell Value\";\n     * ```\n     * ```typescript\n     * let cellValue = this.cell.value;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    public value: any;\n\n    /**\n     * Sets/gets the highlight class of the cell.\n     * Default value is `\"igx-highlight\"`.\n     * ```typescript\n     * let highlightClass = this.cell.highlightClass;\n     * ```\n     * ```typescript\n     * this.cell.highlightClass = 'igx-cell-highlight';\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public highlightClass = 'igx-highlight';\n\n    /**\n     * Sets/gets the active highlight class class of the cell.\n     * Default value is `\"igx-highlight__active\"`.\n     * ```typescript\n     * let activeHighlightClass = this.cell.activeHighlightClass;\n     * ```\n     * ```typescript\n     * this.cell.activeHighlightClass = 'igx-cell-highlight_active';\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public activeHighlightClass = 'igx-highlight__active';\n\n    /**\n     * Gets the cell formatter.\n     * ```typescript\n     * let cellForamatter = this.cell.formatter;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    formatter: (value: any) => any;\n\n    /**\n     * Gets the cell template context object.\n     * ```typescript\n     *  let context = this.cell.context();\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    get context(): any {\n        return {\n            $implicit: this.value,\n            cell: this\n        };\n    }\n\n    /**\n     * Gets the cell template.\n     * ```typescript\n     * let template = this.cell.template;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    get template(): TemplateRef<any> {\n        if (this.editMode) {\n            const inlineEditorTemplate = this.column.inlineEditorTemplate;\n            return inlineEditorTemplate ? inlineEditorTemplate : this.inlineEditorTemplate;\n        }\n        if (this.cellTemplate) {\n            return this.cellTemplate;\n        }\n        return this.defaultCellTemplate;\n    }\n\n    /**\n     * Gets the `id` of the grid in which the cell is stored.\n     * ```typescript\n     * let gridId = this.cell.gridID;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    get gridID(): any {\n        return this.row.gridID;\n    }\n\n    /**\n     * Gets the grid of the cell.\n     * ```typescript\n     * let grid = this.cell.grid;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    get grid(): any {\n        return this.gridAPI.grid;\n    }\n\n    /**\n     * Gets the `index` of the row where the cell is stored.\n     * ```typescript\n     * let rowIndex = this.cell.rowIndex;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.data-rowIndex')\n    get rowIndex(): number {\n        return this.row.index;\n    }\n\n    /**\n     * Gets the `index` of the cell column.\n     * ```typescript\n     * let columnIndex = this.cell.columnIndex;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    get columnIndex(): number {\n        return this.column.index;\n    }\n\n    /**\n     * Gets the visible `index` of the in which the cell is stored.\n     * ```typescript\n     * let visibleColumnIndex = this.cell.visibleColumnIndex;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.data-visibleIndex')\n    @Input()\n    get visibleColumnIndex() {\n        return this.column.columnLayoutChild ? this.column.visibleIndex : this._vIndex;\n    }\n\n    set visibleColumnIndex(val) {\n        this._vIndex = val;\n    }\n\n    /**\n     * Gets the ID of the cell.\n     * ```typescript\n     * let cellID = this.cell.cellID;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public get cellID() {\n        const primaryKey = this.grid.primaryKey;\n        const rowID = primaryKey ? this.rowData[primaryKey] : this.rowData;\n        return { rowID, columnID: this.columnIndex, rowIndex: this.rowIndex };\n    }\n\n    /**\n     * Returns a reference to the nativeElement of the cell.\n     * ```typescript\n     * let cellNativeElement = this.cell.nativeElement;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    get nativeElement(): HTMLElement {\n        return this.element.nativeElement;\n    }\n\n    /**\n     * @deprecated\n     * Use `cell.editMode` as a getter and\n     * `cell.setEditMode(true | false)` to start/exit edit mode.\n     *\n     * Gets/sets whether the cell is in edit mode.\n     * ```typescript\n     * let isCellInEditMode = this.cell.inEditMode;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @DeprecateProperty(`'inEditMode' is deprecated\\nUse 'editMode' to get the current state and 'setEditMode(boolean)' as a setter`)\n    get inEditMode(): boolean {\n        return this.editMode;\n    }\n\n    set inEditMode(value: boolean) {\n        this.setEditMode(value);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @Input()\n    get cellSelectionMode() {\n        return this._cellSelection;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @Input()\n    set lastSearchInfo(value: ISearchInfo) {\n        this._lastSearchInfo = value;\n        this.highlightText(this._lastSearchInfo.searchText, this._lastSearchInfo.caseSensitive, this._lastSearchInfo.exactMatch);\n    }\n\n    set cellSelectionMode(value) {\n        if (this._cellSelection === value) { return; }\n         this.zone.runOutsideAngular(() => {\n            value === GridSelectionMode.multiple ?\n            this.addPointerListeners(value) : this.removePointerListeners(this._cellSelection);\n        });\n        this._cellSelection = value;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @Input()\n    @HostBinding('class.igx-grid__td--pinned-last')\n    lastPinned = false;\n\n    /**\n     * Returns whether the cell is in edit mode.\n     */\n    @Input()\n    @HostBinding('class.igx-grid__td--editing')\n    editMode = false;\n\n    /**\n     * Sets/get the `tabindex` property of the cell.\n     * Default value is `0`.\n     * ```typescript\n     * this.cell.tabindex = 1;\n     * ```\n     * ```typescript\n     * let cellTabIndex = this.cell.tabindex;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * Sets/get the `role` property of the cell.\n     * Default value is `\"gridcell\"`.\n     * ```typescript\n     * this.cell.role = 'grid-cell';\n     * ```\n     * ```typescript\n     * let cellRole = this.cell.role;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.role')\n    public role = 'gridcell';\n\n    /**\n     * Gets whether the cell is editable.\n     * ```typescript\n     * let isCellReadonly = this.cell.readonly;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.aria-readonly')\n    get readonly(): boolean {\n        return !this.column.editable;\n    }\n\n    get gridRowSpan(): number {\n        return this.column.gridRowSpan;\n    }\n\n    get gridColumnSpan(): number {\n        return this.column.gridColumnSpan;\n    }\n\n\n    get rowEnd(): number {\n        return this.column.rowEnd;\n    }\n\n    get colEnd(): number {\n        return this.column.colEnd;\n    }\n\n    get rowStart(): number {\n        return this.column.rowStart;\n    }\n\n    get colStart(): number {\n        return this.column.colStart;\n    }\n\n    /**\n     * Returns a string containing the grid `id` and the column `field` concatenated by \"_\".\n     * ```typescript\n     * let describedBy = this.cell.describedBy;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.aria-describedby')\n    get describedby(): string {\n        return `${this.row.gridID}_${this.column.field}`;\n    }\n\n    /**\n     * Gets the width of the cell.\n     * ```typescript\n     * let cellWidth = this.cell.width;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @Input()\n    width = '';\n\n    /**\n     * Gets whether the cell is selected.\n     * ```typescript\n     * let isSelected = this.cell.selected;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @HostBinding('attr.aria-selected')\n    @HostBinding('class.igx-grid__td--selected')\n    get selected() {\n        return this.selectionService.selected(this.selectionNode);\n    }\n\n    /**\n     * Selects/deselects the cell.\n     * ```typescript\n     * this.cell.selected = true.\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    set selected(val: boolean) {\n        const node = this.selectionNode;\n        val ? this.selectionService.add(node) : this.selectionService.remove(node);\n        this.grid.notifyChanges();\n    }\n\n    @HostBinding('class.igx-grid__td--edited')\n    get dirty() {\n        if (this.grid.rowEditable) {\n            const rowCurrentState = this.grid.transactions.getAggregatedValue(this.row.rowID, false);\n            if (rowCurrentState) {\n                return rowCurrentState[this.column.field] !== undefined && rowCurrentState[this.column.field] !== null;\n            }\n        } else {\n            const rowTransaction: State = this.grid.transactions.getState(this.row.rowID);\n                return rowTransaction && rowTransaction.value &&\n                (rowTransaction.value[this.column.field] ||\n                 rowTransaction.value[this.column.field] === 0 ||\n                 rowTransaction.value[this.column.field] === false);\n        }\n\n        return false;\n    }\n\n    /**\n     * Sets the current edit value while a cell is in edit mode.\n     * Only for cell editing mode.\n     * ```typescript\n     * this.cell.editValue = value;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public set editValue(value) {\n        if (this.crudService.inEditMode) {\n            this.crudService.cell.editValue = value;\n        }\n    }\n\n    /**\n     * Gets the current edit value while a cell is in edit mode.\n     * Only for cell editing mode.\n     * ```typescript\n     * let editValue = this.cell.editValue;\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public get editValue() {\n        if (this.crudService.inEditMode) {\n            return this.crudService.cell.editValue;\n        }\n    }\n\n    /**\n     * Returns whether the cell is editable.\n     */\n    get editable(): boolean {\n        return this.column.editable;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-grid__td--active')\n    public focused = false;\n\n    @ViewChild('defaultCell', { read: TemplateRef, static: true })\n    protected defaultCellTemplate: TemplateRef<any>;\n\n    @ViewChild('inlineEditor', { read: TemplateRef, static: true })\n    protected inlineEditorTemplate: TemplateRef<any>;\n\n    @ViewChild(IgxTextHighlightDirective, { read: IgxTextHighlightDirective })\n    protected set highlight(value: IgxTextHighlightDirective) {\n        this._highlight = value;\n\n        if (this._highlight && this.grid.lastSearchInfo.searchText) {\n            this._highlight.highlight(this.grid.lastSearchInfo.searchText,\n                this.grid.lastSearchInfo.caseSensitive,\n                this.grid.lastSearchInfo.exactMatch);\n            this._highlight.activateIfNecessary();\n        }\n    }\n\n    protected get highlight() {\n        return this._highlight;\n    }\n\n    protected get selectionNode(): ISelectionNode {\n        return {\n            row: this.rowIndex,\n            column: this.column.columnLayoutChild ? this.column.parent.visibleIndex : this.visibleColumnIndex,\n            layout: this.column.columnLayoutChild ? {\n                rowStart: this.column.rowStart,\n                colStart: this.column.colStart,\n                rowEnd: this.column.rowEnd,\n                colEnd: this.column.colEnd,\n                columnVisibleIndex: this.visibleColumnIndex\n            } : null\n            };\n    }\n\n    protected isInCompositionMode = false;\n    protected compositionStartHandler;\n    protected compositionEndHandler;\n    private _highlight: IgxTextHighlightDirective;\n    private _cellSelection = GridSelectionMode.multiple;\n\n\n    constructor(\n        protected selectionService: IgxGridSelectionService,\n        protected crudService: IgxGridCRUDService,\n        public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        public cdr: ChangeDetectorRef,\n        private element: ElementRef,\n        protected zone: NgZone,\n        private touchManager: HammerGesturesManager,\n        protected platformUtil: PlatformUtil) { }\n\n    private addPointerListeners(selection) {\n        if (selection !== GridSelectionMode.multiple) { return; }\n        this.nativeElement.addEventListener('pointerdown', this.pointerdown);\n        this.nativeElement.addEventListener('pointerenter', this.pointerenter);\n        this.nativeElement.addEventListener('pointerup', this.pointerup);\n    }\n\n    private  removePointerListeners(selection) {\n        if (selection !== GridSelectionMode.multiple) { return; }\n        this.nativeElement.removeEventListener('pointerdown', this.pointerdown);\n        this.nativeElement.removeEventListener('pointerenter', this.pointerenter);\n        this.nativeElement.removeEventListener('pointerup', this.pointerup);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    ngOnInit() {\n        this.zone.runOutsideAngular(() => {\n            this.addPointerListeners(this.cellSelectionMode);\n            // IE 11 workarounds\n            if (isIE()) {\n                this.compositionStartHandler = () => this.isInCompositionMode = true;\n                this.compositionEndHandler = () => this.isInCompositionMode = false;\n                // Hitting Enter with IME submits and exits from edit mode instead of first closing the IME dialog\n                this.nativeElement.addEventListener('compositionstart', this.compositionStartHandler);\n                this.nativeElement.addEventListener('compositionend', this.compositionEndHandler);\n            }\n        });\n        if (this.platformUtil.isIOS) {\n            this.touchManager.addEventListener(this.nativeElement, 'doubletap', this.onDoubleClick, {\n                cssProps: { } /* don't disable user-select, etc */\n            } as HammerOptions);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    ngOnDestroy() {\n        this.zone.runOutsideAngular(() => {\n            this.removePointerListeners(this.cellSelectionMode);\n            if (isIE()) {\n                this.nativeElement.removeEventListener('compositionstart', this.compositionStartHandler);\n                this.nativeElement.removeEventListener('compositionend', this.compositionEndHandler);\n            }\n        });\n        this.touchManager.destroy();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    _updateCRUDStatus() {\n        if (this.editMode) {\n            return;\n        }\n\n        const crud = this.crudService;\n        const editableCell = this.crudService.cell;\n        const editMode = !!(crud.row || crud.cell);\n\n        if (this.editable && editMode && !this.row.deleted) {\n            if (editableCell) {\n                this.gridAPI.update_cell(editableCell, editableCell.editValue);\n                /* This check is related with the following issue #6517:\n                 * when edit cell that belongs to a column which is sorted and press tab,\n                 * the next cell in edit mode is with wrong value /its context is not updated/;\n                 * So we reapply sorting before the next cell enters edit mode.\n                 * Also we need to keep the notifyChanges below, because of the current\n                 * change detection cycle when we have editing with enabled transactions\n                 */\n                if (this.grid.sortingExpressions.length && this.grid.sortingExpressions.indexOf(editableCell.column.field)) {\n                    this.grid.cdr.detectChanges();\n                }\n            }\n            crud.end();\n            this.grid.notifyChanges();\n            crud.begin(this);\n            return;\n        }\n\n        if (editableCell && crud.sameRow(this.cellID.rowID)) {\n            this.gridAPI.submit_value();\n        } else if (editMode && !crud.sameRow(this.cellID.rowID)) {\n            this.grid.endEdit(true);\n        }\n    }\n\n    /**\n     * @deprecated\n     * Gets whether the cell is selected.\n     * ```typescript\n     * let isCellSelected = thid.cell.isCellSelected();\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    @DeprecateMethod(`'isCellSelected' is deprecated. Use 'selected' property instead.`)\n    public isCellSelected() {\n        return this.selectionService.selected(this.selectionNode);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.value && !changes.value.firstChange) {\n            if (this.highlight) {\n                this.highlight.lastSearchInfo.searchedText = this.grid.lastSearchInfo.searchText;\n                this.highlight.lastSearchInfo.caseSensitive = this.grid.lastSearchInfo.caseSensitive;\n                this.highlight.lastSearchInfo.exactMatch = this.grid.lastSearchInfo.exactMatch;\n            }\n        }\n    }\n\n    /**\n     * Starts/ends edit mode for the cell.\n     *\n     * ```typescript\n     * cell.setEditMode(true);\n     * ```\n     */\n    setEditMode(value: boolean): void {\n        if (this.row.deleted) {\n            return;\n        }\n        if (this.editable && value) {\n            this.gridAPI.submit_value();\n            this.crudService.begin(this);\n        } else {\n            this.gridAPI.escape_editMode();\n        }\n        this.grid.notifyChanges();\n    }\n\n    /**\n     * Sets new value to the cell.\n     * ```typescript\n     * this.cell.update('New Value');\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    // TODO: Refactor\n    public update(val: any) {\n        if (this.row.deleted) {\n            return;\n        }\n        const cell = this.crudService.createCell(this);\n        const args = this.gridAPI.update_cell(cell, val);\n        if (this.crudService.cell && this.crudService.sameCell(cell)) {\n            if (args.cancel) {\n                return;\n            }\n            this.gridAPI.escape_editMode();\n        }\n        this.cdr.markForCheck();\n    }\n\n    /**\n     *\n     * @hidden\n     * @internal\n     */\n    pointerdown = (event: PointerEvent) => {\n        if (!isLeftClick(event)) {\n            this.selectionService.addKeyboardRange();\n            this.selectionService.initKeyboardState();\n            this.selectionService.primaryButton = false;\n            return;\n        }\n        this.selectionService.pointerDown(this.selectionNode, event.shiftKey, event.ctrlKey);\n    }\n\n    /**\n     *\n     * @hidden\n     * @internal\n     */\n    pointerenter = (event: PointerEvent) => {\n        const dragMode = this.selectionService.pointerEnter(this.selectionNode, event);\n        if (dragMode) {\n            this.grid.cdr.detectChanges();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    pointerup = (event: PointerEvent) => {\n        if (this.grid.hasColumnLayouts) {\n            this.grid.navigation.setStartNavigationCell(this.colStart, this.rowStart, null);\n        }\n        if (!isLeftClick(event)) { return; }\n        if (this.selectionService.pointerUp(this.selectionNode, this.grid.onRangeSelection)) {\n            this.grid.cdr.detectChanges();\n        }\n        this._updateCRUDStatus();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('dblclick', ['$event'])\n    public onDoubleClick = (event: MouseEvent | HammerInput) => {\n        if (event.type === 'doubletap') {\n            // prevent double-tap to zoom on iOS\n            (event as HammerInput).preventDefault();\n        }\n        if (this.editable && !this.editMode && !this.row.deleted) {\n            this.crudService.begin(this);\n        }\n\n        this.grid.onDoubleClick.emit({\n            cell: this,\n            event\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('click', ['$event'])\n    public onClick(event: MouseEvent) {\n        this.grid.onCellClick.emit({\n            cell: this,\n            event\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('contextmenu', ['$event'])\n    public onContextMenu(event: MouseEvent) {\n        this.grid.onContextMenu.emit({\n            cell: this,\n            event\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('focus', ['$event'])\n    public onFocus(event: FocusEvent) {\n        if (this.focused) {\n            return;\n        }\n        this.focused = true;\n        this.row.focused = true;\n        const node = this.selectionNode;\n        const shouldEmitSelection = !this.selectionService.isActiveNode(node);\n\n        if (this.selectionService.primaryButton) {\n            this._updateCRUDStatus();\n            this.selectionService.activeElement = node;\n        } else {\n            this.selectionService.activeElement = null;\n            if (this.crudService.inEditMode && !this.editMode) {\n                this.gridAPI.submit_value();\n            }\n        }\n\n        this.selectionService.primaryButton = true;\n        if (this.cellSelectionMode === GridSelectionMode.multiple && this.selectionService.activeElement) {\n            this.selectionService.add(this.selectionService.activeElement, false); // pointer events handle range generation\n            this.selectionService.keyboardStateOnFocus(node, this.grid.onRangeSelection, this.nativeElement);\n        }\n        if (this.grid.isCellSelectable && shouldEmitSelection) {\n            this.grid.onSelection.emit({ cell: this, event });\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('blur')\n    public onBlur() {\n        this.focused = false;\n        this.row.focused = false;\n    }\n\n    protected handleAlt(key: string, event: KeyboardEvent) {\n        if (this.isToggleKey(key)) {\n            const collapse = (this.row as any).expanded && ROW_COLLAPSE_KEYS.has(key);\n            const expand = !(this.row as any).expanded && ROW_EXPAND_KEYS.has(key);\n            if (expand) {\n                this.gridAPI.set_row_expansion_state(this.row.rowID, true, event);\n            } else if (collapse) {\n                this.gridAPI.set_row_expansion_state(this.row.rowID, false, event);\n            }\n            this.grid.notifyChanges();\n        }\n    }\n\n    protected handleTab(shift: boolean) {\n        if (shift) {\n            this.grid.navigation.performShiftTabKey(this.row.nativeElement, this.selectionNode);\n        } else {\n            this.grid.navigation.performTab(this.row.nativeElement, this.selectionNode);\n        }\n    }\n\n    protected handleEnd(ctrl: boolean) {\n        if (ctrl) {\n            this.grid.navigation.goToLastCell();\n        } else {\n            this.grid.navigation.onKeydownEnd(this.rowIndex, false, this.rowStart);\n        }\n    }\n\n    protected handleHome(ctrl: boolean) {\n        if (ctrl) {\n            this.grid.navigation.goToFirstCell();\n        } else {\n            this.grid.navigation.onKeydownHome(this.rowIndex, false, this.rowStart);\n        }\n    }\n\n    // TODO: Refactor\n    /**\n     *\n     * @hidden\n     * @internal\n     */\n    @HostListener('keydown', ['$event'])\n    dispatchEvent(event: KeyboardEvent) {\n        const key = event.key.toLowerCase();\n        const shift = event.shiftKey;\n        const ctrl = event.ctrlKey;\n        const node = this.selectionNode;\n\n        if (!SUPPORTED_KEYS.has(key)) {\n            return;\n        }\n        event.stopPropagation();\n\n        const keydownArgs = { targetType: 'dataCell', target: this, event: event, cancel: false };\n\n        // This fixes IME editing issue(#6335) that happens only on IE\n        if (isIE() && keydownArgs.event.keyCode === 229 && event.key === 'Tab') {\n            return;\n        }\n\n        this.grid.onGridKeydown.emit(keydownArgs);\n        if (keydownArgs.cancel) {\n            this.selectionService.clear();\n            this.selectionService.keyboardState.active = true;\n            return;\n        }\n\n        if (event.altKey) {\n            event.preventDefault();\n            this.handleAlt(key, event);\n            return;\n        }\n\n        this.selectionService.keyboardStateOnKeydown(node, shift, shift && key === 'tab');\n\n\n        if (key === 'tab') {\n            event.preventDefault();\n        }\n\n        if (this.editMode) {\n            if (NAVIGATION_KEYS.has(key)) {\n                if (this.column.inlineEditorTemplate) { return; }\n                if (['date', 'boolean'].indexOf(this.column.dataType) > -1) { return; }\n                return;\n            }\n        }\n\n        if (NAVIGATION_KEYS.has(key)) {\n            event.preventDefault();\n        }\n\n        switch (key) {\n            case 'tab':\n                this.handleTab(shift);\n                break;\n            case 'end':\n                this.handleEnd(ctrl);\n                break;\n            case 'home':\n                this.handleHome(ctrl);\n                break;\n            case 'arrowleft':\n            case 'left':\n                if (ctrl) {\n                    this.grid.navigation.onKeydownHome(node.row, false, this.rowStart);\n                    break;\n                }\n                this.grid.navigation.onKeydownArrowLeft(this.nativeElement, this.selectionNode);\n                break;\n            case 'arrowright':\n            case 'right':\n                if (ctrl) {\n                    this.grid.navigation.onKeydownEnd(node.row, false, this.rowStart);\n                    break;\n                }\n                this.grid.navigation.onKeydownArrowRight(this.nativeElement, this.selectionNode);\n                break;\n            case 'arrowup':\n            case 'up':\n                if (ctrl) {\n                    this.grid.navigation.navigateTop(this.visibleColumnIndex);\n                    break;\n                }\n                this.grid.navigation.navigateUp(this.row.nativeElement, this.selectionNode);\n                break;\n            case 'arrowdown':\n            case 'down':\n                if (ctrl) {\n                    this.grid.navigation.navigateBottom(this.visibleColumnIndex);\n                    break;\n                }\n                this.grid.navigation.navigateDown(this.row.nativeElement, this.selectionNode);\n                break;\n            case 'enter':\n            case 'f2':\n                this.onKeydownEnterEditMode();\n                break;\n            case 'escape':\n            case 'esc':\n                this.onKeydownExitEditMode();\n                break;\n            case ' ':\n            case 'spacebar':\n            case 'space':\n                if (this.grid.isRowSelectable) {\n                    this.row.selected ? this.selectionService.deselectRow(this.row.rowID, event) :\n                    this.selectionService.selectRowById(this.row.rowID, false, event);\n                }\n                break;\n            default:\n                return;\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onKeydownEnterEditMode() {\n        if (this.isInCompositionMode) {\n            return;\n        }\n        if (this.column.editable && !this.row.deleted) {\n            if (this.editMode) {\n                this.grid.endEdit(true);\n                this.nativeElement.focus();\n            } else {\n                this.crudService.begin(this);\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public onKeydownExitEditMode() {\n        if (this.isInCompositionMode) {\n            return;\n        }\n\n        if (this.editMode) {\n            const args = this.crudService.cell.createEditEventArgs();\n            this.grid.onCellEditCancel.emit(args);\n            if (args.cancel) {\n                return;\n            }\n            this.grid.endEdit(false);\n            this.nativeElement.focus();\n        }\n    }\n\n    /**\n     * If the provided string matches the text in the cell, the text gets highlighted.\n     * ```typescript\n     * this.cell.highlightText('Cell Value', true);\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public highlightText(text: string, caseSensitive?: boolean, exactMatch?: boolean): number {\n        return this.highlight && this.column.searchable ? this.highlight.highlight(text, caseSensitive, exactMatch) : 0;\n    }\n\n    /**\n     * Clears the highlight of the text in the cell.\n     * ```typescript\n     * this.cell.clearHighLight();\n     * ```\n     * @memberof IgxGridCellComponent\n     */\n    public clearHighlight() {\n        if (this.highlight && this.column.searchable) {\n            this.highlight.clearHighlight();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public calculateSizeToFit(range: any): number {\n        return Math.max(...Array.from(this.nativeElement.children)\n            .map((child) => getNodeSizeViaRange(range, child)));\n    }\n\n    private isToggleKey(key: string): boolean {\n        return ROW_COLLAPSE_KEYS.has(key) || ROW_EXPAND_KEYS.has(key);\n    }\n}\n","import {\n    ChangeDetectorRef,\n    DoCheck,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Input,\n    QueryList,\n    ViewChild,\n    ViewChildren,\n    Directive\n} from '@angular/core';\nimport { IgxCheckboxComponent } from '../checkbox/checkbox.component';\nimport { IgxGridForOfDirective } from '../directives/for-of/for_of.directive';\nimport { GridBaseAPIService } from './api.service';\nimport { IgxGridCellComponent } from './cell.component';\nimport { IgxColumnComponent } from './columns/column.component';\nimport { TransactionType } from '../services';\nimport { IgxGridBaseDirective } from './grid-base.directive';\nimport { IgxGridSelectionService, IgxGridCRUDService, IgxRow } from './selection/selection.service';\nimport { DeprecateProperty } from '../core/deprecateDecorators';\nimport { GridType } from './common/grid.interface';\n\n@Directive({\n    selector: '[igxRowBaseComponent]'\n})\nexport class IgxRowDirective<T extends IgxGridBaseDirective & GridType> implements DoCheck {\n\n    private _rowData: any;\n    /**\n     *  The data passed to the row component.\n     *\n     * ```typescript\n     * // get the row data for the first selected row\n     * let selectedRowData = this.grid.selectedRows[0].rowData;\n     * ```\n     */\n    @Input()\n    public get rowData(): any {\n        if (this.inEditMode) {\n            return Object.assign({}, this._rowData, this.grid.transactions.getAggregatedValue(this.rowID, false));\n        }\n        return this._rowData;\n    }\n\n    public set rowData(v: any) {\n        this._rowData = v;\n    }\n    /**\n     * The index of the row.\n     *\n     * ```typescript\n     * // get the index of the second selected row\n     * let selectedRowIndex = this.grid.selectedRows[1].index;\n     * ```\n     */\n    @Input()\n    public index: number;\n\n    /**\n     * @hidden\n     */\n    @Input()\n    public gridID: string;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('igxDirRef', { read: IgxGridForOfDirective })\n    public virtDirRow: IgxGridForOfDirective<any>;\n\n    /**\n     * @hidden\n     */\n    @ViewChild(forwardRef(() => IgxCheckboxComponent), { read: IgxCheckboxComponent })\n    public checkboxElement: IgxCheckboxComponent;\n\n    /**\n     * The rendered cells in the row component.\n     *\n     * ```typescript\n     * // get the cells of the third selected row\n     * let selectedRowCells = this.grid.selectedRows[2].cells;\n     * ```\n     */\n    @ViewChildren(forwardRef(() => IgxGridCellComponent))\n    public cells: QueryList<IgxGridCellComponent>;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.role')\n    public role = 'row';\n\n    @HostBinding('attr.data-rowIndex')\n    get dataRowIndex() {\n        return this.index;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class')\n    get styleClasses(): string {\n        return this.resolveClasses();\n    }\n\n    /**\n     * @hidden\n     */\n    @Input()\n    @HostBinding('attr.aria-selected')\n    get selected(): boolean {\n        return this.selectionService.isRowSelected(this.rowID);\n    }\n\n    set selected(value: boolean) {\n        value ? this.selectionService.selectRowsWithNoEvent([this.rowID]) :\n        this.selectionService.deselectRowsWithNoEvent([this.rowID]);\n        this.grid.cdr.markForCheck();\n    }\n\n    /**\n     * @hidden\n     */\n    get columns(): IgxColumnComponent[] {\n        return this.grid.visibleColumns;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    get viewIndex(): number {\n        if ((this.grid as any).groupingExpressions.length) {\n            return this.grid.filteredSortedData.indexOf(this.rowData);\n        }\n        return this.index + this.grid.page * this.grid.perPage;\n    }\n\n    /**\n     * @hidden\n     */\n    get pinnedColumns(): IgxColumnComponent[] {\n        return this.grid.pinnedColumns;\n    }\n\n    /**\n     * @hidden\n     */\n    get unpinnedColumns(): IgxColumnComponent[] {\n        return this.grid.unpinnedColumns;\n    }\n\n    /**\n     * @hidden\n     */\n    public get showRowSelectors(): boolean {\n        return this.grid.showRowSelectors;\n    }\n\n    /** @hidden */\n    public get dirty(): boolean {\n        const row = this.grid.transactions.getState(this.rowID);\n        if (row) {\n            return row.type === TransactionType.ADD || row.type === TransactionType.UPDATE;\n        }\n\n        return false;\n    }\n\n    @DeprecateProperty('isSelected property is deprecated. Use selected property instead.')\n    public get isSelected() {\n        return this.selectionService.isRowSelected(this.rowID);\n    }\n\n    /**\n     * @hidden\n     */\n    public get rowDraggable(): boolean {\n        return this.grid.rowDraggable;\n    }\n\n    /** @hidden */\n    public get added(): boolean {\n        const row = this.grid.transactions.getState(this.rowID);\n        if (row) {\n            return row.type === TransactionType.ADD;\n        }\n\n         return false;\n    }\n\n    /** @hidden */\n    public get deleted(): boolean {\n        return this.gridAPI.row_deleted_transaction(this.rowID);\n    }\n\n    /**\n     * @hidden\n     */\n    public dragging = false;\n\n    // TODO: Refactor\n    public get inEditMode(): boolean {\n        if (this.grid.rowEditable) {\n            const editRowState = this.crudService.row;\n            return (editRowState && editRowState.id === this.rowID) || false;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Get a reference to the grid that contains the selected row.\n     *\n     * ```typescript\n     * handleRowSelection(event) {\n     *  // the grid on which the onRowSelectionChange event was triggered\n     *  const grid = event.row.grid;\n     * }\n     * ```\n     *\n     * ```html\n     *  <igx-grid\n     *    [data]=\"data\"\n     *    (onRowSelectionChange)=\"handleRowSelection($event)\">\n     *  </igx-grid>\n     * ```\n     */\n    get grid(): T {\n        return this.gridAPI.grid;\n    }\n\n    /**\n     * Gets the ID of the row.\n     * A row in the grid is identified either by:\n     * - primaryKey data value,\n     * - the whole rowData, if the primaryKey is omitted.\n     *\n     * ```typescript\n     * let rowID = this.grid.selectedRows[2].rowID;\n     * ```\n     */\n    public get rowID() {\n        const primaryKey = this.grid.primaryKey;\n        return primaryKey ? this._rowData[primaryKey] : this._rowData;\n    }\n\n    /**\n     * The native DOM element representing the row. Could be null in certain environments.\n     *\n     * ```typescript\n     * // get the nativeElement of the second selected row\n     * let selectedRowNativeElement = this.grid.selectedRows[1].nativeElement;\n     * ```\n     */\n    get nativeElement() {\n        return this.element.nativeElement;\n    }\n\n    /**\n     * @hidden\n     */\n    public focused = false;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public defaultCssClass = 'igx-grid__tr';\n\n\n    constructor(\n        public gridAPI: GridBaseAPIService<T>,\n        public crudService: IgxGridCRUDService,\n        public selectionService: IgxGridSelectionService,\n        public element: ElementRef<HTMLElement>,\n        public cdr: ChangeDetectorRef) {}\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('click', ['$event'])\n    public onClick(event: MouseEvent) {\n        if (this.grid.rowSelection === 'none' || this.deleted) { return; }\n        if (event.shiftKey && this.grid.rowSelection === 'multiple') {\n            this.selectionService.selectMultipleRows(this.rowID, this.rowData, event);\n            return;\n        }\n        this.selectionService.selectRowById(this.rowID, !event.ctrlKey, event);\n    }\n\n    /**\n     * @hidden\n     */\n    public onRowSelectorClick(event) {\n        event.stopPropagation();\n        if (event.shiftKey && this.grid.rowSelection === 'multiple') {\n            this.selectionService.selectMultipleRows(this.rowID, this.rowData, event);\n            return;\n        }\n        this.selected ? this.selectionService.deselectRow(this.rowID, event) :\n        this.selectionService.selectRowById(this.rowID, false, event);\n    }\n\n    /**\n     * Updates the specified row object and the data source record with the passed value.\n     * This method emits `onEditDone` event.\n     *\n     * ```typescript\n     * // update the second selected row's value\n     * let newValue = \"Apple\";\n     * this.grid.selectedRows[1].update(newValue);\n     * ```\n     */\n    public update(value: any) {\n        const crudService = this.crudService;\n        if (crudService.inEditMode && crudService.cell.id.rowID === this.rowID) {\n            this.grid.endEdit(false);\n        }\n        const row = new IgxRow(this.rowID, this.index, this.rowData);\n        this.gridAPI.update_row(row, value);\n        this.cdr.markForCheck();\n    }\n\n    /**\n     * Removes the specified row from the grid's data source.\n     * This method emits `onRowDeleted` event.\n     *\n     * ```typescript\n     * // delete the third selected row from the grid\n     * this.grid.selectedRows[2].delete();\n     * ```\n     */\n    public delete() {\n        this.grid.deleteRowById(this.rowID);\n    }\n\n    /**\n     * @hidden\n     */\n    get rowCheckboxAriaLabel() {\n        return this.grid.primaryKey ?\n            this.selected ? 'Deselect row with key ' + this.rowID : 'Select row with key ' + this.rowID :\n            this.selected ? 'Deselect row' : 'Select row';\n    }\n\n    /**\n     * @hidden\n     */\n    public ngDoCheck() {\n        this.cdr.markForCheck();\n    }\n\n    /**\n     * @hidden\n     */\n    protected resolveClasses(): string {\n        const indexClass = this.index % 2 ? this.grid.evenRowCSS : this.grid.oddRowCSS;\n        const selectedClass = this.selected ? 'igx-grid__tr--selected' : '';\n        const editClass = this.inEditMode ? 'igx-grid__tr--edit' : '';\n        const dirtyClass = this.dirty ? 'igx-grid__tr--edited' : '';\n        const deletedClass = this.deleted ? 'igx-grid__tr--deleted' : '';\n        const mrlClass = this.grid.hasColumnLayouts ? 'igx-grid__tr--mrl' : '';\n        const dragClass = this.dragging ? 'igx-grid__tr--drag' : '';\n        return `${this.defaultCssClass} ${indexClass} ${selectedClass} ${editClass} ${dirtyClass}\n         ${deletedClass} ${mrlClass} ${dragClass}`.trim();\n    }\n\n    /**\n     * @hidden\n     */\n    public get resolveDragIndicatorClasses(): string {\n        const defaultDragIndicatorCssClass = 'igx-grid__drag-indicator';\n        const dragIndicatorOff = this.grid.rowDragging && !this.dragging ? 'igx-grid__drag-indicator--off' : '';\n        return `${defaultDragIndicatorCssClass} ${dragIndicatorOff}`;\n    }\n}\n","export interface ISummaryExpression {\n    fieldName: string;\n    customSummary?: any;\n}\nexport interface IgxSummaryResult {\n    key: string;\n    label: string;\n    summaryResult: any;\n}\n\nexport interface ISummaryRecord {\n    summaries: Map<string, IgxSummaryResult[]>;\n    max?: number;\n    cellIndentation?: number;\n}\n\nconst clear = (el) => el === 0 || Boolean(el);\nconst first = (arr) => arr[0];\nconst last = (arr) => arr[arr.length - 1];\n\nexport class IgxSummaryOperand {\n    /**\n     * Counts all the records in the data source.\n     * If filtering is applied, counts only the filtered records.\n     * ```typescript\n     * IgxSummaryOperand.count(dataSource);\n     * ```\n     * @memberof IgxSummaryOperand\n     */\n    public static count(data: any[]): number {\n        return data.length;\n    }\n    /**\n     * Executes the static `count` method and returns `IgxSummaryResult[]`.\n     * ```typescript\n     * interface IgxSummaryResult {\n     *   key: string;\n     *   label: string;\n     *   summaryResult: any;\n     * }\n     * ```\n     * Can be overridden in the inherited classes to provide customization for the `summary`.\n     * ```typescript\n     * class CustomSummary extends IgxSummaryOperand {\n     *   constructor() {\n     *     super();\n     *   }\n     *   public operate(data: any[], allData: any[], fieldName: string): IgxSummaryResult[] {\n     *     const result = [];\n     *     result.push({\n     *       key: \"test\",\n     *       label: \"Test\",\n     *       summaryResult: IgxSummaryOperand.count(data)\n     *     });\n     *     return result;\n     *   }\n     * }\n     * this.grid.getColumnByName('ColumnName').summaries = CustomSummary;\n     * ```\n     * @memberof IgxSummaryOperand\n     */\n    public operate(data: any[] = [], allData: any[] = [], fieldName?: string): IgxSummaryResult[] {\n        return [{\n            key: 'count',\n            label: 'Count',\n            summaryResult: IgxSummaryOperand.count(data)\n        }];\n    }\n}\n\n// @dynamic\nexport class IgxNumberSummaryOperand extends IgxSummaryOperand {\n    /**\n     * Returns the minimum numeric value in the provided data records.\n     * If filtering is applied, returns the minimum value in the filtered data records.\n     * ```typescript\n     * IgxNumberSummaryOperand.min(data);\n     * ```\n     * @memberof IgxNumberSummaryOperand\n     */\n    public static min(data: any[]): number {\n        return data.length && data.filter(clear).length ? data.filter(clear).reduce((a, b) => Math.min(a, b)) : 0;\n    }\n    /**\n     * Returns the maximum numeric value in the provided data records.\n     * If filtering is applied, returns the maximum value in the filtered data records.\n     * ```typescript\n     * IgxNumberSummaryOperand.max(data);\n     * ```\n     * @memberof IgxNumberSummaryOperand\n     */\n    public static max(data: any[]): number {\n        return data.length && data.filter(clear).length ? data.filter(clear).reduce((a, b) => Math.max(a, b)) : 0;\n    }\n    /**\n     * Returns the sum of the numeric values in the provided data records.\n     * If filtering is applied, returns the sum of the numeric values in the data records.\n     * ```typescript\n     * IgxNumberSummaryOperand.sum(data);\n     * ```\n     * @memberof IgxNumberSummaryOperand\n     */\n    public static sum(data: any[]): number {\n        return data.length && data.filter(clear).length ? data.filter(clear).reduce((a, b) => +a + +b) : 0;\n    }\n    /**\n     * Returns the average numeric value in the data provided data records.\n     * If filtering is applied, returns the average numeric value in the filtered data records.\n     * ```typescript\n     * IgxSummaryOperand.average(data);\n     * ```\n     * @memberof IgxNumberSummaryOperand\n     */\n    public static average(data: any[]): number {\n        return data.length && data.filter(clear).length ? this.sum(data) / this.count(data) : 0;\n    }\n    /**\n     * Executes the static methods and returns `IgxSummaryResult[]`.\n     * ```typescript\n     * interface IgxSummaryResult {\n     *   key: string;\n     *   label: string;\n     *   summaryResult: any;\n     * }\n     * ```\n     * Can be overridden in the inherited classes to provide customization for the `summary`.\n     * ```typescript\n     * class CustomNumberSummary extends IgxNumberSummaryOperand {\n     *   constructor() {\n     *     super();\n     *   }\n     *   public operate(data: any[], allData: any[], fieldName: string): IgxSummaryResult[] {\n     *     const result = [];\n     *     result.push({\n     *       key: \"avg\",\n     *       label: \"Avg\",\n     *       summaryResult: IgxNumberSummaryOperand.average(data)\n     *     });\n     *     result.push({\n     *       key: \"max\",\n     *       label: \"Max\",\n     *       summaryResult: IgxNumberSummaryOperand.max(data)\n     *     });\n     *     return result;\n     *   }\n     * }\n     * this.grid.getColumnByName('ColumnName').summaries = CustomNumberSummary;\n     * ```\n     * @memberof IgxNumberSummaryOperand\n     */\n    public operate(data: any[] = [], allData: any[] = [], fieldName?: string): IgxSummaryResult[] {\n        const result = super.operate(data, allData, fieldName);\n        result.push({\n            key: 'min',\n            label: 'Min',\n            summaryResult: IgxNumberSummaryOperand.min(data)\n        });\n        result.push({\n            key: 'max',\n            label: 'Max',\n            summaryResult: IgxNumberSummaryOperand.max(data)\n        });\n        result.push({\n            key: 'sum',\n            label: 'Sum',\n            summaryResult: IgxNumberSummaryOperand.sum(data)\n        });\n        result.push({\n            key: 'average',\n            label: 'Avg',\n            summaryResult: IgxNumberSummaryOperand.average(data)\n        });\n        return result;\n    }\n}\n\n// @dynamic\nexport class IgxDateSummaryOperand extends IgxSummaryOperand {\n    /**\n     * Returns the latest date value in the data records.\n     * If filtering is applied, returns the latest date value in the filtered data records.\n     * ```typescript\n     * IgxDateSummaryOperand.latest(data);\n     * ```\n     * @memberof IgxDateSummaryOperand\n     */\n    public static latest(data: any[]) {\n        return data.length && data.filter(clear).length ?\n            first(data.filter(clear).sort((a, b) => new Date(b).valueOf() - new Date(a).valueOf())) : undefined;\n    }\n    /**\n     * Returns the earliest date value in the data records.\n     * If filtering is applied, returns the latest date value in the filtered data records.\n     * ```typescript\n     * IgxDateSummaryOperand.earliest(data);\n     * ```\n     * @memberof IgxDateSummaryOperand\n     */\n    public static earliest(data: any[]) {\n        return data.length && data.filter(clear).length ?\n            last(data.filter(clear).sort((a, b) => new Date(b).valueOf() - new Date(a).valueOf())) : undefined;\n    }\n    /**\n     * Executes the static methods and returns `IgxSummaryResult[]`.\n     * ```typescript\n     * interface IgxSummaryResult {\n     *   key: string;\n     *   label: string;\n     *   summaryResult: any;\n     * }\n     * ```\n     * Can be overridden in the inherited classes to provide customization for the `summary`.\n     * ```typescript\n     * class CustomDateSummary extends IgxDateSummaryOperand {\n     *   constructor() {\n     *     super();\n     *   }\n     *   public operate(data: any[], allData: any[], fieldName: string): IgxSummaryResult[] {\n     *     const result = [];\n     *     result.push({\n     *       key: \"latest\",\n     *       label: \"Latest Date\",\n     *       summaryResult: IgxDateSummaryOperand.latest(data)\n     *     });\n     *     return result;\n     *   }\n     * }\n     * this.grid.getColumnByName('ColumnName').summaries = CustomDateSummary;\n     * ```\n     * @memberof IgxDateSummaryOperand\n     */\n    public operate(data: any[] = [], allData: any[] = [], fieldName?: string): IgxSummaryResult[] {\n        const result = super.operate(data, allData, fieldName);\n        result.push({\n            key: 'earliest',\n            label: 'Earliest',\n            summaryResult: IgxDateSummaryOperand.earliest(data)\n        });\n        result.push({\n            key: 'latest',\n            label: 'Latest',\n            summaryResult: IgxDateSummaryOperand.latest(data)\n        });\n        return result;\n    }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n\n@Directive({\n    selector: '[igxFilterCellTemplate]'\n})\nexport class IgxFilterCellTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({\n    selector: '[igxCell]'\n})\nexport class IgxCellTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxHeader]'\n})\nexport class IgxCellHeaderTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n\n}\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxFooter]'\n})\nexport class IgxCellFooterTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxCellEditor]'\n})\nexport class IgxCellEditorTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxCollapsibleIndicator]'\n})\nexport class IgxCollapsibleIndicatorTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n}\n","import {\n    AfterContentInit,\n    ChangeDetectorRef,\n    ChangeDetectionStrategy,\n    Component,\n    ContentChild,\n    ContentChildren,\n    Input,\n    QueryList,\n    TemplateRef,\n    Output,\n    EventEmitter,\n} from '@angular/core';\nimport { notifyChanges } from '../watch-changes';\nimport { WatchColumnChanges } from '../watch-changes';\nimport { IgxRowIslandAPIService } from '../hierarchical-grid/row-island-api.service';\nimport { DataType } from '../../data-operations/data-util';\nimport { DeprecateProperty } from '../../core/deprecateDecorators';\nimport {\n    IgxFilteringOperand,\n    IgxBooleanFilteringOperand,\n    IgxNumberFilteringOperand,\n    IgxDateFilteringOperand,\n    IgxStringFilteringOperand\n} from '../../data-operations/filtering-condition';\nimport { ISortingStrategy, DefaultSortingStrategy } from '../../data-operations/sorting-strategy';\nimport { DisplayDensity } from '../../core/displayDensity';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxGridCellComponent } from '../cell.component';\nimport { IgxRowDirective } from '../row.directive';\nimport { FilteringExpressionsTree } from '../../data-operations/filtering-expressions-tree';\nimport { GridBaseAPIService } from '../api.service';\nimport { GridType } from '../common/grid.interface';\nimport { IgxGridHeaderComponent } from '../headers/grid-header.component';\nimport { IgxGridFilteringCellComponent } from '../filtering/base/grid-filtering-cell.component';\nimport { IgxGridHeaderGroupComponent } from '../headers/grid-header-group.component';\nimport { getNodeSizeViaRange } from '../../core/utils';\nimport { IgxSummaryOperand, IgxNumberSummaryOperand, IgxDateSummaryOperand } from '../summaries/grid-summary';\nimport {\n    IgxCellTemplateDirective,\n    IgxCellHeaderTemplateDirective,\n    IgxCellEditorTemplateDirective,\n    IgxCollapsibleIndicatorTemplateDirective,\n    IgxFilterCellTemplateDirective\n} from './templates.directive';\nimport { MRLResizeColumnInfo, MRLColumnSizeInfo } from './interfaces';\n\n/**\n * **Ignite UI for Angular Column** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/grid.html#columns-configuration)\n *\n * The Ignite UI Column is used within an `igx-grid` element to define what data the column will show. Features such as sorting,\n * filtering & editing are enabled at the column level.  You can also provide a template containing custom content inside\n * the column using `ng-template` which will be used for all cells within the column.\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-column',\n    template: ``\n})\nexport class IgxColumnComponent implements AfterContentInit {\n    /**\n     * Sets/gets the `field` value.\n     * ```typescript\n     * let columnField = this.column.field;\n     * ```\n     * ```html\n     * <igx-column [field] = \"'ID'\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input()\n    public field: string;\n    /**\n     * Sets/gets the `header` value.\n     * ```typescript\n     * let columnHeader = this.column.header;\n     * ```\n     * ```html\n     * <igx-column [header] = \"'ID'\"></igx-column>\n     * ```\n     *\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public header = '';\n    /**\n     * Sets/gets whether the column is sortable.\n     * Default value is `false`.\n     * ```typescript\n     * let isSortable = this.column.sortable;\n     * ```\n     * ```html\n     * <igx-column [sortable] = \"true\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    public sortable = false;\n    /**\n     * Sets/gets whether the column is groupable.\n     * Default value is `false`.\n     * ```typescript\n     * let isGroupable = this.column.groupable;\n     * ```\n     * ```html\n     * <igx-column [groupable] = \"true\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges(true)\n    @WatchColumnChanges()\n    @Input()\n    groupable = false;\n    /**\n     * Gets whether the column is editable.\n     * Default value is `false`.\n     * ```typescript\n     * let isEditable = this.column.editable;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    get editable(): boolean {\n        // Updating the primary key when grid has transactions (incl. row edit)\n        // should not be allowed, as that can corrupt transaction state.\n        const rowEditable = this.grid && this.grid.rowEditable;\n        const hasTransactions = this.grid && this.grid.transactions.enabled;\n\n        if (this.isPrimaryColumn && (rowEditable || hasTransactions)) {\n            return false;\n        }\n\n        if (this._editable !== undefined) {\n            return this._editable;\n        } else {\n            return rowEditable;\n        }\n    }\n    /**\n     * Sets whether the column is editable.\n     * ```typescript\n     * this.column.editable = true;\n     * ```\n     * ```html\n     * <igx-column [editable] = \"true\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set editable(editable: boolean) {\n        this._editable = editable;\n    }\n    /**\n     * Sets/gets whether the column is filterable.\n     * Default value is `true`.\n     * ```typescript\n     * let isFilterable = this.column.filterable;\n     * ```\n     * ```html\n     * <igx-column [filterable] = \"false\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public filterable = true;\n    /**\n     * Sets/gets whether the column is resizable.\n     * Default value is `false`.\n     * ```typescript\n     * let isResizable = this.column.resizable;\n     * ```\n     * ```html\n     * <igx-column [resizable] = \"true\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    public resizable = false;\n    /**\n     * Gets a value indicating whether the summary for the column is enabled.\n     * ```typescript\n     * let hasSummary = this.column.hasSummary;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges(true)\n    @WatchColumnChanges()\n    @Input()\n    get hasSummary() {\n        return this._hasSummary;\n    }\n    /**\n     * Sets a value indicating whether the summary for the column is enabled.\n     * Default value is `false`.\n     * ```html\n     * <igx-column [hasSummary] = \"true\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set hasSummary(value) {\n        this._hasSummary = value;\n\n        if (this.grid) {\n            this.grid.summaryService.resetSummaryHeight();\n        }\n    }\n    /**\n     * Gets whether the column is hidden.\n     * ```typescript\n     * let isHidden = this.column.hidden;\n     * ```\n     *@memberof IgxColumnComponent\n     */\n    @notifyChanges(true)\n    @WatchColumnChanges()\n    @Input()\n    get hidden(): boolean {\n        return this._hidden;\n    }\n    /**\n     * Sets the column hidden property.\n     * Default value is `false`.\n     * ```html\n     * <igx-column [hidden] = \"true\"></igx-column>\n     * ```\n     *\n     * Two-way data binding.\n     * ```html\n     * <igx-column [(hidden)] = \"model.isHidden\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set hidden(value: boolean) {\n        if (this._hidden !== value) {\n            this._hidden = value;\n            this.hiddenChange.emit(this._hidden);\n            if (this.columnLayoutChild && this.parent.hidden !== value) {\n                this.parent.hidden = value;\n                return;\n            }\n            if (this.grid) {\n                this.grid.endEdit(false);\n                this.grid.summaryService.resetSummaryHeight();\n                this.grid.filteringService.refreshExpressions();\n                this.grid.notifyChanges();\n            }\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public hiddenChange = new EventEmitter<boolean>();\n\n    /** @hidden */\n    @Output()\n    public expandedChange = new EventEmitter<boolean>();\n\n    /** @hidden */\n    @Output()\n    public collapsibleChange = new EventEmitter<boolean>();\n    /** @hidden */\n    @Output()\n    public visibleWhenCollapsedChange = new EventEmitter<boolean>();\n\n    /**\n     * Gets whether the hiding is disabled.\n     * ```typescript\n     * let isHidingDisabled =  this.column.disableHiding;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    disableHiding = false;\n    /**\n     * Gets whether the pinning is disabled.\n     * ```typescript\n     * let isPinningDisabled =  this.column.disablePinning;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    disablePinning = false;\n    /**\n     * Sets/gets whether the column is movable.\n     * Default value is `false`.\n     * ```typescript\n     * let isMovable = this.column.movable;\n     * ```\n     * ```html\n     * <igx-column [movable] = \"true\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @notifyChanges()\n    @Input()\n    public movable = false;\n    /**\n     * Gets the `width` of the column.\n     * ```typescript\n     * let columnWidth = this.column.width;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges(true)\n    @WatchColumnChanges()\n    @Input()\n    public get width(): string {\n        return this.widthSetByUser ? this._width : this.defaultWidth;\n    }\n    /**\n     * Sets the `width` of the column.\n     * ```html\n     * <igx-column [width] = \"'25%'\"></igx-column>\n     * ```\n     *\n     * Two-way data binding.\n     * ```html\n     * <igx-column [(width)]=\"model.columns[0].width\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public set width(value: string) {\n        if (value) {\n            this._calcWidth = null;\n            this.calcPixelWidth = NaN;\n            this.widthSetByUser = true;\n            // width could be passed as number from the template\n            // host bindings are not px affixed so we need to ensure we affix simple number strings\n            if (typeof(value) === 'number' || value.match(/^[0-9]*$/)) {\n                value = value + 'px';\n            }\n            this._width = value;\n            if (this.grid) {\n                this.cacheCalcWidth();\n            }\n            this.widthChange.emit(this._width);\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public widthChange = new EventEmitter<string>();\n\n    /**\n     * @hidden\n     */\n    public get calcWidth(): any {\n        return this.getCalcWidth();\n    }\n\n    private _calcWidth = null;\n    public calcPixelWidth: number;\n\n    /**\n     * Sets/gets the maximum `width` of the column.\n     * ```typescript\n     * let columnMaxWidth = this.column.width;\n     * ```\n     * ```html\n     * <igx-column [maxWidth] = \"'75%'\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    public maxWidth: string;\n    /**\n     * Sets/gets the minimum `width` of the column.\n     * Default value is `88`;\n     * ```typescript\n     * let columnMinWidth = this.column.minWidth;\n     * ```\n     * ```html\n     * <igx-column [minWidth] = \"'15%'\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public set minWidth(value: string) {\n        const minVal = parseFloat(value);\n        if (Number.isNaN(minVal)) { return; }\n        this._defaultMinWidth = value;\n\n    }\n    public get minWidth(): string {\n        return !this._defaultMinWidth ? this.defaultMinWidth : this._defaultMinWidth;\n    }\n    /**\n     * Sets/gets the class selector of the column header.\n     * ```typescript\n     * let columnHeaderClass = this.column.headerClasses;\n     * ```\n     * ```html\n     * <igx-column [headerClasses] = \"'column-header'\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public headerClasses = '';\n\n    /**\n     * Sets/gets the class selector of the column group header.\n     * ```typescript\n     * let columnHeaderClass = this.column.headerGroupClasses;\n     * ```\n     * ```html\n     * <igx-column [headerGroupClasses] = \"'column-group-header'\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public headerGroupClasses = '';\n    /**\n     * Sets a conditional class selector of the column cells.\n     * Accepts an object literal, containing key-value pairs,\n     * where the key is the name of the CSS class, while the\n     * value is either a callback function that returns a boolean,\n     * or boolean, like so:\n     * ```typescript\n     * callback = (rowData, columnKey, cellValue, rowIndex) => { return rowData[columnKey] > 6; }\n     * cellClasses = { 'className' : this.callback };\n     * ```\n     * ```html\n     * <igx-column [cellClasses] = \"cellClasses\"></igx-column>\n     * <igx-column [cellClasses] = \"{'class1' : true }\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public cellClasses: any;\n\n    /**\n     * Sets conditional style properties on the column cells.\n     * Similar to `ngStyle` it accepts an object literal where the keys are\n     * the style properties and the value is the expression to be evaluated.\n     * As with `cellClasses` it accepts a callback function.\n     * ```typescript\n     * styles = {\n     *  background: 'royalblue',\n     *  color: (rowData, columnKey, cellValue, rowIndex) => value.startsWith('Important') : 'red': 'inherit'\n     * }\n     * ```\n     * ```html\n     * <igx-column [cellStyles]=\"styles\"></igx-column>\n     * ```\n     *\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    cellStyles = null;\n    /**\n     * Gets the column index.\n     * ```typescript\n     * let columnIndex = this.column.index;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get index(): number {\n        return this.grid.columns.indexOf(this);\n    }\n    /**\n     * When autogenerating columns, the formatter is used to format the display of the column data\n     * without modifying the underlying bound values.\n     *\n     * In this example, we check to see if the column name is Salary, and then provide a method as the column formatter\n     * to format the value into a currency string.\n     *\n     * ```typescript\n     * onColumnInit(column: IgxColumnComponent) {\n     *   if (column.field == \"Salary\") {\n     *     column.formatter = (salary => this.format(salary));\n     *   }\n     * }\n     *\n     * format(value: number) : string {\n     *   return formatCurrency(value, \"en-us\", \"$\");\n     * }\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    formatter: (value: any) => any;\n    /**\n     * Sets/gets whether the column filtering should be case sensitive.\n     * Default value is `true`.\n     * ```typescript\n     * let filteringIgnoreCase = this.column.filteringIgnoreCase;\n     * ```\n     * ```html\n     * <igx-column [filteringIgnoreCase] = \"false\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    public filteringIgnoreCase = true;\n    /**\n     * Sets/gets whether the column sorting should be case sensitive.\n     * Default value is `true`.\n     * ```typescript\n     * let sortingIgnoreCase = this.column.sortingIgnoreCase;\n     * ```\n     * ```html\n     * <igx-column [sortingIgnoreCase] = \"false\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    public sortingIgnoreCase = true;\n    /**\n     * Sets/gets the data type of the column values.\n     * Default value is `string`.\n     * ```typescript\n     * let columnDataType = this.column.dataType;\n     * ```\n     * ```html\n     * <igx-column [dataType] = \"'number'\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input()\n    public dataType: DataType = DataType.String;\n    /**\n     * Gets whether the column is `pinned`.\n     * ```typescript\n     * let isPinned = this.column.pinned;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @WatchColumnChanges()\n    @Input()\n    public get pinned(): boolean {\n        return this._pinned;\n    }\n    /**\n     * Sets whether the column is pinned.\n     * Default value is `false`.\n     * ```html\n     * <igx-column [pinned] = \"true\"></igx-column>\n     * ```\n     *\n     * Two-way data binding.\n     * ```html\n     * <igx-column [(pinned)] = \"model.columns[0].isPinned\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public set pinned(value: boolean) {\n        if (this._pinned !== value) {\n            if (this.grid && this.width && !isNaN(parseInt(this.width, 10))) {\n                value ? this.pin() : this.unpin();\n                return;\n            }\n            /* No grid/width available at initialization. `initPinning` in the grid\n               will re-init the group (if present)\n            */\n            this._unpinnedIndex = this.grid ? this.grid.columns.filter(x => !x.pinned).indexOf(this) : 0;\n            this._pinned = value;\n            this.pinnedChange.emit(this._pinned);\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public pinnedChange = new EventEmitter<boolean>();\n\n    /**\n     * @deprecated\n     * Gets/Sets the `id` of the `igx-grid`.\n     * ```typescript\n     * let columnGridId = this.column.gridID;\n     * ```\n     * ```typescript\n     * this.column.gridID = 'grid-1';\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @DeprecateProperty(`The property is deprecated. Please, use \\`column.grid.id\\` instead.`)\n    public gridID: string;\n    /**\n     * Gets the column `summaries`.\n     * ```typescript\n     * let columnSummaries = this.column.summaries;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges(true)\n    @WatchColumnChanges()\n    @Input()\n    public get summaries(): any {\n        return this._summaries;\n    }\n    /**\n     * Sets the column `summaries`.\n     * ```typescript\n     * this.column.summaries = IgxNumberSummaryOperand;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public set summaries(classRef: any) {\n        this._summaries = new classRef();\n\n        if (this.grid) {\n            this.grid.summaryService.removeSummariesCachePerColumn(this.field);\n            (this.grid as any)._summaryPipeTrigger++;\n            this.grid.summaryService.resetSummaryHeight();\n        }\n    }\n    /**\n     * Sets/gets whether the column is `searchable`.\n     * Default value is `true`.\n     * ```typescript\n     * let isSearchable =  this.column.searchable';\n     * ```\n     * ```html\n     *  <igx-column [searchable] = \"false\"></igx-column>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    public searchable = true;\n    /**\n     * Gets the column `filters`.\n     * ```typescript\n     * let columnFilters = this.column.filters'\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input()\n    public get filters(): IgxFilteringOperand {\n        return this._filters;\n    }\n    /**\n     * Sets the column `filters`.\n     * ```typescript\n     * this.column.filters = IgxBooleanFilteringOperand.instance().\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public set filters(instance: IgxFilteringOperand) {\n        this._filters = instance;\n    }\n    /**\n     * Gets the column `sortStrategy`.\n     * ```typescript\n     * let sortStrategy = this.column.sortStrategy\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input()\n    public get sortStrategy(): ISortingStrategy {\n        return this._sortStrategy;\n    }\n    /**\n     * Sets the column `sortStrategy`.\n     * ```typescript\n     * this.column.sortStrategy = new CustomSortingStrategy().\n     * class CustomSortingStrategy extends SortingStrategy {...}\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public set sortStrategy(classRef: ISortingStrategy) {\n        this._sortStrategy = classRef;\n    }\n    /**\n    * Gets the function that compares values for grouping.\n    * ```typescript\n    * let groupingComparer = this.column.groupingComparer'\n    * ```\n    * @memberof IgxColumnComponent\n    */\n    @Input()\n    public get groupingComparer(): (a: any, b: any) => number {\n        return this._groupingComparer;\n    }\n    /**\n     * Sets a custom function to compare values for grouping.\n     * Subsequent values in the sorted data that the function returns 0 for are grouped.\n     * ```typescript\n     * this.column.groupingComparer = (a: any, b: any) => { return a === b ? 0 : -1; }\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public set groupingComparer(funcRef: (a: any, b: any) => number) {\n        this._groupingComparer = funcRef;\n    }\n    /**\n     * Gets the default minimum `width` of the column.\n     * ```typescript\n     * let defaultMinWidth =  this.column.defaultMinWidth;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get defaultMinWidth(): string {\n        if (!this.grid) { return '80'; }\n        switch (this.grid.displayDensity) {\n            case DisplayDensity.cosy:\n                return '64';\n            case DisplayDensity.compact:\n                return '56';\n            default:\n                return '80';\n        }\n    }\n    /**\n     * The reference to the `igx-grid` owner.\n     * ```typescript\n     * let gridComponent = this.column.grid;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public get grid(): IgxGridBaseDirective {\n        return this.gridAPI.grid;\n    }\n    /**\n     * Returns a reference to the `bodyTemplate`.\n     * ```typescript\n     * let bodyTemplate = this.column.bodyTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input('cellTemplate')\n    get bodyTemplate(): TemplateRef<any> {\n        return this._bodyTemplate;\n    }\n    /**\n     * Sets the body template.\n     * ```html\n     * <ng-template #bodyTemplate igxCell let-val>\n     *    <div style = \"background-color: yellowgreen\" (click) = \"changeColor(val)\">\n     *       <span> {{val}} </span>\n     *    </div>\n     * </ng-template>\n     * ```\n     * ```typescript\n     * @ViewChild(\"'bodyTemplate'\", {read: TemplateRef })\n     * public bodyTemplate: TemplateRef<any>;\n     * this.column.bodyTemplate = this.bodyTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set bodyTemplate(template: TemplateRef<any>) {\n        this._bodyTemplate = template;\n    }\n    /**\n     * Returns a reference to the header template.\n     * ```typescript\n     * let headerTemplate = this.column.headerTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input()\n    get headerTemplate(): TemplateRef<any> {\n        return this._headerTemplate;\n    }\n    /**\n     * Sets the header template.\n     * Note that the column header height is fixed and any content bigger than it will be cut off.\n     * ```html\n     * <ng-template #headerTemplate>\n     *   <div style = \"background-color:black\" (click) = \"changeColor(val)\">\n     *       <span style=\"color:red\" >{{column.field}}</span>\n     *   </div>\n     * </ng-template>\n     * ```\n     * ```typescript\n     * @ViewChild(\"'headerTemplate'\", {read: TemplateRef })\n     * public headerTemplate: TemplateRef<any>;\n     * this.column.headerTemplate = this.headerTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set headerTemplate(template: TemplateRef<any>) {\n        this._headerTemplate = template;\n    }\n    /**\n     * Returns a reference to the inline editor template.\n     * ```typescript\n     * let inlineEditorTemplate = this.column.inlineEditorTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input('cellEditorTemplate')\n    get inlineEditorTemplate(): TemplateRef<any> {\n        return this._inlineEditorTemplate;\n    }\n    /**\n     * Sets the inline editor template.\n     * ```html\n     * <ng-template #inlineEditorTemplate igxCellEditor let-cell=\"cell\">\n     *     <input type=\"string\" [(ngModel)]=\"cell.value\"/>\n     * </ng-template>\n     * ```\n     * ```typescript\n     * @ViewChild(\"'inlineEditorTemplate'\", {read: TemplateRef })\n     * public inlineEditorTemplate: TemplateRef<any>;\n     * this.column.inlineEditorTemplate = this.inlineEditorTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set inlineEditorTemplate(template: TemplateRef<any>) {\n        this._inlineEditorTemplate = template;\n    }\n    /**\n     * Returns a reference to the `filterCellTemplate`.\n     * ```typescript\n     * let filterCellTemplate = this.column.filterCellTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges()\n    @WatchColumnChanges()\n    @Input('filterCellTemplate')\n    get filterCellTemplate(): TemplateRef<any> {\n        return this._filterCellTemplate;\n    }\n    /**\n     * Sets the quick filter template.\n     * ```html\n     * <ng-template #filterCellTemplate IgxFilterCellTemplate let-column=\"column\">\n     *    <input (input)=\"onInput()\">\n     * </ng-template>\n     * ```\n     * ```typescript\n     * @ViewChild(\"'filterCellTemplate'\", {read: TemplateRef })\n     * public filterCellTemplate: TemplateRef<any>;\n     * this.column.filterCellTemplate = this.filterCellTemplate;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    set filterCellTemplate(template: TemplateRef<any>) {\n        this._filterCellTemplate = template;\n    }\n\n    /** @hidden */\n    @Input('collapsibleIndicatorTemplate')\n    public collapsibleIndicatorTemplate: TemplateRef<any>;\n    /**\n     * Gets the cells of the column.\n     * ```typescript\n     * let columnCells =  this.column.cells;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get cells(): IgxGridCellComponent[] {\n        return this.grid.rowList.filter((row) => row instanceof IgxRowDirective)\n            .map((row) => {\n                if (row.cells) {\n                    return row.cells.filter((cell) => cell.columnIndex === this.index);\n                }\n            }).reduce((a, b) => a.concat(b), []);\n    }\n    /**\n     * Gets the column visible index.\n     * If the column is not visible, returns `-1`.\n     * ```typescript\n     * let visibleColumnIndex =  this.column.visibleIndex;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get visibleIndex(): number {\n        if (!isNaN(this._vIndex)) {\n            return this._vIndex;\n        }\n        const unpinnedColumns = this.grid.unpinnedColumns.filter(c => !c.columnGroup);\n        const pinnedColumns = this.grid.pinnedColumns.filter(c => !c.columnGroup);\n        let col = this;\n        let vIndex = -1;\n\n        if (this.columnGroup) {\n            col = this.allChildren.filter(c => !c.columnGroup)[0] as any;\n        }\n        if (this.columnLayoutChild) {\n            return this.parent.childrenVisibleIndexes.find(x => x.column === this).index;\n        }\n\n        if (!this.pinned) {\n            const indexInCollection = unpinnedColumns.indexOf(col);\n            vIndex = indexInCollection === -1 ? -1 : pinnedColumns.length + indexInCollection;\n        } else {\n            vIndex = pinnedColumns.indexOf(col);\n        }\n        this._vIndex = vIndex;\n        return vIndex;\n    }\n    /**\n     * Returns a boolean indicating if the column is a `ColumnGroup`.\n     * ```typescript\n     * let columnGroup =  this.column.columnGroup;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get columnGroup() {\n        return false;\n    }\n    /**\n     * Returns a boolean indicating if the column is a `ColumnLayout` for multi-row layout.\n     * ```typescript\n     * let columnGroup =  this.column.columnGroup;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get columnLayout() {\n        return false;\n    }\n\n    /**\n    * Returns a boolean indicating if the column is a child of a `ColumnLayout` for multi-row layout.\n    * ```typescript\n    * let columnLayoutChild =  this.column.columnLayoutChild;\n    * ```\n    * @memberof IgxColumnComponent\n    */\n    get columnLayoutChild() {\n        return this.parent && this.parent.columnLayout;\n    }\n\n    /**\n     * Returns the children columns collection.\n     * Returns an empty array if the column does not contain children columns.\n     * ```typescript\n     * let childrenColumns =  this.column.allChildren;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get allChildren(): IgxColumnComponent[] {\n        return [];\n    }\n    /**\n     * Returns the level of the column in a column group.\n     * Returns `0` if the column doesn't have a `parent`.\n     * ```typescript\n     * let columnLevel =  this.column.level;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get level() {\n        let ptr = this.parent;\n        let lvl = 0;\n\n        while (ptr) {\n            lvl++;\n            ptr = ptr.parent;\n        }\n        return lvl;\n    }\n\n    get isLastPinned(): boolean {\n        return this.grid.pinnedColumns[this.grid.pinnedColumns.length - 1] === this;\n    }\n    get gridRowSpan(): number {\n        return this.rowEnd && this.rowStart ? this.rowEnd - this.rowStart : 1;\n    }\n    get gridColumnSpan(): number {\n        return this.colEnd && this.colStart ? this.colEnd - this.colStart : 1;\n    }\n\n    /**\n     * Row index where the current field should end.\n     * The amount of rows between rowStart and rowEnd will determine the amount of spanning rows to that field\n     * ```html\n     * <igx-column-layout>\n     *   <igx-column [rowEnd]=\"2\" [rowStart]=\"1\" [colStart]=\"1\"></igx-column>\n     * </igx-column-layout>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input()\n    public rowEnd: number;\n\n    /**\n     * Column index where the current field should end.\n     * The amount of columns between colStart and colEnd will determine the amount of spanning columns to that field\n     * ```html\n     * <igx-column-layout>\n     *   <igx-column [colEnd]=\"3\" [rowStart]=\"1\" [colStart]=\"1\"></igx-column>\n     * </igx-column-layout>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input()\n    public colEnd: number;\n\n    /**\n     * Row index from which the field is starting.\n     * ```html\n     * <igx-column-layout>\n     *   <igx-column [rowStart]=\"1\" [colStart]=\"1\"></igx-column>\n     * </igx-column-layout>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input() rowStart: number;\n\n    /**\n     * Column index from which the field is starting.\n     * ```html\n     * <igx-column-layout>\n     *   <igx-column [colStart]=\"1\" [rowStart]=\"1\"></igx-column>\n     * </igx-column-layout>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @Input() colStart: number;\n\n    /**\n     * Indicates whether the column will be visible when its parent is collapsed.\n     * ```html\n     * <igx-column-group>\n     *   <igx-column [visibleWhenCollapsed]=\"true\"></igx-column>\n     * </igx-column-group>\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    @notifyChanges(true)\n    @Input()\n    set visibleWhenCollapsed(value: boolean) {\n        this._visibleWhenCollapsed = value;\n        this.visibleWhenCollapsedChange.emit(this._visibleWhenCollapsed);\n        if (this.parent) { this.parent.setExpandCollapseState(); }\n    }\n\n    get visibleWhenCollapsed(): boolean {\n        return this._visibleWhenCollapsed;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public collapsible = false;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public expanded = true;\n\n    /**\n     * hidden\n     */\n    public defaultWidth: string;\n\n    /**\n     * hidden\n     */\n    public widthSetByUser: boolean;\n\n    /**\n     * Returns the filteringExpressionsTree of the column.\n     * ```typescript\n     * let tree =  this.column.filteringExpressionsTree;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get filteringExpressionsTree(): FilteringExpressionsTree {\n        return this.grid.filteringExpressionsTree.find(this.field) as FilteringExpressionsTree;\n    }\n    /**\n     * Sets/gets the parent column.\n     * ```typescript\n     * let parentColumn = this.column.parent;\n     * ```\n     * ```typescript\n     * this.column.parent = higherLevelColumn;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    parent = null;\n    /**\n     * Sets/gets the children columns.\n     * ```typescript\n     * let columnChildren = this.column.children;\n     * ```\n     * ```typescript\n     * this.column.children = childrenColumns;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    children: QueryList<IgxColumnComponent>;\n\n    /**\n     *@hidden\n     */\n    protected _unpinnedIndex;\n    /**\n     *@hidden\n     */\n    protected _pinned = false;\n    /**\n     *@hidden\n     */\n    protected _bodyTemplate: TemplateRef<any>;\n    /**\n     *@hidden\n     */\n    protected _headerTemplate: TemplateRef<any>;\n    /**\n     *@hidden\n     */\n    protected _inlineEditorTemplate: TemplateRef<any>;\n    /**\n     *@hidden\n     */\n    protected _filterCellTemplate: TemplateRef<any>;\n    /**\n     *@hidden\n     */\n    protected _collapseIndicatorTemplate: TemplateRef<any>;\n    /**\n     *@hidden\n     */\n    protected _summaries = null;\n    /**\n     *@hidden\n     */\n    protected _filters = null;\n    /**\n     *@hidden\n     */\n    protected _sortStrategy: ISortingStrategy = DefaultSortingStrategy.instance();\n    /**\n     *@hidden\n     */\n    protected _groupingComparer: (a: any, b: any) => number;\n    /**\n     *@hidden\n     */\n    protected _hidden = false;\n    /**\n     *@hidden\n     */\n    protected _index: number;\n    /**\n     *@hidden\n     */\n    protected _disablePinning = false;\n    /**\n     *@hidden\n     */\n    protected _width: string;\n    /**\n     *@hidden\n     */\n    protected _defaultMinWidth = '';\n    /**\n     *@hidden\n     */\n    protected _hasSummary = false;\n    /**\n     * @hidden\n     */\n    protected _editable: boolean;\n    /**\n     *  @hidden\n    */\n    protected _visibleWhenCollapsed;\n    /**\n     * @hidden\n     */\n    protected _collapsible = false;\n    /**\n     * @hidden\n     */\n    protected _expanded = true;\n    /**\n     * @hidden\n     */\n    protected get isPrimaryColumn(): boolean {\n        return this.field !== undefined && this.grid !== undefined && this.field === this.grid.primaryKey;\n    }\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxCellTemplateDirective, { read: IgxCellTemplateDirective })\n    protected cellTemplate: IgxCellTemplateDirective;\n    /**\n     *@hidden\n     */\n    @ContentChildren(IgxCellHeaderTemplateDirective, { read: IgxCellHeaderTemplateDirective, descendants: false })\n    protected headTemplate: QueryList<IgxCellHeaderTemplateDirective>;\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxCellEditorTemplateDirective, { read: IgxCellEditorTemplateDirective })\n    protected editorTemplate: IgxCellEditorTemplateDirective;\n\n    protected _vIndex = NaN;\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxFilterCellTemplateDirective, { read: IgxFilterCellTemplateDirective })\n    public filterCellTemplateDirective: IgxFilterCellTemplateDirective;\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxCollapsibleIndicatorTemplateDirective, { read: IgxCollapsibleIndicatorTemplateDirective, static: false })\n    protected collapseIndicatorTemplate:  IgxCollapsibleIndicatorTemplateDirective;\n\n    constructor(public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>, public cdr: ChangeDetectorRef,\n        public rowIslandAPI: IgxRowIslandAPIService) { }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public resetCaches() {\n        this._vIndex = NaN;\n        if (this.grid) {\n            this.cacheCalcWidth();\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    public ngAfterContentInit(): void {\n        if (this.cellTemplate) {\n            this._bodyTemplate = this.cellTemplate.template;\n        }\n        if (this.headTemplate && this.headTemplate.length) {\n            this._headerTemplate = this.headTemplate.toArray()[0].template;\n        }\n        if (this.editorTemplate) {\n            this._inlineEditorTemplate = this.editorTemplate.template;\n        }\n        if (this.filterCellTemplateDirective) {\n            this._filterCellTemplate = this.filterCellTemplateDirective.template;\n        }\n        if (!this.summaries) {\n            switch (this.dataType) {\n                case DataType.String:\n                case DataType.Boolean:\n                    this.summaries = IgxSummaryOperand;\n                    break;\n                case DataType.Number:\n                    this.summaries = IgxNumberSummaryOperand;\n                    break;\n                case DataType.Date:\n                    this.summaries = IgxDateSummaryOperand;\n                    break;\n                default:\n                    this.summaries = IgxSummaryOperand;\n                    break;\n            }\n        }\n        if (!this.filters) {\n            switch (this.dataType) {\n                case DataType.Boolean:\n                    this.filters = IgxBooleanFilteringOperand.instance();\n                    break;\n                case DataType.Number:\n                    this.filters = IgxNumberFilteringOperand.instance();\n                    break;\n                case DataType.Date:\n                    this.filters = IgxDateFilteringOperand.instance();\n                    break;\n                case DataType.String:\n                default:\n                    this.filters = IgxStringFilteringOperand.instance();\n                    break;\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    getGridTemplate(isRow: boolean, isIE: boolean): string {\n        if (isRow) {\n            const rowsCount = this.grid.multiRowLayoutRowSize;\n            return isIE ?\n                `(1fr)[${rowsCount}]` :\n                `repeat(${rowsCount},1fr)`;\n        } else {\n            return this.getColumnSizesString(this.children);\n        }\n    }\n\n    public getInitialChildColumnSizes(children: QueryList<IgxColumnComponent>): Array<MRLColumnSizeInfo> {\n        const columnSizes: MRLColumnSizeInfo[] = [];\n        // find the smallest col spans\n        children.forEach(col => {\n            if (!col.colStart) {\n                return;\n            }\n            const newWidthSet = col.widthSetByUser && columnSizes[col.colStart - 1] && !columnSizes[col.colStart - 1].widthSetByUser;\n            const newSpanSmaller = columnSizes[col.colStart - 1] && columnSizes[col.colStart - 1].colSpan > col.gridColumnSpan;\n            const bothWidthsSet = col.widthSetByUser && columnSizes[col.colStart - 1] && columnSizes[col.colStart - 1].widthSetByUser;\n            const bothWidthsNotSet = !col.widthSetByUser && columnSizes[col.colStart - 1] && !columnSizes[col.colStart - 1].widthSetByUser;\n\n            if (columnSizes[col.colStart - 1] === undefined) {\n                // If nothing is defined yet take any column at first\n                // We use colEnd to know where the column actually ends, because not always it starts where we have it set in columnSizes.\n                columnSizes[col.colStart - 1] = {\n                    ref: col,\n                    width: col.widthSetByUser || this.grid.columnWidthSetByUser ? parseInt(col.calcWidth, 10) : null,\n                    colSpan: col.gridColumnSpan,\n                    colEnd: col.colStart + col.gridColumnSpan,\n                    widthSetByUser: col.widthSetByUser\n                };\n            } else if (newWidthSet || (newSpanSmaller && ((bothWidthsSet) || (bothWidthsNotSet)))) {\n                // If a column is set already it should either not have width defined or have width with bigger span than the new one.\n\n                /**\n                 *  If replaced column has bigger span, we want to fill the remaining columns\n                 *  that the replacing column does not fill with the old one.\n                 **/\n                if (bothWidthsSet && newSpanSmaller) {\n                    // Start from where the new column set would end and apply the old column to the rest depending on how much it spans.\n                    // We have not yet replaced it so we can use it directly from the columnSizes collection.\n                    // This is where colEnd is used because the colStart of the old column is not actually i + 1.\n                    for (let i = col.colStart - 1 + col.gridColumnSpan; i < columnSizes[col.colStart - 1].colEnd - 1; i++) {\n                        if (!columnSizes[i] || !columnSizes[i].widthSetByUser) {\n                            columnSizes[i] = columnSizes[col.colStart - 1];\n                        } else {\n                            break;\n                        }\n                    }\n                }\n\n                // Replace the old column with the new one.\n                columnSizes[col.colStart - 1] = {\n                    ref: col,\n                    width: col.widthSetByUser || this.grid.columnWidthSetByUser ? parseInt(col.calcWidth, 10) : null,\n                    colSpan: col.gridColumnSpan,\n                    colEnd: col.colStart + col.gridColumnSpan,\n                    widthSetByUser: col.widthSetByUser\n                };\n            } else if (bothWidthsSet && columnSizes[col.colStart - 1].colSpan < col.gridColumnSpan) {\n                // If the column already in the columnSizes has smaller span, we still need to fill any empty places with the current col.\n                // Start from where the smaller column set would end and apply the bigger column to the rest depending on how much it spans.\n                // Since here we do not have it in columnSizes we set it as a new column keeping the same colSpan.\n                for (let i = col.colStart - 1 + columnSizes[col.colStart - 1].colSpan; i < col.colStart - 1 + col.gridColumnSpan; i++) {\n                    if (!columnSizes[i] || !columnSizes[i].widthSetByUser) {\n                        columnSizes[i] = {\n                            ref: col,\n                            width: col.widthSetByUser || this.grid.columnWidthSetByUser ? parseInt(col.calcWidth, 10) : null,\n                            colSpan: col.gridColumnSpan,\n                            colEnd: col.colStart + col.gridColumnSpan,\n                            widthSetByUser: col.widthSetByUser\n                        };\n                    } else {\n                        break;\n                    }\n                }\n            }\n        });\n\n        // Flatten columnSizes so there are not columns with colSpan > 1\n        for (let i = 0; i < columnSizes.length; i++) {\n            if (columnSizes[i] && columnSizes[i].colSpan > 1) {\n                let j = 1;\n\n                // Replace all empty places depending on how much the current column spans starting from next col.\n                for (; j < columnSizes[i].colSpan && i + j + 1 < columnSizes[i].colEnd; j++) {\n                    if (columnSizes[i + j] &&\n                        ((!columnSizes[i].width && columnSizes[i + j].width) ||\n                            (!columnSizes[i].width && !columnSizes[i + j].width && columnSizes[i + j].colSpan <= columnSizes[i].colSpan) ||\n                            (!!columnSizes[i + j].width && columnSizes[i + j].colSpan <= columnSizes[i].colSpan))) {\n                        // If we reach an already defined column that has width and the current doesn't have or\n                        // if the reached column has bigger colSpan we stop.\n                        break;\n                    } else {\n                        const width = columnSizes[i].widthSetByUser ?\n                            columnSizes[i].width / columnSizes[i].colSpan :\n                            columnSizes[i].width;\n                        columnSizes[i + j] = {\n                            ref: columnSizes[i].ref,\n                            width: width,\n                            colSpan: 1,\n                            colEnd: columnSizes[i].colEnd,\n                            widthSetByUser: columnSizes[i].widthSetByUser\n                        };\n                    }\n                }\n\n                // Update the current column width so it is divided between all columns it spans and set it to 1.\n                columnSizes[i].width = columnSizes[i].widthSetByUser ?\n                    columnSizes[i].width / columnSizes[i].colSpan :\n                    columnSizes[i].width;\n                columnSizes[i].colSpan = 1;\n\n                // Update the index based on how much we have replaced. Subtract 1 because we started from 1.\n                i += j - 1;\n            }\n        }\n\n        return columnSizes;\n    }\n\n    public getFilledChildColumnSizes(children: QueryList<IgxColumnComponent>): Array<string> {\n        const columnSizes = this.getInitialChildColumnSizes(children);\n\n        // fill the gaps if there are any\n        const result: string[] = [];\n        for (let i = 0; i < columnSizes.length; i++) {\n            if (columnSizes[i] && !!columnSizes[i].width) {\n                result.push(columnSizes[i].width + 'px');\n            } else {\n                result.push(parseInt(this.grid.getPossibleColumnWidth(), 10) + 'px');\n            }\n        }\n        return result;\n    }\n\n    protected getColumnSizesString(children: QueryList<IgxColumnComponent>): string {\n        const res = this.getFilledChildColumnSizes(children);\n        return res.join(' ');\n    }\n\n    public getResizableColUnderEnd(): MRLResizeColumnInfo[] {\n        if (this.columnLayout || !this.columnLayoutChild || this.columnGroup) {\n            return [{ target: this, spanUsed: 1 }];\n        }\n\n        const columnSized = this.getInitialChildColumnSizes(this.parent.children);\n        const targets: MRLResizeColumnInfo[] = [];\n        const colEnd = this.colEnd ? this.colEnd : this.colStart + 1;\n\n        for (let i = 0; i < columnSized.length; i++) {\n            if (this.colStart <= i + 1 && i + 1 < colEnd) {\n                targets.push({ target: columnSized[i].ref, spanUsed: 1 });\n            }\n        }\n\n        const targetsSquashed: MRLResizeColumnInfo[] = [];\n        for (let j = 0; j < targets.length; j++) {\n            if (targetsSquashed.length && targetsSquashed[targetsSquashed.length - 1].target.field === targets[j].target.field) {\n                targetsSquashed[targetsSquashed.length - 1].spanUsed++;\n            } else {\n                targetsSquashed.push(targets[j]);\n            }\n        }\n\n        return targetsSquashed;\n    }\n\n    /**\n     * Pins the column at the provided index in the pinned area. Defaults to index `0` if not provided.\n     * Returns `true` if the column is successfully pinned. Returns `false` if the column cannot be pinned.\n     * Column cannot be pinned if:\n     * - Is already pinned\n     * - index argument is out of range\n     * - The pinned area exceeds 80% of the grid width\n     * ```typescript\n     * let success = this.column.pin();\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public pin(index?: number): boolean {\n        // TODO: Probably should the return type of the old functions\n        // should be moved as a event parameter.\n        if (this.grid) {\n            this.grid.endEdit(true);\n        }\n        if (this._pinned) {\n            return false;\n        }\n\n        if (this.parent && !this.parent.pinned) {\n            return this.topLevelParent.pin(index);\n        }\n\n        const grid = (this.grid as any);\n        const hasIndex = index !== undefined;\n        if (hasIndex && (index < 0 || index >= grid.pinnedColumns.length)) {\n            return false;\n        }\n\n        if (!this.parent && !this.pinnable) {\n            return false;\n        }\n\n        this._pinned = true;\n        this.pinnedChange.emit(this._pinned);\n        this._unpinnedIndex = grid._unpinnedColumns.indexOf(this);\n        index = index !== undefined ? index : grid._pinnedColumns.length;\n        const targetColumn = grid._pinnedColumns[index];\n        const args = { column: this, insertAtIndex: index, isPinned: true };\n        grid.onColumnPinning.emit(args);\n\n        if (grid._pinnedColumns.indexOf(this) === -1) {\n            grid._pinnedColumns.splice(args.insertAtIndex, 0, this);\n\n            if (grid._unpinnedColumns.indexOf(this) !== -1) {\n                grid._unpinnedColumns.splice(grid._unpinnedColumns.indexOf(this), 1);\n            }\n        }\n\n        if (hasIndex) {\n            grid._moveColumns(this, targetColumn);\n        }\n\n        if (this.columnGroup) {\n            this.allChildren.forEach(child => child.pin());\n            grid.reinitPinStates();\n        }\n\n        grid.resetCaches();\n        grid.notifyChanges();\n        if (this.columnLayoutChild) {\n            this.grid.columns.filter(x => x.columnLayout).forEach(x => x.populateVisibleIndexes());\n        }\n        this.grid.filteringService.refreshExpressions();\n        return true;\n    }\n    /**\n     * Unpins the column and place it at the provided index in the unpinned area. Defaults to index `0` if not provided.\n     * Returns `true` if the column is successfully unpinned. Returns `false` if the column cannot be unpinned.\n     * Column cannot be unpinned if:\n     * - Is already unpinned\n     * - index argument is out of range\n     * ```typescript\n     * let success = this.column.unpin();\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public unpin(index?: number): boolean {\n        if (this.grid) {\n            this.grid.endEdit(true);\n        }\n        if (!this._pinned) {\n            return false;\n        }\n\n        if (this.parent && this.parent.pinned) {\n            return this.topLevelParent.unpin(index);\n        }\n\n        const grid = (this.grid as any);\n        const hasIndex = index !== undefined;\n        if (hasIndex && (index < 0 || index >= grid._unpinnedColumns.length)) {\n            return false;\n        }\n\n        index = (index !== undefined ? index :\n            this._unpinnedIndex !== undefined ? this._unpinnedIndex : this.index);\n        this._pinned = false;\n        this.pinnedChange.emit(this._pinned);\n\n        const targetColumn = grid._unpinnedColumns[index];\n\n        grid._unpinnedColumns.splice(index, 0, this);\n        if (grid._pinnedColumns.indexOf(this) !== -1) {\n            grid._pinnedColumns.splice(grid._pinnedColumns.indexOf(this), 1);\n        }\n\n        if (hasIndex) {\n            grid._moveColumns(this, targetColumn);\n        }\n\n        if (this.columnGroup) {\n            this.allChildren.forEach(child => child.unpin());\n        }\n\n        grid.reinitPinStates();\n        grid.resetCaches();\n\n        const insertAtIndex = grid._unpinnedColumns.indexOf(this);\n        const args = { column: this, insertAtIndex, isPinned: false };\n        grid.onColumnPinning.emit(args);\n\n        grid.notifyChanges();\n        if (this.columnLayoutChild) {\n            this.grid.columns.filter(x => x.columnLayout).forEach(x => x.populateVisibleIndexes());\n        }\n        this.grid.filteringService.refreshExpressions();\n\n        return true;\n    }\n    /**\n     * Returns a reference to the top level parent column.\n     * ```typescript\n     * let topLevelParent =  this.column.topLevelParent;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get topLevelParent() {\n        let parent = this.parent;\n        while (parent && parent.parent) {\n            parent = parent.parent;\n        }\n        return parent;\n    }\n\n    /**\n     * Returns a reference to the header of the column.\n     * ```typescript\n     * let column = this.grid.columnList.filter(c => c.field === 'ID')[0];\n     * let headerCell = column.headerCell;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get headerCell(): IgxGridHeaderComponent {\n        return this.grid.headerCellList.find((header) => header.column === this);\n    }\n\n    /**\n    * Returns a reference to the filter cell of the column.\n    * ```typescript\n    * let column = this.grid.columnList.filter(c => c.field === 'ID')[0];\n    * let filterell = column.filterell;\n    * ```\n    * @memberof IgxColumnComponent\n    */\n    get filterCell(): IgxGridFilteringCellComponent {\n        return this.grid.filterCellList.find((filterCell) => filterCell.column === this);\n    }\n\n    /**\n     * Returns a reference to the header group of the column.\n     * @memberof IgxColumnComponent\n     */\n    get headerGroup(): IgxGridHeaderGroupComponent {\n        return this.grid.headerGroupsList.find((headerGroup) => headerGroup.column === this);\n    }\n\n    /**\n     * Autosize the column to the longest currently visible cell value, including the header cell.\n     * ```typescript\n     * @ViewChild('grid') grid: IgxGridComponent;\n     * let column = this.grid.columnList.filter(c => c.field === 'ID')[0];\n     * column.autosize();\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public autosize() {\n        if (!this.columnGroup) {\n\n            this.width = this.getLargestCellWidth();\n            this.grid.reflow();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public getCalcWidth(): any {\n        if (this._calcWidth !== null && !isNaN(this.calcPixelWidth)) {\n            return this._calcWidth;\n        }\n        this.cacheCalcWidth();\n        return this._calcWidth;\n    }\n\n    /**\n     * @hidden\n     * Returns the size (in pixels) of the longest currently visible cell, including the header cell.\n     * ```typescript\n     * @ViewChild('grid') grid: IgxGridComponent;\n     *\n     * let column = this.grid.columnList.filter(c => c.field === 'ID')[0];\n     * let size = column.getLargestCellWidth();\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    public getLargestCellWidth(): string {\n        const range = this.grid.document.createRange();\n        const largest = new Map<number, number>();\n\n        if (this.cells.length > 0) {\n            let cellsContentWidths = [];\n            if (this.cells[0].nativeElement.children.length > 0) {\n                this.cells.forEach((cell) => cellsContentWidths.push(cell.calculateSizeToFit(range)));\n            } else {\n                cellsContentWidths = this.cells.map((cell) => getNodeSizeViaRange(range, cell.nativeElement));\n            }\n\n            const index = cellsContentWidths.indexOf(Math.max(...cellsContentWidths));\n            const cellStyle = this.grid.document.defaultView.getComputedStyle(this.cells[index].nativeElement);\n            const cellPadding = parseFloat(cellStyle.paddingLeft) + parseFloat(cellStyle.paddingRight) +\n                parseFloat(cellStyle.borderRightWidth);\n\n            largest.set(Math.max(...cellsContentWidths), cellPadding);\n        }\n\n        if (this.headerCell) {\n            let headerCell;\n            if (this.headerTemplate && this.headerCell.elementRef.nativeElement.children[0].children.length > 0) {\n                headerCell = Math.max(...Array.from(this.headerCell.elementRef.nativeElement.children[0].children)\n                    .map((child) => getNodeSizeViaRange(range, child)));\n            } else {\n                headerCell = getNodeSizeViaRange(range, this.headerCell.elementRef.nativeElement.children[0]);\n            }\n\n            if (this.sortable || this.filterable) {\n                headerCell += this.headerCell.elementRef.nativeElement.children[1].getBoundingClientRect().width;\n            }\n\n            const headerStyle = this.grid.document.defaultView.getComputedStyle(this.headerCell.elementRef.nativeElement);\n            const headerPadding = parseFloat(headerStyle.paddingLeft) + parseFloat(headerStyle.paddingRight) +\n                parseFloat(headerStyle.borderRightWidth);\n            largest.set(headerCell, headerPadding);\n\n        }\n\n        const largestCell = Math.max(...Array.from(largest.keys()));\n        const width = Math.ceil(largestCell + largest.get(largestCell));\n\n        if (Number.isNaN(width)) {\n            return this.width;\n        } else {\n            return width + 'px';\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    public getCellWidth() {\n        const colWidth = this.width;\n        const isPercentageWidth = colWidth && typeof colWidth === 'string' && colWidth.indexOf('%') !== -1;\n\n        if (this.columnLayoutChild) {\n            return '';\n        }\n\n        if (colWidth && !isPercentageWidth) {\n\n            let cellWidth = colWidth;\n            if (typeof cellWidth !== 'string' || cellWidth.endsWith('px') === false) {\n                cellWidth += 'px';\n            }\n\n            return cellWidth;\n        } else {\n            return colWidth;\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected cacheCalcWidth(): any {\n        const grid = this.gridAPI.grid;\n        const colWidth = this.width;\n        const isPercentageWidth = colWidth && typeof colWidth === 'string' && colWidth.indexOf('%') !== -1;\n        if (isPercentageWidth) {\n            this._calcWidth = parseInt(colWidth, 10) / 100 * (grid.calcWidth - grid.featureColumnsWidth());\n        } else if (!colWidth) {\n            // no width\n            this._calcWidth = this.defaultWidth || grid.getPossibleColumnWidth();\n        } else {\n            this._calcWidth = this.width;\n        }\n        this.calcPixelWidth = parseInt(this._calcWidth, 10);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected setExpandCollapseState() {\n        this.children.filter(col => (col.visibleWhenCollapsed !== undefined)).forEach(c =>  {\n            if (!this.collapsible) { c.hidden = this.hidden; return; }\n            c.hidden = this._expanded ? c.visibleWhenCollapsed : !c.visibleWhenCollapsed;\n        });\n    }\n     /**\n     * @hidden\n     * @internal\n     */\n    protected checkCollapsibleState() {\n        if (!this.children) { return false; }\n        const cols = this.children.map(child => child.visibleWhenCollapsed);\n        return (cols.some(c => c === true) && cols.some(c => c === false));\n    }\n\n    /**\n     *@hidden\n    */\n    public get pinnable() {\n        return (this.grid as any)._init || !this.pinned;\n    }\n\n    /**\n     * @hidden\n     */\n    public populateVisibleIndexes() { }\n}\n","import { Directive } from '@angular/core';\nimport { ConnectedPositioningStrategy } from '../services';\nimport { VerticalAlignment, PositionSettings } from '../services/overlay/utilities';\nimport { scaleInVerBottom, scaleInVerTop } from '../animations/main';\nimport { IgxForOfSyncService } from '../directives/for-of/for_of.sync.service';\n\n\n@Directive({\n    selector: '[igxGridBody]',\n    providers: [IgxForOfSyncService]\n})\nexport class IgxGridBodyDirective {}\n\n\n/**\n * @hidden\n */\nexport interface RowEditPositionSettings extends PositionSettings {\n    container?: HTMLElement;\n}\n\n/**\n * @hidden\n */\nexport class RowEditPositionStrategy extends ConnectedPositioningStrategy {\n    isTop = false;\n    isTopInitialPosition = null;\n    public settings: RowEditPositionSettings;\n    position(contentElement: HTMLElement, size: { width: number, height: number }, document?: Document, initialCall?: boolean): void {\n        const container = this.settings.container; // grid.tbody\n        const target = <HTMLElement>this.settings.target; // current grid.row\n\n        // Position of the overlay depends on the available space in the grid.\n        // If the bottom space is not enough then the the row overlay will show at the top of the row.\n        // Once shown, either top or bottom, then this position stays until the overlay is closed (isTopInitialPosition property),\n        // which means that when scrolling then overlay may hide, while the row is still visible (UX requirement).\n        this.isTop = this.isTopInitialPosition !== null ?\n            this.isTopInitialPosition :\n            container.getBoundingClientRect().bottom <\n                target.getBoundingClientRect().bottom + contentElement.getBoundingClientRect().height;\n\n        // Set width of the row editing overlay to equal row width, otherwise it fits 100% of the grid.\n        contentElement.style.width = target.clientWidth + 'px';\n        this.settings.verticalStartPoint = this.settings.verticalDirection = this.isTop ? VerticalAlignment.Top : VerticalAlignment.Bottom;\n        this.settings.openAnimation = this.isTop ? scaleInVerBottom : scaleInVerTop;\n\n        super.position(contentElement, { width: target.clientWidth, height: target.clientHeight }, document, initialCall);\n    }\n}\n","import { EventEmitter, Input, Output, Directive } from '@angular/core';\nimport { IBaseEventArgs } from '../core/utils';\n\nexport interface IValueChangedEventArgs extends IBaseEventArgs {\n    oldValue: any;\n    newValue: any;\n}\n\n/**\n *@hidden\n */\n@Directive()\nexport abstract class ItemPropertyValueChangedDirective {\n    private _object: any;\n    private _propName: string;\n\n    get object() {\n        return this._object;\n    }\n\n    set object(value) {\n        if (value) {\n            this._object = value;\n        }\n    }\n\n    @Input()\n    get value() {\n        return (this.object) ? this.object[this._propName] : null;\n    }\n\n    set value(value) {\n        this.onValueChanged(value);\n    }\n\n    @Output()\n    public valueChanged = new EventEmitter<IValueChangedEventArgs>();\n\n    constructor(propName: string) {\n        this._propName = propName;\n    }\n\n    protected onValueChanged(value) {\n        const currentValue = this.value;\n        if (value !== currentValue) {\n            this.object[this._propName] = value;\n            this.valueChanged.emit({ oldValue: currentValue, newValue: value });\n        }\n    }\n}\n\n/** @hidden */\n@Directive()\nexport class ColumnChooserItemBaseDirective extends ItemPropertyValueChangedDirective {\n    @Input()\n    get column() {\n        return this.object;\n    }\n\n    set column(value) {\n        if (value) {\n            this.object = value;\n        }\n    }\n\n    @Input()\n    public indentation = 30;\n\n    @Input()\n    public container: any;\n\n    constructor(public prop: string) {\n        super(prop);\n    }\n\n    get name() {\n        return (this.column) ? ((this.column.header) ? this.column.header : this.column.field) : '';\n    }\n\n    get level() {\n        return this.column.level;\n    }\n\n    get calcIndent() {\n        return this.indentation * this.level;\n    }\n}\n","\nimport { Directive } from '@angular/core';\nimport { ColumnChooserItemBaseDirective } from '../column-chooser-item-base';\nimport { IBaseEventArgs } from '../../core/utils';\n\nexport interface IColumnVisibilityChangedEventArgs extends IBaseEventArgs {\n    column: any;\n    newValue: boolean;\n}\n\n/** @hidden */\n@Directive({\n    selector: '[igxColumnHidingItem]'\n})\nexport class IgxColumnHidingItemDirective extends ColumnChooserItemBaseDirective {\n\n    constructor() {\n        super('hidden');\n    }\n\n    get disabled() {\n        return this.column.disableHiding;\n    }\n}\n","import { ChangeDetectorRef, HostBinding, Input, OnDestroy, Directive } from '@angular/core';\nimport { IgxStringFilteringOperand } from '../data-operations/filtering-condition';\nimport { FilteringExpressionsTree, IFilteringExpressionsTree } from '../data-operations/filtering-expressions-tree';\nimport { FilteringLogic, IFilteringExpression } from '../data-operations/filtering-expression.interface';\nimport { FilteringStrategy } from '../data-operations/filtering-strategy';\nimport { ColumnChooserItemBaseDirective } from './column-chooser-item-base';\nimport { ColumnDisplayOrder } from './common/enums';\n\nclass CustomFilteringStrategy extends FilteringStrategy {\n    public filter(data: any[], expressionsTree: IFilteringExpressionsTree): any[] {\n        const res: ColumnChooserItemBaseDirective[] = [];\n        data.forEach((item: ColumnChooserItemBaseDirective) => {\n            if (this.matchRecord(item, expressionsTree.filteringOperands[0] as IFilteringExpression)) {\n                res.push(item);\n            } else if (item.column.columnGroup) {\n                if (item.column.allChildren.findIndex((child) =>\n                    this.matchRecord(child, expressionsTree.filteringOperands[1] as IFilteringExpression) ||\n                    this.matchRecord(child, expressionsTree.filteringOperands[2] as IFilteringExpression)) > -1) {\n                    res.push(item);\n                }\n            }\n        });\n\n        return res;\n    }\n}\n\n/** @hidden */\n@Directive()\nexport abstract class ColumnChooserBaseDirective implements OnDestroy {\n    /**\n     * Gets the grid columns that are going to be manipulated.\n     * ```typescript\n     * let gridColumns = this.columnHidingUI.columns;\n     * ```\n     */\n\n    @Input()\n    get columns() {\n        return this._gridColumns;\n    }\n    /**\n     * Sets the the grid columns that are going to be manipulated.\n     * ```html\n     * <igx-column-hiding [columns]=\"grid.columns\"></igx-column-hiding>\n     * ```\n     */\n    set columns(value) {\n        if (value) {\n            this._gridColumns = value;\n            this.createColumnItems();\n            if (this.filterCriteria) {\n                this.filter();\n            }\n        }\n    }\n    /**\n     * Sets/gets the title of the column chooser.\n     * ```typescript\n     * let title =  this.columnHidingUI.title;\n     * ```\n     */\n    @Input()\n    get title() {\n        return this._title;\n    }\n    /**\n     * ```html\n     * <igx-column-hiding [title]=\"'IgxColumnHidingComponent Title'\"></igx-column-hiding>\n     * ```\n     */\n    set title(value) {\n        this._title = (value) ? value : '';\n    }\n    /**\n     * Gets the prompt that is displayed in the filter input.\n     * ```typescript\n     * let filterColumnsPrompt =  this.columnHidingUI.filterColumnsPrompt;\n     * ```\n     */\n    @Input()\n    get filterColumnsPrompt() {\n        return this._filterColumnsPrompt;\n    }\n    /**\n     * Sets the prompt that is going to be displayed in the filter input.\n     * ```html\n     * <igx-column-hiding [filterColumnsPrompt]=\"'Type here to search'\"></igx-column-hiding>\n     * ```\n     */\n    set filterColumnsPrompt(value) {\n        this._filterColumnsPrompt = (value) ? value : '';\n    }\n    /**\n     * Hides/ shows the filtering columns input from the UI.\n     */\n    @Input()\n    public disableFilter = false;\n    /**\n     * Gets the items of the selected columns.\n     * ```typescript\n     * let columnItems =  this.columnHidingUI.columnItems;\n     * ```\n     */\n    @Input()\n    get columnItems() {\n        return this._currentColumns;\n    }\n    /**\n     * Gets the value which filters the columns list.\n     * ```typescript\n     * let filterCriteria =  this.columnHidingUI.filterCriteria;\n     * ```\n     */\n    @Input()\n    get filterCriteria() {\n        return this._filterCriteria;\n    }\n\n    /**\n     * Sets the value which filters the columns list.\n     * ```html\n     *  <igx-column-hiding [filterCriteria]=\"'ID'\"></igx-column-hiding>\n     * ```\n     */\n    set filterCriteria(value) {\n        if (!value || value.length === 0) {\n            this.clearFiltering();\n            this._filterCriteria = '';\n            this.cdr.detectChanges();\n            return;\n        } else if (this._filterCriteria && this._filterCriteria.length > value.length) {\n            this.clearFiltering();\n        }\n\n        this._filterCriteria = value;\n        this.filter();\n        this.cdr.detectChanges();\n    }\n    /**\n     * Gets the display order of the columns.\n     * ```typescript\n     * let columnDisplayOrder  =  this.columnHidingUI.columnDisplayOrder;\n     * ```\n     */\n    @Input()\n    get columnDisplayOrder() {\n        return this._columnDisplayOrder;\n    }\n    /**\n     * Sets the display order of the columns.\n     * ```typescript\n     * this.columnHidingUI.columnDisplayOrder = ColumnDisplayOrder.Alphabetical;\n     * ```\n     */\n    set columnDisplayOrder(value: ColumnDisplayOrder) {\n        if (value !== undefined) {\n            this.orderColumns(value);\n            if (this._filterCriteria.length > 0) {\n                this.filter();\n            }\n        }\n    }\n    /**\n     * Access to the columnHidingUI:\n     * ```typescript\n     * @ViewChild('column-hiding-component')\n     *  public columnHidingUI: IgxColumnHidingComponent;\n     * ```\n     * Sets/gets the max height of the column area.\n     * ```typescript\n     * let columnsAreaMaxHeight =  this.columnHidingUI.columnsAreaMaxHeight;\n     * ```\n     *\n     * ```html\n     * <igx-column-hiding [columnsAreaMaxHeight]=\"200px\"></igx-column-hiding>\n     * ```\n     */\n    @Input()\n    public columnsAreaMaxHeight = '100%';\n    /**\n     * Sets/Gets the css class selector.\n     * By default the value of the `class` attribute is `\"igx-column-hiding\"`.\n     * ```typescript\n     * let cssCLass =  this.columnHidingUI.cssClass;\n     * ```\n     * ```typescript\n     * this.columnHidingUI.cssClass = 'column-chooser';\n     * ```\n     */\n    @HostBinding('attr.class')\n    public cssClass = 'igx-column-hiding';\n    /**\n     *@hidden\n     */\n    private _currentColumns = [];\n    /**\n     *@hidden\n     */\n    private _gridColumns = [];\n    /**\n     *@hidden\n     */\n    private _rawColumns = [];\n    /**\n     *@hidden\n     */\n    private _columnDisplayOrder = ColumnDisplayOrder.DisplayOrder;\n    /**\n     *@hidden\n     */\n    private _filterCriteria = '';\n    /**\n     *@hidden\n     */\n    private _filterColumnsPrompt = '';\n    /**\n     *@hidden\n     */\n    private _title = '';\n\n    constructor(public cdr: ChangeDetectorRef) {\n    }\n    /**\n     *@hidden\n     */\n    ngOnDestroy() {\n        for (const item of this._currentColumns) {\n            item.valueChanged.unsubscribe();\n        }\n    }\n    /**\n     *@hidden\n     */\n    private createColumnItems() {\n        if (this._gridColumns.length > 0) {\n            this._rawColumns = [];\n            this._gridColumns.forEach((column) => {\n                const item = this.createColumnItem(this, column);\n                if (item) {\n                    this._rawColumns.push(item);\n                }\n            });\n            this._currentColumns = this._rawColumns.slice(0);\n            this.orderColumns(this._columnDisplayOrder);\n        }\n    }\n    /**\n     *@hidden\n     */\n    protected abstract createColumnItem(container: any, column: any);\n    /**\n     *@hidden\n     */\n    private orderColumns(value) {\n        this._columnDisplayOrder = value;\n        if (value === ColumnDisplayOrder[ColumnDisplayOrder.Alphabetical] ||\n            value === ColumnDisplayOrder.Alphabetical) {\n            this._currentColumns = this._rawColumns.slice(0).sort((current, next) => {\n                return current.name.toLowerCase().localeCompare(next.name.toLowerCase());\n            });\n        } else {\n            this._currentColumns = this._rawColumns;\n        }\n    }\n    /**\n     *@hidden\n     */\n    protected filter() {\n        const filteringExpressionsTree = new FilteringExpressionsTree(FilteringLogic.Or);\n        filteringExpressionsTree.filteringOperands.push(this.createFilteringExpression('name'));\n        filteringExpressionsTree.filteringOperands.push(this.createFilteringExpression('field'));\n        filteringExpressionsTree.filteringOperands.push(this.createFilteringExpression('header'));\n\n        const strategy = new CustomFilteringStrategy();\n        this._currentColumns = strategy.filter(this._currentColumns, filteringExpressionsTree);\n    }\n    /**\n     *@hidden\n     */\n    protected createFilteringExpression(fieldName: string): IFilteringExpression {\n        return {\n            condition: IgxStringFilteringOperand.instance().condition('contains'),\n            fieldName: fieldName,\n            ignoreCase: true,\n            searchVal: this._filterCriteria\n        };\n    }\n    /**\n     *@hidden\n     */\n    protected clearFiltering() {\n        this.createColumnItems();\n    }\n}\n\n\n","import {\n    ChangeDetectorRef,\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    OnDestroy\n} from '@angular/core';\nimport { IColumnVisibilityChangedEventArgs, IgxColumnHidingItemDirective } from './column-hiding-item.directive';\nimport { ColumnChooserBaseDirective } from '../column-chooser-base';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Component({\n    preserveWhitespaces: false,\n    selector: 'igx-column-hiding',\n    templateUrl: './column-hiding.component.html'\n})\nexport class IgxColumnHidingComponent extends ColumnChooserBaseDirective implements OnDestroy {\n    /**\n     * Returns a boolean indicating whether the `HIDE ALL` button is disabled.\n     * ```html\n     * <igx-column-hiding #columnHidingUI\n     *     [columns]=\"grid.columns\" [title]=\"'Column Hiding'\">\n     * </igx-column-hiding>\n     * ```\n     * ```typescript\n     * @ViewChild(\"'columnHidingUI'\")\n     * public columnHiding: IgxColumnHidingComponent;\n     * let isHideAlldisabled =  this.columnHiding.disableHideAll;\n     * ```\n     *@memberof IgxColumnHidingComponent\n     */\n    @Input()\n    get disableHideAll(): boolean {\n        if (!this.columnItems || this.columnItems.length < 1 ||\n            this.hiddenColumnsCount === this.columns.length) {\n            return true;\n        } else if (this.hidableColumns.length < 1 ||\n            this.hidableColumns.length === this.hidableColumns.filter((col) => col.value).length) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n    /**\n     * Returns a boolean indicating whether the `SHOW ALL` button is disabled.\n     * ```typescript\n     * let isShowAlldisabled =  this.columnHiding.disableShowAll;\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    @Input()\n    get disableShowAll(): boolean {\n        if (!this.columnItems || this.columnItems.length < 1 ||\n            this.hiddenColumnsCount < 1 || this.hidableColumns.length < 1) {\n            return true;\n        } else if (this.hidableColumns.length === this.hidableColumns.filter((col) => !col.value).length) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n    /**\n     * Sets/gets the text of the button that shows all columns if they are hidden.\n     * ```typescript\n     * let showAllButtonText =  this.columnHiding.showAllText;\n     * ```\n     *\n     * ```html\n     * <igx-column-hiding [showAllText] = \"'Show Columns'\"></igx-column-hiding>\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    @Input()\n    public showAllText = 'Show All';\n    /**\n     * Sets/gets the text of the button that hides all columns if they are shown.\n     * ```typescript\n     * let hideAllButtonText =  this.columnHiding.hideAllText;\n     * ```\n     *\n     * ```html\n     * <igx-column-hiding [hideAllText] = \"'Hide Columns'\"></igx-column-hiding>\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    @Input()\n    public hideAllText = 'Hide All';\n    /**\n     * An event that is emitted after the columns visibility is changed.\n     * Provides references to the `column` and the `newValue` properties as event arguments.\n     * ```html\n     *  <igx-column-hiding (onColumnVisibilityChanged) = \"onColumnVisibilityChanged($event)\"></igx-column-hiding>\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    @Output()\n    public onColumnVisibilityChanged = new EventEmitter<IColumnVisibilityChangedEventArgs>();\n    /**\n     * Gets the count of the hidden columns.\n     * ```typescript\n     * let hiddenColumnsCount =  this.columnHiding.hiddenColumnsCount;\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    public get hiddenColumnsCount() {\n        return (this.columns) ? this.columns.filter((col) => col.hidden).length : 0;\n    }\n\n    constructor(public cdr: ChangeDetectorRef) {\n        super(cdr);\n    }\n\n    /**\n     *@hidden\n     */\n    public get hidableColumns() {\n        return this.columnItems.filter((col) => !col.disabled);\n    }\n\n    private destroy$ = new Subject<boolean>();\n    /**\n     *@hidden\n     */\n    protected createColumnItem(container: any, column: any) {\n        if (column.grid.hasColumnLayouts && !column.columnLayout) {\n            return null;\n        }\n        const item = new IgxColumnHidingItemDirective();\n        item.container = container;\n        item.column = column;\n\n        item.valueChanged.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n            this.onVisibilityChanged({ column: item.column, newValue: args.newValue });\n        });\n\n        return item;\n    }\n    /**\n     * Shows all columns in the grid.\n     * ```typescript\n     * this.columnHiding.showAllColumns();\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    public showAllColumns() {\n        const collection = this.hidableColumns;\n        for (const col of collection) {\n            col.value = false;\n        }\n    }\n    /**\n     * Hides all columns in the grid.\n     * ```typescript\n     * this.columnHiding.hideAllColumns();\n     * ```\n     * @memberof IgxColumnHidingComponent\n     */\n    public hideAllColumns() {\n        const collection = this.hidableColumns;\n        for (const col of collection) {\n            col.value = true;\n        }\n    }\n    /**\n     * @hidden\n     */\n    public onVisibilityChanged(args: IColumnVisibilityChangedEventArgs) {\n        this.onColumnVisibilityChanged.emit(args);\n    }\n\n    /**\n     *@hidden\n     */\n    public ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n}\n\n","import { Directive } from '@angular/core';\nimport { ColumnChooserItemBaseDirective } from '../column-chooser-item-base';\n\n\n@Directive({\n    selector: '[igxColumnPinningItem]'\n})\nexport class IgxColumnPinningItemDirective extends ColumnChooserItemBaseDirective {\n\n    constructor() {\n        super('pinned');\n    }\n\n    /**\n     * Returns whether a column could be pinned.\n     * It's not possible to pin a column if there is not enough space for the unpinned area.\n     * ```typescript\n     * const columnItem: IgxColumnPinningItemDirective;\n     * this.columnItem.pinnable;\n     * ```\n     */\n    get pinnable() {\n        return this.column.pinnable;\n    }\n}\n","\nimport { Component, ChangeDetectorRef } from '@angular/core';\nimport { ColumnChooserBaseDirective } from '../column-chooser-base';\nimport { IgxColumnPinningItemDirective } from './pinning.directive';\n\n\n\n@Component({\n    preserveWhitespaces: false,\n    selector: 'igx-column-pinning',\n    templateUrl: './column-pinning.component.html'\n})\nexport class IgxColumnPinningComponent extends ColumnChooserBaseDirective {\n\n    constructor(public cdr: ChangeDetectorRef) {\n        super(cdr);\n    }\n\n    /**\n     * @hidden\n     */\n    createColumnItem(container: any, column: any) {\n        if (column.level !== 0 || column.disablePinning) {\n            return null;\n        }\n        const item = new IgxColumnPinningItemDirective();\n        item.container = container;\n        item.column = column;\n        return item;\n    }\n\n    /**\n     * @hidden\n     */\n    public checkboxValueChange(event, columnItem: IgxColumnPinningItemDirective) {\n        if (event.checked && !columnItem.pinnable) {\n            event.checkbox.checked = false;\n            return false;\n        }\n        columnItem.value = !columnItem.value;\n    }\n}\n\n","import {\n    ChangeDetectorRef,\n    Component,\n    HostBinding,\n    Input,\n    Optional,\n    ViewChild,\n    Inject,\n    TemplateRef\n} from '@angular/core';\n\nimport { IDisplayDensityOptions, DisplayDensityToken, DisplayDensityBase } from '../../core/displayDensity';\nimport {\n    CsvFileTypes,\n    IgxBaseExporter,\n    IgxCsvExporterOptions,\n    IgxCsvExporterService,\n    IgxExcelExporterOptions,\n    IgxExcelExporterService,\n    AbsoluteScrollStrategy\n} from '../../services/index';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxButtonDirective } from '../../directives/button/button.directive';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxDropDownComponent } from '../../drop-down/drop-down.component';\nimport { IgxColumnHidingComponent } from '../hiding/column-hiding.component';\nimport { IgxColumnPinningComponent } from '../pinning/column-pinning.component';\nimport { OverlaySettings, PositionSettings, HorizontalAlignment, VerticalAlignment } from '../../services/overlay/utilities';\nimport { ConnectedPositioningStrategy } from '../../services/overlay/position';\nimport { GridType } from '../common/grid.interface';\n\n/**\n * This class encapsulates the Toolbar's logic and is internally used by\n * the `IgxGridComponent`, `IgxTreeGridComponent` and `IgxHierarchicalGridComponent`.\n */\n@Component({\n    selector: 'igx-grid-toolbar',\n    templateUrl: './grid-toolbar.component.html'\n})\nexport class IgxGridToolbarComponent extends DisplayDensityBase {\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-grid-toolbar')\n    @Input()\n    public gridID: string;\n\n    /**\n     * Gets the default text shown in the filtering box.\n     * ```typescript\n     * const filterPrompt = this.grid.toolbar.filterColumnsPrompt;\n     * ```\n     */\n    @Input()\n    public get filterColumnsPrompt() {\n        return this._filterColumnsPrompt;\n    }\n\n    /**\n     * Sets the default text shown in the filtering box.\n     * ```typescript\n     * this.grid.toolbar.filterColumnsPrompt('Filter columns ...');\n     * ```\n     */\n    public set filterColumnsPrompt(value: string) {\n        this._filterColumnsPrompt = value;\n    }\n\n    private _filterColumnsPrompt = 'Filter columns list ...';\n\n    /**\n     * Gets the height for the `IgxGridToolbarComponent`'s drop down panels.\n     * ```typescript\n     * const dropdownHeight = this.grid.toolbar.defaultDropDownsMaxHeight;\n     * ```\n     */\n    @Input()\n    get defaultDropDownsMaxHeight() {\n        const gridHeight = this.grid.calcHeight;\n        return (gridHeight) ? gridHeight * 0.7 + 'px' : '100%';\n    }\n\n    /**\n     * Provides a reference to the `IgxDropDownComponent` of the Column Hiding UI.\n     * ```typescript\n     * const dropdownHiding = this.grid.toolbar.columnHidingDropdown;\n     * ```\n     */\n    @ViewChild('columnHidingDropdown', { read: IgxDropDownComponent })\n    public columnHidingDropdown: IgxDropDownComponent;\n\n    /**\n     * Provides a reference to the `IgxColumnHidingComponent`.\n     * ```typescript\n     * const hidingUI = this.grid.toolbar.columnHidingUI;\n     * ```\n     */\n    @ViewChild(IgxColumnHidingComponent)\n    public columnHidingUI: IgxColumnHidingComponent;\n\n    /**\n     * Provides a reference to the Column Hiding button.\n     * ```typescript\n     * const hidingButton = this.grid.toolbar.columnHidingButton;\n     * ```\n     */\n    @ViewChild('columnHidingButton', { read: IgxButtonDirective })\n    public columnHidingButton: IgxButtonDirective;\n\n    /**\n     * Provides a reference to the `IgxDropDownComponent` of the Export button.\n     * ```typescript\n     * const exportDropdown = this.grid.toolbar.exportDropdown;\n     * ```\n     */\n    @ViewChild('exportDropdown', { read: IgxDropDownComponent })\n    public exportDropdown: IgxDropDownComponent;\n\n    /**\n     * Provides a reference to the Export button.\n     * ```typescript\n     * const exportBtn = this.grid.toolbar.exportButton;\n     * ```\n     */\n    @ViewChild('btnExport', { read: IgxButtonDirective })\n    public exportButton: IgxButtonDirective;\n\n    /**\n     * Provides a reference to the `IgxDropDownComponent` of the Column Pinning UI.\n     * ```typescript\n     * const dropdownPinning = this.grid.toolbar.columnPinningDropdown;\n     * ```\n     */\n    @ViewChild('columnPinningDropdown', { read: IgxDropDownComponent })\n    public columnPinningDropdown: IgxDropDownComponent;\n\n    /**\n     * Provides a reference to the `IgxColumnPinningComponent`.\n     * ```typescript\n     * const pinningUI = this.grid.toolbar.columnPinningDropdown;\n     * ```\n     */\n    @ViewChild(IgxColumnPinningComponent)\n    public columnPinningUI: IgxColumnPinningComponent;\n\n    /**\n     * Provides a reference to the Column Pinning button.\n     * ```typescript\n     * const pinningButton = this.grid.toolbar.columnPinningButton;\n     * ```\n     */\n    @ViewChild('columnPinningButton', { read: IgxButtonDirective })\n    public columnPinningButton: IgxButtonDirective;\n\n    /**\n     * Returns a reference to the `IgxGridComponent` component, hosting the `IgxGridToolbarComponent`.\n     * ```typescript\n     * const grid = this.igxGrid1.toolbar.grid;\n     * ```\n     */\n    public get grid(): IgxGridBaseDirective {\n        return this.gridAPI.grid;\n    }\n\n    /**\n     * Returns whether the `IgxGridComponent` renders an export button.\n     * ```typescript\n     * const exportButton = this.igxGrid1.toolbar.shouldShowExportButton;\n     * ```\n     */\n    public get shouldShowExportButton(): boolean {\n        return (this.grid != null && (this.grid.exportExcel || this.grid.exportCsv));\n    }\n\n    /**\n     * Returns whether the `IgxGridComponent` renders an Excel export button.\n     * ```typescript\n     * const exportExcelButton = this.igxGrid1.toolbar.shouldShowExportExcelButton;\n     * ```\n     */\n    public get shouldShowExportExcelButton(): boolean {\n        return (this.grid != null && this.grid.exportExcel);\n    }\n\n    /**\n     * Returns whether the `IgxGridComponent` renders an CSV export button.\n     * ```typescript\n     * const exportCSVButton = this.igxGrid1.toolbar.shouldShowExportCsvButton;\n     * ```\n     */\n    public get shouldShowExportCsvButton(): boolean {\n        return (this.grid != null && this.grid.exportCsv);\n    }\n\n    /**\n     * Returns how many columns are pinned.\n     * ```typescript\n     * const pinnedCount = this.igxGrid1.toolbar.pinnedColumnsCount;\n     * ```\n     */\n    public get pinnedColumnsCount() {\n        return this.grid.pinnedColumns.filter(col => !col.columnLayout).length;\n    }\n\n    /**\n     * Returns the theme of the `IgxGridToolbarComponent`.\n     * ```typescript\n     * const toolbarTheme = this.grid.toolbar.hostClass;\n     * ```\n     */\n\n    @HostBinding('attr.class')\n    get hostClass(): string {\n        return this.getComponentDensityClass('igx-grid-toolbar');\n    }\n\n    constructor(public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        public cdr: ChangeDetectorRef,\n        @Optional() public excelExporter: IgxExcelExporterService,\n        @Optional() public csvExporter: IgxCsvExporterService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n            super(_displayDensityOptions);\n    }\n\n    private _positionSettings: PositionSettings = {\n        horizontalDirection: HorizontalAlignment.Left,\n        horizontalStartPoint: HorizontalAlignment.Right,\n        verticalDirection: VerticalAlignment.Bottom,\n        verticalStartPoint: VerticalAlignment.Bottom\n    };\n\n    private _overlaySettings: OverlaySettings = {\n        positionStrategy: new ConnectedPositioningStrategy(this._positionSettings),\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        modal: false,\n        closeOnOutsideClick: true,\n        excludePositionTarget: true\n    };\n\n    /**\n     * Returns the title of `IgxGridToolbarComponent`.\n     * ```typescript\n     * const toolbarTitle = this.igxGrid1.toolbar.getTitle();\n     * ```\n     */\n    public getTitle(): string {\n        return this.grid != null ? this.grid.toolbarTitle : '';\n    }\n\n    /**\n     * Returns the text of the export button of the `IgxGridToolbarComponent`.\n     * ```typescript\n     * const toolbarExportText = this.igxGrid1.toolbar.getTitle();\n     * ```\n     */\n    public getExportText(): string {\n        return this.grid != null ? this.grid.exportText : '';\n    }\n\n    /**\n     * Returns the text of the Excel export button of the `IgxGridToolbarComponent`.\n     * ```typescript\n     * const toolbarExcelText = this.igxGrid1.toolbar.getExportExcelText();\n     * ```\n     */\n    public getExportExcelText(): string {\n        return this.grid != null ? this.grid.exportExcelText : '';\n    }\n\n    /**\n     * Returns the text of the CSV export button of the `IgxGridToolbarComponent`.\n     * ```typescript\n     * const toolbarCSVText = this.igxGrid1.toolbar.getExportCsvText();\n     * ```\n     */\n    public getExportCsvText(): string {\n        return this.grid != null ? this.grid.exportCsvText : '';\n    }\n\n    /**\n     * Toggles the export button's dropdown menu.\n     * ```typescript\n     * this.igxGrid1.toolbar.exportClicked();\n     * ```\n     */\n    public exportClicked() {\n        this._overlaySettings.positionStrategy.settings.target = this.exportButton.nativeElement;\n        this._overlaySettings.outlet = this.grid.outletDirective;\n        this.exportDropdown.toggle(this._overlaySettings);\n    }\n\n    /**\n     * Exports the grid to excel.\n     * ```typescript\n     * this.igxGrid1.toolbar.exportToExcelClicked();\n     * ```\n     */\n    public exportToExcelClicked() {\n        this.performExport(this.excelExporter, 'excel');\n    }\n\n    /**\n     * Exports the grid to CSV.\n     * ```typescript\n     * this.igxGrid1.toolbar.exportToCsvClicked();\n     * ```\n     */\n    public exportToCsvClicked() {\n        this.performExport(this.csvExporter, 'csv');\n    }\n\n    private performExport(exp: IgxBaseExporter, exportType: string) {\n        this.exportClicked();\n\n        const fileName = 'ExportedData';\n        const options = exportType === 'excel' ?\n            new IgxExcelExporterOptions(fileName) :\n            new IgxCsvExporterOptions(fileName, CsvFileTypes.CSV);\n\n        const args = { grid: this.grid, exporter: exp, options: options, cancel: false };\n\n        this.grid.onToolbarExporting.emit(args);\n        if (args.cancel) {\n            return;\n        }\n        exp.export(this.grid, options);\n    }\n\n    /**\n     * Toggles the Column Hiding UI.\n     * ```typescript\n     * this.grid1.toolbar.toggleColumnHidingUI();\n     * ```\n     */\n    public toggleColumnHidingUI() {\n        this._overlaySettings.positionStrategy.settings.target = this.columnHidingButton.nativeElement;\n        this._overlaySettings.outlet = this.grid.outletDirective;\n        this.columnHidingDropdown.toggle(this._overlaySettings);\n    }\n\n    /**\n     * Toggles the Column Pinning UI.\n     * ```typescript\n     * this.grid1.toolbar.toggleColumnPinningUI();\n     * ```\n     */\n    public toggleColumnPinningUI() {\n        this._overlaySettings.positionStrategy.settings.target = this.columnPinningButton.nativeElement;\n        this._overlaySettings.outlet = this.grid.outletDirective;\n        this.columnPinningDropdown.toggle(this._overlaySettings);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public showAdvancedFilteringUI() {\n        this.grid.openAdvancedFilteringDialog();\n    }\n\n    /**\n     * Returns the `context` object which represents the `template context` binding into the\n     * `toolbar custom container` by providing references to the parent IgxGird and the toolbar itself.\n     * ```typescript\n     * const context =  this.igxGrid.toolbar.context;\n     * ```\n     */\n    public get context(): any {\n        return {\n            // $implicit: this\n            grid: this.grid,\n            toolbar: this\n        };\n    }\n\n    /** @hidden */\n    public get customContentTemplate(): TemplateRef<any> {\n        if (this.grid != null && this.grid.toolbarCustomContentTemplate != null) {\n            return this.grid.toolbarCustomContentTemplate.template;\n        } else {\n            return null;\n        }\n    }\n}\n","import { Directive, ElementRef, HostListener } from '@angular/core';\nimport { GridBaseAPIService } from './api.service';\nimport { GridType } from './common/grid.interface';\n\n/** @hidden */\n@Directive({\n    selector: '[igxRowEdit]'\n})\nexport class IgxRowEditTemplateDirective { }\n\n/** @hidden */\n@Directive({\n    selector: '[igxRowEditText]'\n})\nexport class IgxRowEditTextDirective { }\n\n/** @hidden */\n@Directive({\n    selector: '[igxRowEditActions]'\n})\nexport class IgxRowEditActionsDirective { }\n\n\n// TODO: Refactor circular ref, deps and logic\n/** @hidden */\n@Directive({\n    selector: `[igxRowEditTabStop]`\n})\nexport class IgxRowEditTabStopDirective {\n    private currentCellIndex: number;\n\n\n    constructor(public api: GridBaseAPIService<any>, public element: ElementRef) {}\n\n    get grid(): GridType {\n        return this.api.grid;\n    }\n\n    @HostListener('keydown.Tab', [`$event`])\n    @HostListener('keydown.Shift.Tab', [`$event`])\n    public handleTab(event: KeyboardEvent): void {\n        event.stopPropagation();\n        if ((this.grid.rowEditTabs.last === this && !event.shiftKey) ||\n            (this.grid.rowEditTabs.first === this && event.shiftKey)\n        ) {\n            this.move(event);\n        }\n    }\n\n    @HostListener('keydown.Escape', [`$event`])\n    public handleEscape(event: KeyboardEvent): void {\n        this.grid.endEdit(false, event);\n        const activeNode = this.grid.selectionService.activeElement;\n        //  on right click activeNode is deleted, so we may have no one\n        if (activeNode) {\n            const cell = this.grid.navigation.getCellElementByVisibleIndex(\n                activeNode.row,\n                activeNode.layout ? activeNode.layout.columnVisibleIndex : activeNode.column);\n            cell.focus();\n        }\n    }\n\n    /**\n     * Moves focus to first/last editable cell in the editable row and put the cell in edit mode.\n     * If cell is out of view first scrolls to the cell\n     * @param event keyboard event containing information about whether SHIFT key was pressed\n     */\n    private move(event: KeyboardEvent) {\n        event.preventDefault();\n        this.currentCellIndex = event.shiftKey ? this.grid.lastEditableColumnIndex : this.grid.firstEditableColumnIndex;\n        if (!this.grid.navigation.isColumnFullyVisible(this.currentCellIndex)) {\n            this.grid.navigation.performHorizontalScrollToCell(\n                this.grid.rowInEditMode.index, this.currentCellIndex, false, this.activateCell);\n        } else {\n            this.activateCell();\n        }\n    }\n\n    /**\n     * Sets the cell in edit mode and focus its native element\n     * @param cellIndex index of the cell to activate\n     */\n    private activateCell = (): void => {\n        const cell = this.grid.rowInEditMode.cells.find(e => e.visibleColumnIndex === this.currentCellIndex);\n        cell.nativeElement.focus();\n        cell.setEditMode(true);\n        this.currentCellIndex = -1;\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    ViewChild,\n    TemplateRef,\n} from '@angular/core';\nimport { IGroupByRecord } from '../../data-operations/groupby-record.interface';\nimport { DataType } from '../../data-operations/data-util';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxGridSelectionService, ISelectionNode } from '../selection/selection.service';\nimport { ROW_COLLAPSE_KEYS, ROW_EXPAND_KEYS, SUPPORTED_KEYS } from '../../core/utils';\nimport { GridType } from '../common/grid.interface';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-groupby-row',\n    templateUrl: './groupby-row.component.html'\n})\nexport class IgxGridGroupByRowComponent {\n\n    constructor(public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        private gridSelection: IgxGridSelectionService,\n        public element: ElementRef,\n        public cdr: ChangeDetectorRef) { }\n\n    /**\n     * @hidden\n     */\n    protected defaultCssClass = 'igx-grid__group-row';\n\n    /**\n     * @hidden\n     */\n    protected paddingIndentationCssClass = 'igx-grid__group-row--padding-level';\n\n    /**\n    * @hidden\n    */\n    @ViewChild('defaultGroupByExpandedTemplate', { read: TemplateRef, static: true })\n    protected defaultGroupByExpandedTemplate: TemplateRef<any>;\n\n    /**\n    * @hidden\n    */\n    @ViewChild('defaultGroupByCollapsedTemplate', { read: TemplateRef, static: true })\n    protected defaultGroupByCollapsedTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    @Input()\n    protected isFocused = false;\n\n    /**\n     * Returns whether the row is focused.\n     * ```\n     * let gridRowFocused = this.grid1.rowList.first.focused;\n     * ```\n     */\n    get focused(): boolean {\n        return this.isFocused;\n    }\n\n    /**\n     * An @Input property that sets the index of the row.\n     * ```html\n     * <igx-grid-groupby-row [gridID]=\"id\" [index]=\"rowIndex\" [groupRow]=\"rowData\" #row></igx-grid-groupby-row>\n     * ```\n     */\n    @Input()\n    public index: number;\n\n    /**\n     * An @Input property that sets the id of the grid the row belongs to.\n     * ```html\n     * <igx-grid-groupby-row [gridID]=\"id\" [index]=\"rowIndex\" [groupRow]=\"rowData\" #row></igx-grid-groupby-row>\n     * ```\n     */\n    @Input()\n    public gridID: string;\n\n    /**\n     * An @Input property that specifies the group record the component renders for.\n     * ```typescript\n     * <igx-grid-groupby-row [gridID]=\"id\" [index]=\"rowIndex\" [groupRow]=\"rowData\" #row></igx-grid-groupby-row>\n     * ```\n     */\n    @Input()\n    public groupRow: IGroupByRecord;\n\n    /**\n     * Returns a reference of the content of the group.\n     * ```typescript\n     * const groupRowContent = this.grid1.rowList.first.groupContent;\n     * ```\n     */\n    @ViewChild('groupContent', { static: true })\n    public groupContent: ElementRef;\n\n    /**\n     * Returns whether the group row is expanded.\n     * ```typescript\n     * const groupRowExpanded = this.grid1.rowList.first.expanded;\n     * ```\n     */\n    @HostBinding('attr.aria-expanded')\n    get expanded(): boolean {\n        return this.grid.isExpandedGroup(this.groupRow);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.aria-describedby')\n    get describedBy(): string {\n        const grRowExpr = this.groupRow.expression !== undefined ? this.groupRow.expression.fieldName : '';\n        return this.gridID + '_' + grRowExpr;\n    }\n\n    @HostBinding('attr.data-rowIndex')\n    get dataRowIndex() {\n        return this.index;\n    }\n\n    /**\n     * Returns a reference to the underlying HTML element.\n     * ```typescript\n     * const groupRowElement = this.nativeElement;\n     * ```\n     */\n    get nativeElement(): any {\n        return this.element.nativeElement;\n    }\n\n    /**\n     * Returns the style classes applied to the group rows.\n     * ```typescript\n     * const groupCssStyles = this.grid1.rowList.first.styleClasses;\n     * ```\n     */\n    @HostBinding('class')\n    get styleClasses(): string {\n        return `${this.defaultCssClass} ` + `${this.paddingIndentationCssClass}-` + this.groupRow.level +\n            (this.focused ? ` ${this.defaultCssClass}--active` : '');\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('focus')\n    public onFocus() {\n        this.isFocused = true;\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('blur')\n    public onBlur() {\n        this.isFocused = false;\n    }\n\n    /**\n     * Toggles the group row.\n     * ```typescript\n     * this.grid1.rowList.first.toggle()\n     * ```\n     */\n    public toggle() {\n        const isVirtualized = !this.grid.verticalScrollContainer.dc.instance.notVirtual;\n        const groupRowIndex = this.index;\n        this.grid.toggleGroup(this.groupRow);\n        if (isVirtualized) {\n            const groupRow = this.grid.nativeElement.querySelector(`[data-rowIndex=\"${groupRowIndex}\"]`);\n            if (groupRow) {\n                groupRow.focus();\n            }\n        }\n    }\n\n    public get iconTemplate() {\n        if (this.expanded) {\n            return this.grid.rowExpandedIndicatorTemplate || this.defaultGroupByExpandedTemplate;\n        } else {\n            return this.grid.rowCollapsedIndicatorTemplate || this.defaultGroupByCollapsedTemplate;\n        }\n    }\n\n    protected get selectionNode(): ISelectionNode {\n        return {\n            row: this.index,\n            column: this.gridSelection.activeElement ? this.gridSelection.activeElement.column : 0\n        };\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown', ['$event'])\n    public onKeydown(event) {\n        // TODO: Refactor\n        const key = event.key.toLowerCase();\n        if (!SUPPORTED_KEYS.has(key)) {\n            return;\n        }\n        event.stopPropagation();\n        const keydownArgs = { targetType: 'groupRow', target: this, event: event, cancel: false };\n        this.grid.onGridKeydown.emit(keydownArgs);\n        if (keydownArgs.cancel) {\n            return;\n        }\n        event.preventDefault();\n\n        if (!this.isKeySupportedInGroupRow(key, event.shiftKey, event.altKey) || event.ctrlKey) { return; }\n\n        if (this.isToggleKey(key, event.altKey)) {\n            if ((this.expanded && ROW_COLLAPSE_KEYS.has(key)) || (!this.expanded && ROW_EXPAND_KEYS.has(key))) {\n                this.toggle();\n            }\n            return;\n        }\n\n        const selection = this.gridSelection;\n        selection.keyboardState.shift = event.shiftKey && !(key === 'tab');\n\n        const activeNode = selection.activeElement ? Object.assign({}, selection.activeElement) : this.selectionNode;\n        activeNode.row = this.index;\n        switch (key) {\n            case 'arrowdown':\n            case 'down':\n                this.grid.navigation.navigateDown(this.nativeElement, activeNode);\n                break;\n            case 'arrowup':\n            case 'up':\n                this.grid.navigation.navigateUp(this.nativeElement, activeNode);\n                break;\n            case 'tab':\n                this.handleTabKey(event.shiftKey, activeNode);\n                break;\n        }\n    }\n\n    /**\n     * Returns a reference to the `IgxGridComponent` the `IgxGridGroupByRowComponent` belongs to.\n     * ```typescript\n     * this.grid1.rowList.first.grid;\n     * ```\n     */\n    get grid(): any {\n        return this.gridAPI.grid;\n    }\n\n    /**\n     * @hidden\n     */\n    get dataType(): any {\n        const column = this.grid.getColumnByName(this.groupRow.expression.fieldName);\n        return (column && column.dataType) || DataType.String;\n    }\n\n    private handleTabKey(shift: boolean, activeNode: ISelectionNode) {\n        if (shift) {\n            this.grid.navigation.performShiftTabKey(this.nativeElement, activeNode);\n        } else {\n            if (this.index === this.grid.dataView.length - 1 && this.grid.rootSummariesEnabled) {\n                this.grid.navigation.onKeydownHome(0, true);\n            } else {\n                const orderedColumns = this.grid.navigation.gridOrderedColumns;\n                const lastCol = orderedColumns[orderedColumns.length - 1];\n                activeNode.column = lastCol.columnLayoutChild ? lastCol.parent.visibleIndex : lastCol.visibleIndex;\n                this.grid.navigation.performTab(this.nativeElement, activeNode);\n            }\n        }\n    }\n\n    private isKeySupportedInGroupRow(key, shift = false, alt = false) {\n        if (shift) {\n            return ['down', 'up', 'arrowdown', 'arrowup', 'tab'].indexOf(key) !== -1;\n        }\n        return this.isToggleKey(key, alt) ? true : ['down', 'up', 'arrowdown', 'arrowup', 'tab'].indexOf(key) !== -1;\n    }\n\n    private isToggleKey(key, altKey) {\n        return altKey && ['left', 'right', 'up', 'down', 'arrowleft', 'arrowright', 'arrowup', 'arrowdown'].indexOf(key) !== -1;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { first, debounceTime } from 'rxjs/operators';\nimport { IgxColumnComponent } from './columns/column.component';\nimport { IgxGridGroupByRowComponent } from './grid/groupby-row.component';\nimport { ISelectionNode } from './selection/selection.service';\nimport { IgxForOfDirective } from '../directives/for-of/for_of.directive';\nimport { GridType } from './common/grid.interface';\nimport { FilterMode } from './common/enums';\n\nenum MoveDirection {\n    LEFT = 'left',\n    RIGHT = 'right'\n}\n\n/** @hidden */\n@Injectable()\nexport class IgxGridNavigationService {\n    public grid: GridType;\n\n    get displayContainerWidth() {\n        return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth);\n    }\n\n    get displayContainerScrollLeft() {\n        return Math.ceil(this.grid.headerContainer.scrollPosition);\n    }\n\n    get verticalDisplayContainerElement() {\n        return this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement;\n    }\n\n    public horizontalScroll(rowIndex) {\n        let rowComp = this.grid.dataRowList.find((row) => row.index === rowIndex) || this.grid.dataRowList.first;\n        if (!rowComp) {\n            rowComp = this.grid.summariesRowList.find((row) => row.index === rowIndex);\n        }\n        return rowComp.virtDirRow;\n    }\n\n    public getColumnUnpinnedIndex(visibleColumnIndex: number) {\n        const column = this.grid.unpinnedColumns.find((col) => !col.columnGroup && col.visibleIndex === visibleColumnIndex);\n        return this.grid.pinnedColumns.length ? this.grid.unpinnedColumns.filter((c) => !c.columnGroup).indexOf(column) :\n            visibleColumnIndex;\n    }\n\n    public isColumnFullyVisible(columnIndex: number) {\n        return this.isColumnRightEdgeVisible(columnIndex) && this.isColumnLeftEdgeVisible(columnIndex);\n    }\n\n    public isColumnRightEdgeVisible(columnIndex: number) {\n        const forOfDir: IgxForOfDirective<any> = this.forOfDir();\n        if (this.isColumnPinned(columnIndex, forOfDir)) {\n            return true;\n        }\n        const index = this.getColumnUnpinnedIndex(columnIndex);\n        return this.displayContainerWidth >= forOfDir.getColumnScrollLeft(index + 1) - this.displayContainerScrollLeft;\n    }\n\n    public isColumnLeftEdgeVisible(columnIndex: number) {\n        const forOfDir = this.forOfDir();\n        if (this.isColumnPinned(columnIndex, forOfDir)) {\n            return true;\n        }\n        const index = this.getColumnUnpinnedIndex(columnIndex);\n        return this.displayContainerScrollLeft <= forOfDir.getColumnScrollLeft(index);\n    }\n\n    private forOfDir(): IgxForOfDirective<any> {\n        let forOfDir: IgxForOfDirective<any>;\n        if (this.grid.dataRowList.length > 0) {\n            forOfDir = this.grid.dataRowList.first.virtDirRow;\n        } else {\n            forOfDir = this.grid.headerContainer;\n        }\n        return forOfDir;\n    }\n\n    private isColumnPinned(columnIndex: number, forOfDir: IgxForOfDirective<any>): boolean {\n        const horizontalScroll = forOfDir.getScroll();\n        const column = this.grid.columnList.filter(c => !c.columnGroup).find((col) => col.visibleIndex === columnIndex);\n        return (!horizontalScroll.clientWidth || column.pinned);\n    }\n\n    public get gridOrderedColumns(): IgxColumnComponent[] {\n        return [...this.grid.pinnedColumns, ...this.grid.unpinnedColumns].filter(c => !c.columnGroup);\n    }\n\n    public isRowInEditMode(rowIndex): boolean {\n        return this.grid.rowEditable && (this.grid.rowInEditMode && this.grid.rowInEditMode.index === rowIndex);\n    }\n\n    public findNextEditable(direction: string, visibleColumnIndex: number) {\n        // go trough all columns in one cycle instead of\n        // splice().reverse().find()\n        const gridColumns = this.gridOrderedColumns;\n        const start = visibleColumnIndex;\n        let end = 0;\n        let step = 0;\n        let result = -1;\n        if (direction === MoveDirection.LEFT) {\n            end = 0;\n            step = -1;\n        } else if (direction === MoveDirection.RIGHT) {\n            end = gridColumns.length - 1;\n            step = 1;\n        }\n        for (let c = start; (c * step) <= end; c += step) {\n            const column = gridColumns[c];\n            if (column.editable) {\n                result = c;\n                break;\n            }\n        }\n        return result;\n    }\n\n    public getCellElementByVisibleIndex(rowIndex, visibleColumnIndex, isSummary = false) {\n        const cellSelector = this.getCellSelector(visibleColumnIndex, isSummary);\n        return this.grid.nativeElement.querySelector(\n            `${cellSelector}[data-rowindex=\"${rowIndex}\"][data-visibleIndex=\"${visibleColumnIndex}\"]`) as HTMLElement;\n    }\n\n    public onKeydownArrowRight(element, selectedNode: ISelectionNode) {\n        const rowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        const isSummary = selectedNode.isSummaryRow;\n        if (this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex === visibleColumnIndex) {\n            return;\n        }\n        if (this.isColumnRightEdgeVisible(visibleColumnIndex + 1)) { // if next column is fully visible or is pinned\n            if (element.classList.contains('igx-grid__td--pinned-last') || element.classList.contains('igx-grid-summary--pinned-last')) {\n                if (this.isColumnLeftEdgeVisible(visibleColumnIndex + 1)) {\n                    element.nextElementSibling.firstElementChild.focus({ preventScroll: true });\n                } else {\n                    this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n                    this.grid.parentVirtDir.onChunkLoad\n                        .pipe(first())\n                        .subscribe(() => {\n                            element.nextElementSibling.firstElementChild.focus({ preventScroll: true });\n                        });\n                    this.horizontalScroll(rowIndex).scrollTo(0);\n                }\n            } else {\n                element.nextElementSibling.focus({ preventScroll: true });\n            }\n        } else {\n            this.performHorizontalScrollToCell(rowIndex, visibleColumnIndex + 1, isSummary);\n        }\n    }\n\n    public onKeydownArrowLeft(element, selectedNode: ISelectionNode) {\n        const rowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        const isSummary = selectedNode.isSummaryRow;\n        if (visibleColumnIndex === 0) {\n            return;\n        }\n        const index = this.getColumnUnpinnedIndex(visibleColumnIndex - 1);\n        if (!element.previousElementSibling && this.grid.pinnedColumns.length && index === - 1) {\n            element.parentNode.previousElementSibling.focus({ preventScroll: true });\n        } else if (!this.isColumnLeftEdgeVisible(visibleColumnIndex - 1)) {\n            this.performHorizontalScrollToCell(rowIndex, visibleColumnIndex - 1, isSummary);\n        } else {\n            element.previousElementSibling.focus({ preventScroll: true });\n        }\n\n    }\n\n    public movePreviousEditable(rowIndex: number, currentColumnVisibleIndex: number) {\n        let prevEditableColumnIndex = this.findNextEditable(MoveDirection.LEFT, currentColumnVisibleIndex - 1);\n        if (prevEditableColumnIndex === -1) {\n            if (this.grid.rowEditTabs.length) {\n                //  TODO: make gridAPI visible for internal use and remove cast to any\n                (this.grid as any).gridAPI.submit_value();\n                this.grid.rowEditTabs.last.element.nativeElement.focus();\n                return;\n            } else {\n                // In case when row edit template is empty select last editable cell\n                prevEditableColumnIndex = this.grid.lastEditableColumnIndex;\n            }\n\n        }\n        this.focusEditableTarget(rowIndex, prevEditableColumnIndex);\n    }\n\n    public moveNextEditable(rowIndex: number, currentColumnVisibleIndex: number) {\n        let nextEditableColumnIndex = this.findNextEditable(MoveDirection.RIGHT, currentColumnVisibleIndex + 1);\n        if (nextEditableColumnIndex === -1) {\n            if ( this.grid.rowEditTabs.length) {\n                 //  TODO: make gridAPI visible for internal use and remove cast to any\n                (this.grid as any).gridAPI.submit_value();\n                this.grid.rowEditTabs.first.element.nativeElement.focus();\n                return;\n            } else {\n                // In case when row edit template is empty select first editable cell\n                nextEditableColumnIndex = this.grid.firstEditableColumnIndex;\n            }\n        }\n        this.focusEditableTarget(rowIndex, nextEditableColumnIndex);\n    }\n\n    public focusEditableTarget(rowIndex: number, columnIndex: number) {\n        if (this.isColumnFullyVisible(columnIndex)) {\n            this.getCellElementByVisibleIndex(rowIndex, columnIndex).focus();\n        } else {\n            this.performHorizontalScrollToCell(rowIndex, columnIndex);\n        }\n    }\n\n    public onKeydownHome(rowIndex, isSummary = false) {\n        const rowList = isSummary ? this.grid.summariesRowList : this.grid.dataRowList;\n        let rowElement = rowList.find((row) => row.index === rowIndex);\n        const cellSelector = this.getCellSelector(0, isSummary);\n        if (!rowElement) { return; }\n        rowElement = rowElement.nativeElement;\n        let firstCell = rowElement.querySelector(cellSelector);\n        if (this.grid.pinnedColumns.length || this.displayContainerScrollLeft === 0) {\n            firstCell.focus({ preventScroll: true });\n        } else {\n            this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.parentVirtDir.onChunkLoad\n                .pipe(first())\n                .subscribe(() => {\n                    firstCell = rowElement.querySelector(cellSelector);\n                    firstCell.focus({ preventScroll: true });\n                });\n            this.horizontalScroll(rowIndex).scrollTo(0);\n        }\n    }\n\n    public onKeydownEnd(rowIndex, isSummary = false) {\n        const index = this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex;\n        const rowList = isSummary ? this.grid.summariesRowList : this.grid.dataRowList;\n        let rowElement = rowList.find((row) => row.index === rowIndex);\n        if (!rowElement) { return; }\n        rowElement = rowElement.nativeElement;\n        if (this.isColumnRightEdgeVisible(index)) {\n            const allCells = rowElement.querySelectorAll(this.getCellSelector(-1, isSummary));\n            allCells[allCells.length - 1].focus({ preventScroll: true });\n        } else {\n            this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.parentVirtDir.onChunkLoad\n                .pipe(first())\n                .subscribe(() => {\n                    const allCells = rowElement.querySelectorAll(this.getCellSelector(-1, isSummary));\n                    allCells[allCells.length - 1].focus({ preventScroll: true });\n                });\n            this.horizontalScroll(rowIndex).scrollTo(this.getColumnUnpinnedIndex(index));\n        }\n    }\n\n    public navigateTop(visibleColumnIndex) {\n        const targetIndex = this.findFirstDataRowIndex();\n        const verticalScroll = this.grid.verticalScrollContainer.getScroll();\n        const cellSelector = this.getCellSelector(visibleColumnIndex);\n        const targetScr = this.grid.verticalScrollContainer.getScrollForIndex(targetIndex, false);\n        if (targetScr >= verticalScroll.scrollTop) {\n            const cells = this.grid.nativeElement.querySelectorAll(\n                `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n            (cells[0] as HTMLElement).focus();\n        } else {\n           this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.scrollTo(targetIndex !== -1 ? targetIndex : 0);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(debounceTime(10)).pipe(first()).subscribe(() => {\n                    const cells = this.grid.nativeElement.querySelectorAll(\n                        `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n                    if (cells.length > 0) { (cells[0] as HTMLElement).focus(); }\n                });\n        }\n    }\n\n    private findFirstDataRowIndex() {\n        const dv = this.grid.dataView;\n        return dv.findIndex(rec => !this.grid.isGroupByRecord(rec) && !this.grid.isDetailRecord(rec));\n    }\n\n    private findLastDataRowIndex() {\n        let i = this.grid.dataView.length;\n        while (i--) {\n            const rec = this.grid.dataView[i];\n            if (!this.grid.isGroupByRecord(rec) && !this.grid.isDetailRecord(rec)) {\n                 return i;\n            }\n        }\n    }\n\n    public navigateBottom(visibleColumnIndex) {\n        const targetIndex = this.findLastDataRowIndex();\n        const targetScr = this.grid.verticalScrollContainer.getScrollForIndex(targetIndex, true);\n        const verticalScroll = this.grid.verticalScrollContainer.getScroll();\n        const cellSelector = this.getCellSelector(visibleColumnIndex);\n        if (verticalScroll.scrollHeight === 0 ||\n            verticalScroll.scrollTop === targetScr) {\n            const cells = this.grid.nativeElement.querySelectorAll(\n                `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n            (cells[cells.length - 1] as HTMLElement).focus();\n        } else {\n           this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.scrollTo(targetIndex !== -1 ? targetIndex : this.grid.dataView.length - 1);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(debounceTime(10)).pipe(first()).subscribe(() => {\n                    const cells = this.grid.nativeElement.querySelectorAll(\n                        `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n                    if (cells.length > 0) {\n                        (cells[cells.length - 1] as HTMLElement).focus({preventScroll: true});\n                    }\n                });\n        }\n    }\n\n    public navigateUp(rowElement, selectedNode: ISelectionNode) {\n        const currentRowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        if (currentRowIndex === 0) {\n            return;\n        }\n        const containerTopOffset = parseInt(this.verticalDisplayContainerElement.style.top, 10);\n        if (!rowElement.previousElementSibling ||\n            rowElement.previousElementSibling.offsetTop < Math.abs(containerTopOffset)) {\n           this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.scrollTo(currentRowIndex - 1);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first())\n                .subscribe(() => {\n                    const tag = rowElement.tagName.toLowerCase();\n                    rowElement = this.getRowByIndex(currentRowIndex, tag);\n                    this.focusPreviousElement(rowElement, visibleColumnIndex);\n                });\n        } else {\n            this.focusPreviousElement(rowElement, visibleColumnIndex);\n        }\n    }\n\n    protected focusPreviousElement(currentRowEl, visibleColumnIndex) {\n        this.focusElem(currentRowEl.previousElementSibling, visibleColumnIndex);\n    }\n\n    public navigateDown(rowElement, selectedNode: ISelectionNode) {\n        const currentRowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        if (currentRowIndex === this.grid.dataView.length - 1 ||\n            (currentRowIndex === 0 && rowElement.tagName.toLowerCase() === 'igx-grid-summary-row')) {\n            // check if this is rootSummary row\n            return;\n        }\n        const rowHeight = this.grid.verticalScrollContainer.getSizeAt(currentRowIndex + 1);\n        const containerHeight = this.grid.calcHeight ? Math.ceil(this.grid.calcHeight) : 0;\n        const targetEndTopOffset = rowElement.nextElementSibling ?\n            rowElement.nextElementSibling.offsetTop + rowHeight + parseInt(this.verticalDisplayContainerElement.style.top, 10) :\n            containerHeight + rowHeight;\n       this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n        if (containerHeight && containerHeight < targetEndTopOffset) {\n            const nextIndex = currentRowIndex + 1;\n            this.grid.verticalScrollContainer.scrollTo(nextIndex);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first())\n                .subscribe(() => {\n                    rowElement = this.getNextRowByIndex(nextIndex);\n                    this.focusElem(rowElement, visibleColumnIndex);\n                });\n        } else {\n            this.focusNextElement(rowElement, visibleColumnIndex);\n        }\n    }\n\n    protected focusElem(rowElement, visibleColumnIndex) {\n        if (rowElement.tagName.toLowerCase() === 'igx-grid-groupby-row' || rowElement.className === 'igx-grid__tr-container') {\n            rowElement.focus();\n        } else {\n            const isSummaryRow = rowElement.tagName.toLowerCase() === 'igx-grid-summary-row';\n            if (this.isColumnFullyVisible(visibleColumnIndex)) {\n                const cellSelector = this.getCellSelector(visibleColumnIndex, isSummaryRow);\n                const cell = rowElement.querySelector(`${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n                cell.focus();\n                return cell;\n            }\n            this.performHorizontalScrollToCell(parseInt(\n                rowElement.getAttribute('data-rowindex'), 10), visibleColumnIndex, isSummaryRow);\n        }\n    }\n\n    protected focusNextElement(rowElement, visibleColumnIndex) {\n        return this.focusElem(rowElement.nextElementSibling, visibleColumnIndex);\n    }\n\n    public goToFirstCell() {\n        const targetIndex = this.findFirstDataRowIndex();\n        const targetScr = this.grid.verticalScrollContainer.getScrollForIndex(targetIndex, false);\n        const verticalScroll = this.grid.verticalScrollContainer.getScroll();\n        if (verticalScroll.scrollTop === targetScr) {\n            this.onKeydownHome(this.grid.dataRowList.first.index);\n        } else {\n            this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.scrollTo(targetIndex !== -1 ? targetIndex : 0);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first()).subscribe(() => {\n                    this.onKeydownHome(this.grid.dataRowList.first.index);\n                });\n        }\n    }\n\n    public goToLastCell() {\n        const targetIndex = this.findLastDataRowIndex();\n        const targetScr = this.grid.verticalScrollContainer.getScrollForIndex(targetIndex, true);\n        const verticalScroll = this.grid.verticalScrollContainer.getScroll();\n        if (verticalScroll.scrollHeight === 0 ||\n            verticalScroll.scrollTop === targetScr) {\n            const rows = this.getAllRows();\n            const rowIndex = parseInt(rows[rows.length - 1].getAttribute('data-rowIndex'), 10);\n            this.onKeydownEnd(rowIndex);\n        } else {\n           this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.scrollTo(targetIndex !== -1 ? targetIndex : this.grid.dataView.length - 1);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first()).subscribe(() => {\n                    const rows = this.getAllRows();\n                    if (rows.length > 0) {\n                        const rowIndex = parseInt(rows[rows.length - 1].getAttribute('data-rowIndex'), 10);\n                        this.onKeydownEnd(rowIndex);\n                    }\n                });\n        }\n    }\n\n    public goToLastBodyElement() {\n        const verticalScroll = this.grid.verticalScrollContainer.getScroll();\n        if (verticalScroll.scrollHeight === 0 ||\n            verticalScroll.scrollTop === verticalScroll.scrollHeight - this.grid.verticalScrollContainer.igxForContainerSize) {\n            const rowIndex = this.grid.dataView.length - 1;\n            const row = this.grid.nativeElement.querySelector(`[data-rowindex=\"${rowIndex}\"]`) as HTMLElement;\n            const isRowTarget = row.tagName.toLowerCase() === 'igx-grid-groupby-row' ||\n            this.grid.isDetailRecord(this.grid.dataView[rowIndex]);\n            if (row && isRowTarget) {\n                row.focus();\n                return;\n            }\n            const isSummary = (row && row.tagName.toLowerCase() === 'igx-grid-summary-row') ? true : false;\n            this.onKeydownEnd(rowIndex, isSummary);\n        } else {\n            this.grid.verticalScrollContainer.scrollTo(this.grid.dataView.length - 1);\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first()).subscribe(() => {\n                    const rowIndex = this.grid.dataView.length - 1;\n                    const row = this.grid.nativeElement.querySelector(`[data-rowindex=\"${rowIndex}\"]`) as HTMLElement;\n                    const isRowTarget = row.tagName.toLowerCase() === 'igx-grid-groupby-row' ||\n                    this.grid.isDetailRecord(this.grid.dataView[rowIndex]);\n                    if (row && isRowTarget) {\n                        row.focus();\n                        return;\n                    }\n                    const isSummary = (row && row.tagName.toLowerCase() === 'igx-grid-summary-row') ? true : false;\n                    this.onKeydownEnd(rowIndex, isSummary);\n                });\n        }\n    }\n\n    public performTab(currentRowEl, selectedNode: ISelectionNode) {\n        const rowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        const isSummaryRow = selectedNode.isSummaryRow;\n        const nextIsDetailRow = rowIndex + 1 <= this.grid.dataView.length - 1 ?\n         this.grid.isDetailRecord(this.grid.dataView[rowIndex + 1]) : false;\n        const isLastColumn = this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex === visibleColumnIndex;\n        if (isSummaryRow && rowIndex === 0 &&\n            this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex === visibleColumnIndex) {\n            return;\n        }\n\n        if (this.isRowInEditMode(rowIndex)) {\n            this.moveNextEditable(rowIndex, visibleColumnIndex);\n            return;\n        }\n\n        if (nextIsDetailRow && isLastColumn) {\n            this.navigateDown(currentRowEl, { row: rowIndex, column: visibleColumnIndex });\n            return;\n        }\n\n        if (isLastColumn) {\n            const rowEl = this.grid.rowList.find(row => row.index === rowIndex + 1) ?\n                this.grid.rowList.find(row => row.index === rowIndex + 1) :\n                this.grid.summariesRowList.find(row => row.index === rowIndex + 1);\n            if (rowIndex === this.grid.dataView.length - 1 && this.grid.rootSummariesEnabled) {\n                this.onKeydownHome(0, true);\n                return;\n            }\n            if (rowEl) {\n                this.navigateDown(currentRowEl, { row: rowIndex, column: 0 });\n            }\n        } else {\n            const cell = this.getCellElementByVisibleIndex(rowIndex, visibleColumnIndex, isSummaryRow);\n            if (cell) {\n                this.onKeydownArrowRight(cell, selectedNode);\n            }\n        }\n    }\n\n    public moveFocusToFilterCell(toStart?: boolean) {\n        if (this.grid.filteringService.isFilterRowVisible) {\n            this.grid.filteringService.focusFilterRowCloseButton();\n            return;\n        }\n\n        const columns = this.grid.filteringService.unpinnedFilterableColumns;\n        const targetIndex = toStart ? 0 : columns.length - 1;\n        const visibleIndex = columns[targetIndex].visibleIndex;\n        const isVisible = toStart ? this.isColumnLeftEdgeVisible(visibleIndex) : this.isColumnRightEdgeVisible(visibleIndex);\n        if (isVisible) {\n            this.grid.filteringService.focusFilterCellChip(columns[targetIndex], false);\n        } else {\n            this.grid.filteringService.scrollToFilterCell(columns[targetIndex], false);\n        }\n    }\n\n    public navigatePrevFilterCell(column: IgxColumnComponent, eventArgs) {\n        const cols = this.grid.filteringService.unpinnedFilterableColumns;\n        const prevFilterableIndex = cols.indexOf(column) - 1;\n        const visibleIndex = column.visibleIndex;\n        if (visibleIndex === 0 || prevFilterableIndex < 0) {\n            // prev is not filter cell\n            const firstFiltarableCol = this.getFirstPinnedFilterableColumn();\n            if (!firstFiltarableCol || column === firstFiltarableCol) {\n                eventArgs.preventDefault();\n            }\n            return;\n        }\n        const prevColumn = cols[prevFilterableIndex];\n        const prevVisibleIndex = prevColumn.visibleIndex;\n\n        if (prevFilterableIndex >= 0 && visibleIndex > 0 && !this.isColumnLeftEdgeVisible(prevVisibleIndex) && !column.pinned) {\n            eventArgs.preventDefault();\n            this.grid.filteringService.scrollToFilterCell(prevColumn, false);\n        }\n    }\n\n    public navigateFirstCellIfPossible(eventArgs) {\n        if (this.grid.rowList.length > 0) {\n            if (this.grid.rowList.filter(row => row instanceof IgxGridGroupByRowComponent).length > 0) {\n                eventArgs.stopPropagation();\n                return;\n            }\n            this.goToFirstCell();\n        } else if (this.grid.rootSummariesEnabled) {\n            this.onKeydownHome(0, true);\n        }\n        eventArgs.preventDefault();\n    }\n\n    public navigateNextFilterCell(column: IgxColumnComponent, eventArgs) {\n        const cols = this.grid.filteringService.unpinnedFilterableColumns;\n        const nextFilterableIndex = cols.indexOf(column) + 1;\n        if (nextFilterableIndex >= this.grid.filteringService.unpinnedFilterableColumns.length) {\n            // next is not filter cell\n            this.navigateFirstCellIfPossible(eventArgs);\n            return;\n        }\n        const nextColumn = cols[nextFilterableIndex];\n        const nextVisibleIndex = nextColumn.visibleIndex;\n        if (!column.pinned && !this.isColumnRightEdgeVisible(nextVisibleIndex)) {\n            eventArgs.preventDefault();\n            this.grid.filteringService.scrollToFilterCell(nextColumn, true);\n        } else if (column === this.getLastPinnedFilterableColumn() && !this.isColumnRightEdgeVisible(nextVisibleIndex)) {\n            this.grid.filteringService.scrollToFilterCell(nextColumn, false);\n            eventArgs.stopPropagation();\n        }\n    }\n\n    private getLastPinnedFilterableColumn(): IgxColumnComponent {\n        const pinnedFilterableColums =\n            this.grid.pinnedColumns.filter(col => !(col.columnGroup) && col.filterable);\n        return pinnedFilterableColums[pinnedFilterableColums.length - 1];\n    }\n\n    private getFirstPinnedFilterableColumn(): IgxColumnComponent {\n        return this.grid.pinnedColumns.filter(col => !(col.columnGroup) && col.filterable)[0];\n    }\n\n    public performShiftTabKey(currentRowEl, selectedNode: ISelectionNode) {\n        const rowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        const isSummary = selectedNode.isSummaryRow;\n        if (isSummary && rowIndex === 0 && visibleColumnIndex === 0 && this.grid.rowList.length) {\n            this.goToLastBodyElement();\n            return;\n        }\n\n        if (this.isRowInEditMode(rowIndex)) {\n            this.movePreviousEditable(rowIndex, visibleColumnIndex);\n            return;\n        }\n\n        const prevIsDetailRow = rowIndex > 0 ? this.grid.isDetailRecord(this.grid.dataView[rowIndex - 1]) : false;\n        if (visibleColumnIndex === 0 && prevIsDetailRow) {\n            let target = currentRowEl.previousElementSibling;\n            const applyFocusFunc = () => {\n                    target = this.getRowByIndex(rowIndex - 1, '');\n                    target.focus({ preventScroll: true });\n            };\n            if (target) {\n                applyFocusFunc();\n            } else {\n                this.performVerticalScrollToCell(rowIndex - 1, visibleColumnIndex, () => {\n                    applyFocusFunc();\n                });\n            }\n\n            return;\n        }\n\n        if (visibleColumnIndex === 0) {\n            if (rowIndex === 0 && this.grid.allowFiltering && this.grid.filterMode === FilterMode.quickFilter) {\n                this.moveFocusToFilterCell();\n            } else {\n                this.navigateUp(currentRowEl,\n                    {\n                        row: rowIndex,\n                        column: this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex\n                    });\n            }\n        } else {\n            const cell = this.getCellElementByVisibleIndex(rowIndex, visibleColumnIndex, isSummary);\n            if (cell) {\n                this.onKeydownArrowLeft(cell, selectedNode);\n            }\n        }\n    }\n\n    public shouldPerformVerticalScroll(targetRowIndex: number, visibleColumnIndex: number): boolean {\n        const containerTopOffset = parseInt(this.verticalDisplayContainerElement.style.top, 10);\n        const targetRow = this.getRowByIndex(targetRowIndex, '') as any;\n        const rowHeight = this.grid.verticalScrollContainer.getSizeAt(targetRowIndex);\n        const containerHeight = this.grid.calcHeight ? Math.ceil(this.grid.calcHeight) : 0;\n        const targetEndTopOffset = targetRow ? targetRow.offsetTop + rowHeight + containerTopOffset :\n            containerHeight + rowHeight;\n        if (!targetRow || targetRow.offsetTop < Math.abs(containerTopOffset)\n            || containerHeight && containerHeight < targetEndTopOffset) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public performVerticalScrollToCell(rowIndex: number, visibleColIndex: number, cb?: () => void) {\n        this.grid.verticalScrollContainer.scrollTo(rowIndex);\n        this.grid.verticalScrollContainer.onChunkLoad\n            .pipe(first()).subscribe(() => {\n                cb();\n            });\n    }\n\n    public performHorizontalScrollToCell(\n        rowIndex: number, visibleColumnIndex: number, isSummary: boolean = false, cb?: () => void) {\n        const unpinnedIndex = this.getColumnUnpinnedIndex(visibleColumnIndex);\n       this.getFocusableGrid().nativeElement.focus({ preventScroll: true });\n        this.grid.parentVirtDir.onChunkLoad\n            .pipe(first())\n            .subscribe(() => {\n                if (cb) {\n                    cb();\n                } else {\n                    const cellElement = this.getCellElementByVisibleIndex(rowIndex, visibleColumnIndex, isSummary);\n                    if (cellElement) {\n                        cellElement.focus({ preventScroll: true });\n                    }\n                }\n            });\n        this.horizontalScroll(rowIndex).scrollTo(unpinnedIndex);\n    }\n\n    protected getFocusableGrid() {\n        return this.grid;\n    }\n\n    protected getRowByIndex(index, selector = this.getRowSelector()) {\n        const gridTag = this.grid.nativeElement.tagName.toLocaleLowerCase();\n        const row = Array.from(this.grid.tbody.nativeElement.querySelectorAll(\n            `${selector}[data-rowindex=\"${index}\"]`))\n            .find(x => this.getClosestElemByTag(x, gridTag).getAttribute('id') === this.grid.id);\n            return row;\n        }\n\n    protected getNextRowByIndex(nextIndex) {\n        const gridTag = this.grid.nativeElement.tagName.toLocaleLowerCase();\n        const row = Array.from(this.grid.tbody.nativeElement.querySelectorAll(\n            `[data-rowindex=\"${nextIndex}\"]`)).find(x => this.getClosestElemByTag(x, gridTag).getAttribute('id') === this.grid.id);\n        return row;\n    }\n\n    private getAllRows() {\n        const selector = this.getRowSelector();\n        return this.grid.nativeElement.querySelectorAll(selector);\n    }\n\n    protected getCellSelector(visibleIndex?: number, isSummary = false): string {\n        if (visibleIndex === 0 && this.grid.hasDetails && !isSummary) {\n            return 'igx-expandable-grid-cell';\n        }\n        return isSummary ? 'igx-grid-summary-cell' : 'igx-grid-cell';\n    }\n\n    protected getRowSelector(): string {\n        return 'igx-grid-row';\n    }\n\n    protected getClosestElemByTag(sourceElem, targetTag) {\n        let result = sourceElem;\n        while (result !== null && result.nodeType === 1) {\n            if (result.tagName.toLowerCase() === targetTag.toLowerCase()) {\n                return result;\n            }\n            result = result.parentNode;\n        }\n        return null;\n    }\n}\n","/* tslint:disable */\nexport default [\n    {\n        name: 'add_filter',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 15v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3zM5 10h10v2H5zM2 5h16v2H2zM8 15h4v2H8z\"/>\n      </svg>`\n    },\n    {\n        name: 'contains',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" data-name=\"Layer 1\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 3v18h18V3zm16 16H5V5h14z\"/>\n        <path d=\"M12 11.3a4.39 4.39 0 0 0-2.54.63 2.07 2.07 0 0 0-.9 1.78 2.29 2.29 0 0 0 .66 1.74 2.63 2.63 0 0 0 1.89.63 2.39 2.39 0 0 0 1.32-.37 3.05 3.05 0 0 0 1-.93 3.72 3.72 0 0 0 .08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 0 1-.21-.88 5.57 5.57 0 0 1-.07-.93v-3.5a2.44 2.44 0 0 0-.84-2 3.34 3.34 0 0 0-2.22-.7 3.54 3.54 0 0 0-2.3.72A1.93 1.93 0 0 0 9 10.29h1.71a.93.93 0 0 1 .29-.71 1.5 1.5 0 0 1 1-.29 1.45 1.45 0 0 1 1 .35 1.3 1.3 0 0 1 .37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 0 1-.71.77 2.27 2.27 0 0 1-1.21.34 1.18 1.18 0 0 1-.84-.27.92.92 0 0 1-.3-.72 1.16 1.16 0 0 1 .44-.9 1.76 1.76 0 0 1 1.22-.39z\"/>\n      </svg>`\n    },\n    {\n        name: 'does_not_contain',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M21,19.74V3H4.26L2.89,1.63,1.63,2.92,3,4.29V21H19.73l1.37,1.37,1.27-1.26ZM5,19V6.28l5.28,5.27a3.19,3.19,0,0,0-.81.38,2.07,2.07,0,0,0-.9,1.78,2.29,2.29,0,0,0,.66,1.74,2.63,2.63,0,0,0,1.89.63,2.39,2.39,0,0,0,1.32-.37,3.05,3.05,0,0,0,1-.93,3.72,3.72,0,0,0,.08.57c0,.19.1.38.16.58h1L17.73,19Zm5.79-6.23a1.31,1.31,0,0,1,.45-.25l1.37,1.36.28.29a1.57,1.57,0,0,1-.19.15,2.27,2.27,0,0,1-1.21.34,1.18,1.18,0,0,1-.84-.27.92.92,0,0,1-.3-.72A1.16,1.16,0,0,1,10.79,12.77Zm2.6-1.47h-.83L10.94,9.68l.08-.1a1.5,1.5,0,0,1,1-.29,1.45,1.45,0,0,1,1,.35,1.3,1.3,0,0,1,.37,1ZM19,17.74l-3.85-3.85V10.62a2.44,2.44,0,0,0-.84-2,3.34,3.34,0,0,0-2.22-.7,3.64,3.64,0,0,0-2.24.67L6.26,5H19Z\"/>\n    </svg>`\n    },\n    {\n        name: 'all',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M2 14h8v2H2zM2 6h12v2H2zM16 17l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z\"/>\n      </svg>\n      `\n    },\n    {\n        name: 'empty',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 17h2v2H5zM13 17h2v2h-2zM5 13h2v2H5zM17 17h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zM17 9h2v2h-2zM17 13h2v2h-2zM17 5h2v2h-2zM5 9h2v2H5zM5 5h2v2H5zM9 5h2v2H9z\"/>\n      </svg>`\n    },\n    {\n        name: 'end_expression',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z\"/>\n        <path d=\"M11.91 11h2v2h-2zM7.91 11h2v2h-2zM3.91 11h2v2h-2z\"/>\n      </svg>`\n    },\n    {\n        name: 'ends_with',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 14.5h2v2H3zM11 14.5h2v2h-2zM7 14.5h2v2H7zM20.8 14.8v-3A2.1 2.1 0 0 0 20 10a3 3 0 0 0-2-.6 3 3 0 0 0-2 .6 1.7 1.7 0 0 0-.7 1.5h1.5a.8.8 0 0 1 .3-.7 1.3 1.3 0 0 1 .9-.3 1.3 1.3 0 0 1 .9.4 1.1 1.1 0 0 1 .3.8v.6H18a3.8 3.8 0 0 0-2.2.6 1.8 1.8 0 0 0-.8 1.5 2 2 0 0 0 .6 1.6 2.3 2.3 0 0 0 1.6.6 2.1 2.1 0 0 0 1.2-.4 2.8 2.8 0 0 0 .8-.8 4.3 4.3 0 0 0 .1.5l.1.5H21a4.1 4.1 0 0 1-.2-.7 5.4 5.4 0 0 1 0-1zm-1.6-.5a1.5 1.5 0 0 1-.6.7 2 2 0 0 1-1 .2 1.1 1.1 0 0 1-.8-.2.8.8 0 0 1-.2-.6 1 1 0 0 1 .3-.8 1.5 1.5 0 0 1 1.1-.3h1.2z\"/>\n      </svg>`\n    },\n    {\n        name: 'equals',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 13.5h14v2H5zM5 8.5h14v2H5z\"/>\n      </svg>`\n    },\n    {\n        name: 'greater_than_or_equal',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z\"/>\n      </svg>`\n    },\n    {\n        name: 'greater_than',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z\"/>\n      </svg>\n      `\n    },\n    {\n        name: 'is_after',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M15 7h4v10h-4v2h6V5h-6v2zM11 3h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zM3 17h2v2H3zM3 13h2v2H3zM3 9h2v2H3zM7 17h2v2H7z\"/>\n      </svg>`\n    },\n    {\n        name: 'is_before',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M3 19h6v-2H5V7h4V5H3v14zM11 3h2v18h-2zM15 5h2v2h-2zM19 5h2v2h-2zM19 13h2v2h-2zM15 17h2v2h-2zM19 17h2v2h-2zM19 9h2v2h-2z\"/>\n      </svg>`\n    },\n    {\n        name: 'is_false',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7z\"/>\n        <path d=\"M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z\"/>\n      </svg>`\n    },\n    {\n        name: 'is_not_null',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 0 0-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 0 0 7.43-12.87zM6.5 12A5.5 5.5 0 0 1 12 6.5a5.65 5.65 0 0 1 1.84.32l-5.41 9.36A5.49 5.49 0 0 1 6.5 12zm5.5 5.5a5.65 5.65 0 0 1-1.84-.32l5.41-9.36A5.5 5.5 0 0 1 12 17.5z\"/>\n      </svg>`\n    },\n    {\n        name: 'is_null',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 4.5a7.5 7.5 0 1 0 7.5 7.5A7.5 7.5 0 0 0 12 4.5zm0 13a5.5 5.5 0 1 1 5.5-5.5 5.5 5.5 0 0 1-5.5 5.5z\"/>\n      </svg>`\n    },\n    {\n        name: 'is_true',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M19.44 14.22zM16.56 14.22zM16.56 14.22L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z\"/>\n        <path d=\"M18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7zM8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z\"/>\n      </svg>`\n    },\n    {\n        name: 'last_month',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M17.5 14a4.48 4.48 0 1 0 4.5 4.5 4.47 4.47 0 0 0-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z\"/>\n        <path d=\"M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z\"/>\n      </svg>`\n    },\n    {\n        name: 'last_year',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M21 10v11H7v2h14a2 2 0 0 0 2-2V10z\"/>\n        <path d=\"M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z\"/>\n        <path d=\"M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z\"/>\n      </svg>`\n    },\n    {\n        name: 'less_than_or_equal',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z\"/>\n      </svg>`\n    },\n    {\n        name: 'less_than',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z\"/>\n      </svg>`\n    },\n    {\n        name: 'next_month',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M20 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z\"/>\n        <path d=\"M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z\"/>\n      </svg>`\n    },\n    {\n        name: 'next_year',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z\"/>\n        <path d=\"M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z\"/>\n        <path d=\"M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z\"/>\n      </svg>`\n    },\n    {\n        name: 'not_empty',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M5 9h2v2H5zM9 17h2v2H9zM13 17h2v2h-2zM17 9h2v2h-2zM17 5h2v2h-2zM5 17h2v2H5zM13 5h2v2h-2zM5 13h2v2H5zM19 15v-2h-2v.47L18.53 15H19zM11 7V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z\"/>\n      </svg>`\n    },\n    {\n        name: 'not_equal',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z\"/>\n      </svg>`\n    },\n    {\n        name: 'start_expression',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.1 11h2v2h-2zM10.1 11h2v2h-2z\"/>\n        <path d=\"M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zM14.1 11h2v2h-2z\"/>\n      </svg>`\n    },\n    {\n        name: 'starts_with',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M4.97 13.23h3.06L6.5 9.12l-1.53 4.11z\"/>\n        <path d=\"M5.89 7.5L2 16.5h1.72l.73-1.8h4.1l.73 1.8H11l-3.89-9zM5 13.23l1.5-4.11L8 13.23zM12 14.5h2v2h-2zM20 14.5h2v2h-2zM16 14.5h2v2h-2z\"/>\n      </svg>`\n    },\n    {\n        name: 'this_month',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M6 9h2v2H6zM6 13h2v2H6zM11 13h2v2h-2zM6 17h2v2H6zM11 17h2v2h-2zM11 9h2v2h-2zM16 9h2v2h-2zM21 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z\"/>\n        <path d=\"M5 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H5z\"/>\n      </svg>`\n    },\n    {\n        name: 'this_year',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z\"/>\n        <path d=\"M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z\"/>\n        <path d=\"M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z\"/>\n      </svg>`\n    },\n    {\n        name: 'today',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z\"/>\n        <path d=\"M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z\"/>\n      </svg>`\n    },\n    {\n        name: 'ungroup',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M15 15h5v5h-5zM6 13h5v5H6zM13 6h5v5h-5zM6 6h5v5H6z\"/>\n        <path d=\"M20 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h9v-2H4V4h16v9h2V4a2 2 0 0 0-2-2z\"/>\n      </svg>`\n    },\n    {\n        name: 'yesterday',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z\"/>\n        <path d=\"M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z\"/>\n      </svg>`\n    },\n    {\n        name: 'pin',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path d=\"M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z\"/>\n      </svg>`\n    },\n    {\n        name: 'unpin',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v25H0V0z\"/>\n        <path d=\"M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z\" />\n      </svg>`\n    },\n    {\n        name: 'ungroup',\n        value: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n          <path d=\"M18,4.5H6A1.5,1.5,0,0,0,4.5,6V18A1.5,1.5,0,0,0,6,19.5h6.75V18H6V6H18v6.75h1.5V6A1.5,1.5,0,0,0,18,4.5Z\"/>\n          <rect x=\"7.5\" y=\"12.75\" width=\"3.75\" height=\"3.75\"/>\n          <rect x=\"14.25\" y=\"14.25\" width=\"3.75\" height=\"3.75\"/>\n          <rect x=\"7.5\" y=\"7.5\" width=\"3.75\" height=\"3.75\"/>\n          <rect x=\"12.75\" y=\"7.5\" width=\"3.75\" height=\"3.75\"/>\n        </svg>`\n    }\n];\n","import { Pipe, PipeTransform, Inject, LOCALE_ID } from '@angular/core';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { cloneArray } from '../../core/utils';\nimport { GridType } from './grid.interface';\nimport { DatePipe, DecimalPipe } from '@angular/common';\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'igxCellStyleClasses'\n})\nexport class IgxGridCellStyleClassesPipe implements PipeTransform {\n\n    transform(cssClasses: { [prop: string]: any }, value: any, data: any, field: string, index: number): string {\n        if (!cssClasses) {\n            return '';\n        }\n\n        const result = [];\n\n        for (const cssClass of Object.keys(cssClasses)) {\n            const callbackOrValue = cssClasses[cssClass];\n            const apply = typeof callbackOrValue === 'function' ? callbackOrValue(data, field, value, index) : callbackOrValue;\n            if (apply) {\n                result.push(cssClass);\n            }\n        }\n\n        return result.join(' ');\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'igxCellStyles'\n})\nexport class IgxGridCellStylesPipe implements PipeTransform {\n\n    transform(styles: { [prop: string]: any }, value: any, data: any, field: string, index: number): { [prop: string]: any } {\n        const css = {};\n        if (!styles) {\n            return css;\n        }\n\n        for (const prop of Object.keys(styles)) {\n            const res = styles[prop];\n            css[prop] = typeof res === 'function' ? res(data, field, value, index) : res;\n        }\n\n        return css;\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'igxNotGrouped'\n})\nexport class IgxGridNotGroupedPipe implements PipeTransform {\n\n    transform(value: any[]): any[] {\n        return value.filter(item => !item.columnGroup);\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'igxTopLevel'\n})\nexport class IgxGridTopLevelColumns implements PipeTransform {\n\n    transform(value: any[]): any[] {\n        return value.filter(item => item.level === 0);\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'filterCondition',\n    pure: true\n})\nexport class IgxGridFilterConditionPipe implements PipeTransform {\n\n    public transform(value: string): string {\n        return value.split(/(?=[A-Z])/).join(' ');\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'gridTransaction',\n    pure: true\n})\nexport class IgxGridTransactionPipe implements PipeTransform {\n\n    constructor(private gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) { }\n\n    transform(collection: any[], id: string, pipeTrigger: number) {\n        const grid: IgxGridBaseDirective = this.gridAPI.grid;\n\n        if ( grid.transactions.enabled) {\n            const result = DataUtil.mergeTransactions(\n                cloneArray(collection),\n                grid.transactions.getAggregatedChanges(true),\n                grid.primaryKey);\n            return result;\n        }\n        return collection;\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'paginatorOptions',\n    pure: true,\n})\nexport class IgxGridPaginatorOptionsPipe implements PipeTransform {\n    public transform(values: Array<number>) {\n        return Array.from(new Set([...values])).sort((a, b) => a - b);\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'visibleColumns',\n    pure: true\n})\nexport class IgxHasVisibleColumnsPipe implements PipeTransform {\n    transform(values: any[], hasVisibleColumns) {\n        if (!(values && values.length)) {\n            return values;\n        }\n        return hasVisibleColumns ? values : [];\n    }\n\n}\n\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'igxdate'\n})\nexport class IgxDatePipeComponent extends DatePipe implements PipeTransform {\n\n    private readonly DEFAULT_DATE_FORMAT = 'mediumDate';\n\n    constructor(@Inject(LOCALE_ID) locale: string) {\n        // D.P. constructor duplication due to es6 compilation, might be obsolete in the future\n        super(locale);\n    }\n    transform(value: any, locale: string): string {\n        if (value && value instanceof Date) {\n            if (locale) {\n                return super.transform(value, this.DEFAULT_DATE_FORMAT, undefined, locale);\n            } else {\n                return super.transform(value);\n            }\n        } else {\n            return value;\n        }\n    }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Pipe({\n    name: 'igxdecimal'\n})\nexport class IgxDecimalPipeComponent extends DecimalPipe implements PipeTransform {\n    constructor(@Inject(LOCALE_ID) locale: string) {\n        // D.P. constructor duplication due to es6 compilation, might be obsolete in the future\n        super(locale);\n    }\n    transform(value: any, locale: string): string {\n        if (value && typeof value === 'number') {\n            if (locale) {\n                return super.transform(value, undefined, locale);\n            } else {\n                return super.transform(value);\n            }\n        } else {\n            return value;\n        }\n    }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { IgxIconService } from '../../icon/icon.service';\nimport { FilteringExpressionsTree, IFilteringExpressionsTree } from '../../data-operations/filtering-expressions-tree';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport icons from './svgIcons';\nimport { IFilteringExpression, FilteringLogic } from '../../data-operations/filtering-expression.interface';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { IForOfState } from '../../directives/for-of/for_of.directive';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IFilteringOperation } from '../../data-operations/filtering-condition';\nimport { GridBaseAPIService } from '../api.service';\nimport { IColumnVisibilityChangedEventArgs } from '../grid';\nimport { IColumnResizeEventArgs } from '../common/events';\nimport { GridType } from '../common/grid.interface';\nimport { IgxDatePipeComponent } from '../common/pipes';\n\nconst FILTERING_ICONS_FONT_SET = 'filtering-icons';\n\n/**\n *@hidden\n */\nexport class ExpressionUI {\n    public expression: IFilteringExpression;\n    public beforeOperator: FilteringLogic;\n    public afterOperator: FilteringLogic;\n    public isSelected = false;\n    public isVisible = true;\n}\n\n/**\n *@hidden\n */\n@Injectable()\nexport class IgxFilteringService implements OnDestroy {\n\n    private columnsWithComplexFilter = new Set<string>();\n    private areEventsSubscribed = false;\n    private destroy$ = new Subject<boolean>();\n    private isFiltering = false;\n    private columnToExpressionsMap = new Map<string, ExpressionUI[]>();\n    private _datePipe: IgxDatePipeComponent;\n    private columnStartIndex = -1;\n    private _filterIconsRegistered = false;\n\n    public gridId: string;\n    public isFilterRowVisible = false;\n    public filteredColumn: IgxColumnComponent = null;\n    public selectedExpression: IFilteringExpression = null;\n    public columnToFocus: IgxColumnComponent = null;\n    public shouldFocusNext = false;\n    public columnToMoreIconHidden = new Map<string, boolean>();\n\n    grid: IgxGridBaseDirective;\n\n    constructor(private gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>, private iconService: IgxIconService) {}\n\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    public get displayContainerWidth() {\n        return parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth, 10);\n    }\n\n    public get displayContainerScrollLeft() {\n        return this.grid.headerContainer.scrollPosition;\n    }\n\n    public get areAllColumnsInView() {\n        return parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth, 10) === 0;\n    }\n\n    public get unpinnedFilterableColumns() {\n        return this.grid.unpinnedColumns.filter(col => !col.columnGroup && col.filterable);\n    }\n\n    public get unpinnedColumns() {\n        return this.grid.unpinnedColumns.filter(col => !col.columnGroup);\n    }\n\n    public get datePipe(): IgxDatePipeComponent {\n        if (!this._datePipe) {\n            this._datePipe = new IgxDatePipeComponent(this.grid.locale);\n        }\n        return this._datePipe;\n    }\n\n    /**\n     * Subscribe to grid's events.\n     */\n    public subscribeToEvents() {\n        if (!this.areEventsSubscribed) {\n            this.areEventsSubscribed = true;\n\n            this.grid.onColumnResized.pipe(takeUntil(this.destroy$)).subscribe((eventArgs: IColumnResizeEventArgs) => {\n                this.updateFilteringCell(eventArgs.column);\n            });\n\n            this.grid.parentVirtDir.onChunkLoad.pipe(takeUntil(this.destroy$)).subscribe((eventArgs: IForOfState) => {\n                if (eventArgs.startIndex !== this.columnStartIndex) {\n                    this.columnStartIndex = eventArgs.startIndex;\n                    this.grid.filterCellList.forEach((filterCell) => {\n                        filterCell.updateFilterCellArea();\n                    });\n                }\n                if (this.columnToFocus) {\n                    this.focusFilterCellChip(this.columnToFocus, false);\n                    this.columnToFocus = null;\n                }\n            });\n\n            this.grid.onColumnMovingEnd.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this.grid.filterCellList.forEach((filterCell) => {\n                    filterCell.updateFilterCellArea();\n                });\n            });\n\n            this.grid.onColumnVisibilityChanged.pipe(takeUntil(this.destroy$)).subscribe((eventArgs: IColumnVisibilityChangedEventArgs) => {\n                if (this.grid.filteringRow && this.grid.filteringRow.column === eventArgs.column ) {\n                    this.grid.filteringRow.close();\n\n                }\n            });\n        }\n    }\n\n    /**\n     * Internal method to create expressionsTree and filter grid used in both filter modes.\n     */\n    public filterInternal(field: string, expressions: FilteringExpressionsTree | Array<ExpressionUI> = null): void {\n        this.isFiltering = true;\n\n        let expressionsTree;\n        if (expressions instanceof FilteringExpressionsTree) {\n            expressionsTree = expressions;\n        } else {\n            expressionsTree = this.createSimpleFilteringTree(field, expressions);\n        }\n\n        if (expressionsTree.filteringOperands.length === 0) {\n            this.clearFilter(field);\n        } else {\n            this.filter(field, null, expressionsTree);\n        }\n\n        this.isFiltering = false;\n    }\n\n    /**\n     * Execute filtering on the grid.\n     */\n    public filter(field: string, value: any, conditionOrExpressionTree?: IFilteringOperation | IFilteringExpressionsTree,\n        ignoreCase?: boolean) {\n        const col = this.gridAPI.get_column_by_name(field);\n        const filteringIgnoreCase = ignoreCase || (col ? col.filteringIgnoreCase : false);\n\n        if (conditionOrExpressionTree) {\n            this.gridAPI.filter(field, value, conditionOrExpressionTree, filteringIgnoreCase);\n        } else {\n            const expressionsTreeForColumn = this.grid.filteringExpressionsTree.find(field);\n            if (!expressionsTreeForColumn) {\n                throw new Error('Invalid condition or Expression Tree!');\n            } else if (expressionsTreeForColumn instanceof FilteringExpressionsTree) {\n                this.gridAPI.filter(field, value, expressionsTreeForColumn, filteringIgnoreCase);\n            } else {\n                const expressionForColumn = expressionsTreeForColumn as IFilteringExpression;\n                this.gridAPI.filter(field, value, expressionForColumn.condition, filteringIgnoreCase);\n            }\n        }\n\n        // Wait for the change detection to update filtered data through the pipes and then emit the event.\n        requestAnimationFrame(() => this.grid.onFilteringDone.emit(col.filteringExpressionsTree));\n    }\n\n    /**\n     * Clear the filter of a given column.\n     */\n    public clearFilter(field: string): void {\n        if (field) {\n            const column = this.gridAPI.get_column_by_name(field);\n            if (!column) {\n                return;\n            }\n        }\n\n        this.isFiltering = true;\n\n        this.gridAPI.clear_filter(field);\n\n        // Wait for the change detection to update filtered data through the pipes and then emit the event.\n        requestAnimationFrame(() => this.grid.onFilteringDone.emit(null));\n\n        if (field) {\n            const expressions = this.getExpressions(field);\n            expressions.length = 0;\n        }\n\n        this.isFiltering = false;\n    }\n\n    /**\n     * Filters all the `IgxColumnComponent` in the `IgxGridComponent` with the same condition.\n     */\n    public filterGlobal(value: any, condition, ignoreCase?) {\n        this.gridAPI.filter_global(value, condition, ignoreCase);\n\n        // Wait for the change detection to update filtered data through the pipes and then emit the event.\n        requestAnimationFrame(() => this.grid.onFilteringDone.emit(this.grid.filteringExpressionsTree));\n    }\n\n    /**\n     * Register filtering SVG icons in the icon service.\n     */\n    public registerSVGIcons(): void {\n        if (!this._filterIconsRegistered) {\n            for (const icon of icons) {\n                if (!this.iconService.isSvgIconCached(icon.name, FILTERING_ICONS_FONT_SET)) {\n                    this.iconService.addSvgIconFromText(icon.name, icon.value, FILTERING_ICONS_FONT_SET);\n                }\n            }\n            this._filterIconsRegistered = true;\n        }\n    }\n\n    /**\n     * Returns the ExpressionUI array for a given column.\n     */\n    public getExpressions(columnId: string): ExpressionUI[] {\n        if (!this.columnToExpressionsMap.has(columnId)) {\n            const column = this.grid.columns.find((col) => col.field === columnId);\n            const expressionUIs = new Array<ExpressionUI>();\n            if (column) {\n                this.generateExpressionsList(column.filteringExpressionsTree, this.grid.filteringExpressionsTree.operator, expressionUIs);\n                this.columnToExpressionsMap.set(columnId, expressionUIs);\n            }\n            return expressionUIs;\n        }\n\n        return this.columnToExpressionsMap.get(columnId);\n    }\n\n    /**\n     * Recreates all ExpressionUIs for all columns. Executed after filtering to refresh the cache.\n     */\n    public refreshExpressions() {\n        if (!this.isFiltering) {\n            this.columnsWithComplexFilter.clear();\n\n            this.columnToExpressionsMap.forEach((value: ExpressionUI[], key: string) => {\n                const column = this.grid.columns.find((col) => col.field === key);\n                if (column) {\n                    value.length = 0;\n\n                    this.generateExpressionsList(column.filteringExpressionsTree, this.grid.filteringExpressionsTree.operator, value);\n\n                    const isComplex = this.isFilteringTreeComplex(column.filteringExpressionsTree);\n                    if (isComplex) {\n                        this.columnsWithComplexFilter.add(key);\n                    }\n\n                    this.updateFilteringCell(column);\n                } else {\n                    this.columnToExpressionsMap.delete(key);\n                }\n            });\n        }\n    }\n\n    /**\n     * Remove an ExpressionUI for a given column.\n     */\n    public removeExpression(columnId: string, indexToRemove: number) {\n        const expressionsList = this.getExpressions(columnId);\n\n        if (indexToRemove === 0 && expressionsList.length > 1) {\n            expressionsList[1].beforeOperator = null;\n        } else if (indexToRemove === expressionsList.length - 1) {\n            expressionsList[indexToRemove - 1].afterOperator = null;\n        } else {\n            expressionsList[indexToRemove - 1].afterOperator = expressionsList[indexToRemove + 1].beforeOperator;\n            expressionsList[0].beforeOperator = null;\n            expressionsList[expressionsList.length - 1].afterOperator = null;\n        }\n\n        expressionsList.splice(indexToRemove, 1);\n    }\n\n    /**\n     * Generate filtering tree for a given column from existing ExpressionUIs.\n     */\n    public createSimpleFilteringTree(columnId: string, expressionUIList = null): FilteringExpressionsTree {\n        const expressionsList = expressionUIList ? expressionUIList : this.getExpressions(columnId);\n        const expressionsTree = new FilteringExpressionsTree(FilteringLogic.Or, columnId);\n        let currAndBranch: FilteringExpressionsTree;\n        let currExpressionUI: ExpressionUI;\n\n        for (let i = 0; i < expressionsList.length; i++) {\n            currExpressionUI = expressionsList[i];\n\n            if (!currExpressionUI.expression.condition.isUnary && currExpressionUI.expression.searchVal === null) {\n                if (currExpressionUI.afterOperator === FilteringLogic.And && !currAndBranch) {\n                    currAndBranch = new FilteringExpressionsTree(FilteringLogic.And, columnId);\n                    expressionsTree.filteringOperands.push(currAndBranch);\n                }\n                continue;\n            }\n\n            if ((currExpressionUI.beforeOperator === undefined || currExpressionUI.beforeOperator === null ||\n                 currExpressionUI.beforeOperator === FilteringLogic.Or) &&\n                currExpressionUI.afterOperator === FilteringLogic.And) {\n\n                currAndBranch = new FilteringExpressionsTree(FilteringLogic.And, columnId);\n                expressionsTree.filteringOperands.push(currAndBranch);\n                currAndBranch.filteringOperands.push(currExpressionUI.expression);\n\n            } else if (currExpressionUI.beforeOperator === FilteringLogic.And) {\n                currAndBranch.filteringOperands.push(currExpressionUI.expression);\n            } else {\n                expressionsTree.filteringOperands.push(currExpressionUI.expression);\n                currAndBranch = null;\n            }\n        }\n\n        return expressionsTree;\n    }\n\n    /**\n     * Returns whether a complex filter is applied to a given column.\n     */\n    public isFilterComplex(columnId: string) {\n        if (this.columnsWithComplexFilter.has(columnId)) {\n            return true;\n        }\n\n        const column = this.grid.columns.find((col) => col.field === columnId);\n        const isComplex = column && this.isFilteringTreeComplex(column.filteringExpressionsTree);\n        if (isComplex) {\n            this.columnsWithComplexFilter.add(columnId);\n        }\n\n        return isComplex;\n    }\n\n    /**\n     * Returns the string representation of the FilteringLogic operator.\n     */\n    public getOperatorAsString(operator: FilteringLogic): any {\n        if (operator === 0) {\n            return this.grid.resourceStrings.igx_grid_filter_operator_and;\n        } else {\n            return this.grid.resourceStrings.igx_grid_filter_operator_or;\n        }\n    }\n\n    /**\n     * Generate the label of a chip from a given filtering expression.\n     */\n    public getChipLabel(expression: IFilteringExpression): any {\n        if (expression.condition.isUnary) {\n            return this.grid.resourceStrings[`igx_grid_filter_${expression.condition.name}`] || expression.condition.name;\n        } else if (expression.searchVal instanceof Date) {\n            return this.datePipe.transform(expression.searchVal, this.grid.locale);\n        } else {\n            return expression.searchVal;\n        }\n    }\n\n    /**\n     * Updates the content of a filterCell.\n     */\n    public updateFilteringCell(column: IgxColumnComponent) {\n        const filterCell = column.filterCell;\n        if (filterCell) {\n            filterCell.updateFilterCellArea();\n        }\n    }\n\n    /**\n     * Focus a chip in a filterCell.\n     */\n    public focusFilterCellChip(column: IgxColumnComponent, focusFirst: boolean) {\n        const filterCell = column.filterCell;\n        if (filterCell) {\n            filterCell.focusChip(focusFirst);\n        }\n    }\n\n    /**\n     * Focus the close button in the filtering row.\n     */\n    public focusFilterRowCloseButton() {\n        this.grid.filteringRow.closeButton.nativeElement.focus();\n    }\n\n    public get filteredData() {\n        return this.grid.filteredData;\n    }\n\n    /**\n     * Scrolls to a filterCell.\n     */\n    public scrollToFilterCell(column: IgxColumnComponent, shouldFocusNext: boolean) {\n        this.grid.nativeElement.focus({preventScroll: true});\n        this.columnToFocus = column;\n        this.shouldFocusNext = shouldFocusNext;\n\n        let currentColumnRight = 0;\n        let currentColumnLeft = 0;\n        for (let index = 0; index < this.unpinnedColumns.length; index++) {\n            currentColumnRight += parseInt(this.unpinnedColumns[index].width, 10);\n            if (this.unpinnedColumns[index] === column) {\n                currentColumnLeft = currentColumnRight - parseInt(this.unpinnedColumns[index].width, 10);\n                break;\n            }\n        }\n\n        const forOfDir = this.grid.headerContainer;\n        const width = this.displayContainerWidth + this.displayContainerScrollLeft;\n        if (shouldFocusNext) {\n            forOfDir.scrollPosition += currentColumnRight - width;\n        } else {\n            forOfDir.scrollPosition = currentColumnLeft;\n        }\n    }\n\n    private isFilteringTreeComplex(expressions: IFilteringExpressionsTree | IFilteringExpression): boolean {\n        if (!expressions) {\n            return false;\n        }\n\n        if (expressions instanceof FilteringExpressionsTree) {\n            const expressionsTree = expressions as FilteringExpressionsTree;\n            if (expressionsTree.operator === FilteringLogic.Or) {\n                const andOperatorsCount = this.getChildAndOperatorsCount(expressionsTree);\n\n                // having more that 'And' and operator in the sub-tree means that the filter could not be represented without parentheses.\n                return andOperatorsCount > 1;\n            }\n\n            let isComplex = false;\n            for (let i = 0; i < expressionsTree.filteringOperands.length; i++) {\n                isComplex = isComplex || this.isFilteringTreeComplex(expressionsTree.filteringOperands[i]);\n            }\n\n            return isComplex;\n        }\n\n        return false;\n    }\n\n    private getChildAndOperatorsCount(expressions: IFilteringExpressionsTree): number {\n        let count = 0;\n        let operand;\n        for (let i = 0; i < expressions.filteringOperands.length; i++) {\n            operand = expressions[i];\n            if (operand instanceof FilteringExpressionsTree) {\n                if (operand.operator === FilteringLogic.And) {\n                    count++;\n                }\n\n                count = count + this.getChildAndOperatorsCount(operand);\n            }\n        }\n\n        return count;\n    }\n\n    public generateExpressionsList(expressions: IFilteringExpressionsTree | IFilteringExpression,\n        operator: FilteringLogic,\n        expressionsUIs: ExpressionUI[]): void {\n        this.generateExpressionsListRecursive(expressions, operator, expressionsUIs);\n\n        // The beforeOperator of the first expression and the afterOperator of the last expression should be null\n        if (expressionsUIs.length) {\n            expressionsUIs[expressionsUIs.length - 1].afterOperator = null;\n        }\n    }\n\n    private generateExpressionsListRecursive(expressions: IFilteringExpressionsTree | IFilteringExpression,\n                                    operator: FilteringLogic,\n                                    expressionsUIs: ExpressionUI[]): void {\n        if (!expressions) {\n            return;\n        }\n\n        if (expressions instanceof FilteringExpressionsTree) {\n            const expressionsTree = expressions as FilteringExpressionsTree;\n            for (let i = 0; i < expressionsTree.filteringOperands.length; i++) {\n                this.generateExpressionsListRecursive(expressionsTree.filteringOperands[i], expressionsTree.operator, expressionsUIs);\n            }\n            if (expressionsUIs.length) {\n                expressionsUIs[expressionsUIs.length - 1].afterOperator = operator;\n            }\n        } else {\n            const exprUI = new ExpressionUI();\n            exprUI.expression = expressions as IFilteringExpression;\n            exprUI.afterOperator = operator;\n\n            const prevExprUI = expressionsUIs[expressionsUIs.length - 1];\n            if (prevExprUI) {\n                exprUI.beforeOperator = prevExprUI.afterOperator;\n            }\n\n            expressionsUIs.push(exprUI);\n        }\n    }\n\n    public isFilteringExpressionsTreeEmpty(expressionTree: IFilteringExpressionsTree): boolean {\n        if (FilteringExpressionsTree.empty(expressionTree)) {\n            return true;\n        }\n\n        let expr: any;\n\n        for (let i = 0; i < expressionTree.filteringOperands.length; i++) {\n            expr = expressionTree.filteringOperands[i];\n\n            if ((expr instanceof FilteringExpressionsTree)) {\n                const exprTree = expr as FilteringExpressionsTree;\n                if (exprTree.filteringOperands && exprTree.filteringOperands.length) {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { IgxColumnComponent } from '../columns/column.component';\n\n/**\n * @hidden\n * @internal\n */\n@Injectable()\nexport class IgxColumnResizingService {\n\n    private pinnedMaxWidth: string;\n\n    /**\n     *@hidden\n     */\n    public startResizePos: number;\n    /**\n     * Indicates that a column is currently being resized.\n     */\n    public isColumnResizing: boolean;\n    /**\n     *@hidden\n     */\n    public resizeCursor: string = null;\n    /**\n     *@hidden\n     */\n    public showResizer = false;\n    /**\n     * The column being resized.\n     */\n    public column: IgxColumnComponent;\n\n    constructor(private zone: NgZone) { }\n\n    /**\n     *@hidden\n     */\n    get resizerHeight(): number {\n        let height = this.column.grid.getVisibleContentHeight();\n\n        // Column height multiplier in case there are Column Layouts. The resizer height need to take into account rowStart.\n        let columnHeightMultiplier = 1;\n        if (this.column.columnLayoutChild) {\n            columnHeightMultiplier = this.column.grid.multiRowLayoutRowSize - this.column.rowStart + 1;\n        }\n\n        if (this.column.level !== 0) {\n            height -= this.column.topLevelParent.headerGroup.height - this.column.headerGroup.height * columnHeightMultiplier;\n        }\n\n        return height;\n    }\n\n    /**\n     * Returns the minimal possible width to which the column can be resized.\n     */\n    get restrictResizeMin(): number {\n        const actualMinWidth = parseFloat(this.column.minWidth);\n        const minWidth = actualMinWidth < parseFloat(this.column.width) ? actualMinWidth : parseFloat(this.column.width);\n\n        return this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width - minWidth;\n    }\n\n    /**\n     * Returns the maximal possible width to which the column can be resized.\n     */\n    get restrictResizeMax(): number {\n        const actualWidth = this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;\n        if (this.column.maxWidth) {\n            return parseFloat(this.column.maxWidth) - actualWidth;\n        } else {\n            return Number.MAX_SAFE_INTEGER;\n        }\n    }\n\n    /**\n     * Autosizes the column to the longest currently visible cell value, including the header cell.\n     * If the column has a predifined maxWidth and the autosized column width will become bigger than it,\n     * then the column is sized to its maxWidth.\n     * If the column is pinned and the autosized column width will cause the pinned area to become bigger\n     * than the maximum allowed pinned area width (80% of the total grid width), autosizing will be deismissed.\n     */\n    public autosizeColumnOnDblClick() {\n        const currentColWidth = this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;\n\n        const size = this.column.getLargestCellWidth();\n        if (this.column.maxWidth && (parseFloat(size) > parseFloat(this.column.maxWidth))) {\n            this.column.width = parseFloat(this.column.maxWidth) + 'px';\n        } else if (parseFloat(size) < parseFloat(this.column.minWidth)) {\n            this.column.width = this.column.minWidth + 'px';\n        } else {\n            this.column.width = size;\n        }\n\n        this.zone.run(() => {});\n\n        this.column.grid.onColumnResized.emit({\n            column: this.column,\n            prevWidth: currentColWidth.toString(),\n            newWidth: this.column.width\n        });\n    }\n\n    /**\n     * Resizes the column regaridng to the column minWidth and maxWidth.\n     */\n    public resizeColumn(event: MouseEvent) {\n        this.showResizer = false;\n        const diff = event.clientX - this.startResizePos;\n\n        let currentColWidth = parseFloat(this.column.width);\n        const actualWidth = this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;\n        currentColWidth = Number.isNaN(currentColWidth) || (currentColWidth < actualWidth) ? actualWidth : currentColWidth;\n\n        const colMinWidth = this.getColMinWidth(this.column);\n        const colMaxWidth = this.getColMaxWidth(this.column);\n        if (this.column.grid.hasColumnLayouts) {\n            this.resizeColumnLayoutFor(this.column, diff);\n        } else {\n            if (currentColWidth + diff < colMinWidth) {\n                this.column.width = colMinWidth + 'px';\n            } else if (colMaxWidth && (currentColWidth + diff > colMaxWidth)) {\n                this.column.width = colMaxWidth + 'px';\n            } else {\n                this.column.width = (currentColWidth + diff) + 'px';\n            }\n        }\n\n        this.zone.run(() => {});\n\n        if (currentColWidth !== parseFloat(this.column.width)) {\n            this.column.grid.onColumnResized.emit({\n                column: this.column,\n                prevWidth: currentColWidth.toString(),\n                newWidth: this.column.width\n            });\n        }\n\n        this.isColumnResizing = false;\n    }\n\n    protected getColMinWidth(column: IgxColumnComponent) {\n        let currentColWidth = parseFloat(column.width);\n        const actualWidth = column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;\n        currentColWidth = Number.isNaN(currentColWidth) || (currentColWidth < actualWidth) ? actualWidth : currentColWidth;\n\n        const actualMinWidth = parseFloat(column.minWidth);\n        return actualMinWidth < currentColWidth ? actualMinWidth : currentColWidth;\n    }\n\n    protected getColMaxWidth(column: IgxColumnComponent) {\n        return column.pinned ? parseFloat(this.pinnedMaxWidth) : parseFloat(column.maxWidth);\n    }\n\n    protected resizeColumnLayoutFor(column: IgxColumnComponent, diff: number) {\n        const relativeColumns = column.getResizableColUnderEnd();\n        const combinedSpan = relativeColumns.reduce((acc, col) =>  acc + col.spanUsed, 0);\n\n        // Resize first those who might reach min/max width\n        let columnsToResize = [...relativeColumns];\n        let updatedDiff = diff;\n        let updatedCombinedSpan = combinedSpan;\n        let setMinMaxCols = false;\n        do {\n            // Cycle them until there are not ones that reach min/max size, because the diff accumulates after each cycle.\n            // This is because we can have at first 2 cols reaching min width and then after\n            // recalculating the diff there might be 1 more that reaches min width.\n            setMinMaxCols = false;\n            let newCombinedSpan = updatedCombinedSpan;\n            const newColsToResize = [];\n            columnsToResize.forEach((col) => {\n                const currentResizeWidth = parseFloat(col.target.calcWidth);\n                const resizeScaled = (diff / updatedCombinedSpan) * col.target.gridColumnSpan;\n\n                const minWidth = this.getColMinWidth(col.target);\n                const maxWidth = this.getColMaxWidth(col.target);\n                if (currentResizeWidth + resizeScaled < minWidth) {\n                    col.target.width = minWidth + 'px';\n                    updatedDiff += (currentResizeWidth - minWidth);\n                    newCombinedSpan -= col.spanUsed;\n                    setMinMaxCols = true;\n                } else if (maxWidth && (currentResizeWidth + resizeScaled > maxWidth)) {\n                    col.target.width = maxWidth + 'px';\n                    updatedDiff -= (maxWidth - currentResizeWidth);\n                    newCombinedSpan -= col.spanUsed;\n                    setMinMaxCols = true;\n                } else {\n                    // Save new ones that can be resized\n                    newColsToResize.push(col);\n                }\n            });\n\n            updatedCombinedSpan = newCombinedSpan;\n            columnsToResize = newColsToResize;\n        } while (setMinMaxCols);\n\n        // Those left that don't reach min/max size resize them normally.\n        columnsToResize.forEach((col) => {\n            const currentResizeWidth = parseFloat(col.target.calcWidth);\n            const resizeScaled = (updatedDiff / updatedCombinedSpan) * col.target.gridColumnSpan;\n            col.target.width = (currentResizeWidth + resizeScaled) + 'px';\n        });\n    }\n}\n","import { Directive, TemplateRef, EventEmitter, QueryList, Optional, Inject } from '@angular/core';\nimport { DisplayDensityBase, IDisplayDensityOptions, DisplayDensityToken } from '../core/density';\n\nexport interface IListChild {\n    index: number;\n}\n\n/** @hidden */\n@Directive({\n    selector: '[igxListBase]'\n})\nexport class IgxListBaseDirective extends DisplayDensityBase {\n    onItemClicked: EventEmitter<any>;\n    allowLeftPanning: boolean;\n    allowRightPanning: boolean;\n    panEndTriggeringThreshold: number;\n    onLeftPan: EventEmitter<any>;\n    onRightPan: EventEmitter<any>;\n    onPanStateChange: EventEmitter<any>;\n    children: QueryList<any>;\n    listItemLeftPanningTemplate: IgxListItemLeftPanningTemplateDirective;\n    listItemRightPanningTemplate: IgxListItemRightPanningTemplateDirective;\n\n    constructor(@Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(_displayDensityOptions);\n    }\n}\n\nexport enum IgxListPanState { NONE, LEFT, RIGHT }\n\n@Directive({\n    selector: '[igxEmptyList]'\n})\nexport class IgxEmptyListTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxDataLoading]'\n})\nexport class IgxDataLoadingTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxListItemLeftPanning]'\n})\nexport class IgxListItemLeftPanningTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n@Directive({\n    selector: '[igxListItemRightPanning]'\n})\nexport class IgxListItemRightPanningTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n","\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    Renderer2,\n    ViewChild\n} from '@angular/core';\n\nimport {\n    IgxListPanState,\n    IListChild,\n    IgxListBaseDirective\n} from './list.common';\n\nimport { HammerGesturesManager } from '../core/touch';\n\n/**\n * The Ignite UI List Item component is a container intended for row items in the Ignite UI for Angular List component.\n *\n * Example:\n * ```html\n * <igx-list>\n *   <igx-list-item isHeader=\"true\">Contacts</igx-list-item>\n *   <igx-list-item *ngFor=\"let contact of contacts\">\n *     <span class=\"name\">{{ contact.name }}</span>\n *     <span class=\"phone\">{{ contact.phone }}</span>\n *   </igx-list-item>\n * </igx-list>\n * ```\n */\n@Component({\n    providers: [HammerGesturesManager],\n    selector: 'igx-list-item',\n    templateUrl: 'list-item.component.html',\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IgxListItemComponent implements IListChild {\n\n    /**\n     *@hidden\n     */\n    private _panState: IgxListPanState = IgxListPanState.NONE;\n\n    /**\n     *@hidden\n     */\n    private panOffset = 0;\n\n    /**\n     * @hidden\n     */\n    private _index: number = null;\n\n    /**\n     *@hidden\n     */\n    private lastPanDir = IgxListPanState.NONE;\n\n    /**\n     * Provides a reference to the template's base element shown when left panning a list item.\n     * ```typescript\n     * const leftPanTmpl = this.listItem.leftPanningTemplateElement;\n     * ```\n     */\n    @ViewChild('leftPanningTmpl')\n    public leftPanningTemplateElement;\n\n    /**\n     * Provides a reference to the template's base element shown when right panning a list item.\n     * ```typescript\n     * const rightPanTmpl = this.listItem.rightPanningTemplateElement;\n     * ```\n     */\n    @ViewChild('rightPanningTmpl')\n    public rightPanningTemplateElement;\n\n    constructor(\n        public list: IgxListBaseDirective,\n        private elementRef: ElementRef,\n        private _renderer: Renderer2) {\n    }\n\n    /**\n     * Sets/gets whether the `list item` is a header.\n     * ```html\n     * <igx-list-item [isHeader] = \"true\">Header</igx-list-item>\n     * ```\n     * ```typescript\n     * let isHeader =  this.listItem.isHeader;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @Input()\n    public isHeader: boolean;\n\n    /**\n     * Sets/gets whether the `list item` is hidden.\n     * By default the `hidden` value is `false`.\n     * ```html\n     * <igx-list-item [hidden] = \"true\">Hidden Item</igx-list-item>\n     * ```\n     * ```typescript\n     * let isHidden =  this.listItem.hidden;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @Input()\n    public hidden = false;\n\n    /**\n     * Gets the `role` attribute of the `list item`.\n     * ```typescript\n     * let itemRole =  this.listItem.role;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @HostBinding('attr.role')\n    public get role() {\n        return this.isHeader ? 'separator' : 'listitem';\n    }\n\n    /**\n     * Sets/gets the `aria-label` attribute of the `list item`.\n     * ```typescript\n     * this.listItem.ariaLabel = \"Item1\";\n     * ```\n     * ```typescript\n     * let itemAriaLabel = this.listItem.ariaLabel;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @HostBinding('attr.aria-label')\n    public ariaLabel: string;\n\n    /**\n     * Gets the `touch-action` style of the `list item`.\n     * ```typescript\n     * let touchAction = this.listItem.touchAction;\n     * ```\n     */\n    @HostBinding('style.touch-action')\n    public touchAction = 'pan-y';\n\n    /**\n     * Indicates whether `list item` should have header style.\n     * ```typescript\n     * let headerStyle =  this.listItem.headerStyle;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @HostBinding('class.igx-list__header')\n    get headerStyle(): boolean {\n        return this.isHeader;\n    }\n\n    /**\n     * Applies the inner style of the `list item` if the item is not counted as header.\n     * ```typescript\n     * let innerStyle =  this.listItem.innerStyle;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @HostBinding('class.igx-list__item-base')\n    get innerStyle(): boolean {\n        return !this.isHeader;\n    }\n\n    /**\n     * Returns string value which describes the display mode of the `list item`.\n     * ```typescript\n     * let isHidden = this.listItem.display;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @HostBinding('style.display')\n    get display(): string {\n        return this.hidden ? 'none' : '';\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('click', ['$event'])\n    clicked(evt) {\n        this.list.onItemClicked.emit({ item: this, event: evt, direction: this.lastPanDir });\n        this.lastPanDir = IgxListPanState.NONE;\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('panstart', ['$event'])\n    panStart(ev) {\n        if (this.isTrue(this.isHeader)) {\n            return;\n        }\n        if (!this.isTrue(this.list.allowLeftPanning) && !this.isTrue(this.list.allowRightPanning)) {\n            return;\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('panmove', ['$event'])\n    panMove(ev) {\n        if (this.isTrue(this.isHeader)) {\n            return;\n        }\n        if (!this.isTrue(this.list.allowLeftPanning) && !this.isTrue(this.list.allowRightPanning)) {\n            return;\n        }\n        const isPanningToLeft = ev.deltaX < 0;\n        if (isPanningToLeft && this.isTrue(this.list.allowLeftPanning)) {\n            this.showLeftPanTemplate();\n            this.setContentElementLeft(Math.max(this.maxLeft, ev.deltaX));\n        } else if (!isPanningToLeft && this.isTrue(this.list.allowRightPanning)) {\n            this.showRightPanTemplate();\n            this.setContentElementLeft(Math.min(this.maxRight, ev.deltaX));\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('panend', ['$event'])\n    panEnd(ev) {\n        if (this.isTrue(this.isHeader)) {\n            return;\n        }\n        if (!this.isTrue(this.list.allowLeftPanning) && !this.isTrue(this.list.allowRightPanning)) {\n            return;\n        }\n\n        // the translation offset of the current list item content\n        const relativeOffset = this.panOffset;\n        const widthTriggeringGrip = this.width * this.list.panEndTriggeringThreshold;\n\n        if (relativeOffset === 0) {\n            return; // no panning has occured\n        }\n\n        const dir = relativeOffset > 0 ? IgxListPanState.RIGHT : IgxListPanState.LEFT;\n        this.lastPanDir = dir;\n\n        const oldPanState = this._panState;\n        if (Math.abs(relativeOffset) < widthTriggeringGrip) {\n            this.setContentElementLeft(0);\n            this._panState = IgxListPanState.NONE;\n            this.hideLeftAndRightPanTemplates();\n            return;\n        }\n\n        const args = { item: this, direction: dir, keepItem: false};\n\n        if (dir === IgxListPanState.LEFT) {\n            this.list.onLeftPan.emit(args);\n        } else {\n            this.list.onRightPan.emit(args);\n        }\n\n        if (args.keepItem === true) {\n            this.setContentElementLeft(0);\n            this._panState = IgxListPanState.NONE;\n        } else {\n            if (dir === IgxListPanState.LEFT) {\n                this.setContentElementLeft(this.maxLeft);\n                this._panState = IgxListPanState.LEFT;\n            } else {\n                this.setContentElementLeft(this.maxRight);\n                this._panState = IgxListPanState.RIGHT;\n            }\n        }\n\n        if (oldPanState !== this._panState) {\n            const args2 = { oldState: oldPanState, newState: this._panState, item: this };\n            this.list.onPanStateChange.emit(args2);\n        }\n        this.hideLeftAndRightPanTemplates();\n    }\n\n    /**\n     *@hidden\n     */\n    private showLeftPanTemplate() {\n        this.setLeftAndRightTemplatesVisibility('visible', 'hidden');\n    }\n\n    /**\n     *@hidden\n     */\n    private showRightPanTemplate() {\n        this.setLeftAndRightTemplatesVisibility('hidden', 'visible');\n    }\n\n    /**\n     *@hidden\n     */\n    private hideLeftAndRightPanTemplates() {\n        setTimeout(() => {\n            this.setLeftAndRightTemplatesVisibility('hidden', 'hidden');\n        }, 500);\n    }\n\n    /**\n     *@hidden\n     */\n    private setLeftAndRightTemplatesVisibility(leftVisibility, rightVisibility) {\n        if (this.leftPanningTemplateElement && this.leftPanningTemplateElement.nativeElement) {\n            this.leftPanningTemplateElement.nativeElement.style.visibility = leftVisibility;\n        }\n        if (this.rightPanningTemplateElement && this.rightPanningTemplateElement.nativeElement) {\n            this.rightPanningTemplateElement.nativeElement.style.visibility = rightVisibility;\n        }\n    }\n\n    /**\n     * Gets the `panState` of a `list item`.\n     * ```typescript\n     * let itemPanState =  this.listItem.panState;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public get panState(): IgxListPanState {\n        return this._panState;\n    }\n\n    /**\n     * Gets the `index` of a `list item`.\n     * ```typescript\n     * let itemIndex =  this.listItem.index;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    @Input()\n    public get index(): number {\n        return this._index !== null ? this._index : this.list.children.toArray().indexOf(this);\n    }\n\n    /**\n     * Sets the `index` of the `list item`.\n     * ```typescript\n     * this.listItem.index = index;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public set index(value: number) {\n        this._index = value;\n    }\n\n    /**\n     * Returns an element reference to the list item.\n     * ```typescript\n     * let listItemElement =  this.listItem.element.\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public get element() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * Returns a reference container which contains the list item's content.\n     * ```typescript\n     * let listItemContainer =  this.listItem.contentElement.\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public get contentElement() {\n        const candidates = this.element.getElementsByClassName('igx-list__item-content');\n        return (candidates && candidates.length > 0) ? candidates[0] : null;\n    }\n\n    /**\n     * Returns the `context` object which represents the `template context` binding into the `list item container`\n     * by providing the `$implicit` declaration which is the `IgxListItemComponent` itself.\n     * ```typescript\n     * let listItemComponent = this.listItem.context;\n     * ```\n     */\n    public get context(): any {\n        return {\n            $implicit: this\n        };\n    }\n\n    /**\n     * Gets the width of a `list item`.\n     * ```typescript\n     * let itemWidth = this.listItem.width;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public get width() {\n        if (this.element) {\n            return this.element.offsetWidth;\n        }\n    }\n\n    /**\n     * Gets the maximum left position of the `list item`.\n     * ```typescript\n     * let maxLeft = this.listItem.maxLeft;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public get maxLeft() {\n        return -this.width;\n    }\n\n    /**\n     * Gets the maximum right position of the `list item`.\n     * ```typescript\n     * let maxRight = this.listItem.maxRight;\n     * ```\n     * @memberof IgxListItemComponent\n     */\n    public get maxRight() {\n        return this.width;\n    }\n\n    /**\n     *@hidden\n     */\n    private setContentElementLeft(value: number) {\n        this.panOffset = value;\n        this.contentElement.style.transform = 'translateX(' + value + 'px)';\n    }\n\n    /**\n     *@hidden\n     */\n    private isTrue(value: boolean): boolean {\n        if (typeof (value) === 'boolean') {\n            return value;\n        } else {\n            return value === 'true';\n        }\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    Component,\n    ContentChild,\n    ContentChildren,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    HostBinding,\n    Input,\n    NgModule,\n    Output,\n    QueryList,\n    TemplateRef,\n    ViewChild,\n    Optional,\n    Inject, Directive\n} from '@angular/core';\n\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\n\nimport { IgxListItemComponent } from './list-item.component';\nimport {\n    IgxListBaseDirective,\n    IgxDataLoadingTemplateDirective,\n    IgxEmptyListTemplateDirective,\n    IgxListPanState,\n    IgxListItemLeftPanningTemplateDirective,\n    IgxListItemRightPanningTemplateDirective\n} from './list.common';\nimport { IDisplayDensityOptions, DisplayDensityToken, DisplayDensity } from '../core/density';\nimport { IBaseEventArgs } from '../core/utils';\n\nlet NEXT_ID = 0;\n\n/**\n * Interface for the panStateChange igxList event arguments\n */\nexport interface IPanStateChangeEventArgs extends IBaseEventArgs {\n    oldState: IgxListPanState;\n    newState: IgxListPanState;\n    item: IgxListItemComponent;\n}\n\n/**\n * Interface for the listItemClick igxList event arguments\n */\nexport interface IListItemClickEventArgs extends IBaseEventArgs {\n    item: IgxListItemComponent;\n    event: Event;\n    direction: IgxListPanState;\n}\n\n/**\n * Interface for the listItemPanning igxList event arguments\n */\nexport interface IListItemPanningEventArgs extends IBaseEventArgs {\n    item: IgxListItemComponent;\n    direction: IgxListPanState;\n    keepItem: boolean;\n}\n\n/**\n * igxListThumbnail is container for the List media\n * Use it to wrap anything you want to be used as a thumbnail.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: '[igxListThumbnail]'\n})\nexport class IgxListThumbnailDirective {}\n\n/**\n * igxListAction is container for the List action\n * Use it to wrap anything you want to be used as a list action: icon, checkbox...\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: '[igxListAction]'\n})\nexport class IgxListActionDirective {}\n\n/**\n * igxListLine is container for the List text content\n * Use it to wrap anything you want to be used as a plane text.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: '[igxListLine]'\n})\nexport class IgxListLineDirective {}\n\n/**\n * igxListLineTitle is a directive that add class to the target element\n * Use it to make anything to look like list Title.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: '[igxListLineTitle]'\n})\nexport class IgxListLineTitleDirective {\n    @HostBinding('class.igx-list__item-line-title')\n    public cssClass = 'igx-list__item-line-title';\n}\n\n/**\n * igxListLineSubTitle is a directive that add class to the target element\n * Use it to make anything to look like list Subtitle.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: '[igxListLineSubTitle]'\n})\nexport class IgxListLineSubTitleDirective {\n    @HostBinding('class.igx-list__item-line-subtitle')\n    public cssClass = 'igx-list__item-line-subtitle';\n}\n\n/**\n * Displays a collection of data items in a templatable list format\n *\n * @igxModule IgxListModule\n *\n * @igxTheme igx-list-theme\n *\n * @igxKeywords list, data\n *\n * @igxGroup Grids & Lists\n *\n * @remarks\n * The Ignite UI List displays rows of items and supports one or more header items as well as search and filtering\n * of list items. Each list item is completely templatable and will support any valid HTML or Angular component.\n *\n * @example\n * ```html\n * <igx-list>\n *   <igx-list-item isHeader=\"true\">Contacts</igx-list-item>\n *   <igx-list-item *ngFor=\"let contact of contacts\">\n *     <span class=\"name\">{{ contact.name }}</span>\n *     <span class=\"phone\">{{ contact.phone }}</span>\n *   </igx-list-item>\n * </igx-list>\n * ```\n */\n@Component({\n    selector: 'igx-list',\n    templateUrl: 'list.component.html',\n    providers: [{ provide: IgxListBaseDirective, useExisting: IgxListComponent }]\n})\nexport class IgxListComponent extends IgxListBaseDirective {\n\n    constructor(public element: ElementRef,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(_displayDensityOptions);\n    }\n\n    /**\n     * Returns a collection of all items and headers in the list.\n     *\n     * @example\n     * ```typescript\n     * let listChildren: QueryList = this.list.children;\n     * ```\n     */\n    @ContentChildren(forwardRef(() => IgxListItemComponent), { descendants: true })\n    public children: QueryList<IgxListItemComponent>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected get sortedChildren(): IgxListItemComponent[] {\n        if (this.children !== undefined) {\n            return this.children.toArray()\n                .sort((a: IgxListItemComponent, b: IgxListItemComponent) => {\n                    return a.index - b.index;\n                });\n        }\n        return null;\n    }\n\n    /**\n     * Sets/gets the empty list template.\n     *\n     * @remarks\n     * This template is used by IgxList in case there are no list items\n     * defined and `isLoading` is set to `false`.\n     *\n     * @example\n     * ```html\n     * <igx-list>\n     *   <ng-template igxEmptyList>\n     *     <p class=\"empty\">No contacts! :(</p>\n     *   </ng-template>\n     * </igx-list>\n     * ```\n     * ```typescript\n     * let emptyTemplate = this.list.emptyListTemplate;\n     * ```\n     */\n    @ContentChild(IgxEmptyListTemplateDirective, { read: IgxEmptyListTemplateDirective })\n    public emptyListTemplate: IgxEmptyListTemplateDirective;\n\n    /**\n     * Sets/gets the list loading template.\n     *\n     * @remarks\n     * This template is used by IgxList in case there are no list items defined and `isLoading` is set to `true`.\n     *\n     * @example\n     * ```html\n     * <igx-list>\n     *   <ng-template igxDataLoading>\n     *     <p>Patience, we are currently loading your data...</p>\n     *   </ng-template>\n     * </igx-list>\n     * ```\n     * ```typescript\n     * let loadingTemplate = this.list.dataLoadingTemplate;\n     * ```\n     */\n    @ContentChild(IgxDataLoadingTemplateDirective, { read: IgxDataLoadingTemplateDirective })\n    public dataLoadingTemplate: IgxDataLoadingTemplateDirective;\n\n    /**\n     * Sets/gets the template for left panning a list item.\n     *\n     * @remarks\n     * Default value is `null`.\n     *\n     * @example\n     * ```html\n     * <igx-list [allowLeftPanning]=\"true\">\n     *   <ng-template igxListItemLeftPanning>\n     *     <igx-icon>delete</igx-icon>Delete\n     *   </ng-template>\n     * </igx-list>\n     * ```\n     * ```typescript\n     * let itemLeftPanTmpl = this.list.listItemLeftPanningTemplate;\n     * ```\n     */\n    @ContentChild(IgxListItemLeftPanningTemplateDirective, { read: IgxListItemLeftPanningTemplateDirective })\n    public listItemLeftPanningTemplate: IgxListItemLeftPanningTemplateDirective;\n\n    /**\n     * Sets/gets the template for right panning a list item.\n     *\n     * @remarks\n     * Default value is `null`.\n     *\n     * @example\n     * ```html\n     * <igx-list [allowRightPanning] = \"true\">\n     *   <ng-template igxListItemRightPanning>\n     *     <igx-icon>call</igx-icon>Dial\n     *   </ng-template>\n     * </igx-list>\n     * ```\n     * ```typescript\n     * let itemRightPanTmpl = this.list.listItemRightPanningTemplate;\n     * ```\n     */\n    @ContentChild(IgxListItemRightPanningTemplateDirective, { read: IgxListItemRightPanningTemplateDirective })\n    public listItemRightPanningTemplate: IgxListItemRightPanningTemplateDirective;\n\n    /**\n     * Provides a threshold after which the item's panning will be completed automatically.\n     *\n     * @remarks\n     * By default this property is set to 0.5 which is 50% of the list item's width.\n     *\n     * @example\n     * ```html\n     * <igx-list [panEndTriggeringThreshold]=\"0.8\"></igx-list>\n     * ```\n     */\n    @Input()\n    public panEndTriggeringThreshold = 0.5;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('defaultEmptyList', { read: TemplateRef, static: true })\n    protected defaultEmptyListTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('defaultDataLoading', { read: TemplateRef, static: true })\n    protected defaultDataLoadingTemplate: TemplateRef<any>;\n\n    /**\n     * Sets/gets the `id` of the list.\n     *\n     * @remarks\n     * If not set, the `id` of the first list component will be `\"igx-list-0\"`.\n     *\n     * @example\n     * ```html\n     * <igx-list id=\"my-first-list\"></igx-list>\n     * ```\n     * ```typescript\n     * let listId = this.list.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-list-${NEXT_ID++}`;\n\n    /**\n     * Sets/gets whether the left panning of an item is allowed.\n     *\n     * @remarks\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-list [allowLeftPanning]=\"true\"></igx-list>\n     * ```\n     * ```typescript\n     * let isLeftPanningAllowed = this.list.allowLeftPanning;\n     * ```\n     */\n    @Input()\n    public allowLeftPanning = false;\n\n    /**\n     * Sets/gets whether the right panning of an item is allowed.\n     *\n     * @remarks\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-list [allowRightPanning]=\"true\"></igx-list>\n     * ```\n     * ```typescript\n     * let isRightPanningAllowed = this.list.allowRightPanning;\n     * ```\n     */\n    @Input()\n    public allowRightPanning = false;\n\n    /**\n     * Sets/gets whether the list is currently loading data.\n     *\n     * @remarks\n     * Set it to display the dataLoadingTemplate while data is being retrieved.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     *  <igx-list [isLoading]=\"true\"></igx-list>\n     * ```\n     * ```typescript\n     * let isLoading = this.list.isLoading;\n     * ```\n     */\n    @Input()\n    public isLoading = false;\n\n    /**\n     * Event emitted when a left pan gesture is executed on a list item.\n     *\n     * @remarks\n     * Provides a reference to an object of type `IListItemPanningEventArgs` as an event argument.\n     *\n     * @example\n     * ```html\n     * <igx-list [allowLeftPanning]=\"true\" (onLeftPan)=\"onLeftPan($event)\"></igx-list>\n     * ```\n     */\n    @Output()\n    public onLeftPan = new EventEmitter<IListItemPanningEventArgs>();\n\n    /**\n     * Event emitted when a right pan gesture is executed on a list item.\n     *\n     * @remarks\n     * Provides a reference to an object of type `IListItemPanningEventArgs` as an event argument.\n     *\n     * @example\n     * ```html\n     * <igx-list [allowRightPanning]=\"true\" (onRightPan)=\"onRightPan($event)\"></igx-list>\n     * ```\n     */\n    @Output()\n    public onRightPan = new EventEmitter<IListItemPanningEventArgs>();\n\n    /**\n     *\n     * Event emitted when a pan gesture is executed on a list item.\n     *\n     * @remarks\n     * Provides references to the `IgxListItemComponent` and `IgxListPanState` as event arguments.\n     *\n     * @example\n     * ```html\n     * <igx-list (onPanStateChange)=\"onPanStateChange($event)\"></igx-list>\n     * ```\n    */\n    @Output()\n    public onPanStateChange = new EventEmitter<IPanStateChangeEventArgs>();\n\n    /**\n     * Event emitted when a list item is clicked.\n     *\n     * @remarks\n     * Provides references to the `IgxListItemComponent` and `Event` as event arguments.\n     *\n     * @example\n     * ```html\n     * <igx-list (onItemClicked)=\"onItemClicked($event)\"></igx-list>\n     * ```\n     */\n    @Output()\n    public onItemClicked = new EventEmitter<IListItemClickEventArgs>();\n\n    /**\n     * Gets the `role` attribute value.\n     *\n     * @example\n     * ```typescript\n     * let listRole =  this.list.role;\n     * ```\n     */\n    @HostBinding('attr.role')\n    public get role() {\n        return 'list';\n    }\n\n    /**\n     * Gets a boolean indicating if the list is empty.\n     *\n     * @example\n     * ```typescript\n     * let isEmpty =  this.list.isListEmpty;\n     * ```\n     */\n    @HostBinding('class.igx-list-empty')\n    public get isListEmpty(): boolean {\n        return !this.children || this.children.length === 0;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-list')\n    public get cssClass(): boolean {\n        return !this.isListEmpty && this.displayDensity === DisplayDensity.comfortable;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-list--compact')\n    public get cssClassCompact(): boolean {\n        return !this.isListEmpty && this.displayDensity === DisplayDensity.compact;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostBinding('class.igx-list--cosy')\n    public get cssClassCosy(): boolean {\n        return !this.isListEmpty && this.displayDensity === DisplayDensity.cosy;\n    }\n\n    /**\n     * Gets the list `items` excluding the header ones.\n     *\n     * @example\n     * ```typescript\n     * let listItems: IgxListItemComponent[] = this.list.items;\n     * ```\n     */\n    public get items(): IgxListItemComponent[] {\n        const items: IgxListItemComponent[] = [];\n        if (this.children !== undefined) {\n            for (const child of this.sortedChildren) {\n                if (!child.isHeader) {\n                    items.push(child);\n                }\n            }\n        }\n        return items;\n    }\n\n    /**\n     * Gets the header list `items`.\n     *\n     * @example\n     * ```typescript\n     * let listHeaders: IgxListItemComponent[] =  this.list.headers;\n     * ```\n     */\n    public get headers(): IgxListItemComponent[] {\n        const headers: IgxListItemComponent[] = [];\n        if (this.children !== undefined) {\n            for (const child of this.children.toArray()) {\n                if (child.isHeader) {\n                    headers.push(child);\n                }\n            }\n        }\n        return headers;\n    }\n\n    /**\n     * Gets the `context` object of the template binding.\n     *\n     * @remark\n     * Gets the `context` object which represents the `template context` binding into the `list container`\n     * by providing the `$implicit` declaration which is the `IgxListComponent` itself.\n     *\n     * @example\n     * ```typescript\n     * let listComponent =  this.list.context;\n     * ```\n     */\n    public get context(): any {\n        return {\n            $implicit: this\n        };\n    }\n\n    /**\n     * Gets a `TemplateRef` to the currently used template.\n     *\n     * @example\n     * ```typescript\n     * let listTemplate = this.list.template;\n     * ```\n     */\n    public get template(): TemplateRef<any> {\n        if (this.isLoading) {\n            return this.dataLoadingTemplate ? this.dataLoadingTemplate.template : this.defaultDataLoadingTemplate;\n        } else {\n            return this.emptyListTemplate ? this.emptyListTemplate.template : this.defaultEmptyListTemplate;\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxListBaseDirective,\n        IgxListComponent,\n        IgxListItemComponent,\n        IgxListThumbnailDirective,\n        IgxListActionDirective,\n        IgxListLineDirective,\n        IgxListLineTitleDirective,\n        IgxListLineSubTitleDirective,\n        IgxDataLoadingTemplateDirective,\n        IgxEmptyListTemplateDirective,\n        IgxListItemLeftPanningTemplateDirective,\n        IgxListItemRightPanningTemplateDirective\n    ],\n    exports: [\n        IgxListComponent,\n        IgxListItemComponent,\n        IgxListThumbnailDirective,\n        IgxListActionDirective,\n        IgxListLineDirective,\n        IgxListLineTitleDirective,\n        IgxListLineSubTitleDirective,\n        IgxDataLoadingTemplateDirective,\n        IgxEmptyListTemplateDirective,\n        IgxListItemLeftPanningTemplateDirective,\n        IgxListItemRightPanningTemplateDirective\n    ],\n    imports: [\n        CommonModule,\n        IgxRippleModule\n    ]\n})\nexport class IgxListModule {\n}\n","import {\n    AfterViewInit,\n    Component,\n    ChangeDetectionStrategy,\n    Input,\n    ViewChild,\n    ChangeDetectorRef,\n    TemplateRef,\n    Directive\n} from '@angular/core';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IChangeCheckboxEventArgs } from '../../../checkbox/checkbox.component';\nimport { IgxInputDirective } from '../../../directives/input/input.directive';\nimport { DisplayDensity } from '../../../core/density';\nimport { IgxForOfDirective } from '../../../directives/for-of/for_of.directive';\nimport { FilterListItem } from './grid.excel-style-filtering.component';\nimport { IgxListComponent } from '../../../list';\n\n@Directive({\n    selector: '[igxExcelStyleLoading]'\n})\nexport class IgxExcelStyleLoadingValuesTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-excel-style-search',\n    templateUrl: './excel-style-search.component.html'\n})\nexport class IgxExcelStyleSearchComponent implements AfterViewInit {\n\n    private _isLoading;\n\n    public get isLoading() {\n        return this._isLoading;\n    }\n\n    public set isLoading(value: boolean) {\n        this._isLoading = value;\n        if (!(this.cdr as any).destroyed) {\n            this.cdr.detectChanges();\n        }\n    }\n\n    public searchValue: any;\n\n    @Input()\n    public grid: any;\n\n    @Input()\n    public data: FilterListItem[];\n\n    @Input()\n    public inline: boolean;\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @ViewChild('input', { read: IgxInputDirective, static: true })\n    public searchInput: IgxInputDirective;\n\n    @ViewChild('list', { read: IgxListComponent, static: true })\n    public list: IgxListComponent;\n\n    @Input()\n    public displayDensity: DisplayDensity;\n\n    @ViewChild(IgxForOfDirective, { static: true })\n    protected virtDir: IgxForOfDirective<any>;\n\n    @ViewChild('defaultExcelStyleLoadingValuesTemplate', { read: TemplateRef, static: true })\n    protected defaultExcelStyleLoadingValuesTemplate: TemplateRef<any>;\n\n    public get valuesLoadingTemplate() {\n        if (this.grid.excelStyleLoadingValuesTemplateDirective) {\n            return this.grid.excelStyleLoadingValuesTemplateDirective.template;\n        } else {\n            return this.defaultExcelStyleLoadingValuesTemplate;\n        }\n    }\n\n    constructor(public cdr: ChangeDetectorRef) { }\n\n    public ngAfterViewInit() {\n        this.refreshSize();\n    }\n\n    public refreshSize() {\n        requestAnimationFrame(() => {\n            this.virtDir.recalcUpdateSizes();\n        });\n    }\n\n    public clearInput() {\n        this.searchValue = null;\n    }\n\n    public onCheckboxChange(eventArgs: IChangeCheckboxEventArgs) {\n        const selectedIndex = this.data.indexOf(eventArgs.checkbox.value);\n        if (selectedIndex === 0) {\n            this.data.forEach(element => {\n                element.isSelected = eventArgs.checked;\n                this.data[0].indeterminate = false;\n            });\n        } else {\n            eventArgs.checkbox.value.isSelected = eventArgs.checked;\n            if (!this.data.slice(1, this.data.length).find(el => el.isSelected === false)) {\n                this.data[0].indeterminate = false;\n                this.data[0].isSelected = true;\n            } else if (!this.data.slice(1, this.data.length).find(el => el.isSelected === true)) {\n                this.data[0].indeterminate = false;\n                this.data[0].isSelected = false;\n            } else {\n                this.data[0].indeterminate = true;\n            }\n        }\n        eventArgs.checkbox.nativeCheckbox.nativeElement.blur();\n    }\n\n    public get itemSize() {\n        let itemSize = '40px';\n        switch (this.displayDensity) {\n            case DisplayDensity.cosy: itemSize = '32px'; break;\n            case DisplayDensity.compact: itemSize = '24px'; break;\n            default: break;\n        }\n        return itemSize;\n    }\n\n    public get containerSize() {\n        return this.list.element.nativeElement.offsetHeight;\n    }\n}\n","import {\n    Component,\n    ChangeDetectionStrategy,\n    AfterViewInit,\n    Input,\n    Output,\n    EventEmitter,\n    ChangeDetectorRef,\n    ViewChild\n} from '@angular/core';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { ExpressionUI } from '../grid-filtering.service';\nimport { IgxButtonGroupComponent } from '../../../buttonGroup/buttonGroup.component';\nimport { IgxDropDownItemComponent, IgxDropDownComponent } from '../../../drop-down/index';\nimport { IgxInputGroupComponent, IgxInputDirective } from '../../../input-group/index';\nimport { DataType, DataUtil } from '../../../data-operations/data-util';\nimport { IFilteringOperation } from '../../../data-operations/filtering-condition';\nimport { OverlaySettings, ConnectedPositioningStrategy, CloseScrollStrategy } from '../../../services/index';\nimport { KEYS, IBaseEventArgs } from '../../../core/utils';\nimport { FilteringLogic } from '../../../data-operations/filtering-expression.interface';\nimport { DisplayDensity } from '../../../core/density';\n\n/**\n * @hidden\n */\nexport interface ILogicOperatorChangedArgs extends IBaseEventArgs {\n    target: ExpressionUI;\n    newValue: FilteringLogic;\n}\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-excel-style-default-expression',\n    templateUrl: './excel-style-default-expression.component.html'\n})\nexport class IgxExcelStyleDefaultExpressionComponent implements AfterViewInit {\n\n    private _dropDownOverlaySettings: OverlaySettings = {\n        closeOnOutsideClick: true,\n        modal: false,\n        positionStrategy: new ConnectedPositioningStrategy(),\n        scrollStrategy: new CloseScrollStrategy()\n    };\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @Input()\n    public expressionUI: ExpressionUI;\n\n    @Input()\n    public expressionsList: Array<ExpressionUI>;\n\n    @Input()\n    public grid: any;\n\n    @Input()\n    public displayDensity: DisplayDensity;\n\n    @Output()\n    public onExpressionRemoved = new EventEmitter<ExpressionUI>();\n\n    @Output()\n    public onLogicOperatorChanged = new EventEmitter<ILogicOperatorChangedArgs>();\n\n    @ViewChild('inputGroupConditions', { read: IgxInputGroupComponent, static: true })\n    protected inputGroupConditions: IgxInputGroupComponent;\n\n    @ViewChild('inputValues', { read: IgxInputDirective, static: true })\n    protected inputValuesDirective: IgxInputDirective;\n\n    @ViewChild('dropdownConditions', { read: IgxDropDownComponent, static: true })\n    protected dropdownConditions: IgxDropDownComponent;\n\n    @ViewChild('logicOperatorButtonGroup', { read: IgxButtonGroupComponent })\n    protected logicOperatorButtonGroup: IgxButtonGroupComponent;\n\n    protected get inputValuesElement() {\n        return this.inputValuesDirective;\n    }\n\n    get isLast(): boolean {\n        return this.expressionsList[this.expressionsList.length - 1] === this.expressionUI;\n    }\n\n    get isSingle(): boolean {\n        return this.expressionsList.length === 1;\n    }\n\n    get inputConditionsPlaceholder(): string {\n        return this.grid.resourceStrings['igx_grid_filter_condition_placeholder'];\n    }\n\n    get inputValuePlaceholder(): string {\n        return this.grid.resourceStrings['igx_grid_filter_row_placeholder'];\n    }\n\n    get type() {\n        switch (this.column.dataType) {\n            case DataType.Number:\n                return 'number';\n            default:\n                return 'text';\n        }\n    }\n\n    constructor(public cdr: ChangeDetectorRef) {}\n\n    ngAfterViewInit(): void {\n        this._dropDownOverlaySettings.outlet = this.column.grid.outletDirective;\n        this._dropDownOverlaySettings.positionStrategy.settings.target = this.inputGroupConditions.element.nativeElement;\n    }\n\n    public focus() {\n        // use requestAnimationFrame to focus the values input because when initializing the component\n        // datepicker's input group is not yet fully initialized\n        requestAnimationFrame(() => this.inputValuesElement.focus());\n    }\n\n    public isConditionSelected(conditionName: string): boolean {\n        return this.expressionUI.expression.condition && this.expressionUI.expression.condition.name === conditionName;\n    }\n\n    public getConditionName(condition: IFilteringOperation) {\n        return condition ? this.translateCondition(condition.name) : null;\n    }\n\n    public getInputWidth() {\n        return this.inputGroupConditions.element.nativeElement.offsetWidth + 'px';\n    }\n\n    get conditions() {\n        return this.column.filters.conditionList();\n    }\n\n    public translateCondition(value: string): string {\n        return this.grid.resourceStrings[`igx_grid_filter_${this.getCondition(value).name}`] || value;\n    }\n\n    public getIconName(): string {\n        if (this.column.dataType === DataType.Boolean && this.expressionUI.expression.condition === null) {\n            return this.getCondition(this.conditions[0]).iconName;\n        } else if (!this.expressionUI.expression.condition) {\n            return 'filter_list';\n        } else {\n            return this.expressionUI.expression.condition.iconName;\n        }\n    }\n\n    public toggleCustomDialogDropDown() {\n        this.dropdownConditions.toggle(this._dropDownOverlaySettings);\n    }\n\n    public getCondition(value: string): IFilteringOperation {\n        return this.column.filters.condition(value);\n    }\n\n    public onConditionsChanged(eventArgs: any) {\n        const value = (eventArgs.newSelection as IgxDropDownItemComponent).value;\n        this.expressionUI.expression.condition = this.getCondition(value);\n\n        this.focus();\n    }\n\n    public onValuesInput(eventArgs) {\n        this.expressionUI.expression.searchVal = DataUtil.parseValue(this.column.dataType, eventArgs.target.value);\n    }\n\n    public onLogicOperatorButtonClicked(eventArgs, buttonIndex: number) {\n        if (this.logicOperatorButtonGroup.selectedButtons.length === 0) {\n            eventArgs.stopPropagation();\n            this.logicOperatorButtonGroup.selectButton(buttonIndex);\n        } else {\n            this.onLogicOperatorChanged.emit({\n                target: this.expressionUI,\n                newValue: buttonIndex as FilteringLogic\n            });\n        }\n    }\n\n    public onLogicOperatorKeyDown(eventArgs, buttonIndex: number) {\n        if (eventArgs.key === KEYS.ENTER) {\n            this.logicOperatorButtonGroup.selectButton(buttonIndex);\n            this.onLogicOperatorChanged.emit({\n                target: this.expressionUI,\n                newValue: buttonIndex as FilteringLogic\n            });\n        }\n    }\n\n    public onRemoveButtonClick() {\n        this.onExpressionRemoved.emit(this.expressionUI);\n    }\n\n    public onInputConditionsKeyDown(eventArgs) {\n        if (eventArgs.altKey && (eventArgs.key === KEYS.DOWN_ARROW || eventArgs.key === KEYS.DOWN_ARROW_IE)) {\n            this.toggleCustomDialogDropDown();\n        }\n\n        if (eventArgs.key === KEYS.TAB && eventArgs.shiftKey && this.expressionsList[0] === this.expressionUI) {\n            eventArgs.preventDefault();\n        }\n\n        event.stopPropagation();\n    }\n}\n","import {\n    Component,\n    ChangeDetectionStrategy,\n    ViewChild,\n    Input\n} from '@angular/core';\nimport { IgxExcelStyleDefaultExpressionComponent } from './excel-style-default-expression.component';\nimport { IgxDatePickerComponent } from '../../../date-picker/date-picker.component';\nimport { DisplayDensity } from '../../../core/density';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-excel-style-date-expression',\n    templateUrl: './excel-style-date-expression.component.html'\n})\nexport class IgxExcelStyleDateExpressionComponent extends IgxExcelStyleDefaultExpressionComponent {\n\n    @ViewChild('datePicker', { read: IgxDatePickerComponent, static: true })\n    private datePicker: IgxDatePickerComponent;\n\n    protected get inputValuesElement() {\n        return this.datePicker.getEditElement();\n    }\n\n    @Input()\n    public displayDensity: DisplayDensity;\n\n    get inputDatePlaceholder(): string {\n        return this.grid.resourceStrings['igx_grid_filter_row_date_placeholder'];\n    }\n}\n","import {\n    Component,\n    ChangeDetectionStrategy,\n    Input,\n    ChangeDetectorRef,\n    ViewChild,\n    AfterViewInit,\n    TemplateRef,\n    ViewChildren,\n    QueryList,\n    ElementRef\n} from '@angular/core';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IgxFilteringService, ExpressionUI } from '../grid-filtering.service';\nimport { FilteringLogic } from '../../../data-operations/filtering-expression.interface';\nimport { DataType } from '../../../data-operations/data-util';\nimport {\n    IgxStringFilteringOperand,\n    IgxBooleanFilteringOperand,\n    IgxNumberFilteringOperand,\n    IgxDateFilteringOperand\n} from '../../../data-operations/filtering-condition';\nimport { IgxToggleDirective } from '../../../directives/toggle/toggle.directive';\nimport {\n    ConnectedPositioningStrategy,\n    AutoPositionStrategy,\n    OverlaySettings,\n    VerticalAlignment,\n    PositionSettings,\n    HorizontalAlignment,\n    IgxOverlayService,\n    AbsoluteScrollStrategy\n} from '../../../services/index';\nimport { ILogicOperatorChangedArgs, IgxExcelStyleDefaultExpressionComponent } from './excel-style-default-expression.component';\nimport { KEYS } from '../../../core/utils';\nimport { IgxExcelStyleDateExpressionComponent } from './excel-style-date-expression.component';\nimport { DisplayDensity } from '../../../core/density';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-excel-style-custom-dialog',\n    templateUrl: './excel-style-custom-dialog.component.html'\n})\nexport class IgxExcelStyleCustomDialogComponent implements AfterViewInit {\n\n    @Input()\n    public expressionsList = new Array<ExpressionUI>();\n\n    private _customDialogPositionSettings: PositionSettings = {\n        verticalDirection: VerticalAlignment.Middle,\n        horizontalDirection: HorizontalAlignment.Center,\n        horizontalStartPoint: HorizontalAlignment.Center,\n        verticalStartPoint: VerticalAlignment.Middle\n    };\n\n    private _customDialogOverlaySettings: OverlaySettings = {\n        closeOnOutsideClick: true,\n        modal: false,\n        positionStrategy: new AutoPositionStrategy(this._customDialogPositionSettings),\n        scrollStrategy: new AbsoluteScrollStrategy()\n    };\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @Input()\n    public selectedOperator: string;\n\n    @Input()\n    public filteringService: IgxFilteringService;\n\n    @Input()\n    public overlayComponentId: string;\n\n    @Input()\n    public overlayService: IgxOverlayService;\n\n    @Input()\n    public displayDensity: DisplayDensity;\n\n    @ViewChildren(IgxExcelStyleDefaultExpressionComponent)\n    private expressionComponents: QueryList<IgxExcelStyleDefaultExpressionComponent>;\n\n    @ViewChildren(IgxExcelStyleDateExpressionComponent)\n    private expressionDateComponents: QueryList<IgxExcelStyleDateExpressionComponent>;\n\n    @ViewChild('toggle', { read: IgxToggleDirective, static: true })\n    public toggle: IgxToggleDirective;\n\n    @ViewChild('defaultExpressionTemplate', { read: TemplateRef })\n    protected defaultExpressionTemplate: TemplateRef<any>;\n\n    @ViewChild('dateExpressionTemplate', { read: TemplateRef })\n    protected dateExpressionTemplate: TemplateRef<any>;\n\n    @ViewChild('expressionsContainer', { static: true })\n    protected expressionsContainer: ElementRef;\n\n    constructor(private cdr: ChangeDetectorRef) {}\n\n    ngAfterViewInit(): void {\n        this._customDialogOverlaySettings.outlet = this.grid.outlet;\n    }\n\n    get template(): TemplateRef<any> {\n        if (this.column.dataType === DataType.Date) {\n            return this.dateExpressionTemplate;\n        }\n\n        return this.defaultExpressionTemplate;\n    }\n\n    get grid(): any {\n        return this.filteringService.grid;\n    }\n\n    public onCustomDialogOpening() {\n        if (this.selectedOperator) {\n            this.createInitialExpressionUIElement();\n        }\n    }\n\n    public onCustomDialogOpened() {\n        if (this.expressionComponents.first) {\n            this.expressionComponents.first.focus();\n        }\n    }\n\n    public open(esf) {\n        this._customDialogOverlaySettings.positionStrategy.settings.target =\n            this.overlayComponentId ?\n                this.grid.rootGrid ? this.grid.rootGrid.nativeElement : this.grid.nativeElement :\n                esf;\n        this.toggle.open(this._customDialogOverlaySettings);\n    }\n\n    public onClearButtonClick() {\n        this.filteringService.clearFilter(this.column.field);\n        this.createInitialExpressionUIElement();\n        this.cdr.detectChanges();\n    }\n\n    public closeDialog() {\n        if (this.overlayComponentId) {\n            this.overlayService.hide(this.overlayComponentId);\n        } else {\n            this.toggle.close();\n        }\n    }\n\n    public onApplyButtonClick() {\n        this.expressionsList = this.expressionsList.filter(\n            element => element.expression.condition &&\n            (element.expression.searchVal || element.expression.searchVal === 0 || element.expression.condition.isUnary));\n\n        if (this.expressionsList.length > 0) {\n            this.expressionsList[0].beforeOperator = null;\n            this.expressionsList[this.expressionsList.length - 1].afterOperator = null;\n        }\n\n        this.filteringService.filterInternal(this.column.field, this.expressionsList);\n        this.closeDialog();\n    }\n\n    public onAddButtonClick() {\n        const exprUI = new ExpressionUI();\n        exprUI.expression = {\n            condition: null,\n            fieldName: this.column.field,\n            ignoreCase: this.column.filteringIgnoreCase,\n            searchVal: null\n        };\n\n        this.expressionsList[this.expressionsList.length - 1].afterOperator = FilteringLogic.And;\n        exprUI.beforeOperator = this.expressionsList[this.expressionsList.length - 1].afterOperator;\n\n        this.expressionsList.push(exprUI);\n\n        this.markChildrenForCheck();\n        this.scrollToBottom();\n    }\n\n    public onExpressionRemoved(event: ExpressionUI) {\n        const indexToRemove = this.expressionsList.indexOf(event);\n\n        if (indexToRemove === 0 && this.expressionsList.length > 1) {\n            this.expressionsList[1].beforeOperator = null;\n        } else if (indexToRemove === this.expressionsList.length - 1) {\n            this.expressionsList[indexToRemove - 1].afterOperator = null;\n        } else {\n            this.expressionsList[indexToRemove - 1].afterOperator = this.expressionsList[indexToRemove + 1].beforeOperator;\n            this.expressionsList[0].beforeOperator = null;\n            this.expressionsList[this.expressionsList.length - 1].afterOperator = null;\n        }\n\n        this.expressionsList.splice(indexToRemove, 1);\n\n        this.cdr.detectChanges();\n\n        this.markChildrenForCheck();\n    }\n\n    public onLogicOperatorChanged(event: ILogicOperatorChangedArgs) {\n        const index = this.expressionsList.indexOf(event.target);\n        event.target.afterOperator = event.newValue;\n        if (index + 1 < this.expressionsList.length) {\n            this.expressionsList[index + 1].beforeOperator = event.newValue;\n        }\n    }\n\n    public onKeyDown(eventArgs) {\n        eventArgs.stopPropagation();\n    }\n\n    public onApplyButtonKeyDown(eventArgs) {\n        if (eventArgs.key === KEYS.TAB && !eventArgs.shiftKey) {\n            eventArgs.stopPropagation();\n            eventArgs.preventDefault();\n        }\n    }\n\n    private createCondition(conditionName: string) {\n        switch (this.column.dataType) {\n            case DataType.Boolean:\n                return IgxBooleanFilteringOperand.instance().condition(conditionName);\n            case DataType.Number:\n                return IgxNumberFilteringOperand.instance().condition(conditionName);\n            case DataType.Date:\n                return IgxDateFilteringOperand.instance().condition(conditionName);\n            default:\n                return IgxStringFilteringOperand.instance().condition(conditionName);\n        }\n    }\n\n    private markChildrenForCheck() {\n        this.expressionComponents.forEach(x => x.cdr.markForCheck());\n        this.expressionDateComponents.forEach(x => x.cdr.markForCheck());\n    }\n\n    private createInitialExpressionUIElement() {\n        this.expressionsList = [];\n        const firstExprUI = new ExpressionUI();\n\n        firstExprUI.expression = {\n            condition: this.createCondition(this.selectedOperator),\n            fieldName: this.column.field,\n            ignoreCase: this.column.filteringIgnoreCase,\n            searchVal: null\n        };\n        firstExprUI.afterOperator = FilteringLogic.And;\n\n        this.expressionsList.push(firstExprUI);\n\n        const secondExprUI = new ExpressionUI();\n        secondExprUI.expression = {\n            condition: null,\n            fieldName: this.column.field,\n            ignoreCase: this.column.filteringIgnoreCase,\n            searchVal: null\n        };\n\n        secondExprUI.beforeOperator = FilteringLogic.And;\n\n        this.expressionsList.push(secondExprUI);\n    }\n\n    private scrollToBottom() {\n        requestAnimationFrame(() => {\n            this.expressionsContainer.nativeElement.scrollTop = this.expressionsContainer.nativeElement.scrollHeight;\n        });\n    }\n}\n","import {\n    Component,\n    ChangeDetectionStrategy,\n    ViewChild,\n    Input,\n    AfterViewInit,\n    OnDestroy,\n    OnChanges,\n    SimpleChanges\n} from '@angular/core';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IgxButtonGroupComponent } from '../../../buttonGroup/buttonGroup.component';\nimport { DisplayDensity } from '../../../core/density';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { GridType } from '../../common/grid.interface';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-excel-style-sorting',\n    templateUrl: './excel-style-sorting.component.html'\n})\nexport class IgxExcelStyleSortingComponent implements AfterViewInit, OnDestroy, OnChanges {\n    private destroy$ = new Subject<boolean>();\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @Input()\n    public grid: GridType;\n\n    @Input()\n    public displayDensity: DisplayDensity;\n\n    @ViewChild('sortButtonGroup', { read: IgxButtonGroupComponent, static: true })\n    public sortButtonGroup: IgxButtonGroupComponent;\n\n    constructor() {}\n\n    ngAfterViewInit(): void {\n        this.grid.sortingExpressionsChange.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            this.updateSelectedButtons(this.column.field);\n        });\n        this.updateSelectedButtons(this.column.field);\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (changes.column && !changes.column.firstChange) {\n            this.updateSelectedButtons(changes.column.currentValue.field);\n        }\n    }\n\n    private updateSelectedButtons(fieldName: string) {\n        const sortIndex = this.grid.sortingExpressions.findIndex(s => s.fieldName === fieldName);\n\n        this.sortButtonGroup.buttons.forEach((b, i) => {\n            this.sortButtonGroup.deselectButton(i);\n        });\n\n        if (sortIndex !== -1 ) {\n            const sortDirection = this.grid.sortingExpressions[sortIndex].dir;\n            this.sortButtonGroup.selectButton(sortDirection - 1);\n        }\n    }\n\n    public onSortButtonClicked(sortDirection) {\n        if (this.sortButtonGroup.selectedIndexes.length === 0) {\n            if (this.grid.isColumnGrouped(this.column.field)) {\n                this.sortButtonGroup.selectButton(sortDirection - 1);\n            } else {\n                this.grid.clearSort(this.column.field);\n            }\n        } else {\n            this.grid.sort({ fieldName: this.column.field, dir: sortDirection, ignoreCase: true });\n        }\n    }\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    ViewChild,\n    HostBinding,\n    ChangeDetectionStrategy,\n    TemplateRef,\n    Directive,\n    OnDestroy,\n    ElementRef,\n    Input,\n    ViewRef\n} from '@angular/core';\nimport {\n    HorizontalAlignment,\n    VerticalAlignment,\n    OverlaySettings,\n    IgxOverlayService,\n    AbsoluteScrollStrategy,\n    AutoPositionStrategy\n} from '../../../services/index';\nimport { IgxFilteringService, ExpressionUI } from '../grid-filtering.service';\nimport {\n    IFilteringOperation,\n    IgxStringFilteringOperand,\n    IgxNumberFilteringOperand,\n    IgxBooleanFilteringOperand,\n    IgxDateFilteringOperand\n} from '../../../data-operations/filtering-condition';\nimport { FilteringExpressionsTree, IFilteringExpressionsTree } from '../../../data-operations/filtering-expressions-tree';\nimport { FilteringLogic, IFilteringExpression } from '../../../data-operations/filtering-expression.interface';\nimport { cloneArray, KEYS } from '../../../core/utils';\nimport { DataType, DataUtil } from '../../../data-operations/data-util';\nimport { IgxExcelStyleSearchComponent } from './excel-style-search.component';\nimport { IgxExcelStyleCustomDialogComponent } from './excel-style-custom-dialog.component';\nimport { Subscription, Subject } from 'rxjs';\nimport { IgxExcelStyleSortingComponent } from './excel-style-sorting.component';\nimport { takeUntil } from 'rxjs/operators';\nimport { ISelectionEventArgs, IgxDropDownComponent } from '../../../drop-down';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IgxGridBaseDirective } from '../../grid-base.directive';\nimport { DisplayDensity } from '../../../core/density';\n\n/**\n *@hidden\n */\nexport class FilterListItem {\n    public value: any;\n    public label: any;\n    public isSelected: boolean;\n    public indeterminate: boolean;\n    public isSpecial = false;\n}\n\n@Directive({\n    selector: '[igxExcelStyleSorting]'\n})\nexport class IgxExcelStyleSortingTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({\n    selector: '[igxExcelStyleMoving]'\n})\nexport class IgxExcelStyleMovingTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({\n    selector: '[igxExcelStyleHiding]'\n})\nexport class IgxExcelStyleHidingTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({\n    selector: '[igxExcelStylePinning]'\n})\nexport class IgxExcelStylePinningTemplateDirective {\n    constructor(public template: TemplateRef<any>) {}\n}\n\n/**\n * A component used for presenting Excel style filtering UI for a specific column.\n * It is used internally in the Grid, but could also be hosted in a container outside of it.\n *\n * Example:\n * ```html\n * <igx-grid-excel-style-filtering\n *     [column]=\"grid1.columns[0]\">\n * </igx-grid-excel-style-filtering>\n * ```\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-excel-style-filtering',\n    templateUrl: './grid.excel-style-filtering.component.html'\n})\nexport class IgxGridExcelStyleFilteringComponent implements OnDestroy {\n    private static readonly filterOptimizationThreshold = 2;\n\n    private shouldOpenSubMenu = true;\n    private expressionsList = new Array<ExpressionUI>();\n    private destroy$ = new Subject<boolean>();\n    private containsNullOrEmpty = false;\n    private selectAllSelected = true;\n    private selectAllIndeterminate = false;\n    private filterValues = new Set<any>();\n    private _column: IgxColumnComponent;\n    private _columnPinning: Subscription;\n    private _columnVisibilityChanged: Subscription;\n    private _filteringChanged: Subscription;\n    private _densityChanged: Subscription;\n\n    /**\n     * An @Input property that sets the column.\n     */\n    @Input()\n    public set column(value: IgxColumnComponent) {\n        this._column = value;\n\n        if (this._columnPinning) {\n            this._columnPinning.unsubscribe();\n        }\n\n        if (this._columnVisibilityChanged) {\n            this._columnVisibilityChanged.unsubscribe();\n        }\n\n        if (this._filteringChanged) {\n            this._filteringChanged.unsubscribe();\n        }\n\n        if (this._densityChanged) {\n            this._densityChanged.unsubscribe();\n        }\n\n        if (this._column) {\n            this._column.grid.filteringService.registerSVGIcons();\n            this.isColumnPinnable = this.column.pinnable;\n            this.init();\n\n            this._columnPinning = this.grid.onColumnPinning.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                requestAnimationFrame(() => {\n                    this.isColumnPinnable = this.column.pinnable;\n                    if (!(this.cdr as ViewRef).destroyed) {\n                       this.cdr.detectChanges();\n                    }\n                });\n            });\n            this._columnVisibilityChanged = this.grid.onColumnVisibilityChanged.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this.cdr.detectChanges();\n            });\n            this._filteringChanged = this.grid.filteringExpressionsTreeChange.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this.init();\n            });\n            this._densityChanged = this.grid.onDensityChanged.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this.cdr.detectChanges();\n            });\n        }\n    }\n\n    /**\n     * Returns the current column.\n     */\n    public get column(): IgxColumnComponent {\n        return this._column;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get filteringService(): IgxFilteringService {\n        return this.grid.filteringService;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public listData = new Array<FilterListItem>();\n    /**\n     * @hidden @internal\n     */\n    public uniqueValues = [];\n    /**\n     * @hidden @internal\n     */\n    public overlayService: IgxOverlayService;\n    /**\n     * @hidden @internal\n     */\n    public overlayComponentId: string;\n\n    private _subMenuPositionSettings = {\n        verticalStartPoint: VerticalAlignment.Top\n    };\n\n    private _subMenuOverlaySettings: OverlaySettings = {\n        closeOnOutsideClick: true,\n        modal: false,\n        positionStrategy: new AutoPositionStrategy(this._subMenuPositionSettings),\n        scrollStrategy: new AbsoluteScrollStrategy()\n    };\n\n    /**\n     * @hidden @internal\n     */\n    get minHeight() {\n        if (!this.inline) {\n            let minHeight = 600;\n            switch (this.grid.displayDensity) {\n                case DisplayDensity.cosy: minHeight = 465; break;\n                case DisplayDensity.compact: minHeight = 330; break;\n                default: break;\n            }\n            return `${minHeight}px`;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('style.max-height') get maxHeight() {\n        if (!this.inline) {\n            let maxHeight = 730;\n            switch (this.grid.displayDensity) {\n                case DisplayDensity.cosy: maxHeight = 565; break;\n                case DisplayDensity.compact: maxHeight = 405; break;\n                default: break;\n            }\n            return `${maxHeight}px`;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-excel-filter')\n    className = 'igx-excel-filter';\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('class.igx-excel-filter--inline')\n    public inline = true;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('dropdown', { read: ElementRef })\n    public mainDropdown: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('subMenu', { read: IgxDropDownComponent })\n    public subMenu: IgxDropDownComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('customDialog', { read: IgxExcelStyleCustomDialogComponent })\n    public customDialog: IgxExcelStyleCustomDialogComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('excelStyleSearch', { read: IgxExcelStyleSearchComponent })\n    protected excelStyleSearch: IgxExcelStyleSearchComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('excelStyleSorting', { read: IgxExcelStyleSortingComponent })\n    protected excelStyleSorting: IgxExcelStyleSortingComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('defaultExcelStyleSortingTemplate', { read: TemplateRef, static: true })\n    protected defaultExcelStyleSortingTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('defaultExcelStyleHidingTemplate', { read: TemplateRef, static: true })\n    protected defaultExcelStyleHidingTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('defaultExcelStyleMovingTemplate', { read: TemplateRef, static: true })\n    protected defaultExcelStyleMovingTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('defaultExcelStylePinningTemplate', { read: TemplateRef, static: true })\n    protected defaultExcelStylePinningTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    public isColumnPinnable: boolean;\n\n    /**\n     * @hidden @internal\n     */\n    get grid(): IgxGridBaseDirective {\n        return this.column.grid;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get conditions() {\n        return this.column.filters.conditionList();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get subMenuText() {\n        switch (this.column.dataType) {\n            case DataType.Boolean:\n                return this.grid.resourceStrings.igx_grid_excel_boolean_filter;\n            case DataType.Number:\n                return this.grid.resourceStrings.igx_grid_excel_number_filter;\n            case DataType.Date:\n                return this.grid.resourceStrings.igx_grid_excel_date_filter;\n            default:\n                return this.grid.resourceStrings.igx_grid_excel_text_filter;\n        }\n    }\n\n    constructor(private cdr: ChangeDetectorRef) {}\n\n    /**\n     * @hidden @internal\n     */\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    private init() {\n        this.expressionsList = new Array<ExpressionUI>();\n        this.filteringService.generateExpressionsList(this.column.filteringExpressionsTree, this.grid.filteringLogic, this.expressionsList);\n        this.populateColumnData();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public clearFilterClass() {\n        if (this.column.filteringExpressionsTree) {\n            return 'igx-excel-filter__actions-clear';\n        }\n\n        return 'igx-excel-filter__actions-clear--disabled';\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public pinClass() {\n        return this.isColumnPinnable ? 'igx-excel-filter__actions-pin' : 'igx-excel-filter__actions-pin--disabled';\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public initialize(column: IgxColumnComponent, overlayService: IgxOverlayService,\n        overlayComponentId: string) {\n        this.inline = false;\n        this.column = column;\n        this.overlayService = overlayService;\n        this.overlayComponentId = overlayComponentId;\n\n        this._subMenuOverlaySettings.outlet = (this.grid as any).outlet;\n\n        requestAnimationFrame(() => {\n            this.excelStyleSearch.searchInput.nativeElement.focus();\n        });\n\n        this.grid.onColumnMoving.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            this.closeDropdown();\n        });\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public getCondition(value: string): IFilteringOperation {\n        return this.column.filters.condition(value);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public translateCondition(value: string): string {\n        return this.grid.resourceStrings[`igx_grid_filter_${this.getCondition(value).name}`] || value;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onPin() {\n        this.column.pinned = !this.column.pinned;\n        this.closeDropdown();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onHideToggle() {\n        this.column.hidden = !this.column.hidden;\n        this.grid.onColumnVisibilityChanged.emit({ column: this.column, newValue: this.column.hidden });\n        this.closeDropdown();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onTextFilterClick(eventArgs) {\n        if (this.shouldOpenSubMenu) {\n            this._subMenuOverlaySettings.positionStrategy.settings.target = eventArgs.currentTarget;\n\n            const gridRect = this.grid.nativeElement.getBoundingClientRect();\n            const dropdownRect = this.mainDropdown.nativeElement.getBoundingClientRect();\n\n            let x = dropdownRect.left + dropdownRect.width;\n            let x1 = gridRect.left + gridRect.width;\n            x += window.pageXOffset;\n            x1 += window.pageXOffset;\n            if (Math.abs(x - x1) < 200) {\n                this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection = HorizontalAlignment.Left;\n                this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint = HorizontalAlignment.Left;\n            } else {\n                this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection = HorizontalAlignment.Right;\n                this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint = HorizontalAlignment.Right;\n            }\n\n            this.subMenu.open(this._subMenuOverlaySettings);\n            this.shouldOpenSubMenu = false;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onTextFilterKeyDown(eventArgs) {\n        if (eventArgs.key === KEYS.ENTER) {\n            this.onTextFilterClick(eventArgs);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onSubMenuClosed() {\n        requestAnimationFrame(() => {\n            this.shouldOpenSubMenu = true;\n        });\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onSubMenuSelection(eventArgs: ISelectionEventArgs) {\n        if (this.expressionsList && this.expressionsList.length &&\n            this.expressionsList[0].expression.condition.name !== 'in') {\n            this.customDialog.expressionsList = this.expressionsList;\n        }\n\n        this.customDialog.selectedOperator = eventArgs.newSelection.value;\n        eventArgs.cancel = true;\n        if (this.overlayComponentId) {\n            this.mainDropdown.nativeElement.style.display = 'none';\n        }\n        this.subMenu.close();\n        this.customDialog.open(this.mainDropdown.nativeElement);\n    }\n\n    private areExpressionsSelectable () {\n        if (this.expressionsList.length === 1 &&\n            (this.expressionsList[0].expression.condition.name === 'equals' ||\n             this.expressionsList[0].expression.condition.name === 'true' ||\n             this.expressionsList[0].expression.condition.name === 'false' ||\n             this.expressionsList[0].expression.condition.name === 'empty' ||\n             this.expressionsList[0].expression.condition.name === 'in')) {\n            return true;\n        }\n\n        const selectableExpressionsCount = this.expressionsList.filter(exp =>\n            (exp.beforeOperator === 1 || exp.afterOperator === 1) &&\n            (exp.expression.condition.name === 'equals' ||\n             exp.expression.condition.name === 'true' ||\n             exp.expression.condition.name === 'false' ||\n             exp.expression.condition.name === 'empty' ||\n             exp.expression.condition.name === 'in')).length;\n\n        return selectableExpressionsCount === this.expressionsList.length;\n    }\n\n    private areExpressionsValuesInTheList() {\n        if (this.column.dataType === DataType.Boolean) {\n            return true;\n        }\n\n        if (this.filterValues.size === 1) {\n            const firstValue = this.filterValues.values().next().value;\n\n            if (!firstValue && firstValue !== 0) {\n                return true;\n            }\n        }\n\n        for (let index = 0; index < this.uniqueValues.length; index++) {\n            if (this.filterValues.has(this.uniqueValues[index])) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    private populateColumnData() {\n        if (this.grid.uniqueColumnValuesStrategy) {\n            this.cdr.detectChanges();\n            this.renderColumnValuesRemotely();\n        } else {\n            this.renderColumnValuesFromData();\n        }\n    }\n\n    private renderColumnValuesRemotely() {\n        this.excelStyleSearch.isLoading = true;\n        const expressionsTree: FilteringExpressionsTree = this.getColumnFilterExpressionsTree();\n\n        this.grid.uniqueColumnValuesStrategy(this.column, expressionsTree, (colVals: any[]) => {\n            const columnValues = (this.column.dataType === DataType.Date) ?\n                colVals.map(val => val ? val.toDateString() : val) : colVals;\n\n            this.renderValues(columnValues);\n            this.excelStyleSearch.isLoading = false;\n            this.excelStyleSearch.refreshSize();\n        });\n    }\n\n    private renderColumnValuesFromData() {\n        let data = this.column.gridAPI.get_all_data((this.grid as any).id);\n        const expressionsTree = this.getColumnFilterExpressionsTree();\n\n        if (expressionsTree.filteringOperands.length) {\n            const state = { expressionsTree: expressionsTree };\n            data = DataUtil.filter(cloneArray(data), state);\n        }\n\n        const columnField = this.column.field;\n        const columnValues = (this.column.dataType === DataType.Date) ?\n            data.map(record => record[columnField] ? record[columnField].toDateString() : record[columnField]) :\n            data.map(record => record[columnField]);\n\n        this.renderValues(columnValues);\n    }\n\n    private renderValues(columnValues: any[]) {\n        this.generateUniqueValues(columnValues);\n        this.generateFilterValues(this.column.dataType === DataType.Date);\n        this.generateListData();\n    }\n\n    private generateUniqueValues(columnValues: any[]) {\n        this.uniqueValues = Array.from(new Set(columnValues));\n    }\n\n    private generateFilterValues(isDateColumn: boolean = false) {\n        if (isDateColumn) {\n            this.filterValues = new Set<any>(this.expressionsList.reduce((arr, e) => {\n                if (e.expression.condition.name === 'in') {\n                    return [ ...arr, ...Array.from((e.expression.searchVal as Set<any>).values()).map(v =>\n                        new Date(v).toDateString()) ];\n                }\n                return [ ...arr, ...[e.expression.searchVal ? e.expression.searchVal.toDateString() : e.expression.searchVal] ];\n            }, []));\n        } else {\n            this.filterValues = new Set<any>(this.expressionsList.reduce((arr, e) => {\n                if (e.expression.condition.name === 'in') {\n                    return [ ...arr, ...Array.from((e.expression.searchVal as Set<any>).values()) ];\n                }\n                return [ ...arr, ...[e.expression.searchVal] ];\n            }, []));\n        }\n    }\n\n    private generateListData() {\n        this.listData = new Array<FilterListItem>();\n\n        const shouldUpdateSelection = this.areExpressionsSelectable() && this.areExpressionsValuesInTheList();\n\n        if (this.column.dataType === DataType.Boolean) {\n            this.addBooleanItems();\n        } else {\n            this.addItems(shouldUpdateSelection);\n        }\n\n        this.listData.sort((a, b) => this.sortData(a, b));\n\n        if (this.column.dataType === DataType.Date) {\n            this.uniqueValues = this.uniqueValues.map(value => new Date(value));\n        }\n\n        if (this.containsNullOrEmpty) {\n            this.addBlanksItem(shouldUpdateSelection);\n        }\n\n        this.addSelectAllItem();\n\n        if (!(this.cdr as any).destroyed) {\n            this.cdr.detectChanges();\n        }\n    }\n\n    private getColumnFilterExpressionsTree() {\n        const gridExpressionsTree: IFilteringExpressionsTree = this.grid.filteringExpressionsTree;\n        const expressionsTree = new FilteringExpressionsTree(gridExpressionsTree.operator, gridExpressionsTree.fieldName);\n\n        for (const operand of gridExpressionsTree.filteringOperands) {\n            if (operand instanceof FilteringExpressionsTree) {\n                const columnExprTree = operand as FilteringExpressionsTree;\n                if (columnExprTree.fieldName === this.column.field) {\n                    break;\n                }\n            }\n            expressionsTree.filteringOperands.push(operand);\n        }\n\n        return expressionsTree;\n    }\n\n    private addBooleanItems() {\n        this.selectAllSelected = true;\n        this.selectAllIndeterminate = false;\n        this.uniqueValues.forEach(element => {\n            const filterListItem = new FilterListItem();\n            if (element !== undefined && element !== null && element !== '') {\n                if (this.column.filteringExpressionsTree) {\n                    if (element === true && this.expressionsList.find(exp => exp.expression.condition.name === 'true' )) {\n                        filterListItem.isSelected = true;\n                        this.selectAllIndeterminate = true;\n                    } else if (element === false && this.expressionsList.find(exp => exp.expression.condition.name === 'false' )) {\n                            filterListItem.isSelected = true;\n                            this.selectAllIndeterminate = true;\n                    } else {\n                        filterListItem.isSelected = false;\n                    }\n                } else {\n                    filterListItem.isSelected = true;\n                }\n                filterListItem.value = element;\n                filterListItem.label = element;\n                filterListItem.indeterminate = false;\n                this.listData.push(filterListItem);\n            } else {\n                this.containsNullOrEmpty = true;\n            }\n        });\n    }\n\n    private addItems(shouldUpdateSelection: boolean) {\n        this.selectAllSelected = true;\n        this.selectAllIndeterminate = false;\n        this.uniqueValues.forEach(element => {\n            if (element !== undefined && element !== null && element !== '') {\n                const filterListItem = new FilterListItem();\n                if (this.column.filteringExpressionsTree) {\n                    if (shouldUpdateSelection) {\n                        if (this.filterValues.has(element)) {\n                            filterListItem.isSelected = true;\n                        } else {\n                            filterListItem.isSelected = false;\n                        }\n                        this.selectAllIndeterminate = true;\n                    } else {\n                        filterListItem.isSelected = false;\n                        this.selectAllSelected = false;\n                    }\n                } else {\n                    filterListItem.isSelected = true;\n                }\n                if (this.column.dataType === DataType.Date) {\n                    filterListItem.value = new Date(element);\n                    filterListItem.label = new Date(element);\n                } else {\n                    filterListItem.value = element;\n                    filterListItem.label = element;\n                }\n                filterListItem.indeterminate = false;\n                this.listData.push(filterListItem);\n            } else {\n                this.containsNullOrEmpty = true;\n            }\n        });\n    }\n\n    private addSelectAllItem() {\n        const selectAll =  new FilterListItem();\n        selectAll.isSelected = this.selectAllSelected;\n        selectAll.value = this.grid.resourceStrings.igx_grid_excel_select_all;\n        selectAll.label = this.grid.resourceStrings.igx_grid_excel_select_all;\n        selectAll.indeterminate = this.selectAllIndeterminate;\n        selectAll.isSpecial = true;\n        this.listData.unshift(selectAll);\n    }\n\n    private addBlanksItem(shouldUpdateSelection) {\n        const blanks =  new FilterListItem();\n        if (this.column.filteringExpressionsTree) {\n            if (shouldUpdateSelection) {\n                if (this.filterValues.has(null)) {\n                    blanks.isSelected = true;\n                } else {\n                    blanks.isSelected = false;\n                }\n            }\n        } else {\n            blanks.isSelected = true;\n        }\n        blanks.value = null;\n        blanks.label = this.grid.resourceStrings.igx_grid_excel_blanks;\n        blanks.indeterminate = false;\n        blanks.isSpecial = true;\n        this.listData.unshift(blanks);\n    }\n\n    private sortData(a: FilterListItem, b: FilterListItem) {\n        let valueA = a.value;\n        let valueB = b.value;\n        if (typeof(a) === DataType.String) {\n            valueA = a.value.toUpperCase();\n            valueB = b.value.toUpperCase();\n        }\n        if (valueA < valueB) {\n            return -1;\n        } else if (valueA > valueB) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    private selectAllFilterItems() {\n        this.listData.forEach(filterListItem => {\n            filterListItem.isSelected = true;\n            filterListItem.indeterminate = false;\n        });\n        this.excelStyleSearch.cdr.detectChanges();\n    }\n\n    // TODO: sort members by access modifier\n\n    /**\n     * @hidden @internal\n     */\n    get sortingTemplate() {\n        if (this.grid.excelStyleSortingTemplateDirective) {\n            return this.grid.excelStyleSortingTemplateDirective.template;\n        } else {\n            return this.defaultExcelStyleSortingTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get movingTemplate() {\n        if (this.grid.excelStyleMovingTemplateDirective) {\n            return this.grid.excelStyleMovingTemplateDirective.template;\n        } else {\n            return this.defaultExcelStyleMovingTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get pinningTemplate() {\n        if (this.grid.excelStylePinningTemplateDirective) {\n            return this.grid.excelStylePinningTemplateDirective.template;\n        } else {\n            return this.defaultExcelStylePinningTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get hidingTemplate() {\n        if (this.grid.excelStyleHidingTemplateDirective) {\n            return this.grid.excelStyleHidingTemplateDirective.template;\n        } else {\n            return this.defaultExcelStyleHidingTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get applyButtonDisabled() {\n        return this.listData[0] && !this.listData[0].isSelected && !this.listData[0].indeterminate;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public applyFilter() {\n        const filterTree = new FilteringExpressionsTree(FilteringLogic.Or, this.column.field);\n        const selectedItems = this.listData.slice(1, this.listData.length).filter(el => el.isSelected === true);\n        const unselectedItem = this.listData.slice(1, this.listData.length).find(el => el.isSelected === false);\n\n        if (unselectedItem) {\n            if (selectedItems.length <= IgxGridExcelStyleFilteringComponent.filterOptimizationThreshold) {\n                selectedItems.forEach(element => {\n                    let condition = null;\n                    if (element.value !== null && element.value !== undefined) {\n                        if (this.column.dataType === DataType.Boolean) {\n                            condition = this.createCondition(element.value.toString());\n                        } else {\n                            condition = this.createCondition('equals');\n                        }\n                    } else {\n                        condition = this.createCondition('empty');\n                    }\n                    filterTree.filteringOperands.push({\n                        condition: condition,\n                        fieldName: this.column.field,\n                        ignoreCase: this.column.filteringIgnoreCase,\n                        searchVal: element.value\n                    });\n                });\n            } else {\n                const blanksItemIndex = selectedItems.findIndex(e => e.value === null || e.value === undefined);\n                let blanksItem: any;\n                if (blanksItemIndex >= 0) {\n                    blanksItem = selectedItems[blanksItemIndex];\n                    selectedItems.splice(blanksItemIndex, 1);\n                }\n\n                filterTree.filteringOperands.push({\n                    condition: this.createCondition('in'),\n                    fieldName: this.column.field,\n                    ignoreCase: this.column.filteringIgnoreCase,\n                    searchVal: new Set(this.column.dataType === DataType.Date ?\n                        selectedItems.map(d => new Date(d.value.getFullYear(), d.value.getMonth(), d.value.getDate()).toISOString()) :\n                        selectedItems.map(e => e.value))\n                });\n\n                if (blanksItem) {\n                    filterTree.filteringOperands.push({\n                        condition: this.createCondition('empty'),\n                        fieldName: this.column.field,\n                        ignoreCase: this.column.filteringIgnoreCase,\n                        searchVal: blanksItem.value\n                    });\n                }\n            }\n\n            this.filteringService.filterInternal(this.column.field, filterTree);\n            this.expressionsList = new Array<ExpressionUI>();\n            this.filteringService.generateExpressionsList(this.column.filteringExpressionsTree,\n                this.grid.filteringLogic, this.expressionsList);\n        } else {\n            this.filteringService.clearFilter(this.column.field);\n        }\n\n        this.closeDropdown();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public cancel() {\n        if (!this.overlayComponentId) {\n            this.init();\n        }\n        this.closeDropdown();\n    }\n\n    private closeDropdown() {\n        if (this.overlayComponentId) {\n            this.overlayService.hide(this.overlayComponentId);\n            this.overlayComponentId = null;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onKeyDown(eventArgs) {\n        if (eventArgs.key === KEYS.ESCAPE || eventArgs.key === KEYS.ESCAPE_IE) {\n            this.closeDropdown();\n        }\n        eventArgs.stopPropagation();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public clearFilter() {\n        this.filteringService.clearFilter(this.column.field);\n        this.selectAllFilterItems();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onClearFilterKeyDown(eventArgs) {\n        if (eventArgs.key === KEYS.ENTER) {\n            this.clearFilter();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public showCustomFilterItem(): boolean {\n        const exprTree = this.column.filteringExpressionsTree;\n        return exprTree && exprTree.filteringOperands && exprTree.filteringOperands.length &&\n            !((exprTree.filteringOperands[0] as IFilteringExpression).condition &&\n            (exprTree.filteringOperands[0] as IFilteringExpression).condition.name === 'in');\n    }\n\n    private createCondition(conditionName: string) {\n        switch (this.column.dataType) {\n            case DataType.Boolean:\n                return IgxBooleanFilteringOperand.instance().condition(conditionName);\n            case DataType.Number:\n                return IgxNumberFilteringOperand.instance().condition(conditionName);\n            case DataType.Date:\n                return IgxDateFilteringOperand.instance().condition(conditionName);\n            default:\n                return IgxStringFilteringOperand.instance().condition(conditionName);\n        }\n    }\n}\n","import { AutoPositionStrategy } from '../../../services/overlay/position/auto-position-strategy';\nimport { ConnectedFit } from '../../../services/overlay/utilities';\n\n/** @hidden */\nexport class ExcelStylePositionStrategy extends AutoPositionStrategy {\n    protected shouldFitInViewPort(connectedFit: ConnectedFit) {\n        return true;\n    }\n\n    protected fitInViewport(element: HTMLElement, connectedFit: ConnectedFit) {\n        const heightOverflow = connectedFit.contentElementRect.height - connectedFit.viewPortRect.height;\n        if (heightOverflow > 0) {\n            element.style.width = 'auto';\n            element.style.height = `${connectedFit.viewPortRect.height}px`;\n        } else {\n            element.style.height = `${Math.max(\n                connectedFit.viewPortRect.height - connectedFit.targetRect.bottom - 1,\n                connectedFit.contentElementRect.height)}px`;\n        }\n\n        super.fitInViewport(element, connectedFit);\n    }\n}\n","import { ElasticPositionStrategy } from './../../services/overlay/position/elastic-position-strategy';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    DoCheck,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    NgZone,\n    OnInit,\n    Inject,\n    OnDestroy,\n    NgModuleRef\n} from '@angular/core';\nimport { DataType } from '../../data-operations/data-util';\nimport { SortingDirection } from '../../data-operations/sorting-expression.interface';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxColumnResizingService } from '../resizing/resizing.service';\nimport { IgxOverlayService } from '../../services/overlay/overlay';\nimport { IgxGridExcelStyleFilteringComponent } from '../filtering/excel-style/grid.excel-style-filtering.component';\nimport { OverlaySettings, PositionSettings, VerticalAlignment } from '../../services/overlay/utilities';\nimport { useAnimation } from '@angular/animations';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { fadeIn, fadeOut } from '../../animations/main';\nimport { AbsoluteScrollStrategy } from '../../services/overlay/scroll/absolute-scroll-strategy';\nimport { GridType } from '../common/grid.interface';\nimport { ExcelStylePositionStrategy } from '../filtering/excel-style/excel-style-position-strategy';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-header',\n    templateUrl: './grid-header.component.html'\n})\nexport class IgxGridHeaderComponent implements DoCheck, OnInit, OnDestroy {\n\n    private _componentOverlayId: string;\n    private _filterMenuPositionSettings: PositionSettings;\n    private _filterMenuOverlaySettings: OverlaySettings;\n    private _destroy$ = new Subject<boolean>();\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @Input()\n    public gridID: string;\n\n    @HostBinding('class')\n    get styleClasses(): string {\n        const defaultClasses = [\n            'igx-grid__th--fw',\n            this.column.headerClasses\n        ];\n\n        const classList = {\n            'igx-grid__th': !this.column.columnGroup,\n            'asc': this.ascending,\n            'desc': this.descending,\n            'igx-grid__th--number': this.column.dataType === DataType.Number,\n            'igx-grid__th--sortable': this.column.sortable,\n            'igx-grid__th--filtrable': this.column.filterable && this.grid.filteringService.isFilterRowVisible,\n            'igx-grid__th--sorted': this.sorted\n        };\n\n        for (const klass of Object.keys(classList)) {\n            if (classList[klass]) {\n                defaultClasses.push(klass);\n            }\n        }\n        return defaultClasses.join(' ');\n    }\n\n    @HostBinding('style.height.rem')\n    get height() {\n        if (this.grid.hasColumnGroups) {\n            return (this.grid.maxLevelHeaderDepth + 1 - this.column.level) * this.grid.defaultRowHeight / this.grid._baseFontSize;\n        }\n        return null;\n    }\n\n    get ascending() {\n        return this.sortDirection === SortingDirection.Asc;\n    }\n\n    get descending() {\n        return this.sortDirection === SortingDirection.Desc;\n    }\n\n    get sortingIcon(): string {\n        if (this.sortDirection !== SortingDirection.None) {\n            // arrow_downward and arrow_upward\n            // are material icons ligature strings\n            return this.sortDirection === SortingDirection.Asc ? 'arrow_upward' : 'arrow_downward';\n        }\n        return 'arrow_upward';\n    }\n\n    get sorted() {\n        return this.sortDirection !== SortingDirection.None;\n    }\n\n    get filterIconClassName() {\n        return this.column.filteringExpressionsTree ? 'igx-excel-filter__icon--filtered' : 'igx-excel-filter__icon';\n    }\n\n    @HostBinding('attr.role')\n    public hostRole = 'columnheader';\n\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    @HostBinding('attr.id')\n    get headerID() {\n        return `${this.gridID}_${this.column.field}`;\n    }\n\n    protected sortDirection = SortingDirection.None;\n\n    constructor(\n        public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        public colResizingService: IgxColumnResizingService,\n        public cdr: ChangeDetectorRef,\n        public elementRef: ElementRef,\n        public zone: NgZone,\n        private _filteringService: IgxFilteringService,\n        private _moduleRef: NgModuleRef<any>,\n        @Inject(IgxOverlayService) private _overlayService: IgxOverlayService\n    ) { }\n\n    public ngOnInit() {\n        this.initFilteringSettings();\n    }\n\n    public ngDoCheck() {\n        this.getSortDirection();\n        this.cdr.markForCheck();\n    }\n\n    ngOnDestroy(): void {\n        this._destroy$.next(true);\n        this._destroy$.complete();\n\n        if (this._componentOverlayId) {\n            this._overlayService.hide(this._componentOverlayId);\n        }\n    }\n\n    @HostListener('click', ['$event'])\n    public onClick(event) {\n        if (!this.colResizingService.isColumnResizing) {\n            event.stopPropagation();\n            if (this.grid.filteringService.isFilterRowVisible) {\n                if (this.column.filterable && !this.column.columnGroup &&\n                    !this.grid.filteringService.isFilterComplex(this.column.field)) {\n                    this.grid.filteringService.filteredColumn = this.column;\n                }\n            } else if (this.column.sortable) {\n                this.triggerSort();\n            }\n        }\n    }\n\n    public onFilteringIconClick(event) {\n        event.stopPropagation();\n\n        this.toggleFilterDropdown();\n    }\n\n    get grid(): any {\n        return this.gridAPI.grid;\n    }\n\n    protected getSortDirection() {\n        const expr = this.gridAPI.grid.sortingExpressions.find((x) => x.fieldName === this.column.field);\n        this.sortDirection = expr ? expr.dir : SortingDirection.None;\n    }\n\n    public onSortingIconClick(event) {\n        if (this.grid.filteringService.isFilterRowVisible) {\n            event.stopPropagation();\n            this.triggerSort();\n        }\n    }\n\n    private triggerSort() {\n        const groupingExpr = this.grid.groupingExpressions ?\n            this.grid.groupingExpressions.find((expr) => expr.fieldName === this.column.field) : null;\n        const sortDir = groupingExpr ?\n            this.sortDirection + 1 > SortingDirection.Desc ? SortingDirection.Asc : SortingDirection.Desc\n            : this.sortDirection + 1 > SortingDirection.Desc ? SortingDirection.None : this.sortDirection + 1;\n        this.sortDirection = sortDir;\n        this.grid.sort({ fieldName: this.column.field, dir: this.sortDirection, ignoreCase: this.column.sortingIgnoreCase,\n            strategy: this.column.sortStrategy });\n    }\n\n    private toggleFilterDropdown() {\n        if (!this._componentOverlayId) {\n            const headerTarget = this.elementRef.nativeElement;\n            const filterIconTarget = headerTarget.querySelector('.' + this.filterIconClassName);\n\n            this._filterMenuOverlaySettings.positionStrategy.settings.target = filterIconTarget;\n            this._filterMenuOverlaySettings.outlet = this.grid.outlet;\n\n            this._componentOverlayId =\n                this._overlayService.attach(IgxGridExcelStyleFilteringComponent, this._filterMenuOverlaySettings, this._moduleRef);\n            this._overlayService.show(this._componentOverlayId, this._filterMenuOverlaySettings);\n        }\n    }\n\n    private initFilteringSettings() {\n        this._filterMenuPositionSettings = {\n            verticalStartPoint: VerticalAlignment.Bottom,\n            openAnimation: useAnimation(fadeIn, {\n                params: {\n                    duration: '250ms'\n                }\n            }),\n            closeAnimation: useAnimation(fadeOut, {\n                params: {\n                    duration: '200ms'\n                }\n            })\n        };\n\n        this._filterMenuOverlaySettings = {\n            closeOnOutsideClick: true,\n            modal: false,\n            positionStrategy: new ExcelStylePositionStrategy(this._filterMenuPositionSettings),\n            scrollStrategy: new AbsoluteScrollStrategy()\n        };\n\n        this._overlayService.onOpening.pipe(\n            filter((overlay) => overlay.id === this._componentOverlayId),\n            takeUntil(this._destroy$)).subscribe((eventArgs) => {\n                this.onOverlayOpening(eventArgs);\n            });\n\n        this._overlayService.onClosed.pipe(\n            filter(overlay => overlay.id === this._componentOverlayId),\n            takeUntil(this._destroy$)).subscribe(() => {\n                this.onOverlayClosed();\n            });\n    }\n\n    private onOverlayOpening(eventArgs) {\n        const instance = eventArgs.componentRef.instance as IgxGridExcelStyleFilteringComponent;\n        if (instance) {\n            instance.initialize(this.column, this._overlayService, eventArgs.id);\n        }\n    }\n\n    private onOverlayClosed() {\n        this._componentOverlayId = null;\n    }\n}\n","import {\n    ChangeDetectorRef,\n    Component,\n    Input,\n    TemplateRef,\n    ViewChild,\n    HostBinding,\n    AfterViewInit,\n    ElementRef,\n    HostListener,\n    OnInit,\n    ChangeDetectionStrategy,\n    DoCheck\n} from '@angular/core';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IFilteringExpression } from '../../../data-operations/filtering-expression.interface';\nimport { IBaseChipEventArgs, IgxChipsAreaComponent, IgxChipComponent } from '../../../chips';\nimport { IgxFilteringService, ExpressionUI } from '../grid-filtering.service';\nimport { KEYS } from '../../../core/utils';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-filtering-cell',\n    templateUrl: './grid-filtering-cell.component.html'\n})\nexport class IgxGridFilteringCellComponent implements AfterViewInit, OnInit, DoCheck {\n\n    private baseClass = 'igx-grid__filtering-cell-indicator';\n    private currentTemplate = null;\n\n    public expressionsList: ExpressionUI[];\n    public moreFiltersCount = 0;\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @ViewChild('emptyFilter', { read: TemplateRef, static: true })\n    protected emptyFilter: TemplateRef<any>;\n\n    @ViewChild('defaultFilter', { read: TemplateRef, static: true })\n    protected defaultFilter: TemplateRef<any>;\n\n    @ViewChild('complexFilter', { read: TemplateRef, static: true })\n    protected complexFilter: TemplateRef<any>;\n\n    @ViewChild('chipsArea', { read: IgxChipsAreaComponent })\n    protected chipsArea: IgxChipsAreaComponent;\n\n    @ViewChild('moreIcon', { read: ElementRef })\n    protected moreIcon: ElementRef;\n\n    @ViewChild('ghostChip', { read: IgxChipComponent })\n    protected ghostChip: IgxChipComponent;\n\n    @ViewChild('complexChip', { read: IgxChipComponent })\n    protected complexChip: IgxChipComponent;\n\n    @HostBinding('class.igx-grid__filtering-cell')\n    public cssClass = 'igx-grid__filtering-cell';\n\n    constructor(public cdr: ChangeDetectorRef, public filteringService: IgxFilteringService) {\n        this.filteringService.subscribeToEvents();\n    }\n\n    ngOnInit(): void {\n        this.filteringService.columnToMoreIconHidden.set(this.column.field, true);\n    }\n\n    ngAfterViewInit(): void {\n        this.updateFilterCellArea();\n    }\n\n    public ngDoCheck() {\n        this.updateFilterCellArea();\n    }\n\n    @HostListener('keydown.tab', ['$event'])\n    public onTabKeyDown(eventArgs) {\n\n        if (this.isLastElementFocused()) {\n            this.filteringService.grid.navigation.navigateNextFilterCell(this.column, eventArgs);\n        }\n        eventArgs.stopPropagation();\n    }\n\n    @HostListener('keydown.shift.tab', ['$event'])\n    public onShiftTabKeyDown(eventArgs) {\n        if (this.isFirstElementFocused()) {\n            this.filteringService.grid.navigation.navigatePrevFilterCell(this.column, eventArgs);\n        }\n        eventArgs.stopPropagation();\n    }\n\n    /**\n     * Returns whether a chip with a given index is visible or not.\n     */\n    public isChipVisible(index: number) {\n        const expression = this.expressionsList[index];\n        return !!(expression && expression.isVisible);\n    }\n\n    /**\n     * Updates the filtering cell area.\n     */\n    public updateFilterCellArea() {\n        this.expressionsList = this.filteringService.getExpressions(this.column.field);\n        this.updateVisibleFilters();\n    }\n\n    get template(): TemplateRef<any> {\n        if (!this.column.filterable) {\n            this.currentTemplate = null;\n            return null;\n        }\n\n        if (this.column.filterCellTemplate) {\n            this.currentTemplate = this.column.filterCellTemplate;\n            return this.column.filterCellTemplate;\n        }\n\n        const expressionTree = this.column.filteringExpressionsTree;\n        if (!expressionTree || expressionTree.filteringOperands.length === 0) {\n            this.currentTemplate = this.emptyFilter;\n            return this.emptyFilter;\n        }\n\n        if (this.filteringService.isFilterComplex(this.column.field)) {\n            this.currentTemplate = this.complexFilter;\n            return this.complexFilter;\n        }\n\n        this.currentTemplate = this.defaultFilter;\n        return this.defaultFilter;\n    }\n\n    /**\n     * Gets the context passed to the filter template.\n     * @memberof IgxGridFilteringCellComponent\n     */\n    get context() {\n        return {\n            column: this.column\n        };\n    }\n\n    /**\n     * Chip clicked event handler.\n     */\n    public onChipClicked(expression?: IFilteringExpression) {\n        if (expression) {\n            this.expressionsList.forEach((item) => {\n                item.isSelected = (item.expression === expression);\n            });\n        } else if (this.expressionsList.length > 0) {\n            this.expressionsList.forEach((item) => {\n                item.isSelected = false;\n            });\n            this.expressionsList[0].isSelected = true;\n        }\n\n        const index = this.filteringService.unpinnedFilterableColumns.indexOf(this.column);\n        if (index >= 0 && !this.isColumnRightVisible(index)) {\n            this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[index], true);\n        } else if (index >= 0 && !this.isColumnLeftVisible(index)) {\n            this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[index], false);\n        }\n\n        this.filteringService.filteredColumn = this.column;\n        this.filteringService.isFilterRowVisible = true;\n        this.filteringService.selectedExpression = expression;\n    }\n\n    /**\n     * Chip removed event handler.\n     */\n    public onChipRemoved(eventArgs: IBaseChipEventArgs, item: ExpressionUI): void {\n        const indexToRemove = this.expressionsList.indexOf(item);\n        this.removeExpression(indexToRemove);\n        this.focusChip();\n    }\n\n    /**\n     * Clears the filtering.\n     */\n    public clearFiltering(): void {\n        this.filteringService.clearFilter(this.column.field);\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Chip keydown event handler.\n     */\n    public onChipKeyDown(eventArgs: KeyboardEvent, expression?: IFilteringExpression) {\n        if (eventArgs.key === KEYS.ENTER) {\n            eventArgs.preventDefault();\n            this.onChipClicked(expression);\n        }\n    }\n\n    /**\n     * Returns the filtering indicator class.\n     */\n    public filteringIndicatorClass() {\n        return {\n            [this.baseClass]: !this.isMoreIconHidden(),\n            [`${this.baseClass}--hidden`]: this.isMoreIconHidden()\n        };\n    }\n\n    /**\n     * Focus a chip depending on the current visible template.\n     */\n    public focusChip(focusFirst: boolean = false) {\n        if (this.currentTemplate === this.defaultFilter) {\n            if (focusFirst) {\n                this.focusFirstElement();\n            } else {\n                this.focusElement();\n            }\n        } else if (this.currentTemplate === this.emptyFilter) {\n            this.ghostChip.elementRef.nativeElement.querySelector(`.igx-chip__item`).focus();\n        } else if (this.currentTemplate === this.complexFilter) {\n            this.complexChip.elementRef.nativeElement.querySelector(`.igx-chip__item`).focus();\n        }\n    }\n\n    private removeExpression(indexToRemove: number) {\n        if (indexToRemove === 0 && this.expressionsList.length === 1) {\n            this.clearFiltering();\n            return;\n        }\n\n        this.filteringService.removeExpression(this.column.field, indexToRemove);\n\n        this.updateVisibleFilters();\n        this.filteringService.filterInternal(this.column.field);\n    }\n\n    private isMoreIconHidden(): boolean {\n        return this.filteringService.columnToMoreIconHidden.get(this.column.field);\n    }\n\n    private updateVisibleFilters() {\n        this.expressionsList.forEach((ex) => ex.isVisible = true);\n\n        if (this.moreIcon) {\n            this.filteringService.columnToMoreIconHidden.set(this.column.field, true);\n        }\n        this.cdr.detectChanges();\n\n        if (this.chipsArea && this.expressionsList.length > 1) {\n            const areaWidth = this.chipsArea.element.nativeElement.offsetWidth;\n            let viewWidth = 0;\n            const chipsAreaElements = this.chipsArea.element.nativeElement.children;\n            let visibleChipsCount = 0;\n            const moreIconWidth = this.moreIcon.nativeElement.offsetWidth -\n                parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)['margin-left'], 10);\n\n            for (let index = 0; index < chipsAreaElements.length - 1; index++) {\n                if (viewWidth + chipsAreaElements[index].offsetWidth < areaWidth) {\n                    viewWidth += chipsAreaElements[index].offsetWidth;\n                    if (index % 2 === 0) {\n                        visibleChipsCount++;\n                    } else {\n                        viewWidth += parseInt(document.defaultView.getComputedStyle(chipsAreaElements[index])['margin-left'], 10);\n                        viewWidth += parseInt(document.defaultView.getComputedStyle(chipsAreaElements[index])['margin-right'], 10);\n                    }\n                } else {\n                    if (index % 2 !== 0 && viewWidth + moreIconWidth > areaWidth) {\n                        visibleChipsCount--;\n                    } else if (visibleChipsCount > 0 && viewWidth - chipsAreaElements[index - 1].offsetWidth + moreIconWidth > areaWidth) {\n                        visibleChipsCount--;\n                    }\n                    this.moreFiltersCount = this.expressionsList.length - visibleChipsCount;\n                    this.filteringService.columnToMoreIconHidden.set(this.column.field, false);\n                    break;\n                }\n            }\n\n            for (let i = visibleChipsCount; i < this.expressionsList.length; i++) {\n                this.expressionsList[i].isVisible = false;\n            }\n            this.cdr.detectChanges();\n        }\n    }\n\n    private isFirstElementFocused(): boolean {\n        return !(this.chipsArea && this.chipsArea.chipsList.length > 0 &&\n            this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(`.igx-chip__item`) !== document.activeElement);\n    }\n\n    private isLastElementFocused(): boolean {\n        if (this.chipsArea) {\n            if (this.isMoreIconHidden() && this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(`.igx-chip__remove`) !==\n                document.activeElement) {\n                return false;\n            } else if (!this.isMoreIconHidden() && this.moreIcon.nativeElement !== document.activeElement) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private focusFirstElement(): void {\n        if (this.chipsArea.chipsList.length > 0) {\n            this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(`.igx-chip__item`).focus();\n        } else {\n            this.moreIcon.nativeElement.focus();\n        }\n    }\n\n    private focusElement(): void {\n        if (this.filteringService.shouldFocusNext) {\n            if (!this.isMoreIconHidden() && this.chipsArea.chipsList.length === 0) {\n                this.moreIcon.nativeElement.focus();\n            } else {\n                this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(`.igx-chip__item`).focus();\n            }\n        } else {\n            if (!this.isMoreIconHidden()) {\n                this.moreIcon.nativeElement.focus();\n            } else {\n                this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(`.igx-chip__remove`).focus();\n            }\n        }\n    }\n\n    private isColumnRightVisible(columnIndex: number): boolean {\n        if (this.filteringService.areAllColumnsInView) {\n            return true;\n        }\n        let currentColumnRight = 0;\n        for (let index = 0; index < this.filteringService.unpinnedColumns.length; index++) {\n            currentColumnRight += parseInt(this.filteringService.unpinnedColumns[index].width, 10);\n            if (this.filteringService.unpinnedColumns[index] === this.filteringService.unpinnedFilterableColumns[columnIndex]) {\n                break;\n            }\n        }\n        const width = this.filteringService.displayContainerWidth + this.filteringService.displayContainerScrollLeft;\n        return currentColumnRight <= width;\n    }\n\n    private isColumnLeftVisible(columnIndex: number): boolean {\n        if (this.filteringService.areAllColumnsInView) {\n            return true;\n        }\n        let currentColumnLeft = 0;\n        for (let index = 0; index < this.filteringService.unpinnedColumns.length; index++) {\n            if (this.filteringService.unpinnedColumns[index] === this.filteringService.unpinnedFilterableColumns[columnIndex]) {\n                break;\n            }\n            currentColumnLeft += parseInt(this.filteringService.unpinnedColumns[index].width, 10);\n        }\n        return currentColumnLeft >= this.filteringService.displayContainerScrollLeft;\n    }\n}\n","import {\n    Component,\n    HostBinding,\n    Input,\n    ViewChild,\n    QueryList,\n    ViewChildren,\n    forwardRef,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    DoCheck,\n    ElementRef,\n    HostListener\n} from '@angular/core';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxColumnResizingService } from '../resizing/resizing.service';\nimport { IgxGridHeaderComponent } from './grid-header.component';\nimport { IgxGridFilteringCellComponent } from '../filtering/base/grid-filtering-cell.component';\nimport { isIE } from '../../core/utils';\nimport { GridType } from '../common/grid.interface';\n\nconst Z_INDEX = 9999;\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-header-group',\n    templateUrl: './grid-header-group.component.html'\n})\nexport class IgxGridHeaderGroupComponent implements DoCheck {\n\n    @HostBinding('style.-ms-grid-row-span')\n    get gridRowSpan(): number {\n        return this.column.gridRowSpan;\n    }\n\n    @HostBinding('style.-ms-grid-column-span')\n    get gridColumnSpan(): number {\n        return this.column.gridColumnSpan;\n    }\n\n\n    @HostBinding('style.grid-row-end')\n    get rowEnd(): number {\n        return this.column.rowEnd;\n    }\n\n    @HostBinding('style.grid-column-end')\n    get colEnd(): number {\n        return this.column.colEnd;\n    }\n\n    @HostBinding('style.-ms-grid-row')\n    @HostBinding('style.grid-row-start')\n    get rowStart(): number {\n        return this.column.rowStart;\n    }\n\n    @HostBinding('style.-ms-grid-column')\n    @HostBinding('style.grid-column-start')\n    get colStart(): number {\n        return this.column.colStart;\n    }\n\n    /**\n     * Gets the column of the header group.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    @Input()\n    public column: IgxColumnComponent;\n\n    /**\n     * Gets the `id` of the grid in which the header group is stored.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    @Input()\n    public gridID: string;\n\n    /**\n     * @hidden\n     */\n    @ViewChild(IgxGridHeaderComponent)\n    public headerCell: IgxGridHeaderComponent;\n\n    /**\n     * @hidden\n     */\n    @ViewChild(IgxGridFilteringCellComponent)\n    public filterCell: IgxGridFilteringCellComponent;\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(forwardRef(() => IgxGridHeaderGroupComponent), { read: IgxGridHeaderGroupComponent })\n    public children: QueryList<IgxGridHeaderGroupComponent>;\n\n    /**\n     * Gets the width of the header group.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    get width() {\n        return this.grid.getHeaderGroupWidth(this.column);\n    }\n\n    /**\n     * Gets the style classes of the header group.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    @HostBinding('class')\n    get styleClasses(): string {\n        const defaultClasses = [\n            'igx-grid__thead-item',\n            this.column.headerGroupClasses\n        ];\n\n        const classList = {\n            'igx-grid__th--pinned': this.isPinned,\n            'igx-grid__th--pinned-last': this.isLastPinned,\n            'igx-grid__drag-col-header': this.isHeaderDragged,\n            'igx-grid__th--filtering': this.isFiltered\n        };\n\n        for (const className of Object.keys(classList)) {\n            if (classList[className]) {\n                defaultClasses.push(className);\n            }\n        }\n        return defaultClasses.join(' ');\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.z-index')\n    get zIndex() {\n        if (!this.column.pinned) {\n            return null;\n        }\n        return Z_INDEX - this.grid.pinnedColumns.indexOf(this.column);\n    }\n\n    /**\n     * Gets the grid of the header group.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    get grid(): any {\n        return this.gridAPI.grid;\n    }\n\n    /**\n     * Gets whether the header group belongs to a column that is filtered.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    get isFiltered(): boolean {\n        return this.filteringService.filteredColumn === this.column;\n    }\n\n    /**\n     * Gets whether the header group is stored in the last column in the pinned area.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    get isLastPinned(): boolean {\n        return !this.grid.hasColumnLayouts ? this.column.isLastPinned : false;\n    }\n\n    @HostBinding('style.display')\n    get groupDisplayStyle(): string {\n        return this.grid.hasColumnLayouts && this.column.children && !isIE() ? 'flex' : '';\n    }\n\n    /**\n     * Gets whether the header group is stored in a pinned column.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    get isPinned(): boolean {\n        return this.column.pinned;\n    }\n\n    /**\n     * Gets whether the header group belongs to a column that is moved.\n     * @memberof IgxGridHeaderGroupComponent\n     */\n    get isHeaderDragged(): boolean {\n        return this.grid.draggedColumn ===  this.column;\n    }\n\n    /**\n     * @hidden\n     */\n    get hasLastPinnedChildColumn(): boolean {\n        return this.column.allChildren.some(child => child.isLastPinned);\n    }\n\n    /**\n     * @hidden\n     */\n    get height() {\n        return this.element.nativeElement.getBoundingClientRect().height;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mousedown', ['$event'])\n    public onMouseDown(event): void {\n        // hack for preventing text selection in IE and Edge while dragging the resizer\n        event.preventDefault();\n    }\n\n    public ngDoCheck() {\n        this.cdr.markForCheck();\n    }\n\n    constructor(private cdr: ChangeDetectorRef,\n                public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n                public element: ElementRef,\n                public colResizingService: IgxColumnResizingService,\n                public filteringService: IgxFilteringService) { }\n}\n","import { Injectable} from '@angular/core';\nimport { IgxSummaryResult } from './grid-summary';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { cloneArray } from '../../core/utils';\n\n/** @hidden */\n@Injectable()\nexport class IgxGridSummaryService {\n    protected summaryCacheMap: Map<string, Map<string, any[]>> = new Map<string, Map<string, IgxSummaryResult[]>>();\n    public grid;\n    public rootSummaryID = 'igxGridRootSummary';\n    public summaryHeight = 0;\n    public maxSummariesLenght = 0;\n    public groupingExpressions = [];\n    public retriggerRootPipe = 0;\n    public deleteOperation = false;\n\n    public recalculateSummaries() {\n        this.resetSummaryHeight();\n        this.grid.notifyChanges(true);\n    }\n\n    public clearSummaryCache(args?) {\n        if (!this.summaryCacheMap.size) { return; }\n        if (!args) {\n            this.summaryCacheMap.clear();\n            if (this.grid && this.grid.rootSummariesEnabled) {\n                this.retriggerRootPipe++;\n            }\n            return;\n        }\n        if (args.data) {\n            const rowID = this.grid.primaryKey ? args.data[this.grid.primaryKey] : args.data;\n            this.removeSummaries(rowID);\n        }\n        if (args.rowID !== undefined && args.rowID !== null) {\n            let columnName = args.cellID ? this.grid.columnList.find(col => col.index === args.cellID.columnID).field : undefined;\n            if (columnName && this.grid.rowEditable) { return; }\n\n            const isGroupedColumn = this.grid.groupingExpressions &&\n                    this.grid.groupingExpressions.map(expr => expr.fieldName).indexOf(columnName) !== -1;\n            if (columnName && isGroupedColumn ) {\n                columnName = undefined;\n            }\n            this.removeSummaries(args.rowID, columnName);\n        }\n    }\n\n    public removeSummaries(rowID, columnName?) {\n        this.deleteSummaryCache(this.rootSummaryID, columnName);\n        if (this.summaryCacheMap.size === 1 && this.summaryCacheMap.has(this.rootSummaryID)) { return; }\n        if (this.isTreeGrid) {\n            if (this.grid.transactions.enabled && this.deleteOperation) {\n                this.deleteOperation = false;\n                // TODO: this.removeChildRowSummaries(rowID, columnName);\n                this.summaryCacheMap.clear();\n                return;\n            }\n            this.removeAllTreeGridSummaries(rowID, columnName);\n        } else if (this.isHierarchicalGrid) {\n            if (this.grid.transactions.enabled && this.deleteOperation) {\n                this.deleteOperation = false;\n                this.summaryCacheMap.clear();\n            }\n        } else {\n           const summaryIds = this.getSummaryID(rowID, this.grid.groupingExpressions);\n           summaryIds.forEach(id => {\n               this.deleteSummaryCache(id, columnName);\n           });\n        }\n    }\n\n    public removeSummariesCachePerColumn(columnName) {\n        this.summaryCacheMap.forEach((cache) => {\n            if (cache.get(columnName)) {\n                cache.delete(columnName);\n            }\n        });\n        if (this.grid.rootSummariesEnabled) {  this.retriggerRootPipe++; }\n    }\n\n    public calcMaxSummaryHeight() {\n        if (this.summaryHeight) {\n            return this.summaryHeight;\n        }\n        if (!this.grid.data) {return this.summaryHeight = 0; }\n        let maxSummaryLength = 0;\n        this.grid.columnList.filter((col) => col.hasSummary && !col.hidden).forEach((column) => {\n            const getCurrentSummaryColumn = column.summaries.operate([], [], column.field).length;\n            if (getCurrentSummaryColumn) {\n                if (maxSummaryLength < getCurrentSummaryColumn) {\n                    maxSummaryLength = getCurrentSummaryColumn;\n                }\n            }\n        });\n        this.maxSummariesLenght = maxSummaryLength;\n        this.summaryHeight =  maxSummaryLength * this.grid.defaultSummaryHeight;\n        return this.summaryHeight;\n    }\n\n    public calculateSummaries(rowID, data) {\n        let rowSummaries = this.summaryCacheMap.get(rowID);\n        if (!rowSummaries) {\n            rowSummaries = new Map<string, IgxSummaryResult[]>();\n            this.summaryCacheMap.set(rowID, rowSummaries);\n        }\n        if (!this.hasSummarizedColumns || !data) {return rowSummaries; }\n        this.grid.columnList.filter(col => col.hasSummary).forEach((column) => {\n            if (!rowSummaries.get(column.field)) {\n                rowSummaries.set(column.field,\n                    column.summaries.operate(data.map(r => r[column.field]), data, column.field));\n            }\n        });\n        return rowSummaries;\n    }\n\n    public resetSummaryHeight() {\n        this.summaryHeight = 0;\n        (this.grid as any)._summaryPipeTrigger++;\n        if (this.grid.rootSummariesEnabled) {\n            this.retriggerRootPipe++;\n        }\n    }\n\n    public updateSummaryCache(groupingArgs) {\n        if (this.summaryCacheMap.size === 0 || !this.hasSummarizedColumns) { return; }\n        if (this.groupingExpressions.length === 0) {\n            this.groupingExpressions = groupingArgs.expressions.map(record => record.fieldName);\n            return;\n        }\n        if (groupingArgs.length === 0) {\n            this.groupingExpressions = [];\n            this.clearSummaryCache();\n            return;\n        }\n        this.compareGroupingExpressions(this.groupingExpressions, groupingArgs);\n        this.groupingExpressions = groupingArgs.expressions.map(record => record.fieldName);\n    }\n\n    public get hasSummarizedColumns(): boolean {\n        const summarizedColumns = this.grid.columnList.filter(col => col.hasSummary && !col.hidden);\n        return summarizedColumns.length > 0;\n    }\n\n    private deleteSummaryCache(id, columnName) {\n        if (this.summaryCacheMap.get(id)) {\n            const filteringApplied = columnName && this.grid.filteringExpressionsTree &&\n                    this.grid.filteringExpressionsTree.filteringOperands.map((expr) => expr.fieldName).indexOf(columnName) !== -1;\n            if (columnName && this.summaryCacheMap.get(id).get(columnName) && !filteringApplied) {\n                this.summaryCacheMap.get(id).delete(columnName);\n            } else {\n                this.summaryCacheMap.delete(id);\n            }\n            if (id === this.rootSummaryID && this.grid.rootSummariesEnabled) {\n                this.retriggerRootPipe++;\n            }\n        }\n    }\n\n    private getSummaryID(rowID, groupingExpressions) {\n        if (groupingExpressions.length === 0) { return []; }\n        const summaryIDs = [];\n        let data = this.grid.data;\n        if (this.grid.transactions.enabled) {\n            data = DataUtil.mergeTransactions(\n                cloneArray(this.grid.data),\n                this.grid.transactions.getAggregatedChanges(true),\n                this.grid.primaryKey\n            );\n        }\n        const rowData = this.grid.primaryKey ? data.find(rec => rec[this.grid.primaryKey] === rowID) : rowID;\n        let id = '{ ';\n        groupingExpressions.forEach(expr => {\n            id += `'${expr.fieldName}': '${rowData[expr.fieldName]}'`;\n                summaryIDs.push(id.concat(' }'));\n                id += ', ';\n        });\n        return summaryIDs;\n    }\n\n    private removeAllTreeGridSummaries(rowID, columnName?) {\n        let row = this.grid.records.get(rowID);\n        if (!row) { return; }\n        row = row.children ? row : row.parent;\n        while (row) {\n            rowID = row.rowID;\n            this.deleteSummaryCache(rowID, columnName);\n            row = row.parent;\n        }\n    }\n\n    // TODO: remove only deleted rows\n    private removeChildRowSummaries(rowID, columnName?) {\n    }\n\n    private compareGroupingExpressions(current, groupingArgs) {\n        const newExpressions = groupingArgs.expressions.map(record => record.fieldName);\n        const removedCols = groupingArgs.ungroupedColumns;\n        if (current.length <= newExpressions.length) {\n            const newExpr = newExpressions.slice(0, current.length).toString();\n            if (current.toString() !== newExpr) {\n                this.clearSummaryCache();\n            }\n        } else {\n            const currExpr = current.slice(0, newExpressions.length).toString();\n            if (currExpr !== newExpressions.toString()) {\n                this.clearSummaryCache();\n                return;\n            }\n            removedCols.map(col => col.field).forEach(colName => {\n                this.summaryCacheMap.forEach((cache, id) => {\n                   if (id.indexOf(colName) !== -1) {\n                       this.summaryCacheMap.delete(id);\n                   }});\n            });\n        }\n    }\n\n    private get isTreeGrid() {\n        return this.grid.nativeElement.tagName.toLowerCase() === 'igx-tree-grid';\n    }\n\n    private get isHierarchicalGrid() {\n        return this.grid.nativeElement.tagName.toLowerCase() === 'igx-hierarchical-grid';\n    }\n\n}\n","import { Component, Input, HostBinding, HostListener, ChangeDetectionStrategy, ElementRef } from '@angular/core';\nimport { IgxSummaryResult } from './grid-summary';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { DataType } from '../../data-operations/data-util';\nimport { ISelectionNode } from '../selection/selection.service';\nimport { SUPPORTED_KEYS } from '../../core/utils';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-summary-cell',\n    templateUrl: './summary-cell.component.html'\n})\nexport class IgxSummaryCellComponent {\n\n    @Input()\n    public summaryResults: IgxSummaryResult[];\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @Input()\n    public firstCellIndentation = 0;\n\n    @Input()\n    public hasSummary = false;\n\n    @Input()\n    public density;\n\n    constructor(private element: ElementRef) {\n    }\n\n    @Input()\n    @HostBinding('attr.data-rowIndex')\n    public rowIndex: number;\n\n    @HostBinding('attr.data-visibleIndex')\n    get visibleColumnIndex(): number {\n        return this.column.visibleIndex;\n    }\n\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    @HostBinding('attr.aria-describedby')\n    public get describeby() {\n        return `Summary_${this.column.field}`;\n    }\n\n    @HostBinding('class.igx-grid-summary--active')\n    public focused: boolean;\n\n    @HostListener('focus')\n    public onFocus() {\n        this.focused = true;\n    }\n\n    @HostListener('blur')\n    public onBlur() {\n        this.focused = false;\n    }\n\n    protected get selectionNode(): ISelectionNode {\n        return {\n            row: this.rowIndex,\n            column: this.column.columnLayoutChild ? this.column.parent.visibleIndex : this.visibleColumnIndex,\n            isSummaryRow: true\n        };\n    }\n\n    @HostListener('keydown', ['$event'])\n    dispatchEvent(event: KeyboardEvent) {\n        // TODO: Refactor\n        const key = event.key.toLowerCase();\n        const ctrl = event.ctrlKey;\n        const shift = event.shiftKey;\n\n        if (!SUPPORTED_KEYS.has(key)) {\n            return;\n        }\n        event.stopPropagation();\n        const args = { targetType: 'summaryCell', target: this, event: event, cancel: false };\n        this.grid.onGridKeydown.emit(args);\n        if (args.cancel) {\n            return;\n        }\n        event.preventDefault();\n\n        if (!this.isKeySupportedInCell(key, ctrl)) { return; }\n\n        this.grid.selectionService.keyboardState.shift = shift && !(key === 'tab');\n        const row = this.getRowElementByIndex(this.rowIndex);\n        switch (key) {\n            case 'tab':\n                if (shift) {\n                    this.grid.navigation.performShiftTabKey(row, this.selectionNode);\n                    break;\n                }\n                this.grid.navigation.performTab(row, this.selectionNode);\n                break;\n            case 'arrowleft':\n            case 'home':\n            case 'left':\n                if (ctrl || key === 'home') {\n                    this.grid.navigation.onKeydownHome(this.rowIndex, true);\n                    break;\n                }\n                this.grid.navigation.onKeydownArrowLeft(this.nativeElement, this.selectionNode);\n                break;\n            case 'end':\n            case 'arrowright':\n            case 'right':\n                if (ctrl || key === 'end') {\n                    this.grid.navigation.onKeydownEnd(this.rowIndex, true);\n                    break;\n                }\n                this.grid.navigation.onKeydownArrowRight(this.nativeElement, this.selectionNode);\n                break;\n            case 'arrowup':\n            case 'up':\n                    this.grid.navigation.navigateUp(row, this.selectionNode);\n                break;\n            case 'arrowdown':\n            case 'down':\n                    this.grid.navigation.navigateDown(row, this.selectionNode);\n                break;\n        }\n    }\n\n    get width() {\n        return this.column.getCellWidth();\n    }\n\n    get nativeElement(): any {\n        return this.element.nativeElement;\n    }\n\n    get columnDatatype(): DataType {\n        return this.column.dataType;\n    }\n\n    get itemHeight() {\n        return this.column.grid.defaultSummaryHeight;\n    }\n\n    /**\n    * @hidden\n    */\n    public get grid() {\n        return (this.column.grid as any);\n    }\n\n    private getRowElementByIndex(rowIndex) {\n        const summaryRows = this.grid.summariesRowList.toArray();\n        return summaryRows.find((sr) => sr.dataRowIndex === rowIndex).nativeElement;\n    }\n\n    private isKeySupportedInCell(key, ctrl) {\n        if (ctrl) {\n           return ['arrowup', 'arrowdown', 'up', 'down', 'end', 'home'].indexOf(key) === -1;\n        }\n        return ['down', 'up', 'left', 'right', 'arrowdown', 'arrowup', 'arrowleft', 'arrowright', 'home', 'end', 'tab'].indexOf(key) !== -1;\n    }\n\n    public translateSummary(summary: IgxSummaryResult): string {\n        return this.grid.resourceStrings[`igx_grid_summary_${summary.key}`] || summary.label;\n    }\n}\n","import {\n    Component,\n    Input,\n    ViewChildren,\n    QueryList,\n    HostBinding,\n    ViewChild,\n    ElementRef,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    DoCheck\n} from '@angular/core';\nimport { IgxSummaryResult } from './grid-summary';\nimport { IgxSummaryCellComponent } from './summary-cell.component';\nimport { IgxGridForOfDirective } from '../../directives/for-of/for_of.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxForOfSyncService } from '../../directives/for-of/for_of.sync.service';\nimport { GridType } from '../common/grid.interface';\n\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-summary-row',\n    templateUrl: './summary-row.component.html',\n    providers: [IgxForOfSyncService]\n})\nexport class IgxSummaryRowComponent implements DoCheck  {\n\n    @Input()\n    public summaries: Map<string, IgxSummaryResult[]>;\n\n    @Input()\n    public gridID;\n\n    @Input()\n    public index: number;\n\n    @Input()\n    public firstCellIndentation = -1;\n\n    @HostBinding('attr.data-rowIndex')\n    get dataRowIndex() {\n        return this.index;\n    }\n\n    get minHeight() {\n        return this.grid.summaryService.calcMaxSummaryHeight() - 1;\n    }\n\n    @ViewChildren(IgxSummaryCellComponent, { read: IgxSummaryCellComponent })\n    public summaryCells: QueryList<IgxSummaryCellComponent>;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('igxDirRef', { read: IgxGridForOfDirective })\n    public virtDirRow: IgxGridForOfDirective<any>;\n\n    constructor(public gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n                public element: ElementRef,\n                public cdr: ChangeDetectorRef) {}\n\n    public ngDoCheck() {\n        this.cdr.markForCheck();\n    }\n\n    public get grid() {\n        return this.gridAPI.grid;\n    }\n\n    public get nativeElement() {\n        return this.element.nativeElement;\n    }\n\n    public getColumnSummaries(columnName) {\n        if (!this.summaries.get(columnName)) {\n            return [];\n        }\n        return this.summaries.get(columnName);\n\n    }\n\n    /**\n     * @hidden\n     */\n    public get pinnedColumns(): IgxColumnComponent[] {\n        return this.grid.pinnedColumns;\n    }\n\n    /**\n     * @hidden\n     */\n    public get unpinnedColumns(): IgxColumnComponent[] {\n        return this.grid.unpinnedColumns;\n    }\n}\n","import { Directive, Input, Output, EventEmitter, ElementRef, OnDestroy, NgZone, OnInit } from '@angular/core';\nimport { interval, Observable, Subscription, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\n\nexport enum DragScrollDirection {\n    NONE,\n    LEFT,\n    TOP,\n    RIGHT,\n    BOTTOM,\n    TOPLEFT,\n    TOPRIGHT,\n    BOTTOMLEFT,\n    BOTTOMRIGHT\n}\n\n\n@Directive({\n    selector: '[igxGridDragSelect]'\n})\nexport class IgxGridDragSelectDirective implements OnInit, OnDestroy {\n    _activeDrag: boolean;\n\n    @Input('igxGridDragSelect')\n    get activeDrag(): boolean {\n        return this._activeDrag;\n    }\n\n    set activeDrag(val: boolean) {\n        if (val !== this._activeDrag) {\n            this.unsubscribe();\n            this._activeDrag = val;\n        }\n    }\n\n    @Output()\n    onDragStop = new EventEmitter<boolean>();\n\n    @Output()\n    onDragScroll = new EventEmitter<DragScrollDirection>();\n\n    get nativeElement(): HTMLElement {\n        return this.ref.nativeElement;\n    }\n\n    get clientRect(): ClientRect {\n        return this.nativeElement.getBoundingClientRect();\n    }\n\n    protected end$ = new Subject<any>();\n    protected lastDirection = DragScrollDirection.NONE;\n    protected _interval$: Observable<any>;\n    protected _sub: Subscription;\n\n    constructor(private ref: ElementRef, private zone: NgZone) {\n        this._interval$ = interval(100).pipe(\n            takeUntil(this.end$),\n            filter(() => this.activeDrag)\n        );\n    }\n\n    ngOnInit() {\n        this.zone.runOutsideAngular(() => {\n            this.nativeElement.addEventListener('pointerover', this.startDragSelection);\n            this.nativeElement.addEventListener('pointerleave', this.stopDragSelection);\n        });\n    }\n\n    ngOnDestroy() {\n        this.zone.runOutsideAngular(() => {\n            this.nativeElement.removeEventListener('pointerover', this.startDragSelection);\n            this.nativeElement.removeEventListener('pointerleave', this.stopDragSelection);\n        });\n        this.unsubscribe();\n        this.end$.complete();\n    }\n\n\n    startDragSelection = (ev: PointerEvent) => {\n        if (!this.activeDrag) {\n            return;\n        }\n        const x = ev.clientX;\n        const y = ev.clientY;\n        const direction = this._measureDimensions(x, y);\n        if (direction === this.lastDirection) {\n            return;\n        }\n        this.unsubscribe();\n        this._sub = this._interval$.subscribe(() => this.onDragScroll.emit(direction));\n        this.lastDirection = direction;\n    }\n\n    stopDragSelection = () => {\n        if (!this.activeDrag) {\n            return;\n        }\n        this.onDragStop.emit(false);\n        this.unsubscribe();\n        this.lastDirection = DragScrollDirection.NONE;\n    }\n\n    _measureDimensions(x: number, y: number): DragScrollDirection {\n        let direction: DragScrollDirection;\n\n        const rect = this.clientRect;\n        const RATIO = 0.15;\n        const offsetX = Math.trunc(x - rect.left);\n        const offsetY = Math.trunc(y - rect.top);\n\n        const left = offsetX <= rect.width * RATIO;\n        const right = offsetX >= rect.width * (1 - RATIO);\n        const top = offsetY <= rect.height * RATIO;\n        const bottom = offsetY >= rect.height * (1 - RATIO);\n\n        if (top && left) {\n            direction = DragScrollDirection.TOPLEFT;\n        } else if (top && right) {\n            direction = DragScrollDirection.TOPRIGHT;\n        } else if (bottom && left) {\n            direction = DragScrollDirection.BOTTOMLEFT;\n        } else if (bottom && right) {\n            direction = DragScrollDirection.BOTTOMRIGHT;\n        } else if (top) {\n            direction = DragScrollDirection.TOP;\n        } else if (bottom) {\n            direction = DragScrollDirection.BOTTOM;\n        } else if (left) {\n            direction = DragScrollDirection.LEFT;\n        } else if (right) {\n            direction = DragScrollDirection.RIGHT;\n        } else {\n            direction = DragScrollDirection.NONE;\n        }\n\n        return direction;\n\n    }\n\n    protected unsubscribe() {\n        if (this._sub) {\n            this._sub.unsubscribe();\n        }\n    }\n}\n","import {\n    Directive,\n    ElementRef,\n    Inject,\n    Input,\n    NgZone,\n    Output,\n    OnInit,\n    OnDestroy,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { Subject, fromEvent, animationFrameScheduler, interval } from 'rxjs';\nimport { map, switchMap, takeUntil, throttle } from 'rxjs/operators';\n\n/**\n * @hidden\n * @internal\n */\n@Directive({\n    selector: '[igxResizer]'\n})\nexport class IgxColumnResizerDirective implements OnInit, OnDestroy {\n\n    @Input()\n    public restrictHResizeMin: number = Number.MIN_SAFE_INTEGER;\n\n    @Input()\n    public restrictHResizeMax: number = Number.MAX_SAFE_INTEGER;\n\n    @Output()\n    public resizeEnd = new Subject<any>();\n\n    @Output()\n    public resizeStart = new Subject<any>();\n\n    @Output()\n    public resize = new Subject<any>();\n\n    private _left;\n    private _destroy = new Subject<boolean>();\n\n    constructor(public element: ElementRef, @Inject(DOCUMENT) public document, public zone: NgZone) {\n\n        this.resizeStart.pipe(\n            map((event) => event.clientX),\n            takeUntil(this._destroy),\n            switchMap((offset) => this.resize.pipe(\n                map((event) => event.clientX - offset),\n                takeUntil(this.resizeEnd),\n                takeUntil(this._destroy)\n            ))\n        ).subscribe((pos) => {\n\n            const left = this._left + pos;\n\n            const min = this._left - this.restrictHResizeMin;\n            const max = this._left + this.restrictHResizeMax;\n\n            this.left = left < min ? min : left;\n\n            if (left > max) {\n                this.left = max;\n            }\n        });\n\n    }\n\n    ngOnInit() {\n        this.zone.runOutsideAngular(() => {\n            fromEvent(this.document.defaultView, 'mousemove').pipe(\n                throttle(() => interval(0, animationFrameScheduler)),\n                takeUntil(this._destroy)\n            ).subscribe((res) => this.onMousemove(res));\n\n            fromEvent(this.document.defaultView, 'mouseup').pipe(takeUntil(this._destroy))\n                .subscribe((res) => this.onMouseup(res));\n        });\n    }\n\n    ngOnDestroy() {\n        this._destroy.next(true);\n        this._destroy.complete();\n    }\n\n    public set left(val) {\n        requestAnimationFrame(() => this.element.nativeElement.style.left = val + 'px');\n    }\n\n    public set top(val) {\n        requestAnimationFrame(() => this.element.nativeElement.style.top = val + 'px');\n    }\n\n    onMouseup(event) {\n        this.resizeEnd.next(event);\n        this.resizeEnd.complete();\n    }\n\n    onMousedown(event) {\n        event.preventDefault();\n        const parent = this.element.nativeElement.parentElement.parentElement;\n\n        this.left = this._left = event.clientX - parent.getBoundingClientRect().left;\n        this.top = event.target.getBoundingClientRect().top - parent.getBoundingClientRect().top;\n\n        this.resizeStart.next(event);\n    }\n\n    onMousemove(event) {\n        event.preventDefault();\n        this.resize.next(event);\n    }\n}\n","import { ChangeDetectionStrategy, Component, ViewChild } from '@angular/core';\nimport { IgxColumnResizingService } from './resizing.service';\nimport { IgxColumnResizerDirective } from './resizer.directive';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-column-resizer',\n    templateUrl: './resizer.component.html'\n})\nexport class IgxGridColumnResizerComponent {\n    constructor(public colResizingService: IgxColumnResizingService) { }\n\n    @ViewChild(IgxColumnResizerDirective, { static: true })\n    public resizer: IgxColumnResizerDirective;\n}\n","import {\n    AfterViewInit,\n    ChangeDetectorRef,\n    Component,\n    Input,\n    TemplateRef,\n    ViewChild,\n    ViewChildren,\n    QueryList,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    ChangeDetectionStrategy,\n    ViewRef\n} from '@angular/core';\nimport { DataType, DataUtil } from '../../../data-operations/data-util';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IgxDropDownComponent, ISelectionEventArgs } from '../../../drop-down/index';\nimport { IFilteringOperation } from '../../../data-operations/filtering-condition';\nimport { FilteringLogic, IFilteringExpression } from '../../../data-operations/filtering-expression.interface';\nimport { HorizontalAlignment, VerticalAlignment, OverlaySettings } from '../../../services/overlay/utilities';\nimport { ConnectedPositioningStrategy } from '../../../services/overlay/position/connected-positioning-strategy';\nimport { IBaseChipEventArgs, IgxChipsAreaComponent, IgxChipComponent } from '../../../chips';\nimport { ExpressionUI } from '../grid-filtering.service';\nimport { IgxDropDownItemComponent } from '../../../drop-down/drop-down-item.component';\nimport { IgxFilteringService } from '../grid-filtering.service';\nimport { KEYS, isEdge } from '../../../core/utils';\nimport { AbsoluteScrollStrategy } from '../../../services/overlay/scroll';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-filtering-row',\n    templateUrl: './grid-filtering-row.component.html'\n})\nexport class IgxGridFilteringRowComponent implements AfterViewInit {\n\n    private _positionSettings = {\n        horizontalStartPoint: HorizontalAlignment.Left,\n        verticalStartPoint: VerticalAlignment.Bottom\n    };\n\n    private _conditionsOverlaySettings: OverlaySettings = {\n        excludePositionTarget: true,\n        closeOnOutsideClick: true,\n        modal: false,\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        positionStrategy: new ConnectedPositioningStrategy(this._positionSettings)\n    };\n\n    private _operatorsOverlaySettings: OverlaySettings = {\n        excludePositionTarget: true,\n        closeOnOutsideClick: true,\n        modal: false,\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        positionStrategy: new ConnectedPositioningStrategy(this._positionSettings)\n    };\n\n    private chipsAreaWidth: number;\n    private chipAreaScrollOffset = 0;\n    private _column = null;\n    private isKeyPressed = false;\n    private isComposing = false;\n    private _cancelChipClick = false;\n\n    public showArrows: boolean;\n    public expression: IFilteringExpression;\n    public expressionsList: Array<ExpressionUI>;\n\n    @Input()\n    get column(): IgxColumnComponent {\n        return this._column;\n    }\n\n    set column(val) {\n        if (this._column) {\n            this.expressionsList.forEach(exp => exp.isSelected = false);\n        }\n        if (val) {\n            this._column = val;\n\n            this.expressionsList = this.filteringService.getExpressions(this._column.field);\n            this.resetExpression();\n\n            this.chipAreaScrollOffset = 0;\n            this.transform(this.chipAreaScrollOffset);\n        }\n    }\n\n    @Input()\n    get value(): any {\n        return this.expression ? this.expression.searchVal : null;\n    }\n\n    set value(val) {\n        if (!val && val !== 0) {\n            this.expression.searchVal = null;\n            this.showHideArrowButtons();\n        } else {\n            this.expression.searchVal = DataUtil.parseValue(this.column.dataType, val);\n            if (this.expressionsList.find(item => item.expression === this.expression) === undefined) {\n                this.addExpression(true);\n            }\n        }\n\n        this.filter();\n    }\n\n    @ViewChild('defaultFilterUI', { read: TemplateRef, static: true })\n    protected defaultFilterUI: TemplateRef<any>;\n\n    @ViewChild('defaultDateUI', { read: TemplateRef, static: true })\n    protected defaultDateUI: TemplateRef<any>;\n\n    @ViewChild('input', { read: ElementRef })\n    protected input: ElementRef;\n\n    @ViewChild('inputGroupConditions', { read: IgxDropDownComponent, static: true })\n    protected dropDownConditions: IgxDropDownComponent;\n\n    @ViewChild('chipsArea', { read: IgxChipsAreaComponent, static: true })\n    protected chipsArea: IgxChipsAreaComponent;\n\n    @ViewChildren('operators', { read: IgxDropDownComponent })\n    protected dropDownOperators: QueryList<IgxDropDownComponent>;\n\n    @ViewChild('inputGroup', { read: ElementRef })\n    protected inputGroup: ElementRef;\n\n    @ViewChild('inputGroupPrefix', { read: ElementRef })\n    protected inputGroupPrefix: ElementRef;\n\n    @ViewChild('container', { static: true })\n    protected container: ElementRef;\n\n    @ViewChild('operand')\n    protected operand: ElementRef;\n\n    @ViewChild('closeButton', { static: true })\n    public closeButton: ElementRef;\n\n    @HostBinding('class.igx-grid__filtering-row')\n    public cssClass = 'igx-grid__filtering-row';\n\n    constructor(public filteringService: IgxFilteringService, public element: ElementRef, public cdr: ChangeDetectorRef) { }\n\n    ngAfterViewInit() {\n        this._conditionsOverlaySettings.outlet = this.column.grid.outletDirective;\n        this._operatorsOverlaySettings.outlet = this.column.grid.outletDirective;\n\n        const selectedItem = this.expressionsList.find(expr => expr.isSelected === true);\n        if (selectedItem) {\n            this.expression = selectedItem.expression;\n        }\n\n        this.input.nativeElement.focus();\n    }\n\n    @HostListener('keydown.shift.tab', ['$event'])\n    @HostListener('keydown.tab', ['$event'])\n    public onTabKeydown(event) {\n        event.stopPropagation();\n        if (document.activeElement === this.closeButton.nativeElement && !event.shiftKey) {\n            this.filteringService.grid.navigation.navigateFirstCellIfPossible(event);\n        }\n    }\n\n    @HostListener('keydown.esc', ['$event'])\n    public onEscKeydown(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.close();\n    }\n\n    get disabled(): boolean {\n        return !(this.column.filteringExpressionsTree && this.column.filteringExpressionsTree.filteringOperands.length > 0);\n    }\n\n    get template(): TemplateRef<any> {\n        if (this.column.dataType === DataType.Date) {\n            return this.defaultDateUI;\n        }\n\n        return this.defaultFilterUI;\n    }\n\n    get type() {\n        switch (this.column.dataType) {\n            case DataType.String:\n            case DataType.Boolean:\n                return 'text';\n            case DataType.Number:\n                return 'number';\n        }\n    }\n\n    get conditions(): any {\n        return this.column.filters.conditionList();\n    }\n\n    get isUnaryCondition(): boolean {\n        if (this.expression.condition) {\n            return this.expression.condition.isUnary;\n        } else {\n            return true;\n        }\n    }\n\n    get placeholder(): string {\n        if (this.expression.condition && this.expression.condition.isUnary) {\n            return this.filteringService.getChipLabel(this.expression);\n        } else if (this.column.dataType === DataType.Date) {\n            return this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder;\n        } else if (this.column.dataType === DataType.Boolean) {\n            return this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder;\n        } else {\n            return this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder;\n        }\n    }\n\n    /**\n     * Event handler for keydown on the input group's prefix.\n     */\n    public onPrefixKeyDown(event: KeyboardEvent) {\n        if ((event.key === KEYS.ENTER || event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE) && this.dropDownConditions.collapsed) {\n            this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);\n            event.stopImmediatePropagation();\n        } else if (event.key === KEYS.TAB) {\n            if (event.shiftKey) {\n                event.preventDefault();\n                event.stopPropagation();\n            } else if (!this.dropDownConditions.collapsed) {\n                this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);\n            }\n        }\n    }\n\n    /**\n     * Event handler for keydown on the input.\n     */\n    public onInputKeyDown(event: KeyboardEvent) {\n        this.isKeyPressed = true;\n\n        if (this.column.dataType === DataType.Boolean) {\n            if (event.key === KEYS.ENTER || event.key === KEYS.SPACE || event.key === KEYS.SPACE_IE) {\n                this.inputGroupPrefix.nativeElement.focus();\n                this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);\n                event.stopPropagation();\n                return;\n            }\n        }\n\n        if (event.key === KEYS.ENTER) {\n            if (this.isComposing) {\n                return;\n            }\n            this.commitInput();\n        } else if (event.altKey && (event.key === KEYS.DOWN_ARROW || event.key === KEYS.DOWN_ARROW_IE)) {\n            this.inputGroupPrefix.nativeElement.focus();\n            this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);\n        } else if (event.key === KEYS.ESCAPE || event.key === KEYS.ESCAPE_IE) {\n            event.preventDefault();\n            this.close();\n        }\n        event.stopPropagation();\n    }\n\n    /**\n     * Event handler for keyup on the input.\n     */\n    public onInputKeyUp(eventArgs) {\n        this.isKeyPressed = false;\n    }\n\n    /**\n     * Event handler for input on the input.\n     */\n    public onInput(eventArgs) {\n        // The 'iskeyPressed' flag is needed for a case in IE, because the input event is fired on focus and for some reason,\n        // when you have a japanese character as a placeholder, on init the value here is empty string .\n        if (isEdge() || this.isKeyPressed || eventArgs.target.value) {\n            this.value = eventArgs.target.value;\n        }\n    }\n\n    /**\n     * Event handler for compositionstart on the input.\n     */\n    public onCompositionStart() {\n        this.isComposing = true;\n    }\n\n    /**\n     * Event handler for compositionend on the input.\n     */\n    public onCompositionEnd() {\n        this.isComposing = false;\n    }\n\n    /**\n     * Event handler for input click event.\n     */\n    public onInputClick() {\n        if (this.column.dataType === DataType.Boolean && this.dropDownConditions.collapsed) {\n            this.inputGroupPrefix.nativeElement.focus();\n            this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);\n        }\n    }\n\n    /**\n     * Event handler for datepicker's close.\n     */\n    public datePickerClose() {\n        this.input.nativeElement.focus();\n    }\n\n    /**\n     * Returns the filtering operation condition for a given value.\n     */\n    public getCondition(value: string): IFilteringOperation {\n        return this.column.filters.condition(value);\n    }\n\n    /**\n     * Returns the translated condition name for a given value.\n     */\n    public translateCondition(value: string): string {\n        return this.filteringService.grid.resourceStrings[`igx_grid_filter_${this.getCondition(value).name}`] || value;\n    }\n\n    /**\n     * Returns the icon name of the current condition.\n     */\n    public getIconName(): string {\n        if (this.column.dataType === DataType.Boolean && this.expression.condition === null) {\n            return this.getCondition(this.conditions[0]).iconName;\n        } else {\n            return this.expression.condition.iconName;\n        }\n    }\n\n    /**\n     * Returns whether a given condition is selected in dropdown.\n     */\n    public isConditionSelected(conditionName: string): boolean {\n        if (this.expression.condition) {\n            return this.expression.condition.name === conditionName;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Clears the current filtering.\n     */\n    public clearFiltering() {\n        this.filteringService.clearFilter(this.column.field);\n        this.resetExpression();\n        if (this.input) {\n            this.input.nativeElement.focus();\n        }\n        this.cdr.detectChanges();\n\n        this.chipAreaScrollOffset = 0;\n        this.transform(this.chipAreaScrollOffset);\n    }\n\n    /**\n     * Commits the value of the input.\n     */\n    public commitInput() {\n        const selectedItem = this.expressionsList.filter(ex => ex.isSelected === true);\n        selectedItem.forEach(e => e.isSelected = false);\n\n        let indexToDeselect = -1;\n        for (let index = 0; index < this.expressionsList.length; index++) {\n            const expression = this.expressionsList[index].expression;\n            if (expression.searchVal === null && !expression.condition.isUnary) {\n                indexToDeselect = index;\n            }\n        }\n        if (indexToDeselect !== -1) {\n            this.removeExpression(indexToDeselect, this.expression);\n        }\n        this.resetExpression();\n        this.scrollChipsWhenAddingExpression();\n    }\n\n    /**\n     * Clears the value of the input.\n     */\n    public clearInput() {\n        this.value = null;\n    }\n\n    /**\n     * Event handler for keydown on clear button.\n     */\n    public onClearKeyDown(eventArgs: KeyboardEvent) {\n        if (eventArgs.key === KEYS.ENTER || eventArgs.key === KEYS.SPACE || eventArgs.key === KEYS.SPACE_IE) {\n            eventArgs.preventDefault();\n            this.clearInput();\n            this.input.nativeElement.focus();\n        }\n    }\n\n    /**\n     * Event handler for click on clear button.\n     */\n    public onClearClick() {\n        this.clearInput();\n        this.input.nativeElement.focus();\n    }\n\n    /**\n     * Event handler for keydown on commit button.\n     */\n    public onCommitKeyDown(eventArgs: KeyboardEvent) {\n        if (eventArgs.key === KEYS.ENTER || eventArgs.key === KEYS.SPACE || eventArgs.key === KEYS.SPACE_IE) {\n            eventArgs.preventDefault();\n            this.commitInput();\n            this.input.nativeElement.focus();\n        }\n    }\n\n    /**\n     * Event handler for click on commit button.\n     */\n    public onCommitClick() {\n        this.commitInput();\n        this.input.nativeElement.focus();\n    }\n\n    /**\n     * Event handler for focusout on the input group.\n     */\n    public onInputGroupFocusout() {\n        if (!this.value && this.value !== 0 &&\n            this.expression.condition && !this.expression.condition.isUnary) {\n            return;\n        }\n        requestAnimationFrame(() => {\n            const focusedElement = document.activeElement;\n            if (focusedElement.className === 'igx-chip__remove') {\n                return;\n            }\n            if (!(focusedElement && this.inputGroup.nativeElement.contains(focusedElement))\n                && this.dropDownConditions.collapsed) {\n                this.commitInput();\n            }\n        });\n    }\n\n    /**\n     * Closes the filtering edit row.\n     */\n    public close() {\n        if (this.expressionsList.length === 1 &&\n            this.expressionsList[0].expression.searchVal === null &&\n            this.expressionsList[0].expression.condition.isUnary === false) {\n            this.filteringService.getExpressions(this.column.field).pop();\n        } else {\n            this.expressionsList.forEach((item) => {\n                if (item.expression.searchVal === null && !item.expression.condition.isUnary) {\n                    this.filteringService.removeExpression(this.column.field, this.expressionsList.indexOf(item));\n                }\n            });\n        }\n\n        this.filteringService.isFilterRowVisible = false;\n\n        this.filteringService.updateFilteringCell(this.column);\n        this.filteringService.focusFilterCellChip(this.column, true);\n\n        this.filteringService.filteredColumn = null;\n        this.filteringService.selectedExpression = null;\n\n        this.chipAreaScrollOffset = 0;\n        this.transform(this.chipAreaScrollOffset);\n    }\n\n    /*\n    * noop\n    */\n    public noop() { }\n\n    /**\n     *  Event handler for date picker's selection.\n     */\n    public onDateSelected(value: Date) {\n        this.value = value;\n        this.commitInput();\n    }\n\n    /**\n     * Opens the conditions dropdown.\n     */\n    public toggleConditionsDropDown(target: any) {\n        this._conditionsOverlaySettings.positionStrategy.settings.target = target;\n        this.dropDownConditions.toggle(this._conditionsOverlaySettings);\n    }\n\n    /**\n     * Opens the logic operators dropdown.\n     */\n    public toggleOperatorsDropDown(eventArgs, index) {\n        this._operatorsOverlaySettings.positionStrategy.settings.target = eventArgs.target.parentElement;\n        this.dropDownOperators.toArray()[index].toggle(this._operatorsOverlaySettings);\n    }\n\n    /**\n     * Event handler for change event in conditions dropdown.\n     */\n    public onConditionsChanged(eventArgs) {\n        const value = (eventArgs.newSelection as IgxDropDownItemComponent).value;\n        this.expression.condition = this.getCondition(value);\n        if (this.expression.condition.isUnary) {\n            // update grid's filtering on the next cycle to ensure the drop-down is closed\n            // if the drop-down is not closed this event handler will be invoked multiple times\n            requestAnimationFrame(() => this.unaryConditionChangedCallback());\n        } else {\n            requestAnimationFrame(() => this.conditionChangedCallback());\n        }\n\n        if (this.input) {\n            // Add requestAnimationFrame becasue of an issue in IE, where you are still able to write in the input,\n            // if it has been focused and then set to readonly.\n            requestAnimationFrame(() => this.input.nativeElement.focus());\n        }\n    }\n\n\n    public onChipPointerdown(args, chip: IgxChipComponent) {\n        const activeElement = document.activeElement;\n        this._cancelChipClick = chip.selected && activeElement &&\n            this.inputGroup.nativeElement.contains(activeElement);\n    }\n\n    public onChipClick(args, item: ExpressionUI) {\n        if (this._cancelChipClick) {\n            return;\n        }\n\n        this._cancelChipClick = false;\n\n        this.expressionsList.forEach(ex => ex.isSelected = false);\n\n        this.toggleChip(item);\n    }\n\n    public toggleChip(item: ExpressionUI) {\n        item.isSelected = !item.isSelected;\n        if (item.isSelected) {\n            this.expression = item.expression;\n\n            if (this.input) {\n                this.input.nativeElement.focus();\n            }\n        }\n    }\n\n    /**\n     * Event handler for chip keydown event.\n     */\n    public onChipKeyDown(eventArgs: KeyboardEvent, item: ExpressionUI) {\n        if (eventArgs.key === KEYS.ENTER) {\n            eventArgs.preventDefault();\n\n            this.toggleChip(item);\n        }\n    }\n\n    /**\n     * Scrolls the first chip into view if the tab key is pressed on the left arrow.\n     */\n    public onLeftArrowKeyDown(event) {\n        if (event.key === KEYS.TAB) {\n            this.chipAreaScrollOffset = 0;\n            this.transform(this.chipAreaScrollOffset);\n        }\n    }\n\n    /**\n     * Event handler for chip removed event.\n     */\n    public onChipRemoved(eventArgs: IBaseChipEventArgs, item: ExpressionUI) {\n        const indexToRemove = this.expressionsList.indexOf(item);\n        this.removeExpression(indexToRemove, item.expression);\n\n        this.scrollChipsOnRemove();\n    }\n\n    /**\n     * Event handler for logic operator changed event.\n     */\n    public onLogicOperatorChanged(eventArgs: ISelectionEventArgs, expression: ExpressionUI) {\n        if (eventArgs.oldSelection) {\n            expression.afterOperator = (eventArgs.newSelection as IgxDropDownItemComponent).value;\n            this.expressionsList[this.expressionsList.indexOf(expression) + 1].beforeOperator = expression.afterOperator;\n\n            // update grid's filtering on the next cycle to ensure the drop-down is closed\n            // if the drop-down is not closed this event handler will be invoked multiple times\n            requestAnimationFrame(() => this.filter());\n        }\n    }\n\n    /**\n     * Scrolls the chips into the chip area when left or right arrows are pressed.\n     */\n    public scrollChipsOnArrowPress(arrowPosition: string) {\n        let count = 0;\n        const chipAraeChildren = this.chipsArea.element.nativeElement.children;\n        const containerRect = this.container.nativeElement.getBoundingClientRect();\n\n        if (arrowPosition === 'right') {\n            for (let index = 0; index < chipAraeChildren.length; index++) {\n                if (Math.ceil(chipAraeChildren[index].getBoundingClientRect().right) < Math.ceil(containerRect.right)) {\n                    count++;\n                }\n            }\n\n            if (count < chipAraeChildren.length) {\n                this.chipAreaScrollOffset -= Math.ceil(chipAraeChildren[count].getBoundingClientRect().right) -\n                    Math.ceil(containerRect.right) + 1;\n                this.transform(this.chipAreaScrollOffset);\n            }\n        }\n\n        if (arrowPosition === 'left') {\n            for (let index = 0; index < chipAraeChildren.length; index++) {\n                if (Math.ceil(chipAraeChildren[index].getBoundingClientRect().left) < Math.ceil(containerRect.left)) {\n                    count++;\n                }\n            }\n\n            if (count > 0) {\n                this.chipAreaScrollOffset += Math.ceil(containerRect.left) -\n                    Math.ceil(chipAraeChildren[count - 1].getBoundingClientRect().left) + 1;\n                this.transform(this.chipAreaScrollOffset);\n            }\n        }\n    }\n\n    private showHideArrowButtons() {\n        requestAnimationFrame(() => {\n            if (this.filteringService.isFilterRowVisible) {\n                const containerWidth = this.container.nativeElement.getBoundingClientRect().width;\n                this.chipsAreaWidth = this.chipsArea.element.nativeElement.getBoundingClientRect().width;\n\n                this.showArrows = this.chipsAreaWidth >= containerWidth && this.isColumnFiltered;\n\n                // TODO: revise the cdr.detectChanges() usage here\n                if (!(this.cdr as ViewRef).destroyed) {\n                this.cdr.detectChanges(); }\n            }\n        });\n    }\n\n    private addExpression(isSelected: boolean) {\n        const exprUI = new ExpressionUI();\n        exprUI.expression = this.expression;\n        exprUI.beforeOperator = this.expressionsList.length > 0 ? FilteringLogic.And : null;\n        exprUI.isSelected = isSelected;\n\n        this.expressionsList.push(exprUI);\n\n        const length = this.expressionsList.length;\n        if (this.expressionsList[length - 2]) {\n            this.expressionsList[length - 2].afterOperator = this.expressionsList[length - 1].beforeOperator;\n        }\n\n        this.showHideArrowButtons();\n    }\n\n    private removeExpression(indexToRemove: number, expression: IFilteringExpression) {\n        if (indexToRemove === 0 && this.expressionsList.length === 1) {\n            this.clearFiltering();\n            return;\n        }\n\n        this.filteringService.removeExpression(this.column.field, indexToRemove);\n\n        this.filter();\n\n        if (this.expression === expression) {\n            this.resetExpression();\n        }\n\n        this.showHideArrowButtons();\n    }\n\n    private resetExpression() {\n        this.expression = {\n            fieldName: this.column.field,\n            condition: null,\n            searchVal: null,\n            ignoreCase: this.column.filteringIgnoreCase\n        };\n\n        if (this.column.dataType !== DataType.Boolean) {\n            this.expression.condition = this.getCondition(this.conditions[0]);\n        }\n\n        if (this.column.dataType === DataType.Date && this.input) {\n            this.input.nativeElement.value = null;\n        }\n\n        this.showHideArrowButtons();\n    }\n\n    private scrollChipsWhenAddingExpression() {\n        const chipAraeChildren = this.chipsArea.element.nativeElement.children;\n        if (!chipAraeChildren || chipAraeChildren.length === 0) {\n            return;\n        }\n\n        const containerRectRight = Math.ceil(this.container.nativeElement.getBoundingClientRect().right);\n\n        const lastChipRectRight = Math.ceil(chipAraeChildren[chipAraeChildren.length - 1].getBoundingClientRect().right);\n        if (lastChipRectRight >= containerRectRight) {\n            this.chipAreaScrollOffset -= lastChipRectRight - containerRectRight;\n            this.transform(this.chipAreaScrollOffset);\n        }\n    }\n\n    /**\n     * @hidden\n     * Resets the chips area\n     * @memberof IgxGridFilteringRowComponent\n     */\n    public resetChipsArea() {\n        this.chipAreaScrollOffset = 0;\n        this.transform(this.chipAreaScrollOffset);\n        this.showHideArrowButtons();\n    }\n\n    private transform(offset: number) {\n        requestAnimationFrame(() => {\n            this.chipsArea.element.nativeElement.style.transform = `translate(${offset}px)`;\n        });\n    }\n\n    private scrollChipsOnRemove() {\n        let count = 0;\n        const chipAraeChildren = this.chipsArea.element.nativeElement.children;\n        const containerRect = this.container.nativeElement.getBoundingClientRect();\n\n        for (let index = 0; index < chipAraeChildren.length; index++) {\n            if (Math.ceil(chipAraeChildren[index].getBoundingClientRect().right) < Math.ceil(containerRect.left)) {\n                count++;\n            }\n        }\n\n        if (count <= 2) {\n            this.chipAreaScrollOffset = 0;\n        } else {\n            const dif = chipAraeChildren[count].id === 'chip' ? count - 2 : count - 1;\n            this.chipAreaScrollOffset += Math.ceil(containerRect.left) - Math.ceil(chipAraeChildren[dif].getBoundingClientRect().left) + 1;\n        }\n\n        this.transform(this.chipAreaScrollOffset);\n    }\n\n    private conditionChangedCallback() {\n        if (!!this.expression.searchVal || this.expression.searchVal === 0) {\n            this.filter();\n        } else if (this.value) {\n            this.value = null;\n        }\n    }\n\n    private unaryConditionChangedCallback() {\n        if (this.value) {\n            this.value = null;\n        }\n        if (this.expressionsList.find(item => item.expression === this.expression) === undefined) {\n            this.addExpression(true);\n        }\n        this.filter();\n    }\n\n    private filter() {\n        this.filteringService.filterInternal(this.column.field);\n    }\n\n    private get isColumnFiltered() {\n        return this.column.filteringExpressionsTree && this.column.filteringExpressionsTree.filteringOperands.length > 0;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { IgxColumnComponent } from '../columns/column.component';\n\n/**\n * @hidden\n * @internal\n */\nexport enum DropPosition {\n    BeforeDropTarget,\n    AfterDropTarget,\n    None\n}\n\n\n/**\n * @hidden\n * @internal\n */\n@Injectable({\n    providedIn: 'root',\n})\nexport class IgxColumnMovingService {\n    private _icon: any;\n    private _column: IgxColumnComponent;\n\n    public cancelDrop: boolean;\n    public isColumnMoving: boolean;\n\n    get column(): IgxColumnComponent {\n        return this._column;\n    }\n    set column(val: IgxColumnComponent) {\n        if (val) {\n            this._column = val;\n        }\n    }\n\n    get icon(): any {\n        return this._icon;\n    }\n    set icon(val: any) {\n        if (val) {\n            this._icon = val;\n        }\n    }\n}\n","import { Directive, OnDestroy, Input, ElementRef, ViewContainerRef, NgZone, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport { IgxDragDirective } from '../../directives/drag-drop/drag-drop.directive';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { KEYS } from '../../core/utils';\nimport { IgxColumnMovingService } from './moving.service';\n\n\n/**\n * @hidden\n * @internal\n */\n@Directive({\n    selector: '[igxColumnMovingDrag]',\n\n})\nexport class IgxColumnMovingDragDirective extends IgxDragDirective implements OnDestroy {\n\n    @Input('igxColumnMovingDrag')\n    set data(val) {\n        this._column = val;\n    }\n\n    get column() {\n        return this._column;\n    }\n\n    get draggable(): boolean {\n        return this.column && (this.column.movable || (this.column.groupable && !this.column.columnGroup));\n    }\n\n    public get icon(): HTMLElement {\n        return this.cms.icon;\n    }\n\n    private subscription$: Subscription;\n    private _column: IgxColumnComponent;\n    private _ghostClass = 'igx-grid__drag-ghost-image';\n    private ghostImgIconClass = 'igx-grid__drag-ghost-image-icon';\n    private ghostImgIconGroupClass = 'igx-grid__drag-ghost-image-icon-group';\n\n    constructor(\n        public element: ElementRef<HTMLElement>,\n        public viewContainer: ViewContainerRef,\n        public zone: NgZone,\n        public renderer: Renderer2,\n        public cdr: ChangeDetectorRef,\n        private cms: IgxColumnMovingService,\n    ) {\n        super(cdr, element, viewContainer, zone, renderer);\n    }\n\n    public ngOnDestroy() {\n        this._unsubscribe();\n    }\n\n    public onEscape(event) {\n        this.cms.cancelDrop = true;\n        this.onPointerUp(event);\n    }\n\n    public onPointerDown(event) {\n        if (!this.draggable || event.target.getAttribute('draggable') === 'false') {\n            return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        this._removeOnDestroy = false;\n        this.cms.column = this.column;\n        this.ghostClass = this._ghostClass;\n\n        super.onPointerDown(event);\n\n        this.cms.isColumnMoving = true;\n        this.column.grid.cdr.detectChanges();\n\n        const args = {\n            source: this.column\n        };\n        this.column.grid.onColumnMovingStart.emit(args);\n\n        this.subscription$ = fromEvent(this.column.grid.document.defaultView, 'keydown').subscribe((ev: KeyboardEvent) => {\n            if (ev.key === KEYS.ESCAPE || ev.key === KEYS.ESCAPE_IE) {\n                this.onEscape(ev);\n            }\n        });\n    }\n\n    public onPointerMove(event) {\n        event.preventDefault();\n        super.onPointerMove(event);\n\n        if (this._dragStarted && this.ghostElement && !this.column.grid.draggedColumn) {\n            this.column.grid.draggedColumn = this.column;\n            this.column.grid.cdr.detectChanges();\n        }\n\n        if (this.cms.isColumnMoving) {\n            const args = {\n                source: this.column,\n                cancel: false\n            };\n            this.column.grid.onColumnMoving.emit(args);\n\n            if (args.cancel) {\n                this.onEscape(event);\n            }\n        }\n    }\n\n    public onPointerUp(event) {\n        // Run it explicitly inside the zone because sometimes onPointerUp executes after the code below.\n        this.zone.run(() => {\n            super.onPointerUp(event);\n\n            this.cms.isColumnMoving = false;\n            this.column.grid.draggedColumn = null;\n            this.column.grid.cdr.detectChanges();\n        });\n\n        this._unsubscribe();\n    }\n\n    protected createGhost(pageX, pageY) {\n        super.createGhost(pageX, pageY);\n\n        this.ghostElement.style.height = null;\n        this.ghostElement.style.minWidth = null;\n        this.ghostElement.style.flexBasis = null;\n        this.ghostElement.style.position = null;\n\n        const icon = document.createElement('i');\n        const text = document.createTextNode('block');\n        icon.appendChild(text);\n\n        icon.classList.add('material-icons');\n        this.cms.icon = icon;\n\n        if (!this.column.columnGroup) {\n            this.renderer.addClass(icon, this.ghostImgIconClass);\n\n            this.ghostElement.insertBefore(icon, this.ghostElement.firstElementChild);\n\n            this.ghostLeft = this._ghostStartX = pageX - ((this.ghostElement.getBoundingClientRect().width / 3) * 2);\n            this.ghostTop = this._ghostStartY = pageY - ((this.ghostElement.getBoundingClientRect().height / 3) * 2);\n        } else {\n            this.ghostElement.insertBefore(icon, this.ghostElement.childNodes[0]);\n\n            this.renderer.addClass(icon, this.ghostImgIconGroupClass);\n            this.ghostElement.children[0].style.paddingLeft = '0px';\n\n            this.ghostLeft = this._ghostStartX = pageX - ((this.ghostElement.getBoundingClientRect().width / 3) * 2);\n            this.ghostTop = this._ghostStartY = pageY - ((this.ghostElement.getBoundingClientRect().height / 3) * 2);\n        }\n    }\n\n    private _unsubscribe() {\n        if (this.subscription$) {\n            this.subscription$.unsubscribe();\n            this.subscription$ = null;\n        }\n    }\n}\n","import { Directive, ElementRef, Renderer2, NgZone, HostBinding, TemplateRef } from '@angular/core';\nimport { IgxDropDirective } from '../../directives/drag-drop/drag-drop.directive';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxGridComponent } from './grid.component';\nimport { SortingDirection } from '../../data-operations/sorting-expression.interface';\nimport { IgxColumnMovingDragDirective } from '../moving/moving.drag.directive';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxGroupByRow]'\n})\nexport class IgxGroupByRowTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxGridDetail]'\n})\nexport class IgxGridDetailTemplateDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxRowExpandedIndicator]'\n})\nexport class IgxRowExpandedIndicatorDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxRowCollapsedIndicator]'\n})\nexport class IgxRowCollapsedIndicatorDirective {\n}\n\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxHeaderExpandedIndicator]'\n})\nexport class IgxHeaderExpandIndicatorDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxHeaderCollapsedIndicator]'\n})\nexport class IgxHeaderCollapseIndicatorDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxGroupAreaDrop]'\n})\nexport class IgxGroupAreaDropDirective extends IgxDropDirective {\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2, private zone: NgZone) {\n        super(elementRef, renderer, zone);\n    }\n\n    @HostBinding('class.igx-drop-area--hover')\n    public hovered = false;\n\n\n    public onDragEnter(event) {\n        const drag: IgxColumnMovingDragDirective = event.detail.owner;\n        const column: IgxColumnComponent = drag.column;\n        if (!this.columnBelongsToGrid(column)) {\n            return;\n        }\n        const grid = <IgxGridComponent>column.grid;\n        const isGrouped = grid.groupingExpressions.findIndex((item) => item.fieldName === column.field) !== -1;\n        if (column.groupable && !isGrouped && !column.columnGroup && !!column.field) {\n            drag.icon.innerText = 'group_work';\n            this.hovered = true;\n        } else {\n            drag.icon.innerText = 'block';\n            this.hovered = false;\n        }\n    }\n\n    public onDragLeave(event) {\n        const drag: IgxColumnMovingDragDirective = event.detail.owner;\n        const column: IgxColumnComponent = drag.column;\n        if (!this.columnBelongsToGrid(column)) {\n            return;\n        }\n        event.detail.owner.icon.innerText = 'block';\n        this.hovered = false;\n    }\n\n    public onDragDrop(event) {\n        const drag: IgxColumnMovingDragDirective = event.detail.owner;\n        if (drag instanceof IgxColumnMovingDragDirective) {\n            const column: IgxColumnComponent = drag.column;\n            if (!this.columnBelongsToGrid(column)) {\n                return;\n            }\n            const grid = <IgxGridComponent>column.grid;\n            const isGrouped = grid.groupingExpressions.findIndex((item) => item.fieldName === column.field) !== -1;\n            if (column.groupable && !isGrouped && !column.columnGroup && !!column.field) {\n                grid.groupBy({ fieldName: column.field, dir: SortingDirection.Asc, ignoreCase: column.sortingIgnoreCase,\n                    strategy: column.sortStrategy, groupingComparer: column.groupingComparer });\n            }\n        }\n    }\n\n    private closestParentByAttr(elem, attr) {\n        return elem.hasAttribute(attr) ?\n            elem :\n            this.closestParentByAttr(elem.parentElement, attr);\n    }\n\n    private columnBelongsToGrid(column) {\n        const elem = this.elementRef.nativeElement;\n        const closestGridID = this.closestParentByAttr(elem, 'igxGroupAreaDrop').getAttribute('gridId');\n        if (!column) {\n            return false;\n        } else {\n            const grid = <IgxGridComponent>column.grid;\n            if (!grid || grid.id !== closestGridID) {\n                return false;\n            }\n            return true;\n        }\n    }\n}\n","import {\n    Component, Input, ViewChild, ChangeDetectorRef, ViewChildren, QueryList, ElementRef, AfterViewInit, OnDestroy, HostBinding\n} from '@angular/core';\nimport { VerticalAlignment, HorizontalAlignment, Point, OverlaySettings } from '../../../services/overlay/utilities';\nimport { ConnectedPositioningStrategy } from '../../../services/overlay/position/connected-positioning-strategy';\nimport { IgxOverlayService } from '../../../services/overlay/overlay';\nimport { FilteringExpressionsTree, IFilteringExpressionsTree } from '../../../data-operations/filtering-expressions-tree';\nimport { FilteringLogic, IFilteringExpression } from '../../../data-operations/filtering-expression.interface';\nimport { IgxChipComponent } from '../../../chips/chip.component';\nimport { IgxSelectComponent } from '../../../select/select.component';\nimport { IDragStartEventArgs, IDragBaseEventArgs } from '../../../directives/drag-drop/drag-drop.directive';\nimport { CloseScrollStrategy } from '../../../services/overlay/scroll/close-scroll-strategy';\nimport { IgxToggleDirective, IgxOverlayOutletDirective } from '../../../directives/toggle/toggle.directive';\nimport { IButtonGroupEventArgs } from '../../../buttonGroup/buttonGroup.component';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { Subject, Subscription } from 'rxjs';\nimport { KEYS } from '../../../core/utils';\nimport { AbsoluteScrollStrategy, AutoPositionStrategy } from '../../../services/index';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { GridType } from '../../common/grid.interface';\nimport { DataUtil } from './../../../data-operations/data-util';\n\n/**\n *@hidden\n */\nclass ExpressionItem {\n    constructor(parent?: ExpressionGroupItem) {\n        this.parent = parent;\n    }\n    parent: ExpressionGroupItem;\n    selected: boolean;\n}\n\n/**\n *@hidden\n */\nclass ExpressionGroupItem extends ExpressionItem {\n    constructor(operator: FilteringLogic, parent?: ExpressionGroupItem) {\n        super(parent);\n        this.operator = operator;\n        this.children = [];\n    }\n    operator: FilteringLogic;\n    children: ExpressionItem[];\n}\n\n/**\n *@hidden\n */\nclass ExpressionOperandItem extends ExpressionItem {\n    constructor(expression: IFilteringExpression, parent: ExpressionGroupItem) {\n        super(parent);\n        this.expression = expression;\n    }\n    expression: IFilteringExpression;\n    inEditMode: boolean;\n    inAddMode: boolean;\n    hovered: boolean;\n    columnHeader: string;\n}\n\n/**\n * A component used for presenting advanced filtering UI for a Grid.\n * It is used internally in the Grid, but could also be hosted in a container outside of it.\n *\n * Example:\n * ```html\n * <igx-advanced-filtering-dialog\n *     [grid]=\"grid1\">\n * </igx-advanced-filtering-dialog>\n * ```\n */\n@Component({\n    selector: 'igx-advanced-filtering-dialog',\n    templateUrl: './advanced-filtering-dialog.component.html'\n})\nexport class IgxAdvancedFilteringDialogComponent implements AfterViewInit, OnDestroy {\n    /**\n     * @hidden @internal\n     */\n    public inline = true;\n    /**\n     * @hidden @internal\n     */\n    public rootGroup: ExpressionGroupItem;\n\n    /**\n     * @hidden @internal\n     */\n    public selectedExpressions: ExpressionOperandItem[] = [];\n\n    /**\n     * @hidden @internal\n     */\n    public selectedGroups: ExpressionGroupItem[] = [];\n\n    /**\n     * @hidden @internal\n     */\n    public currentGroup: ExpressionGroupItem;\n\n    /**\n     * @hidden @internal\n     */\n    public editedExpression: ExpressionOperandItem;\n\n    /**\n     * @hidden @internal\n     */\n    public addModeExpression: ExpressionOperandItem;\n\n    /**\n     * @hidden @internal\n     */\n    public contextualGroup: ExpressionGroupItem;\n\n    /**\n     * @hidden @internal\n     */\n    public filteringLogics;\n\n    /**\n     * @hidden @internal\n     */\n    public selectedCondition: string;\n\n    /**\n     * @hidden @internal\n     */\n    public searchValue: any;\n\n    private _positionSettings = {\n        horizontalStartPoint: HorizontalAlignment.Right,\n        verticalStartPoint: VerticalAlignment.Top\n    };\n    private _overlaySettings: OverlaySettings = {\n        closeOnOutsideClick: false,\n        modal: false,\n        positionStrategy: new ConnectedPositioningStrategy(this._positionSettings),\n        scrollStrategy: new CloseScrollStrategy()\n    };\n\n    /**\n     * @hidden @internal\n     */\n    public columnSelectOverlaySettings: OverlaySettings = {\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        modal: false,\n        closeOnOutsideClick: false,\n        excludePositionTarget: true\n    };\n\n    /**\n     * @hidden @internal\n     */\n    public conditionSelectOverlaySettings: OverlaySettings = {\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        modal: false,\n        closeOnOutsideClick: false,\n        excludePositionTarget: true\n    };\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('columnSelect', { read: IgxSelectComponent })\n    public columnSelect: IgxSelectComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('conditionSelect', { read: IgxSelectComponent })\n    public conditionSelect: IgxSelectComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('searchValueInput', { read: ElementRef })\n    public searchValueInput: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('addRootAndGroupButton', { read: ElementRef })\n    public addRootAndGroupButton: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('addConditionButton', { read: ElementRef })\n    public addConditionButton: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('editingInputsContainer', { read: ElementRef })\n    public set editingInputsContainer(value: ElementRef) {\n        if ((value && !this._editingInputsContainer) ||\n            (value && this._editingInputsContainer && this._editingInputsContainer.nativeElement !== value.nativeElement)) {\n            requestAnimationFrame(() => {\n                this.scrollElementIntoView(value.nativeElement);\n            });\n        }\n\n        this._editingInputsContainer = value;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get editingInputsContainer(): ElementRef {\n        return this._editingInputsContainer;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('addModeContainer', { read: ElementRef })\n    public set addModeContainer(value: ElementRef) {\n        if ((value && !this._addModeContainer) ||\n            (value && this._addModeContainer && this._addModeContainer.nativeElement !== value.nativeElement)) {\n            requestAnimationFrame(() => {\n                this.scrollElementIntoView(value.nativeElement);\n            });\n        }\n\n        this._addModeContainer = value;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get addModeContainer(): ElementRef {\n        return this._addModeContainer;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('currentGroupButtonsContainer', { read: ElementRef })\n    public set currentGroupButtonsContainer(value: ElementRef) {\n        if ((value && !this._currentGroupButtonsContainer) ||\n            (value && this._currentGroupButtonsContainer && this._currentGroupButtonsContainer.nativeElement !== value.nativeElement)) {\n            requestAnimationFrame(() => {\n                this.scrollElementIntoView(value.nativeElement);\n            });\n        }\n\n        this._currentGroupButtonsContainer = value;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get currentGroupButtonsContainer(): ElementRef {\n        return this._currentGroupButtonsContainer;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild(IgxToggleDirective)\n    public contextMenuToggle: IgxToggleDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChildren(IgxChipComponent)\n    public chips: QueryList<IgxChipComponent>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('expressionsContainer')\n    protected expressionsContainer: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('overlayOutlet', { read: IgxOverlayOutletDirective, static: true })\n    public overlayOutlet: IgxOverlayOutletDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('style.display')\n    display = 'block';\n\n    private destroy$ = new Subject<any>();\n    private _overlayComponentId: string;\n    private _overlayService: IgxOverlayService;\n    private _selectedColumn: IgxColumnComponent;\n    private _clickTimer;\n    private _dblClickDelay = 200;\n    private _preventChipClick = false;\n    private _editingInputsContainer: ElementRef;\n    private _addModeContainer: ElementRef;\n    private _currentGroupButtonsContainer: ElementRef;\n    private _grid: GridType;\n    private _filteringChange: Subscription;\n\n    constructor(public cdr: ChangeDetectorRef) { }\n\n    /**\n     * @hidden @internal\n     */\n    public ngAfterViewInit(): void {\n        this._overlaySettings.outlet = this.overlayOutlet;\n        this.columnSelectOverlaySettings.outlet = this.overlayOutlet;\n        this.conditionSelectOverlaySettings.outlet = this.overlayOutlet;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get displayDensity() {\n        return this.grid.displayDensity;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get selectedColumn(): IgxColumnComponent {\n        return this._selectedColumn;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public set selectedColumn(value: IgxColumnComponent) {\n        const oldValue = this._selectedColumn;\n\n        if (this._selectedColumn !== value) {\n            this._selectedColumn = value;\n            if (oldValue && this._selectedColumn && this._selectedColumn.dataType !== oldValue.dataType) {\n                this.selectedCondition = null;\n                this.searchValue = null;\n                this.cdr.detectChanges();\n            }\n        }\n    }\n\n    /**\n     * An @Input property that sets the grid.\n     */\n    @Input()\n    set grid(grid: GridType) {\n        this._grid = grid;\n\n        if (this._filteringChange) {\n            this._filteringChange.unsubscribe();\n        }\n\n        if (this._grid) {\n            this._grid.filteringService.registerSVGIcons();\n\n            this._filteringChange = this._grid.advancedFilteringExpressionsTreeChange.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this.init();\n            });\n\n            this.init();\n        }\n    }\n\n    /**\n     * Returns the grid.\n     */\n    get grid(): GridType {\n        return this._grid;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get filterableColumns(): IgxColumnComponent[] {\n        return this.grid.columns.filter((col) => !col.columnGroup && col.filterable);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public dragStart(dragArgs: IDragStartEventArgs) {\n        if (!this._overlayComponentId) {\n            dragArgs.cancel = true;\n            return;\n        }\n\n        if (!this.contextMenuToggle.collapsed) {\n            this.contextMenuToggle.element.style.display = 'none';\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public dragEnd(dragArgs: IDragBaseEventArgs) {\n        if (!this.contextMenuToggle.collapsed) {\n            this.calculateContextMenuTarget();\n            this.contextMenuToggle.reposition();\n            this.contextMenuToggle.element.style.display = '';\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onDragMove(e) {\n        const deltaX = e.nextPageX - e.pageX;\n        const deltaY = e.nextPageY - e.pageY;\n        e.cancel = true;\n        this._overlayService.setOffset(this._overlayComponentId, deltaX, deltaY);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public addCondition(parent: ExpressionGroupItem, afterExpression?: ExpressionItem) {\n        this.cancelOperandAdd();\n\n        const operandItem = new ExpressionOperandItem({\n            fieldName: null,\n            condition: null,\n            ignoreCase: true,\n            searchVal: null\n        }, parent);\n\n        if (afterExpression) {\n            const index = parent.children.indexOf(afterExpression);\n            parent.children.splice(index + 1, 0, operandItem);\n        } else {\n            parent.children.push(operandItem);\n        }\n\n        this.enterExpressionEdit(operandItem);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public addAndGroup(parent?: ExpressionGroupItem, afterExpression?: ExpressionItem) {\n        this.addGroup(FilteringLogic.And, parent, afterExpression);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public addOrGroup(parent?: ExpressionGroupItem, afterExpression?: ExpressionItem) {\n        this.addGroup(FilteringLogic.Or, parent, afterExpression);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public endGroup(groupItem: ExpressionGroupItem) {\n        this.currentGroup = groupItem.parent;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public commitOperandEdit() {\n        if (this.editedExpression) {\n            this.editedExpression.expression.fieldName = this.selectedColumn.field;\n            this.editedExpression.expression.condition = this.selectedColumn.filters.condition(this.selectedCondition);\n            this.editedExpression.expression.searchVal = DataUtil.parseValue(this.selectedColumn.dataType, this.searchValue);\n            this.editedExpression.columnHeader = this.selectedColumn.header;\n\n            this.editedExpression.inEditMode = false;\n            this.editedExpression = null;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public cancelOperandAdd() {\n        if (this.addModeExpression) {\n            this.addModeExpression.inAddMode = false;\n            this.addModeExpression = null;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public cancelOperandEdit() {\n        if (this.editedExpression) {\n            this.editedExpression.inEditMode = false;\n\n            if (!this.editedExpression.expression.fieldName) {\n                this.deleteItem(this.editedExpression);\n            }\n\n            this.editedExpression = null;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public operandCanBeCommitted(): boolean {\n        return this.selectedColumn && this.selectedCondition &&\n            (!!this.searchValue || this.selectedColumn.filters.condition(this.selectedCondition).isUnary);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public exitOperandEdit() {\n        if (!this.editedExpression) {\n            return;\n        }\n\n        if (this.operandCanBeCommitted()) {\n            this.commitOperandEdit();\n        } else {\n            this.cancelOperandEdit();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public isExpressionGroup(expression: ExpressionItem): boolean {\n        return expression instanceof ExpressionGroupItem;\n    }\n\n    private addGroup(operator: FilteringLogic, parent?: ExpressionGroupItem, afterExpression?: ExpressionItem) {\n        this.cancelOperandAdd();\n\n        const groupItem = new ExpressionGroupItem(operator, parent);\n\n        if (parent) {\n            if (afterExpression) {\n                const index = parent.children.indexOf(afterExpression);\n                parent.children.splice(index + 1, 0, groupItem);\n            } else {\n                parent.children.push(groupItem);\n            }\n        } else {\n            this.rootGroup = groupItem;\n        }\n\n        this.addCondition(groupItem);\n        this.currentGroup = groupItem;\n    }\n\n    private createExpressionGroupItem(expressionTree: IFilteringExpressionsTree, parent?: ExpressionGroupItem): ExpressionGroupItem {\n        let groupItem: ExpressionGroupItem;\n        if (expressionTree) {\n            groupItem = new ExpressionGroupItem(expressionTree.operator, parent);\n\n            for (const expr of expressionTree.filteringOperands) {\n                if (expr instanceof FilteringExpressionsTree) {\n                    groupItem.children.push(this.createExpressionGroupItem(expr, groupItem));\n                } else {\n                    const filteringExpr = expr as IFilteringExpression;\n                    const exprCopy: IFilteringExpression = {\n                        fieldName: filteringExpr.fieldName,\n                        condition: filteringExpr.condition,\n                        searchVal: filteringExpr.searchVal,\n                        ignoreCase: filteringExpr.ignoreCase\n                    };\n                    const operandItem = new ExpressionOperandItem(exprCopy, groupItem);\n                    const column = this.grid.getColumnByName(filteringExpr.fieldName);\n                    operandItem.columnHeader = column.header;\n                    groupItem.children.push(operandItem);\n                }\n            }\n        }\n\n        return groupItem;\n    }\n\n    private createExpressionsTreeFromGroupItem(groupItem: ExpressionGroupItem): FilteringExpressionsTree {\n        if (!groupItem) {\n            return null;\n        }\n\n        const expressionsTree = new FilteringExpressionsTree(groupItem.operator);\n\n        for (const item of groupItem.children) {\n            if (item instanceof ExpressionGroupItem) {\n                const subTree = this.createExpressionsTreeFromGroupItem((item as ExpressionGroupItem));\n                expressionsTree.filteringOperands.push(subTree);\n            } else {\n                expressionsTree.filteringOperands.push((item as ExpressionOperandItem).expression);\n            }\n        }\n\n        return expressionsTree;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onChipRemove(expressionItem: ExpressionItem) {\n        this.deleteItem(expressionItem);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onChipClick(expressionItem: ExpressionOperandItem) {\n        this._clickTimer = setTimeout(() => {\n            if (!this._preventChipClick) {\n                this.onToggleExpression(expressionItem);\n            }\n            this._preventChipClick = false;\n        }, this._dblClickDelay);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onChipDblClick(expressionItem: ExpressionOperandItem) {\n        clearTimeout(this._clickTimer);\n        this._preventChipClick = true;\n        this.enterExpressionEdit(expressionItem);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public enterExpressionEdit(expressionItem: ExpressionOperandItem) {\n        this.clearSelection();\n        this.exitOperandEdit();\n        this.cancelOperandAdd();\n\n        if (this.editedExpression) {\n            this.editedExpression.inEditMode = false;\n        }\n\n        expressionItem.hovered = false;\n\n        this.selectedColumn = expressionItem.expression.fieldName ?\n            this.grid.getColumnByName(expressionItem.expression.fieldName) : null;\n        this.selectedCondition = expressionItem.expression.condition ?\n            expressionItem.expression.condition.name : null;\n        this.searchValue = expressionItem.expression.searchVal;\n\n        expressionItem.inEditMode = true;\n        this.editedExpression = expressionItem;\n\n        this.cdr.detectChanges();\n\n        this.columnSelectOverlaySettings.positionStrategy = new AutoPositionStrategy({ target: this.columnSelect.element });\n        this.conditionSelectOverlaySettings.positionStrategy = new AutoPositionStrategy({ target: this.conditionSelect.element });\n\n        if (!this.selectedColumn) {\n            this.columnSelect.input.nativeElement.focus();\n        } else if (this.selectedColumn.filters.condition(this.selectedCondition).isUnary) {\n            this.conditionSelect.input.nativeElement.focus();\n        } else {\n            this.searchValueInput.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public clearSelection() {\n        for (const group of this.selectedGroups) {\n            group.selected = false;\n        }\n        this.selectedGroups = [];\n\n        for (const expr of this.selectedExpressions) {\n            expr.selected = false;\n        }\n        this.selectedExpressions = [];\n\n        this.toggleContextMenu();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public enterExpressionAdd(expressionItem: ExpressionOperandItem) {\n        this.clearSelection();\n        this.exitOperandEdit();\n\n        if (this.addModeExpression) {\n            this.addModeExpression.inAddMode = false;\n        }\n\n        expressionItem.inAddMode = true;\n        this.addModeExpression = expressionItem;\n        if (expressionItem.selected) {\n            this.toggleExpression(expressionItem);\n        }\n    }\n\n    private onToggleExpression(expressionItem: ExpressionOperandItem) {\n        this.exitOperandEdit();\n        this.toggleExpression(expressionItem);\n\n        this.toggleContextMenu();\n    }\n\n    private toggleExpression(expressionItem: ExpressionOperandItem) {\n        expressionItem.selected = !expressionItem.selected;\n\n        if (expressionItem.selected) {\n            this.selectedExpressions.push(expressionItem);\n        } else {\n            const index = this.selectedExpressions.indexOf(expressionItem);\n            this.selectedExpressions.splice(index, 1);\n            this.deselectParentRecursive(expressionItem);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public contextMenuClosed() {\n        this.contextualGroup = null;\n    }\n\n    private toggleContextMenu() {\n        const contextualGroup = this.findSingleSelectedGroup();\n\n        if (contextualGroup || this.selectedExpressions.length > 1) {\n            this.contextualGroup = contextualGroup;\n\n            if (contextualGroup) {\n                this.filteringLogics = [\n                    {\n                        label: this.grid.resourceStrings.igx_grid_filter_operator_and,\n                        selected: contextualGroup.operator === FilteringLogic.And\n                    },\n                    {\n                        label: this.grid.resourceStrings.igx_grid_filter_operator_or,\n                        selected: contextualGroup.operator === FilteringLogic.Or\n                    }\n                ];\n            }\n        } else if (this.contextMenuToggle) {\n            this.contextMenuToggle.close();\n        }\n    }\n\n    private findSingleSelectedGroup(): ExpressionGroupItem {\n        for (const group of this.selectedGroups) {\n            const containsAllSelectedExpressions = this.selectedExpressions.every(op => this.isInsideGroup(op, group));\n\n            if (containsAllSelectedExpressions) {\n                return group;\n            }\n        }\n\n        return null;\n    }\n\n    private isInsideGroup(item: ExpressionItem, group: ExpressionGroupItem): boolean {\n        if (!item) {\n            return false;\n        }\n\n        if (item.parent === group) {\n            return true;\n        }\n\n        return this.isInsideGroup(item.parent, group);\n    }\n\n    private deleteItem(expressionItem: ExpressionItem) {\n        if (!expressionItem.parent) {\n            this.rootGroup = null;\n            this.currentGroup = null;\n            return;\n        }\n\n        if (expressionItem === this.currentGroup) {\n            this.currentGroup = this.currentGroup.parent;\n        }\n\n        const children = expressionItem.parent.children;\n        const index = children.indexOf(expressionItem);\n        children.splice(index, 1);\n\n        if (!children.length) {\n            this.deleteItem(expressionItem.parent);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onKeyDown(eventArgs: KeyboardEvent) {\n        eventArgs.stopPropagation();\n        if (!this.contextMenuToggle.collapsed &&\n            (eventArgs.key === KEYS.ESCAPE || eventArgs.key === KEYS.ESCAPE_IE)) {\n            this.clearSelection();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public createAndGroup() {\n        this.createGroup(FilteringLogic.And);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public createOrGroup() {\n        this.createGroup(FilteringLogic.Or);\n    }\n\n    private createGroup(operator: FilteringLogic) {\n        const chips = this.chips.toArray();\n        const minIndex = this.selectedExpressions.reduce((i, e) => Math.min(i, chips.findIndex(c => c.data === e)), Number.MAX_VALUE);\n        const firstExpression = chips[minIndex].data;\n\n        const parent = firstExpression.parent;\n        const groupItem = new ExpressionGroupItem(operator, parent);\n\n        const index = parent.children.indexOf(firstExpression);\n        parent.children.splice(index, 0, groupItem);\n\n        for (const expr of this.selectedExpressions) {\n            this.deleteItem(expr);\n            groupItem.children.push(expr);\n            expr.parent = groupItem;\n        }\n\n        this.clearSelection();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public deleteFilters() {\n        for (const expr of this.selectedExpressions) {\n            this.deleteItem(expr);\n        }\n\n        this.clearSelection();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onGroupClick(groupItem: ExpressionGroupItem) {\n        this.toggleGroup(groupItem);\n    }\n\n    private toggleGroup(groupItem: ExpressionGroupItem) {\n        this.exitOperandEdit();\n        if (groupItem.children && groupItem.children.length) {\n            this.toggleGroupRecursive(groupItem, !groupItem.selected);\n            if (!groupItem.selected) {\n                this.deselectParentRecursive(groupItem);\n            }\n            this.toggleContextMenu();\n        }\n    }\n\n    private toggleGroupRecursive(groupItem: ExpressionGroupItem, selected: boolean) {\n        if (groupItem.selected !== selected) {\n            groupItem.selected = selected;\n\n            if (groupItem.selected) {\n                this.selectedGroups.push(groupItem);\n            } else {\n                const index = this.selectedGroups.indexOf(groupItem);\n                this.selectedGroups.splice(index, 1);\n            }\n        }\n\n        for (const expr of groupItem.children) {\n            if (expr instanceof ExpressionGroupItem) {\n                this.toggleGroupRecursive(expr, selected);\n            } else {\n                const operandExpression = expr as ExpressionOperandItem;\n                if (operandExpression.selected !== selected) {\n                    this.toggleExpression(operandExpression);\n                }\n            }\n        }\n    }\n\n    private deselectParentRecursive(expressionItem: ExpressionItem) {\n        const parent = expressionItem.parent;\n        if (parent) {\n            if (parent.selected) {\n                parent.selected = false;\n                const index = this.selectedGroups.indexOf(parent);\n                this.selectedGroups.splice(index, 1);\n            }\n            this.deselectParentRecursive(parent);\n        }\n    }\n\n    private calculateContextMenuTarget() {\n        const containerRect = this.expressionsContainer.nativeElement.getBoundingClientRect();\n        const chips = this.chips.filter(c => this.selectedExpressions.indexOf(c.data) !== -1);\n        let minTop = chips.reduce((t, c) =>\n            Math.min(t, c.elementRef.nativeElement.getBoundingClientRect().top), Number.MAX_VALUE);\n        minTop = Math.max(containerRect.top, minTop);\n        minTop = Math.min(containerRect.bottom, minTop);\n        let maxRight = chips.reduce((r, c) =>\n            Math.max(r, c.elementRef.nativeElement.getBoundingClientRect().right), 0);\n        maxRight = Math.max(maxRight, containerRect.left);\n        maxRight = Math.min(maxRight, containerRect.right);\n        this._overlaySettings.positionStrategy.settings.target = new Point(maxRight, minTop);\n    }\n\n    private scrollElementIntoView(target: HTMLElement) {\n        const container = this.expressionsContainer.nativeElement;\n        const targetOffset = target.offsetTop - container.offsetTop;\n        const delta = 10;\n\n        if (container.scrollTop + delta > targetOffset) {\n            container.scrollTop = targetOffset - delta;\n        } else if (container.scrollTop + container.clientHeight < targetOffset + target.offsetHeight + delta) {\n            container.scrollTop = targetOffset + target.offsetHeight + delta - container.clientHeight;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ungroup() {\n        const selectedGroup = this.contextualGroup;\n        const parent = selectedGroup.parent;\n        if (parent) {\n            const index = parent.children.indexOf(selectedGroup);\n            parent.children.splice(index, 1, ...selectedGroup.children);\n\n            for (const expr of selectedGroup.children) {\n                expr.parent = parent;\n            }\n        }\n\n        this.clearSelection();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public deleteGroup() {\n        const selectedGroup = this.contextualGroup;\n        const parent = selectedGroup.parent;\n        if (parent) {\n            const index = parent.children.indexOf(selectedGroup);\n            parent.children.splice(index, 1);\n        } else {\n            this.rootGroup = null;\n        }\n\n        this.clearSelection();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public selectFilteringLogic(event: IButtonGroupEventArgs) {\n        this.contextualGroup.operator = event.index as FilteringLogic;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public getConditionFriendlyName(name: string): string {\n        return this.grid.resourceStrings[`igx_grid_filter_${name}`] || name;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public isDate(value: any) {\n        return value instanceof Date;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onExpressionsScrolled() {\n        if (!this.contextMenuToggle.collapsed) {\n            this.calculateContextMenuTarget();\n            this.contextMenuToggle.reposition();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public invokeClick(eventArgs: KeyboardEvent) {\n        if (eventArgs.key === KEYS.ENTER || eventArgs.key === KEYS.SPACE || eventArgs.key === KEYS.SPACE_IE) {\n            eventArgs.preventDefault();\n            (eventArgs.currentTarget as HTMLElement).click();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onOutletPointerDown(event) {\n        // This prevents closing the select's dropdown when clicking the scroll\n        event.preventDefault();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public getConditionList(): string[] {\n        return this.selectedColumn ? this.selectedColumn.filters.conditionList() : [];\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public initialize(grid: GridType, overlayService: IgxOverlayService,\n        overlayComponentId: string) {\n        this.inline = false;\n        this.grid = grid;\n        this._overlayService = overlayService;\n        this._overlayComponentId = overlayComponentId;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public setAddButtonFocus() {\n        if (this.addRootAndGroupButton) {\n            this.addRootAndGroupButton.nativeElement.focus();\n        } else if (this.addConditionButton) {\n            this.addConditionButton.nativeElement.focus();\n        }\n    }\n\n    private init() {\n        this.clearSelection();\n        this.cancelOperandAdd();\n        this.cancelOperandEdit();\n        this.rootGroup = this.createExpressionGroupItem(this.grid.advancedFilteringExpressionsTree);\n        this.currentGroup = this.rootGroup;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public context(expression: ExpressionItem, afterExpression?: ExpressionItem) {\n        return {\n            $implicit: expression,\n            afterExpression\n        };\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onClearButtonClick() {\n        this.grid.advancedFilteringExpressionsTree = null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public closeDialog() {\n        if (this._overlayComponentId) {\n            this._overlayService.hide(this._overlayComponentId);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public applyChanges() {\n        this.exitOperandEdit();\n        this.grid.advancedFilteringExpressionsTree = this.createExpressionsTreeFromGroupItem(this.rootGroup);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public cancelChanges() {\n        if (!this._overlayComponentId) {\n            this.init();\n        }\n        this.closeDialog();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onApplyButtonClick() {\n        this.applyChanges();\n        this.closeDialog();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onChipSelectionEnd() {\n        const contextualGroup = this.findSingleSelectedGroup();\n        if (contextualGroup || this.selectedExpressions.length > 1) {\n            this.contextualGroup = contextualGroup;\n            this.calculateContextMenuTarget();\n            if (this.contextMenuToggle.collapsed) {\n                this.contextMenuToggle.open(this._overlaySettings);\n            } else {\n                this.contextMenuToggle.reposition();\n            }\n        }\n    }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n/**\n * @hidden\n * @internal\n */\n@Directive({\n    selector: '[igxRowSelector]'\n})\nexport class IgxRowSelectorDirective {\n    constructor(public templateRef: TemplateRef<any>) { }\n}\n\n/**\n * @hidden\n * @internal\n */\n@Directive({\n    selector: '[igxHeadSelector]'\n})\nexport class IgxHeadSelectorDirective {\n    constructor(public templateRef: TemplateRef<any>) { }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n\n/**\n * The IgxGridToolbarCustomContentDirective directive is used to mark an 'ng-template' (with\n * the 'igxToolbarCustomContent' selector) defined in the IgxGrid which is used to provide\n * custom content for cener part of the IgxGridToolbar.\n */\n@Directive({\n    selector: '[igxToolbarCustomContent]'\n})\nexport class IgxGridToolbarCustomContentDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n","import {\n    AfterContentInit,\n    Component,\n    ContentChildren,\n    ChangeDetectionStrategy,\n    Input,\n    forwardRef,\n    QueryList,\n    TemplateRef,\n    Output,\n    EventEmitter\n} from '@angular/core';\n\nimport { IgxColumnComponent } from './column.component';\nimport { IgxGridCellComponent } from '../cell.component';\nimport { flatten } from '../../core/utils';\n\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [{ provide: IgxColumnComponent, useExisting: forwardRef(() => IgxColumnGroupComponent) }],\n    selector: 'igx-column-group',\n    template: ``\n})\nexport class IgxColumnGroupComponent extends IgxColumnComponent implements AfterContentInit {\n\n    @ContentChildren(IgxColumnComponent, { read: IgxColumnComponent })\n    children = new QueryList<IgxColumnComponent>();\n\n    /**\n     * Set if the column group is collapsible.\n     * Default value is `false`\n     * ```html\n     *  <igx-column-group [collapsible] = \"true\"></igx-column-group>\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    public set collapsible(value: boolean) {\n        this._collapsible = value;\n        this.collapsibleChange.emit(this._collapsible);\n        if (this.children && !this.hidden) {\n            if (this._collapsible) {\n                this.setExpandCollapseState();\n            } else {\n                this.children.forEach(child => child.hidden = false);\n            }\n        }\n    }\n    public get collapsible() {\n        return this._collapsible && this.checkCollapsibleState();\n    }\n\n    /**\n     * Set whether the group is expanded or collapsed initially.\n     * Applied only if the collapsible property is set to `true`\n     * Default value is `true`\n     * ```html\n     *  const state = false\n     *  <igx-column-group [(expand)] = \"state\"></igx-column-group>\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    public set expanded(value: boolean) {\n        this._expanded = value;\n        this.expandedChange.emit(this._expanded);\n        if (!this.collapsible) { return; }\n        if (!this.hidden && this.children) {\n            this.setExpandCollapseState();\n        }\n    }\n    public get expanded() {\n        return this._expanded;\n    }\n\n    /**\n     * Gets the column group `summaries`.\n     * ```typescript\n     * let columnGroupSummaries = this.columnGroup.summaries;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    public get summaries(): any {\n        return this._summaries;\n    }\n    /**\n     * Sets the column group `summaries`.\n     * ```typescript\n     * this.columnGroup.summaries = IgxNumberSummaryOperand;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    public set summaries(classRef: any) { }\n    /**\n     * Sets/gets whether the column group is `searchable`.\n     * Default value is `true`.\n     * ```typescript\n     * let isSearchable =  this.columnGroup.searchable;\n     * ```\n     * ```html\n     *  <igx-column-group [searchable] = \"false\"></igx-column-group>\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    public searchable = true;\n    /**\n     * Gets the column group `filters`.\n     * ```typescript\n     * let columnGroupFilters = this.columnGroup.filters;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    public get filters(): any {\n        return this._filters;\n    }\n    /**\n     * Sets the column group `filters`.\n     * ```typescript\n     * this.columnGroup.filters = IgxStringFilteringOperand;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    public set filters(classRef: any) { }\n\n    /**\n     * Returns a reference to the body template.\n     * ```typescript\n     * let bodyTemplate = this.columnGroup.bodyTemplate;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get bodyTemplate(): TemplateRef<any> {\n        return this._bodyTemplate;\n    }\n    /**\n     * @hidden\n     */\n    set bodyTemplate(template: TemplateRef<any>) { }\n\n    /**\n     * Allows you to define a custom template for expand/collapse indicator\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    get collapsibleIndicatorTemplate(): TemplateRef<any> {\n        return this._collapseIndicatorTemplate;\n    }\n    set collapsibleIndicatorTemplate(template: TemplateRef<any>) {\n        this._collapseIndicatorTemplate = template;\n    }\n\n    /**\n     * Returns a reference to the inline editor template.\n     * ```typescript\n     * let inlineEditorTemplate = this.columnGroup.inlineEditorTemplate;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get inlineEditorTemplate(): TemplateRef<any> {\n        return this._inlineEditorTemplate;\n    }\n    /**\n     * @hidden\n     */\n    set inlineEditorTemplate(template: TemplateRef<any>) { }\n    /**\n     * Gets the column group cells.\n     * ```typescript\n     * let columnCells = this.columnGroup.cells;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get cells(): IgxGridCellComponent[] {\n        return [];\n    }\n    /**\n     * Gets whether the column group is hidden.\n     * ```typescript\n     * let isHidden = this.columnGroup.hidden;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    get hidden() {\n        return this.allChildren.every(c => c.hidden);\n    }\n    /**\n     * Sets the column group hidden property.\n     * ```html\n     * <igx-column [hidden] = \"true\"></igx-column>\n     * ```\n     *\n     * Two-way data binding\n     * ```html\n     * <igx-column [(hidden)] = \"model.columns[0].isHidden\"></igx-column>\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    set hidden(value: boolean) {\n        this._hidden = value;\n        this.hiddenChange.emit(this._hidden);\n        if (this._hidden || !this.collapsible) {\n            this.children.forEach(child => child.hidden = this._hidden);\n        } else {\n            this.children.forEach(c =>  {\n                if (c.visibleWhenCollapsed === undefined) {c.hidden = false; return; }\n                c.hidden = this.expanded ? c.visibleWhenCollapsed : !c.visibleWhenCollapsed;\n            });\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public hiddenChange = new EventEmitter<boolean>();\n\n    /**\n     *@hidden\n     */\n    ngAfterContentInit() {\n        /*\n            @ContentChildren with descendants still returns the `parent`\n            component in the query list.\n        */\n        if (this.headTemplate && this.headTemplate.length) {\n            this._headerTemplate = this.headTemplate.toArray()[0].template;\n        }\n        if (this.collapseIndicatorTemplate) {\n            this._collapseIndicatorTemplate = this.collapseIndicatorTemplate.template;\n        }\n        // currently only ivy fixes the issue, we have to slice only if the first child is group\n        if (this.children.first === this) {\n            this.children.reset(this.children.toArray().slice(1));\n        }\n        this.children.forEach(child => {\n            child.parent = this;\n        });\n        if (this.collapsible) {\n            this.setExpandCollapseState();\n        }\n    }\n\n    /**\n     * Returns the children columns collection.\n     * ```typescript\n     * let columns =  this.columnGroup.allChildren;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get allChildren(): IgxColumnComponent[] {\n        return flatten(this.children.toArray());\n    }\n    /**\n     * Returns a boolean indicating if the column is a `ColumnGroup`.\n     * ```typescript\n     * let isColumnGroup =  this.columnGroup.columnGroup\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get columnGroup() {\n        return true;\n    }\n    /**\n     * Returns a boolean indicating if the column is a `ColumnLayout` for multi-row layout.\n     * ```typescript\n     * let columnGroup =  this.column.columnGroup;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get columnLayout() {\n        return false;\n    }\n    /**\n     * Gets the width of the column group.\n     * ```typescript\n     * let columnGroupWidth = this.columnGroup.width;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get width() {\n        let isChildrenWidthInPercent = false, width;\n        width = `${this.children.reduce((acc, val) => {\n            if (val.hidden) {\n                return acc;\n            }\n            if (typeof val.width === 'string' && val.width.indexOf('%') !== -1) {\n                isChildrenWidthInPercent = true;\n                return acc + parseInt(val.width, 10);\n            }\n            return acc + parseInt(val.calcWidth, 10);\n        }, 0)}`;\n        return isChildrenWidthInPercent ? width + '%' : width + 'px';\n    }\n\n    set width(val) { }\n\n    // constructor(public gridAPI: GridBaseAPIService<IgxGridBaseDirective & IGridDataBindable>, public cdr: ChangeDetectorRef) {\n    //     // D.P. constructor duplication due to es6 compilation, might be obsolete in the future\n    //     super(gridAPI, cdr);\n    // }\n}\n","import { Directive, Input, OnDestroy, NgModule, TemplateRef } from '@angular/core';\nimport { IgxDragDirective } from '../directives/drag-drop/drag-drop.directive';\nimport { KEYS } from '../core/utils';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { IgxRowDirective, IgxGridBaseDirective } from './grid';\nimport { IRowDragStartEventArgs, IRowDragEndEventArgs } from './common/events';\nimport { GridType } from './common/grid.interface';\nimport { IgxHierarchicalRowComponent } from './hierarchical-grid/hierarchical-row.component';\n\n\nconst ghostBackgroundClass = 'igx-grid__tr--ghost';\nconst gridCellClass = 'igx-grid__td';\nconst rowSelectedClass = 'igx-grid__tr--selected';\nconst cellSelectedClass = 'igx-grid__td--selected';\nconst cellActiveClass = 'igx-grid__td--active';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxRowDrag]'\n})\nexport class IgxRowDragDirective extends IgxDragDirective implements OnDestroy {\n    private row: IgxRowDirective<IgxGridBaseDirective & GridType>;\n    private subscription$: Subscription;\n    private _rowDragStarted = false;\n\n    @Input('igxRowDrag')\n    set data(val) {\n        this.row = val;\n    }\n\n    get data() {\n        return this.row;\n    }\n\n    public onPointerDown(event) {\n        event.preventDefault();\n        this._rowDragStarted = false;\n        this._removeOnDestroy = false;\n        super.onPointerDown(event);\n    }\n\n    public onPointerMove(event) {\n        super.onPointerMove(event);\n        if (this._dragStarted && !this._rowDragStarted) {\n            this._rowDragStarted = true;\n            const args: IRowDragStartEventArgs = {\n                dragDirective: this,\n                dragData: this.row,\n                cancel: false,\n                owner: this.row.grid\n            };\n\n            this.row.grid.onRowDragStart.emit(args);\n            if (args.cancel) {\n                this.ghostElement.parentNode.removeChild(this.ghostElement);\n                this.ghostElement = null;\n                this._dragStarted = false;\n                this._clicked = false;\n                return;\n            }\n            this.row.dragging = true;\n            this.row.grid.rowDragging = true;\n            this.row.grid.markForCheck();\n\n            this.subscription$ = fromEvent(this.row.grid.document.defaultView, 'keydown').subscribe((ev: KeyboardEvent) => {\n                if (ev.key === KEYS.ESCAPE || ev.key === KEYS.ESCAPE_IE) {\n                    this._lastDropArea = false;\n                    this.onPointerUp(event);\n                }\n            });\n        }\n    }\n\n    public onPointerUp(event) {\n\n        if (!this._clicked) {\n            return;\n        }\n\n        const args: IRowDragEndEventArgs = {\n            dragDirective: this,\n            dragData: this.row,\n            animation: false,\n            owner: this.row.grid\n        };\n        this.zone.run(() => {\n            this.row.grid.onRowDragEnd.emit(args);\n        });\n\n        const dropArea = this._lastDropArea;\n        super.onPointerUp(event);\n        if (!dropArea && this.ghostElement) {\n            this.ghostElement.addEventListener('transitionend', this.transitionEndEvent, false);\n        }   else {\n            this.endDragging();\n        }\n    }\n\n    protected createGhost(pageX, pageY) {\n        this.row.grid.endEdit(true);\n        this.row.grid.markForCheck();\n        this.ghostContext = {\n            $implicit: this.row.rowData,\n            data: this.row.rowData,\n            grid: this.row.grid\n        };\n        super.createGhost(pageX, pageY, this.row.nativeElement);\n\n        // check if there is an expander icon and create the ghost at the corresponding position\n        if (this.isHierarchicalGrid) {\n            const row = this.row as IgxHierarchicalRowComponent;\n            if (row.expander) {\n                const expanderWidth = row.expander.nativeElement.getBoundingClientRect().width;\n                this._ghostHostX += expanderWidth;\n            }\n        }\n\n        const ghost = this.ghostElement;\n\n        const gridRect = this.row.grid.nativeElement.getBoundingClientRect();\n        const rowRect = this.row.nativeElement.getBoundingClientRect();\n        ghost.style.overflow = 'hidden';\n        ghost.style.width = gridRect.width + 'px';\n        ghost.style.height = rowRect.height + 'px';\n\n        this.renderer.addClass(ghost, ghostBackgroundClass);\n        this.renderer.removeClass(ghost, rowSelectedClass);\n\n        const ghostCells = ghost.getElementsByClassName(gridCellClass);\n        for (let index = 0; index < ghostCells.length; index++) {\n            this.renderer.removeClass(ghostCells[index], cellSelectedClass);\n            this.renderer.removeClass(ghostCells[index], cellActiveClass);\n        }\n    }\n\n    private _unsubscribe() {\n        if (this.subscription$ && !this.subscription$.closed) {\n            this.subscription$.unsubscribe();\n        }\n    }\n\n    private endDragging() {\n        this.onTransitionEnd(null);\n        this.row.dragging = false;\n        this.row.grid.rowDragging = false;\n        this.row.grid.markForCheck();\n        this._unsubscribe();\n    }\n\n    private transitionEndEvent = (evt?) => {\n        if (this.ghostElement) {\n            this.ghostElement.removeEventListener('transitionend', this.transitionEndEvent, false);\n        }\n        this.endDragging();\n    }\n\n    private get isHierarchicalGrid() {\n        return this.row.grid.nativeElement.tagName.toLowerCase() === 'igx-hierarchical-grid';\n    }\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxDragIndicatorIcon]'\n})\n\nexport class IgxDragIndicatorIconDirective {\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxRowDragGhost]'\n})\n\nexport class IgxRowDragGhostDirective  {\n    constructor(public templateRef: TemplateRef<any>) { }\n}\n\n@NgModule({\n    declarations: [IgxRowDragDirective, IgxDragIndicatorIconDirective, IgxRowDragGhostDirective],\n    entryComponents: [],\n    exports: [IgxRowDragDirective, IgxDragIndicatorIconDirective, IgxRowDragGhostDirective],\n    imports: []\n})\n\nexport class IgxRowDragModule {\n}\n","import { DOCUMENT } from '@angular/common';\nimport {\n    AfterContentInit,\n    AfterViewInit,\n    ChangeDetectorRef,\n    ComponentFactoryResolver,\n    ContentChildren,\n    ContentChild,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Inject,\n    Input,\n    IterableChangeRecord,\n    IterableDiffers,\n    NgZone,\n    OnDestroy,\n    OnInit,\n    Output,\n    QueryList,\n    TemplateRef,\n    ViewChild,\n    ViewChildren,\n    ViewContainerRef,\n    InjectionToken,\n    Optional,\n    DoCheck,\n    Directive\n} from '@angular/core';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { Subject, combineLatest, pipe } from 'rxjs';\nimport { takeUntil, first, filter, throttleTime, map } from 'rxjs/operators';\nimport { cloneArray, isEdge, isNavigationKey, flatten, mergeObjects, isIE } from '../core/utils';\nimport { DataType } from '../data-operations/data-util';\nimport { FilteringLogic, IFilteringExpression } from '../data-operations/filtering-expression.interface';\nimport { IGroupByRecord } from '../data-operations/groupby-record.interface';\nimport { ISortingExpression } from '../data-operations/sorting-expression.interface';\nimport { IForOfState, IgxGridForOfDirective } from '../directives/for-of/for_of.directive';\nimport { IgxTextHighlightDirective } from '../directives/text-highlight/text-highlight.directive';\nimport {\n    AbsoluteScrollStrategy,\n    HorizontalAlignment,\n    VerticalAlignment,\n    IgxOverlayService,\n    OverlaySettings,\n    PositionSettings,\n    ConnectedPositioningStrategy,\n    ContainerPositionStrategy\n} from '../services/index';\nimport { GridBaseAPIService } from './api.service';\nimport { IgxGridCellComponent } from './cell.component';\nimport { IColumnVisibilityChangedEventArgs } from './hiding/column-hiding-item.directive';\nimport { ISummaryExpression } from './summaries/grid-summary';\nimport { RowEditPositionStrategy } from './grid.common';\nimport { IgxGridToolbarComponent } from './toolbar/grid-toolbar.component';\nimport { IgxRowDirective } from './row.directive';\nimport { IgxGridHeaderComponent } from './headers/grid-header.component';\nimport { IgxOverlayOutletDirective, IgxToggleDirective } from '../directives/toggle/toggle.directive';\nimport {\n    FilteringExpressionsTree, IFilteringExpressionsTree, FilteringExpressionsTreeType\n} from '../data-operations/filtering-expressions-tree';\nimport { IFilteringOperation } from '../data-operations/filtering-condition';\nimport { Transaction, TransactionType, TransactionService, State } from '../services/index';\nimport {\n    IgxRowEditTemplateDirective,\n    IgxRowEditTabStopDirective,\n    IgxRowEditTextDirective,\n    IgxRowEditActionsDirective\n} from './grid.rowEdit.directive';\nimport { IgxGridNavigationService } from './grid-navigation.service';\nimport { IDisplayDensityOptions, DisplayDensityToken, DisplayDensityBase, DisplayDensity } from '../core/displayDensity';\nimport { IgxGridRowComponent } from './grid';\nimport { IgxFilteringService } from './filtering/grid-filtering.service';\nimport { IgxGridFilteringCellComponent } from './filtering/base/grid-filtering-cell.component';\nimport { WatchChanges } from './watch-changes';\nimport { IgxGridHeaderGroupComponent } from './headers/grid-header-group.component';\nimport { IGridResourceStrings } from '../core/i18n/grid-resources';\nimport { CurrentResourceStrings } from '../core/i18n/resources';\nimport { IgxGridSummaryService } from './summaries/grid-summary.service';\nimport { IgxSummaryRowComponent } from './summaries/summary-row.component';\nimport {\n    IgxGridSelectionService,\n    GridSelectionRange,\n    IgxGridCRUDService,\n    IgxRow,\n    IgxCell,\n    isChromium\n} from './selection/selection.service';\nimport { DragScrollDirection } from './selection/drag-select.directive';\nimport { ICachedViewLoadedEventArgs, IgxTemplateOutletDirective } from '../directives/template-outlet/template_outlet.directive';\nimport { IgxExcelStyleLoadingValuesTemplateDirective } from './filtering/excel-style/excel-style-search.component';\nimport {\n    IgxExcelStyleSortingTemplateDirective,\n    IgxExcelStylePinningTemplateDirective,\n    IgxExcelStyleHidingTemplateDirective,\n    IgxExcelStyleMovingTemplateDirective\n} from './filtering/excel-style/grid.excel-style-filtering.component';\nimport { IgxGridColumnResizerComponent } from './resizing/resizer.component';\nimport { IgxGridFilteringRowComponent } from './filtering/base/grid-filtering-row.component';\nimport { CharSeparatedValueData } from '../services/csv/char-separated-value-data';\nimport { IgxColumnResizingService } from './resizing/resizing.service';\nimport { DeprecateProperty } from '../core/deprecateDecorators';\nimport { IFilteringStrategy } from '../data-operations/filtering-strategy';\nimport { IgxRowExpandedIndicatorDirective, IgxRowCollapsedIndicatorDirective,\n     IgxHeaderExpandIndicatorDirective, IgxHeaderCollapseIndicatorDirective } from './grid/grid.directives';\nimport { GridKeydownTargetType, GridSelectionMode, GridSummaryPosition, GridSummaryCalculationMode, FilterMode } from './common/enums';\nimport {\n    IGridCellEventArgs,\n    IRowSelectionEventArgs,\n    IPinColumnEventArgs,\n    IGridEditEventArgs,\n    IPageEventArgs,\n    IRowDataEventArgs,\n    IColumnResizeEventArgs,\n    IColumnMovingStartEventArgs,\n    IColumnMovingEventArgs,\n    IColumnMovingEndEventArgs,\n    IGridKeydownEventArgs,\n    IRowDragStartEventArgs,\n    IRowDragEndEventArgs,\n    IGridClipboardEvent,\n    IGridToolbarExportEventArgs,\n    ISearchInfo,\n    ICellPosition,\n    IRowToggleEventArgs\n} from './common/events';\nimport { IgxAdvancedFilteringDialogComponent } from './filtering/advanced-filtering/advanced-filtering-dialog.component';\nimport { GridType } from './common/grid.interface';\nimport { IgxDecimalPipeComponent, IgxDatePipeComponent } from './common/pipes';\nimport { DropPosition } from './moving/moving.service';\nimport { IgxHeadSelectorDirective, IgxRowSelectorDirective } from './selection/row-selectors';\nimport { IgxGridToolbarCustomContentDirective } from './toolbar/toolbar.directive';\nimport { IgxColumnComponent } from './columns/column.component';\nimport { IgxColumnGroupComponent } from './columns/column-group.component';\nimport { IGridSortingStrategy } from '../data-operations/sorting-strategy';\nimport { IgxRowDragGhostDirective, IgxDragIndicatorIconDirective  } from './row-drag.directive';\n\nconst MINIMUM_COLUMN_WIDTH = 136;\nconst FILTER_ROW_HEIGHT = 50;\n\n// By default row editing overlay outlet is inside grid body so that overlay is hidden below grid header when scrolling.\n// In cases when grid has 1-2 rows there isn't enough space in grid body and row editing overlay should be shown above header.\n// Default row editing overlay height is higher then row height that is why the case is valid also for row with 2 rows.\n// More accurate calculation is not possible, cause row editing overlay is still not shown and we don't know its height,\n// but in the same time we need to set row editing overlay outlet before opening the overlay itself.\nconst MIN_ROW_EDITING_COUNT_THRESHOLD = 2;\n\nexport const IgxGridTransaction = new InjectionToken<string>('IgxGridTransaction');\n\n\n\n@Directive({\n    selector: '[igxGridBaseComponent]'\n})\nexport class IgxGridBaseDirective extends DisplayDensityBase implements\n    OnInit, DoCheck, OnDestroy, AfterContentInit, AfterViewInit {\n    private _scrollWidth: number;\n    private _customDragIndicatorIconTemplate: TemplateRef<any>;\n    protected _init = true;\n    private _cdrRequests = false;\n    protected _cdrRequestRepaint = false;\n\n    public get scrollWidth() {\n        return this._scrollWidth;\n    }\n\n    private _resourceStrings = CurrentResourceStrings.GridResStrings;\n    private _emptyGridMessage = null;\n    private _emptyFilteredGridMessage = null;\n    private _isLoading = false;\n    private _locale = null;\n    public _destroyed = false;\n    private overlayIDs = [];\n    private _filteringStrategy: IFilteringStrategy;\n    private _sortingStrategy: IGridSortingStrategy;\n\n    private _hostWidth;\n    private _advancedFilteringOverlayId: string;\n    private _advancedFilteringPositionSettings: PositionSettings = {\n        verticalDirection: VerticalAlignment.Middle,\n        horizontalDirection: HorizontalAlignment.Center,\n        horizontalStartPoint: HorizontalAlignment.Center,\n        verticalStartPoint: VerticalAlignment.Middle\n    };\n\n    private _advancedFilteringOverlaySettings: OverlaySettings = {\n        closeOnOutsideClick: false,\n        modal: false,\n        positionStrategy: new ConnectedPositioningStrategy(this._advancedFilteringPositionSettings),\n    };\n\n\n    /**\n    * @hidden @internal\n    */\n    @ViewChild('defaultExpandedTemplate', { read: TemplateRef, static: true })\n    protected defaultExpandedTemplate: TemplateRef<any>;\n\n    /**\n    * @hidden @internal\n    */\n    @ViewChild('defaultCollapsedTemplate', { read: TemplateRef, static: true })\n    protected defaultCollapsedTemplate: TemplateRef<any>;\n\n\n    /**\n     * Gets/Sets the resource strings.\n     * @remarks\n     * By default it uses EN resources.\n    */\n    @Input()\n    set resourceStrings(value: IGridResourceStrings) {\n        this._resourceStrings = Object.assign({}, this._resourceStrings, value);\n    }\n\n    get resourceStrings(): IGridResourceStrings {\n        return this._resourceStrings;\n    }\n\n    /**\n     * Gets/Sets whether to autogenerate the columns.\n     * @remarks\n     * The default value is false. When set to true, it will override all columns declared through code or in markup.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"Data\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public autoGenerate = false;\n\n    /**\n    * @hidden @internal\n    */\n    public id: string;\n\n    /**\n     * Gets/Sets a custom template when empty.\n     * @example\n     * ```html\n     * <igx-grid [id]=\"'igx-grid-1'\" [data]=\"Data\" [emptyGridTemplate]=\"myTemplate\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public emptyGridTemplate: TemplateRef<any>;\n\n    /**\n     * Gets/Sets a custom template when loading.\n     * @example\n     * ```html\n     * <igx-grid [id]=\"'igx-grid-1'\" [data]=\"Data\" [loadingGridTemplate]=\"myTemplate\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public loadingGridTemplate: TemplateRef<any>;\n\n\n    /**\n     * Gets/Sets the filtering logic of the `IgxGridComponent`.\n     * @remarks\n     * The default is AND.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"Data\" [autoGenerate]=\"true\" [filteringLogic]=\"filtering\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get filteringLogic() {\n        return this._filteringExpressionsTree.operator;\n    }\n\n    public set filteringLogic(value: FilteringLogic) {\n        this._filteringExpressionsTree.operator = value;\n    }\n\n    /**\n     * Gets/Sets the filtering state.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [autoGenerate]=\"true\" [(filteringExpressionsTree)]=\"model.filteringExpressions\"></igx-grid>\n     * ```\n     * @remarks\n     * Supports two-way binding.\n     */\n    @WatchChanges()\n    @Input()\n    get filteringExpressionsTree() {\n        return this._filteringExpressionsTree;\n    }\n\n    set filteringExpressionsTree(value) {\n        if (value && value instanceof FilteringExpressionsTree) {\n            const val = (value as FilteringExpressionsTree);\n            for (let index = 0; index < val.filteringOperands.length; index++) {\n                if (!(val.filteringOperands[index] instanceof FilteringExpressionsTree)) {\n                    const newExpressionsTree = new FilteringExpressionsTree(FilteringLogic.And, val.filteringOperands[index].fieldName);\n                    newExpressionsTree.filteringOperands.push(val.filteringOperands[index] as IFilteringExpression);\n                    val.filteringOperands[index] = newExpressionsTree;\n                }\n            }\n\n            value.type = FilteringExpressionsTreeType.Regular;\n            this._filteringExpressionsTree = value;\n            this._filteringPipeTrigger++;\n            this.filteringExpressionsTreeChange.emit(this._filteringExpressionsTree);\n\n            if (this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree) &&\n                !this.advancedFilteringExpressionsTree) {\n                this.filteredData = null;\n            }\n\n            this.filteringService.refreshExpressions();\n            this.selectionService.clearHeaderCBState();\n            this.summaryService.clearSummaryCache();\n            this.notifyChanges();\n        }\n    }\n\n    /**\n     * Emitted after filtering is performed.\n     * @remarks\n     * Returns the filtering expressions tree of the column for which filtering was performed.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [height]=\"'305px'\" [autoGenerate]=\"true\"\n     *              (filteringExpressionsTreeChange)=\"filteringExprTreeChange($event)\"></igx-grid>\n     * ```\n    */\n    @Output()\n    public filteringExpressionsTreeChange = new EventEmitter<IFilteringExpressionsTree>();\n\n    /**\n     * Emitted after advanced filtering is performed.\n     * @remarks\n     * Returns the advanced filtering expressions tree.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [height]=\"'305px'\" [autoGenerate]=\"true\"\n     *           (advancedFilteringExpressionsTreeChange)=\"advancedFilteringExprTreeChange($event)\"></igx-grid>\n     * ```\n    */\n    @Output()\n    public advancedFilteringExpressionsTreeChange = new EventEmitter<IFilteringExpressionsTree>();\n\n    /**\n     * Gets/Sets the advanced filtering state.\n     * @example\n     * ```typescript\n     * let advancedFilteringExpressionsTree = this.grid.advancedFilteringExpressionsTree;\n     * this.grid.advancedFilteringExpressionsTree = logic;\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    get advancedFilteringExpressionsTree() {\n        return this._advancedFilteringExpressionsTree;\n    }\n\n    set advancedFilteringExpressionsTree(value) {\n        if (value && value instanceof FilteringExpressionsTree) {\n            value.type = FilteringExpressionsTreeType.Advanced;\n            this._advancedFilteringExpressionsTree = value;\n            this._filteringPipeTrigger++;\n        } else {\n            this._advancedFilteringExpressionsTree = null;\n        }\n        this.advancedFilteringExpressionsTreeChange.emit(this._advancedFilteringExpressionsTree);\n\n        if (this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree) &&\n            !this.advancedFilteringExpressionsTree) {\n            this.filteredData = null;\n        }\n\n        this.selectionService.clearHeaderCBState();\n        this.summaryService.clearSummaryCache();\n        this.notifyChanges();\n\n        // Wait for the change detection to update filtered data through the pipes and then emit the event.\n        requestAnimationFrame(() => this.onFilteringDone.emit(this._advancedFilteringExpressionsTree));\n    }\n\n    /**\n     * Gets/Sets the locale.\n     * @remarks\n     * If not set, returns browser's language.\n     */\n    @Input()\n    get locale(): string {\n        if (this._locale) {\n            return this._locale;\n        } else {\n            return 'en';\n        }\n    }\n\n    set locale(value) {\n        this._locale = value;\n    }\n\n    /**\n     * Gets/Sets whether the paging feature is enabled.\n     * @remarks\n     * The default state is disabled (false).\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [autoGenerate]=\"true\" [paging]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get paging(): boolean {\n        return this._paging;\n    }\n\n    set paging(value: boolean) {\n        this._paging = value;\n        this._pipeTrigger++;\n        this.notifyChanges(true);\n    }\n\n    /**\n     * Gets/Sets the current page index.\n    *@example\n    * ```html\n     * <igx-grid #grid [data]=\"Data\" [paging]=\"true\" [(page)]=\"model.page\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     * @remarks\n     * Supports two-way binding.\n     */\n    @Input()\n    get page(): number {\n        return this._page;\n    }\n\n    set page(val: number) {\n        if (val === this._page || val < 0 || val > this.totalPages - 1) {\n            return;\n        }\n        this.selectionService.clear(true);\n        this.onPagingDone.emit({ previous: this._page, current: val });\n        this._page = val;\n        this.pageChange.emit(this._page);\n        this.navigateTo(0);\n        this.notifyChanges();\n    }\n\n    /**\n     *@hidden @internal\n     */\n    @Output()\n    public pageChange = new EventEmitter<number>();\n\n    /**\n     * Gets/Sets the number of visible items per page.\n     * @remarks\n     * The default is 15.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [paging]=\"true\" [(perPage)]=\"model.perPage\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get perPage(): number {\n        return this._perPage;\n    }\n\n    set perPage(val: number) {\n        if (val < 0) {\n            return;\n        }\n        this.selectionService.clear(true);\n        this._perPage = val;\n        this.perPageChange.emit(this._perPage);\n        this.page = 0;\n        this.endEdit(true);\n        this.notifyChanges();\n    }\n\n    /**\n     *@hidden @internal\n     */\n    @Output()\n    public perPageChange = new EventEmitter<number>();\n\n    /**\n     * Gets/Sets a custom `ng-template` for the pagination UI of the grid.\n     * @example\n     * ```html\n     * <igx-grid #grid [paging]=\"true\" [myTemplate]=\"myTemplate\" [height]=\"'305px'\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public paginationTemplate: TemplateRef<any>;\n\n    /**\n     * Gets/Sets whether the column hiding UI is enabled.\n     * @remarks\n     * By default it is disabled (false). In order for the UI to work, you need to enable the toolbar as shown in the example below.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"Data\" [autoGenerate]=\"true\" [showToolbar]=\"true\" [columnHiding]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get columnHiding() {\n        return this._columnHiding;\n    }\n\n    set columnHiding(value) {\n        if (this._columnHiding !== value) {\n            this._columnHiding = value;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    @DeprecateProperty('rowSelectable property is deprecated. Use rowSelection property instead.')\n    @WatchChanges()\n    @Input()\n    get rowSelectable(): boolean {\n        return this.isRowSelectable;\n    }\n\n    set rowSelectable(val: boolean) {\n        this.rowSelection = val ? GridSelectionMode.multiple : GridSelectionMode.none;\n    }\n\n    /**\n     * Gets/Sets if the row selectors are hidden.\n     * @remarks\n     *  By default row selectors are shown\n    */\n    @WatchChanges()\n    @Input()\n    get hideRowSelectors() {\n        return this._hideRowSelectors;\n    }\n\n    set hideRowSelectors(value: boolean) {\n        this._hideRowSelectors = value;\n        this.notifyChanges(true);\n    }\n\n    /**\n     * Gets/Sets whether rows can be moved.\n     * @example\n     * ```html\n     * <igx-grid #grid [rowDraggable]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get rowDraggable(): boolean {\n        return this._rowDrag && this.hasVisibleColumns;\n    }\n\n\n    set rowDraggable(val: boolean) {\n        this._rowDrag = val;\n        this.notifyChanges(true);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public rowDragging = false;\n\n\n    /**\n    * Gets/Sets whether the rows are editable.\n    * @remarks\n    * By default it is set to false.\n    * @example\n    * ```html\n    * <igx-grid #grid [showToolbar]=\"true\" [rowEditable]=\"true\" [primaryKey]=\"'ProductID'\" [columnHiding]=\"true\"></igx-grid>\n    * ```\n    */\n    @WatchChanges()\n    @Input()\n    get rowEditable(): boolean {\n        return this._rowEditable;\n    }\n\n    set rowEditable(val: boolean) {\n        if (!this._init) {\n            this.refreshGridState();\n        }\n        this._rowEditable = val;\n        this.notifyChanges();\n    }\n\n    /**\n     * Gets/Sets the height.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @HostBinding('style.height')\n    @Input()\n    public get height() {\n        return this._height;\n    }\n\n    public set height(value: string) {\n        if (this._height !== value) {\n            this._height = value;\n            this.nativeElement.style.height = value;\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     * @hidden @internal\n    */\n    @HostBinding('style.width')\n    get hostWidth() {\n        return this._width || this._hostWidth;\n    }\n    /**\n     * Gets/Sets the width of the grid.\n     * @example\n     * ```typescript\n     * let gridWidth = this.grid.width;\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    get width() {\n        return this._width;\n    }\n\n    set width(value) {\n        if (this._width !== value) {\n            this._width = value;\n            this.nativeElement.style.width = value;\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     * Gets the width of the header.\n     * @example\n     * ```html\n     * let gridHeaderWidth = this.grid.headerWidth;\n     * ```\n     */\n    get headerWidth() {\n        return parseInt(this.width, 10) - 17;\n    }\n\n    /**\n     * Gets/Sets the styling classes applied to all even `IgxGridRowComponent`s in the grid.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [evenRowCSS]=\"'igx-grid--my-even-class'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public evenRowCSS = 'igx-grid__tr--even';\n\n    /**\n     * Gets/Sets the styling classes applied to all odd `IgxGridRowComponent`s in the grid.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [evenRowCSS]=\"'igx-grid--my-odd-class'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public oddRowCSS = 'igx-grid__tr--odd';\n\n    /**\n     * Gets/Sets the row height.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [showToolbar]=\"true\" [rowHeight]=\"100\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get rowHeight() {\n        return this._rowHeight ? this._rowHeight : this.defaultRowHeight;\n    }\n\n    public set rowHeight(value) {\n        this._rowHeight = parseInt(value, 10);\n    }\n\n    /**\n     * Gets/Sets the default width of the columns.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [showToolbar]=\"true\" [columnWidth]=\"100\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get columnWidth(): string {\n        return this._columnWidth;\n    }\n    public set columnWidth(value: string) {\n        this._columnWidth = value;\n        this.columnWidthSetByUser = true;\n        this.notifyChanges(true);\n    }\n\n    /**\n     * Gets/Sets the primary key.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [showToolbar]=\"true\" [primaryKey]=\"'ProductID'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public primaryKey;\n\n    /**\n     * Get/Sets the message displayed when there are no records.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [emptyGridMessage]=\"'The grid is empty'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    set emptyGridMessage(value: string) {\n        this._emptyGridMessage = value;\n    }\n    get emptyGridMessage(): string {\n        return this._emptyGridMessage || this.resourceStrings.igx_grid_emptyGrid_message;\n    }\n\n    /**\n     * Gets/Sets whether the grid is going to show a loading indicator.\n     *@example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [isLoading]=\"true\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    set isLoading(value: boolean) {\n        if (this._isLoading !== value) {\n            this._isLoading = value;\n            this.evaluateLoadingState();\n        }\n        Promise.resolve().then(() => {\n            // wait for the current detection cycle to end before triggering a new one.\n            this.notifyChanges();\n        });\n    }\n\n    get isLoading(): boolean {\n        return this._isLoading;\n    }\n\n    /**\n     * Gets/Sets whether the columns should be auto-generated once again after the initialization of the grid\n     * @remarks\n     * This will allow to bind the grid to remote data and having auto-generated columns at the same time.\n     * Note that after generating the columns, this property would be disabled to avoid re-creating\n     * columns each time a new data is assigned.\n     * @example\n     * ```typescript\n     *  this.grid.shouldGenerate = true;\n     * ```\n     */\n    public shouldGenerate: boolean;\n\n    /**\n     * Gets/Sets the message displayed when there are no records and the grid is filtered.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [emptyGridMessage]=\"'The grid is empty'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    set emptyFilteredGridMessage(value: string) {\n        this._emptyFilteredGridMessage = value;\n    }\n\n    get emptyFilteredGridMessage(): string {\n        return this._emptyFilteredGridMessage || this.resourceStrings.igx_grid_emptyFilteredGrid_message;\n    }\n\n    /**\n     * Gets/Sets the title to be displayed in the built-in column hiding UI.\n     * @example\n     * ```html\n     * <igx-grid [showToolbar]=\"true\" [columnHiding]=\"true\" columnHidingTitle=\"Column Hiding\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public columnHidingTitle = '';\n\n    /**\n     * Gets/Sets if the built-in column pinning UI should be shown in the toolbar.\n     * @example\n    * ```html\n     * <igx-grid #grid [data]=\"localData\" [columnPinning]=\"'true\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    get columnPinning() {\n        return this._columnPinning;\n    }\n    set columnPinning(value) {\n        if (this._columnPinning !== value) {\n            this._columnPinning = value;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets the title to be displayed in the UI of the column pinning.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [columnPinning]=\"'true\" [columnPinningTitle]=\"'Column Hiding'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public columnPinningTitle = '';\n\n    /**\n     * Gets/Sets if the filtering is enabled.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [allowFiltering]=\"true\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get allowFiltering() {\n        return this._allowFiltering;\n    }\n\n    set allowFiltering(value) {\n        if (this._allowFiltering !== value) {\n            this._allowFiltering = value;\n            this.filteringService.registerSVGIcons();\n\n            if (!this._init) {\n                this.calcGridHeadRow();\n            }\n\n            this.filteringService.isFilterRowVisible = false;\n            this.filteringService.filteredColumn = null;\n\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     * Gets/Sets a value indicating whether the advanced filtering is enabled.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [allowAdvancedFiltering]=\"true\" [showToolbar]=\"true\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get allowAdvancedFiltering() {\n        return this._allowAdvancedFiltering;\n    }\n\n    set allowAdvancedFiltering(value) {\n        if (this._allowAdvancedFiltering !== value) {\n            this._allowAdvancedFiltering = value;\n            this.filteringService.registerSVGIcons();\n\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets the filter mode.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [filterMode]=\"'quickFilter'\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     * @remarks\n     * By default it's set to FilterMode.quickFilter.\n     */\n    @Input()\n    get filterMode() {\n        return this._filterMode;\n    }\n\n    set filterMode(value) {\n        this._filterMode = value;\n\n        if (this.filteringService.isFilterRowVisible) {\n            this.filteringRow.close();\n        }\n        this.notifyChanges(true);\n    }\n\n    /**\n     * Gets/Sets the summary position.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" summaryPosition=\"top\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     * @remarks\n     * By default it is bottom.\n     */\n    @Input()\n    get summaryPosition() {\n        return this._summaryPosition;\n    }\n\n    set summaryPosition(value) {\n        this._summaryPosition = value;\n        this.notifyChanges();\n    }\n\n    /**\n     * Gets/Sets the summary calculation mode.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" summaryCalculationMode=\"rootLevelOnly\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     * @remarks\n     * By default it is rootAndChildLevels which means the summaries are calculated for the root level and each child level.\n     */\n    @Input()\n    get summaryCalculationMode() {\n        return this._summaryCalculationMode;\n    }\n\n    set summaryCalculationMode(value) {\n        this._summaryCalculationMode = value;\n        if (!this._init) {\n            this.endEdit(true);\n            this.summaryService.resetSummaryHeight();\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     * Gets/Sets the filtering strategy of the grid.\n     * @example\n     * ```html\n     *  <igx-grid #grid [data]=\"localData\" [filterStrategy]=\"filterStrategy\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get filterStrategy(): IFilteringStrategy {\n        return this._filteringStrategy;\n    }\n\n    set filterStrategy(classRef: IFilteringStrategy) {\n        this._filteringStrategy = classRef;\n    }\n\n    /**\n     * Gets/Sets the sorting strategy of the grid.\n     * @example\n     * ```html\n     *  <igx-grid #grid [data]=\"localData\" [sortStrategy]=\"sortStrategy\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get sortStrategy(): IGridSortingStrategy {\n        return this._sortingStrategy;\n    }\n\n    set sortStrategy(value: IGridSortingStrategy) {\n        this._sortingStrategy = value;\n    }\n\n    /**\n     * Gets/Sets a unique values strategy used by the Excel Style Filtering\n     * @remarks\n     * Provides a callback for loading unique column values on demand.\n     * If this property is provided, the unique values it generates will be used by the Excel Style Filtering.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"localData\" [filterMode]=\"'excelStyleFilter'\" [uniqueColumnValuesStrategy]=\"columnValuesStrategy\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public uniqueColumnValuesStrategy: (column: IgxColumnComponent,\n                                        filteringExpressionsTree: IFilteringExpressionsTree,\n                                        done: (values: any[]) => void) => void;\n\n    /**\n     * Emitted when `IgxGridCellComponent` is clicked.\n     * @remarks\n     * Returns the `IgxGridCellComponent`.\n     * @example\n     * ```html\n     * <igx-grid #grid (onCellClick)=\"onCellClick($event)\" [data]=\"localData\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onCellClick = new EventEmitter<IGridCellEventArgs>();\n\n    /**\n     * Emitted when `IgxGridCellComponent` is selected.\n     * @remarks\n     *  Returns the `IgxGridCellComponent`.\n     * @example\n     * ```html\n     * <igx-grid #grid (onSelection)=\"onCellSelect($event)\" [data]=\"localData\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onSelection = new EventEmitter<IGridCellEventArgs>();\n\n    /**\n     *  Emitted when `IgxGridRowComponent` is selected.\n     * @example\n     * ```html\n     * <igx-grid #grid (onRowSelectionChange)=\"onCellClickChange($event)\" [data]=\"localData\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowSelectionChange = new EventEmitter<IRowSelectionEventArgs>();\n\n    /**\n     * Emitted when `IgxColumnComponent` is pinned.\n     * @remarks\n     * The index that the column is inserted at may be changed through the `insertAtIndex` property.\n     * @example\n     * ```typescript\n     * public columnPinning(event) {\n     *     if (event.column.field === \"Name\") {\n     *       event.insertAtIndex = 0;\n     *     }\n     * }\n     * ```\n     */\n    @Output()\n    public onColumnPinning = new EventEmitter<IPinColumnEventArgs>();\n\n    /**\n     * Emitted when editing and **not** submitting the value.\n     * @remarks\n     * (e.g. `Esc` key was pressed)\n     * This event is cancelable.\n     *@example\n     * ```html\n     * <igx-grid #grid3 (onCellEditCancel)=\"editCancel($event)\" [data]=\"data\" [primaryKey]=\"'ProductID'\">\n     * </igx-grid>\n     * ```\n     */\n    @Output()\n    public onCellEditCancel = new EventEmitter<IGridEditEventArgs>();\n\n    /**\n     * Emitted when cell enters edit mode.\n     * @remarks\n     * This event is cancelable.\n     *@example\n     * ```html\n     * <igx-grid #grid3 (onCellEditEnter)=\"editStart($event)\" [data]=\"data\" [primaryKey]=\"'ProductID'\">\n     * </igx-grid>\n     * ```\n     */\n    @Output()\n    public onCellEditEnter = new EventEmitter<IGridEditEventArgs>();\n\n    /**\n     * Emitted when cell has been edited.\n     * @remarks\n     * Event is fired after editing is completed, when the cell is exiting edit mode.\n     * This event is cancelable.\n     * @example\n     * ```html\n     * <igx-grid #grid3 (onCellEdit)=\"editDone($event)\" [data]=\"data\" [primaryKey]=\"'ProductID'\">\n     * </igx-grid>\n     * ```\n     */\n    @Output()\n    public onCellEdit = new EventEmitter<IGridEditEventArgs>();\n\n    /**\n     * Emitted when a row enters edit mode.\n     * @remarks\n     * Emitted when [rowEditable]=\"true\".\n     * This event is cancelable.\n     *@example\n     * ```html\n     * <igx-grid #grid3 (onRowEditEnter)=\"editStart($event)\" [primaryKey]=\"'ProductID'\" [rowEditable]=\"true\">\n     * </igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowEditEnter = new EventEmitter<IGridEditEventArgs>();\n\n    /**\n     * Emitted when exiting edit mode for a row.\n     * @remarks\n     * Emitted when [rowEditable]=\"true\" & `endEdit(true)` is called.\n     * Emitted when changing rows during edit mode, selecting an un-editable cell in the edited row,\n     * performing paging operation, column resizing, pinning, moving or hitting  `Done`\n     * button inside of the rowEditingOverlay, or hitting the `Enter` key while editing a cell.\n     * This event is cancelable.\n     *@example\n     * ```html\n     * <igx-grid #grid3 (onRowEdit)=\"editDone($event)\" [data]=\"data\" [primaryKey]=\"'ProductID'\" [rowEditable]=\"true\">\n     * </igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowEdit = new EventEmitter<IGridEditEventArgs>();\n\n    /**\n     * Emitted when row editing is canceled.\n     * @remarks\n     * Emits when [rowEditable]=\"true\" & `endEdit(false)` is called.\n     * Emitted when changing hitting `Esc` key during cell editing and when click on the `Cancel` button\n     * in the row editing overlay.\n     * This event is cancelable.\n     *@example\n     * ```html\n     * <igx-grid #grid3 (onRowEditCancel)=\"editCancel($event)\" [data]=\"data\" [primaryKey]=\"'ProductID'\" [rowEditable]=\"true\">\n     * </igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowEditCancel = new EventEmitter<IGridEditEventArgs>();\n\n    /**\n     * Emitted when a column is initialized.\n     * @remarks\n     * Returns the column object.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [onColumnInit]=\"initColumns($event)\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onColumnInit = new EventEmitter<IgxColumnComponent>();\n\n    /**\n     * Emitted when sorting is performed through the UI.\n     * @remarks\n     * Returns the sorting expression.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [autoGenerate]=\"true\" (onSortingDone)=\"sortingDone($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onSortingDone = new EventEmitter<ISortingExpression | Array<ISortingExpression>>();\n\n    /**\n     * Emitted when filtering is performed through the UI.\n     * @remarks\n     * Returns the filtering expressions tree of the column for which filtering was performed.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [height]=\"'305px'\" [autoGenerate]=\"true\" (onFilteringDone)=\"filteringDone($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onFilteringDone = new EventEmitter<IFilteringExpressionsTree>();\n\n    /**\n     * Emitted when paging is performed.\n     * @remarks\n     * Returns an object consisting of the previous and next pages.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [height]=\"'305px'\" [autoGenerate]=\"true\" (onPagingDone)=\"pagingDone($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onPagingDone = new EventEmitter<IPageEventArgs>();\n\n    /**\n     * Emitted when a row added through the API.\n     * @remarks\n     * Returns the data for the new `IgxGridRowComponent` object.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" (onRowAdded)=\"rowAdded($event)\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowAdded = new EventEmitter<IRowDataEventArgs>();\n\n    /**\n     * Emitted when a row is deleted through API.\n     * @remarks\n     * Returns an `IRowDataEventArgs` object.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" (onRowDeleted)=\"rowDeleted($event)\" [height]=\"'305px'\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowDeleted = new EventEmitter<IRowDataEventArgs>();\n\n    /**\n     * Emitted when a new chunk of data is loaded from virtualization.\n     * @example\n     * ```typescript\n     *  <igx-grid #grid [data]=\"localData\" [autoGenerate]=\"true\" (onDataPreLoad)='handleDataPreloadEvent()'></igx-grid>\n     * ```\n     */\n    @Output()\n    public onDataPreLoad = new EventEmitter<IForOfState>();\n\n    /**\n     * Emitted when column is resized.\n     * @remarks\n     * Returns the `IgxColumnComponent` object's old and new width.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" (onColumnResized)=\"resizing($event)\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onColumnResized = new EventEmitter<IColumnResizeEventArgs>();\n\n    /**\n     * Emitted when a cell is right clicked.\n     * @remarks\n     * Returns the `IgxGridCellComponent` object.\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" (onContextMenu)=\"contextMenu($event)\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onContextMenu = new EventEmitter<IGridCellEventArgs>();\n\n    /**\n     * Emitted when a cell is double clicked.\n     * @remarks\n     * Returns the `IgxGridCellComponent` object.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" (onDoubleClick)=\"dblClick($event)\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onDoubleClick = new EventEmitter<IGridCellEventArgs>();\n\n    /**\n     * Emitted when column visibility is changed.\n     * @remarks\n     * Args: { column: any, newValue: boolean }\n     * @example\n     * ```html\n     * <igx-grid [columnHiding]=\"true\" [showToolbar]=\"true\" (onColumnVisibilityChanged)=\"visibilityChanged($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onColumnVisibilityChanged = new EventEmitter<IColumnVisibilityChangedEventArgs>();\n\n    /**\n     * Emitted when column moving starts.\n     * @remarks\n     * Returns the moved `IgxColumnComponent` object.\n     * @example\n     * ```html\n     * <igx-grid [columnHiding]=\"true\" [showToolbar]=\"true\" (onColumnMovingStart)=\"movingStart($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onColumnMovingStart = new EventEmitter<IColumnMovingStartEventArgs>();\n\n    /**\n     * Emitted during the column moving operation.\n     * @remarks\n     * Returns the source and target `IgxColumnComponent` objects. This event is cancelable.\n     * @example\n     * ```html\n     * <igx-grid [columnHiding]=\"true\" [showToolbar]=\"true\" (onColumnMoving)=\"moving($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onColumnMoving = new EventEmitter<IColumnMovingEventArgs>();\n\n    /**\n     * Emitted when column moving ends.\n     * @remarks\n     * Returns the source and target `IgxColumnComponent` objects.\n     * @example\n     * ```html\n     * <igx-grid [columnHiding]=\"true\" [showToolbar]=\"true\" (onColumnMovingEnd)=\"movingEnds($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onColumnMovingEnd = new EventEmitter<IColumnMovingEndEventArgs>();\n\n    /**\n     * Emitted when keydown is triggered over element inside grid's body.\n     * @remarks\n     * This event is fired only if the key combination is supported in the grid.\n     * Return the target type, target object and the original event. This event is cancelable.\n     * @example\n     * ```html\n     *  <igx-grid (onGridKeydown)=\"customKeydown($event)\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onGridKeydown = new EventEmitter<IGridKeydownEventArgs>();\n\n    /**\n     * Emitted when start dragging a row.\n     * @remarks\n     * Return the dragged row.\n     */\n    @Output()\n    public onRowDragStart = new EventEmitter<IRowDragStartEventArgs>();\n\n    /**\n     * Emitted when dropping a row.\n     * @remarks\n     * Return the dropped row.\n     */\n    @Output()\n    public onRowDragEnd = new EventEmitter<IRowDragEndEventArgs>();\n\n    /**\n     * Emitted when a copy operation is executed.\n     * @remarks\n     * Fired only if copy behavior is enabled through the [`clipboardOptions`]{@link IgxGridBaseDirective#clipboardOptions}.\n     */\n    @Output()\n    onGridCopy = new EventEmitter<IGridClipboardEvent>();\n\n    /**\n     *@hidden @internal\n     */\n    @Output()\n    public expansionStatesChange = new EventEmitter<Map<any, boolean>>();\n\n    /**\n     * Emitted when the expanded state of a row gets changed.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"employeeData\" (onRowToggle)=\"rowToggle($event)\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onRowToggle = new EventEmitter<IRowToggleEventArgs>();\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild(IgxGridColumnResizerComponent)\n    public resizeLine: IgxGridColumnResizerComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('loadingOverlay', { static: true })\n    public loadingOverlay: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('igxLoadingOverlayOutlet', { read: IgxOverlayOutletDirective, static: true })\n    public loadingOutlet: IgxOverlayOutletDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @ContentChildren(IgxColumnComponent, { read: IgxColumnComponent, descendants: true })\n    public columnList: QueryList<IgxColumnComponent> = new QueryList<IgxColumnComponent>();\n\n    /**\n     *@hidden @internal\n     */\n    @ContentChild(IgxExcelStyleSortingTemplateDirective, { read: IgxExcelStyleSortingTemplateDirective })\n    public excelStyleSortingTemplateDirective: IgxExcelStyleSortingTemplateDirective;\n\n    /**\n     *@hidden @internal\n     */\n    @ContentChild(IgxExcelStyleMovingTemplateDirective, { read: IgxExcelStyleMovingTemplateDirective })\n    public excelStyleMovingTemplateDirective: IgxExcelStyleMovingTemplateDirective;\n\n    /**\n     *@hidden @internal\n     */\n    @ContentChild(IgxExcelStyleHidingTemplateDirective, { read: IgxExcelStyleHidingTemplateDirective })\n    public excelStyleHidingTemplateDirective: IgxExcelStyleHidingTemplateDirective;\n\n    /**\n     *@hidden @internal\n     */\n    @ContentChild(IgxExcelStylePinningTemplateDirective, { read: IgxExcelStylePinningTemplateDirective })\n    public excelStylePinningTemplateDirective: IgxExcelStylePinningTemplateDirective;\n\n    /**\n     *@hidden @internal\n     */\n    @ContentChild(IgxExcelStyleLoadingValuesTemplateDirective, { read: IgxExcelStyleLoadingValuesTemplateDirective, static: true })\n    public excelStyleLoadingValuesTemplateDirective: IgxExcelStyleLoadingValuesTemplateDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChildren(IgxGridHeaderGroupComponent, { read: IgxGridHeaderGroupComponent })\n    public headerGroups: QueryList<IgxGridHeaderGroupComponent>;\n\n    /**\n     * A list of all `IgxGridHeaderGroupComponent`.\n     * @example\n     * ```typescript\n     * const headerGroupsList = this.grid.headerGroupsList;\n     * ```\n     */\n    get headerGroupsList(): IgxGridHeaderGroupComponent[] {\n        return this.headerGroups ? flatten(this.headerGroups.toArray()) : [];\n    }\n\n    /**\n     * A list of all `IgxGridHeaderComponent`.\n     * @example\n     * ```typescript\n     * const headers = this.grid.headerCellList;\n     * ```\n     */\n    get headerCellList(): IgxGridHeaderComponent[] {\n        return this.headerGroupsList.map((headerGroup) => headerGroup.headerCell).filter((headerCell) => headerCell);\n    }\n\n    /**\n     * A list of all `IgxGridFilteringCellComponent`.\n     * @example\n     * ```typescript\n     * const filterCells = this.grid.filterCellList;\n     * ```\n     */\n    get filterCellList(): IgxGridFilteringCellComponent[] {\n        return this.headerGroupsList.map((headerGroup) => headerGroup.filterCell).filter((filterCell) => filterCell);\n    }\n\n    @ViewChildren('row')\n    private _rowList: QueryList<IgxGridRowComponent>;\n\n    @ViewChildren('summaryRow', { read: IgxSummaryRowComponent })\n    protected _summaryRowList: QueryList<IgxSummaryRowComponent>;\n\n    /**\n     * @hidden @internal\n    */\n    public get summariesRowList() {\n        const res = new QueryList<any>();\n        if (!this._summaryRowList) {\n            return res;\n        }\n        const sumList = this._summaryRowList.filter((item) => {\n            return item.element.nativeElement.parentElement !== null;\n        });\n        res.reset(sumList);\n        return res;\n    }\n\n    /**\n     * A list of `IgxGridRowComponent`.\n     * @example\n     * ```typescript\n     * const rowList = this.grid.rowList;\n     * ```\n     */\n    public get rowList() {\n        const res = new QueryList<any>();\n        if (!this._rowList) {\n            return res;\n        }\n        const rList = this._rowList\n            .filter((item) => {\n                return item.element.nativeElement.parentElement !== null;\n            })\n            .sort((a, b) => {\n                return a.index - b.index;\n            });\n        res.reset(rList);\n        return res;\n    }\n\n    @ViewChildren(IgxRowDirective, { read: IgxRowDirective })\n    private _dataRowList: QueryList<IgxRowDirective<IgxGridBaseDirective>>;\n\n    /**\n     * A list of currently rendered `IgxGridRowComponent`'s.\n     * @example\n     * ```typescript\n     * const dataList = this.grid.dataRowList;\n     * ```\n     */\n    public get dataRowList(): QueryList<IgxRowDirective<IgxGridBaseDirective>> {\n        const res = new QueryList<IgxRowDirective<IgxGridBaseDirective>>();\n        if (!this._dataRowList) {\n            return res;\n        }\n        const rList = this._dataRowList.filter((item) => {\n            return item.element.nativeElement.parentElement !== null;\n        }).sort((a, b) => {\n            return a.index - b.index;\n        });\n        res.reset(rList);\n        return res;\n    }\n\n    /**\n     * A template reference for the template when the filtered grid is empty.\n     * @example\n     * ```\n     * const emptyTempalte = this.grid.emptyGridTemplate;\n     * ```\n     */\n    @ViewChild('emptyFilteredGrid', { read: TemplateRef, static: true })\n    public emptyFilteredGridTemplate: TemplateRef<any>;\n\n    /**\n     * A template reference for the template when the grid is empty.\n     * @example\n     * ```\n     * const emptyTempalte = this.grid.emptyGridTemplate;\n     * ```\n     */\n    @ViewChild('defaultEmptyGrid', { read: TemplateRef, static: true })\n    public emptyGridDefaultTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n    */\n    @ViewChild('defaultLoadingGrid', { read: TemplateRef, static: true })\n    public loadingGridDefaultTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('scrollContainer', { read: IgxGridForOfDirective, static: true })\n    public parentVirtDir: IgxGridForOfDirective<any>;\n\n    /**\n     * Returns the template which will be used by the toolbar to show custom content.\n     * @example\n     * ```typescript\n     * let customContentTemplate = this.grid.toolbarCustomContentTemplate;\n     * ```\n    */\n    public get toolbarCustomContentTemplate(): IgxGridToolbarCustomContentDirective {\n        return this.toolbarCustomContentTemplates.first;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(IgxGridToolbarCustomContentDirective, { read: IgxGridToolbarCustomContentDirective, descendants: false })\n    public toolbarCustomContentTemplates: QueryList<IgxGridToolbarCustomContentDirective>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get headSelectorTemplate(): TemplateRef<IgxHeadSelectorDirective> {\n        if (this.headSelectorsTemplates && this.headSelectorsTemplates.first) {\n            return this.headSelectorsTemplates.first.templateRef;\n        }\n\n        return null;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(IgxHeadSelectorDirective, { read: IgxHeadSelectorDirective, descendants: false })\n    public headSelectorsTemplates: QueryList<IgxHeadSelectorDirective>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get rowSelectorTemplate(): TemplateRef<IgxRowSelectorDirective> {\n        if (this.rowSelectorsTemplates && this.rowSelectorsTemplates.first) {\n            return this.rowSelectorsTemplates.first.templateRef;\n        }\n\n        return null;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(IgxRowSelectorDirective, { read: IgxRowSelectorDirective, descendants: false })\n    public rowSelectorsTemplates: QueryList<IgxRowSelectorDirective>;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(IgxRowDragGhostDirective, { read: TemplateRef, descendants: false })\n    public dragGhostCustomTemplates: QueryList<TemplateRef<any>>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('verticalScrollContainer', { read: IgxGridForOfDirective, static: true })\n    public verticalScrollContainer: IgxGridForOfDirective<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('verticalScrollHolder', { read: IgxGridForOfDirective, static: true })\n    public verticalScroll: IgxGridForOfDirective<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('scr', { read: ElementRef, static: true })\n    public scr: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('footer', { read: ElementRef })\n    public footer: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('hContainer', { read: IgxGridForOfDirective, static: true })\n    public headerContainer: IgxGridForOfDirective<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('headerSelectorContainer')\n    public headerSelectorContainer: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('headerDragContainer')\n    public headerDragContainer: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('headerGroupContainer')\n    public headerGroupContainer: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('filteringRow', { read: IgxGridFilteringRowComponent })\n    public filteringRow: IgxGridFilteringRowComponent;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('theadRow', { static: true })\n    public theadRow: ElementRef;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('tbody', { static: true })\n    public tbody: ElementRef;\n\n    /**\n     * @hidden @internal\n    */\n    @ViewChild('tfoot', { static: true })\n    public tfoot: ElementRef;\n\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('igxFilteringOverlayOutlet', { read: IgxOverlayOutletDirective, static: true })\n    protected _outletDirective: IgxOverlayOutletDirective;\n\n    /**\n     * @hidden @internal\n     */\n    public get outletDirective() {\n        return this._outletDirective;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('igxRowEditingOverlayOutlet', { read: IgxOverlayOutletDirective, static: true })\n    public rowEditingOutletDirective: IgxOverlayOutletDirective;\n\n    /**\n     * @hidden @internal\n    */\n    @ViewChildren(IgxTemplateOutletDirective, { read: IgxTemplateOutletDirective })\n    public tmpOutlets: QueryList<any> = new QueryList<any>();\n\n\n    /**\n     * @hidden @internal\n    */\n    public get rowOutletDirective() {\n        return this.rowEditingOutletDirective;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public get parentRowOutletDirective() {\n        return this.outletDirective;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('dragIndicatorIconBase', { read: TemplateRef, static: true })\n    public dragIndicatorIconBase: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n    */\n    @ViewChild('defaultRowEditTemplate', { read: TemplateRef, static: true })\n    private defaultRowEditTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n    */\n    @ContentChild(IgxRowEditTemplateDirective, { read: TemplateRef })\n    public rowEditCustom: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    public get rowEditContainer(): TemplateRef<any> {\n        return this.rowEditCustom ? this.rowEditCustom : this.defaultRowEditTemplate;\n    }\n    /**\n     * @hidden @internal\n     */\n    @ContentChild(IgxRowEditTextDirective, { read: TemplateRef })\n    public rowEditText: TemplateRef<any>;\n\n    /**\n     * @hidden @internal\n     */\n    @ContentChild(IgxRowEditActionsDirective, { read: TemplateRef })\n    public rowEditActions: TemplateRef<any>;\n\n\n    /**\n    * The custom template, if any, that should be used when rendering a row expand indicator.\n    */\n   @ContentChild(IgxRowExpandedIndicatorDirective, { read: TemplateRef })\n   public rowExpandedIndicatorTemplate: TemplateRef<any> = null;\n\n   /**\n   * The custom template, if any, that should be used when rendering a row collapse indicator.\n   */\n   @ContentChild(IgxRowCollapsedIndicatorDirective, { read: TemplateRef })\n   public rowCollapsedIndicatorTemplate: TemplateRef<any> = null;\n\n    /**\n    * The custom template, if any, that should be used when rendering a header expand indicator.\n    */\n   @ContentChild(IgxHeaderExpandIndicatorDirective, { read: TemplateRef })\n   public headerExpandIndicatorTemplate: TemplateRef<any> = null;\n\n   /**\n   * The custom template, if any, that should be used when rendering a header collapse indicator.\n   */\n   @ContentChild(IgxHeaderCollapseIndicatorDirective, { read: TemplateRef })\n   public headerCollapseIndicatorTemplate: TemplateRef<any> = null;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ContentChildren(IgxDragIndicatorIconDirective, { read: TemplateRef, descendants: false })\n    public dragIndicatorIconTemplates: QueryList<TemplateRef<any>>;\n\n    /**\n    * The custom template, if any, that should be used when rendering the row drag indicator icon\n    */\n    public get dragIndicatorIconTemplate(): TemplateRef<any> {\n        return this._customDragIndicatorIconTemplate || this.dragIndicatorIconTemplates.first;\n    }\n\n    public set dragIndicatorIconTemplate(val: TemplateRef<any>) {\n        this._customDragIndicatorIconTemplate = val;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public get rowInEditMode(): IgxRowDirective<IgxGridBaseDirective & GridType> {\n        const editRowState = this.crudService.row;\n        return editRowState !== null ? this.rowList.find(e => e.rowID === editRowState.id) : null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get firstEditableColumnIndex(): number {\n        const index = this.navigation.gridOrderedColumns.findIndex(e => e.editable);\n        return index !== -1 ? index : null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get lastEditableColumnIndex(): number {\n        const orderedColumns = this.navigation.gridOrderedColumns;\n        const index = orderedColumns.reverse().findIndex(e => e.editable);\n        return index !== -1 ? orderedColumns.length - 1 - index : null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChildren(IgxRowEditTabStopDirective)\n    public rowEditTabsDEFAULT: QueryList<IgxRowEditTabStopDirective>;\n\n    /**\n     * @hidden @internal\n     */\n    @ContentChildren(IgxRowEditTabStopDirective)\n    public rowEditTabsCUSTOM: QueryList<IgxRowEditTabStopDirective>;\n\n    /**\n     * @hidden @internal\n     * TODO: Nav service logic doesn't handle 0 results from this querylist\n     */\n    public get rowEditTabs(): QueryList<IgxRowEditTabStopDirective> {\n        return this.rowEditTabsCUSTOM.length ? this.rowEditTabsCUSTOM : this.rowEditTabsDEFAULT;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild(IgxToggleDirective)\n    public rowEditingOverlay: IgxToggleDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.class')\n    get hostClass(): string {\n        return this.getComponentDensityClass('igx-grid');\n    }\n\n    get bannerClass(): string {\n        const position = this.rowEditPositioningStrategy.isTop ? 'igx-banner__border-top' : 'igx-banner__border-bottom';\n        return `${this.getComponentDensityClass('igx-banner')} ${position}`;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.role')\n    public hostRole = 'grid';\n\n    /**\n     * @hidden @internal\n     */\n    get pipeTrigger(): number {\n        return this._pipeTrigger;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get filteringPipeTrigger(): number {\n        return this._filteringPipeTrigger;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get summaryPipeTrigger(): number {\n        return this._summaryPipeTrigger;\n    }\n\n    /**\n     * Gets/Sets the sorting state.\n     * @remarks\n     * Supports two-way data binding.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [autoGenerate]=\"true\" [(sortingExpressions)]=\"model.sortingExpressions\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    get sortingExpressions(): ISortingExpression[] {\n        return this._sortingExpressions;\n    }\n\n    set sortingExpressions(value: ISortingExpression[]) {\n        this._sortingExpressions = cloneArray(value);\n        this.sortingExpressionsChange.emit(this._sortingExpressions);\n        this.notifyChanges();\n    }\n\n    /**\n     * Emitted before sorting is performed.\n     * @remarks\n     * Returns the sorting expressions.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [autoGenerate]=\"true\" (sortingExpressionsChange)=\"sortingExprChange($event)\"></igx-grid>\n     * ```\n    */\n    @Output()\n    public sortingExpressionsChange = new EventEmitter<ISortingExpression[]>();\n\n    /**\n     * @hidden @internal\n     */\n    get maxLevelHeaderDepth() {\n        if (this._maxLevelHeaderDepth === null) {\n            this._maxLevelHeaderDepth = this.hasColumnLayouts ?\n                this.columnList.reduce((acc, col) => Math.max(acc, col.rowStart), 0) :\n                this.columnList.reduce((acc, col) => Math.max(acc, col.level), 0);\n        }\n        return this._maxLevelHeaderDepth;\n    }\n\n    /**\n     * Gets the number of hidden columns.\n     * @example\n     * ```typescript\n     * const hiddenCol = this.grid.hiddenColumnsCount;\n     * ``\n     */\n    get hiddenColumnsCount() {\n        return this.columnList.filter((col) => col.columnGroup === false && col.hidden === true).length;\n    }\n\n    /**\n     * Gets/Sets the text to be displayed inside the toggle button.\n     * @remarks\n     * Used for the built-in column hiding UI of the`IgxColumnComponent`.\n     * @example\n     * ```html\n     * <igx-grid [columnHiding]=\"true\" [showToolbar]=\"true\" [hiddenColumnsText]=\"'Hidden Columns'\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    get hiddenColumnsText() {\n        return this._hiddenColumnsText;\n    }\n\n    set hiddenColumnsText(value) {\n        this._hiddenColumnsText = value;\n\n    }\n\n    /**\n     * Gets/Sets the text to be displayed inside the toggle button.\n     * @remarks\n     * Used for the built-in column pinning UI of the`IgxColumnComponent`.\n     * @example\n     * ```html\n     * <igx-grid [pinnedColumnsText]=\"'PinnedCols Text\" [data]=\"data\" [width]=\"'100%'\" [height]=\"'500px'\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    get pinnedColumnsText() {\n        return this._pinnedColumnsText;\n    }\n    set pinnedColumnsText(value) {\n        this._pinnedColumnsText = value;\n    }\n\n    /**\n     * Get transactions service for the grid.\n     */\n    get transactions(): TransactionService<Transaction, State> {\n        return this._transactions;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public columnsWithNoSetWidths = null;\n\n    /* Toolbar related definitions */\n    private _showToolbar = false;\n    private _exportExcel = false;\n    private _exportCsv = false;\n    private _toolbarTitle: string = null;\n    private _exportText: string = null;\n    private _exportExcelText: string = null;\n    private _exportCsvText: string = null;\n    private _rowEditable = false;\n    private _currentRowState: any;\n    private _filteredSortedData = null;\n    /**\n     * @hidden @internal\n    */\n    public get currentRowState(): any {\n        return this._currentRowState;\n    }\n\n    /**\n     * Provides access to the `IgxToolbarComponent`.\n     * @example\n     * ```typescript\n     * const gridToolbar = this.grid.toolbar;\n     * ```\n     */\n    @ViewChild('toolbar', { read: IgxGridToolbarComponent })\n    public toolbar: IgxGridToolbarComponent = null;\n\n    @ViewChild('toolbar', { read: ElementRef })\n    private toolbarHtml: ElementRef = null;\n\n    /**\n     * Gets/Sets whether the toolbar is shown.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"localData\" [showToolbar]=\"true\" [autoGenerate]=\"true\" ></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get showToolbar(): boolean {\n        return this._showToolbar;\n    }\n    public set showToolbar(newValue: boolean) {\n        if (this._showToolbar !== newValue) {\n            this._showToolbar = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets the toolbar's title.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"localData\" [showToolbar]=\"true\" [autoGenerate]=\"true\" [toolbarTitle]=\"'My Grid'\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get toolbarTitle(): string {\n        return this._toolbarTitle;\n    }\n\n    public set toolbarTitle(newValue: string) {\n        if (this._toolbarTitle !== newValue) {\n            this._toolbarTitle = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets whether exporting to MS Excel is enabled or disabled.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"localData\" [showToolbar]=\"true\" [autoGenerate]=\"true\" [exportExcel]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get exportExcel(): boolean {\n        return this.getExportExcel();\n    }\n\n    public set exportExcel(newValue: boolean) {\n        if (this._exportExcel !== newValue) {\n            this._exportExcel = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets whether the option for exporting to CSV is enabled or disabled.\n     * ```html\n     * <igx-grid [data]=\"localData\" [showToolbar]=\"true\" [autoGenerate]=\"true\" [exportCsv]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get exportCsv(): boolean {\n        return this.getExportCsv();\n    }\n    public set exportCsv(newValue: boolean) {\n        if (this._exportCsv !== newValue) {\n            this._exportCsv = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets the textual content for the main export button.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"localData\" [showToolbar]=\"true\" [exportText]=\"'My Exporter'\" [exportCsv]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get exportText(): string {\n        return this._exportText;\n    }\n\n    public set exportText(newValue: string) {\n        if (this._exportText !== newValue) {\n            this._exportText = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets the textual content for the MS Excel export button.\n     * ```html\n     * <igx-grid [exportExcelText]=\"'My Excel Exporter\" [showToolbar]=\"true\" [exportText]=\"'My Exporter'\" [exportCsv]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get exportExcelText(): string {\n        return this._exportExcelText;\n    }\n    public set exportExcelText(newValue: string) {\n        if (this._exportExcelText !== newValue) {\n            this._exportExcelText = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Gets/Sets the textual content for the CSV export button.\n     * @example\n     * ```html\n     * <igx-grid [exportCsvText]=\"'My Csv Exporter\" [showToolbar]=\"true\" [exportText]=\"'My Exporter'\" [exportExcel]=\"true\"></igx-grid>\n     * ```\n     */\n    @WatchChanges()\n    @Input()\n    public get exportCsvText(): string {\n        return this._exportCsvText;\n    }\n    public set exportCsvText(newValue: string) {\n        if (this._exportCsvText !== newValue) {\n            this._exportCsvText = newValue;\n            if (!this._init) {\n                this.notifyChanges(true);\n            }\n        }\n    }\n\n    /**\n     * Controls the copy behavior of the grid.\n     */\n    @Input()\n    clipboardOptions = {\n        /**\n         * Enables/disables the copy behavior\n         */\n        enabled: true,\n        /**\n         * Include the columns headers in the clipboard output.\n         */\n        copyHeaders: true,\n        /**\n         * Apply the columns formatters (if any) on the data in the clipboard output.\n         */\n        copyFormatters: true,\n        /**\n         * The separator used for formatting the copy output. Defaults to `\\t`.\n         */\n        separator: '\\t'\n    };\n\n    /**\n     * Gets/Sets cell selection mode.\n     * @remarks\n     * By default the cell selection mode is multiple\n     * @param selectionMode: GridSelectionMode\n    */\n    @WatchChanges()\n    @Input()\n    get cellSelection() {\n        return this._cellSelectionMode;\n    }\n\n    set cellSelection(selectionMode:  GridSelectionMode) {\n        this._cellSelectionMode = selectionMode;\n        if (this.gridAPI.grid) {\n            this.selectionService.clear(true);\n            this.notifyChanges();\n        }\n    }\n\n    /**\n     * Gets/Sets row selection mode\n     * @remarks\n     * By default the row selection mode is none\n     * @param selectionMode: GridSelectionMode\n    */\n    @WatchChanges()\n    @Input()\n    get rowSelection() {\n        return this._rowSelectionMode;\n    }\n\n\n    set rowSelection(selectionMode:  GridSelectionMode) {\n        this._rowSelectionMode = selectionMode;\n        if (this.gridAPI.grid && this.columnList) {\n            this.selectionService.clearAllSelectedRows();\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public rowEditMessage;\n\n    /**\n     * Emitted when an export process is initiated by the user.\n     * @example\n     * ```typescript\n     * toolbarExporting(event: IGridToolbarExportEventArgs){\n     *     const toolbarExporting = event;\n     * }\n     * ```\n     */\n    @Output()\n    public onToolbarExporting = new EventEmitter<IGridToolbarExportEventArgs>();\n\n    /* End of toolbar related definitions */\n\n    /**\n     * Emitted when making a range selection.\n     * @remarks\n     * Range selection can be made either through drag selection or through keyboard selection.\n     */\n    @Output()\n    onRangeSelection = new EventEmitter<GridSelectionRange>();\n\n    /**\n     * @hidden @internal\n     */\n    public pagingState;\n    /**\n     * @hidden @internal\n     */\n    public calcWidth: number;\n    /**\n     * @hidden @internal\n     */\n    public calcHeight = 0;\n    /**\n     * @hidden @internal\n     */\n    public tfootHeight: number;\n    /**\n     * @hidden @internal\n     */\n    public chipsGoupingExpressions = [];\n    /**\n     * @hidden @internal\n     */\n    public summariesHeight: number;\n\n    /**\n     * @hidden @internal\n     */\n    public draggedColumn: IgxColumnComponent;\n\n\n    /**\n     * @hidden @internal\n     */\n    public disableTransitions = false;\n\n    /**\n     * @hidden @internal\n     */\n    public lastSearchInfo: ISearchInfo = {\n        searchText: '',\n        caseSensitive: false,\n        exactMatch: false,\n        activeMatchIndex: 0,\n        matchInfoCache: []\n    };\n\n    /**\n     * @hidden @internal\n     */\n    public columnWidthSetByUser = false;\n\n    data: any[];\n    filteredData: any[];\n\n    /**\n     * @hidden\n     */\n    protected destroy$ = new Subject<any>();\n\n    /**\n     * @hidden\n     */\n    protected _perPage = 15;\n    /**\n     * @hidden\n     */\n    protected _page = 0;\n    /**\n     * @hidden\n     */\n    protected _paging = false;\n    /**\n     * @hidden\n     */\n    protected _hideRowSelectors = false;\n    /**\n     * @hidden\n     */\n    protected _rowDrag = false;\n    /**\n     * @hidden\n     */\n    protected _pipeTrigger = 0;\n    /**\n     * @hidden\n     */\n    protected _filteringPipeTrigger = 0;\n    /**\n     * @hidden\n     */\n    protected _summaryPipeTrigger = 0;\n    /**\n     * @hidden\n     */\n    protected _columns: IgxColumnComponent[] = [];\n    /**\n     * @hidden\n     */\n    protected _pinnedColumns: IgxColumnComponent[] = [];\n    /**\n     * @hidden\n     */\n    protected _unpinnedColumns: IgxColumnComponent[] = [];\n    /**\n     * @hidden\n     */\n    protected _filteringExpressionsTree: IFilteringExpressionsTree = new FilteringExpressionsTree(FilteringLogic.And);\n    /**\n     * @hidden\n     */\n    protected _advancedFilteringExpressionsTree: IFilteringExpressionsTree;\n    /**\n     * @hidden\n     */\n    protected _sortingExpressions: Array<ISortingExpression> = [];\n    /**\n     * @hidden\n     */\n    protected _maxLevelHeaderDepth = null;\n    /**\n     * @hidden\n     */\n    protected _columnHiding = false;\n    /**\n     * @hidden\n     */\n    protected _columnPinning = false;\n\n\n    /**\n     * @hidden\n     */\n    protected _hasVisibleColumns;\n    protected _allowFiltering = false;\n    protected _allowAdvancedFiltering = false;\n    protected _filterMode = FilterMode.quickFilter;\n\n    protected observer: ResizeObserver = new ResizeObserver(() => {});\n\n    protected resizeNotify = new Subject();\n\n\n    private columnListDiffer;\n    private _hiddenColumnsText = '';\n    private _pinnedColumnsText = '';\n    private _height = '100%';\n    private _width = '100%';\n    private _rowHeight;\n    protected _baseFontSize: number;\n    private _horizontalForOfs: Array<IgxGridForOfDirective<any>> = [];\n    private _multiRowLayoutRowSize = 1;\n    protected _loadingId;\n    protected _expansionStates: Map<any, boolean> = new Map<any, boolean>();\n    protected _defaultExpandState = false;\n    // Caches\n    private _totalWidth = NaN;\n    private _pinnedVisible = [];\n    private _unpinnedVisible = [];\n    private _pinnedWidth = NaN;\n    private _unpinnedWidth = NaN;\n    private _visibleColumns = [];\n    private _columnGroups = false;\n    private _autoGeneratedCols = [];\n    protected _headerFeaturesWidth = NaN;\n\n    private _columnWidth: string;\n\n    protected _defaultTargetRecordNumber = 10;\n\n    private _summaryPosition = GridSummaryPosition.bottom;\n    private _summaryCalculationMode = GridSummaryCalculationMode.rootAndChildLevels;\n    private _cellSelectionMode = GridSelectionMode.multiple;\n    private _rowSelectionMode = GridSelectionMode.none;\n\n    private rowEditPositioningStrategy = new RowEditPositionStrategy({\n        horizontalDirection: HorizontalAlignment.Right,\n        verticalDirection: VerticalAlignment.Bottom,\n        horizontalStartPoint: HorizontalAlignment.Left,\n        verticalStartPoint: VerticalAlignment.Bottom,\n        closeAnimation: null\n    });\n\n    private rowEditSettings = {\n        scrollStrategy: new AbsoluteScrollStrategy(),\n        modal: false,\n        closeOnOutsideClick: false,\n        outlet: this.rowOutletDirective,\n        positionStrategy: this.rowEditPositioningStrategy\n    };\n\n    private verticalScrollHandler = (event) => {\n        this.verticalScrollContainer.onScroll(event);\n        if (isEdge()) { this.wheelHandler(false); }\n        this.disableTransitions = true;\n\n        this.zone.run(() => {\n            this.zone.onStable.pipe(first()).subscribe(() => {\n                this.verticalScrollContainer.onChunkLoad.emit(this.verticalScrollContainer.state);\n            });\n\n            if (this.rowEditable) {\n                this.changeRowEditingOverlayStateOnScroll(this.rowInEditMode);\n            }\n        });\n        this.disableTransitions = false;\n\n        this.hideOverlays();\n    }\n\n    private horizontalScrollHandler = (event) => {\n        const scrollLeft = event.target.scrollLeft;\n        if (isEdge()) { this.wheelHandler(true); }\n        this.headerContainer.onHScroll(scrollLeft);\n        this._horizontalForOfs.forEach(vfor => vfor.onHScroll(scrollLeft));\n        this.cdr.markForCheck();\n\n        this.zone.run(() => {\n            this.zone.onStable.pipe(first()).subscribe(() => {\n                this.parentVirtDir.onChunkLoad.emit(this.headerContainer.state);\n            });\n        });\n\n        this.hideOverlays();\n    }\n\n    /**\n    * @hidden\n    * @internal\n    */\n    public isDetailRecord(rec) {\n        return false;\n    }\n\n    /**\n    * @hidden\n    * @internal\n    */\n    public isGroupByRecord(rec) {\n        return false;\n    }\n\n    /**\n    * @hidden\n    * @internal\n    */\n    public get hasDetails() {\n        return false;\n    }\n\n    /**\n     * Returns the state of the grid virtualization.\n     * @remarks\n     * Includes the start index and how many records are rendered.\n     * @example\n     * ```typescript\n     * const gridVirtState = this.grid1.virtualizationState;\n     * ```\n     */\n    get virtualizationState() {\n        return this.verticalScrollContainer.state;\n    }\n\n    /**\n     * @hidden\n     */\n    set virtualizationState(state) {\n        this.verticalScrollContainer.state = state;\n    }\n\n    /**\n    * @hidden\n    * @internal\n    */\n    public hideOverlays() {\n        this.overlayIDs.forEach(overlayID => {\n            this.overlayService.hide(overlayID);\n            this.overlayService.onClosed.pipe(\n                filter(o => o.id === overlayID),\n                takeUntil(this.destroy$)).subscribe(() => {\n                    this.nativeElement.focus();\n                });\n        });\n    }\n\n    private keydownHandler = (event) => {\n        const key = event.key.toLowerCase();\n        if ((isNavigationKey(key) && event.keyCode !== 32) || key === 'tab' || key === 'pagedown' || key === 'pageup') {\n            event.preventDefault();\n            if (key === 'pagedown') {\n                this.verticalScrollContainer.scrollNextPage();\n                this.nativeElement.focus();\n            } else if (key === 'pageup') {\n                this.verticalScrollContainer.scrollPrevPage();\n                this.nativeElement.focus();\n            }\n        }\n    }\n\n    constructor(\n        public selectionService: IgxGridSelectionService,\n        public crudService: IgxGridCRUDService,\n        public colResizingService: IgxColumnResizingService,\n        protected gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        @Inject(IgxGridTransaction) protected _transactions: TransactionService<Transaction, State>,\n        private elementRef: ElementRef,\n        private zone: NgZone,\n        @Inject(DOCUMENT) public document,\n        public cdr: ChangeDetectorRef,\n        protected resolver: ComponentFactoryResolver,\n        protected differs: IterableDiffers,\n        protected viewRef: ViewContainerRef,\n        public navigation: IgxGridNavigationService,\n        public filteringService: IgxFilteringService,\n        @Inject(IgxOverlayService) protected overlayService: IgxOverlayService,\n        public summaryService: IgxGridSummaryService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n            super(_displayDensityOptions);\n            this.cdr.detach();\n    }\n\n    _setupServices() {\n        this.gridAPI.grid = this;\n        this.crudService.grid = this;\n        this.selectionService.grid = this;\n        this.navigation.grid = this;\n        this.filteringService.grid = this;\n        this.summaryService.grid = this;\n    }\n\n    _setupListeners() {\n        const destructor = takeUntil<any>(this.destroy$);\n\n        this.onRowAdded.pipe(destructor).subscribe(args => this.refreshGridState(args));\n        this.onRowDeleted.pipe(destructor).subscribe(args => {\n            this.summaryService.deleteOperation = true;\n            this.summaryService.clearSummaryCache(args);\n        });\n\n        this.transactions.onStateUpdate.pipe(destructor).subscribe(() => {\n            this.selectionService.clearHeaderCBState();\n            this.summaryService.clearSummaryCache();\n            this._pipeTrigger++;\n            this.notifyChanges();\n            if (this.transactions.getAggregatedChanges(false).length === 0) {\n                // Needs better check, calling 'transactions.clear()' will also trigger this\n                if (this.gridAPI.atInexistingPage()) {\n                    this.page--;\n                }\n            }\n        });\n\n        this.resizeNotify.pipe(destructor, filter(() => !this._init), throttleTime(100))\n            .subscribe(() => {\n                this.zone.run(() => {\n                    this.notifyChanges(true);\n                });\n            });\n\n        this.onPagingDone.pipe(destructor).subscribe(() => {\n            this.endEdit(true);\n            this.selectionService.clear(true);\n        });\n\n        this.onColumnMoving.pipe(destructor).subscribe(() => this.endEdit(true));\n        this.onColumnResized.pipe(destructor).subscribe(() => this.endEdit(true));\n\n        this.overlayService.onOpening.pipe(destructor).subscribe((event) => {\n            if (this._advancedFilteringOverlayId === event.id) {\n                const instance = event.componentRef.instance as IgxAdvancedFilteringDialogComponent;\n                if (instance) {\n                    instance.initialize(this, this.overlayService, event.id);\n                }\n            }\n        });\n\n        this.overlayService.onOpened.pipe(destructor).subscribe((event) => {\n            // do not hide the advanced filtering overlay on scroll\n            if (this._advancedFilteringOverlayId === event.id) {\n                const instance = event.componentRef.instance as IgxAdvancedFilteringDialogComponent;\n                if (instance) {\n                    instance.setAddButtonFocus();\n                }\n                return;\n            }\n\n            if (this.overlayService.getOverlayById(event.id).settings.outlet === this.outletDirective &&\n                this.overlayIDs.indexOf(event.id) < 0) {\n                this.overlayIDs.push(event.id);\n            }\n        });\n\n        this.overlayService.onClosed.pipe(destructor, filter(() => !this._init)).subscribe((event) => {\n            if (this._advancedFilteringOverlayId === event.id) {\n                this._advancedFilteringOverlayId = null;\n                return;\n            }\n\n            const ind = this.overlayIDs.indexOf(event.id);\n            if (ind !== -1) {\n                this.overlayIDs.splice(ind, 1);\n            }\n        });\n\n        this.verticalScrollContainer.onDataChanging.pipe(destructor, filter(() => !this._init)).subscribe(($event) => {\n            const shouldRecalcSize = this.isPercentHeight &&\n             ( !this.calcHeight || this.calcHeight === this.getDataBasedBodyHeight() ||\n              this.calcHeight === this.renderedRowHeight * this._defaultTargetRecordNumber);\n            if (shouldRecalcSize) {\n                this.calculateGridHeight();\n                $event.containerSize = this.calcHeight;\n            }\n            this.evaluateLoadingState();\n        });\n\n        this.verticalScrollContainer.onScrollbarVisibilityChanged.pipe(destructor, filter(() => !this._init)).subscribe(() => {\n            // called to recalc all widths that may have changes as a result of\n            // the vert. scrollbar showing/hiding\n            this.notifyChanges(true);\n        });\n\n        this.verticalScrollContainer.onContentSizeChange.pipe(destructor, filter(() => !this._init)).subscribe(($event) => {\n            this.calculateGridSizes(false);\n        });\n\n        this.onDensityChanged.pipe(destructor).subscribe(() => {\n            this._headerFeaturesWidth = NaN;\n            this.summaryService.summaryHeight = 0;\n            this.endEdit(true);\n            this.cdr.markForCheck();\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        super.ngOnInit();\n        this._setupServices();\n        this._setupListeners();\n        this.columnListDiffer = this.differs.find([]).create(null);\n        this.calcWidth = this.width && this.width.indexOf('%') === -1 ? parseInt(this.width, 10) : 0;\n        this.shouldGenerate = this.autoGenerate;\n        this._scrollWidth = this.getScrollWidth();\n    }\n\n    protected setupColumns() {\n        if (this.autoGenerate) {\n            this.autogenerateColumns();\n        }\n\n        this.initColumns(this.columnList, (col: IgxColumnComponent) => this.onColumnInit.emit(col));\n        this.columnListDiffer.diff(this.columnList);\n\n        this.columnList.changes\n            .pipe(takeUntil(this.destroy$))\n            .subscribe((change: QueryList<IgxColumnComponent>) => { this.onColumnsChanged(change); });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public resetColumnsCaches() {\n        this.columnList.forEach(column => column.resetCaches());\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public resetForOfCache() {\n        const firstVirtRow = this.dataRowList.first;\n        if (firstVirtRow) {\n            if (this._cdrRequests) {\n                firstVirtRow.virtDirRow.cdr.detectChanges();\n            }\n            firstVirtRow.virtDirRow.assumeMaster();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public resetColumnCollections() {\n        this._visibleColumns.length = 0;\n        this._pinnedVisible.length = 0;\n        this._unpinnedVisible.length = 0;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public resetCachedWidths() {\n        this._unpinnedWidth = NaN;\n        this._pinnedWidth = NaN;\n        this._totalWidth = NaN;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public resetCaches(recalcFeatureWidth = true) {\n        if (recalcFeatureWidth) {\n            this._headerFeaturesWidth = NaN;\n        }\n        this.resetForOfCache();\n        this.resetColumnsCaches();\n        this.resetColumnCollections();\n        this.resetCachedWidths();\n        this.hasVisibleColumns = undefined;\n        this._columnGroups = this.columnList.some(col => col.columnGroup);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterContentInit() {\n        this.setupColumns();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public _setupRowObservers() {\n        const elementFilter = (item: IgxRowDirective<any> | IgxSummaryRowComponent) => this.isDefined(item.nativeElement.parentElement);\n        const extractForOfs = pipe(map((collection: any[]) => collection.filter(elementFilter).map(item => item.virtDirRow)));\n        const rowListObserver = extractForOfs(this._dataRowList.changes);\n        const summaryRowObserver = extractForOfs(this._summaryRowList.changes);\n        const resetHorizontalForOfs = () => {\n            this._horizontalForOfs = [\n                ...this._dataRowList.filter(elementFilter).map(item => item.virtDirRow),\n                ...this._summaryRowList.filter(elementFilter).map(item => item.virtDirRow)\n            ];\n        };\n        rowListObserver.pipe(takeUntil(this.destroy$)).subscribe(resetHorizontalForOfs);\n        summaryRowObserver.pipe(takeUntil(this.destroy$)).subscribe(resetHorizontalForOfs);\n        resetHorizontalForOfs();\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public _zoneBegoneListeners() {\n        this.zone.runOutsideAngular(() => {\n            this.nativeElement.addEventListener('keydown', this.keydownHandler);\n            this.verticalScrollContainer.getScroll().addEventListener('scroll', this.verticalScrollHandler);\n            this.headerContainer.getScroll().addEventListener('scroll', this.horizontalScrollHandler);\n\n            this.observer = new ResizeObserver(() => this.resizeNotify.next());\n            this.observer.observe(this.nativeElement);\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit() {\n        this.initPinning();\n        this.calculateGridSizes();\n        this._init = false;\n        this.cdr.reattach();\n        this._setupRowObservers();\n        this._zoneBegoneListeners();\n\n        const vertScrDC = this.verticalScrollContainer.displayContainer;\n        vertScrDC.addEventListener('scroll', this.scrollHandler);\n        vertScrDC.addEventListener('wheel', () => this.wheelHandler());\n\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public notifyChanges(repaint = false) {\n        this._cdrRequests = true;\n        this._cdrRequestRepaint = repaint;\n        this.cdr.markForCheck();\n    }\n\n    protected resetNotifyChanges() {\n        this._cdrRequestRepaint = false;\n        this._cdrRequests = false;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public ngDoCheck() {\n        super.ngDoCheck();\n        if (this._init) {\n            return;\n        }\n\n        if (this._cdrRequestRepaint) {\n            this.resetNotifyChanges();\n            this.calculateGridSizes();\n            this.refreshSearch(true);\n            return;\n        }\n\n        if (this._cdrRequests) {\n            this.resetNotifyChanges();\n            this.cdr.detectChanges();\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n    */\n    public getDragGhostCustomTemplate() {\n        if (this.dragGhostCustomTemplates && this.dragGhostCustomTemplates.first) {\n            return this.dragGhostCustomTemplates.first;\n        }\n\n        return null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngOnDestroy() {\n        this.tmpOutlets.forEach((tmplOutlet) => {\n            tmplOutlet.cleanCache();\n        });\n\n        this.destroy$.next(true);\n        this.destroy$.complete();\n        this._destroyed = true;\n\n        if (this._advancedFilteringOverlayId) {\n            this.overlayService.hide(this._advancedFilteringOverlayId);\n        }\n\n        this.zone.runOutsideAngular(() => {\n            this.observer.disconnect();\n            this.nativeElement.removeEventListener('keydown', this.keydownHandler);\n            this.verticalScrollContainer.getScroll().removeEventListener('scroll', this.verticalScrollHandler);\n            this.headerContainer.getScroll().removeEventListener('scroll', this.horizontalScrollHandler);\n            const vertScrDC = this.verticalScrollContainer.displayContainer;\n            vertScrDC.removeEventListener('scroll', this.scrollHandler);\n            vertScrDC.removeEventListener('wheel', () => this.wheelHandler());\n        });\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public dataLoading(event) {\n        this.onDataPreLoad.emit(event);\n    }\n\n    /**\n     * Toggles the specified column's visibility.\n     * @example\n     * ```typescript\n     * this.grid1.toggleColumnVisibility({\n     *       column: this.grid1.columns[0],\n     *       newValue: true\n     * });\n     * ```\n     */\n    public toggleColumnVisibility(args: IColumnVisibilityChangedEventArgs) {\n        const col = args.column ? this.columnList.find((c) => c === args.column) : undefined;\n\n        if (!col) {\n            return;\n        }\n\n        col.hidden = args.newValue;\n        this.onColumnVisibilityChanged.emit(args);\n    }\n\n    /**\n     * Gets/Sets a list of key-value pairs [row ID, expansion state].\n     * @remarks\n     * Includes only states that differ from the default one.\n     * Supports two-way binding.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"data\" [(expansionStates)]=\"model.expansionStates\">\n     * </igx-grid>\n     * ```\n     */\n    @Input()\n    public get expansionStates() {\n        return this._expansionStates;\n    }\n\n    public set expansionStates(value) {\n        this._expansionStates = new Map<any, boolean>(value);\n        this.expansionStatesChange.emit(this._expansionStates);\n        if (this.gridAPI.grid) {\n            this.cdr.detectChanges();\n        }\n    }\n\n   /**\n     * Expands all rows.\n     * @example\n     * ```typescript\n     * this.grid.expandAll();\n     * ```\n    */\n    public expandAll() {\n        this._defaultExpandState = true;\n        this.expansionStates = new Map<any, boolean>();\n    }\n\n   /**\n     * Collapses all rows.\n     * @example\n     * ```typescript\n     * this.grid.collapseAll();\n     * ```\n    */\n    public collapseAll() {\n        this._defaultExpandState = false;\n        this.expansionStates = new Map<any, boolean>();\n    }\n\n    /**\n     * Expands the row by its id.\n     * @remarks\n     * ID is either the primaryKey value or the data record instance.\n     * @example\n     * ```typescript\n     * this.grid.expandRow(rowID);\n     * ```\n     * @param rowID The row id - primaryKey value or the data record instance.\n     */\n    public expandRow(rowID: any) {\n        this.gridAPI.set_row_expansion_state(rowID, true);\n    }\n\n    /**\n     * Collapses the row by its id.\n     * @remarks\n     * ID is either the primaryKey value or the data record instance.\n     * @example\n     * ```typescript\n     * this.grid.collapseRow(rowID);\n     * ```\n     * @param rowID The row id - primaryKey value or the data record instance.\n    */\n    public collapseRow(rowID: any) {\n        this.gridAPI.set_row_expansion_state(rowID, false);\n    }\n\n\n    /**\n     * Toggles the row by its id.\n     * @remarks\n     * ID is either the primaryKey value or the data record instance.\n     * @example\n     * ```typescript\n     * this.grid.toggleRow(rowID);\n     * ```\n     * @param rowID The row id - primaryKey value or the data record instance.\n    */\n    public toggleRow(rowID: any) {\n        const rec = this.gridAPI.get_rec_by_id(rowID);\n        const state = this.gridAPI.get_row_expansion_state(rec);\n        this.gridAPI.set_row_expansion_state(rowID, !state);\n    }\n\n    /**\n     * @hidden\n     * @internal\n    */\n    public getDefaultExpandState(rec: any) {\n        return this._defaultExpandState;\n    }\n\n    /**\n     * Gets the native element.\n     * @example\n     * ```typescript\n     * const nativeEl = this.grid.nativeElement.\n     * ```\n     */\n    get nativeElement() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected get outlet() {\n        return this.outletDirective;\n    }\n\n    /**\n     * Gets the default row height.\n     * @example\n     * ```typescript\n     * const rowHeigh = this.grid.defaultRowHeight;\n     * ```\n     */\n    get defaultRowHeight(): number {\n        switch (this.displayDensity) {\n            case DisplayDensity.cosy:\n                return 40;\n            case DisplayDensity.compact:\n                return 32;\n            default:\n                return 50;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get defaultSummaryHeight(): number {\n        switch (this.displayDensity) {\n            case DisplayDensity.cosy:\n                return 30;\n            case DisplayDensity.compact:\n                return 24;\n            default:\n                return 36;\n        }\n    }\n\n    /**\n     * Returns the `IgxGridHeaderGroupComponent`'s minimum allowed width.\n     * @remarks\n     * Used internally for restricting header group component width.\n     * The values below depend on the header cell default right/left padding values.\n     */\n    get defaultHeaderGroupMinWidth(): number {\n        switch (this.displayDensity) {\n            case DisplayDensity.cosy:\n                return 32;\n            case DisplayDensity.compact:\n                return 24;\n            default:\n                return 48;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public paginatorClassName(): string {\n        switch (this.displayDensity) {\n            case DisplayDensity.cosy:\n                return 'igx-paginator--cosy';\n            case DisplayDensity.compact:\n                return 'igx-paginator--compact';\n            default:\n                return 'igx-paginator';\n        }\n    }\n\n    /**\n     * Gets the current width of the container for the pinned `IgxColumnComponent`s.\n     * @example\n     * ```typescript\n     * const pinnedWidth = this.grid.getPinnedWidth;\n     * ```\n     */\n    get pinnedWidth() {\n        if (!isNaN(this._pinnedWidth)) { return this._pinnedWidth; }\n        this._pinnedWidth = this.getPinnedWidth();\n        return this._pinnedWidth;\n    }\n\n    /**\n     * Gets the current width of the container for the unpinned `IgxColumnComponent`s.\n     * @example\n     * ```typescript\n     * const unpinnedWidth = this.grid.getUnpinnedWidth;\n     * ```\n     */\n    get unpinnedWidth() {\n        if (!isNaN(this._unpinnedWidth)) { return this._unpinnedWidth; }\n        this._unpinnedWidth = this.getUnpinnedWidth();\n        return this._unpinnedWidth;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    get isHorizontalScrollHidden() {\n        const diff = this.unpinnedWidth - this.totalWidth;\n        return this.width === null || diff >= 0;\n    }\n\n    /**\n     * @hidden @internal\n     * Gets the combined width of the columns that are specific to the enabled grid features. They are fixed.\n     */\n    public featureColumnsWidth(expander?: ElementRef) {\n        if (Number.isNaN(this._headerFeaturesWidth)) {\n            const rowSelectArea = this.headerSelectorContainer ?\n                this.headerSelectorContainer.nativeElement.getBoundingClientRect().width : 0;\n            const rowDragArea = this.rowDraggable && this.headerDragContainer ?\n                this.headerDragContainer.nativeElement.getBoundingClientRect().width : 0;\n            const groupableArea = this.headerGroupContainer ?\n                this.headerGroupContainer.nativeElement.getBoundingClientRect().width : 0;\n            const expanderWidth = expander ? expander.nativeElement.getBoundingClientRect().width : 0;\n            this._headerFeaturesWidth = rowSelectArea + rowDragArea + groupableArea + expanderWidth;\n        }\n        return this._headerFeaturesWidth;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    get summariesMargin() {\n        return this.featureColumnsWidth();\n    }\n\n    /**\n     * Gets an array of `IgxColumnComponent`s.\n     * @example\n     * ```typescript\n     * const colums = this.grid.columns.\n     * ```\n     */\n    get columns(): IgxColumnComponent[] {\n        return this._columns;\n    }\n\n    /**\n     * Gets an array of the pinned `IgxColumnComponent`s.\n     * @example\n     * ```typescript\n     * const pinnedColumns = this.grid.pinnedColumns.\n     * ```\n     */\n    get pinnedColumns(): IgxColumnComponent[] {\n        if (this._pinnedVisible.length) {\n            return this._pinnedVisible;\n        }\n        this._pinnedVisible = this._pinnedColumns.filter(col => !col.hidden);\n        return this._pinnedVisible;\n    }\n\n    /**\n     * Gets an array of unpinned `IgxColumnComponent`s.\n     * @example\n     * ```typescript\n     * const unpinnedColumns = this.grid.unpinnedColumns.\n     * ```\n     */\n    get unpinnedColumns(): IgxColumnComponent[] {\n        if (this._unpinnedVisible.length) {\n            return this._unpinnedVisible;\n        }\n        this._unpinnedVisible = this._unpinnedColumns.filter((col) => !col.hidden);\n        return this._unpinnedVisible;\n    }\n\n    /**\n     * Gets the `width` to be set on `IgxGridHeaderGroupComponent`.\n     */\n    public getHeaderGroupWidth(column: IgxColumnComponent): string {\n        if (this.hasColumnLayouts) {\n            return '';\n        }\n        const colWidth = column.width;\n        const minWidth = this.defaultHeaderGroupMinWidth;\n        const isPercentageWidth = colWidth && typeof colWidth === 'string' && colWidth.indexOf('%') !== -1;\n\n        if (!isPercentageWidth && parseInt(colWidth, 10) < minWidth) {\n            return minWidth + 'px';\n        }\n\n        return colWidth;\n    }\n\n    /**\n     * Returns the `IgxColumnComponent` by field name.\n     * @example\n     * ```typescript\n     * const myCol = this.grid1.getColumnByName(\"ID\");\n     * ```\n     * @param name\n    */\n    public getColumnByName(name: string): IgxColumnComponent {\n        return this.columnList.find((col) => col.field === name);\n    }\n\n    /**\n     * Returns the `IgxRowDirective` by index.\n     * @example\n     * ```typescript\n     * const myRow = this.grid1.getRowByIndex(1);\n     * ```\n     * @param index\n    */\n    public getRowByIndex(index: number): IgxRowDirective<IgxGridBaseDirective & GridType> {\n        return this.gridAPI.get_row_by_index(index);\n    }\n\n    /**\n     * Returns `IgxGridRowComponent` object by the specified primary key .\n     * @remarks\n     * Requires that the `primaryKey` property is set.\n     * @example\n     * ```typescript\n     * const myRow = this.grid1.getRowByKey(\"cell5\");\n     * ```\n     * @param keyValue\n    */\n    public getRowByKey(keyValue: any): IgxRowDirective<IgxGridBaseDirective & GridType> {\n        return this.gridAPI.get_row_by_key(keyValue);\n    }\n\n    /**\n     * Returns an array of visible `IgxColumnComponent`s.\n     * @example\n     * ```typescript\n     * const visibleColumns = this.grid.visibleColumns.\n     * ```\n     */\n    get visibleColumns(): IgxColumnComponent[] {\n        if (this._visibleColumns.length) {\n            return this._visibleColumns;\n        }\n        this._visibleColumns = this.columnList.filter(c => !c.hidden);\n        return this._visibleColumns;\n    }\n\n    /**\n     * Returns the `IgxGridCellComponent` that matches the conditions.\n     * @example\n     * ```typescript\n     * const myCell = this.grid1.getCellByColumn(2,\"UnitPrice\");\n     * ```\n     * @param rowIndex\n     * @param columnField\n    */\n    public getCellByColumn(rowIndex: number, columnField: string): IgxGridCellComponent {\n        const columnId = this.columnList.map((column) => column.field).indexOf(columnField);\n        if (columnId !== -1) {\n            return this.gridAPI.get_cell_by_index(rowIndex, columnId);\n        }\n    }\n\n    /**\n     * Returns an `IgxGridCellComponent` object by the specified primary key and column field.\n     * @remarks\n     * Requires that the primaryKey property is set.\n     * @example\n     * ```typescript\n     * grid.getCellByKey(1, 'index');\n     * ```\n     * @param rowSelector match any rowID\n     * @param columnField\n    */\n    public getCellByKey(rowSelector: any, columnField: string): IgxGridCellComponent {\n        return this.gridAPI.get_cell_by_key(rowSelector, columnField);\n    }\n\n    /**\n     * Gets the total number of pages.\n     * @example\n     * ```typescript\n     * const totalPages = this.grid.totalPages;\n     * ```\n     */\n    get totalPages(): number {\n        if (this.pagingState) {\n            return this.pagingState.metadata.countPages;\n        }\n        return -1;\n    }\n\n    /**\n     * Gets if the current page is the first page.\n     * @example\n     * ```typescript\n     * const firstPage = this.grid.isFirstPage;\n     * ```\n     */\n    get isFirstPage(): boolean {\n        return this.page === 0;\n    }\n\n    /**\n     * Goes to the next page, if the grid is not already at the last page.\n     * @example\n     * ```typescript\n     * this.grid1.nextPage();\n     * ```\n     */\n    public nextPage(): void {\n        if (!this.isLastPage) {\n            this.page += 1;\n        }\n    }\n\n    /**\n     * Goes to the previous page, if the grid is not already at the first page.\n     * @example\n     * ```typescript\n     * this.grid1.previousPage();\n     * ```\n     */\n    public previousPage(): void {\n        if (!this.isFirstPage) {\n            this.page -= 1;\n        }\n    }\n\n    /**\n     * Returns the total number of records.\n     * @remarks\n     * Only functions when paging is enabled.\n     * @example\n     * ```typescript\n     * const totalRecords = this.grid.totalRecords;\n     * ```\n     */\n    get totalRecords(): number {\n        if (this.pagingState) {\n            return this.pagingState.metadata.countRecords;\n        }\n    }\n\n    /**\n     * Returns if the current page is the last page.\n     * @example\n     * ```typescript\n     * const lastPage = this.grid.isLastPage;\n     * ```\n     */\n    get isLastPage(): boolean {\n        return this.page + 1 >= this.totalPages;\n    }\n\n    /**\n     * Returns the total width of the `IgxGridComponent`.\n     * @example\n     * ```typescript\n     * const gridWidth = this.grid.totalWidth;\n     * ```\n     */\n    get totalWidth(): number {\n        if (!isNaN(this._totalWidth)) { return this._totalWidth; }\n        // Take only top level columns\n        const cols = this.visibleColumns.filter(col => col.level === 0 && !col.pinned);\n        let totalWidth = 0;\n        let i = 0;\n        for (i; i < cols.length; i++) {\n            totalWidth += parseInt(cols[i].calcWidth, 10) || 0;\n        }\n        this._totalWidth = totalWidth;\n        return totalWidth;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    get showRowSelectors(): boolean {\n        return this.isRowSelectable  && this.hasVisibleColumns && !this.hideRowSelectors;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    get showDragIcons(): boolean {\n        return this.rowDraggable && this.columns.length > this.hiddenColumnsCount;\n    }\n\n    /**\n     * @hidden\n     */\n    protected _moveColumns(from: IgxColumnComponent, to: IgxColumnComponent, pos: DropPosition) {\n        const list = this.columnList.toArray();\n        const fromIndex = list.indexOf(from);\n        let toIndex = list.indexOf(to);\n\n        if (pos === DropPosition.BeforeDropTarget) {\n            toIndex--;\n            if (toIndex < 0) {\n                toIndex = 0;\n            }\n        }\n\n        if (pos === DropPosition.AfterDropTarget) {\n            toIndex++;\n        }\n\n        list.splice(toIndex, 0, ...list.splice(fromIndex, 1));\n        const newList = this._resetColumnList(list);\n        this.columnList.reset(newList);\n        this.columnList.notifyOnChanges();\n        this._columns = this.columnList.toArray();\n    }\n\n    /**\n     * @hidden\n     */\n    protected _resetColumnList(list?) {\n        if (!list) {\n            list = this.columnList.toArray();\n        }\n        let newList = [];\n        list.filter(c => c.level === 0).forEach(p => {\n            newList.push(p);\n            if (p.columnGroup) {\n                newList = newList.concat(p.allChildren);\n            }\n        });\n        return newList;\n    }\n\n    /**\n     * @hidden\n     */\n    protected _reorderColumns(from: IgxColumnComponent, to: IgxColumnComponent, position: DropPosition, columnCollection: any[]) {\n        let dropIndex = columnCollection.indexOf(to);\n\n        if (to.columnGroup) {\n            dropIndex += to.allChildren.length;\n        }\n\n        if (position === DropPosition.BeforeDropTarget) {\n            dropIndex--;\n        }\n\n        if (position === DropPosition.AfterDropTarget) {\n            dropIndex++;\n        }\n\n        columnCollection.splice(dropIndex, 0, ...columnCollection.splice(columnCollection.indexOf(from), 1));\n    }\n    /**\n     * @hidden\n     */\n    protected _moveChildColumns(parent: IgxColumnComponent, from: IgxColumnComponent, to: IgxColumnComponent, pos: DropPosition) {\n        const buffer = parent.children.toArray();\n        const fromIndex = buffer.indexOf(from);\n        let toIndex = buffer.indexOf(to);\n\n        if (pos === DropPosition.BeforeDropTarget) {\n            toIndex--;\n        }\n\n        if (pos === DropPosition.AfterDropTarget) {\n            toIndex++;\n        }\n\n        buffer.splice(toIndex, 0, ...buffer.splice(fromIndex, 1));\n        parent.children.reset(buffer);\n    }\n    /**\n     * Moves a column to the specified drop target.\n     * @example\n     * ```typescript\n     * grid.moveColumn(compName, persDetails);\n     * ```\n\t  */\n    public moveColumn(column: IgxColumnComponent, dropTarget: IgxColumnComponent, pos: DropPosition = DropPosition.None) {\n\n        let position = pos;\n        const fromIndex = column.visibleIndex;\n        const toIndex = dropTarget.visibleIndex;\n\n        if (pos === DropPosition.BeforeDropTarget && fromIndex < toIndex) {\n            position = DropPosition.BeforeDropTarget;\n        } else if (pos === DropPosition.AfterDropTarget && fromIndex > toIndex) {\n            position = DropPosition.AfterDropTarget;\n        } else {\n            position = DropPosition.None;\n        }\n\n\n        if ((column.level !== dropTarget.level) ||\n            (column.topLevelParent !== dropTarget.topLevelParent)) {\n            return;\n        }\n\n        this.endEdit(true);\n        if (column.level) {\n            this._moveChildColumns(column.parent, column, dropTarget, position);\n        }\n\n        if (dropTarget.pinned && column.pinned) {\n            this._reorderColumns(column, dropTarget, position, this._pinnedColumns);\n        }\n\n        if (dropTarget.pinned && !column.pinned) {\n            column.pin();\n            this._reorderColumns(column, dropTarget, position, this._pinnedColumns);\n\n        }\n\n        if (!dropTarget.pinned && column.pinned) {\n            column.unpin();\n            let list = [];\n\n            if (this.pinnedColumns.indexOf(column) === -1 && this.pinnedColumns.indexOf(dropTarget) === -1) {\n                list = this._unpinnedColumns;\n            } else {\n                list = this._pinnedColumns;\n            }\n\n            const fi = list.indexOf(column);\n            const ti = list.indexOf(dropTarget);\n\n            if (pos === DropPosition.BeforeDropTarget && fi < ti) {\n                position = DropPosition.BeforeDropTarget;\n            } else if (pos === DropPosition.AfterDropTarget && fi > ti) {\n                position = DropPosition.AfterDropTarget;\n            } else {\n                position = DropPosition.None;\n            }\n        }\n\n        if (!dropTarget.pinned) {\n            this._reorderColumns(column, dropTarget, position, this._unpinnedColumns);\n        }\n\n        this._moveColumns(column, dropTarget, position);\n        this.notifyChanges();\n        if (this.hasColumnLayouts) {\n            this.columns.filter(x => x.columnLayout).forEach(x => x.populateVisibleIndexes());\n        }\n\n        const args = {\n            source: column,\n            target: dropTarget\n        };\n\n        this.onColumnMovingEnd.emit(args);\n    }\n\n    /**\n     * Goes to the desired page index.\n     * @example\n     * ```typescript\n     * this.grid1.paginate(1);\n     * ```\n     * @param val\n    */\n    public paginate(val: number): void {\n        if (val < 0 || val > this.totalPages - 1) {\n            return;\n        }\n\n        this.page = val;\n    }\n\n    /**\n     * Manually marks the `IgxGridComponent` for change detection.\n     * @example\n     * ```typescript\n     * this.grid1.markForCheck();\n     * ```\n     */\n    public markForCheck() {\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Creates a new `IgxGridRowComponent` and adds the data record to the end of the data source.\n     * @example\n     * ```typescript\n     * this.grid1.addRow(record);\n     * ```\n     * @param data\n    */\n    public addRow(data: any): void {\n        // commit pending states prior to adding a row\n        this.endEdit(true);\n        this.gridAPI.addRowToData(data);\n\n        this.onRowAdded.emit({ data });\n        this._pipeTrigger++;\n        this.notifyChanges();\n    }\n\n    /**\n     * Removes the `IgxGridRowComponent` and the corresponding data record by primary key.\n     * @remarks\n     * Requires that the `primaryKey` property is set.\n     * The method accept rowSelector as a parameter, which is the rowID.\n     * @example\n     * ```typescript\n     * this.grid1.deleteRow(0);\n     * ```\n     * @param rowSelector\n    */\n    public deleteRow(rowSelector: any): void {\n        if (this.primaryKey !== undefined && this.primaryKey !== null) {\n            this.deleteRowById(rowSelector);\n        }\n    }\n\n    /** @hidden */\n    public deleteRowById(rowId: any) {\n        this.gridAPI.deleteRowById(rowId);\n    }\n\n    /**\n     * @hidden\n     */\n    protected deleteRowFromData(rowID: any, index: number) {\n        //  if there is a row (index !== 0) delete it\n        //  if there is a row in ADD or UPDATE state change it's state to DELETE\n        if (index !== -1) {\n            if (this.transactions.enabled) {\n                const transaction: Transaction = { id: rowID, type: TransactionType.DELETE, newValue: null };\n                this.transactions.add(transaction, this.data[index]);\n            } else {\n                this.data.splice(index, 1);\n            }\n        } else {\n            const state: State = this.transactions.getState(rowID);\n            this.transactions.add({ id: rowID, type: TransactionType.DELETE, newValue: null }, state && state.recordRef);\n        }\n    }\n\n    /**\n     * Updates the `IgxGridRowComponent` and the corresponding data record by primary key.\n     * @remarks\n     * Requires that the `primaryKey` property is set.\n     * @example\n     * ```typescript\n     * this.gridWithPK.updateCell('Updated', 1, 'ProductName');\n     * ```\n     * @param value the new value which is to be set.\n     * @param rowSelector corresponds to rowID.\n     * @param column corresponds to column field.\n    */\n    public updateCell(value: any, rowSelector: any, column: string): void {\n        if (this.isDefined(this.primaryKey)) {\n            const col = this.columnList.toArray().find(c => c.field === column);\n            if (col) {\n                // Simplify\n                const rowData = this.gridAPI.getRowData(rowSelector);\n                const index = this.gridAPI.get_row_index_in_data(rowSelector);\n                // If row passed is invalid\n                if (index < 0) {\n                    return;\n                }\n                const id = {\n                    rowID: rowSelector,\n                    columnID: col.index,\n                    rowIndex: index\n                };\n\n                const cell = new IgxCell(id, index, col, rowData[col.field], rowData[col.field], rowData);\n                const args = this.gridAPI.update_cell(cell, value);\n\n                if (this.crudService.cell && this.crudService.sameCell(cell)) {\n                    if (args.cancel) {\n                        return;\n                    }\n                    this.gridAPI.escape_editMode();\n                }\n                this.cdr.detectChanges();\n            }\n        }\n    }\n\n    /**\n     * Updates the `IgxGridRowComponent`\n     * @remarks\n     * The row is specified by\n     * rowSelector parameter and the data source record with the passed value.\n     * This method will apply requested update only if primary key is specified in the grid.\n     * @example\n     * ```typescript\n     * grid.updateRow({\n     *       ProductID: 1, ProductName: 'Spearmint', InStock: true, UnitsInStock: 1, OrderDate: new Date('2005-03-21')\n     *   }, 1);\n     * ```\n     * @param value\n     * @param rowSelector correspond to rowID\n    */\n    public updateRow(value: any, rowSelector: any): void {\n        if (this.isDefined(this.primaryKey)) {\n            const editableCell = this.crudService.cell;\n            if (editableCell && editableCell.id.rowID === rowSelector) {\n                this.gridAPI.escape_editMode();\n            }\n            const row = new IgxRow(rowSelector, -1, this.gridAPI.getRowData(rowSelector));\n            this.gridAPI.update_row(row, value);\n\n            // TODO: fix for #5934 and probably break for #5763\n            // consider adding of third optional boolean parameter in updateRow.\n            // If developer set this parameter to true we should call notifyChanges(true), and\n            // vise-versa if developer set it to false we should call notifyChanges(false).\n            // The parameter should default to false\n            this.notifyChanges();\n        }\n    }\n\n    /**\n     * Sort a single `IgxColumnComponent`.\n     * @remarks\n     * Sort the `IgxGridComponent`'s `IgxColumnComponent` based on the provided array of sorting expressions.\n     * @example\n     * ```typescript\n     * this.grid.sort({ fieldName: name, dir: SortingDirection.Asc, ignoreCase: false });\n     * ```\n     */\n    public sort(expression: ISortingExpression | Array<ISortingExpression>): void {\n        this.endEdit(false);\n        if (expression instanceof Array) {\n            this.gridAPI.sort_multiple(expression);\n        } else {\n            this.gridAPI.sort(expression);\n        }\n        requestAnimationFrame(() => this.onSortingDone.emit(expression));\n    }\n\n    /**\n     * Filters a single `IgxColumnComponent`.\n     * @example\n     * ```typescript\n     * public filter(term) {\n     *      this.grid.filter(\"ProductName\", term, IgxStringFilteringOperand.instance().condition(\"contains\"));\n     * }\n     * ```\n     * @param name\n     * @param value\n     * @param conditionOrExpressionTree\n     * @param ignoreCase\n    */\n    public filter(name: string, value: any, conditionOrExpressionTree?: IFilteringOperation | IFilteringExpressionsTree,\n        ignoreCase?: boolean) {\n        this.filteringService.filter(name, value, conditionOrExpressionTree, ignoreCase);\n    }\n\n    /**\n     * Filters all the `IgxColumnComponent` in the `IgxGridComponent` with the same condition.\n     * @example\n     * ```typescript\n     * grid.filterGlobal('some', IgxStringFilteringOperand.instance().condition('contains'));\n     * ```\n     * @param value\n     * @param condition\n     * @param ignoreCase\n    */\n    public filterGlobal(value: any, condition, ignoreCase?) {\n        this.filteringService.filterGlobal(value, condition, ignoreCase);\n    }\n\n    /**\n     * Enables summaries for the specified column and applies your customSummary.\n     * @remarks\n     * If you do not provide the customSummary, then the default summary for the column data type will be applied.\n     * @example\n     * ```typescript\n     * grid.enableSummaries([{ fieldName: 'ProductName' }, { fieldName: 'ID' }]);\n     * ```\n     * Enable summaries for the listed columns.\n     * @example\n     * ```typescript\n     * grid.enableSummaries('ProductName');\n     * ```\n     * @param rest\n    */\n    public enableSummaries(...rest) {\n        if (rest.length === 1 && Array.isArray(rest[0])) {\n            this._multipleSummaries(rest[0], true);\n        } else {\n            this._summaries(rest[0], true, rest[1]);\n        }\n    }\n\n    /**\n     * Disable summaries for the specified column.\n     * @example\n     * ```typescript\n     * grid.disableSummaries('ProductName');\n     * ```\n     *@remarks\n     * Disable summaries for the listed columns.\n     *@example\n     * ```typescript\n     * grid.disableSummaries([{ fieldName: 'ProductName' }]);\n     * ```\n     */\n    public disableSummaries(...rest) {\n        if (rest.length === 1 && Array.isArray(rest[0])) {\n            this._disableMultipleSummaries(rest[0]);\n        } else {\n            this._summaries(rest[0], false);\n        }\n    }\n\n    /**\n     * If name is provided, clears the filtering state of the corresponding `IgxColumnComponent`.\n     *@remarks\n     Otherwise clears the filtering state of all `IgxColumnComponent`s.\n     *@example\n     * ```typescript\n     * this.grid.clearFilter();\n     * ```\n     * @param name\n    */\n    public clearFilter(name?: string) {\n        this.filteringService.clearFilter(name);\n    }\n\n    /**\n     * If name is provided, clears the sorting state of the corresponding `IgxColumnComponent`.\n     * @remarks\n     * otherwise clears the sorting state of all `IgxColumnComponent`.\n     * @example\n     * ```typescript\n     * this.grid.clearSort();\n     * ```\n     * @param name\n    */\n    public clearSort(name?: string) {\n        if (!name) {\n            this.sortingExpressions = [];\n            return;\n        }\n        if (!this.gridAPI.get_column_by_name(name)) {\n            return;\n        }\n        this.gridAPI.clear_sort(name);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public refreshGridState(args?) {\n        this.endEdit(true);\n        this.selectionService.clearHeaderCBState();\n        this.summaryService.clearSummaryCache(args);\n    }\n\n    // TODO: We have return values here. Move them to event args ??\n\n    /**\n     * Pins a column by field name.\n     * @remarks\n     * Returns whether the operation is successful.\n     * @example\n     * ```typescript\n     * this.grid.pinColumn(\"ID\");\n     * ```\n     * @param columnName\n     * @param index\n    */\n    public pinColumn(columnName: string | IgxColumnComponent, index?): boolean {\n        const col = columnName instanceof IgxColumnComponent ? columnName : this.getColumnByName(columnName);\n        return col.pin(index);\n    }\n\n    /**\n     * Unpins a column by field name. Returns whether the operation is successful.\n     * @example\n     * ```typescript\n     * this.grid.pinColumn(\"ID\");\n     * ```\n     * @param columnName\n     * @param index\n    */\n    public unpinColumn(columnName: string | IgxColumnComponent, index?): boolean {\n        const col = columnName instanceof IgxColumnComponent ? columnName : this.getColumnByName(columnName);\n        return col.unpin(index);\n    }\n\n\n    /**\n     * Recalculates grid width/height dimensions.\n     * @remarks\n     * Should be run when changing DOM elements dimentions manually that affect the grid's size.\n     * @example\n     * ```typescript\n     * this.grid.reflow();\n     * ```\n     */\n    public reflow() {\n        this.calculateGridSizes();\n    }\n\n    /**\n     * Finds the next occurrence of a given string in the grid and scrolls to the cell if it isn't visible.\n     * @remarks\n     * Returns how many times the grid contains the string.\n     * @example\n     * ```typescript\n     * this.grid.findNext(\"financial\");\n     * ```\n     * @param text the string to search.\n     * @param caseSensitive optionally, if the search should be case sensitive (defaults to false).\n     * @param exactMatch optionally, if the text should match the entire value  (defaults to false).\n    */\n    public findNext(text: string, caseSensitive?: boolean, exactMatch?: boolean): number {\n        return this.find(text, 1, caseSensitive, exactMatch);\n    }\n\n    /**\n     * Finds the previous occurrence of a given string in the grid and scrolls to the cell if it isn't visible.\n     * @remarks\n     * Returns how many times the grid contains the string.\n     * @example\n     * ```typescript\n     * this.grid.findPrev(\"financial\");\n     * ```\n     * @param text the string to search.\n     * @param caseSensitive optionally, if the search should be case sensitive (defaults to false).\n     * @param exactMatch optionally, if the text should match the entire value (defaults to false).\n    */\n    public findPrev(text: string, caseSensitive?: boolean, exactMatch?: boolean): number {\n        return this.find(text, -1, caseSensitive, exactMatch);\n    }\n\n    /**\n     * Reapplies the existing search.\n     * @remarks\n     * Returns how many times the grid contains the last search.\n     * @example\n     * ```typescript\n     * this.grid.refreshSearch();\n     * ```\n     * @param updateActiveInfo\n    */\n    public refreshSearch(updateActiveInfo?: boolean): number {\n        if (this.lastSearchInfo.searchText) {\n            this.rebuildMatchCache();\n\n            if (updateActiveInfo) {\n                const activeInfo = IgxTextHighlightDirective.highlightGroupsMap.get(this.id);\n                this.lastSearchInfo.matchInfoCache.forEach((match, i) => {\n                    if (match.column === activeInfo.column &&\n                        match.row === activeInfo.row &&\n                        match.index === activeInfo.index) {\n                        this.lastSearchInfo.activeMatchIndex = i;\n                    }\n                });\n            }\n\n            return this.find(this.lastSearchInfo.searchText, 0, this.lastSearchInfo.caseSensitive, this.lastSearchInfo.exactMatch, false);\n        } else {\n            return 0;\n        }\n    }\n\n    /**\n     * Removes all the highlights in the cell.\n     * @example\n     * ```typescript\n     * this.grid.clearSearch();\n     * ```\n     */\n    public clearSearch() {\n        this.lastSearchInfo = {\n            searchText: '',\n            caseSensitive: false,\n            exactMatch: false,\n            activeMatchIndex: 0,\n            matchInfoCache: []\n        };\n\n        this.rowList.forEach((row) => {\n            if (row.cells) {\n                row.cells.forEach((c) => {\n                    c.clearHighlight();\n                });\n            }\n        });\n    }\n\n    /**\n     * Returns if the `IgxGridComponent` has sortable columns.\n     * @example\n     * ```typescript\n     * const sortableGrid = this.grid.hasSortableColumns;\n     * ```\n     */\n    get hasSortableColumns(): boolean {\n        return this.columnList.some((col) => col.sortable);\n    }\n\n    /**\n     * Returns if the `IgxGridComponent` has editable columns.\n     * @example\n     * ```typescript\n     * const editableGrid = this.grid.hasEditableColumns;\n     * ```\n     */\n    get hasEditableColumns(): boolean {\n        return this.columnList.some((col) => col.editable);\n    }\n\n    /**\n     * Returns if the `IgxGridComponent` has fiterable columns.\n     * @example\n     * ```typescript\n     * const filterableGrid = this.grid.hasFilterableColumns;\n     * ```\n     */\n    get hasFilterableColumns(): boolean {\n        return this.columnList.some((col) => col.filterable);\n    }\n\n    /**\n     * Returns if the `IgxGridComponent` has summarized columns.\n     * @example\n     * ```typescript\n     * const summarizedGrid = this.grid.hasSummarizedColumns;\n     * ```\n     */\n    get hasSummarizedColumns(): boolean {\n        return this.summaryService.hasSummarizedColumns;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get rootSummariesEnabled(): boolean {\n        return this.summaryCalculationMode !== GridSummaryCalculationMode.childLevelsOnly;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get hasVisibleColumns(): boolean {\n        if (this._hasVisibleColumns === undefined) {\n            return this.columnList ? this.columnList.some(c => !c.hidden) : false;\n        }\n        return this._hasVisibleColumns;\n    }\n\n    set hasVisibleColumns(value) {\n        this._hasVisibleColumns = value;\n    }\n    /**\n     * Returns if the `IgxGridComponent` has moveable columns.\n     * @example\n     * ```typescript\n     * const movableGrid = this.grid.hasMovableColumns;\n     * ```\n     */\n    get hasMovableColumns(): boolean {\n        return this.columnList && this.columnList.some((col) => col.movable);\n    }\n\n    /**\n     * Returns if the `IgxGridComponent` has column groups.\n     * @example\n     * ```typescript\n     * const groupGrid = this.grid.hasColumnGroups;\n     * ```\n     */\n    get hasColumnGroups(): boolean {\n        return this._columnGroups;\n    }\n    /**\n     * Returns if the `IgxGridComponent` has column layouts for multi-row layout definition.\n     * @example\n     * ```typescript\n     * const layoutGrid = this.grid.hasColumnLayouts;\n     * ```\n     */\n    public get hasColumnLayouts() {\n        return !!this.columnList.some(col => col.columnLayout);\n    }\n\n    /**\n     * Returns an array of the selected `IgxGridCellComponent`s.\n     * @example\n     * ```typescript\n     * const selectedCells = this.grid.selectedCells;\n     * ```\n     */\n    get selectedCells(): IgxGridCellComponent[] | any[] {\n        if (this.dataRowList) {\n            return this.dataRowList.map((row) => row.cells.filter((cell) => cell.selected))\n                .reduce((a, b) => a.concat(b), []);\n        }\n        return [];\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get multiRowLayoutRowSize() {\n        return this._multiRowLayoutRowSize;\n    }\n\n    /**\n     * @hidden\n     */\n    protected get rowBasedHeight() {\n        return this.dataLength * this.rowHeight;\n    }\n\n    /**\n     * @hidden\n     */\n    protected get isPercentWidth() {\n        return this.width && this.width.indexOf('%') !== -1;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get isPercentHeight() {\n        return this._height && this._height.indexOf('%') !== -1;\n    }\n\n    /**\n     * @hidden\n     * Sets columns defaultWidth property\n     */\n    protected _derivePossibleWidth() {\n        if (!this.columnWidthSetByUser) {\n            this._columnWidth = this.width !== null ? this.getPossibleColumnWidth() : MINIMUM_COLUMN_WIDTH + 'px';\n        }\n        this.columnList.forEach((column: IgxColumnComponent) => {\n            if (this.hasColumnLayouts && parseInt(this._columnWidth, 10)) {\n                const columnWidthCombined = parseInt(this._columnWidth, 10) * (column.colEnd ? column.colEnd - column.colStart : 1);\n                column.defaultWidth = columnWidthCombined + 'px';\n            } else {\n                column.defaultWidth = this._columnWidth;\n                column.resetCaches();\n            }\n        });\n        this.resetCachedWidths();\n    }\n\n    /**\n     * @hidden\n     */\n    protected get defaultTargetBodyHeight(): number {\n        const allItems = this.dataLength;\n        return this.renderedRowHeight * Math.min(this._defaultTargetRecordNumber,\n            this.paging ? Math.min(allItems, this.perPage) : allItems);\n    }\n\n    /**\n     * @hidden @internal\n     * The rowHeight input is bound to min-height css prop of rows that adds a 1px border in all cases\n     */\n    public get renderedRowHeight(): number {\n        return this.rowHeight + 1;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    protected calcGridHeadRow() {\n        if (this.maxLevelHeaderDepth) {\n            this._baseFontSize = parseFloat(getComputedStyle(this.document.documentElement).getPropertyValue('font-size'));\n            let minSize = (this.maxLevelHeaderDepth + 1) * this.defaultRowHeight / this._baseFontSize;\n            if (this._allowFiltering && this._filterMode === FilterMode.quickFilter) {\n                minSize += (FILTER_ROW_HEIGHT + 1) / this._baseFontSize;\n            }\n            this.theadRow.nativeElement.style.minHeight = `${minSize}rem`;\n        }\n    }\n\n    /**\n     * @hidden\n     * Sets TBODY height i.e. this.calcHeight\n     */\n    protected calculateGridHeight() {\n        this.calcGridHeadRow();\n        this.summariesHeight = 0;\n        if (this.hasSummarizedColumns && this.rootSummariesEnabled) {\n            this.summariesHeight = this.summaryService.calcMaxSummaryHeight();\n        }\n\n        this.calcHeight = this._calculateGridBodyHeight();\n    }\n\n    /**\n     * @hidden\n     */\n    protected getGroupAreaHeight(): number {\n        return 0;\n    }\n\n    /**\n     * @hidden\n     */\n    protected getToolbarHeight(): number {\n        let toolbarHeight = 0;\n        if (this.showToolbar && this.toolbarHtml != null) {\n            toolbarHeight = this.toolbarHtml.nativeElement.firstElementChild ?\n                this.toolbarHtml.nativeElement.offsetHeight : 0;\n        }\n        return toolbarHeight;\n    }\n\n    /**\n     * @hidden\n     */\n    protected getPagingHeight(): number {\n        let pagingHeight = 0;\n        if (this.paging && this.footer) {\n            pagingHeight = this.footer.nativeElement.firstElementChild ?\n                this.footer.nativeElement.offsetHeight : 0;\n        }\n        return pagingHeight;\n    }\n\n    /**\n     * @hidden\n     */\n    protected getFilterCellHeight(): number {\n        const headerGroupNativeEl = (this.headerGroupsList.length !== 0) ?\n                                        this.headerGroupsList[0].element.nativeElement : null;\n        const filterCellNativeEl = (headerGroupNativeEl) ?\n                                    headerGroupNativeEl.querySelector('igx-grid-filtering-cell') : null;\n        return (filterCellNativeEl) ? filterCellNativeEl.offsetHeight : 0;\n    }\n\n    /**\n     * @hidden\n     */\n    protected _calculateGridBodyHeight(): number {\n        if (!this._height) {\n            return null;\n        }\n\n        const actualTheadRow = (!this.allowFiltering || (this.allowFiltering && this.filterMode !== FilterMode.quickFilter)) ?\n                                 this.theadRow.nativeElement.offsetHeight - this.getFilterCellHeight() :\n                                 this.theadRow.nativeElement.offsetHeight;\n        const footerHeight = this.summariesHeight || this.tfoot.nativeElement.offsetHeight - this.tfoot.nativeElement.clientHeight;\n        const toolbarHeight = this.getToolbarHeight();\n        const pagingHeight = this.getPagingHeight();\n        const groupAreaHeight = this.getGroupAreaHeight();\n        const renderedHeight = toolbarHeight + actualTheadRow +\n            footerHeight + pagingHeight + groupAreaHeight +\n            this.scr.nativeElement.clientHeight;\n\n        const computed = this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue('height');\n        let gridHeight = 0;\n\n        if (this.isPercentHeight) {\n            const autoSize = this._shouldAutoSize(renderedHeight);\n            if (autoSize || computed.indexOf('%') !== -1) {\n                const bodyHeight = this.getDataBasedBodyHeight();\n                return bodyHeight > 0 ? bodyHeight : null;\n            }\n            gridHeight = parseInt(computed, 10);\n        } else {\n            gridHeight = parseInt(this._height, 10);\n        }\n        const height = Math.abs(gridHeight - renderedHeight);\n\n        if (height === 0 || isNaN(gridHeight)) {\n            const bodyHeight = this.defaultTargetBodyHeight;\n            return bodyHeight > 0 ? bodyHeight : null;\n        }\n        return height;\n    }\n\n    protected checkContainerSizeChange() {\n        const origHeight = this.nativeElement.parentElement.offsetHeight;\n        this.nativeElement.style.display = 'none';\n        const height = this.nativeElement.parentElement.offsetHeight;\n        this.nativeElement.style.display = '';\n        return origHeight !== height;\n    }\n\n    protected _shouldAutoSize(renderedHeight) {\n        this.tbody.nativeElement.style.display = 'none';\n        let res = !this.nativeElement.parentElement ||\n        this.nativeElement.parentElement.clientHeight === 0 ||\n        this.nativeElement.parentElement.clientHeight === renderedHeight;\n        if (!isChromium()) {\n            // If grid causes the parent container to extend (for example when container is flex)\n            // we should always auto-size since the actual size of the container will continuously change as the grid renders elements.\n           res = this.checkContainerSizeChange();\n        }\n        this.tbody.nativeElement.style.display = '';\n        return res;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get outerWidth() {\n        return this.hasVerticalSroll() ? this.calcWidth + this.scrollWidth : this.calcWidth;\n    }\n\n    /**\n     * @hidden @internal\n     * Gets the visible content height that includes header + tbody + footer.\n     */\n    public getVisibleContentHeight() {\n        let height = this.theadRow.nativeElement.clientHeight + this.tbody.nativeElement.clientHeight;\n        if (this.hasSummarizedColumns) {\n            height += this.tfoot.nativeElement.clientHeight;\n        }\n        return height;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public getPossibleColumnWidth(baseWidth: number = null) {\n        let computedWidth;\n        if (baseWidth !== null) {\n            computedWidth = baseWidth;\n        } else {\n            computedWidth = this.calcWidth ||\n                parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue('width'), 10);\n        }\n\n        computedWidth -= this.featureColumnsWidth();\n\n        const visibleChildColumns = this.visibleColumns.filter(c => !c.columnGroup);\n\n\n        // Column layouts related\n        let visibleCols = [];\n        const columnBlocks = this.visibleColumns.filter(c => c.columnGroup);\n        const colsPerBlock = columnBlocks.map(block => block.getInitialChildColumnSizes(block.children));\n        const combinedBlocksSize = colsPerBlock.reduce((acc, item) => acc + item.length, 0);\n        colsPerBlock.forEach(blockCols => visibleCols = visibleCols.concat(blockCols));\n        //\n\n        const columnsWithSetWidths = this.hasColumnLayouts ?\n            visibleCols.filter(c => c.widthSetByUser) :\n            visibleChildColumns.filter(c => c.widthSetByUser);\n\n        const columnsToSize = this.hasColumnLayouts ?\n            combinedBlocksSize - columnsWithSetWidths.length :\n            visibleChildColumns.length - columnsWithSetWidths.length;\n        const sumExistingWidths = columnsWithSetWidths\n            .reduce((prev, curr) => {\n                const colWidth = curr.width;\n                const widthValue = parseInt(colWidth, 10);\n                const currWidth = colWidth && typeof colWidth === 'string' && colWidth.indexOf('%') !== -1 ?\n                    widthValue / 100 * computedWidth :\n                    widthValue;\n                return prev + currWidth;\n            }, 0);\n\n        // When all columns are hidden, return 0px width\n        if (!sumExistingWidths && !columnsToSize) {\n            return '0px';\n        }\n\n        const columnWidth = Math.floor(!Number.isFinite(sumExistingWidths) ?\n            Math.max(computedWidth / columnsToSize, MINIMUM_COLUMN_WIDTH) :\n            Math.max((computedWidth - sumExistingWidths) / columnsToSize, MINIMUM_COLUMN_WIDTH));\n\n            return columnWidth + 'px';\n        }\n\n    /**\n     * @hidden\n     * Sets grid width i.e. this.calcWidth\n     */\n    protected calculateGridWidth() {\n        let width;\n        const computed = this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue('width');\n\n        if (this.isPercentWidth) {\n            /* width in %*/\n            width = computed.indexOf('%') === -1 ? parseInt(computed, 10) : null;\n        } else {\n            width = parseInt(this.width, 10);\n        }\n\n        if (!width && this.nativeElement) {\n            width = this.nativeElement.offsetWidth;\n        }\n\n\n        if (this.width === null || !width) {\n            width = this.getColumnWidthSum();\n        }\n\n        if (this.hasVerticalSroll() && this.width !== null) {\n            width -= this.scrollWidth;\n        }\n        if ((Number.isFinite(width) || width === null) && width !== this.calcWidth) {\n            this.calcWidth = width;\n        }\n        this._derivePossibleWidth();\n    }\n\n    private getColumnWidthSum(): number {\n        let colSum = 0;\n        const  cols = this.hasColumnLayouts ?\n         this.visibleColumns.filter(x => x.columnLayout) : this.visibleColumns.filter(x => !x.columnGroup);\n        cols.forEach((item) => {\n            const isWidthInPercent = item.width && typeof item.width === 'string' && item.width.indexOf('%') !== -1;\n            if (isWidthInPercent) {\n                item.width = item.calcWidth || MINIMUM_COLUMN_WIDTH + 'px';\n            }\n            colSum +=  parseInt((item.width || item.defaultWidth), 10) || MINIMUM_COLUMN_WIDTH;\n        });\n        if (!colSum) {\n            return null;\n        }\n        this.cdr.detectChanges();\n        colSum += this.featureColumnsWidth();\n        return colSum;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public hasVerticalSroll() {\n        if (this._init) { return false; }\n        const isScrollable = this.verticalScrollContainer ? this.verticalScrollContainer.isScrollable() : false;\n        return !!(this.calcWidth && this.dataView &&\n            this.dataView.length > 0 &&\n            isScrollable);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected getDataBasedBodyHeight(): number {\n        return !this.data || (this.data.length < this._defaultTargetRecordNumber) ?\n            0 : this.defaultTargetBodyHeight;\n    }\n\n    /**\n     * @hidden\n     */\n    protected onColumnsChanged(change: QueryList<IgxColumnComponent>) {\n        const diff = this.columnListDiffer.diff(change);\n        if (this.autoGenerate && this.columnList.length === 0 && this._autoGeneratedCols.length > 0) {\n            // In Ivy if there are nested conditional templates the content children are re-evaluated\n            // hence autogenerated columns are cleared and need to be reset.\n            this.columnList.reset(this._autoGeneratedCols);\n            return;\n        }\n        if (diff) {\n            let added = false;\n            let removed = false;\n\n            this.initColumns(this.columnList);\n\n\n            diff.forEachAddedItem((record: IterableChangeRecord<IgxColumnComponent>) => {\n                this.onColumnInit.emit(record.item);\n                added = true;\n            });\n\n            diff.forEachRemovedItem((record: IterableChangeRecord<IgxColumnComponent | IgxColumnGroupComponent>) => {\n                const isColumnGroup = record.item instanceof IgxColumnGroupComponent;\n                if (!isColumnGroup) {\n                    // Clear Grouping\n                    this.gridAPI.clear_groupby(record.item.field);\n\n                    // Clear Filtering\n                    this.gridAPI.clear_filter(record.item.field);\n\n                    // Close filter row\n                    if ( this.filteringService.isFilterRowVisible\n                        && this.filteringService.filteredColumn\n                        && this.filteringService.filteredColumn.field === record.item.field) {\n                        this.filteringRow.close();\n                    }\n\n                    // Clear Sorting\n                    this.gridAPI.clear_sort(record.item.field);\n                }\n                removed = true;\n            });\n\n            this.resetCaches();\n\n            if (added || removed) {\n                this.summaryService.clearSummaryCache();\n                Promise.resolve().then(() => {\n                    // `onColumnsChanged` can be executed midway a current detectChange cycle and markForCheck will be ignored then.\n                    // This ensures that we will wait for the current cycle to end so we can trigger a new one and ngDoCheck to fire.\n                    this.notifyChanges(true);\n                });\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected calculateGridSizes(recalcFeatureWidth = true) {\n        /*\n            TODO: (R.K.) This layered lasagne should be refactored\n            ASAP. The reason I have to reset the caches so many times is because\n            after teach `detectChanges` call they are filled with invalid\n            state. Of course all of this happens midway through the grid\n            sizing process which of course, uses values from the caches, thus resulting\n            in a broken layout.\n        */\n        this.resetCaches(recalcFeatureWidth);\n        this.cdr.detectChanges();\n        const hasScroll = this.hasVerticalSroll();\n        this.calculateGridWidth();\n        this.resetCaches(recalcFeatureWidth);\n        this.cdr.detectChanges();\n        this.calculateGridHeight();\n\n        if (this.rowEditable) {\n            this.repositionRowEditingOverlay(this.rowInEditMode);\n        }\n\n        if (this.filteringService.isFilterRowVisible) {\n            this.filteringRow.resetChipsArea();\n        }\n\n        this.cdr.detectChanges();\n        // in case scrollbar has appeared recalc to size correctly.\n        if (hasScroll !== this.hasVerticalSroll()) {\n            this.calculateGridWidth();\n            this.cdr.detectChanges();\n        }\n        if (this.zone.isStable) {\n            this.zone.run(() => {\n                this._applyWidthHostBinding();\n                this.cdr.detectChanges();\n            });\n        } else {\n            this.zone.onStable.pipe(first()).subscribe(() => {\n                this.zone.run(() => {\n                    this._applyWidthHostBinding();\n                });\n            });\n        }\n        this.resetCaches(recalcFeatureWidth);\n    }\n\n    private _applyWidthHostBinding() {\n        let width = this._width;\n        if (width === null) {\n            let currentWidth = this.calcWidth;\n            if (this.hasVerticalSroll()) {\n                currentWidth += this.scrollWidth;\n            }\n            width = currentWidth + 'px';\n            this.resetCaches();\n        }\n        this._hostWidth = width;\n        this.cdr.markForCheck();\n    }\n\n    /**\n     * Gets calculated width of the pinned area.\n     * @example\n     * ```typescript\n     * const pinnedWidth = this.grid.getPinnedWidth();\n     * ```\n     * @param takeHidden If we should take into account the hidden columns in the pinned area.\n    */\n    public getPinnedWidth(takeHidden = false) {\n        const fc = takeHidden ? this._pinnedColumns : this.pinnedColumns;\n        let sum = 0;\n        for (const col of fc) {\n            if (col.level === 0) {\n                sum += parseInt(col.calcWidth, 10);\n            }\n        }\n        sum += this.featureColumnsWidth();\n\n        return sum;\n    }\n\n    /**\n     * @hidden\n     * Gets calculated width of the unpinned area\n     * @param takeHidden If we should take into account the hidden columns in the pinned area.\n    */\n    protected getUnpinnedWidth(takeHidden = false) {\n        let width = this.isPercentWidth ?\n            this.calcWidth :\n            parseInt(this.width, 10) ||  parseInt(this.hostWidth, 10) || this.calcWidth;\n        if (this.hasVerticalSroll() && !this.isPercentWidth) {\n            width -= this.scrollWidth;\n        }\n        return width - this.getPinnedWidth(takeHidden);\n    }\n\n    /**\n     * @hidden\n     */\n    protected _summaries(fieldName: string, hasSummary: boolean, summaryOperand?: any) {\n        const column = this.gridAPI.get_column_by_name(fieldName);\n        if (column) {\n            column.hasSummary = hasSummary;\n            if (summaryOperand) {\n                if (this.rootSummariesEnabled) { this.summaryService.retriggerRootPipe++; }\n                column.summaries = summaryOperand;\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected _multipleSummaries(expressions: ISummaryExpression[], hasSummary: boolean) {\n        expressions.forEach((element) => {\n            this._summaries(element.fieldName, hasSummary, element.customSummary);\n        });\n    }\n    /**\n     * @hidden\n     */\n    protected _disableMultipleSummaries(expressions) {\n        expressions.forEach((column) => {\n            const columnName = column && column.fieldName ? column.fieldName : column;\n            this._summaries(columnName, false);\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    protected resolveDataTypes(rec) {\n        if (typeof rec === 'number') {\n            return DataType.Number;\n        } else if (typeof rec === 'boolean') {\n            return DataType.Boolean;\n        } else if (typeof rec === 'object' && rec instanceof Date) {\n            return DataType.Date;\n        }\n        return DataType.String;\n    }\n\n    private getScrollWidth() {\n        const div = document.createElement('div');\n        const style = div.style;\n        style.width = '100px';\n        style.height = '100px';\n        style.position = 'absolute';\n        style.top = '-10000px';\n        style.top = '-10000px';\n        style.overflow = 'scroll';\n        document.body.appendChild(div);\n        const scrollWidth = div.offsetWidth - div.clientWidth;\n        document.body.removeChild(div);\n        return scrollWidth;\n    }\n\n    /**\n     * @hidden\n     */\n    protected autogenerateColumns() {\n        const data = this.gridAPI.get_data();\n        const factory = this.resolver.resolveComponentFactory(IgxColumnComponent);\n        const fields = this.generateDataFields(data);\n        const columns = [];\n\n        fields.forEach((field) => {\n            const ref = factory.create(this.viewRef.injector);\n            ref.instance.field = field;\n            ref.instance.dataType = this.resolveDataTypes(data[0][field]);\n            ref.changeDetectorRef.detectChanges();\n            columns.push(ref.instance);\n        });\n        this._autoGeneratedCols = columns;\n\n        this.columnList.reset(columns);\n        if (data && data.length > 0) {\n            this.shouldGenerate = false;\n        }\n    }\n\n    protected generateDataFields(data: any[]): string[] {\n        return Object.keys(data && data.length !== 0 ? data[0] : []);\n    }\n\n    /**\n     * @hidden\n     */\n    onlyTopLevel(arr) {\n        return arr.filter(c => c.level === 0);\n    }\n\n    /**\n     * @hidden\n     */\n    protected initColumns(collection: QueryList<IgxColumnComponent>, cb: Function = null) {\n        this._columnGroups = this.columnList.some(col => col.columnGroup);\n        if (this.hasColumnLayouts) {\n            // Set overall row layout size\n            this.columnList.forEach((col) => {\n                if (col.columnLayout) {\n                    const layoutSize = col.children ?\n                        col.children.reduce((acc, val) => Math.max(val.rowStart + val.gridRowSpan - 1, acc), 1) :\n                        1;\n                    this._multiRowLayoutRowSize = Math.max(layoutSize, this._multiRowLayoutRowSize);\n                }\n            });\n        }\n        if (this.hasColumnLayouts && this.hasColumnGroups) {\n            // invalid configuration - multi-row and column groups\n            // remove column groups\n            const columnLayoutColumns = this.columnList.filter((col) => col.columnLayout || col.columnLayoutChild);\n            this.columnList.reset(columnLayoutColumns);\n        }\n        this._maxLevelHeaderDepth = null;\n        this._columns = this.columnList.toArray();\n        collection.forEach((column: IgxColumnComponent) => {\n            column.defaultWidth = this.columnWidthSetByUser ? this._columnWidth : column.defaultWidth ? column.defaultWidth : '';\n\n            if (cb) {\n                cb(column);\n            }\n        });\n\n        this.reinitPinStates();\n\n        if (this.hasColumnLayouts) {\n            collection.forEach((column: IgxColumnComponent) => {\n                column.populateVisibleIndexes();\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected reinitPinStates() {\n        this._pinnedColumns = (this.hasColumnGroups) ? this.columnList.filter((c) => c.pinned) :\n            this.columnList.filter((c) => c.pinned).sort((a, b) => this._pinnedColumns.indexOf(a) - this._pinnedColumns.indexOf(b));\n        this._unpinnedColumns = this.hasColumnGroups ? this.columnList.filter((c) => !c.pinned) :\n        this.columnList.filter((c) => !c.pinned)\n        .sort((a, b) => this._unpinnedColumns.indexOf(a) - this._unpinnedColumns.indexOf(b));\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public isColumnGrouped(fieldName: string): boolean {\n        return false;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public onHeaderSelectorClick(event) {\n        if (!this.isMultiRowSelectionEnabled) { return; }\n        this.selectionService.areAllRowSelected() ?\n            this.selectionService.clearRowSelection(event) : this.selectionService.selectAllRows(event);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get headSelectorBaseAriaLabel() {\n        if (this._filteringExpressionsTree.filteringOperands.length > 0) {\n            return this.selectionService.areAllRowSelected() ? 'Deselect all filtered' : 'Select all filtered';\n        }\n\n        return this.selectionService.areAllRowSelected() ? 'Deselect all' : 'Select all';\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get totalRowsCountAfterFilter() {\n        if (this.data) {\n            return this.selectionService.allData.length;\n        }\n\n        return 0;\n    }\n\n    /**\n     * Returns the currently transformed paged/filtered/sorted/grouped data, displayed in the grid.\n     * @example\n     * ```typescript\n     *      const dataView = this.grid.dataView;\n     * ```\n     */\n    get dataView(): any[] {\n        return this.verticalScrollContainer.igxForOf;\n    }\n\n    /**\n     * Get current selection state.\n     * @example\n     * Returns an array with selected rows' IDs (primaryKey or rowData)\n     * ```typescript\n     * const selectedRows = this.grid.selectedRows();\n     * ```\n     */\n    public selectedRows(): any[] {\n        return this.selectionService.getSelectedRows();\n    }\n\n    /**\n     * Select specified rows by ID.\n     * @example\n     * ```typescript\n     * this.grid.selectRows([1,2,5], true);\n     * ```\n     * @param rowIDs\n     * @param clearCurrentSelection if true clears the current selection\n    */\n    public selectRows(rowIDs: any[], clearCurrentSelection?: boolean) {\n        this.selectionService.selectRowsWithNoEvent(rowIDs, clearCurrentSelection);\n        this.notifyChanges();\n    }\n\n    /**\n     * Deselect specified rows by ID.\n     * @example\n     * ```typescript\n     * this.grid.deselectRows([1,2,5]);\n     * ```\n     * @param rowIDs\n    */\n    public deselectRows(rowIDs: any[]) {\n        this.selectionService.deselectRowsWithNoEvent(rowIDs);\n        this.notifyChanges();\n    }\n\n    /**\n     * Selects all rows\n     * @remarks\n     * By default if filtering is in place, selectAllRows() and deselectAllRows() select/deselect all filtered rows.\n     * If you set the parameter onlyFilterData to false that will select all rows in the grid exept deleted rows.\n     * @example\n     * ```typescript\n     * this.grid.selectAllRows();\n     * this.grid.selectAllRows(false);\n     * ```\n     * @param onlyFilterData\n     */\n    public selectAllRows(onlyFilterData = true) {\n        const data = onlyFilterData && this.filteredData ? this.filteredData : this.gridAPI.get_all_data(true);\n        const rowIDs = this.selectionService.getRowIDs(data).filter(rID => !this.gridAPI.row_deleted_transaction(rID));\n        this.selectRows(rowIDs);\n    }\n\n    /**\n     * Deselects all rows\n     * @remarks\n     * By default if filtering is in place, selectAllRows() and deselectAllRows() select/deselect all filtered rows.\n     * If you set the parameter onlyFilterData to false that will select all rows in the grid exept deleted rows.\n     * @example\n     * ```typescript\n     * this.grid.deselectAllRows();\n     * ```\n     * @param onlyFilterData\n     */\n    public deselectAllRows(onlyFilterData = true) {\n        if (onlyFilterData && this.filteredData && this.filteredData.length > 0) {\n            this.deselectRows(this.selectionService.getRowIDs(this.filteredData));\n        } else {\n            this.selectionService.clearAllSelectedRows();\n            this.notifyChanges();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public clearCellSelection(): void {\n        this.selectionService.clear(true);\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public dragScroll(dir: DragScrollDirection): void {\n        const scrollDelta = 48;\n        const horizontal = this.headerContainer.getScroll();\n        const vertical = this.verticalScrollContainer.getScroll();\n        switch (dir) {\n            case DragScrollDirection.LEFT:\n                horizontal.scrollLeft -= scrollDelta;\n                break;\n            case DragScrollDirection.RIGHT:\n                horizontal.scrollLeft += scrollDelta;\n                break;\n            case DragScrollDirection.TOP:\n                vertical.scrollTop -= scrollDelta;\n                break;\n            case DragScrollDirection.BOTTOM:\n                vertical.scrollTop += scrollDelta;\n                break;\n            case DragScrollDirection.BOTTOMLEFT:\n                horizontal.scrollLeft -= scrollDelta;\n                vertical.scrollTop += scrollDelta;\n                break;\n            case DragScrollDirection.BOTTOMRIGHT:\n                horizontal.scrollLeft += scrollDelta;\n                vertical.scrollTop += scrollDelta;\n                break;\n            case DragScrollDirection.TOPLEFT:\n                horizontal.scrollLeft -= scrollDelta;\n                vertical.scrollTop -= scrollDelta;\n                break;\n            case DragScrollDirection.TOPRIGHT:\n                horizontal.scrollLeft += scrollDelta;\n                vertical.scrollTop -= scrollDelta;\n                break;\n            default:\n                return;\n        }\n        this.wheelHandler();\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public isDefined(arg: any): boolean {\n        return arg !== undefined && arg !== null;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public selectRange(arg: GridSelectionRange | GridSelectionRange[] | null | undefined): void {\n        if (!this.isDefined(arg)) {\n            this.clearCellSelection();\n            return;\n        }\n        if (arg instanceof Array) {\n            arg.forEach(range => this.setSelection(range));\n        } else {\n            this.setSelection(arg);\n        }\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public columnToVisibleIndex(field: string | number): number {\n        const visibleColumns = this.visibleColumns;\n        if (typeof field === 'number') {\n            return field;\n        }\n        return visibleColumns.find(column => column.field === field).visibleIndex;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public setSelection(range: GridSelectionRange): void {\n        const startNode = { row: range.rowStart, column: this.columnToVisibleIndex(range.columnStart) };\n        const endNode = { row: range.rowEnd, column: this.columnToVisibleIndex(range.columnEnd) };\n\n        this.selectionService.pointerState.node = startNode;\n        this.selectionService.selectRange(endNode, this.selectionService.pointerState);\n        this.selectionService.addRangeMeta(endNode, this.selectionService.pointerState);\n        this.selectionService.initPointerState();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    getSelectedRanges(): GridSelectionRange[] {\n        return this.selectionService.ranges;\n    }\n\n\n    protected extractDataFromSelection(source: any[], formatters = false, headers = false): any[] {\n        let columnsArray: IgxColumnComponent[];\n        let record = {};\n        const selectedData = [];\n        const activeEl = this.selectionService.activeElement;\n\n        const selectionMap = Array.from(this.selectionService.selection)\n            .filter((tuple) => tuple[0] < source.length);\n\n        if (this.cellSelection === GridSelectionMode.single && activeEl) {\n            selectionMap.push([activeEl.row, new Set<number>().add(activeEl.column)]);\n        }\n\n        for (const [row, set] of selectionMap) {\n            if (!source[row] || source[row].detailsData !== undefined) {\n                continue;\n            }\n            const temp = Array.from(set);\n            for (const each of temp) {\n                columnsArray = this.getSelectableColumnsAt(each);\n                columnsArray.forEach((col) => {\n                    if (col) {\n                        const key = headers ? col.header || col.field : col.field;\n                        record[key] = formatters && col.formatter ? col.formatter(source[row][col.field])\n                            : source[row][col.field];\n                    }\n                });\n            }\n            if (Object.keys(record).length) {\n                selectedData.push(record);\n            }\n            record = {};\n        }\n        return selectedData;\n    }\n\n    protected getSelectableColumnsAt(index) {\n        if (this.hasColumnLayouts) {\n            const visibleLayoutColumns = this.visibleColumns\n                .filter(col => col.columnLayout)\n                .sort((a, b) => a.visibleIndex - b.visibleIndex);\n            const colLayout = visibleLayoutColumns[index];\n            return colLayout ? colLayout.children.toArray() : [];\n        } else {\n            const visibleColumns = this.visibleColumns\n                .filter(col => !col.columnGroup)\n                .sort((a, b) => a.visibleIndex - b.visibleIndex);\n            return [visibleColumns[index]];\n        }\n    }\n\n    /**\n     *\n     * Returns an array of the current cell selection in the form of `[{ column.field: cell.value }, ...]`.\n     * @remarks\n     * If `formatters` is enabled, the cell value will be formatted by its respective column formatter (if any).\n     * If `headers` is enabled, it will use the column header (if any) instead of the column field.\n     */\n    public getSelectedData(formatters = false, headers = false) {\n        const source = this.dataView;\n        return this.extractDataFromSelection(source, formatters, headers);\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public scrollHandler = (event) => {\n        this.headerContainer.scrollPosition += event.target.scrollLeft;\n        this.verticalScrollContainer.scrollPosition += event.target.scrollTop;\n        event.target.scrollLeft = 0;\n        event.target.scrollTop = 0;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    copyHandlerIE() {\n        if (isIE()) {\n            this.copyHandler(null, true);\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public copyHandler(event, ie11 = false) {\n        if (!this.clipboardOptions.enabled || this.crudService.inEditMode) {\n            return;\n        }\n\n        const data = this.getSelectedData(this.clipboardOptions.copyFormatters, this.clipboardOptions.copyHeaders);\n        const ev = { data, cancel: false } as IGridClipboardEvent;\n        this.onGridCopy.emit(ev);\n\n        if (ev.cancel) {\n            return;\n        }\n\n        const transformer = new CharSeparatedValueData(ev.data, this.clipboardOptions.separator);\n        let result = transformer.prepareData();\n\n        if (!this.clipboardOptions.copyHeaders) {\n            result = result.substring(result.indexOf('\\n') + 1);\n        }\n\n        if (ie11) {\n            (window as any).clipboardData.setData('Text', result);\n            return;\n        }\n\n        event.preventDefault();\n\n        /* Necessary for the hiearachical case but will probably have to\n           change how getSelectedData is propagated in the hiearachical grid\n        */\n        event.stopPropagation();\n        event.clipboardData.setData('text/plain', result);\n    }\n\n    /**Navigates to a posution in the grid based on provided `rowindex` and `visibleColumnIndex`.\n     * @remarks\n     * Also can execute a custom logic over the target element,\n     * through a callback function that accepts { targetType: GridKeydownTargetType, target: Object }\n     * @example\n     * ```typescript\n     *  this.grid.navigateTo(10, 3, (args) => { args.target.nativeElement.focus(); });\n     * ```\n     */\n    public navigateTo(rowIndex: number, visibleColIndex = -1, cb: Function = null) {\n        if (rowIndex < 0 || rowIndex > this.dataView.length - 1\n            || (visibleColIndex !== -1 && this.columnList.map(col => col.visibleIndex).indexOf(visibleColIndex) === -1)) {\n            return;\n        }\n        this.wheelHandler();\n        if (this.dataView.slice(rowIndex, rowIndex + 1).find(rec => rec.expression || rec.childGridsData)) {\n            visibleColIndex = -1;\n        }\n        const shouldScrollVertically = this.navigation.shouldPerformVerticalScroll(rowIndex, visibleColIndex);\n        const shouldScrollHorizontally = visibleColIndex !== -1 && !this.navigation.isColumnFullyVisible(visibleColIndex);\n        if (shouldScrollVertically) {\n            this.navigation.performVerticalScrollToCell(rowIndex, visibleColIndex,\n                () => { this.navigateTo(rowIndex, visibleColIndex, cb); });\n        } else if (shouldScrollHorizontally) {\n            this.navigation.performHorizontalScrollToCell(rowIndex, visibleColIndex, false,\n                     () => { this.navigateTo(rowIndex, visibleColIndex, cb); });\n        } else {\n            this.executeCallback(rowIndex, visibleColIndex, cb);\n        }\n    }\n\n    /**\n    * Returns `ICellPosition` which defines the next cell,\n    * according to the current position, that match specific criteria.\n    * @remarks\n    * You can pass callback function as a third parameter of `getPreviousCell` method.\n    * The callback function accepts IgxColumnComponent as a param\n    * @example\n    * ```typescript\n    *  const nextEditableCellPosition = this.grid.getNextCell(0, 3, (column) => column.editable);\n    * ```\n    */\n    public getNextCell(currRowIndex: number, curVisibleColIndex: number,\n        callback: (IgxColumnComponent) => boolean = null): ICellPosition {\n        const columns = this.columnList.filter(col => !col.columnGroup && col.visibleIndex >= 0);\n\n        if (!this.isValidPosition(currRowIndex, curVisibleColIndex)) {\n            return { rowIndex: currRowIndex, visibleColumnIndex: curVisibleColIndex };\n        }\n        const colIndexes = callback ? columns.filter((col) => callback(col)).map(editCol => editCol.visibleIndex).sort((a, b) => a - b) :\n            columns.map(editCol => editCol.visibleIndex).sort((a, b) => a - b);\n        const nextCellIndex = colIndexes.find(index => index > curVisibleColIndex);\n        if (this.dataView.slice(currRowIndex, currRowIndex + 1)\n            .find(rec => !rec.expression && !rec.summaries && !rec.childGridsData) && nextCellIndex !== undefined) {\n            return { rowIndex: currRowIndex, visibleColumnIndex: nextCellIndex };\n        } else {\n            if (colIndexes.length === 0 || this.getNextDataRowIndex(currRowIndex) === currRowIndex) {\n                return { rowIndex: currRowIndex, visibleColumnIndex: curVisibleColIndex };\n            } else {\n                return { rowIndex: this.getNextDataRowIndex(currRowIndex), visibleColumnIndex: colIndexes[0] };\n            }\n        }\n    }\n\n    /**\n    * Returns `ICellPosition` which defines the previous cell,\n    * according to the current position, that match specific criteria.\n    * @remarks\n    * You can pass callback function as a third parameter of `getPreviousCell` method.\n    * The callback function accepts IgxColumnComponent as a param\n    * @example\n    * ```typescript\n    *  const previousEditableCellPosition = this.grid.getPreviousCell(0, 3, (column) => column.editable);\n    * ```\n    */\n    public getPreviousCell(currRowIndex: number, curVisibleColIndex: number,\n        callback: (IgxColumnComponent) => boolean = null): ICellPosition {\n        const columns = this.columnList.filter(col => !col.columnGroup && col.visibleIndex >= 0);\n\n        if (!this.isValidPosition(currRowIndex, curVisibleColIndex)) {\n            return { rowIndex: currRowIndex, visibleColumnIndex: curVisibleColIndex };\n        }\n        const colIndexes = callback ? columns.filter((col) => callback(col)).map(editCol => editCol.visibleIndex).sort((a, b) => b - a) :\n            columns.map(editCol => editCol.visibleIndex).sort((a, b) => b - a);\n        const prevCellIndex = colIndexes.find(index => index < curVisibleColIndex);\n        if (this.dataView.slice(currRowIndex, currRowIndex + 1)\n            .find(rec => !rec.expression && !rec.summaries && !rec.childGridsData) && prevCellIndex !== undefined) {\n            return { rowIndex: currRowIndex, visibleColumnIndex: prevCellIndex };\n        } else {\n            if (colIndexes.length === 0 || this.getPrevDataRowIndex(currRowIndex) === currRowIndex) {\n                return { rowIndex: currRowIndex, visibleColumnIndex: curVisibleColIndex };\n            } else {\n                return { rowIndex: this.getPrevDataRowIndex(currRowIndex), visibleColumnIndex: colIndexes[0] };\n            }\n        }\n    }\n\n    private executeCallback(rowIndex, visibleColIndex = -1, cb: Function = null) {\n        if (!cb) { return; }\n        let targetType, target;\n        const row = this.summariesRowList.filter(s => s.index !== 0).concat(this.rowList.toArray()).find(r => r.index === rowIndex);\n        if (!row) { return; }\n        switch (row.nativeElement.tagName.toLowerCase()) {\n            case 'igx-grid-groupby-row':\n                targetType = GridKeydownTargetType.groupRow;\n                target = row;\n                break;\n            case 'igx-grid-summary-row':\n                targetType = GridKeydownTargetType.summaryCell;\n                target = visibleColIndex !== -1 ?\n                    row.summaryCells.find(c => c.visibleColumnIndex === visibleColIndex) : row.summaryCells.first;\n                break;\n            case 'igx-child-grid-row':\n                targetType = GridKeydownTargetType.hierarchicalRow;\n                target = row;\n                break;\n            default:\n                targetType = GridKeydownTargetType.dataCell;\n                target = visibleColIndex !== -1 ? row.cells.find(c => c.visibleColumnIndex === visibleColIndex) : row.cells.first;\n                break;\n        }\n        const args = { targetType: targetType, target: target };\n        cb(args);\n    }\n\n    private getPrevDataRowIndex(currentRowIndex): number {\n        if (currentRowIndex <= 0) { return currentRowIndex; }\n\n        const prevRow = this.dataView.slice(0, currentRowIndex).reverse()\n            .find(rec => !rec.expression && !rec.summaries && !rec.childGridsData);\n        return prevRow ? this.dataView.indexOf(prevRow) : currentRowIndex;\n    }\n\n    private getNextDataRowIndex(currentRowIndex): number {\n        if (currentRowIndex === this.dataView.length) { return currentRowIndex; }\n\n        const nextRow = this.dataView.slice(currentRowIndex + 1, this.dataView.length)\n            .find(rec => !rec.expression && !rec.summaries && !rec.childGridsData);\n        return nextRow ? this.dataView.indexOf(nextRow) : currentRowIndex;\n    }\n\n    private isValidPosition(rowIndex, colIndex): boolean {\n        const rows = this.summariesRowList.filter(s => s.index !== 0).concat(this.rowList.toArray()).length;\n        const cols = this.columnList.filter(col => !col.columnGroup && col.visibleIndex >= 0 && !col.hidden).length;\n        if (rows < 1 || cols < 1) { return false; }\n        if (rowIndex > -1 && rowIndex < this.dataView.length &&\n            colIndex > - 1 && colIndex < cols) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public wheelHandler = (isScroll = false) => {\n        if (this.document.activeElement &&\n            // tslint:disable-next-line:no-bitwise\n            (this.document.activeElement.compareDocumentPosition(this.tbody.nativeElement) & Node.DOCUMENT_POSITION_CONTAINS ||\n            // tslint:disable-next-line:no-bitwise\n            (this.document.activeElement.\n                compareDocumentPosition(this.tfoot.nativeElement) & Node.DOCUMENT_POSITION_CONTAINS && isScroll))) {\n            (this.document.activeElement as HTMLElement).blur();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public trackColumnChanges(index, col) {\n        return col.field + col._calcWidth;\n    }\n\n    private find(text: string, increment: number, caseSensitive?: boolean, exactMatch?: boolean, scroll?: boolean) {\n        if (!this.rowList) {\n            return 0;\n        }\n\n        this.endEdit(false);\n\n        if (!text) {\n            this.clearSearch();\n            return 0;\n        }\n\n        const caseSensitiveResolved = caseSensitive ? true : false;\n        const exactMatchResolved = exactMatch ? true : false;\n        let rebuildCache = false;\n\n        if (this.lastSearchInfo.searchText !== text ||\n            this.lastSearchInfo.caseSensitive !== caseSensitiveResolved ||\n            this.lastSearchInfo.exactMatch !== exactMatchResolved) {\n            this.lastSearchInfo = {\n                searchText: text,\n                activeMatchIndex: 0,\n                caseSensitive: caseSensitiveResolved,\n                exactMatch: exactMatchResolved,\n                matchInfoCache: []\n            };\n\n            rebuildCache = true;\n        } else {\n            this.lastSearchInfo.activeMatchIndex += increment;\n        }\n\n        if (rebuildCache) {\n            this.rowList.forEach((row) => {\n                if (row.cells) {\n                    row.cells.forEach((c) => {\n                        c.highlightText(text, caseSensitiveResolved, exactMatchResolved);\n                    });\n                }\n            });\n\n            this.rebuildMatchCache();\n        }\n\n        if (this.lastSearchInfo.activeMatchIndex >= this.lastSearchInfo.matchInfoCache.length) {\n            this.lastSearchInfo.activeMatchIndex = 0;\n        } else if (this.lastSearchInfo.activeMatchIndex < 0) {\n            this.lastSearchInfo.activeMatchIndex = this.lastSearchInfo.matchInfoCache.length - 1;\n        }\n\n        if (this.lastSearchInfo.matchInfoCache.length) {\n            const matchInfo = this.lastSearchInfo.matchInfoCache[this.lastSearchInfo.activeMatchIndex];\n            this.lastSearchInfo = { ...this.lastSearchInfo };\n\n            if (scroll !== false) {\n                this.scrollTo(matchInfo.row, matchInfo.column);\n            }\n\n            IgxTextHighlightDirective.setActiveHighlight(this.id, {\n                column: matchInfo.column,\n                row: matchInfo.row,\n                index: matchInfo.index,\n            });\n\n        } else {\n            IgxTextHighlightDirective.clearActiveHighlight(this.id);\n        }\n\n        return this.lastSearchInfo.matchInfoCache.length;\n    }\n\n    /**\n     * Returns an array containing the filtered sorted data.\n     * @example\n     * ```typescript\n     * const filteredSortedData = this.grid1.filteredSortedData;\n     * ```\n    */\n    get filteredSortedData(): any[] {\n        return this._filteredSortedData;\n    }\n    set filteredSortedData(value: any[]) {\n        this._filteredSortedData = value;\n        this.refreshSearch(true);\n    }\n\n    /**\n     * @hidden\n     */\n    protected initPinning() {\n        let currentPinnedWidth = 0;\n        const pinnedColumns = [];\n        const unpinnedColumns = [];\n\n        this.calculateGridWidth();\n        this.resetCaches();\n        // When a column is a group or is inside a group, pin all related.\n        this._pinnedColumns.forEach(col => {\n            if (col.parent) {\n                col.parent.pinned = true;\n            }\n            if (col.columnGroup) {\n                col.children.forEach(child => child.pinned = true);\n            }\n        });\n\n        // Make sure we don't exceed unpinned area min width and get pinned and unpinned col collections.\n        // We take into account top level columns (top level groups and non groups).\n        // If top level is unpinned the pinning handles all children to be unpinned as well.\n        for (let i = 0; i < this._columns.length; i++) {\n            if (this._columns[i].pinned && !this._columns[i].parent) {\n                // Pinned column. Check if with it the unpinned min width is exceeded.\n                const colWidth = parseInt(this._columns[i].width, 10);\n                currentPinnedWidth += colWidth;\n                pinnedColumns.push(this._columns[i]);\n            } else if (this._columns[i].pinned && this._columns[i].parent) {\n                if (this._columns[i].topLevelParent.pinned) {\n                    pinnedColumns.push(this._columns[i]);\n                } else {\n                    this._columns[i].pinned = false;\n                    unpinnedColumns.push(this._columns[i]);\n                }\n            } else {\n                unpinnedColumns.push(this._columns[i]);\n            }\n        }\n\n        // Assign the applicaple collections.\n        this._pinnedColumns = pinnedColumns;\n        this._unpinnedColumns = unpinnedColumns;\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden\n     */\n    protected scrollTo(row: any | number, column: any | number, inCollection = this.filteredSortedData): void {\n        let delayScrolling = false;\n\n        if (this.paging && typeof (row) !== 'number') {\n            const rowIndex = inCollection.indexOf(row);\n            const page = Math.floor(rowIndex / this.perPage);\n\n            if (this.page !== page) {\n                delayScrolling = true;\n                this.page = page;\n            }\n        }\n\n        if (delayScrolling) {\n            this.verticalScrollContainer.onDataChanged.pipe(first()).subscribe(() => {\n                this.scrollDirective(this.verticalScrollContainer,\n                    typeof (row) === 'number' ? row : this.dataView.indexOf(row));\n            });\n        } else {\n            this.scrollDirective(this.verticalScrollContainer,\n                typeof (row) === 'number' ? row : this.dataView.indexOf(row));\n        }\n\n        this.scrollToHorizontally(column);\n    }\n\n    /**\n     * @hidden\n     */\n    protected scrollToHorizontally(column: any | number) {\n        let columnIndex = typeof column === 'number' ? column : this.getColumnByName(column).visibleIndex;\n        const scrollRow = this.rowList.find(r => r.virtDirRow);\n        const virtDir = scrollRow ? scrollRow.virtDirRow : null;\n        if (this.pinnedColumns.length) {\n            if (columnIndex >= this.pinnedColumns.length) {\n                columnIndex -= this.pinnedColumns.length;\n                this.scrollDirective(virtDir, columnIndex);\n            }\n        } else {\n            this.scrollDirective(virtDir, columnIndex);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected scrollDirective(directive: IgxGridForOfDirective<any>, goal: number): void {\n        if (!directive) {\n            return;\n        }\n        directive.scrollTo(goal);\n    }\n\n    private rebuildMatchCache() {\n        this.lastSearchInfo.matchInfoCache = [];\n\n        const caseSensitive = this.lastSearchInfo.caseSensitive;\n        const exactMatch = this.lastSearchInfo.exactMatch;\n        const searchText = caseSensitive ? this.lastSearchInfo.searchText : this.lastSearchInfo.searchText.toLowerCase();\n        const data = this.filteredSortedData;\n        const columnItems = this.visibleColumns.filter((c) => !c.columnGroup).sort((c1, c2) => c1.visibleIndex - c2.visibleIndex);\n\n        const numberPipe = new IgxDecimalPipeComponent(this.locale);\n        const datePipe = new IgxDatePipeComponent(this.locale);\n        data.forEach((dataRow) => {\n            columnItems.forEach((c) => {\n                const value = c.formatter ? c.formatter(dataRow[c.field]) :\n                    c.dataType === 'number' ? numberPipe.transform(dataRow[c.field], this.locale) :\n                        c.dataType === 'date' ? datePipe.transform(dataRow[c.field], this.locale)\n                            : dataRow[c.field];\n                if (value !== undefined && value !== null && c.searchable) {\n                    let searchValue = caseSensitive ? String(value) : String(value).toLowerCase();\n\n                    if (exactMatch) {\n                        if (searchValue === searchText) {\n                            this.lastSearchInfo.matchInfoCache.push({\n                                row: dataRow,\n                                column: c.field,\n                                index: 0,\n                            });\n                        }\n                    } else {\n                        let occurenceIndex = 0;\n                        let searchIndex = searchValue.indexOf(searchText);\n\n                        while (searchIndex !== -1) {\n                            this.lastSearchInfo.matchInfoCache.push({\n                                row: dataRow,\n                                column: c.field,\n                                index: occurenceIndex++,\n                            });\n\n                            searchValue = searchValue.substring(searchIndex + searchText.length);\n                            searchIndex = searchValue.indexOf(searchText);\n                        }\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public isExpandedGroup(_group: IGroupByRecord): boolean {\n        return undefined;\n    }\n\n    protected changeRowEditingOverlayStateOnScroll(row: IgxRowDirective<IgxGridBaseDirective & GridType>) {\n        if (!this.rowEditable || !this.rowEditingOverlay || this.rowEditingOverlay.collapsed) {\n            return;\n        }\n        if (!row) {\n            this.toggleRowEditingOverlay(false);\n        } else {\n            this.repositionRowEditingOverlay(row);\n        }\n    }\n\n    /**\n     * Should be called when data and/or isLoading input changes so that the overlay can be\n     * hidden/shown based on the current value of shouldOverlayLoading\n     */\n    protected evaluateLoadingState() {\n        if (this.shouldOverlayLoading) {\n            // a new overlay should be shown\n            const overlaySettings: OverlaySettings = {\n                outlet: this.loadingOutlet,\n                closeOnOutsideClick: false,\n                positionStrategy: new ContainerPositionStrategy()\n            };\n            if (!this._loadingId) {\n                this._loadingId = this.overlayService.attach(this.loadingOverlay, overlaySettings);\n                this.overlayService.show(this._loadingId, overlaySettings);\n            }\n        } else {\n            if (this._loadingId) {\n                this.overlayService.hide(this._loadingId);\n                this._loadingId = null;\n            }\n        }\n    }\n\n    /**\n     * @hidden @internal\n    */\n    openRowOverlay(id) {\n        this.configureRowEditingOverlay(id, this.rowList.length <= MIN_ROW_EDITING_COUNT_THRESHOLD);\n\n        this.rowEditingOverlay.open(this.rowEditSettings);\n        this.rowEditPositioningStrategy.isTopInitialPosition = this.rowEditPositioningStrategy.isTop;\n        this.rowEditingOverlay.element.addEventListener('wheel', this.rowEditingWheelHandler);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public closeRowEditingOverlay() {\n        this.rowEditingOverlay.element.removeEventListener('wheel', this.rowEditingWheelHandler);\n        this.rowEditPositioningStrategy.isTopInitialPosition = null;\n        this.rowEditingOverlay.close();\n        this.rowEditingOverlay.element.parentElement.style.display = '';\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public toggleRowEditingOverlay(show) {\n        const rowStyle = this.rowEditingOverlay.element.style;\n        if (show) {\n            rowStyle.display = 'block';\n        } else {\n            rowStyle.display = 'none';\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public repositionRowEditingOverlay(row: IgxRowDirective<IgxGridBaseDirective & GridType>) {\n        if (row && !this.rowEditingOverlay.collapsed) {\n            const rowStyle = this.rowEditingOverlay.element.parentElement.style;\n            if (row) {\n                rowStyle.display = '';\n                this.configureRowEditingOverlay(row.rowID);\n                this.rowEditingOverlay.reposition();\n            } else {\n                rowStyle.display = 'none';\n            }\n        }\n    }\n\n    private configureRowEditingOverlay(rowID: any, useOuter = false) {\n        this.rowEditSettings.outlet = useOuter ? this.parentRowOutletDirective : this.rowOutletDirective;\n        this.rowEditPositioningStrategy.settings.container = this.tbody.nativeElement;\n        const targetRow = this.gridAPI.get_row_by_key(rowID);\n        if (!targetRow) {\n            return;\n        }\n        this.rowEditPositioningStrategy.settings.target = targetRow.element.nativeElement;\n        this.toggleRowEditingOverlay(true);\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public get rowChangesCount() {\n        if (!this.crudService.row) {\n            return 0;\n        }\n        const rowChanges = this.transactions.getAggregatedValue(this.crudService.row.id, false);\n        return rowChanges ? Object.keys(rowChanges).length : 0;\n    }\n\n    protected writeToData(rowIndex: number, value: any) {\n        mergeObjects(this.gridAPI.get_all_data()[rowIndex], value);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    endRowTransaction(commit: boolean, row: IgxRow) {\n        row.newData = this.transactions.getAggregatedValue(row.id, true);\n\n        let args = row.createEditEventArgs();\n\n        if (!commit) {\n            this.onRowEditCancel.emit(args);\n            this.transactions.endPending(false);\n        } else {\n            args = this.gridAPI.update_row(row, row.newData);\n        }\n        if (args.cancel) {\n            this.transactions.startPending();\n            return;\n        }\n        this.crudService.endRowEdit();\n        this.closeRowEditingOverlay();\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public gridOutletKeyboardHandler(event) {\n        // TODO: This should be removed after grid keyboard refactoring\n        // call stopPropagation for keydown event for the outlet not to propagate event to the grid\n        event.stopPropagation();\n    }\n\n    // TODO: Refactor\n    /**\n     * Finishes the row transactions on the current row.\n     * @remarks\n     * If `commit === true`, passes them from the pending state to the data (or transaction service)\n     * @example\n     * ```html\n     * <button igxButton (click)=\"grid.endEdit(true)\">Commit Row</button>\n     * ```\n     * @param commit\n     */\n    public endEdit(commit = true, event?: Event) {\n        const row = this.crudService.row;\n        const cell = this.crudService.cell;\n\n        // TODO: Merge the crudService with wht BaseAPI service\n        if (!row && !cell) { return; }\n\n        commit ? this.gridAPI.submit_value() : this.gridAPI.escape_editMode();\n\n        if (!this.rowEditable || this.rowEditingOverlay && this.rowEditingOverlay.collapsed || !row) {\n            return;\n        }\n\n        this.endRowTransaction(commit, row);\n\n        const activeCell = this.selectionService.activeElement;\n        if (event && activeCell) {\n            const rowIndex = activeCell.row;\n            const visibleColIndex = activeCell.layout ? activeCell.layout.columnVisibleIndex : activeCell.column;\n            this.navigateTo(rowIndex, visibleColIndex, (c) => {\n                if (c.targetType === GridKeydownTargetType.dataCell && c.target) {\n                    c.target.nativeElement.focus();\n                }\n            });\n        }\n    }\n    /**\n     * @hidden\n     */\n    private rowEditingWheelHandler = (event: WheelEvent) => {\n        if (event.deltaY > 0) {\n            this.verticalScrollContainer.scrollNext();\n        } else {\n            this.verticalScrollContainer.scrollPrev();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get dataWithAddedInTransactionRows() {\n        const result = <any>cloneArray(this.gridAPI.get_all_data());\n        if (this.transactions.enabled) {\n            result.push(...this.transactions.getAggregatedChanges(true)\n                .filter(t => t.type === TransactionType.ADD)\n                .map(t => t.newValue));\n        }\n\n        return result;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public get dataLength() {\n        return this.transactions.enabled ? this.dataWithAddedInTransactionRows.length : this.gridAPI.get_all_data().length;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public hasHorizontalScroll() {\n        return this.totalWidth - this.unpinnedWidth > 0;\n    }\n\n    protected _restoreVirtState(row) {\n        // check virtualization state of data record added from cache\n        // in case state is no longer valid - update it.\n        const rowForOf = row.virtDirRow;\n        const gridScrLeft = rowForOf.getScroll().scrollLeft;\n        const left = -parseInt(rowForOf.dc.instance._viewContainer.element.nativeElement.style.left, 10);\n        const actualScrollLeft = left + rowForOf.getColumnScrollLeft(rowForOf.state.startIndex);\n        if (gridScrLeft !== actualScrollLeft) {\n            rowForOf.onHScroll(gridScrLeft);\n            rowForOf.cdr.detectChanges();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    protected getExportExcel(): boolean {\n        return this._exportExcel;\n    }\n\n    /**\n     * @hidden\n     */\n    protected getExportCsv(): boolean {\n        return this._exportCsv;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    get shouldOverlayLoading(): boolean {\n        return this.isLoading && this.data && this.data.length > 0;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public isSummaryRow(rowData): boolean {\n        return rowData.summaries && (rowData.summaries instanceof Map);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get isMultiRowSelectionEnabled(): boolean {\n        return this.rowSelection === GridSelectionMode.multiple;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get isRowSelectable(): boolean {\n        return this.rowSelection !== GridSelectionMode.none;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public get isCellSelectable() {\n        return this.cellSelection !== GridSelectionMode.none;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public viewDetachHandler(args: ICachedViewLoadedEventArgs) {\n        const context = args.view.context;\n        if (context['templateID'] === 'dataRow') {\n            // some browsers (like FireFox and Edge) do not trigger onBlur when the focused element is detached from DOM\n            // hence we need to trigger it manually when cell is detached.\n            const row = this.getRowByIndex(context.index);\n            const focusedCell = row && row.cells ? row.cells.find(x => x.focused) : false;\n            if (focusedCell) {\n                focusedCell.onBlur();\n            }\n        }\n    }\n\n    /**\n     * @hidden @internal\n    */\n    public cachedViewLoaded(args: ICachedViewLoadedEventArgs) {\n        if (this.hasHorizontalScroll()) {\n            const tmplId = args.context.templateID;\n            const index = args.context.index;\n            args.view.detectChanges();\n            this.zone.onStable.pipe(first()).subscribe(() => {\n                const row = tmplId === 'dataRow' ? this.getRowByIndex(index) : null;\n                const summaryRow = tmplId === 'summaryRow' ? this.summariesRowList.find((sr) => sr.dataRowIndex === index) : null;\n                if (row && row instanceof IgxRowDirective) {\n                    this._restoreVirtState(row);\n                } else if (summaryRow) {\n                    this._restoreVirtState(summaryRow);\n                }\n            });\n        }\n    }\n\n    /**\n     * Opens the advanced filtering dialog.\n     */\n    public openAdvancedFilteringDialog() {\n        if (!this._advancedFilteringOverlayId) {\n            this._advancedFilteringOverlaySettings.positionStrategy.settings.target =\n                (this as any).rootGrid ? (this as any).rootGrid.nativeElement : this.nativeElement;\n            this._advancedFilteringOverlaySettings.outlet = this.outletDirective;\n\n            this._advancedFilteringOverlayId = this.overlayService.attach(\n                IgxAdvancedFilteringDialogComponent,\n                this._advancedFilteringOverlaySettings,\n                {\n                    injector: this.viewRef.injector,\n                    componentFactoryResolver: this.resolver\n                });\n            this.overlayService.show(this._advancedFilteringOverlayId, this._advancedFilteringOverlaySettings);\n        }\n    }\n\n    /**\n     * Closes the advanced filtering dialog.\n     * @param applyChanges indicates whether the changes should be applied\n     */\n    public closeAdvancedFilteringDialog(applyChanges: boolean) {\n        if (this._advancedFilteringOverlayId) {\n            const advancedFilteringOverlay = this.overlayService.getOverlayById(this._advancedFilteringOverlayId);\n            const advancedFilteringDialog = advancedFilteringOverlay.componentRef.instance as IgxAdvancedFilteringDialogComponent;\n\n            if (applyChanges) {\n                advancedFilteringDialog.applyChanges();\n            }\n            advancedFilteringDialog.closeDialog();\n        }\n    }\n}\n","import { GridBaseAPIService } from '../api.service';\nimport { IgxGridComponent } from './grid.component';\nimport { IGroupByRecord } from '../../data-operations/groupby-record.interface';\nimport { IGroupByExpandState } from '../../data-operations/groupby-expand-state.interface';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { cloneArray } from '../../core/utils';\nimport { IGroupingExpression } from '../../data-operations/grouping-expression.interface';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class IgxGridAPIService extends GridBaseAPIService<IgxGridComponent> {\n\n    public groupBy(expression: IGroupingExpression): void {\n        const groupingState = cloneArray(this.grid.groupingExpressions);\n        const sortingState = cloneArray(this.grid.sortingExpressions);\n        this.prepare_sorting_expression([sortingState, groupingState], expression);\n        this.grid.groupingExpressions = groupingState;\n        this.arrange_sorting_expressions();\n    }\n\n    public groupBy_multiple(expressions: IGroupingExpression[]): void {\n        const groupingState = cloneArray(this.grid.groupingExpressions);\n        const sortingState = cloneArray(this.grid.sortingExpressions);\n\n        for (const each of expressions) {\n            this.prepare_sorting_expression([sortingState, groupingState], each);\n        }\n\n        this.grid.groupingExpressions = groupingState;\n        this.arrange_sorting_expressions();\n    }\n\n    public clear_groupby(name?: string | Array<string>) {\n        const groupingState = cloneArray(this.grid.groupingExpressions);\n        const sortingState = cloneArray(this.grid.sortingExpressions);\n\n        if (name) {\n            const names = typeof name === 'string' ? [ name ] : name;\n            const groupedCols = groupingState.filter((state) => names.indexOf(state.fieldName) < 0);\n            const newSortingExpr = sortingState.filter((state) => names.indexOf(state.fieldName) < 0);\n            this.grid.groupingExpressions = groupedCols;\n            this.grid.sortingExpressions = newSortingExpr;\n            names.forEach((colName) => {\n                const grExprIndex = groupingState.findIndex((exp) => exp.fieldName === colName);\n                const grpExpandState = this.grid.groupingExpansionState;\n                /* remove expansion states related to the cleared group\n                and all with deeper hierarchy than the cleared group */\n                this.grid.groupingExpansionState = grpExpandState\n                    .filter((val) => {\n                        return val.hierarchy && val.hierarchy.length <= grExprIndex;\n                    });\n            });\n        } else {\n            // clear all\n            this.grid.groupingExpressions = [];\n            this.grid.groupingExpansionState = [];\n            for (const grExpr of groupingState) {\n                const sortExprIndex = sortingState.findIndex((exp) => exp.fieldName === grExpr.fieldName);\n                if (sortExprIndex > -1) {\n                    sortingState.splice(sortExprIndex, 1);\n                }\n            }\n            this.grid.sortingExpressions = sortingState;\n        }\n    }\n\n    public groupBy_get_expanded_for_group(groupRow: IGroupByRecord): IGroupByExpandState {\n        const grState = this.grid.groupingExpansionState;\n        const hierarchy = DataUtil.getHierarchy(groupRow);\n        return grState.find((state) =>\n            DataUtil.isHierarchyMatch(state.hierarchy || [{ fieldName: groupRow.expression.fieldName, value: groupRow.value }], hierarchy));\n    }\n\n    public groupBy_is_row_in_group(groupRow: IGroupByRecord, rowID): boolean {\n        const grid = this.grid;\n        let rowInGroup = false;\n        groupRow.records.forEach(row => {\n            if (grid.primaryKey ? row[grid.primaryKey] === rowID : row === rowID) {\n                rowInGroup = true;\n            }\n        });\n        return rowInGroup;\n    }\n\n    public groupBy_toggle_group(groupRow: IGroupByRecord) {\n        const grid = this.grid;\n        if (grid.crudService.isInEditMode) {\n            grid.endEdit(true);\n        }\n\n        const expansionState = grid.groupingExpansionState;\n        const state: IGroupByExpandState = this.groupBy_get_expanded_for_group(groupRow);\n        if (state) {\n            state.expanded = !state.expanded;\n        } else {\n            expansionState.push({\n                expanded: !grid.groupsExpanded,\n                hierarchy: DataUtil.getHierarchy(groupRow)\n            });\n        }\n        this.grid.groupingExpansionState = [...expansionState];\n        if (grid.rowEditable) {\n            grid.repositionRowEditingOverlay(grid.rowInEditMode);\n        }\n    }\n\n    public groupBy_fully_expand_group(groupRow: IGroupByRecord) {\n        const state: IGroupByExpandState = this.groupBy_get_expanded_for_group(groupRow);\n        const expanded = state ? state.expanded : this.grid.groupsExpanded;\n        if (!expanded) {\n            this.groupBy_toggle_group(groupRow);\n        }\n        if (groupRow.groupParent) {\n            this.groupBy_fully_expand_group(groupRow.groupParent);\n        }\n    }\n\n    protected remove_grouping_expression(fieldName) {\n        const groupingExpressions = this.grid.groupingExpressions;\n        const index = groupingExpressions.findIndex((expr) => expr.fieldName === fieldName);\n        if (index !== -1) {\n            groupingExpressions.splice(index, 1);\n        }\n    }\n\n    public arrange_sorting_expressions() {\n        const groupingState = this.grid.groupingExpressions;\n        this.grid.sortingExpressions.sort((a, b) => {\n            const groupExprA = groupingState.find((expr) => expr.fieldName === a.fieldName);\n            const groupExprB = groupingState.find((expr) => expr.fieldName === b.fieldName);\n            if (groupExprA && groupExprB) {\n                return groupingState.indexOf(groupExprA) > groupingState.indexOf(groupExprB) ? 1 : -1;\n            } else if (groupExprA) {\n                return -1;\n            } else if (groupExprB) {\n                return 1;\n            } else {\n                return 0;\n            }\n        });\n    }\n\n    public get_groupBy_record_id(gRow: IGroupByRecord): string {\n        let recordId = '{ ';\n        const hierrarchy = DataUtil.getHierarchy(gRow);\n\n        for (let i = 0; i < hierrarchy.length; i++) {\n            const groupByKey = hierrarchy[i];\n            recordId += `'${groupByKey.fieldName}': '${groupByKey.value}'`;\n\n            if (i < hierrarchy.length - 1) {\n                recordId += ', ';\n            }\n        }\n        recordId += ' }';\n\n        return recordId;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { IgxGridBaseDirective } from './grid-base.directive';\nimport { first } from 'rxjs/operators';\nimport { IgxColumnComponent } from './columns/column.component';\nimport { IgxGridNavigationService } from './grid-navigation.service';\nimport { ISelectionNode } from './selection/selection.service';\n\n\nexport interface IStartNavigationCell {\n    rowStart: number;\n    colStart: number;\n    direction: NavigationDirection;\n}\n\nexport enum NavigationDirection {\n    horizontal = 'horizontal',\n    vertical = 'vertical'\n}\n\n\n/** @hidden */\n@Injectable()\nexport class IgxGridMRLNavigationService extends IgxGridNavigationService {\n\n    private startNavigationCell: IStartNavigationCell;\n\n    public grid: IgxGridBaseDirective;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public setStartNavigationCell(colStart: number, rowStart: number, dir: NavigationDirection) {\n        this.startNavigationCell = {\n            colStart: colStart,\n            rowStart: rowStart,\n            direction: dir\n        };\n    }\n\n    private applyNavigationCell(colStart: number, rowStart: number, navDirection: NavigationDirection): number {\n        const oppositeDir = navDirection === NavigationDirection.vertical ?\n            NavigationDirection.horizontal : NavigationDirection.vertical;\n        if (this.startNavigationCell && this.startNavigationCell.direction !== navDirection) {\n            this.startNavigationCell.direction = oppositeDir;\n        } else {\n            this.setStartNavigationCell(colStart, rowStart, oppositeDir);\n        }\n\n        return navDirection === NavigationDirection.vertical ?\n            this.startNavigationCell.colStart : this.startNavigationCell.rowStart;\n    }\n\n    public navigateUp(rowElement: HTMLElement, selectedNode: ISelectionNode) {\n        this.focusCellUpFromLayout(rowElement, selectedNode);\n    }\n\n    public navigateDown(rowElement: HTMLElement, selectedNode: ISelectionNode) {\n        this.focusCellDownFromLayout(rowElement, selectedNode);\n    }\n\n    public isColumnRightEdgeVisible(visibleColumnIndex: number): boolean {\n        const column = this.grid.columnList.filter(c => !c.columnGroup).find((col) => col.visibleIndex === visibleColumnIndex);\n        const forOfDir =  this.grid.headerContainer;\n        const horizontalScroll = forOfDir.getScroll();\n        if (!horizontalScroll.clientWidth || (column && column.pinned)) {\n            return true;\n        } else if (column) {\n            if (this.isParentColumnFullyVisible(column)) { return true; }\n            const scrollPos = this.getChildColumnScrollPositions(visibleColumnIndex);\n            return this.displayContainerWidth >= scrollPos.rightScroll - this.displayContainerScrollLeft &&\n            this.displayContainerScrollLeft <= scrollPos.leftScroll;\n        }\n        return false;\n    }\n    private isParentColumnFullyVisible(parent: IgxColumnComponent): boolean {\n        const forOfDir = this.grid.dataRowList.length > 0 ? this.grid.dataRowList.first.virtDirRow : this.grid.headerContainer;\n        const horizontalScroll = forOfDir.getScroll();\n        if (!horizontalScroll.clientWidth || parent.pinned) { return true; }\n        const index = forOfDir.igxForOf.indexOf(parent);\n        return this.displayContainerWidth >= forOfDir.getColumnScrollLeft(index + 1) - this.displayContainerScrollLeft &&\n            this.displayContainerScrollLeft <= forOfDir.getColumnScrollLeft(index);\n    }\n\n    public isColumnLeftEdgeVisible(visibleColumnIndex: number): boolean {\n        const forOfDir = this.grid.headerContainer;\n        const horizontalScroll = forOfDir.getScroll();\n        const column = this.grid.columnList.filter(c => !c.columnGroup).find((col) => col.visibleIndex === visibleColumnIndex);\n        if (!horizontalScroll.clientWidth || column.pinned) {\n            return true;\n        }\n        if (this.isParentColumnFullyVisible(column)) { return true; }\n        const scrollPos = this.getChildColumnScrollPositions(visibleColumnIndex);\n        return this.displayContainerScrollLeft <= scrollPos.leftScroll;\n    }\n\n    public onKeydownArrowRight(element: HTMLElement, selectedNode: ISelectionNode) {\n        this.focusNextCellFromLayout(element, selectedNode);\n    }\n\n    public onKeydownArrowLeft(element: HTMLElement, selectedNode: ISelectionNode) {\n        this.focusPrevCellFromLayout(element, selectedNode);\n    }\n    public get gridOrderedColumns(): IgxColumnComponent[] {\n        return [...this.grid.pinnedColumns, ...this.grid.unpinnedColumns].filter(c => !c.columnGroup)\n        .sort((a, b) => a.visibleIndex - b.visibleIndex);\n    }\n\n    public performTab(currentRowEl: HTMLElement, selectedNode: ISelectionNode) {\n        const visibleColumnIndex = selectedNode.layout ? selectedNode.layout.columnVisibleIndex : 0;\n        const nextElementColumn = this.grid.columns.find(x => !x.columnGroup && x.visibleIndex === visibleColumnIndex + 1);\n        const rowIndex = selectedNode.row;\n        const row = this.grid.getRowByIndex(rowIndex);\n        this._moveFocusToCell(currentRowEl, nextElementColumn, row, selectedNode, 'next');\n        if (nextElementColumn) {\n            this.setStartNavigationCell(nextElementColumn.colStart, nextElementColumn.rowStart, null);\n        }\n    }\n\n    protected _moveFocusToCell(currentRowEl: HTMLElement, nextElementColumn, row, selectedNode, dir) {\n        if (nextElementColumn && row.cells) {\n            let nextCell = row.cells.find(currCell => currCell.column === nextElementColumn);\n            const isVisible = this.isColumnRightEdgeVisible(nextElementColumn.visibleIndex);\n            if (!nextCell || !isVisible) {\n                this.grid.nativeElement.focus({ preventScroll: true });\n                const cb = () => {\n                    nextCell = row.cells.find(currCell => currCell.column === nextElementColumn);\n                    if (this.grid.rowEditable && this.isRowInEditMode(row.index)) {\n                        if (dir === 'next') {\n                            this.moveNextEditable(row.index, selectedNode.layout.columnVisibleIndex);\n                        } else {\n                            this.movePreviousEditable(row.index, selectedNode.layout.columnVisibleIndex);\n                        }\n                        return;\n                    }\n                    this._focusCell(nextCell.nativeElement);\n                };\n                this.performHorizontalScrollToCell(row.index, nextElementColumn.visibleIndex, false, cb);\n            } else {\n                if (this.grid.rowEditable && this.isRowInEditMode(row.index)) {\n                    if (dir === 'next') {\n                        this.moveNextEditable(row.index, selectedNode.layout.columnVisibleIndex);\n                    } else {\n                        this.movePreviousEditable(row.index, selectedNode.layout.columnVisibleIndex);\n                    }\n                    return;\n                }\n                this._focusCell(nextCell.nativeElement);\n            }\n        } else {\n            // end of layout reached\n            if (this.isRowInEditMode(row.index)) {\n                //  TODO: make gridAPI visible for internal use and remove cast to any\n                (this.grid as any).gridAPI.submit_value();\n                if (dir === 'next') {\n                    this.grid.rowEditTabs.first.element.nativeElement.focus();\n                } else {\n                    this.grid.rowEditTabs.last.element.nativeElement.focus();\n                }\n                return;\n            }\n            if (dir === 'next') {\n                super.navigateDown(currentRowEl, {row: row.index, column: 0});\n            } else {\n                 let lastVisibleIndex = 0;\n                this.grid.unpinnedColumns.forEach((col) => {\n                    lastVisibleIndex = Math.max(lastVisibleIndex, col.visibleIndex);\n                });\n                super.navigateUp(currentRowEl, {row: row.index, column: lastVisibleIndex});\n            }\n        }\n    }\n\n    public performShiftTabKey(currentRowEl: HTMLElement, selectedNode: ISelectionNode) {\n        const visibleColumnIndex = selectedNode.layout ? selectedNode.layout.columnVisibleIndex : 0;\n        const rowIndex = selectedNode.row;\n        const row = this.grid.getRowByIndex(rowIndex);\n        const prevElementColumn =\n         this.grid.columns.find(x => !x.columnGroup && x.visibleIndex === visibleColumnIndex - 1 && !x.hidden);\n         this._moveFocusToCell(currentRowEl, prevElementColumn, row, selectedNode, 'prev');\n        if (prevElementColumn) {\n            this.setStartNavigationCell(prevElementColumn.colStart, prevElementColumn.rowStart, null);\n        }\n    }\n\n    private focusCellUpFromLayout(rowElement: HTMLElement, selectedNode: ISelectionNode) {\n        const isNonDataRow = rowElement.tagName.toLowerCase() === 'igx-grid-groupby-row' || this._isDetailRecordAt(selectedNode.row);\n        const currentRowStart = selectedNode.layout ?  selectedNode.layout.rowStart : 1;\n        const currentColStart = this.applyNavigationCell(selectedNode.layout ? selectedNode.layout.colStart : 1,\n            currentRowStart,\n            NavigationDirection.vertical);\n        const parentIndex = selectedNode.column;\n        const columnLayout = this.grid.columns.find( x => x.columnLayout && x.visibleIndex === parentIndex);\n        let movePrev;\n        // check if element up is from the same layout\n        let upperElementColumn = columnLayout.children.find(c =>\n            (c.rowEnd === currentRowStart || c.rowStart + c.gridRowSpan === currentRowStart)  &&\n            c.colStart <= currentColStart &&\n            (currentColStart < c.colEnd || currentColStart < c.colStart + c.gridColumnSpan));\n        if (isNonDataRow || !upperElementColumn) {\n            // no prev row in current row layout, go to next row last rowstart\n            const layoutRowEnd = this.grid.multiRowLayoutRowSize + 1;\n            upperElementColumn = columnLayout.children.find(c =>\n                (c.rowEnd === layoutRowEnd || c.rowStart + c.gridRowSpan === layoutRowEnd) &&\n                c.colStart <= currentColStart &&\n                (currentColStart < c.colEnd || currentColStart < c.colStart + c.gridColumnSpan));\n            movePrev = true;\n        }\n        const rowIndex = movePrev ? selectedNode.row - 1 : selectedNode.row;\n        if (rowIndex < 0) {\n            // end of rows reached.\n            return;\n        }\n        let prevRow;\n        const cb = () => {\n            prevRow = this.grid.getRowByIndex(rowIndex);\n            if (prevRow && prevRow.cells) {\n                this._focusCell(upperElementColumn.cells.find((c) => c.rowIndex === prevRow.index).nativeElement);\n            } else if (prevRow) {\n                prevRow.nativeElement.focus({ preventScroll: true });\n            } else {\n                const prevElem = this.getRowByIndex(rowIndex, '') as any;\n                prevElem.focus({ preventScroll: true });\n            }\n        };\n        if (this.shouldPerformVerticalScroll(rowIndex, upperElementColumn.visibleIndex)) {\n            this.grid.nativeElement.focus({ preventScroll: true });\n                this.performVerticalScrollToCell(rowIndex, upperElementColumn.visibleIndex, cb);\n        } else {\n            cb();\n        }\n    }\n\n    private focusCellDownFromLayout(rowElement: HTMLElement, selectedNode: ISelectionNode) {\n        const isNonDataRow = rowElement.tagName.toLowerCase() === 'igx-grid-groupby-row' || this._isDetailRecordAt(selectedNode.row);\n        const parentIndex = selectedNode.column;\n        const columnLayout = this.grid.columns.find( x => x.columnLayout && x.visibleIndex === parentIndex);\n        const currentRowEnd = selectedNode.layout ? selectedNode.layout.rowEnd || selectedNode.layout.rowStart + 1 : 2;\n        const currentColStart = this.applyNavigationCell(selectedNode.layout ? selectedNode.layout.colStart : 1,\n            selectedNode.layout ? selectedNode.layout.rowStart : 1,\n            NavigationDirection.vertical);\n        let moveNext;\n        // check if element down is from the same layout\n        let nextElementColumn = columnLayout.children.find(c => c.rowStart === currentRowEnd &&\n            c.colStart <= currentColStart &&\n            (currentColStart < c.colEnd || currentColStart < c.colStart + c.gridColumnSpan));\n        if (isNonDataRow || !nextElementColumn) {\n            // no next row in current row layout, go to next row first rowstart\n            nextElementColumn = columnLayout.children.find(c => c.rowStart === 1 &&\n                c.colStart <= currentColStart &&\n                (currentColStart < c.colEnd || currentColStart < c.colStart + c.gridColumnSpan));\n            moveNext = true;\n        }\n        const rowIndex = moveNext ? selectedNode.row + 1 : selectedNode.row;\n        if (rowIndex > this.grid.dataView.length - 1) {\n            // end of rows reached.\n            return;\n        }\n        let nextRow;\n        const cb = () => {\n            nextRow = this.grid.getRowByIndex(rowIndex);\n            if (nextRow && nextRow.cells) {\n                this._focusCell(nextElementColumn.cells.find((c) => c.rowIndex === nextRow.index).nativeElement);\n            } else if (nextRow) {\n                nextRow.nativeElement.focus({ preventScroll: true });\n            } else {\n                const nextElem = this.getRowByIndex(rowIndex, '') as any;\n                nextElem.focus({ preventScroll: true });\n            }\n        };\n        if (this.shouldPerformVerticalScroll(rowIndex, nextElementColumn.visibleIndex)) {\n            this.grid.nativeElement.focus({ preventScroll: true });\n                this.performVerticalScrollToCell(rowIndex, nextElementColumn.visibleIndex, cb);\n        } else {\n            cb();\n        }\n    }\n\n    private focusNextCellFromLayout(cellElement: HTMLElement, selectedNode: ISelectionNode) {\n        const parentIndex = selectedNode.column;\n        let columnLayout = this.grid.columns.find( x => x.columnLayout && x.visibleIndex === parentIndex);\n        const currentColEnd = selectedNode.layout.colEnd || selectedNode.layout.colStart + 1;\n        const currentRowStart = this.applyNavigationCell(selectedNode.layout.colStart,\n            selectedNode.layout.rowStart,\n            NavigationDirection.horizontal);\n        const rowIndex = selectedNode.row;\n        // check if next element is from the same layout\n        let nextElementColumn = columnLayout.children.find(c => c.colStart === currentColEnd &&\n            c.rowStart <= currentRowStart &&\n            (currentRowStart < c.rowEnd || currentRowStart < c.rowStart + c.gridRowSpan));\n        if (!nextElementColumn) {\n            // no next column in current layout, search for next layout\n            columnLayout = this.grid.columns.find(c => c.columnLayout && !c.hidden && c.visibleIndex === columnLayout.visibleIndex + 1);\n            if (!columnLayout) {\n                // reached the end\n                return null;\n            }\n            // next element is from the next layout\n            nextElementColumn = columnLayout.children.find(c => c.colStart === 1 &&\n                c.rowStart <= currentRowStart &&\n                (currentRowStart < c.rowEnd || currentRowStart < c.rowStart + c.gridRowSpan));\n        }\n        const cb = () => {\n            const nextElement = nextElementColumn.cells.find((c) => c.rowIndex === rowIndex).nativeElement;\n           this._focusCell(nextElement);\n        };\n        if (!this.isColumnRightEdgeVisible(nextElementColumn.visibleIndex)) {\n            this.grid.nativeElement.focus({ preventScroll: true });\n            this.performHorizontalScrollToCell(rowIndex, nextElementColumn.visibleIndex, false, cb);\n        } else {\n            cb();\n        }\n    }\n\n    private focusPrevCellFromLayout(cellElement: HTMLElement, selectedNode: ISelectionNode) {\n        const parentIndex = selectedNode.column;\n        let columnLayout = this.grid.columns.find( x => x.columnLayout && x.visibleIndex === parentIndex);\n        const currentColStart = selectedNode.layout.colStart;\n        const currentRowStart = this.applyNavigationCell(currentColStart,\n            selectedNode.layout.rowStart,\n            NavigationDirection.horizontal);\n        const rowIndex = selectedNode.row;\n\n        // check previous element is from the same layout\n        let prevElementColumn = columnLayout.children\n        .find(c => (c.colEnd === currentColStart || c.colStart + c.gridColumnSpan === currentColStart ) &&\n            c.rowStart <= currentRowStart &&\n            (currentRowStart < c.rowEnd || currentRowStart < c.rowStart + c.gridRowSpan));\n        if (!prevElementColumn) {\n            // no prev column in current layout, seacrh for prev layout\n            columnLayout = this.grid.columns.find(c => c.columnLayout && !c.hidden && c.visibleIndex === columnLayout.visibleIndex - 1);\n            if (!columnLayout) {\n                // reached the end\n                return null;\n            }\n            const layoutSize = columnLayout.getInitialChildColumnSizes(columnLayout.children).length;\n            // first element is from the next layout\n            prevElementColumn = columnLayout.children\n            .find(c => (c.colEnd === layoutSize + 1 || c.colStart + c.gridColumnSpan === layoutSize + 1) &&\n                c.rowStart <= currentRowStart &&\n                (currentRowStart < c.rowEnd || currentRowStart < c.rowStart + c.gridRowSpan));\n        }\n\n        const cb = () => {\n            const prevElement = prevElementColumn.cells.find((c) => c.rowIndex === rowIndex).nativeElement;\n            this._focusCell(prevElement);\n        };\n        if (!this.isColumnLeftEdgeVisible(prevElementColumn.visibleIndex)) {\n            this.grid.nativeElement.focus({ preventScroll: true });\n            this.performHorizontalScrollToCell(rowIndex, prevElementColumn.visibleIndex, false, cb);\n        } else {\n            cb();\n        }\n    }\n\n    public onKeydownEnd(rowIndex: number, isSummary: boolean = false, cellRowStart?: number) {\n        const layouts = this.grid.columns.filter(c => c.columnLayout && !c.hidden).sort((a, b) => a.visibleIndex - b.visibleIndex);\n        const lastLayout = layouts[layouts.length - 1];\n        const lastLayoutChildren = lastLayout.children;\n        const layoutSize =  lastLayout.getInitialChildColumnSizes(lastLayoutChildren).length;\n        const currentRowStart = this.applyNavigationCell(\n            this.startNavigationCell ? this.startNavigationCell.colStart : 1,\n            cellRowStart || this.grid.multiRowLayoutRowSize,\n            NavigationDirection.horizontal);\n        const nextElementColumn = lastLayout.children.find(c =>\n            (c.colEnd === layoutSize + 1 || c.colStart + c.gridColumnSpan === layoutSize + 1) &&\n            c.rowStart <= currentRowStart &&\n            (currentRowStart < c.rowEnd || currentRowStart < c.rowStart + c.gridRowSpan));\n        const indexInLayout = lastLayoutChildren.toArray().indexOf(nextElementColumn);\n\n        const rowList = isSummary ? this.grid.summariesRowList : this.grid.dataRowList;\n        let rowElement = rowList.find((row) => row.index === rowIndex);\n        if (!rowElement) { return; }\n        rowElement = rowElement.nativeElement;\n\n        if (!this.isColumnRightEdgeVisible(nextElementColumn.visibleIndex)) {\n            this.grid.nativeElement.focus({ preventScroll: true });\n            const cb = () => {\n                const allBlocks = rowElement.querySelectorAll(this.getColumnLayoutSelector());\n                const cell = allBlocks[allBlocks.length - 1].children[indexInLayout];\n                this._focusCell(cell);\n            };\n            this.performHorizontalScrollToCell(rowIndex, nextElementColumn.visibleIndex, false, cb);\n            return;\n        } else {\n            const allBlocks = rowElement.querySelectorAll(this.getColumnLayoutSelector());\n            const cell =  allBlocks[allBlocks.length - 1].children[indexInLayout];\n            this._focusCell(cell);\n        }\n    }\n\n    public onKeydownHome(rowIndex: number, isSummary: boolean = false, cellRowStart: number = 1) {\n        const firstLayout = this.grid.columns.filter(c => c.columnLayout && !c.hidden)[0];\n        const lastLayoutChildren = firstLayout.children.toArray();\n        const currentRowStart = this.applyNavigationCell(\n            this.startNavigationCell ? this.startNavigationCell.colStart : 1,\n            cellRowStart,\n            NavigationDirection.horizontal);\n        const nextElementColumn = firstLayout.children.find(c =>\n            c.colStart === 1 &&\n            c.rowStart <= currentRowStart &&\n            (currentRowStart < c.rowEnd || currentRowStart < c.rowStart + c.gridRowSpan));\n        const indexInLayout = lastLayoutChildren.indexOf(nextElementColumn);\n\n        const rowList = isSummary ? this.grid.summariesRowList : this.grid.dataRowList;\n        let rowElement = rowList.find((row) => row.index === rowIndex);\n        if (!rowElement) { return; }\n        rowElement = rowElement.nativeElement;\n\n        if (!this.isColumnLeftEdgeVisible(nextElementColumn.visibleIndex)) {\n            this.grid.nativeElement.focus({ preventScroll: true });\n           const cb = () => {\n                const allBlocks = rowElement.querySelectorAll(this.getColumnLayoutSelector());\n                const cell = allBlocks[0].children[indexInLayout];\n                this._focusCell(cell);\n            };\n            this.performHorizontalScrollToCell(rowIndex, nextElementColumn.visibleIndex, false, cb);\n            return;\n        } else {\n            const allBlocks = rowElement.querySelectorAll(this.getColumnLayoutSelector());\n            const cell =  allBlocks[0].children[indexInLayout];\n            this._focusCell(cell);\n        }\n    }\n\n    protected getColumnLayoutSelector(): string {\n        return '.igx-grid__mrl-block';\n    }\n\n    protected getChildColumnScrollPositions(visibleColIndex: number): { leftScroll: number, rightScroll: number } {\n        const forOfDir = this.grid.dataRowList.length > 0 ? this.grid.dataRowList.first.virtDirRow : this.grid.headerContainer;\n        const targetCol: IgxColumnComponent = this.getColunmByVisibleIndex(visibleColIndex);\n        const parent = targetCol.parent;\n        const parentVIndex = forOfDir.igxForOf.indexOf(parent);\n        let leftScroll = forOfDir.getColumnScrollLeft(parentVIndex), rightScroll = 0;\n        // caculate offset from parent based on target column colStart and colEnd and the resolved child column sizes.\n        const childSizes = parent.getFilledChildColumnSizes(parent.children);\n        const colStart = targetCol.colStart || 1;\n        const colEnd = targetCol.colEnd || colStart + 1;\n        for (let i = 1; i < colStart; i++) {\n            leftScroll += parseInt(childSizes[i - 1], 10);\n        }\n        rightScroll += leftScroll;\n        for (let j = colStart; j < colEnd; j++) {\n            rightScroll +=  parseInt(childSizes[j - 1], 10);\n        }\n        return {leftScroll, rightScroll};\n    }\n\n    protected getColunmByVisibleIndex(visibleColIndex: number): IgxColumnComponent {\n        visibleColIndex = visibleColIndex < 0 ? 0 : visibleColIndex;\n        return this.grid.columnList.find((col) => !col.columnLayout && col.visibleIndex === visibleColIndex);\n    }\n\n    public shouldPerformVerticalScroll(rowIndex: number, visibleColumnIndex: number): boolean {\n        if (this._isGroupRecordAt(rowIndex) || this._isDetailRecordAt(rowIndex)) {\n            return super.shouldPerformVerticalScroll(rowIndex, visibleColumnIndex);\n       }\n        if (!super.shouldPerformVerticalScroll(rowIndex, visibleColumnIndex)) {return false; }\n       const targetRow = this.grid.summariesRowList.filter(s => s.index !== 0)\n           .concat(this.grid.rowList.toArray()).find(r => r.index === rowIndex);\n       const scrollTop =  Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop);\n       const containerHeight = this.grid.calcHeight ? Math.ceil(this.grid.calcHeight) : 0;\n       const scrollPos = this.getVerticalScrollPositions(rowIndex, visibleColumnIndex);\n       if (!targetRow || targetRow.nativeElement.offsetTop + scrollPos.topOffset < Math.abs(this.verticalDCTopOffset)\n           || containerHeight && containerHeight < scrollPos.rowBottom - scrollTop) {\n           return true;\n       } else {\n           return false;\n       }\n   }\n\n   get verticalDCTopOffset(): number {\n        return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top, 10);\n    }\n\n    private _isGroupRecordAt(rowIndex: number) {\n        const record = this.grid.dataView[rowIndex];\n        return record.records && record.records.length;\n    }\n    private _isDetailRecordAt(rowIndex: number) {\n        const record = this.grid.dataView[rowIndex];\n        return this.grid.isDetailRecord(record);\n    }\n\n    public performVerticalScrollToCell(rowIndex: number, visibleColumnIndex: number, cb?: () => void) {\n        if (this._isGroupRecordAt(rowIndex) || this._isDetailRecordAt(rowIndex)) {\n            return super.performVerticalScrollToCell(rowIndex, visibleColumnIndex, cb);\n        }\n        const containerHeight = this.grid.calcHeight ? Math.ceil(this.grid.calcHeight) : 0;\n        const scrollTop = Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop);\n        const scrollPos = this.getVerticalScrollPositions(rowIndex, visibleColumnIndex);\n        const targetRow = this.grid.summariesRowList.filter(s => s.index !== 0)\n            .concat(this.grid.rowList.toArray()).find(r => r.index === rowIndex);\n        const isPrevious =  (scrollTop > scrollPos.rowTop) && (!targetRow ||\n                targetRow.nativeElement.offsetTop + scrollPos.topOffset < Math.abs(this.verticalDCTopOffset));\n        const scrollAmount = isPrevious ? scrollPos.rowTop : Math.abs(scrollTop + containerHeight - scrollPos.rowBottom);\n\n        this.grid.verticalScrollContainer.onChunkLoad\n        .pipe(first()).subscribe(() => {\n            cb();\n        });\n\n        if (isPrevious) {\n            this.grid.verticalScrollContainer.scrollPosition = scrollAmount;\n        } else {\n            this.grid.verticalScrollContainer.addScrollTop(scrollAmount);\n        }\n    }\n\n    public getVerticalScrollPositions(rowIndex: number, visibleColIndex: number): { rowTop: number, rowBottom: number, topOffset: number } {\n        const targetCol: IgxColumnComponent = this.getColunmByVisibleIndex(visibleColIndex);\n        const topOffset = (targetCol.rowStart - 1)  * this.grid.defaultRowHeight;\n        const rowTop = this.grid.verticalScrollContainer.sizesCache[rowIndex] + topOffset;\n        const rowBottom = rowTop + (this.grid.defaultRowHeight * targetCol.gridRowSpan);\n        return { rowTop, rowBottom, topOffset };\n    }\n\n    public performHorizontalScrollToCell(\n        rowIndex: number, visibleColumnIndex: number, isSummary: boolean = false, cb?: () => void) {\n        const scrollPos = this.getChildColumnScrollPositions(visibleColumnIndex);\n        const hScroll = this.horizontalScroll(rowIndex);\n        this.grid.parentVirtDir.onChunkLoad\n            .pipe(first())\n            .subscribe(() => {\n                if (cb) {\n                    cb();\n                } else {\n                    this._focusCell(this.getCellElementByVisibleIndex(rowIndex, visibleColumnIndex, isSummary));\n                }\n        });\n        const isPrevItem =  hScroll.getScroll().scrollLeft > scrollPos.leftScroll;\n        const containerSize = parseInt(hScroll.igxForContainerSize, 10);\n        const nextScroll = isPrevItem ? scrollPos.leftScroll : scrollPos.rightScroll - containerSize;\n        hScroll.scrollPosition = nextScroll;\n    }\n\n    protected _focusCell(cellElem: HTMLElement) {\n        // in case of variable row heights in mrl grid make sure cell is really in view after it has been rendered.\n        const gridBoundingClientRect = this.grid.tbody.nativeElement.getBoundingClientRect();\n        const diffTop = cellElem.getBoundingClientRect().top - gridBoundingClientRect.top;\n        const diffBottom = cellElem.getBoundingClientRect().bottom - gridBoundingClientRect.bottom;\n\n        if (diffTop < 0) {\n            // cell is above grid top - not visible\n            this.grid.nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first())\n                .subscribe(() => {\n                    cellElem.focus({ preventScroll: true });\n            });\n            this.grid.verticalScrollContainer.addScrollTop(diffTop);\n        } else if (diffBottom > 0) {\n            // cell is below grid bottom - not visible\n            this.grid.nativeElement.focus({ preventScroll: true });\n            this.grid.verticalScrollContainer.onChunkLoad\n                .pipe(first())\n                .subscribe(() => {\n                    cellElem.focus({ preventScroll: true });\n            });\n            this.grid.verticalScrollContainer.addScrollTop(diffBottom);\n        }  else {\n            // cell is visible\n            cellElem.focus({ preventScroll: true });\n        }\n    }\n\n    public goToFirstCell() {\n        this.startNavigationCell = null;\n        super.goToFirstCell();\n    }\n\n    public goToLastCell() {\n        this.startNavigationCell = null;\n        super.goToLastCell();\n    }\n}\n","import {\n    Component, ChangeDetectionStrategy, Input, Output, EventEmitter, ContentChild, ViewChildren,\n    QueryList, ViewChild, ElementRef, TemplateRef, DoCheck, AfterContentInit, HostBinding, forwardRef, OnInit, AfterViewInit, HostListener\n} from '@angular/core';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxGridNavigationService } from '../grid-navigation.service';\nimport { IgxGridAPIService } from './grid-api.service';\nimport { ISortingExpression } from '../../data-operations/sorting-expression.interface';\nimport { cloneArray, IBaseEventArgs } from '../../core/utils';\nimport { IGroupByRecord } from '../../data-operations/groupby-record.interface';\nimport { IgxGroupByRowTemplateDirective, IgxGridDetailTemplateDirective } from './grid.directives';\nimport { IgxGridGroupByRowComponent } from './groupby-row.component';\nimport { IGroupByExpandState } from '../../data-operations/groupby-expand-state.interface';\nimport { IBaseChipEventArgs, IChipClickEventArgs, IChipKeyDownEventArgs } from '../../chips/chip.component';\nimport { IChipsAreaReorderEventArgs } from '../../chips/chips-area.component';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { IGroupingExpression } from '../../data-operations/grouping-expression.interface';\nimport { IgxColumnResizingService } from '../resizing/resizing.service';\nimport { IgxGridSummaryService } from '../summaries/grid-summary.service';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { IgxForOfSyncService, IgxForOfScrollSyncService } from '../../directives/for-of/for_of.sync.service';\nimport { IgxDragIndicatorIconDirective } from '../row-drag.directive';\nimport { IgxGridMRLNavigationService } from '../grid-mrl-navigation.service';\nimport { IgxRowIslandAPIService } from '../hierarchical-grid/row-island-api.service';\nimport { FilterMode } from '../common/enums';\nimport { GridType } from '../common/grid.interface';\nimport { DeprecateMethod } from '../../core/deprecateDecorators';\n\nlet NEXT_ID = 0;\n\nexport interface IGroupingDoneEventArgs extends IBaseEventArgs {\n    expressions: Array<ISortingExpression> | ISortingExpression;\n    groupedColumns: Array<IgxColumnComponent> | IgxColumnComponent;\n    ungroupedColumns: Array<IgxColumnComponent> | IgxColumnComponent;\n}\n\n/**\n * Grid provides a way to present and manipulate tabular data.\n *@igxModule IgxGridModule\n *@igxGroup Grids & Lists\n *@igxKeywords grid, table\n *@igxTheme igx-grid-theme\n *@remarks\n * The Ignite UI Grid is used for presenting and manipulating tabular data in the simplest way possible.  Once data\n * has been bound, it can be manipulated through filtering, sorting & editing operations.\n *@example\n * ```html\n * <igx-grid [data]=\"employeeData\" autoGenerate=\"false\">\n *   <igx-column field=\"first\" header=\"First Name\"></igx-column>\n *   <igx-column field=\"last\" header=\"Last Name\"></igx-column>\n *   <igx-column field=\"role\" header=\"Role\"></igx-column>\n * </igx-grid>\n * ```\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    providers: [\n        IgxGridNavigationService,\n        IgxGridSummaryService,\n        IgxGridSelectionService,\n        IgxGridCRUDService,\n        { provide: GridBaseAPIService, useClass: IgxGridAPIService },\n        { provide: IgxGridBaseDirective, useExisting: forwardRef(() => IgxGridComponent) },\n        IgxFilteringService,\n        IgxColumnResizingService,\n        IgxForOfSyncService,\n        IgxForOfScrollSyncService,\n        IgxRowIslandAPIService\n    ],\n    selector: 'igx-grid',\n    templateUrl: './grid.component.html'\n})\nexport class IgxGridComponent extends IgxGridBaseDirective implements GridType, OnInit, DoCheck, AfterContentInit, AfterViewInit {\n    private _id = `igx-grid-${NEXT_ID++}`;\n    /**\n     * @hidden @internal\n     */\n    public groupingResult: any[];\n\n    /**\n     * @hidden @internal\n     */\n    public groupingMetadata: any[];\n\n    /**\n     * @hidden @internal\n     */\n    public groupingFlatResult: any[];\n    /**\n     * @hidden\n     */\n    protected _groupingExpressions: IGroupingExpression[] = [];\n    /**\n     * @hidden\n     */\n    protected _groupingExpandState: IGroupByExpandState[] = [];\n    /**\n     * @hidden\n     */\n    protected _groupRowTemplate: TemplateRef<any>;\n    /**\n     * @hidden\n     */\n    protected _groupAreaTemplate: TemplateRef<any>;\n    /**\n     * @hidden\n     */\n    protected groupingDiffer;\n    private _data;\n    private _hideGroupedColumns = false;\n    private _dropAreaMessage = null;\n\n    /**\n     * Gets/Sets the value of the `id` attribute.\n     * @remarks\n     * If not provided it will be automatically generated.\n     * @example\n     * ```html\n     * <igx-grid [id]=\"'igx-grid-1'\" [data]=\"Data\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public get id(): string {\n        return this._id;\n    }\n    public set id(value: string) {\n        this._id = value;\n    }\n\n    /**\n     * Gets/Sets the array of data that populates the `IgxGridComponent`.\n     * @example\n     * ```html\n     * <igx-grid [data]=\"Data\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n    */\n    @Input()\n    public get data(): any[] {\n        return this._data;\n    }\n\n    public set data(value: any[]) {\n        this._data = value || [];\n        this.summaryService.clearSummaryCache();\n        if (this.shouldGenerate) {\n            this.setupColumns();\n        }\n        this.cdr.markForCheck();\n    }\n\n    /**\n     * Gets/Sets an array of objects containing the filtered data.\n     * @example\n     * ```typescript\n     * let filteredData = this.grid.filteredData;\n     * this.grid.filteredData = [...];\n     * ```\n     */\n    get filteredData() {\n        return this._filteredData;\n    }\n\n    set filteredData(value) {\n        this._filteredData = value;\n    }\n\n    /**\n     * Gets/Sets the total number of records in the data source.\n     * @remarks\n     * This property is required for remote grid virtualization to function when it is bound to remote data.\n     * @example\n     * ```typescript\n     * const itemCount = this.grid1.totalItemCount;\n     * this.grid1.totalItemCount = 55;\n     * ```\n     */\n    set totalItemCount(count) {\n        this.verticalScrollContainer.totalItemCount = count;\n        this.cdr.detectChanges();\n    }\n\n    get totalItemCount() {\n        return this.verticalScrollContainer.totalItemCount;\n    }\n\n    private get _gridAPI(): IgxGridAPIService {\n        return this.gridAPI as IgxGridAPIService;\n    }\n    private _filteredData = null;\n\n    private childDetailTemplates: Map<any, any> = new Map();\n\n    /**\n     * Gets/Sets the group by state.\n     * @example\n     * ```typescript\n     * let groupByState = this.grid.groupingExpressions;\n     * this.grid.groupingExpressions = [...];\n     * ```\n     * @remarks\n     * Supports two-way data binding.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [autoGenerate]=\"true\" [(groupingExpressions)]=\"model.groupingExpressions\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get groupingExpressions(): IGroupingExpression[] {\n        return this._groupingExpressions;\n    }\n\n    set groupingExpressions(value: IGroupingExpression[]) {\n        if (value && value.length > 10) {\n            throw Error('Maximum amount of grouped columns is 10.');\n        }\n        const oldExpressions: IGroupingExpression[] = this.groupingExpressions;\n        const newExpressions: IGroupingExpression[] = value;\n        this._groupingExpressions = cloneArray(value);\n        this.groupingExpressionsChange.emit(this._groupingExpressions);\n        this.chipsGoupingExpressions = cloneArray(value);\n        if (this._gridAPI.grid) {\n            /* grouping should work in conjunction with sorting\n            and without overriding separate sorting expressions */\n            this._applyGrouping();\n            this._gridAPI.arrange_sorting_expressions();\n            this.notifyChanges();\n        } else {\n            // setter called before grid is registered in grid API service\n            this.sortingExpressions.unshift.apply(this.sortingExpressions, this._groupingExpressions);\n        }\n        if (!this._init && JSON.stringify(oldExpressions) !== JSON.stringify(newExpressions) && this.columnList) {\n            const groupedCols: IgxColumnComponent[] = [];\n            const ungroupedCols: IgxColumnComponent[] = [];\n            const groupedColsArr = newExpressions.filter((obj) => {\n                return !oldExpressions.some((obj2) => {\n                    return obj.fieldName === obj2.fieldName;\n                });\n            });\n            groupedColsArr.forEach((elem) => {\n                groupedCols.push(this.getColumnByName(elem.fieldName));\n            }, this);\n            const ungroupedColsArr = oldExpressions.filter((obj) => {\n                return !newExpressions.some((obj2) => {\n                    return obj.fieldName === obj2.fieldName;\n                });\n            });\n            ungroupedColsArr.forEach((elem) => {\n                ungroupedCols.push(this.getColumnByName(elem.fieldName));\n            }, this);\n            this.notifyChanges();\n            const groupingDoneArgs: IGroupingDoneEventArgs = {\n                expressions: newExpressions,\n                groupedColumns: groupedCols,\n                ungroupedColumns: ungroupedCols\n            };\n            this.onGroupingDone.emit(groupingDoneArgs);\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public groupingExpressionsChange = new EventEmitter<IGroupingExpression[]>();\n\n    /**\n     * Gets/Sets a list of expansion states for group rows.\n     * @remarks\n     * Includes only states that differ from the default one (controlled through groupsExpanded and states that the user has changed.\n     * Contains the expansion state (expanded: boolean) and the unique identifier for the group row (Array).\n     * Supports two-way data binding.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [autoGenerate]=\"true\" [(groupingExpansionState)]=\"model.groupingExpansionState\"></igx-grid>\n     * ```\n     */\n    @Input()\n    get groupingExpansionState() {\n        return this._groupingExpandState;\n    }\n\n    set groupingExpansionState(value) {\n        if (value !== this._groupingExpandState) {\n            this.groupingExpansionStateChange.emit(value);\n        }\n        this._groupingExpandState = value;\n        if (this.gridAPI.grid) {\n            this.cdr.detectChanges();\n        }\n    }\n\n    /**\n    *@hidden @internal\n    */\n    @Output()\n    public groupingExpansionStateChange = new EventEmitter<IGroupByExpandState[]>();\n\n    /**\n     * Gets/Sets whether created groups are rendered expanded or collapsed.\n     * @remarks\n     * The default rendered state is expanded.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"Data\" [groupsExpanded]=\"false\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public groupsExpanded = true;\n\n    /**\n     * Gets the hierarchical representation of the group by records.\n     * @example\n     * ```typescript\n     * let groupRecords = this.grid.groupsRecords;\n     * ```\n     */\n    public groupsRecords: IGroupByRecord[] = [];\n\n    /**\n     * Gets/Sets whether the grouped columns should be hidden.\n     * @remarks\n     * The default value is \"false\"\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" [hideGroupedColumns]=\"true\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Input()\n    public get hideGroupedColumns() {\n        return this._hideGroupedColumns;\n    }\n\n    public set hideGroupedColumns(value: boolean) {\n        if (value) {\n            this.groupingDiffer = this.differs.find(this.groupingExpressions).create();\n        } else {\n            this.groupingDiffer = null;\n        }\n        if (this.columnList && this.groupingExpressions) {\n            this._setGroupColsVisibility(value);\n        }\n\n        this._hideGroupedColumns = value;\n    }\n\n    /**\n     * Gets/Sets the message displayed inside the GroupBy drop area where columns can be dragged on.\n     * @remarks\n     * The grid needs to have at least one groupable column in order the GroupBy area to be displayed.\n     * @example\n     * ```html\n     * <igx-grid dropAreaMessage=\"Drop here to group!\">\n     *      <igx-column [groupable]=\"true\" field=\"ID\"></igx-column>\n     * </igx-grid>\n     * ```\n     */\n    @Input()\n    set dropAreaMessage(value: string) {\n        this._dropAreaMessage = value;\n        this.notifyChanges();\n    }\n\n    get dropAreaMessage(): string {\n        return this._dropAreaMessage || this.resourceStrings.igx_grid_groupByArea_message;\n    }\n\n    /**\n     * Gets/Sets the template that will be rendered as a GroupBy drop area.\n     *@remarks\n     * The grid needs to have at least one groupable column in order the GroupBy area to be displayed.\n     * @example\n     * ```html\n     * <igx-grid [dropAreaTemplate]=\"dropAreaRef\">\n     * </igx-grid>\n     * <ng-template #myDropArea>\n     *      <span> Custom drop area! </span>\n     * </ng-template>\n     * ```\n     */\n    @Input()\n    public dropAreaTemplate: TemplateRef<any>;\n\n    /**\n     * Emitted when columns are grouped/ungrouped.\n     * @remarks\n     * The `onGroupingDone` event would be raised only once if several columns get grouped at once by calling\n     * the `groupBy()` or `clearGrouping()` API methods and passing an array as an argument.\n     * The event arguments provide the `expressions`, `groupedColumns` and `ungroupedColumns` properties, which contain\n     * the `ISortingExpression` and the `IgxColumnComponent` related to the grouping/ungrouping operation.\n     * Please note that `groupedColumns` and `ungroupedColumns` show only the **newly** changed columns (affected by the **last**\n     * grouping/ungrouping operation), not all columns which are currently grouped/ungrouped.\n     * columns.\n     * @example\n     * ```html\n     * <igx-grid #grid [data]=\"localData\" (onGroupingDone)=\"groupingDone($event)\" [autoGenerate]=\"true\"></igx-grid>\n     * ```\n     */\n    @Output()\n    public onGroupingDone = new EventEmitter<IGroupingDoneEventArgs>();\n\n    /**\n     * @hidden @internal\n     */\n    @ContentChild(IgxGroupByRowTemplateDirective, { read: IgxGroupByRowTemplateDirective })\n    protected groupTemplate: IgxGroupByRowTemplateDirective;\n\n    /**\n     * @hidden @internal\n     */\n    @ContentChild(IgxGridDetailTemplateDirective, { read: IgxGridDetailTemplateDirective, static: false })\n    protected gridDetailsTemplate: IgxGridDetailTemplateDirective;\n\n    @ViewChildren(IgxGridGroupByRowComponent, { read: IgxGridGroupByRowComponent })\n    private _groupsRowList: QueryList<IgxGridGroupByRowComponent>;\n\n    /**\n     * @hidden @internal\n     */\n    @ViewChild('defaultDropArea', { read: TemplateRef, static: true })\n    public defaultDropAreaTemplate: TemplateRef<any>;\n\n    /**\n     * Gets the list of group rows.\n     * @example\n     * ```typescript\n     * const groupList = this.grid.groupsRowList;\n     * ```\n     */\n    public get groupsRowList() {\n        const res = new QueryList<any>();\n        if (!this._groupsRowList) {\n            return res;\n        }\n        const rList = this._groupsRowList.filter((item) => {\n            return item.element.nativeElement.parentElement !== null;\n        }).sort((item1, item2) => item1.index - item2.index);\n        res.reset(rList);\n        return res;\n    }\n\n    /**\n     * @hidden @internal\n    */\n    @ViewChild('groupArea')\n    public groupArea: ElementRef;\n    /**\n    * @hidden @internal\n    */\n    @ViewChild('record_template', { read: TemplateRef, static: true })\n    protected recordTemplate: TemplateRef<any>;\n\n    @ViewChild('detail_template_container', { read: TemplateRef, static: true })\n    protected detailTemplateContainer: TemplateRef<any>;\n\n    /**\n    * @hidden @internal\n    */\n    @ContentChild(IgxGridDetailTemplateDirective, { read: TemplateRef, static: false })\n    public detailTemplate: TemplateRef<any> = null;\n\n    @ViewChild('group_template', { read: TemplateRef, static: true })\n    protected defaultGroupTemplate: TemplateRef<any>;\n\n    @ViewChild('summary_template', { read: TemplateRef, static: true })\n    protected summaryTemplate: TemplateRef<any>;\n\n\n\n\n    /**\n     *@hidden @internal\n     */\n    @Output()\n    private _focusIn = new  EventEmitter<any>();\n    @HostListener('focusin') onFocusIn() {\n        this._focusIn.emit();\n    }\n\n    /**\n     *@hidden @internal\n    */\n    public getDetailsContext(rowData, index) {\n        return {\n            $implicit: rowData,\n            index: index\n        };\n    }\n\n    /**\n    *@hidden @internal\n    */\n    public preventContainerScroll(evt) {\n        if (evt.target.scrollTop !== 0 && this.hasDetails) {\n            const activeElem = document.activeElement;\n            this.verticalScrollContainer.addScrollTop(evt.target.scrollTop);\n            evt.target.scrollTop = 0;\n            this.verticalScrollContainer.onChunkLoad.pipe(first()).subscribe(() => {\n                const active = this.selectionService.activeElement;\n                const currRow = (this.navigation as any).getRowByIndex(active.row, '');\n                // check if the focused element was a child of the details view\n                if (this.isDetailRecord(active.row) && currRow && currRow.contains(activeElem)) {\n                    // Some browsers (like Edge/IE) lose focus after scrolling even when the element was in the DOM.\n                    (activeElem as any).focus({ preventScroll: true });\n                    return;\n                }\n                const nextCellTarget = this.navigation.getCellElementByVisibleIndex(active.row, active.column);\n                const nextRowTarget = (this.navigation as any).getRowByIndex(active.row + 1, '');\n                if (nextCellTarget) {\n                    nextCellTarget.focus({ preventScroll: true });\n                } else if (nextRowTarget) {\n                    nextRowTarget.focus({ preventScroll: true });\n                }\n            });\n        }\n    }\n\n    /**\n    *@hidden @internal\n    */\n    public trackChanges(index, rec) {\n        if (rec.detailsData !== undefined) {\n            return rec.detailsData;\n        }\n        return rec;\n    }\n\n    /**\n    *@hidden @internal\n    */\n    public detailsViewFocused(container, rowIndex) {\n        this.selectionService.activeElement = {\n            row: rowIndex,\n            column: this.selectionService.activeElement ? this.selectionService.activeElement.column : 0\n        };\n    }\n\n    /**\n    *@hidden @internal\n    */\n    public detailsKeyboardHandler(event, rowIndex, container) {\n        const colIndex = this.selectionService.activeElement ? this.selectionService.activeElement.column : 0;\n        const shift = event.shiftKey;\n        const ctrl = event.ctrlKey;\n        const key = event.key.toLowerCase();\n        const target = event.target;\n        if (key === 'tab') {\n            event.stopPropagation();\n            const lastColIndex = this.unpinnedColumns[this.unpinnedColumns.length - 1].visibleIndex;\n            if (shift && target === container) {\n                // shift + tab from details to data row\n                event.preventDefault();\n                this.navigateTo(rowIndex - 1, lastColIndex,\n                    (args) => args.target.nativeElement.focus());\n            } else if (!shift) {\n                // when the next element is focused via tab check if it is an element outside the details view\n                // if so we have exited the details view and focus should move to the first cell in the next row\n                this._focusIn.pipe(first()).subscribe(() => {\n                    if (!container.contains(document.activeElement)) {\n                      this.navigation.performTab(container, {row: rowIndex, column: lastColIndex});\n                    }\n                });\n            }\n        } else if (key === 'arrowup' && !ctrl && target === container) {\n            this.navigation.navigateUp(container, {row: rowIndex, column: colIndex});\n        } else if (key === 'arrowup' && ctrl && target === container) {\n            this.navigation.navigateTop(colIndex);\n        } else if (key === 'arrowdown' && !ctrl && target === container) {\n            this.navigation.navigateDown(container, {row: rowIndex, column: colIndex});\n        } else if (key === 'arrowdown' && ctrl && target === container) {\n            this.navigation.navigateBottom(colIndex);\n        }\n    }\n\n\n    /**\n    *@hidden @internal\n    */\n    public get hasDetails() {\n        return !!this.gridDetailsTemplate;\n    }\n\n    /**\n    * @hidden @internal\n    */\n   public getRowTemplate(rowData) {\n        if (this.isGroupByRecord(rowData)) {\n            return this.defaultGroupTemplate;\n        } else if (this.isSummaryRow(rowData)) {\n            return this.summaryTemplate;\n        }  else if (this.hasDetails && this.isDetailRecord(rowData)) {\n                return this.detailTemplateContainer;\n        } else {\n            return this.recordTemplate;\n        }\n   }\n\n    /**\n    * @hidden @internal\n    */\n   public isDetailRecord(record) {\n    return record.detailsData !== undefined;\n   }\n    /**\n     * @hidden @internal\n     */\n    get groupAreaHostClass(): string {\n        return this.getComponentDensityClass('igx-drop-area');\n    }\n\n    /**\n     * Gets/Sets the template reference for the group row.\n     * @example\n     * ```\n     * const groupRowTemplate = this.grid.groupRowTemplate;\n     * this.grid.groupRowTemplate = myRowTemplate;\n     * ```\n     */\n    get groupRowTemplate(): TemplateRef<any> {\n        return this._groupRowTemplate;\n    }\n\n    set groupRowTemplate(template: TemplateRef<any>) {\n        this._groupRowTemplate = template;\n        this.notifyChanges();\n    }\n\n\n    /**\n     * Gets/Sets the template reference of the `IgxGridComponent`'s group area.\n     * @example\n     * ```typescript\n     * const groupAreaTemplate = this.grid.groupAreaTemplate;\n     * this.grid.groupAreaTemplate = myAreaTemplate.\n     * ```\n     */\n    get groupAreaTemplate(): TemplateRef<any> {\n        return this._groupAreaTemplate;\n    }\n\n    set groupAreaTemplate(template: TemplateRef<any>) {\n        this._groupAreaTemplate = template;\n        this.notifyChanges();\n    }\n\n    /**\n     * Groups by a new `IgxColumnComponent` based on the provided expression, or modifies an existing one.\n     * @remarks\n     * Also allows for multiple columns to be grouped at once if an array of `ISortingExpression` is passed.\n     * The onGroupingDone event would get raised only **once** if this method gets called multiple times with the same arguments.\n     * @example\n     * ```typescript\n     * this.grid.groupBy({ fieldName: name, dir: SortingDirection.Asc, ignoreCase: false });\n     * this.grid.groupBy([\n            { fieldName: name1, dir: SortingDirection.Asc, ignoreCase: false },\n            { fieldName: name2, dir: SortingDirection.Desc, ignoreCase: true },\n            { fieldName: name3, dir: SortingDirection.Desc, ignoreCase: false }\n        ]);\n     * ```\n     */\n    public groupBy(expression: IGroupingExpression | Array<IGroupingExpression>): void {\n        if (this.checkIfNoColumnField(expression)) {\n            return;\n        }\n        this.endEdit(true);\n        if (expression instanceof Array) {\n            this._gridAPI.groupBy_multiple(expression);\n        } else {\n            this._gridAPI.groupBy(expression);\n        }\n        this.notifyChanges(true);\n    }\n\n    /**\n     * Clears grouping for particular column, array of columns or all columns.\n     * @remarks\n     * Clears all grouping in the grid, if no parameter is passed.\n     * If a parameter is provided, clears grouping for a particular column or an array of columns.\n     * @example\n     * ```typescript\n     * this.grid.clearGrouping(); //clears all grouping\n     * this.grid.clearGrouping(\"ID\"); //ungroups a single column\n     * this.grid.clearGrouping([\"ID\", \"Column1\", \"Column2\"]); //ungroups multiple columns\n     * ```\n     *@param name Name of column or array of column names to be ungrouped.\n     */\n    public clearGrouping(name?: string | Array<string>): void {\n        this._gridAPI.clear_groupby(name);\n        this.notifyChanges(true);\n    }\n\n    /**\n     * Returns if a group is expanded or not.\n     * @param group The group record.\n     * @example\n     * ```typescript\n     * public groupRow: IGroupByRecord;\n     * const expandedGroup = this.grid.isExpandedGroup(this.groupRow);\n     * ```\n     */\n    public isExpandedGroup(group: IGroupByRecord): boolean {\n        const state: IGroupByExpandState = this._getStateForGroupRow(group);\n        return state ? state.expanded : this.groupsExpanded;\n    }\n\n    /**\n     * Toggles the expansion state of a group.\n     * @param groupRow The group record to toggle.\n     * @example\n     * ```typescript\n     * public groupRow: IGroupByRecord;\n     * const toggleExpGroup = this.grid.toggleGroup(this.groupRow);\n     * ```\n     */\n    public toggleGroup(groupRow: IGroupByRecord) {\n        this._toggleGroup(groupRow);\n        this.notifyChanges();\n    }\n\n    /**\n     * Expands the specified group and all of its parent groups.\n     * @param groupRow The group record to fully expand.\n     * @example\n     * ```typescript\n     * public groupRow: IGroupByRecord;\n     * this.grid.fullyExpandGroup(this.groupRow);\n     * ```\n     */\n    public fullyExpandGroup(groupRow: IGroupByRecord) {\n        this._fullyExpandGroup(groupRow);\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public isGroupByRecord(record: any): boolean {\n        // return record.records instance of GroupedRecords fails under Webpack\n        return record.records && record.records.length;\n    }\n\n    /**\n     * Toggles the expansion state of all group rows recursively.\n     * @example\n     * ```typescript\n     * this.grid.toggleAllGroupRows;\n     * ```\n     */\n    public toggleAllGroupRows() {\n        this.groupingExpansionState = [];\n        this.groupsExpanded = !this.groupsExpanded;\n        this.notifyChanges();\n    }\n\n    /**\n     * Returns if the `IgxGridComponent` has groupable columns.\n     * @example\n     * ```typescript\n     * const groupableGrid = this.grid.hasGroupableColumns;\n     * ```\n     */\n    get hasGroupableColumns(): boolean {\n        return this.columnList.some((col) => col.groupable && !col.columnGroup);\n    }\n\n    private _setGroupColsVisibility(value) {\n        if (this.columnList.length > 0 && !this.hasColumnLayouts) {\n            this.groupingExpressions.forEach((expr) => {\n                const col = this.getColumnByName(expr.fieldName);\n                col.hidden = value;\n            });\n        }\n    }\n\n    /**\n     * Gets if the grid's group by drop area is visible.\n     * @example\n     * ```typescript\n     * const dropVisible = this.grid.dropAreaVisible;\n     * ```\n     */\n    public get dropAreaVisible(): boolean {\n        return (this.draggedColumn && this.draggedColumn.groupable) ||\n            !this.chipsGoupingExpressions.length;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected _getStateForGroupRow(groupRow: IGroupByRecord): IGroupByExpandState {\n        return this._gridAPI.groupBy_get_expanded_for_group(groupRow);\n    }\n\n    /**\n     * @hidden\n     */\n    protected _toggleGroup(groupRow: IGroupByRecord) {\n        this._gridAPI.groupBy_toggle_group(groupRow);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected _fullyExpandGroup(groupRow: IGroupByRecord) {\n        this._gridAPI.groupBy_fully_expand_group(groupRow);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected _applyGrouping() {\n        this._gridAPI.sort_multiple(this._groupingExpressions);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public isColumnGrouped(fieldName: string): boolean {\n        return this.groupingExpressions.find(exp => exp.fieldName === fieldName) ? true : false;\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public getContext(rowData, rowIndex): any {\n        if (this.isDetailRecord(rowData)) {\n            const cachedData = this.childDetailTemplates.get(rowData.detailsData);\n            const rowID = this.primaryKey ? rowData.detailsData[this.primaryKey] : this.data.indexOf(rowData.detailsData);\n            if (cachedData) {\n                const view = cachedData.view;\n                const tmlpOutlet = cachedData.owner;\n                return {\n                    $implicit: rowData.detailsData,\n                    moveView: view,\n                    owner: tmlpOutlet,\n                    index: this.dataView.indexOf(rowData),\n                    templateID: 'detailRow-' + rowID\n                };\n            } else {\n                // child rows contain unique grids, hence should have unique templates\n                return {\n                    $implicit: rowData.detailsData,\n                    templateID: 'detailRow-' + rowID,\n                    index: this.dataView.indexOf(rowData)\n                };\n            }\n        }\n        return {\n            $implicit: rowData,\n            index: rowIndex,\n            templateID: this.isGroupByRecord(rowData) ? 'groupRow' : this.isSummaryRow(rowData) ? 'summaryRow' : 'dataRow'\n        };\n    }\n\n     /**\n     * @hidden @internal\n     */\n    public viewCreatedHandler(args) {\n        if (args.context.templateID.indexOf('detailRow') !== -1) {\n            this.childDetailTemplates.set(args.context.$implicit, args);\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public viewMovedHandler(args) {\n        if (args.context.templateID.indexOf('detailRow') !== -1) {\n            // view was moved, update owner in cache\n            const key = args.context.$implicit;\n            const cachedData = this.childDetailTemplates.get(key);\n            cachedData.owner = args.owner;\n        }\n    }\n\n\n    /**\n    * @hidden @internal\n    */\n    public get template(): TemplateRef<any> {\n        if (this.filteredData && this.filteredData.length === 0) {\n            return this.emptyGridTemplate ? this.emptyGridTemplate : this.emptyFilteredGridTemplate;\n        }\n\n        if (this.isLoading && (!this.data || this.dataLength === 0)) {\n            return this.loadingGridTemplate ? this.loadingGridTemplate : this.loadingGridDefaultTemplate;\n        }\n\n        if (this.dataLength === 0) {\n            return this.emptyGridTemplate ? this.emptyGridTemplate : this.emptyGridDefaultTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onChipRemoved(event: IBaseChipEventArgs) {\n        this.clearGrouping(event.owner.id);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public chipsOrderChanged(event: IChipsAreaReorderEventArgs) {\n        const newGrouping = [];\n        for (let i = 0; i < event.chipsArray.length; i++) {\n            const expr = this.groupingExpressions.filter((item) => {\n                return item.fieldName === event.chipsArray[i].id;\n            })[0];\n\n            if (!this.getColumnByName(expr.fieldName).groupable) {\n                // disallow changing order if there are columns with groupable: false\n                return;\n            }\n            newGrouping.push(expr);\n        }\n        this.groupingExpansionState = [];\n        this.chipsGoupingExpressions = newGrouping;\n\n        if (event.originalEvent instanceof KeyboardEvent) {\n            // When reordered using keyboard navigation, we don't have `onMoveEnd` event.\n            this.groupingExpressions = this.chipsGoupingExpressions;\n        }\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public chipsMovingEnded() {\n        this.groupingExpressions = this.chipsGoupingExpressions;\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public onChipClicked(event: IChipClickEventArgs) {\n        const sortingExpr = this.sortingExpressions;\n        const columnExpr = sortingExpr.find((expr) => expr.fieldName === event.owner.id);\n        columnExpr.dir = 3 - columnExpr.dir;\n        this.sort(columnExpr);\n        this.notifyChanges();\n    }\n\n    /**\n     *@hidden @internal\n     */\n    public onChipKeyDown(event: IChipKeyDownEventArgs) {\n        if (event.originalEvent.key === ' ' || event.originalEvent.key === 'Spacebar' || event.originalEvent.key === 'Enter') {\n            const sortingExpr = this.sortingExpressions;\n            const columnExpr = sortingExpr.find((expr) => expr.fieldName === event.owner.id);\n            columnExpr.dir = 3 - columnExpr.dir;\n            this.sort(columnExpr);\n            this.notifyChanges();\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected get defaultTargetBodyHeight(): number {\n        const allItems = this.totalItemCount || this.dataLength;\n        return this.renderedRowHeight * Math.min(this._defaultTargetRecordNumber,\n            this.paging ? Math.min(allItems, this.perPage) : allItems);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected getGroupAreaHeight(): number {\n        return this.groupArea ? this.groupArea.nativeElement.offsetHeight : 0;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected scrollTo(row: any | number, column: any | number): void {\n        if (this.groupingExpressions && this.groupingExpressions.length\n            && typeof(row) !== 'number') {\n            const rowIndex = this.groupingResult.indexOf(row);\n            const groupByRecord = this.groupingMetadata[rowIndex];\n            if (groupByRecord) {\n                this._fullyExpandGroup(groupByRecord);\n            }\n        }\n\n        super.scrollTo(row, column, this.groupingFlatResult);\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public get dropAreaTemplateResolved(): TemplateRef<any> {\n        if (this.dropAreaTemplate) {\n            return this.dropAreaTemplate;\n        } else {\n            return this.defaultDropAreaTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public getGroupByChipTitle(expression: IGroupingExpression): string {\n        const column = this.getColumnByName(expression.fieldName);\n        return (column && column.header) || expression.fieldName;\n    }\n    /**\n     * @hidden @internal\n     */\n    public get iconTemplate() {\n        if (this.groupsExpanded) {\n            return this.headerExpandIndicatorTemplate || this.defaultExpandedTemplate;\n        } else {\n            return this.headerCollapseIndicatorTemplate || this.defaultCollapsedTemplate;\n        }\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public getColumnGroupable(fieldName: string): boolean {\n        const column = this.getColumnByName(fieldName);\n        return column && column.groupable;\n    }\n\n    /**\n     * @hidden @internal\n     */\n    public ngAfterContentInit() {\n        super.ngAfterContentInit();\n        if (this.allowFiltering && this.hasColumnLayouts) {\n            this.filterMode = FilterMode.excelStyleFilter;\n        }\n        if (this.groupTemplate) {\n            this._groupRowTemplate = this.groupTemplate.template;\n        }\n\n        if (this.hideGroupedColumns && this.columnList && this.groupingExpressions) {\n            this._setGroupColsVisibility(this.hideGroupedColumns);\n        }\n        this._setupNavigationService();\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public ngAfterViewInit() {\n        super.ngAfterViewInit();\n        this.verticalScrollContainer.onBeforeViewDestroyed.pipe(takeUntil(this.destroy$)).subscribe((view) => {\n            const rowData = view.context.$implicit;\n            if (this.isDetailRecord(rowData)) {\n                const cachedData = this.childDetailTemplates.get(rowData.detailsData);\n                if (cachedData) {\n                    const tmlpOutlet = cachedData.owner;\n                    tmlpOutlet._viewContainerRef.detach(0);\n                }\n            }\n        });\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public ngOnInit() {\n        super.ngOnInit();\n        this.onGroupingDone.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n            this.endEdit(true);\n            this.summaryService.updateSummaryCache(args);\n            this._headerFeaturesWidth = NaN;\n        });\n    }\n\n    /**\n    * @hidden @internal\n    */\n    public ngDoCheck(): void {\n        if (this.groupingDiffer && this.columnList && !this.hasColumnLayouts) {\n            const changes = this.groupingDiffer.diff(this.groupingExpressions);\n            if (changes && this.columnList.length > 0) {\n                changes.forEachAddedItem((rec) => {\n                    const col = this.getColumnByName(rec.item.fieldName);\n                    col.hidden = true;\n                });\n                changes.forEachRemovedItem((rec) => {\n                    const col = this.getColumnByName(rec.item.fieldName);\n                    col.hidden = false;\n                });\n            }\n        }\n        super.ngDoCheck();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getSelectedData(formatters = false, headers = false): any[] {\n        if (this.groupingExpressions.length) {\n            const source = [];\n\n            const process = (record) => {\n                if (record.expression || record.summaries) {\n                    source.push(null);\n                    return;\n                }\n                source.push(record);\n\n            };\n\n            this.dataView.forEach(process);\n            return this.extractDataFromSelection(source, formatters, headers);\n        } else {\n            return super.getSelectedData(formatters, headers);\n        }\n    }\n\n    private _setupNavigationService() {\n        if (this.hasColumnLayouts) {\n            this.navigation = new IgxGridMRLNavigationService();\n            this.navigation.grid = this;\n        }\n    }\n\n    private checkIfNoColumnField(expression: IGroupingExpression | Array<IGroupingExpression> | any): boolean {\n        if (expression instanceof Array) {\n            for (const singleExpression of expression) {\n                if (!singleExpression.fieldName) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        return !expression.fieldName;\n    }\n\n}\n","import { Directive, Optional, Input, NgModule, Host, ComponentFactoryResolver, ViewContainerRef } from '@angular/core';\nimport { ISortingExpression } from '../data-operations/sorting-expression.interface';\nimport { FilteringExpressionsTree, IFilteringExpressionsTree } from '../data-operations/filtering-expressions-tree';\nimport { IFilteringExpression } from '../data-operations/filtering-expression.interface';\nimport { IgxColumnComponent } from './columns/column.component';\nimport { IGroupingExpression } from '../data-operations/grouping-expression.interface';\nimport { IPagingState } from '../data-operations/paging-state.interface';\nimport { DataType } from '../data-operations/data-util';\nimport { IgxBooleanFilteringOperand, IgxNumberFilteringOperand, IgxDateFilteringOperand,\n    IgxStringFilteringOperand, IFilteringOperation} from '../data-operations/filtering-condition';\nimport { GridSelectionRange } from './selection/selection.service';\nimport { IGroupByExpandState } from '../data-operations/groupby-expand-state.interface';\nimport { IGroupingState } from '../data-operations/groupby-state.interface';\nimport { IgxGridComponent } from './grid/grid.component';\n\nexport interface IGridState {\n    columns?: IColumnState[];\n    filtering?: IFilteringExpressionsTree;\n    advancedFiltering?: IFilteringExpressionsTree;\n    paging?: IPagingState;\n    sorting?: ISortingExpression[];\n    groupBy?: IGroupingState;\n    cellSelection?: GridSelectionRange[];\n    rowSelection?: any[];\n}\n\nexport interface IGridStateOptions {\n    columns?: boolean;\n    filtering?: boolean;\n    advancedFiltering?: boolean;\n    sorting?: boolean;\n    groupBy?: boolean;\n    paging?: boolean;\n    cellSelection?: boolean;\n    rowSelection?: boolean;\n}\n\nexport interface IColumnState {\n    pinned: boolean;\n    sortable: boolean;\n    filterable: boolean;\n    editable: boolean;\n    sortingIgnoreCase: boolean;\n    filteringIgnoreCase: boolean;\n    headerClasses: string;\n    headerGroupClasses: string;\n    maxWidth: string;\n    groupable: boolean;\n    movable: boolean;\n    hidden: boolean;\n    dataType: DataType;\n    hasSummary: boolean;\n    field: string;\n    width: any;\n    header: string;\n    resizable: boolean;\n    searchable: boolean;\n}\n\nconst COLUMNS = 'columns';\nconst FILTERING = 'filtering';\nconst ADVANCED_FILTERING = 'advancedFiltering';\nconst SORTING = 'sorting';\nconst GROUPBY = 'groupBy';\nconst PAGING = 'paging';\nconst ROW_SELECTION = 'rowSelection';\nconst CELL_SELECTION = 'cellSelection';\n\n@Directive({\n    selector: '[igxGridState]'\n})\nexport class IgxGridStateDirective {\n\n    private _options: IGridStateOptions = {\n        columns: true,\n        filtering: true,\n        advancedFiltering: true,\n        sorting: true,\n        groupBy: true,\n        paging: true,\n        cellSelection: true,\n        rowSelection: true\n    };\n\n    private state: IGridState;\n\n    /**\n     *  An object with options determining if a certain feature state should be saved.\n     *\n     * ```html\n     * <igx-grid [igxGridState]=\"options\"></igx-grid>\n     * ```\n     * ```typescript\n     * public options = {selection: false, advancedFiltering: false};\n     * ```\n     */\n    @Input('igxGridState')\n    public get options(): IGridStateOptions {\n       return this._options;\n    }\n\n    public set options(value: IGridStateOptions) {\n        Object.assign(this._options, value);\n    }\n\n    /**\n     * @hidden\n     */\n    constructor(\n        @Host() @Optional() private grid: IgxGridComponent,\n        private resolver: ComponentFactoryResolver,\n        protected viewRef: ViewContainerRef) { }\n\n    /**\n     * Gets the state of a feature or states of all grid features, unless a certain feature is disabled through the `options` property.\n     * @param `serialize` determines whether the returned object will be serialized to JSON string. Default value is false.\n     * @param `feature` string or array of strings determining the features which state to retrieve. If skipped, returns all.\n     * @returns Returns the serialized to JSON string IGridState object, or the non-serialized IGridState object.\n     * ```html\n     * <igx-grid [igxGridState]=\"options\"></igx-grid>\n     * ```\n     * ```typescript\n     * @ViewChild(IgxGridStateDirective, { static: true }) public state;\n     * let state =  this.state.getState();\n     * ```\n     */\n    public getState(serialize = true, feature?: string | string[]): IGridState | string  {\n        let state: IGridState | string;\n        if (feature) {\n            state = {};\n            if (Array.isArray(feature)) {\n                feature.forEach(f => {\n                    state = Object.assign(state, this.getGridFeature(f));\n                });\n            } else {\n                state = this.getGridFeature(feature);\n            }\n        } else {\n            state = this.getAllGridFeatures();\n        }\n        if (serialize) {\n            state = JSON.stringify(state, this.stringifyCallback);\n            return state as string;\n        } else {\n            return state as IGridState;\n        }\n    }\n\n    /**\n     * Restores grid features' state based on the IGridState object passed as an argument.\n     * @param IGridState object to restore state from.\n     * @returns\n     * ```html\n     * <igx-grid [igxGridState]=\"options\"></igx-grid>\n     * ```\n     * ```typescript\n     * @ViewChild(IgxGridStateDirective, { static: true }) public state;\n     * this.state.setState(gridState);\n     * ```\n     */\n    public setState(state: IGridState | string) {\n        if (typeof state === 'string') {\n            state = JSON.parse(state);\n        }\n        this.state = state as IGridState;\n        this.restoreGridState();\n        this.grid.cdr.detectChanges();\n    }\n\n    /**\n     * The method that calls corresponding methods to restore feature from this.state object.\n     */\n    private restoreGridState() {\n        for (const key of Object.keys(this.state)) {\n            if (this.state[key]) {\n                this.restoreFeature(key, this.state[key]);\n            }\n        }\n    }\n\n    /**\n     * Restores the state of a feature.\n     */\n    private restoreFeature(feature: string, state: IColumnState[] | IPagingState | ISortingExpression[] |\n        IGroupingState | FilteringExpressionsTree | GridSelectionRange[] | any[]) {\n        switch (feature) {\n            case COLUMNS: {\n               this.restoreColumns(state as IColumnState[]);\n               break;\n            }\n            case FILTERING: {\n                this.restoreFiltering(state as FilteringExpressionsTree);\n                break;\n            }\n            case ADVANCED_FILTERING: {\n                this.restoreAdvancedFiltering(state as FilteringExpressionsTree);\n                break;\n            }\n            case SORTING: {\n                this.restoreSorting(state as ISortingExpression[]);\n                break;\n             }\n             case GROUPBY: {\n                this.restoreGroupBy(state as IGroupingState);\n                break;\n             }\n             case PAGING: {\n                this.restorePaging(state as IPagingState);\n                break;\n              }\n              case ROW_SELECTION: {\n                this.restoreRowSelection(state as any[]);\n                break;\n              }\n              case CELL_SELECTION: {\n                this.restoreCellSelection(state as GridSelectionRange[]);\n                break;\n              }\n         }\n    }\n\n    /**\n     * Returns an object containing all grid features state.\n     */\n    private getAllGridFeatures(): IGridState {\n        let gridState: IGridState = {};\n\n        for (const key of Object.keys(this.options)) {\n            if (this.options[key]) {\n                const feature = this.getGridFeature(key);\n                gridState =  Object.assign(gridState, feature);\n            }\n        }\n\n        gridState = Object.assign({}, gridState);\n        return gridState;\n    }\n\n    /**\n     * Restores an object containing the state for a grid feature.\n     * `serialize` param determines whether the returned object will be serialized to a JSON string. Default value is false.,\n     */\n    private getGridFeature(feature: string): IGridState {\n        const state: IGridState = {};\n        switch (feature) {\n            case COLUMNS: {\n               Object.assign(state, this.getColumns());\n               break;\n            }\n            case FILTERING: {\n                Object.assign(state, this.getFiltering());\n                break;\n            }\n            case ADVANCED_FILTERING: {\n                Object.assign(state, this.getAdvancedFiltering());\n                break;\n            }\n            case SORTING: {\n                Object.assign(state, this.getSorting());\n                break;\n             }\n             case GROUPBY: {\n                Object.assign(state, this.getGroupBy());\n                break;\n             }\n             case PAGING: {\n                Object.assign(state, this.getPaging());\n                break;\n              }\n              case ROW_SELECTION: {\n                Object.assign(state, this.getRowSelection());\n                break;\n              }\n              case CELL_SELECTION: {\n                Object.assign(state, this.getCellSelection());\n                break;\n              }\n         }\n         return state;\n    }\n\n    /**\n     * Helper method that creates a new array with the current grid columns.\n     */\n    private getColumns(): IGridState {\n        const gridColumns: IColumnState[] = this.grid.columns.sort(this.sortByVisibleIndex).map((c) => {\n            return {\n                pinned: c.pinned,\n                sortable: c.sortable,\n                filterable: c.filterable,\n                editable: c.editable,\n                sortingIgnoreCase: c.sortingIgnoreCase,\n                filteringIgnoreCase: c.filteringIgnoreCase,\n                headerClasses: c.headerClasses,\n                headerGroupClasses: c.headerGroupClasses,\n                maxWidth: c.maxWidth,\n                groupable: c.groupable,\n                movable: c.movable,\n                hidden: c.hidden,\n                dataType: c.dataType,\n                hasSummary: c.hasSummary,\n                field: c.field,\n                width: c.width,\n                header: c.header,\n                resizable: c.resizable,\n                searchable: c.searchable\n            };\n        });\n        return { columns: gridColumns };\n    }\n\n    private getFiltering(): IGridState {\n        const filteringState = this.grid.filteringExpressionsTree;\n        return { filtering: filteringState };\n    }\n\n    private getAdvancedFiltering(): IGridState {\n        const advancedFiltering = this.grid.advancedFilteringExpressionsTree;\n        return { advancedFiltering: advancedFiltering };\n    }\n\n    private getPaging(): IGridState {\n        const pagingState = this.grid.pagingState;\n        return { paging: pagingState };\n    }\n\n    private getSorting(): IGridState {\n        const sortingState = this.grid.sortingExpressions;\n        sortingState.forEach(s => {\n            delete s.strategy;\n        });\n        return { sorting: sortingState };\n    }\n\n    private getGroupBy(): IGridState {\n        const groupingExpressions = this.grid.groupingExpressions;\n        groupingExpressions.forEach(expr => {\n            delete expr.strategy;\n        });\n        const expansionState = this.grid.groupingExpansionState;\n        const groupsExpanded = this.grid.groupsExpanded;\n\n        return { groupBy: { expressions: groupingExpressions, expansion: expansionState, defaultExpanded: groupsExpanded}  };\n    }\n\n    private getRowSelection(): IGridState {\n        const selection = this.grid.selectedRows();\n        return { rowSelection: selection };\n    }\n\n    private getCellSelection(): IGridState {\n        const selection = this.grid.getSelectedRanges().map(range => {\n            return { rowStart: range.rowStart, rowEnd: range.rowEnd, columnStart: range.columnStart, columnEnd: range.columnEnd };\n        });\n        return { cellSelection: selection };\n    }\n\n    /**\n     * Restores the grid columns by modifying the `columnList` collection of the grid.\n     */\n    private restoreColumns(columnsState: IColumnState[]): void {\n        const newColumns = [];\n        const factory = this.resolver.resolveComponentFactory(IgxColumnComponent);\n        columnsState.forEach((colState) => {\n            const ref = factory.create(this.viewRef.injector);\n            Object.assign(ref.instance, colState);\n            ref.changeDetectorRef.detectChanges();\n            newColumns.push(ref.instance);\n        });\n\n        this.grid.columnList.reset(newColumns);\n        this.grid.columnList.notifyOnChanges();\n    }\n\n    private sortByVisibleIndex(colA: IgxColumnComponent, colB: IgxColumnComponent) {\n          const a = colA.visibleIndex, b = colB.visibleIndex;\n          return a > b ? 1 : a < b ? -1 : 0;\n    }\n\n    /**\n     * Restores the grid filtering state, i.e. sets the `filteringExpressionsTree` property value.\n     */\n    private restoreFiltering(state: FilteringExpressionsTree) {\n        const filterTree = this.createExpressionsTreeFromObject(state);\n        this.grid.filteringExpressionsTree = filterTree as FilteringExpressionsTree;\n    }\n\n    /**\n     * Restores the grid advanced filtering state, i.e. sets the `advancedFilteringExpressionsTree` property value.\n     */\n    private restoreAdvancedFiltering(state: FilteringExpressionsTree) {\n        const advFilterTree = this.createExpressionsTreeFromObject(state);\n        this.grid.advancedFilteringExpressionsTree = advFilterTree as FilteringExpressionsTree;\n    }\n\n    /**\n     * Restores the grid sorting state, i.e. sets the `sortingExpressions` property value.\n     */\n    private restoreSorting(state: ISortingExpression[]) {\n        this.grid.sortingExpressions = state;\n    }\n\n    /**\n     * Restores the grid grouping state, i.e. sets the `groupbyExpressions` property value.\n     */\n    private restoreGroupBy(state: IGroupingState) {\n        (this.grid as IgxGridComponent).groupingExpressions = state.expressions as IGroupingExpression[];\n        if ((this.grid as IgxGridComponent).groupsExpanded !== state.defaultExpanded) {\n            this.grid.toggleAllGroupRows();\n        } else {\n            (this.grid as IgxGridComponent).groupingExpansionState = state.expansion as IGroupByExpandState[];\n        }\n    }\n\n    /**\n     * Restores the grid paging state, i.e. sets the `perPage` property value and paginate to index.\n     */\n    private restorePaging(state: IPagingState) {\n        if (this.grid.perPage !== state.recordsPerPage) {\n            this.grid.perPage = state.recordsPerPage;\n            this.grid.cdr.detectChanges();\n        }\n        this.grid.page = state.index;\n    }\n\n    private restoreRowSelection(state: any[]) {\n        this.grid.selectRows(state);\n    }\n\n    private restoreCellSelection(state: GridSelectionRange[]) {\n        state.forEach(r => {\n            const range = { rowStart: r.rowStart, rowEnd: r.rowEnd, columnStart: r.columnStart, columnEnd: r.columnEnd};\n            this.grid.selectRange(range);\n        });\n    }\n\n    /**\n     * This method builds a FilteringExpressionsTree from a provided object.\n     */\n    private createExpressionsTreeFromObject(exprTreeObject: FilteringExpressionsTree): FilteringExpressionsTree {\n        if (!exprTreeObject || !exprTreeObject.filteringOperands) {\n            return null;\n        }\n\n        const expressionsTree = new FilteringExpressionsTree(exprTreeObject.operator, exprTreeObject.fieldName);\n\n        for (const item of exprTreeObject.filteringOperands) {\n            // Check if item is an expressions tree or a single expression.\n            if ((item as FilteringExpressionsTree).filteringOperands) {\n                const subTree = this.createExpressionsTreeFromObject((item as FilteringExpressionsTree));\n                expressionsTree.filteringOperands.push(subTree);\n            } else {\n                const expr = item as IFilteringExpression;\n                let dataType: string;\n                if (this.grid.columnList.length > 0) {\n                    dataType = this.grid.columnList.find(c => c.field === expr.fieldName).dataType;\n                } else {\n                    dataType = this.state[COLUMNS].find(c => c.field === expr.fieldName).dataType;\n                }\n                // when ESF, values are stored in Set.\n                // First those values are converted to an array before returning string in the stringifyCallback\n                // now we need to convert those back to Set\n                if (Array.isArray(expr.searchVal)) {\n                    expr.searchVal = new Set(expr.searchVal);\n                } else {\n                    expr.searchVal = (dataType === 'date') ? new Date(Date.parse(expr.searchVal)) : expr.searchVal;\n                }\n                expr.condition = this.generateFilteringCondition(dataType, expr.condition.name);\n                expressionsTree.filteringOperands.push(expr);\n            }\n        }\n\n        return expressionsTree;\n    }\n\n    /**\n     * Returns the filtering logic function for a given dataType and condition (contains, greaterThan, etc.)\n     */\n    private generateFilteringCondition(dataType: string, name: string): IFilteringOperation {\n        let filters;\n        switch (dataType) {\n            case DataType.Boolean:\n                filters = IgxBooleanFilteringOperand.instance();\n                break;\n            case DataType.Number:\n                filters = IgxNumberFilteringOperand.instance();\n                break;\n            case DataType.Date:\n                filters = IgxDateFilteringOperand.instance();\n                break;\n            case DataType.String:\n            default:\n                filters = IgxStringFilteringOperand.instance();\n                break;\n        }\n        return filters.condition(name);\n    }\n\n    private stringifyCallback(key: string, val: any) {\n        if (key === 'searchVal' && val instanceof Set) {\n            return Array.from(val);\n        }\n        return val;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxGridStateDirective],\n    exports: [IgxGridStateDirective]\n})\nexport class IgxGridStateModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IgxButtonModule } from '../../directives/button/button.directive';\nimport { IgxDatePickerModule } from '../../date-picker/date-picker.component';\nimport { IgxIconModule } from '../../icon/index';\nimport { IgxRippleModule } from '../../directives/ripple/ripple.directive';\nimport { IgxInputGroupModule } from '../../input-group/index';\nimport { IgxFocusModule } from '../../directives/focus/focus.directive';\nimport { IgxToggleModule } from '../../directives/toggle/toggle.directive';\nimport { IgxForOfModule } from '../../directives/for-of/for_of.directive';\nimport { IgxTemplateOutletModule } from '../../directives/template-outlet/template_outlet.directive';\nimport { IgxTextHighlightModule } from '../../directives/text-highlight/text-highlight.directive';\nimport { IgxTextSelectionModule } from '../../directives/text-selection/text-selection.directive';\nimport { IgxCheckboxModule } from '../../checkbox/checkbox.component';\nimport { IgxBadgeModule } from '../../badge/badge.component';\nimport { IgxChipsModule } from '../../chips/chips.module';\nimport { IgxDragDropModule } from '../../directives/drag-drop/drag-drop.directive';\nimport { IgxButtonGroupModule } from '../../buttonGroup/buttonGroup.component';\nimport { IgxProgressBarModule } from '../../progressbar/progressbar.component';\nimport { IgxSelectModule } from '../../select/select.module';\nimport { IgxDropDownModule } from '../../drop-down/index';\nimport { IgxGridStateModule } from '../state.directive';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IgxButtonModule,\n        IgxDatePickerModule,\n        IgxIconModule,\n        IgxRippleModule,\n        IgxInputGroupModule,\n        IgxFocusModule,\n        IgxToggleModule,\n        IgxForOfModule,\n        IgxTemplateOutletModule,\n        IgxTextHighlightModule,\n        IgxTextSelectionModule,\n        IgxCheckboxModule,\n        IgxBadgeModule,\n        IgxChipsModule,\n        IgxDragDropModule,\n        IgxDropDownModule,\n        IgxButtonGroupModule,\n        IgxProgressBarModule,\n        IgxSelectModule,\n        IgxGridStateModule\n    ],\n    exports: [\n        CommonModule,\n        FormsModule,\n        IgxButtonModule,\n        IgxDatePickerModule,\n        IgxIconModule,\n        IgxRippleModule,\n        IgxInputGroupModule,\n        IgxFocusModule,\n        IgxToggleModule,\n        IgxForOfModule,\n        IgxTemplateOutletModule,\n        IgxTextHighlightModule,\n        IgxGridStateModule,\n        IgxTextSelectionModule,\n        IgxCheckboxModule,\n        IgxBadgeModule,\n        IgxChipsModule,\n        IgxDragDropModule,\n        IgxDropDownModule,\n        IgxButtonGroupModule,\n        IgxProgressBarModule,\n        IgxSelectModule\n    ]\n})\nexport class IgxGridSharedModules {}\n","import { NgModule } from '@angular/core';\nimport { IgxGridSharedModules } from '../common/shared.module';\nimport { IgxColumnHidingItemDirective } from './column-hiding-item.directive';\nimport { IgxColumnHidingComponent } from './column-hiding.component';\n\n\n@NgModule({\n    declarations: [\n        IgxColumnHidingComponent,\n        IgxColumnHidingItemDirective\n    ],\n    imports: [\n        IgxGridSharedModules\n    ],\n    exports: [\n        IgxColumnHidingComponent\n    ],\n})\nexport class IgxColumnHidingModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'igx-grid-footer',\n    template: '<ng-content></ng-content>'\n})\nexport class IgxGridFooterComponent {\n}\n","import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Component, Input, Output, NgModule, Optional, Inject, EventEmitter, HostBinding } from '@angular/core';\nimport { CurrentResourceStrings } from '../core/i18n/resources';\nimport { IDisplayDensityOptions, DisplayDensityToken, DisplayDensityBase, DisplayDensity } from '../core/displayDensity';\nimport { IgxSelectModule } from '../select/index';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\n\n@Component({\n    selector: 'igx-paginator',\n    templateUrl: 'paginator.component.html',\n})\nexport class IgxPaginatorComponent extends DisplayDensityBase {\n\n    /**\n     * Total pages calculated from totalRecords and perPage\n     */\n    public totalPages: number;\n    protected _page = 0;\n    protected _totalRecords: number;\n    protected _selectOptions;\n    private defaultSelectValues = [5, 10, 15, 25, 50, 100, 500];\n    protected _perPage = 15;\n\n    /**\n     * Sets the class of the IgxPaginatorComponent based\n     * on the provided displayDensity.\n     */\n    @HostBinding('class.igx-paginator--cosy')\n    public get classCosy(): boolean {\n        return this.displayDensity === DisplayDensity.cosy;\n    }\n\n    @HostBinding('class.igx-paginator--compact')\n    public get classCompact(): boolean {\n        return this.displayDensity === DisplayDensity.compact;\n    }\n\n    @HostBinding('class.igx-paginator')\n    public get classComfortable(): boolean {\n        return this.displayDensity === DisplayDensity.comfortable;\n    }\n\n    /**\n   * An @Input property, sets current page of the `IgxPaginatorComponent`.\n   * The default is 0.\n   * ```typescript\n   * let page = this.paginator.page;\n   * ```\n   * @memberof IgxPaginatorComponent\n   */\n    @Input()\n    public get page() {\n        return this._page;\n    }\n\n    public set page(value: number) {\n        this._page = value;\n        this.pageChange.emit(this._page);\n    }\n\n    /**\n   * An @Input property, sets number of visible items per page in the `IgxPaginatorComponent`.\n   * The default is 15.\n   * ```typescript\n   * let itemsPerPage = this.paginator.perPage;\n   * ```\n   * @memberof IgxPaginatorComponent\n   */\n    @Input()\n    public get perPage() {\n        return this._perPage;\n    }\n\n    public set perPage(value: number) {\n        this._perPage = Number(value);\n        this.perPageChange.emit(this._perPage);\n        this._selectOptions = this.sortUniqueOptions(this.defaultSelectValues, this._perPage);\n        this.totalPages = Math.ceil(this.totalRecords / this._perPage);\n    }\n\n    /**\n    * An @Input property that sets the total records.\n    * ```typescript\n    * let totalRecords = this.paginator.totalRecords;\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public get totalRecords() {\n        return this._totalRecords;\n    }\n\n    public set totalRecords(value: number) {\n        this._totalRecords = value;\n        this.totalPages = Math.ceil(this.totalRecords / this.perPage);\n    }\n\n    /**\n    * An @Input property that sets custom options in the select of the paginator\n    * ```typescript\n    * let options = this.paginator.selectOptions;\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public get selectOptions() {\n        return this._selectOptions;\n    }\n\n    public set selectOptions(value: Array<number>) {\n        this._selectOptions = this.sortUniqueOptions(value, this._perPage);\n        this.defaultSelectValues = [...value];\n    }\n    /**\n    * An @Input property that sets if the pager in the paginator should be enabled.\n    * ```html\n    * <igx-paginator [pagerEnabled]=\"true\"></igx-paginator>\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public pagerEnabled = true;\n\n    /**\n    * An @Input property that sets if the pager in the paginator should be hidden.\n    * ```html\n    * <igx-paginator [pagerHidden]=\"true\"></igx-paginator>\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public pagerHidden = false;\n\n    /**\n    * An @Input property that sets if the dropdown in the paginator should be enabled.\n    * ```html\n    * <igx-paginator [dropdownEnabled]=\"true\"></igx-paginator>\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public dropdownEnabled = true;\n\n    /**\n    * An @Input property that sets if the dropdown in the paginator should be hidden.\n    * ```html\n    * <igx-paginator [dropdownHidden]=\"true\"></igx-paginator>\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public dropdownHidden = false;\n\n    /**\n    * An @Input property, sets number of label of the select.\n    * The default is 'Items per page' localized string.\n    * ```html\n    * <igx-paginator label=\"My custom label\"></igx-paginator>\n    * ```\n    * @memberof IgxPaginatorComponent\n    */\n    @Input()\n    public selectLabel = CurrentResourceStrings.PaginatorResStrings.igx_paginator_label;\n\n    /**\n     *An event that is emitted when the select in the `IgxPaginatorComponent` changes its value.\n    */\n    @Output()\n    public perPageChange = new EventEmitter<number>();\n    /**\n     *An event that is emitted when the paginating is used.\n    */\n    @Output()\n    public pageChange = new EventEmitter<number>();\n\n    constructor(@Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions\n    ) {\n        super(_displayDensityOptions);\n    }\n\n    /**\n     * Returns if the current page is the last page.\n     * ```typescript\n     * const lastPage = this.paginator.isLastPage;\n     * ```\n     */\n    get isLastPage(): boolean {\n        return this.page + 1 >= this.totalPages;\n    }\n\n    /**\n     * Returns if the current page is the first page.\n     * ```typescript\n     * const lastPage = this.paginator.isFirstPage;\n     * ```\n     */\n    get isFirstPage(): boolean {\n        return this.page === 0;\n    }\n\n    private sortUniqueOptions(values: Array<number>, newOption: number): number[] {\n        return Array.from(new Set([...values, newOption])).sort((a, b) => a - b);\n    }\n\n    /**\n     * Sets DisplayDensity for the <select> inside the paginator\n     * @hidden\n     */\n    public paginatorSelectDisplayDensity(): string {\n        if (this.displayDensity === DisplayDensity.comfortable) {\n            return DisplayDensity.cosy;\n        }\n        return DisplayDensity.compact;\n    }\n    /**\n     * Goes to the next page of the `IgxPaginatorComponent`, if the paginator is not already at the last page.\n     * ```typescript\n     * this.paginator.nextPage();\n     * ```\n\t * @memberof IgxPaginatorComponent\n     */\n    public nextPage(): void {\n        if (!this.isLastPage) {\n            this.page += 1;\n        }\n    }\n    /**\n     * Goes to the previous page of the `IgxPaginatorComponent`, if the paginator is not already at the first page.\n     * ```typescript\n     * this.paginator.previousPage();\n     * ```\n\t * @memberof IgxPaginatorComponent\n     */\n    public previousPage(): void {\n        if (!this.isFirstPage) {\n            this.page -= 1;\n        }\n    }\n    /**\n     * Goes to the desired page index.\n     * ```typescript\n     * this.pagiantor.paginate(1);\n     * ```\n     * @param val\n     * @memberof IgxPaginatorComponent\n     */\n    public paginate(val: number): void {\n        if (val < 0 || val > this.totalPages - 1) {\n            return;\n        }\n        this.page = val;\n    }\n}\n\n@NgModule({\n    declarations: [IgxPaginatorComponent],\n    exports: [IgxPaginatorComponent],\n    imports: [CommonModule, IgxSelectModule, FormsModule, IgxIconModule, IgxButtonModule, IgxRippleModule]\n})\nexport class IgxPaginatorModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n    IgxGridFilterConditionPipe,\n    IgxGridTransactionPipe,\n    IgxGridNotGroupedPipe,\n    IgxGridTopLevelColumns,\n    IgxGridCellStylesPipe,\n    IgxGridCellStyleClassesPipe,\n    IgxGridPaginatorOptionsPipe,\n    IgxHasVisibleColumnsPipe,\n    IgxDatePipeComponent,\n    IgxDecimalPipeComponent\n} from './pipes';\n\n@NgModule({\n    declarations: [\n        IgxDatePipeComponent,\n        IgxDecimalPipeComponent,\n        IgxGridFilterConditionPipe,\n        IgxGridTransactionPipe,\n        IgxGridNotGroupedPipe,\n        IgxGridTopLevelColumns,\n        IgxGridCellStylesPipe,\n        IgxGridCellStyleClassesPipe,\n        IgxGridPaginatorOptionsPipe,\n        IgxHasVisibleColumnsPipe\n    ],\n    exports: [\n        IgxDatePipeComponent,\n        IgxDecimalPipeComponent,\n        IgxGridFilterConditionPipe,\n        IgxGridTransactionPipe,\n        IgxGridNotGroupedPipe,\n        IgxGridTopLevelColumns,\n        IgxGridCellStylesPipe,\n        IgxGridCellStyleClassesPipe,\n        IgxGridPaginatorOptionsPipe,\n        IgxHasVisibleColumnsPipe\n    ],\n    imports: [\n        CommonModule\n    ]\n  })\nexport class IgxGridPipesModule { }\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { IgxColumnComponent } from '../../columns/column.component';\nimport { IgxGridBaseDirective } from '../../grid-base.directive';\nimport { DisplayDensity } from '../../../core/density';\nimport { IgxColumnGroupComponent } from '../../columns/column-group.component';\n\n/**\n * @hidden\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-excel-style-column-moving',\n    templateUrl: './excel-style-column-moving.component.html'\n})\nexport class IgxExcelStyleColumnMovingComponent {\n\n    @Input()\n    public column: IgxColumnComponent;\n\n    @Input()\n    public grid: IgxGridBaseDirective;\n\n    @Input()\n    public displayDensity: DisplayDensity;\n\n    @Input()\n    public isColumnPinnable: boolean;\n\n    constructor() {}\n\n    private get visibleColumns() {\n        return this.grid.visibleColumns.filter(col => !(col instanceof IgxColumnGroupComponent));\n    }\n\n    get canNotMoveLeft() {\n        return this.column.visibleIndex === 0 ||\n            (this.grid.unpinnedColumns.indexOf(this.column) === 0 && this.column.disablePinning) ||\n            (this.grid.unpinnedColumns.indexOf(this.column) === 0 && !this.isColumnPinnable) ||\n            (this.column.level !== 0 && !this.findColumn(0, this.visibleColumns));\n    }\n\n    get canNotMoveRight() {\n        return this.column.visibleIndex === this.visibleColumns.length - 1 ||\n            (this.column.level !== 0 && !this.findColumn(1, this.visibleColumns));\n    }\n\n    public onMoveButtonClicked(moveDirection) {\n        let targetColumn;\n        if (this.column.pinned) {\n            if (this.column.isLastPinned && moveDirection === 1) {\n                targetColumn = this.grid.unpinnedColumns[0];\n                moveDirection = 0;\n            } else {\n                targetColumn = this.findColumn(moveDirection, this.grid.pinnedColumns);\n            }\n        } else if (this.grid.unpinnedColumns.indexOf(this.column) === 0 && moveDirection === 0) {\n            targetColumn = this.grid.pinnedColumns[this.grid.pinnedColumns.length - 1];\n            if (targetColumn.parent) {\n                targetColumn = targetColumn.topLevelParent;\n            }\n            moveDirection = 1;\n        } else {\n            targetColumn = this.findColumn(moveDirection, this.grid.unpinnedColumns);\n        }\n        this.grid.moveColumn(this.column, targetColumn, moveDirection);\n    }\n\n    private findColumn(moveDirection: number, columns: IgxColumnComponent[]) {\n        let index = columns.indexOf(this.column);\n        if (moveDirection === 0) {\n            while (index > 0) {\n                index--;\n                if (columns[index].level === this.column.level && columns[index].parent === this.column.parent) {\n                    return columns[index];\n                }\n            }\n        } else {\n            while (index < columns.length - 1) {\n                index++;\n                if (columns[index].level === this.column.level && columns[index].parent === this.column.parent) {\n                    return columns[index];\n                }\n            }\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { FilterListItem, IgxGridExcelStyleFilteringComponent } from './grid.excel-style-filtering.component';\nimport { cloneArray } from '../../../core/utils';\n\n/**\n * @hidden\n */\n@Pipe({\n    name: 'excelStyleSearchFilter'\n})\nexport class IgxExcelStyleSearchFilterPipe implements PipeTransform {\n    transform(items: FilterListItem[], searchText: string): any[] {\n        if (!items || !items.length) {\n            return [];\n        }\n\n        if (!searchText) {\n            return items;\n        }\n\n        searchText = searchText.toLowerCase();\n        const result = items.filter((it, i) => (i === 0 && it.isSpecial) ||\n            (it.value !== null && it.value !== undefined) &&\n            it.value.toString().toLowerCase().indexOf(searchText) > -1);\n\n        // If 'result' contains the 'Select All' item and at least one more - we use it, otherwise we use an empty array.\n        return result.length > 1 ? result : [];\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IgxExcelStyleLoadingValuesTemplateDirective } from './excel-style-search.component';\nimport {\n    IgxGridExcelStyleFilteringComponent,\n    IgxExcelStyleSortingTemplateDirective,\n    IgxExcelStyleHidingTemplateDirective,\n    IgxExcelStyleMovingTemplateDirective,\n    IgxExcelStylePinningTemplateDirective\n} from './grid.excel-style-filtering.component';\nimport { IgxExcelStyleSortingComponent } from './excel-style-sorting.component';\nimport { IgxExcelStyleColumnMovingComponent } from './excel-style-column-moving.component';\nimport { IgxExcelStyleSearchComponent } from './excel-style-search.component';\nimport { IgxExcelStyleCustomDialogComponent } from './excel-style-custom-dialog.component';\nimport { IgxExcelStyleDefaultExpressionComponent } from './excel-style-default-expression.component';\nimport { IgxExcelStyleDateExpressionComponent } from './excel-style-date-expression.component';\nimport { IgxSelectionAPIService } from '../../../core/selection';\nimport { FormsModule } from '@angular/forms';\nimport { IgxGridPipesModule } from '../../common/grid-pipes.module';\nimport { IgxButtonModule } from '../../../directives/button/button.directive';\nimport { IgxButtonGroupModule } from '../../../buttonGroup/buttonGroup.component';\nimport { IgxDatePickerModule } from '../../../date-picker/date-picker.component';\nimport { IgxIconModule } from '../../../icon/index';\nimport { IgxRippleModule } from '../../../directives/ripple/ripple.directive';\nimport { IgxInputGroupModule } from '../../../input-group/input-group.component';\nimport { IgxDropDownModule } from '../../../drop-down/index';\nimport { IgxForOfModule } from '../../../directives/for-of/for_of.directive';\nimport { IgxCheckboxModule } from '../../../checkbox/checkbox.component';\nimport { IgxFilterModule } from '../../../directives/filter/filter.directive';\nimport { IgxToggleModule } from '../../../directives/toggle/toggle.directive';\nimport { IgxListModule } from '../../../list/list.component';\nimport { IgxExcelStyleSearchFilterPipe } from './excel-style-search.pipe';\nimport { IgxProgressBarModule } from '../../../progressbar/progressbar.component';\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxGridExcelStyleFilteringComponent,\n        IgxExcelStyleSortingComponent,\n        IgxExcelStyleColumnMovingComponent,\n        IgxExcelStyleSearchComponent,\n        IgxExcelStyleCustomDialogComponent,\n        IgxExcelStyleDefaultExpressionComponent,\n        IgxExcelStyleDateExpressionComponent,\n        IgxExcelStyleSortingTemplateDirective,\n        IgxExcelStyleHidingTemplateDirective,\n        IgxExcelStyleMovingTemplateDirective,\n        IgxExcelStylePinningTemplateDirective,\n        IgxExcelStyleLoadingValuesTemplateDirective,\n        IgxExcelStyleSearchFilterPipe\n    ],\n    exports: [\n        IgxGridExcelStyleFilteringComponent,\n        IgxExcelStyleSortingTemplateDirective,\n        IgxExcelStyleHidingTemplateDirective,\n        IgxExcelStyleMovingTemplateDirective,\n        IgxExcelStylePinningTemplateDirective,\n        IgxExcelStyleLoadingValuesTemplateDirective,\n        IgxExcelStyleDateExpressionComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        IgxGridPipesModule,\n        IgxButtonModule,\n        IgxButtonGroupModule,\n        IgxDatePickerModule,\n        IgxIconModule,\n        IgxRippleModule,\n        IgxInputGroupModule,\n        IgxDropDownModule,\n        IgxForOfModule,\n        IgxCheckboxModule,\n        IgxFilterModule,\n        IgxToggleModule,\n        IgxListModule,\n        IgxProgressBarModule\n    ],\n    entryComponents: [\n        IgxGridExcelStyleFilteringComponent\n    ],\n    providers: [\n        IgxSelectionAPIService\n    ]\n})\nexport class IgxGridExcelStyleFilteringModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { IgxRowSelectorDirective, IgxHeadSelectorDirective } from './row-selectors';\nimport { IgxGridDragSelectDirective } from './drag-select.directive';\n\n\n@NgModule({\n    declarations: [\n        IgxRowSelectorDirective,\n        IgxHeadSelectorDirective,\n        IgxGridDragSelectDirective\n    ],\n    exports: [\n        IgxRowSelectorDirective,\n        IgxHeadSelectorDirective,\n        IgxGridDragSelectDirective\n    ]\n})\nexport class IgxGridSelectionModule {}\n","import {\n    AfterViewInit,\n    Directive,\n    ElementRef,\n    Input,\n    NgZone,\n    HostListener,\n    OnDestroy\n} from '@angular/core';\nimport { Subject, fromEvent } from 'rxjs';\nimport { debounceTime, takeUntil} from 'rxjs/operators';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxColumnResizingService } from './resizing.service';\n\n\n/**\n * @hidden\n * @internal\n */\n@Directive({\n    selector: '[igxResizeHandle]'\n})\nexport class IgxResizeHandleDirective implements AfterViewInit, OnDestroy {\n\n    /**\n     * @hidden\n     */\n    @Input('igxResizeHandle')\n    public column: IgxColumnComponent;\n\n    /**\n     * @hidden\n     */\n    private _dblClick = false;\n\n    /**\n     * @hidden\n     */\n    private destroy$ = new Subject<boolean>();\n\n    private readonly DEBOUNCE_TIME = 200;\n\n    constructor(private zone: NgZone,\n               private element: ElementRef,\n               public colResizingService: IgxColumnResizingService) { }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit() {\n        if (!this.column.columnGroup && this.column.resizable) {\n            this.zone.runOutsideAngular(() => {\n                fromEvent(this.element.nativeElement, 'mousedown').pipe(\n                    debounceTime(this.DEBOUNCE_TIME),\n                    takeUntil(this.destroy$)\n                ).subscribe((event: MouseEvent) => {\n\n                    if (this._dblClick) {\n                        this._dblClick = false;\n                        return;\n                    }\n\n                    if (event.button === 0) {\n                        this._onResizeAreaMouseDown(event);\n                        this.column.grid.resizeLine.resizer.onMousedown(event);\n                    }\n                });\n            });\n\n            fromEvent(this.element.nativeElement, 'mouseup').pipe(\n                debounceTime(this.DEBOUNCE_TIME),\n                takeUntil(this.destroy$)\n            ).subscribe(() => {\n                this.colResizingService.isColumnResizing = false;\n                this.colResizingService.showResizer = false;\n                this.column.grid.cdr.detectChanges();\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mouseover')\n    public onMouseOver() {\n        this.colResizingService.resizeCursor = 'col-resize';\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('dblclick')\n    public onDoubleClick() {\n        this._dblClick = true;\n        this.colResizingService.column = this.column;\n        this.colResizingService.autosizeColumnOnDblClick();\n    }\n\n    /**\n     * @hidden\n     */\n    private _onResizeAreaMouseDown(event) {\n        this.colResizingService.column = this.column;\n        this.colResizingService.isColumnResizing = true;\n        this.colResizingService.startResizePos = event.clientX;\n\n        this.colResizingService.showResizer = true;\n        this.column.grid.cdr.detectChanges();\n    }\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IgxColumnResizingService } from './resizing.service';\nimport { IgxGridColumnResizerComponent } from './resizer.component';\nimport { IgxResizeHandleDirective } from './resize-handle.directive';\nimport { IgxColumnResizerDirective } from './resizer.directive';\n\n\n@NgModule({\n    declarations: [\n        IgxGridColumnResizerComponent,\n        IgxResizeHandleDirective,\n        IgxColumnResizerDirective\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        IgxGridColumnResizerComponent,\n        IgxResizeHandleDirective,\n        IgxColumnResizerDirective\n    ],\n    providers: [\n        IgxColumnResizingService\n    ]\n})\nexport class IgxGridResizingModule {}\n","import { Directive, Input, OnDestroy, ElementRef, Renderer2, NgZone } from '@angular/core';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { DropPosition, IgxColumnMovingService } from './moving.service';\nimport { Subject, interval } from 'rxjs';\nimport { IgxColumnMovingDragDirective } from './moving.drag.directive';\nimport { takeUntil } from 'rxjs/operators';\nimport { IgxDropDirective } from '../../directives/drag-drop/drag-drop.directive';\nimport { IgxGridForOfDirective } from '../../directives/for-of/for_of.directive';\n\n\n@Directive({\n    selector: '[igxColumnMovingDrop]'\n})\nexport class IgxColumnMovingDropDirective extends IgxDropDirective implements OnDestroy {\n\n    @Input('igxColumnMovingDrop')\n    set data(val: any) {\n        if (val instanceof IgxColumnComponent) {\n            this._column = val;\n        }\n\n        if (val instanceof IgxGridForOfDirective) {\n            this._hVirtDir = val;\n        }\n    }\n\n    get column(): IgxColumnComponent {\n        return this._column;\n    }\n\n    get isDropTarget(): boolean {\n        return this._column && this._column.grid.hasMovableColumns && this.cms.column.movable &&\n            ((!this._column.pinned && this.cms.column.disablePinning) || !this.cms.column.disablePinning);\n    }\n\n    get horizontalScroll(): any {\n        if (this._hVirtDir) {\n            return this._hVirtDir;\n        }\n    }\n\n    private _dropPos: DropPosition;\n    private _dropIndicator: any = null;\n    private _lastDropIndicator: any = null;\n    private _column: IgxColumnComponent;\n    private _hVirtDir: IgxGridForOfDirective<any>;\n    private _dragLeave = new Subject<boolean>();\n    private _dropIndicatorClass = 'igx-grid__th-drop-indicator--active';\n\n    constructor(private elementRef: ElementRef, private renderer: Renderer2, private zone: NgZone, private cms: IgxColumnMovingService) {\n        super(elementRef, renderer, zone);\n    }\n\n    public ngOnDestroy() {\n        this._dragLeave.next(true);\n        this._dragLeave.complete();\n    }\n\n    public onDragOver(event) {\n        const drag = event.detail.owner;\n        if (!(drag instanceof IgxColumnMovingDragDirective)) {\n            return;\n        }\n\n        if (this.isDropTarget &&\n            this.cms.column !== this.column &&\n            this.cms.column.level === this.column.level &&\n            this.cms.column.parent === this.column.parent) {\n\n            if (this._lastDropIndicator) {\n                this.renderer.removeClass(this._dropIndicator, this._dropIndicatorClass);\n            }\n\n            const clientRect = this.elementRef.nativeElement.getBoundingClientRect();\n            const pos = clientRect.left + clientRect.width / 2;\n\n            const parent = this.elementRef.nativeElement.parentElement;\n            if (event.detail.pageX < pos) {\n                this._dropPos = DropPosition.BeforeDropTarget;\n                this._lastDropIndicator = this._dropIndicator = parent.firstElementChild;\n            } else {\n                this._dropPos = DropPosition.AfterDropTarget;\n                this._lastDropIndicator = this._dropIndicator = parent.lastElementChild;\n            }\n\n            if (this.cms.icon.innerText !== 'block') {\n                this.renderer.addClass(this._dropIndicator, this._dropIndicatorClass);\n            }\n        }\n    }\n\n    public onDragEnter(event) {\n        const drag = event.detail.owner;\n        if (!(drag instanceof IgxColumnMovingDragDirective)) {\n            return;\n        }\n\n        if (this.column && this.cms.column.grid.id !== this.column.grid.id) {\n            this.cms.icon.innerText = 'block';\n            return;\n        }\n\n        if (this.isDropTarget &&\n            this.cms.column !== this.column &&\n            this.cms.column.level === this.column.level &&\n            this.cms.column.parent === this.column.parent) {\n\n                if (!this.column.pinned || (this.column.pinned && this.cms.column.pinned)) {\n                    this.cms.icon.innerText = 'swap_horiz';\n                }\n\n                this.cms.icon.innerText = 'lock';\n            } else {\n                this.cms.icon.innerText = 'block';\n            }\n\n            if (this.horizontalScroll) {\n                this.cms.icon.innerText = event.target.id === 'right' ? 'arrow_forward' : 'arrow_back';\n\n                interval(100).pipe(takeUntil(this._dragLeave)).subscribe(() => {\n                    this.cms.column.grid.wheelHandler();\n                    event.target.id === 'right' ? this.horizontalScroll.scrollPosition += 15 :\n                        this.horizontalScroll.scrollPosition -= 15;\n                });\n            }\n    }\n\n    public onDragLeave(event) {\n        const drag = event.detail.owner;\n        if (!(drag instanceof IgxColumnMovingDragDirective)) {\n            return;\n        }\n\n        this.cms.icon.innerText = 'block';\n\n        if (this._dropIndicator) {\n            this.renderer.removeClass(this._dropIndicator, this._dropIndicatorClass);\n        }\n\n        if (this.horizontalScroll) {\n            this._dragLeave.next(true);\n        }\n    }\n\n    public onDragDrop(event) {\n        event.preventDefault();\n        const drag = event.detail.owner;\n        if (!(drag instanceof IgxColumnMovingDragDirective)) {\n            return;\n        }\n\n        if (this.column && (this.cms.column.grid.id !== this.column.grid.id)) {\n            return;\n        }\n\n        if (this.horizontalScroll) {\n            this._dragLeave.next(true);\n        }\n\n        if (this.isDropTarget) {\n            const args = {\n                source: this.cms.column,\n                target: this.column\n            };\n\n            this.column.grid.moveColumn(this.cms.column, this.column, this._dropPos);\n\n            this.column.grid.draggedColumn = null;\n            this.column.grid.cdr.detectChanges();\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { IgxColumnMovingDragDirective } from './moving.drag.directive';\nimport { IgxColumnMovingDropDirective } from './moving.drop.directive';\n\n\n@NgModule({\n    declarations: [\n        IgxColumnMovingDropDirective,\n        IgxColumnMovingDragDirective\n    ],\n    exports: [\n        IgxColumnMovingDropDirective,\n        IgxColumnMovingDragDirective\n    ]\n})\nexport class IgxColumnMovingModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { GridType } from '../common/grid.interface';\n\n@Pipe({\n    name: 'igxGridSummaryDataPipe',\n    pure: true\n})\nexport class IgxSummaryDataPipe implements PipeTransform {\n\n    constructor(private gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) { }\n\n    transform(id: string, trigger: number = 0) {\n        const summaryService = this.gridAPI.grid.summaryService;\n        return summaryService.calculateSummaries(\n            summaryService.rootSummaryID,\n            this.gridAPI.get_summary_data()\n        );\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { IgxSummaryCellComponent } from './summary-cell.component';\nimport { IgxSummaryRowComponent } from './summary-row.component';\nimport { IgxSummaryDataPipe } from './grid-root-summary.pipe';\nimport { IgxGridSharedModules } from '../common/shared.module';\nimport { IgxGridPipesModule } from '../common/grid-pipes.module';\n\n\n@NgModule({\n    declarations: [\n        IgxSummaryCellComponent,\n        IgxSummaryRowComponent,\n        IgxSummaryDataPipe\n    ],\n    imports: [\n        IgxGridPipesModule,\n        IgxGridSharedModules\n    ],\n    exports: [\n        IgxSummaryCellComponent,\n        IgxSummaryRowComponent,\n        IgxSummaryDataPipe\n    ]\n})\nexport class IgxGridSummaryModule {}\n","import { NgModule } from '@angular/core';\nimport { IgxColumnPinningItemDirective } from './pinning.directive';\nimport { IgxColumnPinningComponent } from './column-pinning.component';\nimport { IgxGridSharedModules } from '../common/shared.module';\n\n\n@NgModule({\n    declarations: [\n        IgxColumnPinningItemDirective,\n        IgxColumnPinningComponent\n    ],\n    imports: [\n        IgxGridSharedModules\n    ],\n    exports: [\n        IgxColumnPinningComponent\n    ]\n})\nexport class IgxColumnPinningModule {}\n","import { NgModule } from '@angular/core';\nimport { IgxGridToolbarComponent } from './grid-toolbar.component';\nimport { IgxGridToolbarCustomContentDirective } from './toolbar.directive';\nimport { IgxGridSharedModules } from '../common/shared.module';\nimport { IgxColumnHidingModule } from '../hiding/hiding.module';\nimport { IgxColumnPinningModule } from '../pinning/pinning.module';\n\n\n@NgModule({\n    declarations: [\n        IgxGridToolbarComponent,\n        IgxGridToolbarCustomContentDirective\n    ],\n    imports: [\n        IgxGridSharedModules,\n        IgxColumnHidingModule,\n        IgxColumnPinningModule\n    ],\n    exports: [\n        IgxGridToolbarComponent,\n        IgxGridToolbarCustomContentDirective\n    ]\n})\nexport class IgxGridToolbarModule {}\n","import {\n    AfterContentInit,\n    Component,\n    ChangeDetectionStrategy,\n    forwardRef,\n    Input\n} from '@angular/core';\nimport { IgxColumnComponent } from './column.component';\nimport { IgxColumnGroupComponent } from './column-group.component';\n\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [{ provide: IgxColumnComponent, useExisting: forwardRef(() => IgxColumnLayoutComponent) }],\n    selector: 'igx-column-layout',\n    template: ``\n})\nexport class IgxColumnLayoutComponent extends IgxColumnGroupComponent implements AfterContentInit {\n    public childrenVisibleIndexes = [];\n    /**\n     * Gets the width of the column layout.\n     * ```typescript\n     * let columnGroupWidth = this.columnGroup.width;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    get width(): any {\n        const width = this.getFilledChildColumnSizes(this.children).reduce((acc, val) => acc + parseInt(val, 10), 0);\n        return width;\n    }\n\n    set width(val: any) { }\n\n    get columnLayout() {\n        return true;\n    }\n\n    /**\n     * @hidden\n     */\n    public getCalcWidth(): any {\n        let borderWidth = 0;\n\n        if (this.headerGroup && this.headerGroup.hasLastPinnedChildColumn) {\n            const headerStyles = this.grid.document.defaultView.getComputedStyle(this.headerGroup.element.nativeElement.children[0]);\n            borderWidth = parseInt(headerStyles.borderRightWidth, 10);\n        }\n\n        return super.getCalcWidth() + borderWidth;\n    }\n\n    /**\n     * Gets the column visible index.\n     * If the column is not visible, returns `-1`.\n     * ```typescript\n     * let visibleColumnIndex =  this.column.visibleIndex;\n     * ```\n     * @memberof IgxColumnComponent\n     */\n    get visibleIndex(): number {\n        if (!isNaN(this._vIndex)) {\n            return this._vIndex;\n        }\n\n        const unpinnedColumns = this.grid.unpinnedColumns.filter(c => c.columnLayout && !c.hidden);\n        const pinnedColumns = this.grid.pinnedColumns.filter(c => c.columnLayout && !c.hidden);\n        let vIndex = -1;\n\n        if (!this.pinned) {\n            const indexInCollection = unpinnedColumns.indexOf(this);\n            vIndex = indexInCollection === -1 ? -1 : pinnedColumns.length + indexInCollection;\n        } else {\n            vIndex = pinnedColumns.indexOf(this);\n        }\n        this._vIndex = vIndex;\n        return vIndex;\n    }\n\n    /*\n     * Gets whether the column layout is hidden.\n     * ```typescript\n     * let isHidden = this.columnGroup.hidden;\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    @Input()\n    get hidden() {\n        return this._hidden;\n    }\n\n    /**\n     * Sets the column layout hidden property.\n     * ```typescript\n     * <igx-column-layout [hidden] = \"true\"></igx-column->\n     * ```\n     * @memberof IgxColumnGroupComponent\n     */\n    set hidden(value: boolean) {\n        this._hidden = value;\n        this.children.forEach(child => child.hidden = value);\n        if (this.grid && this.grid.columns && this.grid.columns.length > 0) {\n            // reset indexes in case columns are hidden/shown runtime\n            this.grid.columns.filter(x => x.columnGroup).forEach(x => x.populateVisibleIndexes());\n        }\n    }\n\n    /**\n     *@hidden\n    */\n    ngAfterContentInit() {\n        super.ngAfterContentInit();\n        if (!this.hidden) {\n            this.hidden = this.allChildren.some(x => x.hidden);\n        } else {\n            this.children.forEach(child => child.hidden = this.hidden);\n        }\n\n        this.children.forEach(child => {\n            child.movable = false;\n        });\n    }\n\n    /*\n     * Gets whether the group contains the last pinned child column of the column layout.\n     * ```typescript\n     * let columsHasLastPinned = this.columnLayout.hasLastPinnedChildColumn;\n     * ```\n     * @memberof IgxColumnLayoutComponent\n     */\n    get hasLastPinnedChildColumn() {\n        return this.children.some(child => child.isLastPinned);\n    }\n\n    /**\n     *@hidden\n    */\n    public populateVisibleIndexes() {\n        this.childrenVisibleIndexes = [];\n        const grid = this.gridAPI.grid;\n        const columns = grid && grid.pinnedColumns && grid.unpinnedColumns ? grid.pinnedColumns.concat(grid.unpinnedColumns) : [];\n        const orderedCols = columns\n            .filter(x => !x.columnGroup && !x.hidden)\n            .sort((a, b) => a.rowStart - b.rowStart || columns.indexOf(a.parent) - columns.indexOf(b.parent) || a.colStart - b.colStart);\n        this.children.forEach(child => {\n            const rs = child.rowStart || 1;\n            let vIndex = 0;\n            // filter out all cols with larger rowStart\n            const cols = orderedCols.filter(c =>\n                !c.columnGroup && (c.rowStart || 1) <= rs);\n            vIndex = cols.indexOf(child);\n            this.childrenVisibleIndexes.push({ column: child, index: vIndex });\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { IgxColumnComponent } from './column.component';\nimport { IgxColumnGroupComponent } from './column-group.component';\nimport { IgxColumnLayoutComponent } from './column-layout.component';\nimport {\n    IgxCellEditorTemplateDirective,\n    IgxCellFooterTemplateDirective,\n    IgxCellHeaderTemplateDirective,\n    IgxCellTemplateDirective,\n    IgxCollapsibleIndicatorTemplateDirective,\n    IgxFilterCellTemplateDirective\n} from './templates.directive';\n\n\n@NgModule({\n    declarations: [\n        IgxFilterCellTemplateDirective,\n        IgxCellTemplateDirective,\n        IgxCellHeaderTemplateDirective,\n        IgxCellFooterTemplateDirective,\n        IgxCellEditorTemplateDirective,\n        IgxCollapsibleIndicatorTemplateDirective,\n        IgxColumnComponent,\n        IgxColumnGroupComponent,\n        IgxColumnLayoutComponent\n    ],\n    entryComponents: [\n        IgxColumnComponent,\n        IgxColumnGroupComponent,\n        IgxColumnLayoutComponent\n    ],\n    exports: [\n        IgxFilterCellTemplateDirective,\n        IgxCellTemplateDirective,\n        IgxCellHeaderTemplateDirective,\n        IgxCellFooterTemplateDirective,\n        IgxCellEditorTemplateDirective,\n        IgxCollapsibleIndicatorTemplateDirective,\n        IgxColumnComponent,\n        IgxColumnGroupComponent,\n        IgxColumnLayoutComponent\n    ]\n})\nexport class IgxGridColumnModule {}\n","import { NgModule } from '@angular/core';\nimport { IgxGridFilteringCellComponent } from './grid-filtering-cell.component';\nimport { IgxGridFilteringRowComponent } from './grid-filtering-row.component';\nimport { IgxGridSharedModules } from '../../common/shared.module';\nimport { IgxGridPipesModule } from '../../common/grid-pipes.module';\n\n\n@NgModule({\n    declarations: [\n        IgxGridFilteringCellComponent,\n        IgxGridFilteringRowComponent\n    ],\n    imports: [\n        IgxGridSharedModules,\n        IgxGridPipesModule\n    ],\n    exports: [\n        IgxGridFilteringCellComponent,\n        IgxGridFilteringRowComponent\n    ]\n})\nexport class IgxGridFilteringModule {}\n","import { NgModule } from '@angular/core';\nimport { IgxGridHeaderComponent } from './grid-header.component';\nimport { IgxGridHeaderGroupComponent } from './grid-header-group.component';\nimport { IgxGridSharedModules } from '../common/shared.module';\nimport { IgxColumnMovingModule } from '../moving/moving.module';\nimport { IgxGridFilteringModule } from '../filtering/base/filtering.module';\nimport { IgxGridResizingModule } from '../resizing/resize.module';\n\n\n@NgModule({\n    declarations: [\n        IgxGridHeaderComponent,\n        IgxGridHeaderGroupComponent\n    ],\n    imports: [\n        IgxGridSharedModules,\n        IgxGridFilteringModule,\n        IgxColumnMovingModule,\n        IgxGridResizingModule\n    ],\n    exports: [\n        IgxGridHeaderComponent,\n        IgxGridHeaderGroupComponent\n    ]\n})\nexport class IgxGridHeadersModule {}\n","import { NgModule } from '@angular/core';\nimport { IgxGridCellComponent } from './cell.component';\nimport { IgxGridFooterComponent } from './grid-footer/grid-footer.component';\nimport {\n    IgxGridBodyDirective\n} from './grid.common';\nimport { IgxGridTransaction, IgxGridBaseDirective } from './grid-base.directive';\nimport { IgxBaseTransactionService } from '../services/transaction/base-transaction';\nimport {\n    IgxRowEditTemplateDirective,\n    IgxRowEditActionsDirective,\n    IgxRowEditTextDirective,\n    IgxRowEditTabStopDirective\n} from './grid.rowEdit.directive';\nimport { IgxPaginatorModule } from '../paginator/paginator.component';\nimport { IgxGridPipesModule } from './common/grid-pipes.module';\nimport { IgxGridExcelStyleFilteringModule } from './filtering/excel-style/grid.excel-style-filtering.module';\nimport { IgxRowDragModule } from './row-drag.directive';\nimport { IgxAdvancedFilteringDialogComponent } from './filtering/advanced-filtering/advanced-filtering-dialog.component';\nimport { IgxGridSelectionModule } from './selection/selection.module';\nimport { IgxGridResizingModule } from './resizing/resize.module';\nimport { IgxColumnMovingModule } from './moving/moving.module';\nimport { IgxGridSharedModules } from './common/shared.module';\nimport { IgxGridSummaryModule } from './summaries/summary.module';\nimport { IgxGridToolbarModule } from './toolbar/toolbar.module';\nimport { IgxColumnHidingModule } from './hiding/hiding.module';\nimport { IgxColumnPinningModule } from './pinning/pinning.module';\nimport { IgxGridColumnModule } from './columns/column.module';\nimport { IgxGridHeadersModule } from './headers/headers.module';\nimport { IgxGridFilteringModule } from './filtering/base/filtering.module';\nimport { IgxRowDirective } from './row.directive';\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxGridBaseDirective,\n        IgxRowDirective,\n        IgxGridCellComponent,\n        IgxRowEditTemplateDirective,\n        IgxRowEditActionsDirective,\n        IgxRowEditTextDirective,\n        IgxRowEditTabStopDirective,\n        IgxGridBodyDirective,\n        IgxGridFooterComponent,\n        IgxAdvancedFilteringDialogComponent\n    ],\n    entryComponents: [\n        IgxAdvancedFilteringDialogComponent\n    ],\n    exports: [\n        IgxGridCellComponent,\n        IgxRowEditTemplateDirective,\n        IgxRowEditActionsDirective,\n        IgxRowEditTextDirective,\n        IgxRowEditTabStopDirective,\n        IgxGridBodyDirective,\n        IgxColumnHidingModule,\n        IgxColumnPinningModule,\n        IgxGridColumnModule,\n        IgxGridHeadersModule,\n        IgxGridPipesModule,\n        IgxGridFilteringModule,\n        IgxGridExcelStyleFilteringModule,\n        IgxRowDragModule,\n        IgxPaginatorModule,\n        IgxGridFooterComponent,\n        IgxGridResizingModule,\n        IgxColumnMovingModule,\n        IgxGridSelectionModule,\n        IgxGridSummaryModule,\n        IgxGridToolbarModule,\n        IgxAdvancedFilteringDialogComponent,\n        IgxGridSharedModules\n    ],\n    imports: [\n        IgxGridColumnModule,\n        IgxGridHeadersModule,\n        IgxColumnMovingModule,\n        IgxGridResizingModule,\n        IgxColumnPinningModule,\n        IgxGridSelectionModule,\n        IgxGridSummaryModule,\n        IgxGridToolbarModule,\n        IgxColumnHidingModule,\n        IgxGridPipesModule,\n        IgxGridFilteringModule,\n        IgxGridExcelStyleFilteringModule,\n        IgxRowDragModule,\n        IgxPaginatorModule,\n        IgxGridSharedModules\n    ],\n    providers: [\n        { provide: IgxGridTransaction, useClass: IgxBaseTransactionService }\n    ]\n})\nexport class IgxGridCommonModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { cloneArray } from '../../core/utils';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { IGroupByExpandState } from '../../data-operations/groupby-expand-state.interface';\nimport { IGroupByResult } from '../../data-operations/grouping-result.interface';\nimport { IFilteringExpressionsTree, FilteringExpressionsTree } from '../../data-operations/filtering-expressions-tree';\nimport { ISortingExpression } from '../../data-operations/sorting-expression.interface';\nimport { IgxGridAPIService } from './grid-api.service';\nimport { IgxGridComponent } from './grid.component';\nimport { IGroupingExpression } from '../../data-operations/grouping-expression.interface';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { GridType } from '../common/grid.interface';\nimport { IFilteringStrategy } from '../../data-operations/filtering-strategy';\nimport { IGridSortingStrategy } from '../../data-operations/sorting-strategy';\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'gridSort',\n    pure: true\n})\nexport class IgxGridSortingPipe implements PipeTransform {\n    private gridAPI: IgxGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxGridAPIService>gridAPI;\n    }\n\n    public transform(collection: any[], expressions: ISortingExpression[], sorting: IGridSortingStrategy,\n                     id: string, pipeTrigger: number): any[] {\n        const grid = this.gridAPI.grid;\n        let result: any[];\n\n        if (!expressions.length) {\n            result = collection;\n        } else {\n            result = DataUtil.sort(cloneArray(collection), expressions, sorting);\n        }\n        grid.filteredSortedData = result;\n\n        return result;\n    }\n}\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'gridGroupBy',\n    pure: true\n})\nexport class IgxGridGroupingPipe implements PipeTransform {\n    private gridAPI: IgxGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxGridAPIService>gridAPI;\n    }\n\n    public transform(collection: any[], expression: IGroupingExpression | IGroupingExpression[],\n        expansion: IGroupByExpandState | IGroupByExpandState[], defaultExpanded: boolean,\n        id: string, groupsRecords: any[], pipeTrigger: number): IGroupByResult {\n\n        const state = { expressions: [], expansion: [], defaultExpanded };\n        const grid: IgxGridComponent = this.gridAPI.grid;\n        state.expressions = grid.groupingExpressions;\n        let result: IGroupByResult;\n        const fullResult: IGroupByResult = { data: [], metadata: [] };\n\n        if (!state.expressions.length) {\n            // empty the array without changing reference\n            groupsRecords.splice(0, groupsRecords.length);\n            result = {\n                data: collection,\n                metadata: collection\n            };\n        } else {\n            state.expansion = grid.groupingExpansionState;\n            state.defaultExpanded = grid.groupsExpanded;\n            result = DataUtil.group(cloneArray(collection), state, grid, groupsRecords, fullResult);\n        }\n        grid.groupingFlatResult = result.data;\n        grid.groupingResult = fullResult.data;\n        grid.groupingMetadata = fullResult.metadata;\n        return result;\n    }\n}\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'gridPaging',\n    pure: true\n})\nexport class IgxGridPagingPipe implements PipeTransform {\n\n    constructor(private gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) { }\n\n    public transform(collection: IGroupByResult, page = 0, perPage = 15, id: string, pipeTrigger: number): IGroupByResult {\n\n        if (!this.gridAPI.grid.paging) {\n            return collection;\n        }\n\n        const state = {\n            index: page,\n            recordsPerPage: perPage\n        };\n        DataUtil.correctPagingState(state, collection.data.length);\n\n        const result = {\n            data: DataUtil.page(cloneArray(collection.data), state),\n            metadata: DataUtil.page(cloneArray(collection.metadata), state)\n        };\n        if (this.gridAPI.grid.page !== state.index) {\n            this.gridAPI.grid.page = state.index;\n        }\n        this.gridAPI.grid.pagingState = state;\n        return result;\n    }\n}\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'gridFiltering',\n    pure: true\n})\nexport class IgxGridFilteringPipe implements PipeTransform {\n\n    constructor(private gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) { }\n\n    public transform(collection: any[], expressionsTree: IFilteringExpressionsTree,\n        filterStrategy: IFilteringStrategy,\n        advancedExpressionsTree: IFilteringExpressionsTree, id: string, pipeTrigger: number, filteringPipeTrigger: number) {\n        const grid = this.gridAPI.grid;\n        const state = {\n            expressionsTree: expressionsTree,\n            strategy: filterStrategy,\n            advancedExpressionsTree: advancedExpressionsTree\n        };\n\n        if (FilteringExpressionsTree.empty(state.expressionsTree) && FilteringExpressionsTree.empty(state.advancedExpressionsTree)) {\n            return collection;\n        }\n\n        const result = DataUtil.filter(cloneArray(collection), state);\n        grid.filteredData = result;\n        return result;\n    }\n}\n","import { Component, forwardRef, ChangeDetectionStrategy,\n     ElementRef, ChangeDetectorRef, HostBinding, ViewChildren, QueryList } from '@angular/core';\nimport { IgxGridComponent } from './grid.component';\nimport { IgxRowDirective } from '../row.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-grid-row',\n    templateUrl: './grid-row.component.html',\n    providers: [{ provide: IgxRowDirective, useExisting: forwardRef(() => IgxGridRowComponent) }]\n})\nexport class IgxGridRowComponent extends IgxRowDirective<IgxGridComponent> {\n\n    // R.K. TODO: Remove\n    constructor(\n        public gridAPI: GridBaseAPIService<IgxGridComponent>,\n        public crudService: IgxGridCRUDService,\n        public selectionService: IgxGridSelectionService,\n        public element: ElementRef,\n        public cdr: ChangeDetectorRef) {\n            // D.P. constructor duplication due to es6 compilation, might be obsolete in the future\n            super(gridAPI, crudService, selectionService, element, cdr);\n        }\n\n    @ViewChildren('cell')\n    private _cells: QueryList<any>;\n\n    public get cells() {\n        const res = new QueryList<any>();\n        if (!this._cells) {\n            return res;\n        }\n        const cList = this._cells.toArray().sort((item1, item2) => item1.column.visibleIndex - item2.column.visibleIndex);\n        res.reset(cList);\n        return res;\n    }\n\n    public set cells(cells) {\n\n    }\n\n    @HostBinding('class.igx-grid__tr--mrl')\n    get hasColumnLayouts(): boolean {\n        return this.grid.hasColumnLayouts;\n    }\n\n    getContext(col, row) {\n        return {\n            $implicit: col,\n            row: row\n        };\n    }\n\n    get expanded() {\n        return this.gridAPI.get_row_expansion_state(this.rowData);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { IgxGridAPIService } from './grid-api.service';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { IgxGridComponent } from './grid.component';\nimport { ISummaryRecord } from '../summaries/grid-summary';\nimport { IGroupByRecord } from '../../data-operations/groupby-record.interface';\nimport { IGroupByResult } from '../../data-operations/grouping-result.interface';\nimport { GridSummaryCalculationMode, GridSummaryPosition } from '../common/enums';\nimport { GridType } from '../common/grid.interface';\n\n/** @hidden */\ninterface ISkipRecord {\n    skip?: boolean;\n}\n\n/** @hidden */\n@Pipe({\n    name: 'gridSummary',\n    pure: true\n})\nexport class IgxGridSummaryPipe implements PipeTransform {\n    private gridAPI: IgxGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxGridAPIService>gridAPI;\n    }\n\n    public transform(collection: IGroupByResult,\n        hasSummary: boolean,\n        summaryCalculationMode: GridSummaryCalculationMode,\n        summaryPosition: GridSummaryPosition,\n        id: string, pipeTrigger: number, summaryPipeTrigger: number): any[] {\n\n        if (!collection.data || !hasSummary || summaryCalculationMode === GridSummaryCalculationMode.rootLevelOnly) {\n            return collection.data;\n        }\n\n        return this.addSummaryRows(id, collection, summaryPosition);\n    }\n\n    private addSummaryRows(gridId: string, collection: IGroupByResult, summaryPosition: GridSummaryPosition): any[] {\n        const recordsWithSummary = [];\n        const lastChildMap = new Map<any, IGroupByRecord[]>();\n        const grid: IgxGridComponent = this.gridAPI.grid;\n        const maxSummaryHeight = grid.summaryService.calcMaxSummaryHeight();\n\n        if (collection.metadata.length && !grid.isGroupByRecord(collection.data[0]) &&\n            grid.isGroupByRecord(collection.metadata[0]) && summaryPosition === GridSummaryPosition.bottom) {\n            const groups: Array<IGroupByRecord & ISkipRecord> = [];\n            groups.push(collection.metadata[0]);\n            while (groups[groups.length - 1].groupParent) {\n                groups.push(groups[groups.length - 1].groupParent);\n            }\n            groups.reverse();\n            groups.forEach(g => g.skip = true);\n            collection.data.splice(0, 0, ...groups);\n        }\n        for (let i = 0; i < collection.data.length; i++) {\n            const record = collection.data[i];\n            let skipAdd = false;\n            let recordId;\n            let groupByRecord: IGroupByRecord = null;\n            if (grid.isGroupByRecord(record)) {\n                skipAdd = !!record.skip;\n                record.skip = null;\n                groupByRecord = record as IGroupByRecord;\n                recordId = this.gridAPI.get_groupBy_record_id(groupByRecord);\n            } else {\n                recordId = this.gridAPI.get_row_id(record);\n            }\n            if (!skipAdd) {\n                recordsWithSummary.push(record);\n            }\n\n            if (summaryPosition === GridSummaryPosition.bottom && lastChildMap.has(recordId)) {\n                const groupRecords = lastChildMap.get(recordId);\n\n                for (let j = 0; j < groupRecords.length; j++) {\n                    const groupRecord = groupRecords[j];\n                    const groupRecordId = this.gridAPI.get_groupBy_record_id(groupRecord);\n                    const records = this.removeDeletedRecord(grid, groupRecord.records.slice());\n                    const summaries = grid.summaryService.calculateSummaries(groupRecordId, records);\n                    const summaryRecord: ISummaryRecord = {\n                        summaries: summaries,\n                        max: maxSummaryHeight\n                    };\n                    recordsWithSummary.push(summaryRecord);\n                }\n            }\n\n            if (groupByRecord === null || !grid.isExpandedGroup(groupByRecord)) {\n                continue;\n            }\n\n            if (summaryPosition === GridSummaryPosition.top) {\n                const records = this.removeDeletedRecord(grid, groupByRecord.records.slice());\n                const summaries = grid.summaryService.calculateSummaries(recordId, records);\n                const summaryRecord: ISummaryRecord = {\n                    summaries: summaries,\n                    max: maxSummaryHeight\n                };\n                recordsWithSummary.push(summaryRecord);\n            } else if (summaryPosition === GridSummaryPosition.bottom) {\n                let lastChild = groupByRecord;\n\n                while (lastChild.groups && lastChild.groups.length > 0 && grid.isExpandedGroup(lastChild)) {\n                    lastChild = lastChild.groups[lastChild.groups.length - 1];\n                }\n\n                let lastChildId;\n                if (grid.isExpandedGroup(lastChild)) {\n                    lastChildId = this.gridAPI.get_row_id(lastChild.records[lastChild.records.length - 1]);\n                } else {\n                    lastChildId = this.gridAPI.get_groupBy_record_id(lastChild);\n                }\n\n                let groupRecords = lastChildMap.get(lastChildId);\n                if (!groupRecords) {\n                    groupRecords = [];\n                    lastChildMap.set(lastChildId, groupRecords);\n                }\n                groupRecords.unshift(groupByRecord);\n            }\n        }\n\n        return recordsWithSummary;\n    }\n\n    private removeDeletedRecord(grid, data) {\n        if (!grid.transactions.enabled) {\n            return data;\n        }\n        const deletedRows = grid.transactions.getTransactionLog().filter(t => t.type === 'delete').map(t => t.id);\n        deletedRows.forEach(rowID => {\n            const tempData = grid.primaryKey ? data.map(rec => rec[grid.primaryKey]) : data;\n            const index = tempData.indexOf(rowID);\n            if (index !== -1) {\n                data.splice(index, 1);\n            }\n        });\n        return data;\n    }\n}\n","import { PipeTransform, Pipe } from '@angular/core';\nimport { GridType } from '../common/grid.interface';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridAPIService } from './grid-api.service';\n\n/** @hidden */\n@Pipe({\n    name: 'gridDetails',\n    pure: true\n})\nexport class IgxGridDetailsPipe implements PipeTransform {\n    private gridAPI: IgxGridAPIService;\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxGridAPIService>gridAPI;\n    }\n    public transform(collection: any[], hasDetails: boolean, expansionStates:  Map<any, boolean>, pipeTrigger: number) {\n        if (!hasDetails) {\n            return collection;\n        }\n        const res = this.addDetailRows(collection, expansionStates);\n        return res;\n    }\n\n    protected addDetailRows(collection: any[], expansionStates: Map<any, boolean>) {\n        const result = [];\n        collection.forEach((v) => {\n            result.push(v);\n            if (!this.gridAPI.grid.isGroupByRecord(v) && !this.gridAPI.grid.isSummaryRow(v) &&\n                this.gridAPI.get_row_expansion_state(v)) {\n                const detailsObj = { detailsData: v };\n                result.push(detailsObj);\n            }\n        });\n        return result;\n    }\n}\n","import { Component, ChangeDetectorRef, ElementRef, ViewChild, Inject,\n     ChangeDetectionStrategy, NgZone, OnInit, Input, TemplateRef } from '@angular/core';\nimport { IgxGridCellComponent } from '../cell.component';\nimport { GridBaseAPIService } from '../api.service';\nimport { getNodeSizeViaRange, PlatformUtil } from '../../core/utils';\nimport { DOCUMENT } from '@angular/common';\nimport { IgxGridBaseDirective } from '.';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { HammerGesturesManager } from '../../core/touch';\nimport { GridType } from '../common/grid.interface';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'igx-expandable-grid-cell',\n    templateUrl: 'expandable-cell.component.html',\n    providers: [HammerGesturesManager]\n})\nexport class IgxGridExpandableCellComponent extends IgxGridCellComponent implements OnInit {\n\n    constructor(\n                selectionService: IgxGridSelectionService,\n                crudService: IgxGridCRUDService,\n                gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n                cdr: ChangeDetectorRef,\n                element: ElementRef,\n                protected zone: NgZone,\n                touchManager: HammerGesturesManager,\n                @Inject(DOCUMENT) public document,\n                protected platformUtil: PlatformUtil) {\n        super(selectionService, crudService, gridAPI, cdr, element, zone, touchManager, platformUtil);\n    }\n\n    /**\n     * @hidden\n    */\n    @Input()\n    expanded = false;\n\n    @ViewChild('indicator', { read: ElementRef })\n    public indicator: ElementRef;\n\n    @ViewChild('indentationDiv', { read: ElementRef })\n    public indentationDiv: ElementRef;\n\n    /**\n    * @hidden\n    */\n   @ViewChild('defaultExpandedTemplate', { read: TemplateRef, static: true })\n   protected defaultExpandedTemplate: TemplateRef<any>;\n\n    /**\n    * @hidden\n    */\n   @ViewChild('defaultCollapsedTemplate', { read: TemplateRef, static: true })\n   protected defaultCollapsedTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    public toggle(event: Event) {\n        event.stopPropagation();\n        const expansionState = this.gridAPI.get_row_expansion_state(this.row.rowData);\n        this.gridAPI.set_row_expansion_state(this.row.rowID, !expansionState, event);\n    }\n\n    /**\n     * @hidden\n     */\n    public onIndicatorFocus() {\n        this.gridAPI.submit_value();\n        this.nativeElement.focus();\n    }\n\n    /**\n     * @hidden\n     */\n    public calculateSizeToFit(range: any): number {\n        const indicatorWidth = this.indicator.nativeElement.getBoundingClientRect().width;\n        const indicatorStyle = this.document.defaultView.getComputedStyle(this.indicator.nativeElement);\n        const indicatorMargin = parseFloat(indicatorStyle.marginRight);\n        let leftPadding = 0;\n        if (this.indentationDiv) {\n            const indentationStyle = this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);\n            leftPadding = parseFloat(indentationStyle.paddingLeft);\n        }\n        const largestWidth = Math.max(...Array.from(this.nativeElement.children)\n            .map((child) => getNodeSizeViaRange(range, child)));\n        return largestWidth + indicatorWidth + indicatorMargin + leftPadding;\n    }\n\n    /**\n     * @hidden\n    */\n    public get iconTemplate() {\n        if (this.expanded) {\n            return this.grid.rowExpandedIndicatorTemplate || this.defaultExpandedTemplate;\n        } else {\n            return this.grid.rowCollapsedIndicatorTemplate || this.defaultCollapsedTemplate;\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport {\n    IgxGroupAreaDropDirective,\n    IgxGroupByRowTemplateDirective,\n    IgxRowExpandedIndicatorDirective,\n    IgxRowCollapsedIndicatorDirective,\n    IgxHeaderExpandIndicatorDirective,\n    IgxHeaderCollapseIndicatorDirective,\n    IgxGridDetailTemplateDirective\n} from './grid.directives';\nimport { IgxGridComponent } from './grid.component';\nimport {\n    IgxGridPagingPipe,\n    IgxGridGroupingPipe,\n    IgxGridSortingPipe,\n    IgxGridFilteringPipe\n} from './grid.pipes';\nimport { IgxGridGroupByRowComponent } from './groupby-row.component';\nimport { IgxGridRowComponent } from './grid-row.component';\nimport { IgxGridCommonModule } from '../grid-common.module';\nimport { IgxGridSummaryPipe } from './grid.summary.pipe';\nimport { IgxGridDetailsPipe } from './grid.details.pipe';\nimport { IgxGridExpandableCellComponent } from './expandable-cell.component';\n\n/**\n * @hidden\n */\n@NgModule({\n  declarations: [\n    IgxGridComponent,\n    IgxGridRowComponent,\n    IgxGridGroupByRowComponent,\n    IgxGroupByRowTemplateDirective,\n    IgxGridDetailTemplateDirective,\n    IgxRowExpandedIndicatorDirective,\n    IgxRowCollapsedIndicatorDirective,\n    IgxHeaderExpandIndicatorDirective,\n    IgxHeaderCollapseIndicatorDirective,\n    IgxGroupAreaDropDirective,\n    IgxGridGroupingPipe,\n    IgxGridPagingPipe,\n    IgxGridSortingPipe,\n    IgxGridFilteringPipe,\n    IgxGridSummaryPipe,\n    IgxGridDetailsPipe,\n    IgxGridExpandableCellComponent\n  ],\n  exports: [\n    IgxGridComponent,\n    IgxGridExpandableCellComponent,\n    IgxGridGroupByRowComponent,\n    IgxGridRowComponent,\n    IgxGroupByRowTemplateDirective,\n    IgxGridDetailTemplateDirective,\n    IgxRowExpandedIndicatorDirective,\n    IgxRowCollapsedIndicatorDirective,\n    IgxHeaderExpandIndicatorDirective,\n    IgxHeaderCollapseIndicatorDirective,\n    IgxGroupAreaDropDirective,\n    IgxGridGroupingPipe,\n    IgxGridPagingPipe,\n    IgxGridSortingPipe,\n    IgxGridFilteringPipe,\n    IgxGridSummaryPipe,\n    IgxGridDetailsPipe,\n    IgxGridCommonModule\n  ],\n  imports: [\n    IgxGridCommonModule,\n  ]\n})\nexport class IgxGridModule {}\n","import { GridBaseAPIService } from '../api.service';\nimport { IgxTreeGridComponent } from './tree-grid.component';\nimport { DataType } from '../../data-operations/data-util';\nimport { ITreeGridRecord } from './tree-grid.interfaces';\nimport { IRowToggleEventArgs } from '../common/events';\nimport { HierarchicalTransaction, TransactionType, State } from '../../services';\nimport { mergeObjects } from '../../core/utils';\nimport { Injectable } from '@angular/core';\nimport { ColumnType } from '../common/column.interface';\n\n@Injectable()\nexport class IgxTreeGridAPIService extends GridBaseAPIService<IgxTreeGridComponent> {\n    public get_all_data(transactions?: boolean): any[] {\n        const grid = this.grid;\n        const data = transactions ? grid.dataWithAddedInTransactionRows : grid.flatData;\n        return data ? data : [];\n    }\n\n    public get_summary_data() {\n        const grid = this.grid;\n        const data = grid.processedRootRecords.filter(row => row.isFilteredOutParent === undefined || row.isFilteredOutParent === false)\n            .map(rec => rec.data);\n        if (grid.transactions.enabled) {\n            const deletedRows = grid.transactions.getTransactionLog().filter(t => t.type === TransactionType.DELETE).map(t => t.id);\n            deletedRows.forEach(rowID => {\n                const tempData = grid.primaryKey ? data.map(rec => rec[grid.primaryKey]) : data;\n                const index = tempData.indexOf(rowID);\n                if (index !== -1) {\n                    data.splice(index, 1);\n                }\n            });\n        }\n        return data;\n    }\n\n    public allow_expansion_state_change(rowID, expanded): boolean {\n        const grid = this.grid;\n        const row = grid.records.get(rowID);\n        if (row.expanded === expanded ||\n            ((!row.children || !row.children.length) && (!grid.loadChildrenOnDemand ||\n            (grid.hasChildrenKey && !row.data[grid.hasChildrenKey])))) {\n            return false;\n        }\n        return true;\n    }\n\n    public expand_path_to_record(record: ITreeGridRecord) {\n        const grid = this.grid;\n        const expandedStates = grid.expansionStates;\n\n        while (record.parent) {\n            record = record.parent;\n            const expanded = this.get_row_expansion_state(record);\n\n            if (!expanded) {\n                expandedStates.set(record.rowID, true);\n            }\n        }\n        grid.expansionStates = expandedStates;\n\n        if (grid.rowEditable) {\n            grid.endEdit(true);\n        }\n    }\n\n    public get_row_expansion_state(record: ITreeGridRecord): boolean {\n        const grid = this.grid;\n        const states = grid.expansionStates;\n        const expanded = states.get(record.rowID);\n\n        if (expanded !== undefined) {\n            return expanded;\n        } else {\n            return record.children && record.children.length && record.level < grid.expansionDepth;\n        }\n    }\n\n    protected update_row_in_array(value: any, rowID: any, index: number) {\n        const grid = this.grid;\n        if (grid.primaryKey && grid.foreignKey) {\n            super.update_row_in_array(value, rowID, index);\n        } else {\n            const record = grid.records.get(rowID);\n            const childData = record.parent ? record.parent.data[grid.childDataKey] : grid.data;\n            index = grid.primaryKey ? childData.map(c => c[grid.primaryKey]).indexOf(rowID) :\n                childData.indexOf(rowID);\n            childData[index] = value;\n        }\n    }\n\n    public should_apply_number_style(column: ColumnType): boolean {\n        return column.dataType === DataType.Number && column.visibleIndex !== 0;\n    }\n\n    public deleteRowById(rowID: any) {\n        const treeGrid = this.grid;\n        const flatDataWithCascadeOnDeleteAndTransactions =\n        treeGrid.primaryKey &&\n        treeGrid.foreignKey &&\n        treeGrid.cascadeOnDelete &&\n        treeGrid.transactions.enabled;\n\n        if (flatDataWithCascadeOnDeleteAndTransactions) {\n            treeGrid.transactions.startPending();\n        }\n\n        super.deleteRowById(rowID);\n\n        if (flatDataWithCascadeOnDeleteAndTransactions) {\n            treeGrid.transactions.endPending(true);\n        }\n    }\n\n    public deleteRowFromData(rowID: any, index: number) {\n        const treeGrid = this.grid;\n        const record = treeGrid.records.get(rowID);\n\n        if (treeGrid.primaryKey && treeGrid.foreignKey) {\n            index = treeGrid.primaryKey ?\n                treeGrid.data.map(c => c[treeGrid.primaryKey]).indexOf(rowID) :\n                treeGrid.data.indexOf(rowID);\n            super.deleteRowFromData(rowID, index);\n\n            if (treeGrid.cascadeOnDelete) {\n                if (record && record.children && record.children.length > 0) {\n                    for (let i = 0; i < record.children.length; i++) {\n                        const child = record.children[i];\n                        super.deleteRowById(child.rowID);\n                    }\n                }\n            }\n        } else {\n            const collection = record.parent ? record.parent.data[treeGrid.childDataKey] : treeGrid.data;\n            index = treeGrid.primaryKey ?\n                collection.map(c => c[treeGrid.primaryKey]).indexOf(rowID) :\n                collection.indexOf(rowID);\n\n            const selectedChildren = [];\n            this.get_selected_children(record, selectedChildren);\n            if (selectedChildren.length > 0) {\n                treeGrid.deselectRows(selectedChildren);\n            }\n\n            if (treeGrid.transactions.enabled) {\n                const path = treeGrid.generateRowPath(rowID);\n                treeGrid.transactions.add({\n                    id: rowID,\n                    type: TransactionType.DELETE,\n                    newValue: null,\n                    path: path\n                },\n                    collection[index]\n                );\n            } else {\n                collection.splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * Updates related row of provided grid's data source with provided new row value\n     * @param grid Grid to update data for\n     * @param rowID ID of the row to update\n     * @param rowValueInDataSource Initial value of the row as it is in data source\n     * @param rowCurrentValue Current value of the row as it is with applied previous transactions\n     * @param rowNewValue New value of the row\n     */\n    protected updateData(\n        grid: IgxTreeGridComponent,\n        rowID: any,\n        rowValueInDataSource: any,\n        rowCurrentValue: any,\n        rowNewValue: { [x: string]: any }) {\n        if (grid.transactions.enabled) {\n            const path = grid.generateRowPath(rowID);\n            const transaction: HierarchicalTransaction = {\n                id: rowID,\n                type: TransactionType.UPDATE,\n                newValue: rowNewValue,\n                path: path\n            };\n            grid.transactions.add(transaction, rowCurrentValue);\n        } else {\n            mergeObjects(rowValueInDataSource, rowNewValue);\n        }\n    }\n\n    public get_selected_children(record: ITreeGridRecord, selectedRowIDs: any[]) {\n        const grid = this.grid;\n        if (!record.children || record.children.length === 0) {\n            return;\n        }\n        for (const child of record.children) {\n            if (grid.selectionService.isRowSelected(child.rowID)) {\n                selectedRowIDs.push(child.rowID);\n            }\n            this.get_selected_children(child, selectedRowIDs);\n        }\n    }\n\n    public row_deleted_transaction(rowID: any): boolean {\n        return this.row_deleted_parent(rowID) || super.row_deleted_transaction(rowID);\n    }\n\n    public get_rec_by_id(rowID) {\n        return this.grid.records.get(rowID);\n    }\n\n    private row_deleted_parent(rowID: any): boolean {\n        const grid = this.grid;\n        if (!grid) {\n            return false;\n        }\n        if ((grid.cascadeOnDelete && grid.foreignKey) || grid.childDataKey) {\n            let node = grid.records.get(rowID);\n            while (node) {\n                const state: State = grid.transactions.getState(node.rowID);\n                if (state && state.type === TransactionType.DELETE) {\n                    return true;\n                }\n                node = node.parent;\n            }\n        }\n        return false;\n    }\n}\n","import { IgxGridNavigationService } from '../grid-navigation.service';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class IgxTreeGridNavigationService extends IgxGridNavigationService {\n\n    protected getCellSelector(visibleIndex?: number, isSummary = false): string {\n        if (isSummary) {\n            return 'igx-grid-summary-cell';\n        }\n        if (visibleIndex === 0) {\n            return 'igx-tree-grid-cell';\n        }\n        return 'igx-grid-cell';\n    }\n\n    protected getRowSelector() {\n        return 'igx-tree-grid-row';\n    }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxRowLoadingIndicator]'\n})\nexport class IgxRowLoadingIndicatorTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) { }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    HostBinding,\n    Input,\n    Output,\n    EventEmitter,\n    forwardRef,\n    OnInit,\n    TemplateRef,\n    QueryList,\n    ContentChild,\n    AfterContentInit,\n    ViewChild,\n    DoCheck\n} from '@angular/core';\nimport { IgxTreeGridAPIService } from './tree-grid-api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { ITreeGridRecord } from './tree-grid.interfaces';\nimport { IRowToggleEventArgs } from '../common/events';\nimport { HierarchicalTransaction, HierarchicalState, TransactionType } from '../../services/transaction/transaction';\nimport { IgxHierarchicalTransactionService } from '../../services/index';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { IgxTreeGridNavigationService } from './tree-grid-navigation.service';\nimport { IgxGridSummaryService } from '../summaries/grid-summary.service';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { mergeObjects } from '../../core/utils';\nimport { first, takeUntil } from 'rxjs/operators';\nimport { IgxRowLoadingIndicatorTemplateDirective } from './tree-grid.directives';\nimport { IgxForOfSyncService, IgxForOfScrollSyncService } from '../../directives/for-of/for_of.sync.service';\nimport { IgxDragIndicatorIconDirective } from '../row-drag.directive';\nimport { IgxGridNavigationService } from '../grid-navigation.service';\nimport { GridType } from '../common/grid.interface';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxRowIslandAPIService } from '../hierarchical-grid/row-island-api.service';\n\nlet NEXT_ID = 0;\n\n/**\n * **Ignite UI for Angular Tree Grid** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/grid.html)\n *\n * The Ignite UI Tree Grid displays and manipulates hierarchical data with consistent schema formatted as a table and\n * provides features such as sorting, filtering, editing, column pinning, paging, column moving and hiding.\n *\n * Example:\n * ```html\n * <igx-tree-grid [data]=\"employeeData\" primaryKey=\"employeeID\" foreignKey=\"PID\" autoGenerate=\"false\">\n *   <igx-column field=\"first\" header=\"First Name\"></igx-column>\n *   <igx-column field=\"last\" header=\"Last Name\"></igx-column>\n *   <igx-column field=\"role\" header=\"Role\"></igx-column>\n * </igx-tree-grid>\n * ```\n */\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-tree-grid',\n    templateUrl: 'tree-grid.component.html',\n    providers: [\n        IgxGridSelectionService,\n        IgxGridCRUDService,\n        IgxGridSummaryService,\n        { provide: IgxGridNavigationService, useClass: IgxTreeGridNavigationService },\n        { provide: GridBaseAPIService, useClass: IgxTreeGridAPIService },\n        { provide: IgxGridBaseDirective, useExisting: forwardRef(() => IgxTreeGridComponent) },\n        IgxFilteringService,\n        IgxForOfSyncService,\n        IgxForOfScrollSyncService,\n        IgxRowIslandAPIService\n    ]\n})\nexport class IgxTreeGridComponent extends IgxGridBaseDirective implements GridType, OnInit, DoCheck, AfterContentInit {\n    private _id = `igx-tree-grid-${NEXT_ID++}`;\n    private _data;\n    private _rowLoadingIndicatorTemplate: TemplateRef<any>;\n    protected _transactions: IgxHierarchicalTransactionService<HierarchicalTransaction, HierarchicalState>;\n\n    /**\n     * An @Input property that sets the value of the `id` attribute. If not provided it will be automatically generated.\n     * ```html\n     * <igx-tree-grid [id]=\"'igx-tree-grid-1'\"></igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public get id(): string {\n        return this._id;\n    }\n    public set id(value: string) {\n        this._id = value;\n    }\n\n    /**\n     * An @Input property that lets you fill the `IgxTreeGridComponent` with an array of data.\n     * ```html\n     * <igx-tree-grid [data]=\"Data\" [autoGenerate]=\"true\"></igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public get data(): any[] {\n        return this._data;\n    }\n\n    public set data(value: any[]) {\n        this._data = value || [];\n        this.summaryService.clearSummaryCache();\n        if (this.shouldGenerate) {\n            this.setupColumns();\n        }\n        this.cdr.markForCheck();\n    }\n\n    /**\n     * Returns an array of objects containing the filtered data in the `IgxGridComponent`.\n     * ```typescript\n     * let filteredData = this.grid.filteredData;\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    get filteredData() {\n        return this._filteredData;\n    }\n\n    /**\n     * Sets an array of objects containing the filtered data in the `IgxGridComponent`.\n     * ```typescript\n     * this.grid.filteredData = [{\n     *       ID: 1,\n     *       Name: \"A\"\n     * }];\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    set filteredData(value) {\n        this._filteredData = value;\n\n    }\n\n    /**\n     * Get transactions service for the grid.\n     * @experimental @hidden\n     */\n    get transactions() {\n        return this._transactions;\n    }\n\n    /**\n    * @hidden\n    */\n    public flatData: any[];\n\n    /**\n    * @hidden\n    */\n    public processedExpandedFlatData: any[];\n\n    /**\n     * Returns an array of the root level `ITreeGridRecord`s.\n     * ```typescript\n     * // gets the root record with index=2\n     * const states = this.grid.rootRecords[2];\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    public rootRecords: ITreeGridRecord[];\n\n    /**\n     * Returns a map of all `ITreeGridRecord`s.\n     * ```typescript\n     * // gets the record with primaryKey=2\n     * const states = this.grid.records.get(2);\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    public records: Map<any, ITreeGridRecord> = new Map<any, ITreeGridRecord>();\n\n    /**\n     * Returns an array of processed (filtered and sorted) root `ITreeGridRecord`s.\n     * ```typescript\n     * // gets the processed root record with index=2\n     * const states = this.grid.processedRootRecords[2];\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    public processedRootRecords: ITreeGridRecord[];\n\n    /**\n     * Returns a map of all processed (filtered and sorted) `ITreeGridRecord`s.\n     * ```typescript\n     * // gets the processed record with primaryKey=2\n     * const states = this.grid.processedRecords.get(2);\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    public processedRecords: Map<any, ITreeGridRecord> = new Map<any, ITreeGridRecord>();\n\n    /**\n     * An @Input property that sets the child data key of the `IgxTreeGridComponent`.\n     * ```html\n     * <igx-tree-grid #grid [data]=\"employeeData\" [childDataKey]=\"'employees'\" [autoGenerate]=\"true\"></igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public childDataKey;\n\n    /**\n     * An @Input property that sets the foreign key of the `IgxTreeGridComponent`.\n     * ```html\n     * <igx-tree-grid #grid [data]=\"employeeData\" [primaryKey]=\"'employeeID'\" [foreignKey]=\"'parentID'\" [autoGenerate]=\"true\">\n     * </igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public foreignKey;\n\n    /**\n     * An @Input property that sets the key indicating whether a row has children.\n     * This property is only used for load on demand scenarios.\n     * ```html\n     * <igx-tree-grid #grid [data]=\"employeeData\" [primaryKey]=\"'employeeID'\" [foreignKey]=\"'parentID'\"\n     *                [loadChildrenOnDemand]=\"loadChildren\"\n     *                [hasChildrenKey]=\"'hasEmployees'\">\n     * </igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public hasChildrenKey;\n\n    /**\n     * An @Input property indicating whether child records should be deleted when their parent gets deleted.\n     * By default it is set to true and deletes all children along with the parent.\n     * ```html\n     * <igx-tree-grid [data]=\"employeeData\" [primaryKey]=\"'employeeID'\" [foreignKey]=\"'parentID'\" cascadeOnDelete=\"false\">\n     * </igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public cascadeOnDelete = true;\n\n    private _expansionDepth = Infinity;\n\n    /**\n     * An @Input property that sets the count of levels to be expanded in the `IgxTreeGridComponent`. By default it is\n     * set to `Infinity` which means all levels would be expanded.\n     * ```html\n     * <igx-tree-grid #grid [data]=\"employeeData\" [childDataKey]=\"'employees'\" expansionDepth=\"1\" [autoGenerate]=\"true\"></igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public get expansionDepth(): number {\n        return this._expansionDepth;\n    }\n\n    public set expansionDepth(value: number) {\n        this._expansionDepth = value;\n        this.notifyChanges();\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxRowLoadingIndicatorTemplateDirective, { read: IgxRowLoadingIndicatorTemplateDirective })\n    protected rowLoadingTemplate: IgxRowLoadingIndicatorTemplateDirective;\n\n    /**\n     * An @Input property that provides a template for the row loading indicator when load on demand is enabled.\n     * ```html\n     * <ng-template #rowLoadingTemplate>\n     *     <igx-icon fontSet=\"material\">loop</igx-icon>\n     * </ng-template>\n     *\n     * <igx-tree-grid #grid [data]=\"employeeData\" [primaryKey]=\"'ID'\" [foreignKey]=\"'parentID'\"\n     *                [loadChildrenOnDemand]=\"loadChildren\"\n     *                [rowLoadingIndicatorTemplate]=\"rowLoadingTemplate\">\n     * </igx-tree-grid>\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public get rowLoadingIndicatorTemplate(): TemplateRef<any> {\n        return this._rowLoadingIndicatorTemplate;\n    }\n\n    public set rowLoadingIndicatorTemplate(value: TemplateRef<any>) {\n        this._rowLoadingIndicatorTemplate = value;\n        this.notifyChanges();\n    }\n\n    /**\n     * An @Input property that provides a callback for loading child rows on demand.\n     * ```html\n     * <igx-tree-grid [data]=\"employeeData\" [primaryKey]=\"'employeeID'\" [foreignKey]=\"'parentID'\" [loadChildrenOnDemand]=\"loadChildren\">\n     * </igx-tree-grid>\n     * ```\n     * ```typescript\n     * public loadChildren = (parentID: any, done: (children: any[]) => void) => {\n     *     this.dataService.getData(parentID, children => done(children));\n     * }\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    @Input()\n    public loadChildrenOnDemand: (parentID: any, done: (children: any[]) => void) => void;\n\n    /**\n     * @hidden\n     */\n    public loadingRows = new Set<any>();\n\n    // Kind of stupid\n    private get _gridAPI(): IgxTreeGridAPIService {\n        return this.gridAPI as IgxTreeGridAPIService;\n    }\n    private _filteredData = null;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('dragIndicatorIconBase', { read: TemplateRef, static: true })\n    public dragIndicatorIconBase: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        super.ngOnInit();\n\n        this.onRowToggle.pipe(takeUntil(this.destroy$)).subscribe((args) => {\n            this.loadChildrenOnRowExpansion(args);\n        });\n    }\n\n    ngDoCheck() {\n        super.ngDoCheck();\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterContentInit() {\n        if (this.rowLoadingTemplate) {\n            this._rowLoadingIndicatorTemplate = this.rowLoadingTemplate.template;\n        }\n        super.ngAfterContentInit();\n    }\n\n    private loadChildrenOnRowExpansion(args: IRowToggleEventArgs) {\n        if (this.loadChildrenOnDemand) {\n            const parentID = args.rowID;\n\n            if (args.expanded && !this._expansionStates.has(parentID)) {\n                this.loadingRows.add(parentID);\n\n                this.loadChildrenOnDemand(parentID, children => {\n                    this.loadingRows.delete(parentID);\n                    this.addChildRows(children, parentID);\n                    this.notifyChanges();\n\n                    requestAnimationFrame(() => {\n                        const cellID = this.selectionService.activeElement;\n                        if (cellID) {\n                            const cell = this._gridAPI.get_cell_by_index(cellID.row, cellID.column);\n                            if (cell) {\n                                cell.nativeElement.focus();\n                            }\n                        }\n                    });\n                });\n            }\n        }\n    }\n\n    private addChildRows(children: any[], parentID: any) {\n        if (this.primaryKey && this.foreignKey) {\n            for (const child of children) {\n                child[this.foreignKey] = parentID;\n            }\n            this.data.push(...children);\n        } else if (this.childDataKey) {\n            let parent = this.records.get(parentID);\n            let parentData = parent.data;\n\n            if (this.transactions.enabled && this.transactions.getAggregatedChanges(true).length) {\n                const path = [];\n                while (parent) {\n                    path.push(parent.rowID);\n                    parent = parent.parent;\n                }\n\n                let collection = this.data;\n                let record: any;\n                for (let i = path.length - 1; i >= 0; i--) {\n                    const pid = path[i];\n                    record = collection.find(r => r[this.primaryKey] === pid);\n\n                    if (!record) {\n                        break;\n                    }\n                    collection = record[this.childDataKey];\n                }\n                if (record) {\n                    parentData = record;\n                }\n            }\n\n            parentData[this.childDataKey] = children;\n        }\n        this.selectionService.clearHeaderCBState();\n        this._pipeTrigger++;\n    }\n\n    private cloneMap(mapIn: Map<any, boolean>): Map<any, boolean> {\n        const mapCloned: Map<any, boolean> = new Map<any, boolean>();\n\n        mapIn.forEach((value: boolean, key: any, mapObj: Map<any, boolean>) => {\n\n            mapCloned.set(key, value);\n        });\n\n        return mapCloned;\n    }\n\n    public getDefaultExpandState(record: ITreeGridRecord) {\n        return record.children && record.children.length && record.level < this.expansionDepth;\n    }\n\n    /**\n     * Expands all rows.\n     * ```typescript\n     * this.grid.expandAll();\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    public expandAll() {\n        this._expansionDepth = Infinity;\n        this.expansionStates = new Map<any, boolean>();\n    }\n\n    /**\n     * Collapses all rows.\n     * ```typescript\n     * this.grid.collapseAll();\n     * ```\n\t * @memberof IgxTreeGridComponent\n     */\n    public collapseAll() {\n        this._expansionDepth = 0;\n        this.expansionStates = new Map<any, boolean>();\n    }\n\n    /**\n     * Creates a new `IgxTreeGridRowComponent` with the given data. If a parentRowID is not specified, the newly created\n     * row would be added at the root level. Otherwise, it would be added as a child of the row whose primaryKey matches\n     * the specified parentRowID. If the parentRowID does not exist, an error would be thrown.\n     * ```typescript\n     * const record = {\n     *     ID: this.grid.data[this.grid1.data.length - 1].ID + 1,\n     *     Name: this.newRecord\n     * };\n     * this.grid.addRow(record, 1); // Adds a new child row to the row with ID=1.\n     * ```\n     * @param data\n     * @param parentRowID\n     * @memberof IgxTreeGridComponent\n     */\n    public addRow(data: any, parentRowID?: any) {\n        if (parentRowID !== undefined && parentRowID !== null) {\n            super.endEdit(true);\n\n            const state = this.transactions.getState(parentRowID);\n            // we should not allow adding of rows as child of deleted row\n            if (state && state.type === TransactionType.DELETE) {\n                throw Error(`Cannot add child row to deleted parent row`);\n            }\n\n            const parentRecord = this.records.get(parentRowID);\n\n            if (!parentRecord) {\n                throw Error('Invalid parent row ID!');\n            }\n            this.summaryService.clearSummaryCache({rowID: parentRecord.rowID});\n            if (this.primaryKey && this.foreignKey) {\n                data[this.foreignKey] = parentRowID;\n                super.addRow(data);\n            } else {\n                const parentData = parentRecord.data;\n                const childKey = this.childDataKey;\n                if (this.transactions.enabled) {\n                    const rowId = this.primaryKey ? data[this.primaryKey] : data;\n                    const path: any[] = [];\n                    path.push(...this.generateRowPath(parentRowID));\n                    path.push(parentRowID);\n                    this.transactions.add({\n                        id: rowId,\n                        path: path,\n                        newValue: data,\n                        type: TransactionType.ADD\n                    } as HierarchicalTransaction,\n                        null);\n                } else {\n                    if (!parentData[childKey]) {\n                        parentData[childKey] = [];\n                    }\n                    parentData[childKey].push(data);\n                }\n                this.onRowAdded.emit({ data });\n                this._pipeTrigger++;\n                this.notifyChanges();\n            }\n        } else {\n            if (this.primaryKey && this.foreignKey) {\n                const rowID = data[this.foreignKey];\n                this.summaryService.clearSummaryCache({rowID: rowID});\n            }\n            super.addRow(data);\n        }\n    }\n\n    /** @hidden */\n    public deleteRowById(rowId: any) {\n        //  if this is flat self-referencing data, and CascadeOnDelete is set to true\n        //  and if we have transactions we should start pending transaction. This allows\n        //  us in case of delete action to delete all child rows as single undo action\n        this._gridAPI.deleteRowById(rowId);\n\n    }\n\n    /** @hidden */\n    public generateRowPath(rowId: any): any[] {\n        const path: any[] = [];\n        let record = this.records.get(rowId);\n\n        while (record.parent) {\n            path.push(record.parent.rowID);\n            record = record.parent;\n        }\n\n        return path.reverse();\n    }\n\n    /**\n     * @hidden @internal\n     */\n    protected getDataBasedBodyHeight(): number {\n        return !this.flatData || (this.flatData.length < this._defaultTargetRecordNumber) ?\n            0 : this.defaultTargetBodyHeight;\n    }\n\n    /**\n     * @hidden\n     */\n    protected scrollTo(row: any | number, column: any | number): void {\n        let delayScrolling = false;\n        let record: ITreeGridRecord;\n\n        if (typeof(row) !== 'number') {\n            const rowData = row;\n            const rowID = this._gridAPI.get_row_id(rowData);\n            record = this.processedRecords.get(rowID);\n            this._gridAPI.expand_path_to_record(record);\n\n            if (this.paging) {\n                const rowIndex = this.processedExpandedFlatData.indexOf(rowData);\n                const page = Math.floor(rowIndex / this.perPage);\n\n                if (this.page !== page) {\n                    delayScrolling = true;\n                    this.page = page;\n                }\n            }\n        }\n\n        if (delayScrolling) {\n            this.verticalScrollContainer.onDataChanged.pipe(first()).subscribe(() => {\n                this.scrollDirective(this.verticalScrollContainer,\n                    typeof(row) === 'number' ? row : this.dataView.indexOf(record));\n            });\n        } else {\n            this.scrollDirective(this.verticalScrollContainer,\n                typeof(row) === 'number' ? row : this.dataView.indexOf(record));\n        }\n\n        this.scrollToHorizontally(column);\n    }\n\n    /**\n    * @hidden\n    */\n    public getContext(rowData: any, rowIndex: Number): any {\n        return {\n            $implicit: rowData,\n            index: rowIndex,\n            templateID: this.isSummaryRow(rowData) ? 'summaryRow' : 'dataRow'\n        };\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getSelectedData(formatters = false, headers = false): any[] {\n        const source = [];\n\n        const process = (record) => {\n            if (record.summaries) {\n                source.push(null);\n                return;\n            }\n            source.push(record.data);\n        };\n\n        this.dataView.forEach(process);\n        return this.extractDataFromSelection(source, formatters, headers);\n    }\n\n    /**\n    * @hidden\n    */\n    public get template(): TemplateRef<any> {\n        if (this.filteredData && this.filteredData.length === 0) {\n            return this.emptyGridTemplate ? this.emptyGridTemplate : this.emptyFilteredGridTemplate;\n        }\n\n        if (this.isLoading && (!this.data || this.dataLength === 0)) {\n            return this.loadingGridTemplate ? this.loadingGridTemplate : this.loadingGridDefaultTemplate;\n        }\n\n        if (this.dataLength === 0) {\n            return this.emptyGridTemplate ? this.emptyGridTemplate : this.emptyGridDefaultTemplate;\n        }\n    }\n\n    protected writeToData(rowIndex: number, value: any) {\n        mergeObjects(this.flatData[rowIndex], value);\n    }\n\n    /**\n     * @hidden\n    */\n   protected initColumns(collection: QueryList<IgxColumnComponent>, cb: Function = null) {\n        if (this.hasColumnLayouts) {\n            // invalid configuration - tree grid should not allow column layouts\n            // remove column layouts\n            const nonColumnLayoutColumns = this.columnList.filter((col) => !col.columnLayout && !col.columnLayoutChild);\n            this.columnList.reset(nonColumnLayoutColumns);\n        }\n        super.initColumns(collection, cb);\n    }\n}\n","import { Component, forwardRef, Input, ViewChildren, QueryList, HostBinding, DoCheck, ChangeDetectionStrategy } from '@angular/core';\nimport { IgxTreeGridComponent } from './tree-grid.component';\nimport { IgxRowDirective } from '../row.directive';\nimport { ITreeGridRecord } from './tree-grid.interfaces';\nimport { IgxTreeGridAPIService } from './tree-grid-api.service';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'igx-tree-grid-row',\n    templateUrl: 'tree-grid-row.component.html',\n    providers: [{ provide: IgxRowDirective, useExisting: forwardRef(() => IgxTreeGridRowComponent) }]\n})\nexport class IgxTreeGridRowComponent extends IgxRowDirective<IgxTreeGridComponent> implements DoCheck {\n    private _treeRow: ITreeGridRecord;\n\n    /**\n     * The rendered cells in the row component.\n     *\n     * ```typescript\n     * const row = this.grid.getRowByKey(1);\n     * const cells = row.cells;\n     * ```\n     */\n    @ViewChildren('treeCell')\n    public cells: QueryList<any>;\n\n    /**\n     * The `ITreeGridRecord` passed to the row component.\n     *\n     * ```typescript\n     * const row = this.grid.getRowByKey(1) as IgxTreeGridRowComponent;\n     * const treeRow = row.treeRow;\n     * ```\n     */\n    @Input()\n    public get treeRow(): ITreeGridRecord {\n        return this._treeRow;\n    }\n\n    public set treeRow(value: ITreeGridRecord) {\n        if (this._treeRow !== value) {\n            this._treeRow = value;\n            this.rowData = this._treeRow.data;\n        }\n    }\n\n    /**\n     * Returns a value indicating whether the row component is expanded.\n     *\n     * ```typescript\n     * const row = this.grid.getRowByKey(1) as IgxTreeGridRowComponent;\n     * const expanded = row.expanded;\n     * ```\n     */\n    @HostBinding('attr.aria-expanded')\n    get expanded(): boolean {\n        return this._treeRow.expanded;\n    }\n\n    /**\n     * Sets a value indicating whether the row component is expanded.\n     *\n     * ```typescript\n     * const row = this.grid.getRowByKey(1) as IgxTreeGridRowComponent;\n     * row.expanded = true;\n     * ```\n     */\n    set expanded(value: boolean) {\n        (this.gridAPI as IgxTreeGridAPIService).set_row_expansion_state(this._treeRow.rowID, value);\n    }\n\n    /**\n     * @hidden\n     */\n    public isLoading: boolean;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    get viewIndex(): number {\n        return this.index + this.grid.page * this.grid.perPage;\n    }\n\n    /**\n     * @hidden\n     */\n    public get showIndicator() {\n        return this.grid.loadChildrenOnDemand ?\n            this.grid.expansionStates.has(this.rowID) ?\n                this.treeRow.children && this.treeRow.children.length :\n                this.grid.hasChildrenKey ?\n                    this.rowData[this.grid.hasChildrenKey] :\n                    true :\n            this.treeRow.children && this.treeRow.children.length;\n    }\n\n    /**\n     * @hidden\n     */\n    protected resolveClasses(): string {\n        const classes = super.resolveClasses();\n        const filteredClass = this.treeRow.isFilteredOutParent ? 'igx-grid__tr--filtered' : '';\n        return `${classes} ${filteredClass}`;\n    }\n\n    /**\n     * @hidden\n     */\n    public ngDoCheck() {\n        this.isLoading = this.grid.loadChildrenOnDemand ? this.grid.loadingRows.has(this.rowID) : false;\n        super.ngDoCheck();\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { cloneArray, cloneHierarchicalArray } from '../../core/utils';\nimport { DataUtil } from '../../data-operations/data-util';\nimport { IgxTreeGridAPIService } from './tree-grid-api.service';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxTreeGridComponent } from './tree-grid.component';\nimport { ITreeGridRecord } from './tree-grid.interfaces';\nimport { IgxGridBaseDirective } from '../grid';\nimport { ISortingExpression } from '../../data-operations/sorting-expression.interface';\nimport { GridType } from '../common/grid.interface';\nimport { IGridSortingStrategy } from '../../data-operations/sorting-strategy';\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'treeGridHierarchizing',\n    pure: true\n})\nexport class IgxTreeGridHierarchizingPipe implements PipeTransform {\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n    }\n\n    public transform(collection: any[], primaryKey: string, foreignKey: string, childDataKey: string,\n        id: string, pipeTrigger: number): ITreeGridRecord[] {\n        const grid = this.gridAPI.grid;\n        let hierarchicalRecords: ITreeGridRecord[] = [];\n        const treeGridRecordsMap = new Map<any, ITreeGridRecord>();\n        const flatData: any[] = [];\n\n        if (primaryKey && foreignKey) {\n            hierarchicalRecords = this.hierarchizeFlatData(id, collection, primaryKey, foreignKey, treeGridRecordsMap, flatData);\n        } else if (childDataKey) {\n            hierarchicalRecords = this.hierarchizeRecursive(id, collection, primaryKey, childDataKey, undefined,\n                flatData, 0, treeGridRecordsMap);\n        }\n\n        grid.flatData = flatData;\n        grid.records = treeGridRecordsMap;\n        grid.rootRecords = hierarchicalRecords;\n        return hierarchicalRecords;\n    }\n\n    private getRowID(primaryKey: any, rowData: any) {\n        return primaryKey ? rowData[primaryKey] : rowData;\n    }\n\n    private hierarchizeFlatData(id: string, collection: any[], primaryKey: string, foreignKey: string,\n        map: Map<any, ITreeGridRecord>, flatData: any[]):\n        ITreeGridRecord[] {\n        const result: ITreeGridRecord[] = [];\n        const missingParentRecords: ITreeGridRecord[] = [];\n        collection.forEach(row => {\n            const record: ITreeGridRecord = {\n                rowID: this.getRowID(primaryKey, row),\n                data: row,\n                children: []\n            };\n            const parent = map.get(row[foreignKey]);\n            if (parent) {\n                record.parent = parent;\n                parent.children.push(record);\n            } else {\n                missingParentRecords.push(record);\n            }\n\n            map.set(row[primaryKey], record);\n        });\n\n        missingParentRecords.forEach(record => {\n            const parent = map.get(record.data[foreignKey]);\n            if (parent) {\n                record.parent = parent;\n                parent.children.push(record);\n            } else {\n                result.push(record);\n            }\n        });\n\n        this.setIndentationLevels(id, result, 0, flatData);\n\n        return result;\n    }\n\n    private setIndentationLevels(id: string, collection: ITreeGridRecord[], indentationLevel: number, flatData: any[]) {\n        for (let i = 0; i < collection.length; i++) {\n            const record = collection[i];\n            record.level = indentationLevel;\n            record.expanded = this.gridAPI.get_row_expansion_state(record);\n            flatData.push(record.data);\n\n            if (record.children && record.children.length > 0) {\n                this.setIndentationLevels(id, record.children, indentationLevel + 1, flatData);\n            }\n        }\n    }\n\n    private hierarchizeRecursive(id: string, collection: any[], primaryKey: string, childDataKey: string,\n        parent: ITreeGridRecord, flatData: any[], indentationLevel: number, map: Map<any, ITreeGridRecord>): ITreeGridRecord[] {\n        const result: ITreeGridRecord[] = [];\n\n        for (let i = 0; i < collection.length; i++) {\n            const item = collection[i];\n            const record: ITreeGridRecord = {\n                rowID: this.getRowID(primaryKey, item),\n                data: item,\n                parent: parent,\n                level: indentationLevel\n            };\n            record.expanded = this.gridAPI.get_row_expansion_state(record);\n            flatData.push(item);\n            map.set(record.rowID, record);\n            record.children = item[childDataKey] ?\n                this.hierarchizeRecursive(id, item[childDataKey], primaryKey, childDataKey, record, flatData, indentationLevel + 1, map) :\n                undefined;\n            result.push(record);\n        }\n\n        return result;\n    }\n}\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'treeGridFlattening',\n    pure: true\n})\nexport class IgxTreeGridFlatteningPipe implements PipeTransform {\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n    }\n\n    public transform(collection: ITreeGridRecord[], id: string,\n        expandedLevels: number, expandedStates: Map<any, boolean>, pipeTrigger: number): any[] {\n\n        const grid: IgxTreeGridComponent = this.gridAPI.grid;\n        const data: ITreeGridRecord[] = [];\n\n        grid.processedRootRecords = collection;\n        grid.processedRecords = new Map<any, ITreeGridRecord>();\n\n        this.getFlatDataRecursive(collection, data, expandedLevels, expandedStates, id, true);\n\n        grid.processedExpandedFlatData = data.map(r => r.data);\n\n        return data;\n    }\n\n    private getFlatDataRecursive(collection: ITreeGridRecord[], data: ITreeGridRecord[],\n        expandedLevels: number, expandedStates: Map<any, boolean>, gridID: string,\n        parentExpanded: boolean) {\n        if (!collection || !collection.length) {\n            return;\n        }\n        const grid: IgxTreeGridComponent = this.gridAPI.grid;\n\n        for (let i = 0; i < collection.length; i++) {\n            const hierarchicalRecord = collection[i];\n\n            if (parentExpanded) {\n                data.push(hierarchicalRecord);\n            }\n\n            hierarchicalRecord.expanded = this.gridAPI.get_row_expansion_state(hierarchicalRecord);\n\n            this.updateNonProcessedRecordExpansion(grid, hierarchicalRecord);\n\n            grid.processedRecords.set(hierarchicalRecord.rowID, hierarchicalRecord);\n\n            this.getFlatDataRecursive(hierarchicalRecord.children, data, expandedLevels,\n                expandedStates, gridID, parentExpanded && hierarchicalRecord.expanded);\n        }\n    }\n\n    private updateNonProcessedRecordExpansion(grid: IgxTreeGridComponent, record: ITreeGridRecord) {\n        const rec = grid.records.get(record.rowID);\n        rec.expanded = record.expanded;\n    }\n}\n\n/** @hidden */\n@Pipe({\n    name: 'treeGridSorting',\n    pure: true\n})\nexport class IgxTreeGridSortingPipe implements PipeTransform {\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n    }\n\n    public transform(\n        hierarchicalData: ITreeGridRecord[],\n        expressions: ISortingExpression[],\n        sorting: IGridSortingStrategy,\n        id: string,\n        pipeTrigger: number): ITreeGridRecord[] {\n        const grid = this.gridAPI.grid;\n\n        let result: ITreeGridRecord[];\n        if (!expressions.length) {\n            result = hierarchicalData;\n        } else {\n            result = DataUtil.treeGridSort(hierarchicalData, expressions, sorting);\n        }\n        const filteredSortedData = [];\n        this.flattenTreeGridRecords(result, filteredSortedData);\n        grid.filteredSortedData = filteredSortedData;\n\n        return result;\n    }\n\n    private flattenTreeGridRecords(records: ITreeGridRecord[], flatData: any[]) {\n        if (records && records.length) {\n            for (const record of records) {\n                flatData.push(record.data);\n                this.flattenTreeGridRecords(record.children, flatData);\n            }\n        }\n    }\n}\n\n/** @hidden */\n@Pipe({\n    name: 'treeGridPaging',\n    pure: true\n})\nexport class IgxTreeGridPagingPipe implements PipeTransform {\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n    }\n\n    public transform(collection: ITreeGridRecord[], page = 0, perPage = 15, id: string, pipeTrigger: number): ITreeGridRecord[] {\n        const grid = this.gridAPI.grid;\n        if (!grid.paging) {\n            return collection;\n        }\n\n        const len = collection.length;\n        const totalPages = Math.ceil(len / perPage);\n\n        const state = {\n            index: (totalPages > 0 && page >= totalPages) ? totalPages - 1 : page,\n            recordsPerPage: perPage\n        };\n\n        const result: ITreeGridRecord[] = DataUtil.page(cloneArray(collection), state);\n        grid.pagingState = state;\n        (grid as any)._page = state.index;\n\n        return result;\n    }\n}\n/** @hidden */\n@Pipe({\n    name: 'treeGridTransaction',\n    pure: true\n})\nexport class IgxTreeGridTransactionPipe implements PipeTransform {\n\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n    }\n\n    transform(collection: any[], id: string, pipeTrigger: number): any[] {\n        const grid: IgxTreeGridComponent = this.gridAPI.grid;\n\n        if (grid.transactions.enabled) {\n            const aggregatedChanges = grid.transactions.getAggregatedChanges(true);\n            if (aggregatedChanges.length > 0) {\n                const primaryKey = grid.primaryKey;\n                if (!primaryKey) {\n                    return collection;\n                }\n\n                const foreignKey = grid.foreignKey;\n                const childDataKey = grid.childDataKey;\n\n                if (foreignKey) {\n                    const flatDataClone = cloneArray(collection);\n                    return DataUtil.mergeTransactions(\n                        flatDataClone,\n                        aggregatedChanges,\n                        grid.primaryKey);\n                } else if (childDataKey) {\n                    const hierarchicalDataClone = cloneHierarchicalArray(collection, childDataKey);\n                    return DataUtil.mergeHierarchicalTransactions(\n                        hierarchicalDataClone,\n                        aggregatedChanges,\n                        childDataKey,\n                        grid.primaryKey);\n                }\n            }\n        }\n        return collection;\n    }\n}\n","import { Component, ChangeDetectorRef, ElementRef, ViewChild, Inject,\n     ChangeDetectionStrategy, NgZone, OnInit, Input, TemplateRef } from '@angular/core';\nimport { IgxGridCellComponent } from '../cell.component';\nimport { IgxTreeGridAPIService } from './tree-grid-api.service';\nimport { GridBaseAPIService } from '../api.service';\nimport { getNodeSizeViaRange, PlatformUtil } from '../../core/utils';\nimport { DOCUMENT } from '@angular/common';\nimport { IgxGridBaseDirective } from '../grid';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { HammerGesturesManager } from '../../core/touch';\nimport { GridType } from '../common/grid.interface';\nimport { IgxGridExpandableCellComponent } from '../grid/expandable-cell.component';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'igx-tree-grid-cell',\n    templateUrl: 'tree-cell.component.html',\n    providers: [HammerGesturesManager]\n})\nexport class IgxTreeGridCellComponent extends IgxGridExpandableCellComponent {\n    private treeGridAPI: IgxTreeGridAPIService;\n\n    constructor(\n                selectionService: IgxGridSelectionService,\n                crudService: IgxGridCRUDService,\n                gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n                cdr: ChangeDetectorRef,\n                element: ElementRef,\n                protected zone: NgZone,\n                touchManager: HammerGesturesManager,\n                @Inject(DOCUMENT) public document,\n                protected platformUtil: PlatformUtil) {\n        super(selectionService, crudService, gridAPI, cdr, element, zone, touchManager, document, platformUtil);\n        this.treeGridAPI = <IgxTreeGridAPIService>gridAPI;\n    }\n\n    /**\n     * @hidden\n     */\n    @Input()\n    level = 0;\n\n    /**\n     * @hidden\n     */\n    @Input()\n    showIndicator = false;\n\n\n    /**\n     * @hidden\n     */\n    @Input()\n    public isLoading: boolean;\n\n    /**\n     * @hidden\n     */\n    public toggle(event: Event) {\n        event.stopPropagation();\n        this.treeGridAPI.set_row_expansion_state(this.row.rowID, !this.row.expanded, event);\n    }\n\n    /**\n     * @hidden\n     */\n    public onLoadingDblClick(event: Event) {\n        event.stopPropagation();\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { IgxTreeGridAPIService } from './tree-grid-api.service';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { ITreeGridRecord } from './tree-grid.interfaces';\nimport { IgxTreeGridComponent } from './tree-grid.component';\nimport { ISummaryRecord } from '../summaries/grid-summary';\nimport { GridSummaryCalculationMode, GridSummaryPosition } from '../common/enums';\nimport { GridType } from '../common/grid.interface';\n\n/** @hidden */\n@Pipe({\n    name: 'treeGridSummary',\n    pure: true\n})\nexport class IgxTreeGridSummaryPipe implements PipeTransform {\n    private gridAPI: IgxTreeGridAPIService;\n\n    constructor(gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>) {\n        this.gridAPI = <IgxTreeGridAPIService>gridAPI;\n     }\n\n    public transform(flatData: ITreeGridRecord[],\n        hasSummary: boolean,\n        summaryCalculationMode: GridSummaryCalculationMode,\n        summaryPosition: GridSummaryPosition,\n        id: string, pipeTrigger: number, summaryPipeTrigger: number): any[] {\n        const grid: IgxTreeGridComponent = this.gridAPI.grid;\n\n        if (!flatData || !hasSummary || summaryCalculationMode === GridSummaryCalculationMode.rootLevelOnly) {\n            return flatData;\n        }\n\n        return this.addSummaryRows(grid, flatData, summaryPosition);\n    }\n\n    private addSummaryRows(grid: IgxTreeGridComponent, collection: ITreeGridRecord[], summaryPosition: GridSummaryPosition): any[] {\n        const recordsWithSummary = [];\n        const maxSummaryHeight = grid.summaryService.calcMaxSummaryHeight();\n\n        for (let i = 0; i < collection.length; i++) {\n            const record = collection[i];\n            recordsWithSummary.push(record);\n\n            const isExpanded = record.children && record.children.length > 0 && record.expanded;\n\n            if (summaryPosition === GridSummaryPosition.bottom && !isExpanded) {\n                let childRecord = record;\n                let parent = record.parent;\n\n                while (parent) {\n                    const children = parent.children;\n\n                    if (children[children.length - 1] === childRecord ) {\n                        let childData = children.filter(r => !r.isFilteredOutParent).map(r => r.data);\n                        childData = this.removeDeletedRecord(grid, parent.rowID, childData);\n                        const summaries = grid.summaryService.calculateSummaries(parent.rowID, childData);\n                        const summaryRecord: ISummaryRecord = {\n                            summaries: summaries,\n                            max: maxSummaryHeight,\n                            cellIndentation: parent.level + 1\n                        };\n                        recordsWithSummary.push(summaryRecord);\n\n                        childRecord = parent;\n                        parent = childRecord.parent;\n                    } else {\n                        break;\n                    }\n                }\n            } else if (summaryPosition === GridSummaryPosition.top && isExpanded) {\n                let childData = record.children.filter(r => !r.isFilteredOutParent).map(r => r.data);\n                childData = this.removeDeletedRecord(grid, record.rowID, childData);\n                const summaries = grid.summaryService.calculateSummaries(record.rowID, childData);\n                const summaryRecord: ISummaryRecord = {\n                    summaries: summaries,\n                    max: maxSummaryHeight,\n                    cellIndentation: record.level + 1\n                };\n                recordsWithSummary.push(summaryRecord);\n            }\n        }\n        return recordsWithSummary;\n    }\n\n    private removeDeletedRecord(grid, rowId, data) {\n        if (!grid.transactions.enabled || !grid.cascadeOnDelete) {\n            return data;\n        }\n        const deletedRows = grid.transactions.getTransactionLog().filter(t => t.type === 'delete').map(t => t.id);\n        let row = grid.records.get(rowId);\n        if (!row && deletedRows.lenght === 0) { return []; }\n        row = row.children ? row : row.parent;\n        while (row) {\n            rowId = row.rowID;\n            if (deletedRows.indexOf(rowId) !== -1) {\n                return [];\n            }\n            row = row.parent;\n        }\n        deletedRows.forEach(rowID => {\n            const tempData = grid.primaryKey ? data.map(rec => rec[grid.primaryKey]) : data;\n            const index = tempData.indexOf(rowID);\n            if (index !== -1) {\n                data.splice(index, 1);\n            }\n        });\n        return data;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { IgxTreeGridComponent } from './tree-grid.component';\nimport { IgxTreeGridRowComponent } from './tree-grid-row.component';\nimport { IgxGridCommonModule } from '../grid-common.module';\nimport { IgxTreeGridHierarchizingPipe } from './tree-grid.pipes';\nimport { IgxTreeGridFlatteningPipe, IgxTreeGridSortingPipe, IgxTreeGridPagingPipe, IgxTreeGridTransactionPipe } from './tree-grid.pipes';\nimport { IgxTreeGridCellComponent } from './tree-cell.component';\nimport { IgxTreeGridFilteringPipe } from './tree-grid.filtering.pipe';\nimport { IgxTreeGridSummaryPipe } from './tree-grid.summary.pipe';\nimport { IgxRowLoadingIndicatorTemplateDirective } from './tree-grid.directives';\n\n/**\n * @hidden\n */\n@NgModule({\n  declarations: [\n    IgxTreeGridComponent,\n    IgxTreeGridRowComponent,\n    IgxTreeGridCellComponent,\n    IgxTreeGridHierarchizingPipe,\n    IgxTreeGridFlatteningPipe,\n    IgxTreeGridSortingPipe,\n    IgxTreeGridFilteringPipe,\n    IgxTreeGridPagingPipe,\n    IgxTreeGridTransactionPipe,\n    IgxTreeGridSummaryPipe,\n    IgxRowLoadingIndicatorTemplateDirective\n  ],\n  exports: [\n    IgxTreeGridComponent,\n    IgxTreeGridRowComponent,\n    IgxTreeGridCellComponent,\n    IgxRowLoadingIndicatorTemplateDirective,\n    IgxGridCommonModule\n  ],\n  imports: [\n    IgxGridCommonModule,\n  ]\n})\nexport class IgxTreeGridModule {\n}\n","import { IgxGridNavigationService } from '../grid-navigation.service';\nimport { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { first } from 'rxjs/operators';\nimport { ISelectionNode } from '../selection/selection.service';\nimport { isIE } from '../../core/utils';\nimport { FilterMode } from '../common/enums';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class IgxHierarchicalGridNavigationService extends IgxGridNavigationService {\n    public grid: IgxHierarchicalGridComponent;\n\n    protected getCellSelector(visibleIndex?: number, isSummary = false) {\n        return isSummary ? 'igx-grid-summary-cell' : 'igx-hierarchical-grid-cell';\n    }\n\n    protected getRowSelector() {\n        return 'igx-hierarchical-grid-row';\n    }\n\n    protected getRowByIndex(index) {\n        const row = super.getRowByIndex(index) as any;\n        return row;\n    }\n\n    private getChildContainer(grid?) {\n        const currGrid = grid || this.grid;\n        return currGrid.nativeElement.parentNode.parentNode.parentNode;\n    }\n\n    private getChildGridRowContainer(grid?) {\n        const currGrid = grid || this.grid;\n        return currGrid.nativeElement.parentNode.parentNode;\n    }\n\n    private getChildGrid(childGridID, grid) {\n        const cgrid = grid.hgridAPI.getChildGrids(true).filter((g) => g.id === childGridID)[0];\n        return cgrid;\n    }\n\n    private _isScrolledToBottom(grid) {\n        const scrollTop = grid.verticalScrollContainer.scrollPosition;\n        const scrollHeight = grid.verticalScrollContainer.getScroll().scrollHeight;\n        return scrollHeight === 0 || Math.round(scrollTop + grid.verticalScrollContainer.igxForContainerSize) === scrollHeight;\n    }\n    private getIsChildAtIndex(index) {\n        return this.grid.isChildGridRecord(this.grid.dataView[index]);\n    }\n\n    public getCellElementByVisibleIndex(rowIndex, visibleColumnIndex, isSummary = false) {\n        const cellSelector = this.getCellSelector(visibleColumnIndex, isSummary);\n        if (isSummary) {\n            const summaryRow = this.grid.summariesRowList.toArray()[0].nativeElement;\n            return summaryRow.querySelector(\n                `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n        }\n        const row = this.getRowByIndex(rowIndex);\n        return row.querySelector(\n            `${cellSelector}[data-rowindex=\"${rowIndex}\"][data-visibleIndex=\"${visibleColumnIndex}\"]`);\n    }\n\n    public navigateUp(rowElement, selectedNode: ISelectionNode) {\n        if (selectedNode.isSummaryRow) { return; }\n        const prevElem = rowElement.previousElementSibling;\n        const visibleColumnIndex = selectedNode.column;\n        const currentRowIndex = selectedNode.row;\n        if (prevElem) {\n            const nodeName = prevElem.children[0].nodeName.toLowerCase();\n            const isElemChildGrid = nodeName.toLowerCase() === 'igx-child-grid-row';\n            if (isElemChildGrid) {\n                this.focusPrevChild(prevElem, visibleColumnIndex, this.grid);\n            } else {\n                if (this.grid.parent !== null) {\n                    // currently navigating in child grid\n                    this._navigateUpInChild(rowElement, currentRowIndex, visibleColumnIndex);\n                } else {\n                    super.navigateUp(rowElement, selectedNode);\n                }\n            }\n        } else if (currentRowIndex !== 0) {\n            // handle scenario when prev item is child grid but is not yet in view\n            const isPrevChildGrid = this.getIsChildAtIndex(currentRowIndex - 1);\n            if (!isPrevChildGrid) {\n                super.navigateUp(rowElement, selectedNode);\n            } else {\n                this.scrollGrid(this.grid, -rowElement.offsetHeight,\n                    () => {\n                        rowElement = this.getRowByIndex(currentRowIndex);\n                        this.navigateUp(rowElement, selectedNode);\n                    });\n            }\n        } else if (this.grid.parent !== null &&\n            currentRowIndex === 0) {\n            // move to prev row in sibling layout or parent\n            this.focusPrev(visibleColumnIndex);\n        }\n    }\n    public navigateDown(rowElement, selectedNode: ISelectionNode) {\n        if (selectedNode.isSummaryRow) { return; }\n        const nextElem = rowElement.nextElementSibling;\n        const visibleColumnIndex = selectedNode.column;\n        const currentRowIndex = selectedNode.row;\n        if (nextElem) {\n            // next elem is in DOM\n            const nodeName = nextElem.children[0].nodeName.toLowerCase();\n            const isNextElemChildGrid = nodeName.toLowerCase() === 'igx-child-grid-row';\n            if (isNextElemChildGrid) {\n                this.focusNextChild(nextElem, visibleColumnIndex, this.grid);\n            } else {\n                if (this.grid.parent !== null) {\n                    // currently navigating in child grid\n                    this._navigateDownInChild(rowElement, currentRowIndex, visibleColumnIndex);\n                } else {\n                    super.navigateDown(rowElement, selectedNode);\n                }\n            }\n        } else if (currentRowIndex !== this.grid.dataView.length - 1) {\n            // scroll next in view\n            super.navigateDown(rowElement, selectedNode);\n        } else if (this.grid.parent !== null &&\n            currentRowIndex === this.grid.dataView.length - 1) {\n            // move to next row in sibling layout or in parent\n            this.focusNext(visibleColumnIndex);\n        }\n    }\n\n    public navigateTop(visibleColumnIndex) {\n        if (this.grid.parent !== null) {\n            // navigating in child\n            const childContainer = this.grid.nativeElement.parentNode.parentNode;\n            const diff =\n            childContainer.getBoundingClientRect().top - this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top;\n            const topIsVisible = diff >= 0;\n            const scrollable = this.getNextScrollable(this.grid);\n            if (!topIsVisible) {\n                this.scrollGrid(scrollable.grid, diff,\n                    () => super.navigateTop(visibleColumnIndex));\n            } else {\n                super.navigateTop(visibleColumnIndex);\n            }\n        } else {\n            super.navigateTop(visibleColumnIndex);\n        }\n    }\n\n    public navigateBottom(visibleColumnIndex) {\n        // handle scenario where last index is child grid\n        // in that case focus cell in last data row\n        const lastIndex = this.grid.dataView.length - 1;\n        if (this.getIsChildAtIndex(lastIndex)) {\n            const targetIndex = lastIndex - 1;\n            const scrTopPosition = this.grid.verticalScrollContainer.getScrollForIndex(targetIndex, true);\n            const verticalScrollTop = this.grid.verticalScrollContainer.scrollPosition;\n            const cellSelector = this.getCellSelector(visibleColumnIndex);\n            if (verticalScrollTop === scrTopPosition) {\n                const cells = this.getRowByIndex(targetIndex).querySelectorAll(\n                    `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n                cells[cells.length - 1].focus();\n            } else {\n                this.scrollGrid(this.grid, scrTopPosition - verticalScrollTop,\n                    () => {\n                        const cells = this.getRowByIndex(targetIndex).querySelectorAll(\n                            `${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n                        if (cells.length > 0) { cells[cells.length - 1].focus(); }\n                    });\n            }\n        } else  if (this.grid.parent !== null) {\n            const childContainer = this.grid.nativeElement.parentNode.parentNode;\n            const diff =\n            childContainer.getBoundingClientRect().bottom - this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom;\n            const endIsVisible = diff < 0;\n            const scrollable = this.getNextScrollableDown(this.grid);\n            if (!endIsVisible) {\n                this.scrollGrid(scrollable.grid, diff,\n                    () => super.navigateBottom(visibleColumnIndex));\n            } else {\n                super.navigateBottom(visibleColumnIndex);\n            }\n        } else {\n            super.navigateBottom(visibleColumnIndex);\n        }\n    }\n    public goToLastCell() {\n        // handle scenario where last index is child grid\n        // in that case focus last cell in last data row\n        const lastIndex = this.grid.dataView.length - 1;\n        if (this.getIsChildAtIndex(lastIndex)) {\n            const targetIndex = lastIndex - 1;\n            const scrTopPosition = this.grid.verticalScrollContainer.getScrollForIndex(targetIndex, true);\n            const verticalScrollTop = this.grid.verticalScrollContainer.scrollPosition;\n            if (verticalScrollTop === scrTopPosition) {\n                this.onKeydownEnd(targetIndex);\n            } else {\n                this.scrollGrid(this.grid, scrTopPosition - verticalScrollTop,\n                    () => {\n                        this.onKeydownEnd(targetIndex);\n                    });\n            }\n        } else {\n            super.goToLastCell();\n        }\n    }\n\n    public onKeydownEnd(rowIndex, isSummary = false) {\n        if (this.grid.parent && !isSummary) {\n            // handle scenario where last child row might not be in view\n            // parent should scroll to child grid end\n            const childContainer = this.grid.nativeElement.parentNode.parentNode;\n            const diffBottom =\n                childContainer.getBoundingClientRect().bottom - this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom;\n            const row = this.grid.getRowByIndex(rowIndex).element.nativeElement;\n            const rowBottom = row.getBoundingClientRect().bottom;\n            const rowIsVisible = rowBottom <= this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom;\n            const gridTop = this._getMaxTop(this.grid);\n            const diffTop = row.getBoundingClientRect().bottom -\n                row.offsetHeight - gridTop;\n            const endIsVisible = diffBottom <= 0;\n            const topVisible = diffTop >= 0;\n            if (!endIsVisible && !rowIsVisible) {\n                this.scrollGrid(this.grid.parent, diffBottom, () => super.onKeydownEnd(rowIndex));\n            } else if (!topVisible) {\n                const scrGrid = this.grid.verticalScrollContainer.scrollPosition !== 0 ? this.grid :\n                    this.getNextScrollable(this.grid).grid;\n                const topGrid = scrGrid.tbody.nativeElement.getBoundingClientRect().top >\n                    this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top ? scrGrid : this.grid.rootGrid;\n                this.scrollGrid(topGrid, diffTop, () => super.onKeydownEnd(rowIndex));\n            } else {\n                super.onKeydownEnd(rowIndex, isSummary);\n            }\n        } else {\n            super.onKeydownEnd(rowIndex, isSummary);\n        }\n\n    }\n\n    public goToFirstCell() {\n        const verticalScroll = this.grid.verticalScrollContainer.getScroll();\n        const horizontalScroll = this.grid.dataRowList.first.virtDirRow.getScroll();\n        if (verticalScroll.scrollTop === 0 && this.grid.parent) {\n            // scroll parent so that current child is in view\n            if (!horizontalScroll.clientWidth || parseInt(horizontalScroll.scrollLeft, 10) <= 1 || this.grid.pinnedColumns.length) {\n                this.navigateTop(0);\n            } else {\n                this.horizontalScroll(this.grid.dataRowList.first.index).scrollTo(0);\n                this.grid.parentVirtDir.onChunkLoad\n                    .pipe(first())\n                    .subscribe(() => {\n                        this.navigateTop(0);\n                    });\n            }\n        } else {\n            super.goToFirstCell();\n        }\n    }\n\n    public performTab(currentRowEl, selectedNode: ISelectionNode) {\n        if (this.grid.rowInEditMode) {\n            super.performTab(currentRowEl, selectedNode);\n            return;\n        }\n        const rowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        const isSummaryRow = selectedNode.isSummaryRow;\n        const summaryRows = this.grid.summariesRowList.toArray();\n        const hasSummaries = summaryRows.length > 0;\n        const isLastDataRow = rowIndex === this.grid.dataView.length - 1;\n        const nextIsDataRow = this.grid.dataRowList.find(row => row.index === rowIndex + 1);\n        const isLastColumn = this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex === visibleColumnIndex;\n        const isLastSummaryRow = hasSummaries && isSummaryRow;\n        const nextIndex = rowIndex + 1;\n        const virt = this.grid.verticalScrollContainer;\n        const isNextChild = nextIndex <= virt.igxForOf.length - 1 &&\n            this.grid.isChildGridRecord(virt.igxForOf[nextIndex]);\n        if (!nextIsDataRow && !(isLastDataRow && hasSummaries) && isLastColumn && !isSummaryRow) {\n            // navigating in child, next is not summary\n            const childContainer = this.getChildGridRowContainer();\n            const nextIsSiblingChild = this.grid.parent ? !!childContainer.nextElementSibling : false;\n            if (nextIsSiblingChild) {\n                this.focusNextChildDOMElem(childContainer, this.grid.parent);\n            } else if (isNextChild) {\n                const isInView = virt.state.startIndex + virt.state.chunkSize > nextIndex;\n                if (!isInView) {\n                    this.scrollGrid(this.grid, 'next', () => {\n                        this.focusNextChildDOMElem(currentRowEl, this.grid);\n                    });\n                } else {\n                    this.focusNextChildDOMElem(currentRowEl, this.grid);\n                }\n            } else if (this.grid.parent && this.grid.parent.summariesRowList.length > 0) {\n               this._navigateToNextParentRow(currentRowEl);\n            } else {\n                this.navigateDown(currentRowEl, { row: rowIndex, column: 0 });\n            }\n        } else if (isLastSummaryRow && isLastColumn && this.grid.parent) {\n            this._navigateToNextParentRow(currentRowEl);\n        } else  if (isLastDataRow && hasSummaries && isLastColumn && this.grid.parent) {\n            // navigating in child rows, next is child grid's summary row\n           this.focusNextRow(summaryRows[0].nativeElement, 0, this.grid.parent, true);\n        } else {\n            super.performTab(currentRowEl, selectedNode);\n        }\n    }\n\n    private _navigateToNextParentRow(currentRowEl: any): void {\n         // next is parent summary or next parent row\n         const parent = this.grid.parent;\n         const parentHasSummary = parent.summariesRowList.length > 0;\n         const parentRowIndex = parseInt(\n            this.getClosestElemByTag(currentRowEl, 'igx-child-grid-row').parentNode.getAttribute('data-rowindex'), 10);\n         const isLastRowInParent = parent.dataView.length - 1 === parentRowIndex;\n         // check if next is sibling\n         const childRowContainer = this.getChildGridRowContainer(this.grid);\n         const nextIsSiblingChild = !!childRowContainer.nextElementSibling;\n         if (isLastRowInParent && parentHasSummary && !nextIsSiblingChild) {\n             // next is parent summary\n             const parentSummary = parent.summariesRowList.first.nativeElement;\n             parent.navigation.focusNextRow(parentSummary, 0, parent, true);\n         } else {\n             // next is sibling or parent\n             this.focusNext(0);\n         }\n    }\n\n    private focusNextChildDOMElem(currentRowEl, grid) {\n        const gridElem = currentRowEl.nextElementSibling.querySelector('igx-hierarchical-grid');\n        const childGridID = gridElem.getAttribute('id');\n        const childGrid = this.getChildGrid(childGridID, grid);\n        if (childGrid.allowFiltering && childGrid.filterMode === FilterMode.quickFilter) {\n            childGrid.navigation.moveFocusToFilterCell(true);\n            return;\n        }\n        this.focusNextChild(currentRowEl.nextElementSibling, 0, grid);\n    }\n\n    public navigatePrevFilterCell(column: IgxColumnComponent, eventArgs) {\n        if (column.visibleIndex === 0 && this.grid.parent) {\n            eventArgs.preventDefault();\n            let targetGrid = this.grid.parent;\n            const prevSiblingChild = this.getChildGridRowContainer().previousElementSibling;\n            if (prevSiblingChild) {\n                const gridElem = prevSiblingChild.querySelectorAll('igx-hierarchical-grid')[0];\n                targetGrid = this.getChildGrid(gridElem.getAttribute('id'), this.grid.parent);\n            }\n            this.focusPrev(targetGrid.unpinnedColumns[targetGrid.unpinnedColumns.length - 1].visibleIndex);\n        } else {\n            super.navigatePrevFilterCell(column, eventArgs);\n        }\n    }\n\n    public navigateNextFilterCell(column: IgxColumnComponent, eventArgs) {\n        const cols = this.grid.filteringService.unpinnedFilterableColumns;\n        const nextFilterableIndex = cols.indexOf(column) + 1;\n        if (nextFilterableIndex >= this.grid.filteringService.unpinnedFilterableColumns.length) {\n            // next is not filter cell\n            const dataRows = this.grid.rowList.toArray();\n            const hasRows = dataRows.length !== 0;\n            const summaryRows = this.grid.summariesRowList.toArray();\n            const hasSummaries = summaryRows.length > 0 && summaryRows[0].summaryCells.length > 0;\n            if (hasRows) {\n                this.focusNextRow(dataRows[0].nativeElement, 0, this.grid, false);\n            } else if (hasSummaries) {\n                this.focusNextRow(summaryRows[0].nativeElement, 0, this.grid, true);\n            } else {\n                this.focusNext(0);\n            }\n            eventArgs.preventDefault();\n        } else {\n            super.navigateNextFilterCell(column, eventArgs);\n        }\n    }\n\n    public performShiftTabKey(currentRowEl, selectedNode: ISelectionNode) {\n        if (this.grid.rowInEditMode) {\n            super.performShiftTabKey(currentRowEl, selectedNode);\n            return;\n        }\n        const rowIndex = selectedNode.row;\n        const visibleColumnIndex = selectedNode.column;\n        const isSummary = selectedNode.isSummaryRow;\n        if (visibleColumnIndex === 0 && rowIndex === 0 && this.grid.parent && !isSummary) {\n            if (this.grid.allowFiltering && this.grid.filterMode === FilterMode.quickFilter) {\n                this.moveFocusToFilterCell();\n            } else {\n                const prevSiblingChild = this.getChildGridRowContainer().previousElementSibling;\n                if (prevSiblingChild) {\n                    const gridElem = prevSiblingChild.querySelectorAll('igx-hierarchical-grid')[0];\n                    this.performShiftTabIntoChild(gridElem, currentRowEl, rowIndex);\n                } else {\n                    const selNode = {\n                        row: rowIndex,\n                        column: this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length - 1].visibleIndex\n                    };\n                    this.navigateUp(currentRowEl, selNode);\n                }\n            }\n        } else if (visibleColumnIndex === 0 && currentRowEl.previousElementSibling &&\n            currentRowEl.previousElementSibling.children[0].tagName.toLowerCase() === 'igx-child-grid-row') {\n            const gridElem = this.getLastGridElem(currentRowEl.previousElementSibling);\n            this.performShiftTabIntoChild(gridElem, currentRowEl, rowIndex);\n        } else if (visibleColumnIndex === 0 && isSummary) {\n            const lastRowIndex = this.grid.dataView.length - 1;\n            if (lastRowIndex === -1) {\n                // no child data\n                if (this.grid.allowFiltering && this.grid.filterMode === FilterMode.quickFilter) {\n                    this.moveFocusToFilterCell();\n                } else {\n                    const selNode = {\n                        row: rowIndex,\n                        column: this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length - 1].visibleIndex\n                    };\n                    this.navigateUp(currentRowEl, selNode);\n                }\n            } else if (!this.getIsChildAtIndex(lastRowIndex)) {\n                super.goToLastCell();\n            } else {\n                const scrTopPosition = this.grid.verticalScrollContainer.getScrollForIndex(lastRowIndex, true);\n                const verticalScrollTop = this.grid.verticalScrollContainer.scrollPosition;\n                if (verticalScrollTop === scrTopPosition || isNaN(scrTopPosition)) {\n                    const closestChild = this.getLastGridElem(this.grid.getRowByIndex(lastRowIndex).nativeElement.parentElement);\n                    this.performShiftTabIntoChild(closestChild, currentRowEl, rowIndex);\n                } else {\n                    this.scrollGrid(this.grid, scrTopPosition - verticalScrollTop,\n                        () => {\n                            const closestChild = this.getLastGridElem(this.grid.getRowByIndex(lastRowIndex).nativeElement.parentElement);\n                            this.performShiftTabIntoChild(closestChild, currentRowEl, rowIndex);\n                        });\n                }\n            }\n        } else {\n            super.performShiftTabKey(currentRowEl, selectedNode);\n        }\n    }\n\n    public getFocusableGrid() {\n        return (isIE() && this.grid.rootGrid) ? this.grid.rootGrid : this.grid;\n    }\n\n    private getLastGridElem(trContainer) {\n        const children = trContainer.children;\n        const closestChild = children[children.length - 1].children[0].children[0];\n        return closestChild;\n    }\n\n    private performShiftTabIntoChild(gridElem, currentRowEl, rowIndex) {\n        const childGridID = gridElem.getAttribute('id');\n            const childGrid = this.getChildGrid(childGridID, this.grid) || this.getChildGrid(childGridID, this.grid.parent);\n            const lastIndex = childGrid.unpinnedColumns[childGrid.unpinnedColumns.length - 1].visibleIndex;\n            const summaryRows = childGrid.summariesRowList.toArray();\n            if (summaryRows.length > 0 && summaryRows[0].summaryCells.length > 0) {\n                // move focus to last summary row cell\n                const summaryRow = summaryRows[0].nativeElement;\n                this.focusPrevRow(summaryRow, lastIndex, childGrid, true, true);\n            } else if (childGrid.rowList.length === 0 &&\n             childGrid.allowFiltering && childGrid.filterMode === FilterMode.quickFilter) {\n                 // move to filter cell\n                childGrid.navigation.moveFocusToFilterCell();\n            } else if (childGrid.rowList.length === 0) {\n                // move to prev child or parent row\n                const prevChild = this.getSibling(childGrid);\n                if (prevChild) {\n                    this.performShiftTabIntoChild(prevChild, currentRowEl, rowIndex);\n                } else {\n                    const selNode = {\n                        row:  rowIndex,\n                        column: this.grid.unpinnedColumns[this.grid.unpinnedColumns.length - 1].visibleIndex\n                    };\n                    this.navigateUp(currentRowEl, selNode);\n                }\n            } else {\n                // move to prev cell\n                childGrid.navigation.goToLastCell();\n            }\n    }\n\n    private getSibling(childGrid) {\n        const prevChildRow = childGrid.childRow.nativeElement.previousElementSibling;\n        if (prevChildRow) {\n            return prevChildRow.children[0].children[0];\n        }\n        return null;\n    }\n\n    private focusNextChild(elem, visibleColumnIndex, grid) {\n        const gridElem = elem.querySelector('igx-hierarchical-grid');\n        const childGridID = gridElem.getAttribute('id');\n        const childGrid = this.getChildGrid(childGridID, grid);\n\n        if (childGrid.rowList.length === 0) {\n            this.focusNext(visibleColumnIndex, childGrid);\n            return;\n        }\n\n        // Update column index since the next child can have in general less columns than visibleColumnIndex value.\n        const lastCellIndex = childGrid.unpinnedColumns[childGrid.unpinnedColumns.length - 1].visibleIndex;\n        visibleColumnIndex = Math.min(lastCellIndex, visibleColumnIndex);\n\n        if (childGrid.verticalScrollContainer.state.startIndex !== 0) {\n            // scroll to top\n            this.scrollGrid(childGrid, 'top', () => this.focusNextRow(elem, visibleColumnIndex, childGrid));\n        } else {\n            this.focusNextRow(elem, visibleColumnIndex, childGrid);\n        }\n    }\n    private focusPrevChild(elem, visibleColumnIndex, grid) {\n        const grids = [];\n        const gridElems = Array.from(elem.querySelectorAll('igx-hierarchical-grid'));\n        const childLevel = grid.childLayoutList.first.level;\n        gridElems.forEach((hg) => {\n            const parentRow = this.getClosestElemByTag(hg, 'igx-child-grid-row');\n            if (parentRow && parseInt(parentRow.getAttribute('data-level'), 10) === childLevel) {\n                grids.push(hg);\n            }\n        });\n        const gridElem = grids[grids.length - 1];\n        const childGridID = gridElem.getAttribute('id');\n        const childGrid = this.getChildGrid(childGridID, grid);\n\n        if (childGrid.rowList.length === 0) {\n            this.focusPrev(visibleColumnIndex, childGrid);\n            return;\n        }\n\n        // Update column index since the previous child can have in general less columns than visibleColumnIndex value.\n        const lastCellIndex = childGrid.unpinnedColumns[childGrid.unpinnedColumns.length - 1].visibleIndex;\n        visibleColumnIndex = Math.min(lastCellIndex, visibleColumnIndex);\n\n        const isScrolledToBottom = this._isScrolledToBottom(childGrid);\n        const lastIndex = childGrid.dataView.length - 1;\n        if (!isScrolledToBottom) {\n            // scroll to end\n            this.scrollGrid(childGrid, 'bottom', () => this.focusPrevChild(elem, visibleColumnIndex, grid));\n        } else {\n            const lastRowInChild = childGrid.getRowByIndex(lastIndex);\n            const isChildGrid = lastRowInChild.nativeElement.nodeName.toLowerCase() === 'igx-child-grid-row';\n            if (isChildGrid) {\n                this.focusPrevChild(lastRowInChild.nativeElement.parentNode, visibleColumnIndex, childGrid);\n            } else {\n                this.focusPrevRow(lastRowInChild.nativeElement, visibleColumnIndex, childGrid, true);\n            }\n        }\n    }\n    private focusPrev(visibleColumnIndex, grid?) {\n        const currGrid = grid || this.grid;\n        let parentContainer = this.getChildContainer(currGrid);\n        let childRowContainer = this.getChildGridRowContainer(currGrid);\n        const prevIsSiblingChild = !!childRowContainer.previousElementSibling;\n        let prev = childRowContainer.previousElementSibling || parentContainer.previousElementSibling;\n        if (prev) {\n            if (prevIsSiblingChild) {\n                this.focusPrevChild(prev, visibleColumnIndex, currGrid.parent);\n            } else {\n                this.focusPrevRow(prev, visibleColumnIndex, currGrid.parent);\n            }\n        } else {\n            this.scrollGrid(currGrid.parent, 'prev',\n                () => {\n                    parentContainer = this.getChildContainer(grid);\n                    childRowContainer = this.getChildGridRowContainer(grid);\n                    prev = childRowContainer.previousElementSibling || parentContainer.previousElementSibling;\n                    if (prevIsSiblingChild) {\n                        this.focusPrevChild(prev, visibleColumnIndex, currGrid.parent);\n                    } else {\n                        this.focusPrevRow(prev, visibleColumnIndex, currGrid.parent);\n                    }\n                });\n        }\n    }\n\n    private getNextParentInfo(grid) {\n        // find next parent that is not at bottom\n        let currGrid = grid.parent;\n        let nextElem = this.getChildContainer(grid).nextElementSibling;\n        while (!nextElem && currGrid.parent !== null) {\n            nextElem = this.getChildContainer(currGrid).nextElementSibling;\n            currGrid = currGrid.parent;\n        }\n\n        return { grid: currGrid, nextElement: nextElem };\n    }\n    private getNextScrollable(grid) {\n        let currGrid = grid.parent;\n        if (!currGrid) {\n            return { grid: grid, prev: null };\n        }\n        let nonScrollable = currGrid.verticalScrollContainer.scrollPosition === 0;\n        let prev = grid;\n        while (nonScrollable && currGrid.parent !== null) {\n            prev = currGrid;\n            currGrid = currGrid.parent;\n            nonScrollable = currGrid.verticalScrollContainer.scrollPosition === 0;\n        }\n        return { grid: currGrid, prev: prev };\n    }\n\n    private focusNext(visibleColumnIndex, grid?) {\n        const currGrid = grid || this.grid;\n        const parentInfo = this.getNextParentInfo(currGrid);\n        const nextParentGrid = parentInfo.grid;\n        let nextParentElem = parentInfo.nextElement;\n        let childRowContainer = this.getChildGridRowContainer(currGrid);\n        const nextIsSiblingChild = !!childRowContainer.nextElementSibling;\n        let next = childRowContainer.nextElementSibling || nextParentElem;\n        const verticalScroll = nextParentGrid.verticalScrollContainer.getScroll();\n        const parentState = nextParentGrid.verticalScrollContainer.state;\n        const atLastChunk = parentState.startIndex + parentState.chunkSize ===\n         nextParentGrid.dataView.length;\n        if (next) {\n            if (nextIsSiblingChild) {\n                this.focusNextChild(next, visibleColumnIndex, nextParentGrid);\n            } else {\n                this.focusNextRow(next, visibleColumnIndex, grid || nextParentGrid);\n            }\n        } else if (verticalScroll.scrollTop !==\n            verticalScroll.scrollHeight - nextParentGrid.verticalScrollContainer.igxForContainerSize && !atLastChunk) {\n            this.scrollGrid(nextParentGrid, 'next',\n                () => {\n                    nextParentElem = parentInfo.nextElement;\n                    childRowContainer = this.getChildGridRowContainer();\n                    next = childRowContainer.nextElementSibling || nextParentElem;\n                    if (next && nextIsSiblingChild) {\n                        this.focusNextChild(next, visibleColumnIndex, nextParentGrid);\n                    } else if (next) {\n                        this.focusNextRow(next, visibleColumnIndex, grid || nextParentGrid);\n                    }\n                });\n        }\n    }\n    private getNextScrollableDown(grid) {\n        let currGrid = grid.parent;\n        if (!currGrid) {\n            return { grid: grid, prev: null };\n        }\n        let scrollTop = currGrid.verticalScrollContainer.scrollPosition;\n        let scrollHeight = currGrid.verticalScrollContainer.getScroll().scrollHeight;\n        let nonScrollable = scrollHeight === 0 ||\n            Math.round(scrollTop + currGrid.verticalScrollContainer.igxForContainerSize) === scrollHeight;\n        let prev = grid;\n        while (nonScrollable && currGrid.parent !== null) {\n            prev = currGrid;\n            currGrid = currGrid.parent;\n            scrollTop = currGrid.verticalScrollContainer.scrollPosition;\n            scrollHeight = currGrid.verticalScrollContainer.getScroll().scrollHeight;\n            nonScrollable = scrollHeight === 0 ||\n                Math.round(scrollTop + currGrid.verticalScrollContainer.igxForContainerSize) === scrollHeight;\n        }\n        return { grid: currGrid, prev: prev };\n    }\n\n    private _getMinBottom(grid) {\n        let currGrid = grid;\n        let bottom = currGrid.tbody.nativeElement.getBoundingClientRect().bottom;\n        while (currGrid.parent) {\n            currGrid = currGrid.parent;\n            bottom = Math.min(bottom, currGrid.tbody.nativeElement.getBoundingClientRect().bottom);\n        }\n        return bottom;\n    }\n\n    private _getMaxTop(grid) {\n        let currGrid = grid;\n        let top = currGrid.tbody.nativeElement.getBoundingClientRect().top;\n        while (currGrid.parent) {\n            currGrid = currGrid.parent;\n            top = Math.max(top, currGrid.tbody.nativeElement.getBoundingClientRect().top);\n        }\n        return top;\n    }\n\n    private focusNextRow(elem, visibleColumnIndex, grid, isSummary?) {\n        const lastCellIndex = grid.unpinnedColumns[grid.unpinnedColumns.length - 1].visibleIndex;\n        visibleColumnIndex = Math.min(lastCellIndex, visibleColumnIndex);\n        const cellSelector = this.getCellSelector(visibleColumnIndex, isSummary);\n        if (grid.navigation.isColumnFullyVisible(visibleColumnIndex) || grid.rowList.length === 0) {\n            const cell =\n                elem.querySelector(`${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n            const closestScrollableGrid = this.getNextScrollableDown(grid).grid;\n            // const diff = cell.getBoundingClientRect().bottom - grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom;\n            const gridBottom = this._getMinBottom(grid);\n            const diff = cell.getBoundingClientRect().bottom - gridBottom;\n            const inView = diff <= 0;\n            const scrollTop = closestScrollableGrid.verticalScrollContainer.scrollPosition;\n            const scrollHeight = closestScrollableGrid.verticalScrollContainer.getScroll().scrollHeight;\n            const canScroll = !(scrollHeight === 0 ||\n                Math.round(scrollTop + closestScrollableGrid.verticalScrollContainer.igxForContainerSize) === scrollHeight);\n            if (!inView && canScroll) {\n                this.scrollGrid(closestScrollableGrid, diff, () => cell.focus({ preventScroll: true }));\n            } else {\n                cell.focus({ preventScroll: true });\n            }\n        } else {\n            this.horizontalScrollGridToIndex(grid, visibleColumnIndex, () => {\n                this.focusNextRow(elem, visibleColumnIndex, grid, isSummary);\n            });\n        }\n    }\n    public getColumnUnpinnedIndex(visibleColumnIndex: number, grid?: IgxHierarchicalGridComponent) {\n        const currGrid = grid || this.grid;\n        const column = currGrid.unpinnedColumns.find((col) => !col.columnGroup && col.visibleIndex === visibleColumnIndex);\n        return currGrid.pinnedColumns.length ? currGrid.unpinnedColumns.filter((c) => !c.columnGroup).indexOf(column) :\n            visibleColumnIndex;\n    }\n\n    private focusPrevRow(elem, visibleColumnIndex, grid, inChild?, isSummary?) {\n        const lastCellIndex = grid.unpinnedColumns[grid.unpinnedColumns.length - 1].visibleIndex;\n        visibleColumnIndex = Math.min(lastCellIndex, visibleColumnIndex);\n        if (grid.navigation.isColumnFullyVisible(visibleColumnIndex)) {\n            const cellSelector = this.getCellSelector(visibleColumnIndex, isSummary);\n            const cells = elem.querySelectorAll(`${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`);\n            let cell = cells[cells.length - 1];\n            const rIndex = parseInt(elem.getAttribute('data-rowindex'), 10);\n            const scrGrid = grid.verticalScrollContainer.scrollPosition !== 0 ? grid :\n                this.getNextScrollable(grid).grid;\n            const topGrid = scrGrid.tbody.nativeElement.getBoundingClientRect().top >\n                grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top ? scrGrid : grid.rootGrid;\n            const gridTop = this._getMaxTop(grid);\n            const scrTop = scrGrid.verticalScrollContainer.scrollPosition;\n            const diff = cell.getBoundingClientRect().bottom -\n                cell.offsetHeight - gridTop;\n            if (scrTop !== 0 && diff < 0 && !inChild) {\n                this.scrollGrid(scrGrid, diff, () => {\n                    const el = !isSummary ? grid.navigation.getRowByIndex(rIndex) : elem;\n                    cell = el.querySelectorAll(`${cellSelector}[data-visibleIndex=\"${visibleColumnIndex}\"]`)[0];\n                    cell.focus({ preventScroll: true });\n                });\n            } else if (diff < 0 && inChild) {\n                this.scrollGrid(topGrid, diff, () => {\n                    cell.focus({ preventScroll: true });\n                });\n            } else {\n                cell.focus({ preventScroll: true });\n            }\n        } else {\n            this.horizontalScrollGridToIndex(grid, visibleColumnIndex, () => {\n                this.focusPrevRow(elem, visibleColumnIndex, grid, inChild, isSummary);\n            });\n        }\n    }\n\n    private horizontalScrollGridToIndex(grid, visibleColumnIndex, callBackFunc) {\n        const unpinnedIndex = this.getColumnUnpinnedIndex(visibleColumnIndex, grid);\n        grid.parentVirtDir.onChunkLoad\n            .pipe(first())\n            .subscribe(callBackFunc);\n        if (grid.dataRowList.length > 0) {\n            grid.dataRowList.first.virtDirRow.scrollTo(unpinnedIndex);\n        } else {\n            grid.headerContainer.scrollTo(unpinnedIndex);\n        }\n\n    }\n    private scrollGrid(grid, target, callBackFunc) {\n        this.getFocusableGrid().nativeElement.focus({preventScroll: true});\n        requestAnimationFrame(() => {\n            if (typeof target === 'number') {\n                grid.verticalScrollContainer.addScrollTop(target);\n            } else {\n                switch (target) {\n                    case 'top': grid.verticalScrollContainer.scrollTo(0); break;\n                    case 'bottom': grid.verticalScrollContainer.scrollTo(grid.dataView.length - 1); break;\n                    case 'next': grid.verticalScrollContainer.scrollNext(); break;\n                    case 'prev': grid.verticalScrollContainer.scrollPrev(); break;\n                }\n            }\n            grid.verticalScrollContainer.onChunkLoad\n                .pipe(first())\n                .subscribe(callBackFunc);\n        });\n    }\n\n    private _navigateUpInChild(rowElement, currentRowIndex, visibleColumnIndex) {\n        const prevElem = rowElement.previousElementSibling;\n        const scrollable = this.getNextScrollable(this.grid);\n        const grid = scrollable.grid;\n        const scrTop = grid.verticalScrollContainer.scrollPosition;\n        const containerTop = scrollable.prev.nativeElement.parentNode.parentNode.parentNode.parentNode;\n        const top = parseInt(containerTop.style.top, 10);\n        if (scrTop !== 0 && top < 0) {\n            this.scrollGrid(grid, -prevElem.offsetHeight,\n                () => super.navigateUp(rowElement, { row: currentRowIndex, column: visibleColumnIndex }));\n        } else {\n            super.navigateUp(rowElement, { row: currentRowIndex, column: visibleColumnIndex });\n        }\n    }\n\n    private _navigateDownInChild(rowElement, currentRowIndex, visibleColumnIndex) {\n        const nextElem = rowElement.nextElementSibling;\n        const childContainer = this.grid.nativeElement.parentNode.parentNode;\n        const diff =\n            childContainer.getBoundingClientRect().bottom - this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom;\n        const endIsVisible = diff < 0;\n        const scrollable = this.getNextScrollableDown(this.grid);\n        const grid = scrollable.grid;\n        if (!endIsVisible) {\n            this.scrollGrid(grid, nextElem.offsetHeight,\n                () => super.navigateDown(rowElement, { row: currentRowIndex, column: visibleColumnIndex }));\n        } else {\n            super.navigateDown(rowElement, { row: currentRowIndex, column: visibleColumnIndex });\n        }\n    }\n\n    protected getNextRowByIndex(nextIndex) {\n        return this.grid.dataRowList.find(element => element.index === nextIndex).element.nativeElement;\n   }\n}\n","import {\n    ElementRef,\n    NgZone,\n    ChangeDetectorRef,\n    IterableDiffers,\n    ViewContainerRef,\n    Inject,\n    ComponentFactoryResolver,\n    Optional,\n    Input,\n    ViewChild,\n    TemplateRef,\n    Directive\n} from '@angular/core';\nimport { IgxGridBaseDirective, IgxGridTransaction } from '../grid-base.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxHierarchicalGridAPIService } from './hierarchical-grid-api.service';\nimport { IgxRowIslandComponent } from './row-island.component';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { IDisplayDensityOptions, DisplayDensityToken } from '../../core/displayDensity';\nimport { IgxSummaryOperand } from '../summaries/grid-summary';\nimport { IgxOverlayService, IgxTransactionService, Transaction, TransactionService, State } from '../../services/index';\nimport { DOCUMENT } from '@angular/common';\nimport { IgxHierarchicalGridNavigationService } from './hierarchical-grid-navigation.service';\nimport { IgxGridSummaryService } from '../summaries/grid-summary.service';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { IgxChildGridRowComponent } from './child-grid-row.component';\nimport { IgxColumnResizingService } from '../resizing/resizing.service';\nimport { GridType } from '../common/grid.interface';\nimport { IgxColumnGroupComponent } from '../columns/column-group.component';\nimport { IgxColumnComponent } from '../columns/column.component';\n\nexport const IgxHierarchicalTransactionServiceFactory = {\n    provide: IgxGridTransaction,\n    useFactory: hierarchicalTransactionServiceFactory\n};\n\nexport function hierarchicalTransactionServiceFactory() {\n    return new IgxTransactionService();\n}\n\nexport interface IPathSegment {\n    rowID: any;\n    rowIslandKey: string;\n}\n\n@Directive({\n    selector: '[igxHierarchicalGridBase]'\n})\nexport class IgxHierarchicalGridBaseDirective extends IgxGridBaseDirective {\n    public rootGrid;\n\n    @Input()\n    public expandChildren: boolean;\n\n    @Input()\n    public hasChildrenKey: string;\n\n    @Input()\n    public showExpandAll = false;\n\n    /**\n     * @hidden\n     */\n    get maxLevelHeaderDepth() {\n        if (this._maxLevelHeaderDepth === null) {\n            this._maxLevelHeaderDepth = this.columnList.reduce((acc, col) => Math.max(acc, col.level), 0);\n        }\n        return this._maxLevelHeaderDepth;\n    }\n\n     /**\n     * @hidden\n     */\n    protected get outlet() {\n        return this.rootGrid ? this.rootGrid.outletDirective : this.outletDirective;\n    }\n\n    /**\n     * @hidden\n     */\n    public hgridAPI: IgxHierarchicalGridAPIService;\n\n    /**\n     * @hidden\n     */\n    public parentIsland: IgxRowIslandComponent;\n\n    /**\n     * @hidden\n    */\n    public childRow: IgxChildGridRowComponent;\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @ViewChild('dragIndicatorIconBase', { read: TemplateRef, static: true })\n    public dragIndicatorIconBase: TemplateRef<any>;\n\n    constructor(\n        public selectionService: IgxGridSelectionService,\n        crudService: IgxGridCRUDService,\n        public colResizingService: IgxColumnResizingService,\n        gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        @Inject(IgxGridTransaction) protected transactionFactory: TransactionService<Transaction, State>,\n        elementRef: ElementRef,\n        zone: NgZone,\n        @Inject(DOCUMENT) public document,\n        cdr: ChangeDetectorRef,\n        resolver: ComponentFactoryResolver,\n        differs: IterableDiffers,\n        viewRef: ViewContainerRef,\n        navigation: IgxHierarchicalGridNavigationService,\n        filteringService: IgxFilteringService,\n        @Inject(IgxOverlayService) protected overlayService: IgxOverlayService,\n        public summaryService: IgxGridSummaryService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions) {\n        super(\n            selectionService,\n            crudService,\n            colResizingService,\n            gridAPI,\n            transactionFactory,\n            elementRef,\n            zone,\n            document,\n            cdr,\n            resolver,\n            differs,\n            viewRef,\n            navigation,\n            filteringService,\n            overlayService,\n            summaryService,\n            _displayDensityOptions);\n        this.hgridAPI = <IgxHierarchicalGridAPIService>gridAPI;\n    }\n\n    /**\n     * @hidden\n     */\n    public createColumnsList(cols: Array<any>) {\n        const columns = [];\n        const topLevelCols = this.onlyTopLevel(cols);\n        topLevelCols.forEach((col) => {\n            const ref = this._createColumn(col);\n            ref.changeDetectorRef.detectChanges();\n            columns.push(ref.instance);\n        });\n        const result = flatten(columns);\n        this.columnList.reset(result);\n        this.columnList.notifyOnChanges();\n        this.initPinning();\n    }\n\n    protected _createColumn(col) {\n        let ref;\n        if (col instanceof IgxColumnGroupComponent) {\n            ref = this._createColGroupComponent(col);\n        } else {\n            ref = this._createColComponent(col);\n        }\n        return ref;\n    }\n\n    protected _createColGroupComponent(col: IgxColumnGroupComponent) {\n        const factoryGroup = this.resolver.resolveComponentFactory(IgxColumnGroupComponent);\n        const ref = this.viewRef.createComponent(factoryGroup, null, this.viewRef.injector);\n        ref.changeDetectorRef.detectChanges();\n        factoryGroup.inputs.forEach((input) => {\n            const propName = input.propName;\n            (<any>ref.instance)[propName] = (<any>col)[propName];\n        });\n        if (col.children.length > 0) {\n            const newChildren = [];\n            col.children.forEach(child => {\n                const newCol = this._createColumn(child).instance;\n                newCol.parent = ref.instance;\n                newChildren.push(newCol);\n            });\n            (<IgxColumnGroupComponent>ref.instance).children.reset(newChildren);\n            (<IgxColumnGroupComponent>ref.instance).children.notifyOnChanges();\n        }\n        return ref;\n    }\n\n    protected _createColComponent(col) {\n        const factoryColumn = this.resolver.resolveComponentFactory(IgxColumnComponent);\n        const ref = this.viewRef.createComponent(factoryColumn, null, this.viewRef.injector);\n        factoryColumn.inputs.forEach((input) => {\n            const propName = input.propName;\n            if (!((<any>col)[propName] instanceof IgxSummaryOperand)) {\n                (<any>ref.instance)[propName] = (<any>col)[propName];\n            } else {\n                (<any>ref.instance)[propName] = col[propName].constructor;\n            }\n        });\n        return ref;\n    }\n\n    protected getGridsForIsland(rowIslandID: string) {\n        return this.hgridAPI.getChildGridsForRowIsland(rowIslandID);\n    }\n\n    protected getChildGrid(path: Array<IPathSegment>) {\n        if (!path) {\n            return;\n        }\n        return this.hgridAPI.getChildGrid(path);\n    }\n}\n\nfunction flatten(arr: any[]) {\n    let result = [];\n\n    arr.forEach(el => {\n        result.push(el);\n        if (el.children) {\n            result = result.concat(flatten(el.children.toArray()));\n        }\n    });\n    return result;\n}\n","import { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { IgxRowIslandComponent } from './row-island.component';\nimport { Subject } from 'rxjs';\nimport { IPathSegment } from './hierarchical-grid-base.directive';\nimport { IgxGridBaseDirective, GridBaseAPIService } from '../grid';\nimport { GridType } from '../common/grid.interface';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class IgxHierarchicalGridAPIService extends GridBaseAPIService<IgxGridBaseDirective & GridType> {\n    protected childRowIslands: Map<string, IgxRowIslandComponent> = new Map<string, IgxRowIslandComponent>();\n    protected childGrids:  Map<string, Map<any, IgxHierarchicalGridComponent>> =\n        new Map<string, Map<any, IgxHierarchicalGridComponent>>();\n\n    registerChildRowIsland(rowIsland: IgxRowIslandComponent) {\n        this.childRowIslands.set(rowIsland.key, rowIsland);\n        this.destroyMap.set(rowIsland.key, new Subject<boolean>());\n    }\n\n    unsetChildRowIsland(rowIsland: IgxRowIslandComponent) {\n        this.childGrids.delete(rowIsland.key);\n        this.childRowIslands.delete(rowIsland.key);\n        this.destroyMap.delete(rowIsland.key);\n    }\n\n    getChildRowIsland(key: string) {\n        return this.childRowIslands.get(key);\n    }\n\n    getChildGrid(path: Array<IPathSegment>) {\n        const currPath = path;\n        let grid;\n        const pathElem = currPath.shift();\n        const childrenForLayout = this.childGrids.get(pathElem.rowIslandKey);\n        if (childrenForLayout) {\n            const childGrid = childrenForLayout.get(pathElem.rowID);\n            if (currPath.length === 0) {\n                grid = childGrid;\n            } else {\n                grid = childGrid.hgridAPI.getChildGrid(currPath);\n            }\n        }\n        return grid;\n    }\n\n    getChildGrids(inDepth?: boolean) {\n        const allChildren = [];\n        this.childGrids.forEach((layoutMap) => {\n            layoutMap.forEach((grid) => {\n                allChildren.push(grid);\n                if (inDepth) {\n                    const children = grid.hgridAPI.getChildGrids(inDepth);\n                    children.forEach((item) => {\n                        allChildren.push(item);\n                    });\n                }\n            });\n        });\n\n        return allChildren;\n    }\n\n    getParentRowId(childGrid: IgxHierarchicalGridComponent) {\n        let rowID;\n        this.childGrids.forEach((layoutMap) => {\n            layoutMap.forEach((grid, key) => {\n                if (grid === childGrid) {\n                    rowID = key;\n                    return;\n                }\n            });\n        });\n        return rowID;\n    }\n\n    registerChildGrid(parentRowID: string|object, rowIslandKey: string, grid: IgxHierarchicalGridComponent) {\n        let childrenForLayout = this.childGrids.get(rowIslandKey);\n        if (!childrenForLayout) {\n            this.childGrids.set(rowIslandKey, new Map<any, IgxHierarchicalGridComponent>());\n            childrenForLayout = this.childGrids.get(rowIslandKey);\n        }\n        childrenForLayout.set(parentRowID, grid);\n    }\n\n    getChildGridsForRowIsland(rowIslandKey): IgxHierarchicalGridComponent[] {\n        const childrenForLayout = this.childGrids.get(rowIslandKey);\n        const children = [];\n        if (childrenForLayout) {\n            childrenForLayout.forEach((child) => {\n                children.push(child);\n            });\n        }\n        return children;\n    }\n\n    getChildGridByID(rowIslandKey, rowID) {\n        const childrenForLayout = this.childGrids.get(rowIslandKey);\n        return childrenForLayout.get(rowID);\n    }\n\n    public get_row_expansion_state(record: any): boolean {\n        let inState;\n        if (record.childGridsData !== undefined) {\n            const ri = record.rowID;\n            const rec = this.grid.primaryKey ? this.get_rec_by_id(ri) : ri;\n            inState = !!super.get_row_expansion_state(rec);\n        } else {\n            inState = !!super.get_row_expansion_state(record);\n        }\n        return inState && (this.grid as any).childLayoutList.length !== 0;\n    }\n\n    public allow_expansion_state_change(rowID, expanded): boolean {\n        const rec = this.get_rec_by_id(rowID);\n        return !!rec && this.grid.expansionStates.get(rowID) !== expanded;\n    }\n\n    public get_rec_by_id(rowID): any {\n        const data = this.get_all_data(false);\n        const index = this.get_row_index_in_data(rowID);\n        return data[index];\n    }\n}\n","import {\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    Component,\n    ContentChildren,\n    Input,\n    QueryList,\n    OnInit,\n    Inject,\n    ElementRef,\n    ChangeDetectorRef,\n    ComponentFactoryResolver,\n    IterableDiffers,\n    ViewContainerRef,\n    NgZone,\n    AfterViewInit,\n    OnChanges,\n    Output,\n    EventEmitter,\n    Optional,\n    OnDestroy,\n    DoCheck\n} from '@angular/core';\nimport { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { IgxGridTransaction, IgxGridBaseDirective } from '../grid-base.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxHierarchicalGridAPIService } from './hierarchical-grid-api.service';\nimport { DOCUMENT } from '@angular/common';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { IDisplayDensityOptions, DisplayDensityToken } from '../../core/displayDensity';\nimport { TransactionService, Transaction, State } from '../../services';\nimport { IgxGridSummaryService } from '../summaries/grid-summary.service';\nimport { IgxHierarchicalGridBaseDirective } from './hierarchical-grid-base.directive';\nimport { IgxHierarchicalGridNavigationService } from './hierarchical-grid-navigation.service';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\n\nimport { IgxOverlayService } from '../../services/index';\nimport { takeUntil } from 'rxjs/operators';\nimport { IgxColumnComponent } from '../columns/column.component';\nimport { IgxRowIslandAPIService } from './row-island-api.service';\nimport { IBaseEventArgs } from '../../core/utils';\nimport { IgxColumnResizingService } from '../resizing/resizing.service';\nimport { GridType } from '../common/grid.interface';\nexport interface IGridCreatedEventArgs extends IBaseEventArgs {\n    owner: IgxRowIslandComponent;\n    parentID: any;\n    grid: IgxHierarchicalGridComponent;\n}\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'igx-row-island',\n    template: ``,\n    providers: [IgxRowIslandAPIService]\n})\nexport class IgxRowIslandComponent extends IgxHierarchicalGridBaseDirective\n            implements AfterContentInit, AfterViewInit, OnChanges, OnInit, OnDestroy, DoCheck {\n    /**\n     * Sets the key of the row island by which child data would be taken from the row data if such is provided.\n     * ```html\n     * <igx-hierarchical-grid [data]=\"Data\" [autoGenerate]=\"true\">\n     *      <igx-row-island [key]=\"'childData'\">\n     *          <!-- ... -->\n     *      </igx-row-island>\n     * </igx-hierarchical-grid>\n     * ```\n     * @memberof IgxRowIslandComponent\n     */\n    @Input()\n    public key: string;\n\n    /**\n     * Sets if all immediate children of the grids for this `IgxRowIslandComponent` should be expanded/collapsed.\n     * ```html\n     * <igx-hierarchical-grid [data]=\"Data\" [autoGenerate]=\"true\">\n     *      <igx-row-island [key]=\"'childData'\" [expandChildren]=\"true\" #rowIsland>\n     *          <!-- ... -->\n     *      </igx-row-island>\n     * </igx-hierarchical-grid>\n     * ```\n     * @memberof IgxRowIslandComponent\n     */\n    @Input()\n    set expandChildren(value: boolean) {\n        this._defaultExpandState  = value;\n        this.rowIslandAPI.getChildGrids().forEach((grid) => {\n            if (document.body.contains(grid.nativeElement)) {\n                // Detect changes right away if the grid is visible\n                grid.expandChildren = value;\n                grid.markForCheck();\n            } else {\n                // Else defer the detection on changes when the grid gets into view for performance.\n                grid.updateOnRender = true;\n            }\n        });\n    }\n\n    /**\n     * Gets if all immediate children of the grids for this `IgxRowIslandComponent` have been set to be expanded/collapsed.\n     * ```typescript\n     * const expanded = this.rowIsland.expandChildren;\n     * ```\n     * @memberof IgxRowIslandComponent\n     */\n    get expandChildren(): boolean {\n        return this._defaultExpandState;\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChildren(IgxRowIslandComponent, { read: IgxRowIslandComponent, descendants: false })\n    public children = new QueryList<IgxRowIslandComponent>();\n\n    /**\n     * @hidden\n     */\n    @ContentChildren(IgxColumnComponent, { read: IgxColumnComponent, descendants: false })\n    public childColumns = new QueryList<IgxColumnComponent>();\n\n    /**\n     * @hidden\n     */\n    @Output()\n    public onLayoutChange = new EventEmitter<any>();\n\n    /**\n     * Event emmited when a grid is being created based on this row island.\n     * ```html\n     * <igx-hierarchical-grid [data]=\"Data\" [autoGenerate]=\"true\">\n     *      <igx-row-island [key]=\"'childData'\" (onGridCreated)=\"gridCreated($event)\" #rowIsland>\n     *          <!-- ... -->\n     *      </igx-row-island>\n     * </igx-hierarchical-grid>\n     * ```\n     * @memberof IgxRowIslandComponent\n     */\n    @Output()\n    public onGridCreated = new EventEmitter<IGridCreatedEventArgs>();\n\n    /**\n     * @hidden\n     */\n    get id() {\n        const pId = this.parentId ? this.parentId.substring(this.parentId.indexOf(this.layout_id) + this.layout_id.length) + '-' : '';\n        return this.layout_id + pId +  this.key;\n    }\n\n    /**\n     * @hidden\n     */\n    get parentId() {\n       return this.parentIsland ? this.parentIsland.id : null;\n    }\n\n    /**\n     * @hidden\n     */\n    get level() {\n        let ptr = this.parentIsland;\n        let lvl = 0;\n        while (ptr) {\n            lvl++;\n            ptr = ptr.parentIsland;\n        }\n        return lvl + 1;\n    }\n\n    /**\n     * @hidden\n     */\n    public initialChanges = [];\n\n    /**\n     * @hidden\n     */\n    public rootGrid = null;\n    readonly data: any[];\n    readonly filteredData: any[];\n    private layout_id = `igx-row-island-`;\n    private isInit = false;\n\n    constructor(\n        public selectionService: IgxGridSelectionService,\n        crudService: IgxGridCRUDService,\n        public colResizingService: IgxColumnResizingService,\n        gridAPI: GridBaseAPIService<IgxGridBaseDirective & GridType>,\n        @Inject(IgxGridTransaction) protected transactionFactory: any,\n        elementRef: ElementRef,\n        zone: NgZone,\n        @Inject(DOCUMENT) public document,\n        cdr: ChangeDetectorRef,\n        resolver: ComponentFactoryResolver,\n        differs: IterableDiffers,\n        viewRef: ViewContainerRef,\n        navigation: IgxHierarchicalGridNavigationService,\n        filteringService: IgxFilteringService,\n        @Inject(IgxOverlayService) protected overlayService: IgxOverlayService,\n        public summaryService: IgxGridSummaryService,\n        @Optional() @Inject(DisplayDensityToken) protected _displayDensityOptions: IDisplayDensityOptions,\n        public rowIslandAPI: IgxRowIslandAPIService) {\n        super(\n            selectionService,\n            crudService,\n            colResizingService,\n            gridAPI,\n            typeof transactionFactory === 'function' ? transactionFactory() : transactionFactory,\n            elementRef,\n            zone,\n            document,\n            cdr,\n            resolver,\n            differs,\n            viewRef,\n            navigation,\n            filteringService,\n            overlayService,\n            summaryService,\n            _displayDensityOptions\n        );\n        this.hgridAPI = <IgxHierarchicalGridAPIService>gridAPI;\n    }\n\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        this.rootGrid = this.hgridAPI.grid;\n        this.rowIslandAPI.rowIsland = this;\n    }\n\n    /**\n     * @hidden\n     */\n    ngDoCheck() {\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterContentInit() {\n        this.updateChildren();\n        this.children.notifyOnChanges();\n        this.children.changes.pipe(takeUntil(this.destroy$))\n        .subscribe((change) => {\n            this.updateChildren();\n            // update existing grids since their child ri have been changed.\n            this.getGridsForIsland(this.key).forEach(grid => {\n                (grid as any).onRowIslandChange(this.children);\n            });\n        });\n        const nestedColumns = this.children.map((layout) => layout.columnList.toArray());\n        const colsArray = [].concat.apply([], nestedColumns);\n        const topCols = this.columnList.filter((item) => {\n            return colsArray.indexOf(item) === -1;\n        });\n        this.childColumns.reset(topCols);\n        this.columnList.changes.pipe(takeUntil(this.destroy$)).subscribe(() => { this.updateColumnList(); });\n    }\n\n    protected updateChildren() {\n        if (this.children.first === this) {\n            this.children.reset(this.children.toArray().slice(1));\n        }\n        this.children.forEach(child => {\n            child.parentIsland = this;\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterViewInit() {\n        this.rowIslandAPI.register(this);\n        if (this.parentIsland) {\n            this.parentIsland.rowIslandAPI.registerChildRowIsland(this);\n        } else {\n            this.rootGrid.hgridAPI.registerChildRowIsland(this);\n        }\n        this._init = false;\n    }\n\n    /**\n     * @hidden\n     */\n    ngOnChanges(changes) {\n        this.onLayoutChange.emit(changes);\n        if (!this.isInit) {\n            this.initialChanges.push(changes);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    ngOnDestroy() {\n        // Override the base destroy because we don't have rendered anything to use removeEventListener on\n        this.destroy$.next(true);\n        this.destroy$.complete();\n        this._destroyed = true;\n        this.rowIslandAPI.unset(this.id);\n        if (this.parentIsland) {\n            this.getGridsForIsland(this.key).forEach(grid => {\n                this.cleanGridState(grid);\n                grid.hgridAPI.unsetChildRowIsland(this);\n            });\n            this.parentIsland.rowIslandAPI.unsetChildRowIsland(this);\n        } else {\n            this.rootGrid.hgridAPI.unsetChildRowIsland(this);\n            this.cleanGridState(this.rootGrid);\n        }\n    }\n\n    private cleanGridState(grid) {\n        grid.childGridTemplates.forEach((tmpl) => {\n            tmpl.owner.cleanView(tmpl.context.templateID);\n        });\n        grid.childGridTemplates.clear();\n        grid.onRowIslandChange();\n    }\n\n    /**\n     * @hidden\n     */\n    reflow() {}\n\n    /**\n     * @hidden\n     */\n    calculateGridHeight() {}\n\n    protected updateColumnList() {\n        const nestedColumns = this.children.map((layout) => layout.columnList.toArray());\n        const colsArray = [].concat.apply([], nestedColumns);\n        const topCols = this.columnList.filter((item) => {\n            if (colsArray.indexOf(item) === -1) {\n                /* Reset the default width of the columns that come into this row island,\n                because the root catches them first during the detectChanges() and sets their defaultWidth. */\n                item.defaultWidth = undefined;\n                return true;\n            }\n            return false;\n        });\n        this.childColumns.reset(topCols);\n\n        if (this.parentIsland) {\n            this.parentIsland.columnList.notifyOnChanges();\n        } else {\n            this.rootGrid.columnList.notifyOnChanges();\n        }\n\n        this.rowIslandAPI.getChildGrids().forEach((grid: IgxHierarchicalGridComponent) => {\n            grid.createColumnsList(this.childColumns.toArray());\n            if (!document.body.contains(grid.nativeElement)) {\n                grid.updateOnRender = true;\n            }\n        });\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    HostBinding,\n    Input,\n    OnInit,\n    ViewChild,\n    AfterViewInit,\n    SimpleChanges,\n    ComponentFactoryResolver\n} from '@angular/core';\nimport { GridBaseAPIService } from '.././api.service';\nimport { IgxRowIslandComponent } from './row-island.component';\nimport { IgxGridComponent } from '../grid/grid.component';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-child-grid-row',\n    templateUrl: './child-grid-row.component.html'\n})\nexport class IgxChildGridRowComponent implements AfterViewInit, OnInit {\nprivate resolver;\n\n    /**\n * Returns whether the row is expanded.\n * ```typescript\n * const RowExpanded = this.grid1.rowList.first.expanded;\n * ```\n */\n    public expanded = false;\n\n    @Input()\n    layout: IgxRowIslandComponent;\n\n    /**\n     * @hidden\n     */\n    public get parentHasScroll() {\n        return !this.parentGrid.verticalScrollContainer.dc.instance.notVirtual;\n    }\n\n\n    /**\n    * @hidden\n    */\n    @Input()\n    public parentGridID: string;\n\n    /**\n     *  The data passed to the row component.\n     *\n     * ```typescript\n     * // get the row data for the first selected row\n     * let selectedRowData = this.grid.selectedRows[0].rowData;\n     * ```\n     */\n    @Input()\n    public rowData: any = [];\n\n    /**\n     * The index of the row.\n     *\n     * ```typescript\n     * // get the index of the second selected row\n     * let selectedRowIndex = this.grid.selectedRows[1].index;\n     * ```\n     */\n    @Input()\n    public index: number;\n\n    @ViewChild('hgrid', { static: true })\n    private hGrid: any/* TODO: IgxHierarchicalGridComponent*/;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.role')\n    public role = 'row';\n\n    /**\n     * Get a reference to the grid that contains the selected row.\n     *\n     * ```typescript\n     * handleRowSelection(event) {\n     *  // the grid on which the onRowSelectionChange event was triggered\n     *  const grid = event.row.grid;\n     * }\n     * ```\n     *\n     * ```html\n     *  <igx-grid\n     *    [data]=\"data\"\n     *    (onRowSelectionChange)=\"handleRowSelection($event)\">\n     *  </igx-grid>\n     * ```\n     */\n    // TODO: Refactor\n    get parentGrid(): any/* TODO: IgxHierarchicalGridComponent*/ {\n        return this.gridAPI.grid;\n    }\n\n    @HostBinding('attr.data-level')\n    get level() {\n        return this.layout.level;\n    }\n\n    /**\n     * The native DOM element representing the row. Could be null in certain environments.\n     *\n     * ```typescript\n     * // get the nativeElement of the second selected row\n     * let selectedRowNativeElement = this.grid.selectedRows[1].nativeElement;\n     * ```\n     */\n    get nativeElement() {\n        return this.element.nativeElement;\n    }\n\n    constructor(public gridAPI: GridBaseAPIService<any/* TODO: IgxHierarchicalGridComponent*/>,\n        public element: ElementRef,\n        resolver: ComponentFactoryResolver,\n        public cdr: ChangeDetectorRef) {\n            this.resolver = resolver;\n    }\n\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        this.layout.onLayoutChange.subscribe((ch) => {\n            this._handleLayoutChanges(ch);\n        });\n        const changes = this.layout.initialChanges;\n        changes.forEach(change => {\n            this._handleLayoutChanges(change);\n        });\n        this.hGrid.parent = this.parentGrid;\n        this.hGrid.parentIsland = this.layout;\n        this.hGrid.childRow =  this;\n        // handler logic that re-emits hgrid events on the row island\n        this.setupEventEmitters();\n        this.layout.onGridCreated.emit({\n            owner: this.layout,\n            parentID: this.rowData.rowID,\n            grid: this.hGrid\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterViewInit() {\n        this.hGrid.childLayoutList = this.layout.children;\n        if (this.layout.childColumns.length > 0 && !this.hGrid.autoGenerate) {\n            this.hGrid.createColumnsList(this.layout.childColumns.toArray());\n        }\n        const layouts = this.hGrid.childLayoutList.toArray();\n        layouts.forEach((l) => this.hGrid.hgridAPI.registerChildRowIsland(l));\n        this.parentGrid.hgridAPI.registerChildGrid(this.rowData.rowID, this.layout.key, this.hGrid);\n        this.layout.rowIslandAPI.registerChildGrid(this.rowData.rowID, this.hGrid);\n\n        this.hGrid.cdr.detectChanges();\n    }\n\n    private setupEventEmitters() {\n        const destructor = takeUntil(this.hGrid.destroy$);\n\n        const factory = this.resolver.resolveComponentFactory(IgxGridComponent);\n        // exclude outputs related to two-way binding functionality\n        const inputNames = factory.inputs.map(input => input.propName);\n        const outputs = factory.outputs.filter(o => {\n            const matchingInputPropName = o.propName.slice(0, o.propName.indexOf('Change'));\n            return inputNames.indexOf(matchingInputPropName) === -1;\n        });\n        outputs.forEach(output => {\n            if (this.hGrid[output.propName]) {\n                this.hGrid[output.propName].pipe(destructor).subscribe((args) => {\n                    if (!args) {\n                        args = {};\n                    }\n                    args.owner = this.hGrid;\n                    this.layout[output.propName].emit(args);\n                });\n            }\n        });\n    }\n\n\n    private _handleLayoutChanges(changes: SimpleChanges) {\n        for (const change in changes) {\n            if (changes.hasOwnProperty(change)) {\n                this.hGrid[change] = changes[change].currentValue;\n            }\n        }\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    HostBinding,\n    Input,\n    forwardRef,\n    TemplateRef,\n    ViewChild,\n    ViewChildren,\n    QueryList,\n    ContentChildren,\n    ElementRef,\n    AfterViewInit,\n    AfterContentInit,\n    OnInit,\n    OnDestroy,\n    DoCheck,\n    EventEmitter,\n    Output\n} from '@angular/core';\nimport { IgxGridBaseDirective } from '../grid-base.directive';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxHierarchicalGridAPIService } from './hierarchical-grid-api.service';\nimport { IgxRowIslandComponent } from './row-island.component';\nimport { IgxChildGridRowComponent } from './child-grid-row.component';\nimport { IgxFilteringService } from '../filtering/grid-filtering.service';\nimport { DisplayDensity } from '../../core/displayDensity';\nimport { IgxColumnComponent, } from '../columns/column.component';\nimport { IgxHierarchicalGridNavigationService } from './hierarchical-grid-navigation.service';\nimport { IgxGridSummaryService } from '../summaries/grid-summary.service';\nimport { IgxHierarchicalGridBaseDirective } from './hierarchical-grid-base.directive';\nimport { takeUntil } from 'rxjs/operators';\nimport { IgxTemplateOutletDirective } from '../../directives/template-outlet/template_outlet.directive';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { IgxTransactionService } from '../../services/index';\nimport { IgxForOfSyncService, IgxForOfScrollSyncService } from '../../directives/for-of/for_of.sync.service';\nimport { GridType } from '../common/grid.interface';\nimport { IgxRowIslandAPIService } from './row-island-api.service';\nimport { DeprecateProperty } from '../../core/deprecateDecorators';\n\nlet NEXT_ID = 0;\n\nexport interface HierarchicalStateRecord {\n    rowID: any;\n}\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-hierarchical-grid',\n    templateUrl: 'hierarchical-grid.component.html',\n    providers: [\n        IgxGridSelectionService,\n        IgxGridCRUDService,\n        { provide: GridBaseAPIService, useClass: IgxHierarchicalGridAPIService },\n        { provide: IgxGridBaseDirective, useExisting: forwardRef(() => IgxHierarchicalGridComponent) },\n        IgxGridSummaryService,\n        IgxFilteringService,\n        IgxHierarchicalGridNavigationService,\n        IgxForOfSyncService,\n        IgxForOfScrollSyncService,\n        IgxRowIslandAPIService\n    ]\n})\nexport class IgxHierarchicalGridComponent extends IgxHierarchicalGridBaseDirective\n    implements GridType, AfterViewInit, AfterContentInit, OnInit, OnDestroy, DoCheck {\n\n    /**\n     * Sets the value of the `id` attribute. If not provided it will be automatically generated.\n     * ```html\n     * <igx-hierarchical-grid [id]=\"'igx-hgrid-1'\" [data]=\"Data\" [autoGenerate]=\"true\"></igx-hierarchical-grid>\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public get id(): string {\n        return this.h_id;\n    }\n\n    /**\n     * An @Input property that lets you fill the `IgxHierarchicalGridComponent` with an array of data.\n     * ```html\n     * <igx-hierarchical-grid [data]=\"Data\" [autoGenerate]=\"true\"></igx-hierarchical-grid>\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    @Input()\n    public set data(value: any[]) {\n        this._data = value || [];\n        this.summaryService.clearSummaryCache();\n        if (this.shouldGenerate) {\n            this.setupColumns();\n            this.reflow();\n        }\n        this.cdr.markForCheck();\n        if (this.parent && (this.height === null || this.height.indexOf('%') !== -1)) {\n            // If the height will change based on how much data there is, recalculate sizes in igxForOf.\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     * Returns an array of data set to the `IgxHierarchicalGridComponent`.\n     * ```typescript\n     * let filteredData = this.grid.filteredData;\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    public get data(): any[] {\n        return this._data;\n    }\n\n    /**\n     *@hidden\n     *@deprecated\n     * Sets the state of the `IgxHierarchicalGridComponent` containing which rows are expanded.\n    */\n    @Input()\n    @DeprecateProperty(`'hierarchicalState' property is deprecated. Use 'expansionStates' instead.`)\n    public get hierarchicalState() {\n        const res = Array.from(this.expansionStates.entries()).filter(({1: v}) => v === true).map(([k]) => k);\n        return res;\n    }\n    public set hierarchicalState(val) {\n        if (this.hasChildrenKey) {\n            val = val.filter(item => {\n                const rec = this.primaryKey ? this.data.find(x => x[this.primaryKey] === item.rowID) : item.rowID;\n                return rec[this.hasChildrenKey];\n            });\n        }\n        const expansionStates = new Map<any, boolean>();\n        val.forEach(item => {\n            const rec = this.primaryKey ? this.data.find(x => x[this.primaryKey] === item.rowID) : item.rowID;\n            expansionStates.set(rec, true);\n        });\n        this.expansionStates = expansionStates;\n        if (this.parent) {\n            this.notifyChanges(true);\n        }\n    }\n\n    /**\n     *@hidden\n     *@deprecated\n     */\n    @Output()\n    @DeprecateProperty(`'hierarchicalStateChange' @Output property is deprecated. Use 'expansionStates' instead.`)\n    public hierarchicalStateChange = new EventEmitter<any>();\n\n    /**\n     * Sets an array of objects containing the filtered data in the `IgxHierarchicalGridComponent`.\n     * ```typescript\n     * this.grid.filteredData = [{\n     *       ID: 1,\n     *       Name: \"A\"\n     * }];\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    public set filteredData(value) {\n        this._filteredData = value;\n\n\n    }\n\n    /**\n     * Returns an array of objects containing the filtered data in the `IgxHierarchicalGridComponent`.\n     * ```typescript\n     * let filteredData = this.grid.filteredData;\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    public get filteredData() {\n        return this._filteredData;\n    }\n\n    /**\n     * Sets if all immediate children of the `IgxHierarchicalGridComponent` should be expanded/collapsed.\n     * Defult value is false.\n     * ```html\n     * <igx-hierarchical-grid [id]=\"'igx-grid-1'\" [data]=\"Data\" [autoGenerate]=\"true\" [expandChildren]=\"true\"></igx-hierarchical-grid>\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    @Input()\n    set expandChildren(value: boolean) {\n        this._defaultExpandState  = value;\n        this.expansionStates = new Map<any, boolean>();\n    }\n\n    /**\n     * Gets if all immediate children of the `IgxHierarchicalGridComponent` previously have been set to be expanded/collapsed.\n     * If previously set and some rows have been manually expanded/collapsed it will still return the last set value.\n     * ```typescript\n     * const expanded = this.grid.expandChildren;\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    get expandChildren(): boolean {\n        return this._defaultExpandState ;\n    }\n\n    /**\n     * Gets the unique identifier of the parent row. It may be a `string` or `number` if `primaryKey` of the\n     * parent grid is set or an object reference of the parent record otherwise.\n     * ```typescript\n     * const foreignKey = this.grid.foreignKey;\n     * ```\n     * @memberof IgxHierarchicalGridComponent\n     */\n    public get foreignKey() {\n        if (!this.parent) {\n            return null;\n        }\n        return this.parent.hgridAPI.getParentRowId(this);\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChildren(IgxRowIslandComponent, { read: IgxRowIslandComponent, descendants: false })\n    public childLayoutList: QueryList<IgxRowIslandComponent>;\n\n    /**\n     * @hidden\n     */\n    @ContentChildren(IgxRowIslandComponent, { read: IgxRowIslandComponent, descendants: true })\n    public allLayoutList: QueryList<IgxRowIslandComponent>;\n\n    @ViewChild('hierarchical_record_template', { read: TemplateRef, static: true })\n    protected hierarchicalRecordTemplate: TemplateRef<any>;\n\n    @ViewChild('child_record_template', { read: TemplateRef, static: true })\n    protected childTemplate: TemplateRef<any>;\n\n    @ViewChild('headerHierarchyExpander', { read: ElementRef, static: true })\n    protected headerHierarchyExpander: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(IgxTemplateOutletDirective, { read: IgxTemplateOutletDirective })\n    public templateOutlets: QueryList<any>;\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(IgxChildGridRowComponent, { read: IgxChildGridRowComponent })\n    public hierarchicalRows: QueryList<IgxChildGridRowComponent>;\n\n    /**\n     * @hidden\n     */\n    get hasExpandableChildren() {\n        return !!this.childLayoutKeys.length;\n    }\n\n    /**\n     * @hidden\n     */\n    public childLayoutKeys = [];\n\n    /**\n     * @hidden\n     */\n    public highlightedRowID = null;\n\n    /**\n     * @hidden\n     */\n    public updateOnRender = false;\n\n    /**\n     * @hidden\n     */\n    public parent = null;\n\n    private _data;\n    private _filteredData = null;\n    private h_id = `igx-hierarchical-grid-${NEXT_ID++}`;\n    private childGridTemplates: Map<any, any> = new Map();\n    private scrollTop = 0;\n    private scrollLeft = 0;\n\n    /**\n     * @hidden\n     */\n    ngOnInit() {\n        if (this._transactions instanceof IgxTransactionService) {\n            // transaction service cannot be injected in a derived class in a factory manner\n            this._transactions = new IgxTransactionService();\n        }\n        this.expansionStatesChange.pipe(takeUntil(this.destroy$)).subscribe((value: Map<any, boolean>) => {\n            const res = Array.from(value.entries()).filter(({1: v}) => v === true).map(([k]) => k);\n            this.hierarchicalStateChange.emit(res);\n        });\n        super.ngOnInit();\n    }\n\n    public ngDoCheck() {\n        if (this._cdrRequestRepaint && !this._init) {\n            this.updateSizes();\n        }\n        super.ngDoCheck();\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterViewInit() {\n        super.ngAfterViewInit();\n        this.verticalScrollContainer.getScroll().addEventListener('scroll', this.hg_verticalScrollHandler.bind(this));\n        this.headerContainer.getScroll().addEventListener('scroll', this.hg_horizontalScrollHandler.bind(this));\n\n        this.verticalScrollContainer.onBeforeViewDestroyed.pipe(takeUntil(this.destroy$)).subscribe((view) => {\n            const rowData = view.context.$implicit;\n            if (this.isChildGridRecord(rowData)) {\n                const cachedData = this.childGridTemplates.get(rowData.rowID);\n                if (cachedData) {\n                    const tmlpOutlet = cachedData.owner;\n                    tmlpOutlet._viewContainerRef.detach(0);\n                }\n            }\n        });\n\n        if (this.parent) {\n            this._displayDensity = this.rootGrid._displayDensity;\n            this.rootGrid.onDensityChanged.pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this._displayDensity = this.rootGrid._displayDensity;\n                this.notifyChanges(true);\n                this.cdr.markForCheck();\n            });\n            this.childLayoutKeys = this.parentIsland.children.map((item) => item.key);\n        }\n\n        this.toolbarCustomContentTemplates = this.parentIsland ?\n            this.parentIsland.toolbarCustomContentTemplates :\n            this.toolbarCustomContentTemplates;\n\n        this.headSelectorsTemplates = this.parentIsland ?\n            this.parentIsland.headSelectorsTemplates :\n            this.headSelectorsTemplates;\n\n        this.rowSelectorsTemplates = this.parentIsland ?\n            this.parentIsland.rowSelectorsTemplates :\n            this.rowSelectorsTemplates;\n        this.dragIndicatorIconTemplate = this.parentIsland ?\n            this.parentIsland.dragIndicatorIconTemplate :\n            this.dragIndicatorIconTemplate;\n        this.rowExpandedIndicatorTemplate  = this.rootGrid.rowExpandedIndicatorTemplate;\n        this.rowCollapsedIndicatorTemplate   = this.rootGrid.rowCollapsedIndicatorTemplate;\n        this.headerCollapseIndicatorTemplate = this.rootGrid.headerCollapseIndicatorTemplate;\n        this.headerExpandIndicatorTemplate = this.rootGrid.headerExpandIndicatorTemplate;\n        this.hasChildrenKey = this.parentIsland ?\n         this.parentIsland.hasChildrenKey || this.rootGrid.hasChildrenKey :\n         this.rootGrid.hasChildrenKey;\n         this.showExpandAll = this.parentIsland ?\n         this.parentIsland.showExpandAll : this.rootGrid.showExpandAll;\n    }\n\n    private updateSizes() {\n        if (document.body.contains(this.nativeElement) && this.isPercentWidth) {\n            this.reflow();\n\n            this.hgridAPI.getChildGrids(false).forEach((grid) => {\n                grid.updateSizes();\n            });\n        }\n    }\n\n    protected _shouldAutoSize(renderedHeight) {\n        if (this.isPercentHeight && this.parent) {\n            return true;\n        }\n        return super._shouldAutoSize(renderedHeight);\n    }\n\n    public get outletDirective() {\n        return this.rootGrid._outletDirective;\n    }\n\n    /**\n     * @hidden\n     */\n    ngAfterContentInit() {\n        this.updateColumnList(false);\n        this.childLayoutKeys = this.parent ?\n            this.parentIsland.children.map((item) => item.key) :\n            this.childLayoutKeys = this.childLayoutList.map((item) => item.key);\n        this.childLayoutList.notifyOnChanges();\n        this.childLayoutList.changes.pipe(takeUntil(this.destroy$)).subscribe(() =>\n            this.onRowIslandChange()\n        );\n        super.ngAfterContentInit();\n    }\n\n    /** @hidden */\n    public featureColumnsWidth() {\n        return super.featureColumnsWidth(this.headerHierarchyExpander);\n    }\n\n    /**\n    * @hidden\n    */\n    public onRowIslandChange() {\n        if (this.parent) {\n            this.childLayoutKeys = this.parentIsland.children.filter(item => !(item as any)._destroyed).map((item) => item.key);\n        } else {\n            this.childLayoutKeys = this.childLayoutList.filter(item => !(item as any)._destroyed).map((item) => item.key);\n        }\n        if (!(this.cdr as any).destroyed) {\n            this.cdr.detectChanges();\n        }\n    }\n\n    protected onColumnsChanged(change: QueryList<IgxColumnComponent>) {\n        this.updateColumnList();\n        const cols = change.filter(c => c.gridAPI.grid === this);\n        if (cols.length > 0 || this.autoGenerate) {\n            this.columnList.reset(cols);\n            super.onColumnsChanged(this.columnList);\n        }\n    }\n\n    private updateColumnList(recalcColSizes = true) {\n        const childLayouts = this.parent ? this.childLayoutList : this.allLayoutList;\n        const nestedColumns = childLayouts.map((layout) => {\n            return layout.columnList.toArray();\n        });\n        const colsArray = [].concat.apply([], nestedColumns);\n        const colLength = this.columnList.length;\n        if (colsArray.length > 0) {\n            const topCols = this.columnList.filter((item) => {\n                return colsArray.indexOf(item) === -1;\n            });\n            this.columnList.reset(topCols);\n            if (recalcColSizes && this.columnList.length !== colLength) {\n                this.calculateGridSizes(false);\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        if (!this.parent) {\n            this.hgridAPI.getChildGrids(true).forEach((grid) => {\n                if (!grid.childRow.cdr.destroyed) {\n                    grid.childRow.cdr.destroy();\n                }\n            });\n        }\n        if (this.parent && this.selectionService.activeElement) {\n            // in case selection is in destroyed child grid, selection should be cleared.\n            this._clearSeletionHighlights();\n        }\n        super.ngOnDestroy();\n    }\n\n    private _clearSeletionHighlights() {\n        [this.rootGrid, ...this.rootGrid.getChildGrids(true)].forEach(grid => {\n            grid.selectionService.clear();\n            grid.selectionService.activeElement = null;\n            grid.nativeElement.classList.remove('igx-grid__tr--highlighted');\n            grid.highlightedRowID = null;\n            grid.cdr.markForCheck();\n        });\n    }\n\n    /**\n    * @hidden\n    */\n    public get template(): TemplateRef<any> {\n        if (this.filteredData && this.filteredData.length === 0) {\n            return this.emptyGridTemplate ? this.emptyGridTemplate : this.emptyFilteredGridTemplate;\n        }\n\n        if (this.isLoading && (!this.data || this.dataLength === 0)) {\n            return this.loadingGridTemplate ? this.loadingGridTemplate : this.loadingGridDefaultTemplate;\n        }\n\n        if (this.dataLength === 0) {\n            return this.emptyGridTemplate ? this.emptyGridTemplate : this.emptyGridDefaultTemplate;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public isRowHighlighted(rowData) {\n        return this.highlightedRowID === rowData.rowID;\n    }\n\n    /**\n     * @hidden\n     */\n    public isHierarchicalRecord(record: any): boolean {\n        return this.childLayoutList.length !== 0 && record[this.childLayoutList.first.key];\n    }\n\n    /**\n     * @hidden\n     */\n    public isChildGridRecord(record: any): boolean {\n        // Can be null when there is defined layout but no child data was found\n        return record.childGridsData !== undefined;\n    }\n\n    /**\n     * @hidden\n     */\n    public trackChanges(index, rec) {\n        if (rec.childGridsData !== undefined) {\n            // if is child rec\n            return rec.rowID;\n        }\n        return rec;\n    }\n\n    /**\n     * @hidden\n     */\n    public getContext(rowData): any {\n        if (this.isChildGridRecord(rowData)) {\n            const cachedData = this.childGridTemplates.get(rowData.rowID);\n            if (cachedData) {\n                const view = cachedData.view;\n                const tmlpOutlet = cachedData.owner;\n                return {\n                    $implicit: rowData,\n                    moveView: view,\n                    owner: tmlpOutlet,\n                    index: this.dataView.indexOf(rowData)\n                };\n            } else {\n                const rowID = this.primaryKey ? rowData.rowID : this.data.indexOf(rowData.rowID);\n                // child rows contain unique grids, hence should have unique templates\n                return {\n                    $implicit: rowData,\n                    templateID: 'childRow-' + rowID,\n                    index: this.dataView.indexOf(rowData)\n                };\n            }\n        } else {\n            return {\n                $implicit: rowData,\n                templateID: 'dataRow',\n                index: this.dataView.indexOf(rowData)\n            };\n        }\n    }\n\n    /**\n     * @hidden\n    */\n    public get rootGrid() {\n        let currGrid = this;\n        while (currGrid.parent) {\n            currGrid = currGrid.parent;\n        }\n        return currGrid;\n    }\n\n    /**\n     * @hidden\n    */\n    public get iconTemplate() {\n        const expanded = this.hasExpandedRecords() && this.hasExpandableChildren;\n        if (!expanded && this.showExpandAll) {\n            return this.headerCollapseIndicatorTemplate || this.defaultCollapsedTemplate;\n        } else {\n            return this.headerExpandIndicatorTemplate || this.defaultExpandedTemplate;\n        }\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public getDragGhostCustomTemplate(): TemplateRef<any> {\n        if (this.parentIsland) {\n            return this.parentIsland.getDragGhostCustomTemplate();\n        }\n        return super.getDragGhostCustomTemplate();\n    }\n\n    /**\n     * @hidden\n    */\n    protected initColumns(collection: QueryList<IgxColumnComponent>, cb: Function = null) {\n        if (this.hasColumnLayouts) {\n            // invalid configuration - hierarchical grid should not allow column layouts\n            // remove column layouts\n            const nonColumnLayoutColumns = this.columnList.filter((col) => !col.columnLayout && !col.columnLayoutChild);\n            this.columnList.reset(nonColumnLayoutColumns);\n        }\n        super.initColumns(collection, cb);\n    }\n\n    /**\n     * @hidden\n     * Gets the visible content height that includes header + tbody + footer.\n     * For hierarchical child grid it may be scrolled and not fully visible.\n     */\n    public getVisibleContentHeight() {\n        let height = super.getVisibleContentHeight();\n        if (this.parent) {\n            const rootHeight = this.rootGrid.getVisibleContentHeight();\n            const topDiff = this.nativeElement.getBoundingClientRect().top - this.rootGrid.nativeElement.getBoundingClientRect().top;\n            height = rootHeight - topDiff > height ? height : rootHeight - topDiff;\n        }\n        return height;\n    }\n\n    /**\n     * @hidden\n    */\n   toggleAll() {\n    const expanded = this.hasExpandedRecords() && this.hasExpandableChildren;\n    if (!expanded && this.showExpandAll) {\n        this.expandAll();\n    } else {\n        this.collapseAll();\n    }\n   }\n\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public hasExpandedRecords() {\n       if (this.expandChildren) {\n            return true;\n       }\n       let hasExpandedEntry = false;\n       this.expansionStates.forEach((value, key) => {\n           if (value) {\n            hasExpandedEntry = value;\n           }\n        });\n        return hasExpandedEntry;\n    }\n\n    public getDefaultExpandState(record: any) {\n        return this.expandChildren;\n\n    }\n\n    /**\n    * @hidden\n    */\n    public isExpanded(record: any): boolean {\n        return this.gridAPI.get_row_expansion_state(record);\n    }\n\n    /**\n     * @hidden\n     */\n    public viewCreatedHandler(args) {\n        if (this.isChildGridRecord(args.context.$implicit)) {\n            const key = args.context.$implicit.rowID;\n            this.childGridTemplates.set(key, args);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public viewMovedHandler(args) {\n        if (this.isChildGridRecord(args.context.$implicit)) {\n            // view was moved, update owner in cache\n            const key = args.context.$implicit.rowID;\n            const cachedData = this.childGridTemplates.get(key);\n            cachedData.owner = args.owner;\n\n            this.childLayoutList.forEach((layout) => {\n                const relatedGrid = this.hgridAPI.getChildGridByID(layout.key, args.context.$implicit.rowID);\n                if (relatedGrid && relatedGrid.updateOnRender) {\n                    // Detect changes if `expandChildren` has changed when the grid wasn't visible. This is for performance reasons.\n                    relatedGrid.notifyChanges(true);\n                    relatedGrid.updateOnRender = false;\n                }\n            });\n\n            const childGrids = this.getChildGrids(true);\n            childGrids.forEach((grid) => {\n                if (grid.isPercentWidth) {\n                    grid.notifyChanges(true);\n                }\n                grid.updateScrollPosition();\n            });\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public updateScrollPosition() {\n        const vScr = this.verticalScrollContainer.getScroll();\n        const hScr = this.headerContainer.getScroll();\n        if (vScr) {\n            vScr.scrollTop = this.scrollTop;\n        }\n        if (hScr) {\n            hScr.scrollLeft = this.scrollLeft;\n        }\n    }\n\n    protected getChildGrids(inDeph?: boolean) {\n        return this.hgridAPI.getChildGrids(inDeph);\n    }\n\n    protected generateDataFields(data: any[]): string[] {\n        return super.generateDataFields(data).filter((field) => {\n            const layoutsList = this.parentIsland ? this.parentIsland.children : this.childLayoutList;\n            const keys = layoutsList.map((item) => item.key);\n            return keys.indexOf(field) === -1;\n        });\n    }\n\n\n    private hg_verticalScrollHandler(event) {\n        this.scrollTop = event.target.scrollTop;\n    }\n\n    public onContainerScroll() {\n        this.hideOverlays();\n    }\n\n    private hg_horizontalScrollHandler(event) {\n        this.scrollLeft = event.target.scrollLeft;\n    }\n}\n","import { IgxGridCellComponent } from '../cell.component';\nimport { GridBaseAPIService } from '../api.service';\nimport { ChangeDetectorRef, ElementRef, ChangeDetectionStrategy, Component,\n     OnInit, HostListener, NgZone } from '@angular/core';\nimport { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { IgxGridSelectionService, IgxGridCRUDService } from '../selection/selection.service';\nimport { HammerGesturesManager } from '../../core/touch';\nimport { PlatformUtil } from '../../core/utils';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-hierarchical-grid-cell',\n    templateUrl: './../cell.component.html',\n    providers: [HammerGesturesManager]\n})\nexport class IgxHierarchicalGridCellComponent extends IgxGridCellComponent implements OnInit {\n\n    // protected hSelection;\n    protected _rootGrid;\n\n    constructor(\n        protected selectionService: IgxGridSelectionService,\n        protected crudService: IgxGridCRUDService,\n        public gridAPI: GridBaseAPIService<IgxHierarchicalGridComponent>,\n        public cdr: ChangeDetectorRef,\n        private helement: ElementRef,\n        protected zone: NgZone,\n        touchManager: HammerGesturesManager,\n        protected platformUtil: PlatformUtil\n        ) {\n            super(selectionService, crudService, gridAPI, cdr, helement, zone, touchManager, platformUtil);\n         }\n\n    ngOnInit() {\n        super.ngOnInit();\n        this._rootGrid = this._getRootGrid();\n    }\n\n    private _getRootGrid() {\n        let currGrid = this.grid;\n        while (currGrid.parent) {\n            currGrid = currGrid.parent;\n        }\n        return currGrid;\n    }\n\n    // TODO: Extend the new selection service to avoid complete traversal\n    _clearAllHighlights() {\n        [this._rootGrid, ...this._rootGrid.getChildGrids(true)].forEach(grid => {\n            grid.selectionService.clear();\n            grid.selectionService.activeElement = null;\n            grid.nativeElement.classList.remove('igx-grid__tr--highlighted');\n            grid.highlightedRowID = null;\n            grid.cdr.markForCheck();\n        });\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    @HostListener('focus', ['$event'])\n    onFocus(event) {\n        if (this.focused) {\n            return;\n        }\n        this._clearAllHighlights();\n        const currentElement = this.grid.nativeElement;\n        let parentGrid = this.grid;\n        let childGrid;\n        // add highligh to the current grid\n        if (this._rootGrid.id !== currentElement.id) {\n            currentElement.classList.add('igx-grid__tr--highlighted');\n        }\n\n        // add highligh to the current grid\n        while (this._rootGrid.id !== parentGrid.id) {\n            childGrid = parentGrid;\n            parentGrid = parentGrid.parent;\n\n            const parentRowID = parentGrid.hgridAPI.getParentRowId(childGrid);\n            parentGrid.highlightedRowID = parentRowID;\n        }\n        super.onFocus(event);\n    }\n\n    // TODO: Refactor\n    /**\n     * @hidden\n     * @internal\n     */\n    dispatchEvent(event: KeyboardEvent) {\n        const key = event.key.toLowerCase();\n        if (event.altKey && !this.row.added) {\n            const collapse = this.row.expanded && (key === 'left' || key === 'arrowleft' || key === 'up' || key === 'arrowup');\n            const expand = !this.row.expanded && (key === 'right' || key === 'arrowright' || key === 'down' || key === 'arrowdown');\n            if (collapse) {\n                this.gridAPI.set_row_expansion_state(this.row.rowID, false, event);\n            } else if (expand) {\n                this.gridAPI.set_row_expansion_state(this.row.rowID, true, event);\n            }\n            return;\n        }\n        super.dispatchEvent(event);\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    HostBinding,\n    forwardRef,\n    ElementRef,\n    ViewChildren,\n    QueryList,\n    ViewChild,\n    TemplateRef\n} from '@angular/core';\nimport { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { IgxRowDirective } from '../row.directive';\nimport { IgxHierarchicalGridCellComponent } from './hierarchical-cell.component';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    preserveWhitespaces: false,\n    selector: 'igx-hierarchical-grid-row',\n    templateUrl: './hierarchical-row.component.html',\n    providers: [{ provide: IgxRowDirective, useExisting: forwardRef(() => IgxHierarchicalRowComponent) }]\n})\nexport class IgxHierarchicalRowComponent extends IgxRowDirective<IgxHierarchicalGridComponent> {\n    /**\n     * The rendered cells in the row component.\n     *\n     * ```typescript\n     * // get the cells of the third selected row\n     * let selectedRowCells = this.grid.selectedRows[2].cells;\n     * ```\n     */\n    @ViewChildren(forwardRef(() => IgxHierarchicalGridCellComponent), { read: IgxHierarchicalGridCellComponent })\n    public cells: QueryList<IgxHierarchicalGridCellComponent>;\n\n    @ViewChild('expander', { read: ElementRef })\n    public expander: ElementRef<HTMLElement>;\n\n    get viewIndex(): number {\n        return this.index + this.grid.page * this.grid.perPage;\n    }\n\n    /**\n    * @hidden\n    */\n   @ViewChild('defaultExpandedTemplate', { read: TemplateRef, static: true })\n   protected defaultExpandedTemplate: TemplateRef<any>;\n\n    /**\n    * @hidden\n    */\n   @ViewChild('defaultEmptyTemplate', { read: TemplateRef, static: true })\n   protected defaultEmptyTemplate: TemplateRef<any>;\n\n    /**\n    * @hidden\n    */\n   @ViewChild('defaultCollapsedTemplate', { read: TemplateRef, static: true })\n   protected defaultCollapsedTemplate: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n        /**\n     * Returns whether the row is expanded.\n     * ```typescript\n     * const RowExpanded = this.grid1.rowList.first.expanded;\n     * ```\n     */\n    @HostBinding('class.igx-grid__tr--expanded')\n    public get expanded() {\n        return this.gridAPI.get_row_expansion_state(this.rowData);\n    }\n\n    public get hasChildren() {\n        return  !!this.grid.childLayoutKeys.length;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-grid__tr--highlighted')\n    public get highlighted() {\n        return this.grid && this.grid.highlightedRowID === this.rowID;\n    }\n\n    /**\n    * @hidden\n    */\n   public expanderClick(event) {\n        event.stopPropagation();\n        this.toggle();\n    }\n\n    /**\n     * Toggles the hierarchical row.\n     * ```typescript\n     * this.grid1.rowList.first.toggle()\n     * ```\n     */\n    public toggle() {\n        if (this.added) {\n            return;\n        }\n        const grid = this.gridAPI.grid;\n        this.endEdit(grid.rootGrid);\n        this.gridAPI.set_row_expansion_state(this.rowID, !this.expanded);\n        grid.cdr.detectChanges();\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public select = () => {\n        this.grid.selectRows([this.rowID]);\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public deselect = () => {\n        this.grid.deselectRows([this.rowID]);\n    }\n\n    /**\n    * @hidden\n    */\n    public get iconTemplate() {\n        let expandable = true;\n        if (this.grid.hasChildrenKey) {\n            expandable = this.rowData[this.grid.hasChildrenKey];\n        }\n        if (!expandable) {\n            return this.defaultEmptyTemplate;\n        }\n        if (this.expanded) {\n            return this.grid.rowExpandedIndicatorTemplate || this.defaultExpandedTemplate;\n        } else {\n            return this.grid.rowCollapsedIndicatorTemplate || this.defaultCollapsedTemplate;\n        }\n    }\n\n    private endEdit(grid: IgxHierarchicalGridComponent) {\n        if (grid.crudService.inEditMode) {\n            grid.endEdit();\n        }\n        grid.hgridAPI.getChildGrids(true).forEach(g => {\n            if (g.crudService.inEditMode) {\n            g.endEdit();\n        }});\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { cloneArray } from '../../core/utils';\nimport { GridBaseAPIService } from '../api.service';\nimport { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { DataUtil } from '../../data-operations/data-util';\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'gridHierarchical',\n    pure: true\n})\nexport class IgxGridHierarchicalPipe implements PipeTransform {\n\n    constructor(private gridAPI: GridBaseAPIService<IgxHierarchicalGridComponent>) { }\n\n    public transform(\n        collection: any,\n        state = new Map<any, boolean>(),\n        id: string,\n        primaryKey: any,\n        childKeys: string[],\n        pipeTrigger: number\n        ): any[] {\n        if (childKeys.length === 0) {\n            return collection;\n        }\n        const grid: IgxHierarchicalGridComponent = this.gridAPI.grid;\n        const result = this.addHierarchy(grid, cloneArray(collection), state, primaryKey, childKeys);\n\n        return result;\n    }\n\n    public addHierarchy<T>(grid, data: T[], state, primaryKey, childKeys: string[]): T[] {\n        const result = [];\n\n        data.forEach((v) => {\n            result.push(v);\n            const childGridsData = {};\n            childKeys.forEach((childKey) => {\n                const childData = v[childKey] ? v[childKey] : null;\n                childGridsData[childKey] = childData;\n            });\n            if (grid.gridAPI.get_row_expansion_state(v)) {\n                result.push({ rowID: primaryKey ? v[primaryKey] : v, childGridsData: childGridsData});\n            }\n        });\n        return result;\n    }\n}\n\n/**\n *@hidden\n */\n@Pipe({\n    name: 'gridHierarchicalPaging',\n    pure: true\n})\nexport class IgxGridHierarchicalPagingPipe implements PipeTransform {\n\n    constructor(private gridAPI: GridBaseAPIService<IgxHierarchicalGridComponent>) { }\n\n    public transform(collection: any[], page = 0, perPage = 15, id: string, pipeTrigger: number): any[] {\n\n        if (!this.gridAPI.grid.paging) {\n            return collection;\n        }\n\n        const state = {\n            index: page,\n            recordsPerPage: perPage\n        };\n\n        const result: any[] = DataUtil.page(cloneArray(collection), state);\n        this.gridAPI.grid.pagingState = state;\n        return result;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { IgxGridModule } from '../grid/grid.module';\nimport { IgxHierarchicalGridComponent } from './hierarchical-grid.component';\nimport { IgxHierarchicalRowComponent } from './hierarchical-row.component';\nimport { IgxGridHierarchicalPipe, IgxGridHierarchicalPagingPipe } from './hierarchical-grid.pipes';\nimport { IgxRowIslandComponent } from './row-island.component';\nimport { IgxChildGridRowComponent } from './child-grid-row.component';\nimport { IgxHierarchicalGridCellComponent } from './hierarchical-cell.component';\nimport { IgxGridComponent } from '../grid/grid.component';\nimport { IgxHierarchicalGridBaseDirective } from './hierarchical-grid-base.directive';\n\n/**\n * @hidden\n */\n@NgModule({\n  declarations: [\n    IgxHierarchicalGridBaseDirective,\n    IgxHierarchicalGridComponent,\n    IgxHierarchicalRowComponent,\n    IgxRowIslandComponent,\n    IgxChildGridRowComponent,\n    IgxHierarchicalGridCellComponent,\n    IgxGridHierarchicalPipe,\n    IgxGridHierarchicalPagingPipe\n  ],\n  exports: [\n    IgxGridModule,\n    IgxHierarchicalGridComponent,\n    IgxHierarchicalRowComponent,\n    IgxHierarchicalGridCellComponent,\n    IgxRowIslandComponent,\n    IgxChildGridRowComponent\n  ],\n  imports: [\n    IgxGridModule,\n  ],\n  entryComponents: [\n    IgxGridComponent\n  ]\n})\nexport class IgxHierarchicalGridModule {\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    Component,\n    EventEmitter,\n    HostBinding,\n    Input,\n    NgModule,\n    Output,\n    Directive,\n    ContentChild\n} from '@angular/core';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxIconModule } from '../icon/index';\n\n/**\n * IgxActionIcon is a container for the action nav icon of the IgxNavbar.\n */\n@Directive({\n    // tslint:disable-next-line:directive-selector\n    selector: 'igx-action-icon'\n})\nexport class IgxActionIconDirective { }\n\nlet NEXT_ID = 0;\n/**\n * **Ignite UI for Angular Navbar** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/navbar.html)\n *\n * The Ignite UI Navbar is most commonly used to provide an app header with a hamburger menu and navigation\n * state such as a \"Go Back\" button. It also supports other actions represented by icons.\n *\n * Example:\n * ```html\n * <igx-navbar title=\"Sample App\" actionButtonIcon=\"menu\">\n *   <igx-icon>search</igx-icon>\n *   <igx-icon>favorite</igx-icon>\n *   <igx-icon>more_vert</igx-icon>\n * </igx-navbar>\n * ```\n */\n\n@Component({\n    selector: 'igx-navbar',\n    templateUrl: 'navbar.component.html',\n    styles: [`\n        :host {\n            display: block;\n        }\n    `\n    ]\n})\n\nexport class IgxNavbarComponent {\n    private static NEXT_ID = 1;\n    private isVisible = true;\n\n    /**\n     *An @Input property that sets the value of the `id` attribute. If not provided it will be automatically generated.\n     *```html\n     *<igx-navbar [id]=\"'igx-navbar-12'\" title=\"Sample App\" actionButtonIcon=\"menu\">\n     *```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-navbar-${NEXT_ID++}`;\n    /**\n     *Returns whether the `IgxNavbarComponent` action button is visible, true/false.\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *public navBar: IgxNavbarComponent;\n     *ngAfterViewInit(){\n     *    let actionButtonVisibile = this.navBar.isActionButtonVisible;\n     *}\n     *```\n     */\n    @Input()\n    public get isActionButtonVisible(): boolean {\n        if (this.actionIconTemplate || !this.actionButtonIcon) {\n            return false;\n        }\n        return this.isVisible;\n    }\n\n    /**\n     *Sets whether the action button of the `IgxNavbarComponent` is visible.\n     *```html\n     *<igx-navbar [title]=\"currentView\" [isActionButtonVisible]=\"'false'\"></igx-navbar>\n     *```\n     */\n    public set isActionButtonVisible(value: boolean) {\n        this.isVisible = value;\n    }\n    /**\n     *An @Input property that sets the icon of the `IgxNavbarComponent`.\n     *```html\n     *<igx-navbar [title]=\"currentView\" actionButtonIcon=\"arrow_back\"></igx-navbar>\n     *```\n     */\n    @Input() public actionButtonIcon: string;\n\n    /**\n     *An @Input property that sets the title of the `IgxNavbarComponent`.\n     *```html\n     *<igx-navbar title=\"Sample App\" actionButtonIcon=\"menu\">\n     *```\n     */\n    @Input() public title: string;\n\n    /**\n     *The event that will be thrown when the action is executed,\n     *provides reference to the `IgxNavbar` component as argument\n     *```typescript\n     *public actionExc(event){\n     *    alert(\"Action Execute!\");\n     *}\n     * //..\n     *```\n     *```html\n     *<igx-navbar (onAction)=\"actionExc($event)\" title=\"Sample App\" actionButtonIcon=\"menu\">\n     *```\n     */\n    @Output() public onAction = new EventEmitter<IgxNavbarComponent>();\n\n    /**\n     *An @Input property that sets the titleId of the `IgxNavbarComponent`. If not set it will be automatically generated.\n     *```html\n     *<igx-navbar [titleId]=\"'igx-navbar-7'\" title=\"Sample App\" actionButtonIcon=\"menu\">\n     *```\n     */\n    @Input()\n    public titleId = `igx-navbar-${IgxNavbarComponent.NEXT_ID++}`;\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxActionIconDirective, { read: IgxActionIconDirective })\n    protected actionIconTemplate: IgxActionIconDirective;\n\n    /**\n     *@hidden\n     */\n    public _triggerAction() {\n        this.onAction.emit(this);\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxNavbarComponent, IgxActionIconDirective],\n    exports: [IgxNavbarComponent, IgxActionIconDirective],\n    imports: [IgxButtonModule, IgxIconModule, CommonModule]\n})\nexport class IgxNavbarModule {\n}\n","import { Directive, HostBinding, Input, TemplateRef } from '@angular/core';\n\n@Directive({\n    selector: '[igxDrawerItem]',\n    exportAs: 'igxDrawerItem'\n})\nexport class IgxNavDrawerItemDirective {\n\n    /**\n     * @hidden\n     */\n    @Input('active') public active = false;\n\n    /**\n     * @hidden\n     */\n    @Input('isHeader') public isHeader = false;\n\n    /**\n     * @hidden\n     */\n    public readonly activeClass = 'igx-nav-drawer__item--active';\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-nav-drawer__item')\n    get defaultCSS(): boolean {\n        return !this.active && !this.isHeader;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-nav-drawer__item--active')\n    get currentCSS(): boolean {\n        return this.active && !this.isHeader;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-nav-drawer__item--header')\n    get headerCSS(): boolean {\n        return this.isHeader;\n    }\n}\n\n@Directive({\n    selector: '[igxDrawer]'\n})\nexport class IgxNavDrawerTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) {\n     }\n}\n\n@Directive({\n    selector: '[igxDrawerMini]'\n})\nexport class IgxNavDrawerMiniTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) {\n     }\n}\n","import {\n    AfterContentInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Inject,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Output,\n    SimpleChange,\n    ViewChild,\n    Renderer2\n} from '@angular/core';\nimport { fromEvent, interval, Subscription } from 'rxjs';\nimport { debounce } from 'rxjs/operators';\nimport { IgxNavigationService, IToggleView } from '../core/navigation';\nimport { HammerGesturesManager } from '../core/touch';\nimport { IgxNavDrawerMiniTemplateDirective, IgxNavDrawerTemplateDirective } from './navigation-drawer.directives';\nimport { PlatformUtil } from '../core/utils';\n\nlet NEXT_ID = 0;\n/**\n * **Ignite UI for Angular Navigation Drawer** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/navdrawer.html)\n *\n * The Ignite UI Navigation Drawer is a collapsible side navigation container commonly used in combination with the Navbar.\n *\n * Example:\n * ```html\n * <igx-nav-drawer id=\"navigation\" [isOpen]=\"true\">\n *   <ng-template igxDrawer>\n *     <nav>\n *       <span igxDrawerItem [isHeader]=\"true\">Email</span>\n *       <span igxDrawerItem igxRipple>Inbox</span>\n *       <span igxDrawerItem igxRipple>Deleted</span>\n *       <span igxDrawerItem igxRipple>Sent</span>\n *     </nav>\n *   </ng-template>\n * </igx-nav-drawer>\n * ```\n */\n@Component({\n    providers: [HammerGesturesManager],\n    selector: 'igx-nav-drawer',\n    templateUrl: 'navigation-drawer.component.html',\n    styles: [`\n        :host {\n            display: block;\n            height: 100%;\n        }\n    `]\n})\nexport class IgxNavigationDrawerComponent implements\n    IToggleView,\n    OnInit,\n    AfterContentInit,\n    OnDestroy,\n    OnChanges {\n\n    private _isOpen = false;\n\n    /** @hidden @internal */\n    @HostBinding('class.igx-nav-drawer')\n    public cssClass = true;\n\n    /**\n     * ID of the component\n     *\n     * ```typescript\n     * // get\n     * let myNavDrawerId = this.navdrawer.id;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     *  <igx-nav-drawer id='navdrawer'></igx-nav-drawer>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input() public id = `igx-nav-drawer-${NEXT_ID++}`;\n\n    /**\n     * Position of the Navigation Drawer. Can be \"left\"(default) or \"right\".\n     *\n     * ```typescript\n     * // get\n     * let myNavDrawerPosition = this.navdrawer.position;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [position]=\"'left'\"></igx-nav-drawer>\n     * ```\n     */\n    @Input() public position = 'left';\n\n    /**\n     * Enables the use of touch gestures to manipulate the drawer:\n     * - swipe/pan from edge to open, swipe-toggle and pan-drag.\n     *\n     * ```typescript\n     * // get\n     * let gesturesEnabled = this.navdrawer.enableGestures;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [enableGestures]='true'></igx-nav-drawer>\n     * ```\n     */\n    @Input() public enableGestures = true;\n\n    /**\n     * State of the drawer.\n     *\n     * ```typescript\n     * // get\n     * let navDrawerIsOpen = this.navdrawer.isOpen;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [isOpen]='false'></igx-nav-drawer>\n     * ```\n     *\n     * Two-way data binding.\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [(isOpen)]='model.isOpen'></igx-nav-drawer>\n     * ```\n     */\n    @Input()\n    public get isOpen() {\n        return this._isOpen;\n    }\n    public set isOpen(value) {\n        this._isOpen = value;\n        this.isOpenChange.emit(this._isOpen);\n    }\n\n    /**\n     *@hidden\n     */\n    @Output() public isOpenChange = new EventEmitter<boolean>();\n\n    /**\n     * When pinned the drawer is relatively positioned instead of sitting above content.\n     * May require additional layout styling.\n     *\n     * ```typescript\n     * // get\n     * let navDrawerIsPinned = this.navdrawer.pin;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [pin]='false'></igx-nav-drawer>\n     * ```\n     */\n    @Input() public pin = false;\n\n    /**\n     * Minimum device width required for automatic pin to be toggled.\n     * Default is 1024, can be set to a falsy value to disable this behavior.\n     *\n     * ```typescript\n     * // get\n     * let navDrawerPinTreshold = this.navdrawer.pinThreshold;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [pinTreshold]='1024'></igx-nav-drawer>\n     * ```\n     */\n    @Input() public pinThreshold = 1024;\n\n    /**\n     * Returns nativeElement of the component.\n     *\n     * @hidden\n     */\n    get element() {\n        return this.elementRef.nativeElement;\n    }\n\n    /**\n     * Width of the drawer in its open state. Defaults to \"280px\".\n     *\n     * ```typescript\n     * // get\n     * let navDrawerWidth = this.navdrawer.width;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [width]=\"'228px'\"></igx-nav-drawer>\n     * ```\n     */\n    @Input() public width = '280px';\n\n    /**\n     * Width of the drawer in its mini state. Defaults to 68px.\n     *\n     * ```typescript\n     * // get\n     * let navDrawerMiniWidth = this.navdrawer.miniWidth;\n     * ```\n     *\n     * ```html\n     * <!--set-->\n     * <igx-nav-drawer [miniWidth]=\"'34px'\"></igx-nav-drawer>\n     * ```\n     */\n    @Input() public miniWidth = '68px';\n\n    /**\n     * Pinned state change output for two-way binding.\n     *\n     * ```html\n     * <igx-nav-drawer [(pin)]='isPinned'></igx-nav-drawer>\n     * ```\n     */\n    @Output() public pinChange = new EventEmitter<boolean>(true);\n    /**\n     * Event fired as the Navigation Drawer is about to open.\n     *\n     * ```html\n     *  <igx-nav-drawer (opening)='onOpening()'></igx-nav-drawer>\n     * ```\n     */\n    @Output() public opening = new EventEmitter();\n    /**\n     * Event fired when the Navigation Drawer has opened.\n     *\n     * ```html\n     * <igx-nav-drawer (opened)='onOpened()'></igx-nav-drawer>\n     * ```\n     */\n    @Output() public opened = new EventEmitter();\n    /**\n     * Event fired as the Navigation Drawer is about to close.\n     *\n     * ```html\n     * <igx-nav-drawer (closing)='onClosing()'></igx-nav-drawer>\n     * ```\n     */\n    @Output() public closing = new EventEmitter();\n    /**\n     * Event fired when the Navigation Drawer has closed.\n     *\n     * ```html\n     * <igx-nav-drawer (closed)='onClosed()'></igx-nav-drawer>\n     * ```\n     */\n    @Output() public closed = new EventEmitter();\n\n    /**\n     * @hidden\n     */\n    get template() {\n        if (this.miniTemplate && !this.isOpen) {\n            return this.miniTemplate.template;\n        } else if (this.contentTemplate) {\n            return this.contentTemplate.template;\n        }\n    }\n\n    private _miniTemplate: IgxNavDrawerMiniTemplateDirective;\n    /**\n     * @hidden\n     */\n    public get miniTemplate(): IgxNavDrawerMiniTemplateDirective {\n        return this._miniTemplate;\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxNavDrawerMiniTemplateDirective, { read: IgxNavDrawerMiniTemplateDirective })\n    public set miniTemplate(v: IgxNavDrawerMiniTemplateDirective) {\n        if (!this.isOpen) {\n            this.setDrawerWidth(v ? this.miniWidth : '');\n        }\n        this._miniTemplate = v;\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxNavDrawerTemplateDirective, { read: IgxNavDrawerTemplateDirective })\n    protected contentTemplate: IgxNavDrawerTemplateDirective;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('style.flexBasis')\n    get flexWidth() {\n        if (!this.pin) {\n            return '0px';\n        }\n        if (this.isOpen) {\n            return this.width;\n        }\n        if (this.miniTemplate && this.miniWidth) {\n            return this.miniWidth;\n        }\n\n        return '0px';\n    }\n\n    /** @hidden */\n    @HostBinding('style.order')\n    get isPinnedRight() {\n        return this.pin && this.position === 'right' ? '1' : '0';\n    }\n\n    private _gesturesAttached = false;\n    private _widthCache: { width: number, miniWidth: number, windowWidth: number } = { width: null, miniWidth: null, windowWidth: null };\n    private _resizeObserver: Subscription;\n    private css: { [name: string]: string; } = {\n        drawer: 'igx-nav-drawer__aside',\n        mini: 'igx-nav-drawer__aside--mini',\n        overlay: 'igx-nav-drawer__overlay',\n        styleDummy: 'igx-nav-drawer__style-dummy'\n    };\n\n    @ViewChild('aside', { static: true }) private _drawer: ElementRef;\n    @ViewChild('overlay', { static: true }) private _overlay: ElementRef;\n    @ViewChild('dummy', { static: true }) private _styleDummy: ElementRef;\n\n    /**\n      * @hidden\n      */\n    get drawer() {\n        return this._drawer.nativeElement;\n    }\n\n    /**\n     * @hidden\n     */\n    get overlay() {\n        return this._overlay.nativeElement;\n    }\n\n    /**\n     * @hidden\n     */\n    get styleDummy() {\n        return this._styleDummy.nativeElement;\n    }\n\n    /** Pan animation properties */\n    private _panning = false;\n    private _panStartWidth: number;\n    private _panLimit: number;\n\n    /**\n     * Property to decide whether to change width or translate the drawer from pan gesture.\n     *\n     * @hidden\n     */\n    public get hasAnimateWidth(): boolean {\n        return this.pin || !!this.miniTemplate;\n    }\n\n    private _maxEdgeZone = 50;\n    /**\n     * Used for touch gestures (swipe and pan).\n     * Defaults to 50 (in px) and is extended to at least 110% of the mini template width if available.\n     *\n     * @hidden\n     */\n    public get maxEdgeZone() {\n        return this._maxEdgeZone;\n    }\n\n    /**\n     * Gets the Drawer width for specific state.\n     * Will attempt to evaluate requested state and cache.\n     *\n     *\n     * @hidden\n     */\n    public get expectedWidth() {\n        return this.getExpectedWidth(false);\n    }\n\n    /**\n     * Get the Drawer mini width for specific state.\n     * Will attempt to evaluate requested state and cache.\n     *\n     * @hidden\n     */\n    public get expectedMiniWidth() {\n        return this.getExpectedWidth(true);\n    }\n\n    /**\n     * @hidden\n     */\n    public get touchManager() {\n        return this._touchManager;\n    }\n\n    /**\n     * Exposes optional navigation service\n     *\n     * @hidden\n     */\n    public get state() {\n        return this._state;\n    }\n\n    constructor(\n        @Inject(ElementRef) private elementRef: ElementRef,\n        @Optional() private _state: IgxNavigationService,\n        protected renderer: Renderer2,\n        private _touchManager: HammerGesturesManager,\n        private platformUtil: PlatformUtil) {\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        // DOM and @Input()-s initialized\n        if (this._state) {\n            this._state.add(this.id, this);\n        }\n        if (this.isOpen) {\n            this.setDrawerWidth(this.width);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterContentInit() {\n        // wait for template and ng-content to be ready\n        this.updateEdgeZone();\n        this.checkPinThreshold();\n\n        this.ensureEvents();\n\n        // TODO: apply platform-safe Ruler from http://plnkr.co/edit/81nWDyreYMzkunihfRgX?p=preview\n        // (https://github.com/angular/angular/issues/6515), blocked by https://github.com/angular/angular/issues/6904\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this._touchManager.destroy();\n        if (this._state) {\n            this._state.remove(this.id);\n        }\n        if (this._resizeObserver) {\n            this._resizeObserver.unsubscribe();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n        // simple settings can come from attribute set (rather than binding), make sure boolean props are converted\n        if (changes.enableGestures && changes.enableGestures.currentValue !== undefined) {\n            this.enableGestures = !!(this.enableGestures && this.enableGestures.toString() === 'true');\n            this.ensureEvents();\n        }\n        if (changes.pin && changes.pin.currentValue !== undefined) {\n            this.pin = !!(this.pin && this.pin.toString() === 'true');\n            if (this.pin) {\n                this._touchManager.destroy();\n                this._gesturesAttached = false;\n            } else {\n                this.ensureEvents();\n            }\n        }\n\n        if (changes.pinThreshold) {\n            if (this.pinThreshold) {\n                this.ensureEvents();\n                this.checkPinThreshold();\n            }\n        }\n\n        if (changes.width && this.isOpen) {\n            this.setDrawerWidth(changes.width.currentValue);\n        }\n\n        if (changes.miniWidth) {\n            if (!this.isOpen) {\n                this.setDrawerWidth(changes.miniWidth.currentValue);\n            }\n            this.updateEdgeZone();\n        }\n    }\n\n    /**\n     * Toggle the open state of the Navigation Drawer.\n     *\n     * ```typescript\n     * this.navdrawer.toggle();\n     * ```\n     */\n    public toggle() {\n        if (this.isOpen) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    /**\n     * Open the Navigation Drawer. Has no effect if already opened.\n     *\n     * ```typescript\n     * this.navdrawer.open();\n     * ```\n     */\n    public open() {\n        if (this._panning) {\n            this.resetPan();\n        }\n        if (this.isOpen) {\n            return;\n        }\n        this.opening.emit();\n        this.isOpen = true;\n\n        // TODO: Switch to animate API when available\n        // var animationCss = this.animate.css();\n        //     animationCss\n        //         .setStyles({'width':'50px'}, {'width':'400px'})\n        //         .start(this.elementRef.nativeElement)\n        //         .onComplete(() => animationCss.setToStyles({'width':'auto'}).start(this.elementRef.nativeElement));\n\n        this.elementRef.nativeElement.addEventListener('transitionend', this.toggleOpenedEvent, false);\n        this.setDrawerWidth(this.width);\n    }\n\n    /**\n     * Close the Navigation Drawer. Has no effect if already closed.\n     *\n     * ```typescript\n     * this.navdrawer.close();\n     * ```\n     */\n    public close() {\n        if (this._panning) {\n            this.resetPan();\n        }\n        if (!this.isOpen) {\n            return;\n        }\n        this.closing.emit();\n\n        this.isOpen = false;\n        this.setDrawerWidth(this.miniTemplate ? this.miniWidth : '');\n        this.elementRef.nativeElement.addEventListener('transitionend', this.toggleClosedEvent, false);\n    }\n\n    /**\n     * @hidden\n     */\n    protected set_maxEdgeZone(value: number) {\n        this._maxEdgeZone = value;\n    }\n\n    /**\n     * Get the Drawer width for specific state. Will attempt to evaluate requested state and cache.\n     *\n     * @hidden\n     * @param [mini] - Request mini width instead\n     */\n    protected getExpectedWidth(mini?: boolean): number {\n        if (mini) {\n            if (!this.miniTemplate) {\n                return 0;\n            }\n            if (this.miniWidth) {\n                return parseFloat(this.miniWidth);\n            } else {\n                // if (!this.isOpen) { // This WON'T work due to transition timings...\n                //     return this.elementRef.nativeElement.children[1].offsetWidth;\n                // } else {\n                if (this._widthCache.miniWidth === null) {\n                    // force class for width calc. TODO?\n                    // force class for width calc. TODO?\n                    this.renderer.addClass(this.styleDummy, this.css.drawer);\n                    this.renderer.addClass(this.styleDummy, this.css.mini);\n                    this._widthCache.miniWidth = this.styleDummy.offsetWidth;\n                    this.renderer.removeClass(this.styleDummy, this.css.drawer);\n                    this.renderer.removeClass(this.styleDummy, this.css.mini);\n                }\n                return this._widthCache.miniWidth;\n            }\n        } else {\n            if (this.width) {\n                return parseFloat(this.width);\n            } else {\n                if (this._widthCache.width === null) {\n                    // force class for width calc. TODO?\n                    // force class for width calc. TODO?\n                    this.renderer.addClass(this.styleDummy, this.css.drawer);\n                    this._widthCache.width = this.styleDummy.offsetWidth;\n                    this.renderer.removeClass(this.styleDummy, this.css.drawer);\n                }\n                return this._widthCache.width;\n            }\n        }\n    }\n\n    private getWindowWidth() {\n        return (window.innerWidth > 0) ? window.innerWidth : screen.width;\n    }\n\n    /**\n     * Sets the drawer width.\n     */\n    private setDrawerWidth(width: string) {\n        if (this.platformUtil.isBrowser) {\n            requestAnimationFrame(() => {\n                if (this.drawer) {\n                    this.renderer.setStyle(this.drawer, 'width', width);\n                }\n            });\n        } else {\n            this.renderer.setStyle(this.drawer, 'width', width);\n        }\n    }\n\n    /**\n     * Get current Drawer width.\n     */\n    private getDrawerWidth(): number {\n        return this.drawer.offsetWidth;\n    }\n\n    private ensureEvents() {\n        // set listeners for swipe/pan only if needed, but just once\n        if (this.enableGestures && !this.pin && !this._gesturesAttached) {\n            // Built-in manager handler(L20887) causes endless loop and max stack exception.\n            // https://github.com/angular/angular/issues/6993\n            // Use ours for now (until beta.10):\n            // this.renderer.listen(document, \"swipe\", this.swipe);\n            this._touchManager.addGlobalEventListener('document', 'swipe', this.swipe);\n            this._gesturesAttached = true;\n\n            // this.renderer.listen(document, \"panstart\", this.panstart);\n            // this.renderer.listen(document, \"pan\", this.pan);\n            this._touchManager.addGlobalEventListener('document', 'panstart', this.panstart);\n            this._touchManager.addGlobalEventListener('document', 'panmove', this.pan);\n            this._touchManager.addGlobalEventListener('document', 'panend', this.panEnd);\n        }\n        if (!this._resizeObserver && this.platformUtil.isBrowser) {\n            this._resizeObserver = fromEvent(window, 'resize').pipe(debounce(() => interval(150)))\n                .subscribe((value) => {\n                    this.checkPinThreshold(value);\n                });\n        }\n    }\n\n    private updateEdgeZone() {\n        let maxValue;\n\n        if (this.miniTemplate) {\n            maxValue = Math.max(this._maxEdgeZone, this.getExpectedWidth(true) * 1.1);\n            this.set_maxEdgeZone(maxValue);\n        }\n    }\n\n    private checkPinThreshold = (evt?: Event) => {\n        if (!this.platformUtil.isBrowser) {\n            return;\n        }\n        let windowWidth;\n        if (this.pinThreshold) {\n            windowWidth = this.getWindowWidth();\n            if (evt && this._widthCache.windowWidth === windowWidth) {\n                return;\n            }\n            this._widthCache.windowWidth = windowWidth;\n            if (!this.pin && windowWidth >= this.pinThreshold) {\n                this.pin = true;\n                this.pinChange.emit(true);\n            } else if (this.pin && windowWidth < this.pinThreshold) {\n                this.pin = false;\n                this.pinChange.emit(false);\n            }\n        }\n    }\n\n    private swipe = (evt: HammerInput) => {\n        // TODO: Could also force input type: http://stackoverflow.com/a/27108052\n        if (!this.enableGestures || evt.pointerType !== 'touch') {\n            return;\n        }\n\n        // HammerJS swipe is horizontal-only by default, don't check deltaY\n        let deltaX;\n        let startPosition;\n        if (this.position === 'right') {\n            // when on the right use inverse of deltaX\n            deltaX = -evt.deltaX;\n            startPosition = this.getWindowWidth() - (evt.center.x + evt.distance);\n        } else {\n            deltaX = evt.deltaX;\n            startPosition = evt.center.x - evt.distance;\n        }\n        // only accept closing swipe (ignoring minEdgeZone) when the drawer is expanded:\n        if ((this.isOpen && deltaX < 0) ||\n            // positive deltaX from the edge:\n            (deltaX > 0 && startPosition < this.maxEdgeZone)) {\n            this.toggle();\n        }\n    }\n\n    private panstart = (evt: HammerInput) => { // TODO: test code\n        if (!this.enableGestures || this.pin || evt.pointerType !== 'touch') {\n            return;\n        }\n        const startPosition = this.position === 'right' ? this.getWindowWidth() - (evt.center.x + evt.distance)\n            : evt.center.x - evt.distance;\n\n        // cache width during animation, flag to allow further handling\n        if (this.isOpen || (startPosition < this.maxEdgeZone)) {\n            this._panning = true;\n            this._panStartWidth = this.getExpectedWidth(!this.isOpen);\n            this._panLimit = this.getExpectedWidth(this.isOpen);\n\n            this.renderer.addClass(this.overlay, 'panning');\n            this.renderer.addClass(this.drawer, 'panning');\n        }\n    }\n\n    private pan = (evt: HammerInput) => {\n        // TODO: input.deltaX = prevDelta.x + (center.x - offset.x);\n        // get actual delta (not total session one) from event?\n        // pan WILL also fire after a full swipe, only resize on flag\n        if (!this._panning) {\n            return;\n        }\n        const right: boolean = this.position === 'right';\n        // when on the right use inverse of deltaX\n        const deltaX = right ? -evt.deltaX : evt.deltaX;\n        let visibleWidth;\n        let newX;\n        let percent;\n\n        visibleWidth = this._panStartWidth + deltaX;\n\n        if (this.isOpen && deltaX < 0) {\n            // when visibleWidth hits limit - stop animating\n            if (visibleWidth <= this._panLimit) {\n                return;\n            }\n\n            if (this.hasAnimateWidth) {\n                percent = (visibleWidth - this._panLimit) / (this._panStartWidth - this._panLimit);\n                newX = visibleWidth;\n            } else {\n                percent = visibleWidth / this._panStartWidth;\n                newX = evt.deltaX;\n            }\n            this.setXSize(newX, percent.toPrecision(2));\n\n        } else if (!this.isOpen && deltaX > 0) {\n            // when visibleWidth hits limit - stop animating\n            if (visibleWidth >= this._panLimit) {\n                return;\n            }\n\n            if (this.hasAnimateWidth) {\n                percent = (visibleWidth - this._panStartWidth) / (this._panLimit - this._panStartWidth);\n                newX = visibleWidth;\n            } else {\n                percent = visibleWidth / this._panLimit;\n                newX = (this._panLimit - visibleWidth) * (right ? 1 : -1);\n            }\n            this.setXSize(newX, percent.toPrecision(2));\n        }\n    }\n\n    private panEnd = (evt: HammerInput) => {\n        if (this._panning) {\n            const deltaX = this.position === 'right' ? -evt.deltaX : evt.deltaX;\n            const visibleWidth: number = this._panStartWidth + deltaX;\n            this.resetPan();\n\n            // check if pan brought the drawer to 50%\n            if (this.isOpen && visibleWidth <= this._panStartWidth / 2) {\n                this.close();\n            } else if (!this.isOpen && visibleWidth >= this._panLimit / 2) {\n                this.open();\n            }\n            this._panStartWidth = null;\n        }\n    }\n\n    private resetPan() {\n        this._panning = false;\n        /* styles fail to apply when set on parent due to extra attributes, prob ng bug */\n        /* styles fail to apply when set on parent due to extra attributes, prob ng bug */\n        this.renderer.removeClass(this.overlay, 'panning');\n        this.renderer.removeClass(this.drawer, 'panning');\n        this.setXSize(0, '');\n    }\n\n    /**\n     * Sets the absolute position or width in case the drawer doesn't change position.\n     * @param x the number pixels to translate on the X axis or the width to set. 0 width will clear the style instead.\n     * @param opacity optional value to apply to the overlay\n     */\n    private setXSize(x: number, opacity?: string) {\n        // Angular polyfills patches window.requestAnimationFrame, but switch to DomAdapter API (TODO)\n        window.requestAnimationFrame(() => {\n            if (this.hasAnimateWidth) {\n                this.renderer.setStyle(this.drawer, 'width', x ? Math.abs(x) + 'px' : '');\n            } else {\n                this.renderer.setStyle(this.drawer, 'transform', x ? 'translate3d(' + x + 'px,0,0)' : '');\n                this.renderer.setStyle(this.drawer, '-webkit-transform', x ? 'translate3d(' + x + 'px,0,0)' : '');\n            }\n            if (opacity !== undefined) {\n                this.renderer.setStyle(this.overlay, 'opacity', opacity);\n            }\n        });\n    }\n\n    private toggleOpenedEvent = (evt?) => {\n        this.elementRef.nativeElement.removeEventListener('transitionend', this.toggleOpenedEvent, false);\n        this.opened.emit();\n    }\n\n    private toggleClosedEvent = (evt?) => {\n        this.elementRef.nativeElement.removeEventListener('transitionend', this.toggleClosedEvent, false);\n        this.closed.emit();\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IgxNavigationDrawerComponent } from './navigation-drawer.component';\nimport {\n    IgxNavDrawerItemDirective,\n    IgxNavDrawerMiniTemplateDirective,\n    IgxNavDrawerTemplateDirective\n} from './navigation-drawer.directives';\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxNavigationDrawerComponent,\n        IgxNavDrawerItemDirective,\n        IgxNavDrawerMiniTemplateDirective,\n        IgxNavDrawerTemplateDirective\n    ],\n    exports: [\n        IgxNavigationDrawerComponent,\n        IgxNavDrawerItemDirective,\n        IgxNavDrawerMiniTemplateDirective,\n        IgxNavDrawerTemplateDirective\n    ],\n    imports: [CommonModule]\n})\nexport class IgxNavigationDrawerModule {}\n","import { Directive } from '@angular/core';\nimport { IBaseEventArgs } from '../core/utils';\n\n/**\n * Template directive that allows you to set a custom template representing the lower label value of the {@link IgxSliderComponent}\n *\n *```html\n * <igx-slider>\n *  <ng-template igxSliderThumbFrom let-value let-labels>{{value}}</ng-template>\n * </igx-slider>\n * ```\n *\n * @context {@link IgxSliderComponent.context}\n */\n@Directive({\n    selector: '[igxSliderThumbFrom]'\n})\nexport class IgxThumbFromTemplateDirective {}\n\n/**\n * Template directive that allows you to set a custom template representing the upper label value of the {@link IgxSliderComponent}\n *\n * ```html\n * <igx-slider>\n *  <ng-template igxSliderThumbTo let-value let-labels>{{value}}</ng-template>\n * </igx-slider>\n * ```\n *\n * @context {@link IgxSliderComponent.context}\n */\n@Directive({\n    selector: '[igxSliderThumbTo]'\n})\nexport class IgxThumbToTemplateDirective {}\n\n/**\n * Template directive that allows you to set a custom template, represeting primary/secondary tick labels of the {@link IgxSliderComponent}\n *\n * @context {@link IgxTicksComponent.context}\n */\n@Directive({\n    selector: '[igxSliderTickLabel]'\n})\nexport class IgxTickLabelTemplateDirective {}\n\nexport interface IRangeSliderValue {\n    lower: number;\n    upper: number;\n}\n\nexport interface ISliderValueChangeEventArgs {\n    oldValue: number | IRangeSliderValue;\n    value: number | IRangeSliderValue;\n}\n\nexport enum IgxSliderType {\n    /**\n     * Slider with single thumb.\n     */\n    SLIDER,\n    /**\n     *  Range slider with multiple thumbs, that can mark the range.\n     */\n    RANGE\n}\n\nexport enum SliderHandle {\n    FROM,\n    TO\n}\n\n/**\n * Slider Tick labels Orientation\n */\nexport enum TickLabelsOrientation {\n    Horizontal,\n    TopToBottom,\n    BottomToTop\n}\n\n/**\n * Slider Ticks orientation\n */\nexport enum TicksOrientation {\n    Top,\n    Bottom,\n    Mirror\n}\n","import {\n    Component,\n    Input,\n    HostListener,\n    ElementRef,\n    HostBinding,\n    Output,\n    EventEmitter,\n    OnInit,\n    OnDestroy,\n    TemplateRef\n} from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { SliderHandle } from '../slider.common';\nimport { Subject } from 'rxjs';\n\n/**\n * @hidden\n */\n@Component({\n    selector: 'igx-thumb',\n    templateUrl: 'thumb-slider.component.html',\n})\nexport class IgxSliderThumbComponent implements OnInit, OnDestroy {\n\n    private _isActive = false;\n    private _isPressed = false;\n    private _destroy$ = new Subject<boolean>();\n\n    private get thumbPositionX() {\n        const thumbBounderies = this.nativeElement.getBoundingClientRect();\n        const thumbCenter = (thumbBounderies.right - thumbBounderies.left) / 2;\n        return thumbBounderies.left + thumbCenter;\n    }\n\n    public isActive = false;\n\n    @Input()\n    public value: number;\n\n    @Input()\n    public continuous: boolean;\n\n    @Input()\n    public thumbLabelVisibilityDuration;\n\n    @Input()\n    public disabled: boolean;\n\n    @Input()\n    public onPan: Subject<number>;\n\n    @Input()\n    public stepDistance: number;\n\n    @Input()\n    public step: number;\n\n    @Input()\n    public templateRef: TemplateRef<any>;\n\n    @Input()\n    public context: any;\n\n    @Input()\n    public type: SliderHandle;\n\n    @Input()\n    public deactiveState: boolean;\n\n    @Output()\n    public onThumbValueChange = new EventEmitter<number>();\n\n    @Output()\n    public onChange = new EventEmitter<any>();\n\n    @Output()\n    public onHoverChange = new EventEmitter<boolean>();\n\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    @HostBinding('attr.z-index')\n    public zIndex = 0;\n\n    @HostBinding('class.igx-slider__thumb-from')\n    public get thumbFromClass() {\n        return this.type === SliderHandle.FROM;\n    }\n\n    @HostBinding('class.igx-slider__thumb-to')\n    public get thumbToClass() {\n        return this.type === SliderHandle.TO;\n    }\n\n    @HostBinding('class.igx-slider__thumb-from--active')\n    public get thumbFromActiveClass() {\n        return this.type === SliderHandle.FROM && this._isActive;\n    }\n\n    @HostBinding('class.igx-slider__thumb-to--active')\n    public get thumbToActiveClass() {\n        return this.type === SliderHandle.TO && this._isActive;\n    }\n\n    @HostBinding('class.igx-slider__thumb--pressed')\n    public get thumbPressedClass() {\n        return this.isActive && this._isPressed;\n    }\n\n    public get nativeElement() {\n        return this._elementRef.nativeElement;\n    }\n\n    public get destroy(): Subject<boolean> {\n        return this._destroy$;\n    }\n\n    constructor(private _elementRef: ElementRef) { }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        this.onPan\n            .pipe(takeUntil(this._destroy$))\n            .subscribe(mouseX =>\n                this.updateThumbValue(mouseX)\n            );\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this._destroy$.next(true);\n        this._destroy$.complete();\n    }\n\n    @HostListener('pointerenter')\n    public onPinterEnter() {\n        this.onHoverChange.emit(true);\n    }\n\n    @HostListener('pointerleave')\n    public onPointerLeave() {\n        this.onHoverChange.emit(false);\n    }\n\n    @HostListener('keydown', ['$event'])\n    public onKeyDown(event: KeyboardEvent) {\n        if (this.disabled) {\n            return;\n        }\n\n        let increment = 0;\n        if (event.key.endsWith('Left')) {\n            increment = this.step * - 1;\n        } else if (event.key.endsWith('Right')) {\n            increment = this.step;\n        } else {\n            return;\n        }\n\n        this.onChange.emit();\n        this.onThumbValueChange.emit(increment);\n    }\n\n    @HostListener('blur')\n    public onBlur() {\n        this.isActive = false;\n        this.zIndex = 0;\n    }\n\n    @HostListener('focus')\n    public onFocusListener() {\n        this.isActive = true;\n        this.zIndex = 1;\n    }\n\n    /**\n     * Show thumb label and ripple.\n     */\n    public showThumbIndicators() {\n        this.toggleThumbIndicators(true);\n    }\n\n    /**\n     * Hide thumb label and ripple.\n     */\n    public hideThumbIndicators() {\n        this.toggleThumbIndicators(false);\n    }\n\n    private updateThumbValue(mouseX: number) {\n        const updateValue = this.calculateTrackUpdate(mouseX);\n        if (this.isActive && updateValue !== 0) {\n            this.onThumbValueChange.emit(updateValue);\n        }\n    }\n\n    private calculateTrackUpdate(mouseX: number): number {\n        const scaleX = mouseX - this.thumbPositionX;\n        const stepDistanceCenter = this.stepDistance / 2;\n\n        // If the thumb scale range (slider update) is less thn a half step,\n        // the position stays the same.\n        const scaleXPositive = Math.abs(scaleX);\n        if (scaleXPositive < stepDistanceCenter) {\n            return 0;\n        }\n\n        return this.stepToProceed(scaleX, this.stepDistance);\n    }\n\n    private stepToProceed(scaleX, stepDist) {\n        return Math.round(scaleX / stepDist) * this.step;\n    }\n\n    private toggleThumbIndicators(visible: boolean) {\n        this._isPressed = visible;\n\n        if (this.continuous || this.deactiveState) {\n            this._isActive = false;\n        } else {\n            this._isActive = visible;\n        }\n\n    }\n}\n","import { Component, Input, TemplateRef, HostBinding, ElementRef } from '@angular/core';\nimport { SliderHandle } from '../slider.common';\n\n@Component({\n    selector: 'igx-thumb-label',\n    templateUrl: 'thumb-label.component.html'\n})\nexport class IgxThumbLabelComponent {\n    private _active: boolean;\n\n    @Input()\n    public value: number;\n\n    @Input()\n    public templateRef: TemplateRef<any>;\n\n    @Input()\n    public context: any;\n\n    @Input()\n    public type: SliderHandle;\n\n    @Input()\n    public continuous: boolean;\n\n    @Input()\n    public deactiveState: boolean;\n\n    @HostBinding('class.igx-slider__label-from')\n    public get thumbFromClass() {\n        return this.type === SliderHandle.FROM;\n    }\n\n    @HostBinding('class.igx-slider__label-to')\n    public get thumbToClass() {\n        return this.type === SliderHandle.TO;\n    }\n\n    @HostBinding('class.igx-slider__label-from--active')\n    public get thumbFromActiveClass() {\n        return this.type === SliderHandle.FROM && this.active;\n    }\n\n    @HostBinding('class.igx-slider__label-to--active')\n    public get thumbToActiveClass() {\n        return this.type === SliderHandle.TO && this.active;\n    }\n\n    constructor(private _elementRef: ElementRef) { }\n\n    public get nativeElement() {\n        return this._elementRef.nativeElement;\n    }\n\n    public get active() {\n        return this._active;\n    }\n\n    public set active(val: boolean) {\n        if (this.continuous || this.deactiveState) {\n            this._active = false;\n        } else {\n            this._active = val;\n        }\n    }\n}\n","import { Component, Input, TemplateRef, HostBinding } from '@angular/core';\nimport { TicksOrientation, TickLabelsOrientation } from '../slider.common';\n\n/**\n * @hidden\n */\n@Component({\n    selector: 'igx-ticks',\n    templateUrl: 'ticks.component.html',\n})\nexport class IgxTicksComponent {\n    @Input()\n    public primaryTicks: number;\n\n    @Input()\n    public secondaryTicks: number;\n\n    @Input()\n    public primaryTickLabels: boolean;\n\n    @Input()\n    public secondaryTickLabels: boolean;\n\n    @Input()\n    public ticksOrientation: TicksOrientation;\n\n    @Input()\n    public tickLabelsOrientation: TickLabelsOrientation;\n\n    @Input()\n    public maxValue: number;\n\n    @Input()\n    public minValue: number;\n\n    @Input()\n    public labelsViewEnabled: boolean;\n\n    @Input()\n    public labels: Array<number | string | boolean | null | undefined>;\n\n    @Input()\n    public tickLabelTemplateRef: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider__ticks')\n    public ticksClass = true;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider__ticks--top')\n    public get ticksTopClass() {\n        return this.ticksOrientation === TicksOrientation.Top;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider__ticks--tall')\n    public get hasPrimaryClass() {\n        return this.primaryTicks > 0;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider__tick-labels--top-bottom')\n    public get labelsTopToBottomClass() {\n        return this.tickLabelsOrientation === TickLabelsOrientation.TopToBottom;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider__tick-labels--bottom-top')\n    public get labelsBottomToTopClass() {\n        return this.tickLabelsOrientation === TickLabelsOrientation.BottomToTop;\n    }\n\n    /**\n     * Returns the template context corresponding to\n     * {@link IgxTickLabelTemplateDirective}\n     *\n     * ```typescript\n     * return {\n     *  $implicit //returns the value per each tick label.\n     *  isPrimery //returns if the tick is primary.\n     *  labels // returns the {@link labels} collection.\n     *  index // returns the index per each tick of the whole sequence.\n     * }\n     * ```\n     *\n     * @param idx the index per each tick label.\n     */\n    public context(idx: number): any {\n        return {\n            $implicit: this.tickLabel(idx),\n            isPrimary: this.isPrimary(idx),\n            labels: this.labels,\n            index: idx\n        };\n    }\n\n    /**\n     * @hidden\n     */\n    public get ticksLength() {\n        return this.primaryTicks > 0 ?\n                ((this.primaryTicks - 1) * this.secondaryTicks) + this.primaryTicks :\n                this.secondaryTicks > 0 ? this.secondaryTicks : 0;\n    }\n\n    public hiddenTickLabels(idx: number) {\n        return this.isPrimary(idx) ? this.primaryTickLabels : this.secondaryTickLabels;\n    }\n\n    /**\n     * @hidden\n     */\n    public isPrimary(idx: number) {\n        return this.primaryTicks <= 0 ? false :\n            idx % (this.secondaryTicks + 1) === 0;\n    }\n\n    /**\n     * @hidden\n     */\n    public tickLabel(idx: number) {\n        if (this.labelsViewEnabled) {\n            return this.labels[idx];\n        }\n\n        const labelStep = (Math.max(this.minValue, this.maxValue) - Math.min(this.minValue, this.maxValue)) / (this.ticksLength - 1);\n        const labelVal = labelStep * idx;\n\n        return (this.minValue + labelVal).toFixed(2);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'spreadTickLabels'\n})\nexport class IgxTickLabelsPipe implements PipeTransform {\n\n\n    public transform(labels: Array<string | number | boolean | null | undefined>, secondaryTicks: number) {\n        if (!labels) {\n            return;\n        }\n\n        const result = [];\n        labels.forEach(item => {\n            result.push(item);\n            for (let i = 0; i < secondaryTicks; i++) {\n                result.push('');\n            }\n        });\n\n        return result;\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    AfterViewInit, Component, ElementRef, EventEmitter,\n    HostBinding, Input, NgModule, OnInit, Output, Renderer2,\n    ViewChild,\n    TemplateRef,\n    ContentChild,\n    OnDestroy,\n    HostListener,\n    ViewChildren,\n    QueryList,\n    ChangeDetectorRef,\n    OnChanges,\n    NgZone,\n    AfterContentInit\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { EditorProvider } from '../core/edit-provider';\nimport { IgxSliderThumbComponent } from './thumb/thumb-slider.component';\nimport { Subject, merge, Observable, timer, pipe } from 'rxjs';\nimport { takeUntil, throttleTime } from 'rxjs/operators';\nimport { SliderHandle,\n    IgxThumbFromTemplateDirective,\n    IgxThumbToTemplateDirective,\n    IRangeSliderValue,\n    IgxSliderType,\n    ISliderValueChangeEventArgs,\n    TicksOrientation,\n    TickLabelsOrientation,\n    IgxTickLabelTemplateDirective\n} from './slider.common';\nimport { IgxThumbLabelComponent } from './label/thumb-label.component';\nimport { IgxTicksComponent } from './ticks/ticks.component';\nimport { IgxTickLabelsPipe } from './ticks/tick.pipe';\nimport { resizeObservable } from '../core/utils';\n\nconst noop = () => {\n};\n\nlet NEXT_ID = 0;\n\n/**\n * **Ignite UI for Angular Slider** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/slider.html)\n *\n * The Ignite UI Slider allows selection in a given range by moving the thumb along the track. The track\n * can be defined as continuous or stepped, and you can choose between single and range slider types.\n *\n * Example:\n * ```html\n * <igx-slider id=\"slider\"\n *            [minValue]=\"0\" [maxValue]=\"100\"\n *            [continuous]=true [(ngModel)]=\"volume\">\n * </igx-slider>\n * ```\n */\n@Component({\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxSliderComponent, multi: true }],\n    selector: 'igx-slider',\n    templateUrl: 'slider.component.html'\n})\nexport class IgxSliderComponent implements\n    ControlValueAccessor,\n    EditorProvider,\n    OnInit,\n    AfterViewInit,\n    AfterContentInit,\n    OnChanges,\n    OnDestroy {\n\n    // Limit handle travel zone\n    private _pMin = 0;\n    private _pMax = 1;\n\n    // From/upperValue in percent values\n    private _hasViewInit = false;\n    private _minValue = 0;\n    private _maxValue = 100;\n    private _lowerBound?: number;\n    private _upperBound?: number;\n    private _lowerValue?: number;\n    private _upperValue?: number;\n    private _continuous = false;\n    private _disabled = false;\n    private _step = 1;\n    private _value: number | IRangeSliderValue = 0;\n\n    // ticks\n    private _primaryTicks = 0;\n    private _secondaryTicks = 0;\n\n    private _labels = new Array<number|string|boolean|null|undefined>();\n    private _type = IgxSliderType.SLIDER;\n\n    private _destroyer$ = new Subject<boolean>();\n    private _indicatorsDestroyer$ = new Subject<boolean>();\n    private _indicatorsTimer: Observable<any>;\n\n    private _onChangeCallback: (_: any) => void = noop;\n    private _onTouchedCallback: () => void = noop;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('ticks', { static: true })\n    private ticks: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(IgxSliderThumbComponent)\n    private thumbs: QueryList<IgxSliderThumbComponent> = new QueryList<IgxSliderThumbComponent>();\n\n    /**\n     * @hidden\n     */\n    @ViewChildren(IgxThumbLabelComponent)\n    private labelRefs: QueryList<IgxThumbLabelComponent> = new QueryList<IgxThumbLabelComponent>();\n\n    private get thumbFrom(): IgxSliderThumbComponent {\n        return this.thumbs.find(thumb => thumb.type === SliderHandle.FROM);\n    }\n\n    private get thumbTo(): IgxSliderThumbComponent {\n        return this.thumbs.find(thumb => thumb.type === SliderHandle.TO);\n    }\n\n    private get labelFrom(): IgxThumbLabelComponent {\n        return this.labelRefs.find(label => label.type === SliderHandle.FROM);\n    }\n\n    private get labelTo(): IgxThumbLabelComponent {\n        return this.labelRefs.find(label => label.type === SliderHandle.TO);\n    }\n\n    /**\n     * @hidden\n     */\n    @ViewChild('track', { static: true })\n    public trackRef: ElementRef;\n\n    /**\n     * @hidden\n     */\n    public stepDistance = this._step;\n\n    /**\n     * @hidden\n     */\n    public onPan: Subject<number> = new Subject<number>();\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxThumbFromTemplateDirective, { read: TemplateRef })\n    public thumbFromTemplateRef: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxThumbToTemplateDirective, { read: TemplateRef })\n    public thumbToTemplateRef: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxTickLabelTemplateDirective, { read: TemplateRef, static: false })\n    public tickLabelTemplateRef: TemplateRef<any>;\n\n    /**\n     * @hidden\n     */\n    @HostBinding(`attr.role`)\n    public role = 'slider';\n\n    /**\n     * @hidden\n     */\n    @HostBinding(`attr.aria-valuemin`)\n    public get valuemin() {\n        return this.minValue;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding(`attr.aria-valuemax`)\n    public get valuemax() {\n        return this.maxValue;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding(`attr.aria-readonly`)\n    public get readonly() {\n        return this.disabled;\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider')\n    public slierClass = true;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-slider--disabled')\n    public get disabledClass() {\n        return this.disabled;\n    }\n\n    /**\n     * An @Input property that sets the value of the `id` attribute.\n     * If not provided it will be automatically generated.\n     * ```html\n     * <igx-slider [id]=\"'igx-slider-32'\" [(ngModel)]=\"task.percentCompleted\" [step]=\"5\" [lowerBound]=\"20\">\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-slider-${NEXT_ID++}`;\n\n    /**\n     * An @Input property that gets the type of the `IgxSliderComponent`.\n     * The slider can be IgxSliderType.SLIDER(default) or IgxSliderType.RANGE.\n     * ```typescript\n     * @ViewChild(\"slider2\")\n     * public slider: IgxSliderComponent;\n     * ngAfterViewInit(){\n     *     let type = this.slider.type;\n     * }\n     */\n    @Input()\n    public get type() {\n        return this._type;\n    }\n\n    /**\n     * An @Input property that sets the type of the `IgxSliderComponent`.\n     * The slider can be IgxSliderType.SLIDER(default) or IgxSliderType.RANGE.\n     * ```typescript\n     * sliderType: IgxSliderType = IgxSliderType.RANGE;\n     * ```\n     * ```html\n     * <igx-slider #slider2 [type]=\"sliderType\" [(ngModel)]=\"rangeValue\" [minValue]=\"0\" [maxValue]=\"100\">\n     * ```\n     */\n    public set type(type: IgxSliderType) {\n        this._type = type;\n\n        if (type === IgxSliderType.SLIDER) {\n            this.lowerValue = 0;\n        }\n\n        if (this.labelsViewEnabled && this.upperValue > this.maxValue) {\n            this.upperValue = this.labels.length - 1;\n        }\n\n        if (this._hasViewInit) {\n            this.updateTrack();\n        }\n    }\n\n    /**\n     *An @Input property that sets the duration visibility of thumbs labels. The default value is 750 milliseconds.\n     *```html\n     *<igx-slider #slider [thumbLabelVisibilityDuration]=\"3000\" [(ngModel)]=\"task.percentCompleted\" [step]=\"5\">\n     *```\n     */\n    @Input()\n    public thumbLabelVisibilityDuration = 750;\n\n\n    /**\n     * Enables `labelView`, by accepting a collection of primitive values with more than one element.\n     * Each element will be equally spread over the slider and it will serve as a thumb label.\n     * Once the property is set, it will precendence over {@link maxValue}, {@link minValue}, {@link step}.\n     * This means that the manipulation for those properties won't be allowed.\n     */\n    @Input()\n    public get labels() {\n        return this._labels;\n    }\n\n    public set labels(labels: Array<number|string|boolean|null|undefined>) {\n        this._labels = labels;\n\n        this._pMax = this.valueToFraction(this.upperBound, 0, 1);\n        this._pMin = this.valueToFraction(this.lowerBound, 0, 1);\n\n        this.stepDistance = this.calculateStepDistance();\n        this.positionHandlersAndUpdateTrack();\n\n        if (this._hasViewInit) {\n            this.setTickInterval();\n        }\n    }\n\n    /**\n     * Returns the template context corresponding\n     * to {@link IgxThumbFromTemplateDirective} and {@link IgxThumbToTemplateDirective} templates.\n     *\n     * ```typescript\n     * return {\n     *  $implicit // returns the value of the label,\n     *  labels // returns the labels collection the user has passed.\n     * }\n     * ```\n     */\n    public get context(): any {\n        return {\n            $implicit: this.value,\n            labels: this.labels\n        };\n    }\n\n    /**\n     * An @Input property that sets the incremental/decremental step of the value when dragging the thumb.\n     * The default step is 1, and step should not be less or equal than 0.\n     * ```html\n     * <igx-slider #slider [(ngModel)]=\"task.percentCompleted\" [step]=\"5\">\n     * ```\n     */\n    @Input()\n    public set step(step: number) {\n        this._step = step;\n\n        this.stepDistance = this.calculateStepDistance();\n        if (this._hasViewInit) {\n            this.normalizeByStep(this.value);\n            this.setTickInterval();\n        }\n    }\n\n    /**\n     * Returns the incremental/decremental dragging step of the {@link IgxSliderComponent}.\n     * ```typescript\n     * @ViewChild(\"slider2\")\n     * public slider: IgxSliderComponent;\n     * ngAfterViewInit(){\n     *     let step = this.slider.step;\n     * }\n     * ```\n     */\n    public get step() {\n        return this.labelsViewEnabled ? 1 : this._step;\n    }\n\n    /**\n     * Returns if the {@link IgxSliderComponent} is disabled.\n     * ```typescript\n     * @ViewChild(\"slider2\")\n     * public slider: IgxSliderComponent;\n     * ngAfterViewInit(){\n     *     let isDisabled = this.slider.disabled;\n     * }\n     * ```\n     */\n    @Input()\n    public get disabled(): boolean {\n        return this._disabled;\n    }\n\n    /**\n     *An @Input property that disables or enables UI interaction.\n     *```html\n     *<igx-slider #slider [disabled]=\"'true'\" [(ngModel)]=\"task.percentCompleted\" [step]=\"5\" [lowerBound]=\"20\">\n     *```\n     */\n    public set disabled(disable: boolean) {\n        this._disabled = disable;\n\n        if (this._hasViewInit) {\n            this.changeThumbFocusableState(disable);\n        }\n    }\n\n    /**\n     * Returns if the {@link IgxSliderComponent} is set as continuous.\n     * ```typescript\n     * @ViewChild(\"slider2\")\n     * public slider: IgxSliderComponent;\n     * ngAfterViewInit(){\n     *     let continuous = this.slider.continuous;\n     * }\n     * ```\n     */\n    @Input()\n    public get continuous(): boolean {\n        return this._continuous;\n    }\n\n    /**\n     * An @Input property that marks the {@link IgxSliderComponent} as continuous.\n     * By default is considered that the {@link IgxSliderComponent} is discrete.\n     * Discrete {@link IgxSliderComponent} does not have ticks and does not show bubble labels for values.\n     * ```html\n     * <igx-slider #slider [continuous]=\"'true'\" [(ngModel)]=\"task.percentCompleted\" [step]=\"5\" [lowerBound]=\"20\">\n     * ```\n     */\n    public set continuous(continuous: boolean) {\n        this._continuous = continuous;\n        if (this._hasViewInit) {\n            this.setTickInterval();\n        }\n    }\n\n    /**\n     *Returns the minimal value of the `IgxSliderComponent`.\n     *```typescript\n     *@ViewChild(\"slider2\")\n     *public slider: IgxSliderComponent;\n     *ngAfterViewInit(){\n     *    let sliderMin = this.slider.minValue;\n     *}\n     *```\n     */\n    public get minValue(): number {\n        if (this.labelsViewEnabled) {\n            return 0;\n        }\n\n        return this._minValue;\n    }\n\n    /**\n     * Sets the minimal value for the `IgxSliderComponent`.\n     * The default minimal value is 0.\n     * ```html\n     * <igx-slider [type]=\"sliderType\" [minValue]=\"56\" [maxValue]=\"100\">\n     * ```\n     */\n    @Input()\n    public set minValue(value: number) {\n        if (value >= this.maxValue) {\n            return;\n        } else {\n            this._minValue = value;\n        }\n\n        if (value > this.upperBound) {\n            this.updateUpperBoundAndMaxTravelZone();\n            this.lowerBound = value;\n        }\n\n        // Refresh min travel zone limit.\n        this._pMin = 0;\n        // Recalculate step distance.\n        this.stepDistance = this.calculateStepDistance();\n        this.positionHandlersAndUpdateTrack();\n        if (this._hasViewInit) {\n            this.setTickInterval();\n        }\n    }\n\n        /**\n     * Returns the maximum value for the {@link IgxSliderComponent}.\n     * ```typescript\n     *@ViewChild(\"slider\")\n     *public slider: IgxSliderComponent;\n     *ngAfterViewInit(){\n     *    let sliderMax = this.slider.maxValue;\n     *}\n     * ```\n     */\n    public get maxValue(): number {\n        return this.labelsViewEnabled ?\n            this.labels.length - 1 :\n            this._maxValue;\n    }\n\n    /**\n     * Sets the maximal value for the `IgxSliderComponent`.\n     * The default maximum value is 100.\n     * ```html\n     * <igx-slider [type]=\"sliderType\" [minValue]=\"56\" [maxValue]=\"256\">\n     * ```\n     */\n    @Input()\n    public set maxValue(value: number) {\n        if (value <= this._minValue) {\n            return;\n        } else {\n            this._maxValue = value;\n        }\n\n        if (value < this.lowerBound) {\n            this.updateLowerBoundAndMinTravelZone();\n            this.upperBound = value;\n        }\n\n        // refresh max travel zone limits.\n        this._pMax = 1;\n        // recalculate step distance.\n        this.stepDistance = this.calculateStepDistance();\n        this.positionHandlersAndUpdateTrack();\n        if (this._hasViewInit) {\n            this.setTickInterval();\n        }\n    }\n\n    /**\n     * Returns the lower boundary of the `IgxSliderComponent`.\n     *```typescript\n     *@ViewChild(\"slider\")\n     *public slider: IgxSliderComponent;\n     *ngAfterViewInit(){\n     *    let sliderLowBound = this.slider.lowerBound;\n     *}\n     *```\n     */\n    public get lowerBound(): number {\n        if (!Number.isNaN(this._lowerBound) && this._lowerBound !== undefined) {\n            return this.valueInRange(this._lowerBound, this.minValue, this.maxValue);\n        }\n\n        return this.minValue;\n    }\n\n    /**\n     * Sets the lower boundary of the `IgxSliderComponent`.\n     * If not set is the same as min value.\n     * ```html\n     * <igx-slider [step]=\"5\" [lowerBound]=\"20\">\n     * ```\n     */\n    @Input()\n    public set lowerBound(value: number) {\n        if (value >= this.upperBound || (this.labelsViewEnabled && value < 0)) {\n            return;\n        }\n\n        this._lowerBound = this.valueInRange(value, this.minValue, this.maxValue);\n\n        // Refresh min travel zone.\n        this._pMin = this.valueToFraction(this._lowerBound, 0, 1);\n        this.positionHandlersAndUpdateTrack();\n    }\n\n    /**\n     * Returns the upper boundary of the `IgxSliderComponent`.\n     * ```typescript\n     *@ViewChild(\"slider\")\n     *public slider: IgxSliderComponent;\n     *ngAfterViewInit(){\n     *    let sliderUpBound = this.slider.upperBound;\n     *}\n     * ```\n     */\n    public get upperBound(): number {\n        if (!Number.isNaN(this._upperBound) && this._upperBound !== undefined) {\n            return this.valueInRange(this._upperBound, this.minValue, this.maxValue);\n        }\n\n        return this.maxValue;\n    }\n\n    /**\n     * Sets the upper boundary of the `IgxSliderComponent`.\n     * If not set is the same as max value.\n     * ```html\n     * <igx-slider [step]=\"5\" [upperBound]=\"20\">\n     * ```\n     */\n    @Input()\n    public set upperBound(value: number) {\n        if (value <= this.lowerBound || (this.labelsViewEnabled && value > this.labels.length - 1)) {\n            return;\n        }\n\n        this._upperBound = this.valueInRange(value, this.minValue, this.maxValue);\n        // Refresh time travel zone.\n        this._pMax = this.valueToFraction(this._upperBound, 0, 1);\n        this.positionHandlersAndUpdateTrack();\n    }\n\n    /**\n     * Returns the slider value. If the slider is of type {@link IgxSliderType.SLIDER} the returned value is number.\n     * If the slider type is {@link IgxSliderType.RANGE}.\n     * The returned value represents an object of {@link lowerValue} and {@link upperValue}.\n     *```typescript\n     *@ViewChild(\"slider2\")\n     *public slider: IgxSliderComponent;\n     *public sliderValue(event){\n     *    let sliderVal = this.slider.value;\n     *}\n     *```\n     */\n    public get value(): number | IRangeSliderValue {\n        if (this.isRange) {\n            return {\n                lower: this.valueInRange(this.lowerValue, this.lowerBound, this.upperBound),\n                upper: this.valueInRange(this.upperValue, this.lowerBound, this.upperBound)\n            };\n        } else {\n            return this.valueInRange(this.upperValue, this.lowerBound, this.upperBound);\n        }\n    }\n\n    /**\n     * Sets the slider value.\n     * If the slider is of type {@link IgxSliderType.SLIDER}.\n     * The argument is number. By default the {@link value} gets the {@link lowerBound}.\n     * If the slider type is {@link IgxSliderType.RANGE} the argument\n     * represents an object of {@link lowerValue} and {@link upperValue} properties.\n     * By default the object is associated with the {@link lowerBound} and {@link upperBound} property values.\n     * ```typescript\n     *rangeValue = {\n     *   lower: 30,\n     *   upper: 60\n     *};\n     * ```\n     * ```html\n     * <igx-slider [type]=\"sliderType\" [(ngModel)]=\"rangeValue\" [minValue]=\"56\" [maxValue]=\"256\">\n     * ```\n     */\n    @Input()\n    public set value(value: number | IRangeSliderValue) {\n        if (this._hasViewInit) {\n            this.setValue(value);\n            this.positionHandlersAndUpdateTrack();\n        } else {\n            this._value = value;\n        }\n    }\n\n    /**\n     * Returns the number of the presented primary ticks.\n     * ```typescript\n     * const primaryTicks = this.slider.primaryTicks;\n     * ```\n     */\n    @Input()\n    public get primaryTicks() {\n        if (this.labelsViewEnabled) {\n            return this._primaryTicks = this.labels.length;\n        }\n        return this._primaryTicks;\n    }\n\n    /**\n     * Sets the number of primary ticks. If {@link @labels} is enabled, this property won't function.\n     * Insted enable ticks by {@link showTicks} property.\n     * ```typescript\n     * this.slider.primaryTicks = 5;\n     * ```\n     */\n    public set primaryTicks(val: number) {\n        if (val <= 1) {\n            return;\n        }\n\n        this._primaryTicks = val;\n    }\n\n    /**\n     * Returns the number of the presented secondary ticks.\n     * ```typescript\n     * const secondaryTicks = this.slider.secondaryTicks;\n     * ```\n     */\n    @Input()\n    public get secondaryTicks() {\n        return this._secondaryTicks;\n    }\n\n    /**\n     * Sets the number of secondary ticks. The property functions even when {@link labels} is enabled,\n     * but all secondary ticks won't present any tick labels.\n     * ```typescript\n     * this.slider.secondaryTicks = 5;\n     * ```\n     */\n    public set secondaryTicks(val: number) {\n        if (val < 1 ) {\n            return;\n        }\n\n        this._secondaryTicks = val;\n    }\n\n    /**\n     * Show/hide slider ticks\n     * ```html\n     * <igx-slier [showTicks]=\"true\" [primaryTicks]=\"5\"></igx-slier>\n     * ```\n     */\n    @Input()\n    public showTicks = false;\n\n    /**\n     * show/hide primary tick labels\n     * ```html\n     * <igx-slider [primaryTicks]=\"5\" [primaryTickLabels]=\"false\"></igx-slider>\n     * ```\n     */\n    @Input()\n    public primaryTickLabels = true;\n\n    /**\n     * show/hide secondary tick labels\n     * ```html\n     * <igx-slider [secondaryTicks]=\"5\" [secondaryTickLabels]=\"false\"></igx-slider>\n     * ```\n     */\n    @Input()\n    public secondaryTickLabels = true;\n\n    /**\n     * Changes ticks orientation:\n     * bottom - The default orienation, below the slider track.\n     * top - Above the slider track\n     * mirror - combines top and bottom orientation.\n     * ```html\n     * <igx-slider [primaryTicks]=\"5\" [ticksOrientation]=\"ticksOrientation\"></igx-slider>\n     * ```\n     */\n    @Input()\n    public ticksOrientation: TicksOrientation = TicksOrientation.Bottom;\n\n    /**\n     * Changes tick labels rotation:\n     * horizontal - The default rotation\n     * toptobottom - Rotates tick labels vertically to 90deg\n     * bottomtotop - Rotate tick labels vertically to -90deg\n     * ```html\n     * <igx-slider [primaryTicks]=\"5\" [secondaryTicks]=\"3\" [tickLabelsOrientation]=\"tickLabelsOrientaiton\"></igx-slider>\n     * ```\n     */\n    @Input()\n    public tickLabelsOrientation = TickLabelsOrientation.Horizontal;\n\n    /**\n     * @hidden\n     */\n    public get deactivateThumbLabel() {\n        return ((this.primaryTicks && this.primaryTickLabels) || (this.secondaryTicks && this.secondaryTickLabels)) &&\n            (this.ticksOrientation === TicksOrientation.Top || this.ticksOrientation === TicksOrientation.Mirror);\n    }\n\n    /**\n     * This event is emitted every time the value is changed.\n     * ```typescript\n     * public change(event){\n     *    alert(\"The value has been changed!\");\n     *}\n     * ```\n     * ```html\n     * <igx-slider (onValueChange)=\"change($event)\" #slider [(ngModel)]=\"task.percentCompleted\" [step]=\"5\">\n     * ```\n     */\n    @Output()\n    public onValueChange = new EventEmitter<ISliderValueChangeEventArgs>();\n\n    /**\n     * This event is emitted at the end of every slide interaction.\n     * ```typescript\n     * public change(event){\n     *    alert(\"The value has been changed!\");\n     *}\n     * ```\n     * ```html\n     * <igx-slider (onValueChanged)=\"change($event)\" #slider [(ngModel)]=\"task.percentCompleted\" [step]=\"5\">\n     * ```\n     */\n    @Output()\n    public onValueChanged = new EventEmitter<number | IRangeSliderValue>();\n\n\n    constructor(\n        private renderer: Renderer2,\n        private _el: ElementRef,\n        private _cdr: ChangeDetectorRef,\n        private _ngZone: NgZone) { }\n\n    /**\n     * @hidden\n     */\n    @HostListener('pointerdown', ['$event'])\n    public onPointerDown($event: PointerEvent) {\n        this.findClosestThumb($event);\n\n        if (!this.thumbTo.isActive && this.thumbFrom === undefined) {\n            return;\n        }\n\n        const activeThumb = this.thumbTo.isActive ? this.thumbTo : this.thumbFrom;\n        activeThumb.nativeElement.setPointerCapture($event.pointerId);\n        this.showSliderIndicators();\n\n        $event.preventDefault();\n    }\n\n\n    /**\n     * @hidden\n     */\n    @HostListener('pointerup', ['$event'])\n    public onPointerUp($event: PointerEvent) {\n        if (!this.thumbTo.isActive && this.thumbFrom === undefined) {\n            return;\n        }\n\n        const activeThumb = this.thumbTo.isActive ? this.thumbTo : this.thumbTo;\n        activeThumb.nativeElement.releasePointerCapture($event.pointerId);\n\n        this.hideSliderIndicators();\n        this.onValueChanged.emit(this.value);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('focus')\n    public onFocus() {\n        this.toggleSliderIndicators();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('pan', ['$event'])\n    public onPanListener($event) {\n        this.update($event.srcEvent.clientX);\n    }\n\n    /**\n     *Returns whether the `IgxSliderComponent` type is RANGE.\n     *```typescript\n     *@ViewChild(\"slider\")\n     *public slider: IgxSliderComponent;\n     *ngAfterViewInit(){\n     *    let sliderRange = this.slider.isRange;\n     *}\n     * ```\n     */\n    public get isRange(): boolean {\n        return this.type === IgxSliderType.RANGE;\n    }\n\n    /**\n     * Returns the lower value of the `IgxSliderComponent`.\n     * ```typescript\n     * @ViewChild(\"slider\")\n     * public slider: IgxSliderComponent;\n     * public lowValue(event){\n     *    let sliderLowValue = this.slider.lowerValue;\n     *}\n     *```\n     */\n    public get lowerValue(): number {\n        if (!Number.isNaN(this._lowerValue) && this._lowerValue !== undefined && this._lowerValue >= this.lowerBound) {\n            return this._lowerValue;\n        }\n\n        return this.lowerBound;\n    }\n\n    /**\n     *Sets the lower value of the `IgxSliderComponent`.\n     *```typescript\n     *@ViewChild(\"slider2\")\n     *public slider: IgxSliderComponent;\n     *public lowValue(event){\n     *    this.slider.lowerValue = 120;\n     *}\n     *```\n     */\n    public set lowerValue(value: number) {\n        value = this.valueInRange(value, this.lowerBound, this.upperBound);\n        this._lowerValue = value;\n\n    }\n\n    /**\n     *Returns the upper value of the `IgxSliderComponent`.\n     *```typescript\n     *@ViewChild(\"slider2\")\n     *public slider: IgxSliderComponent;\n     *public upperValue(event){\n     *    let upperValue = this.slider.upperValue;\n     *}\n     *```\n     */\n    public get upperValue() {\n        if (!Number.isNaN(this._upperValue) && this._upperValue !== undefined && this._upperValue <= this.upperBound) {\n            return this._upperValue;\n        }\n\n        return this.upperBound;\n    }\n\n    /**\n     *Sets the upper value of the `IgxSliderComponent`.\n     *```typescript\n     *@ViewChild(\"slider2\")\n     *public slider: IgxSliderComponent;\n     *public upperValue(event){\n     *    this.slider.upperValue = 120;\n     *}\n     *```\n     */\n    public set upperValue(value: number) {\n        value = this.valueInRange(value, this.lowerBound, this.upperBound);\n        this._upperValue = value;\n    }\n\n    /**\n     * Returns the value corresponding the lower label.\n     *```typescript\n     * @ViewChild(\"slider\")\n     * public slider: IgxSliderComponent;\n     * let label = this.slider.lowerLabel;\n     *```\n     */\n    public get lowerLabel() {\n        return this.labelsViewEnabled ?\n            this.labels[this.lowerValue] :\n            this.lowerValue;\n    }\n\n    /**\n     * Returns the value corresponding the upper label.\n     *```typescript\n     * @ViewChild(\"slider\")\n     * public slider: IgxSliderComponent;\n     * let label = this.slider.upperLabel;\n     *```\n     */\n    public get upperLabel() {\n        return this.labelsViewEnabled ?\n            this.labels[this.upperValue] :\n            this.upperValue;\n    }\n\n    /**\n     * Returns if label view is enabled.\n     * If the {@link labels} is set, the view is automatically activated.\n     *```typescript\n     * @ViewChild(\"slider\")\n     * public slider: IgxSliderComponent;\n     * let labelView = this.slider.labelsViewEnabled;\n     *```\n     */\n    public get labelsViewEnabled(): boolean {\n        return !!(this.labels && this.labels.length > 1);\n    }\n\n    /**\n     * @hidden\n     */\n    public get showTopTicks() {\n        return this.ticksOrientation === TicksOrientation.Top ||\n            this.ticksOrientation === TicksOrientation.Mirror;\n    }\n\n    /**\n     * @hidden\n     */\n    public get showBottomTicks() {\n        return this.ticksOrientation === TicksOrientation.Bottom ||\n            this.ticksOrientation === TicksOrientation.Mirror;\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit() {\n        this.sliderSetup();\n\n        // Set track travel zone\n        this._pMin = this.valueToFraction(this.lowerBound) || 0;\n        this._pMax = this.valueToFraction(this.upperBound) || 1;\n    }\n\n    public ngOnChanges(changes) {\n        if (changes.minValue && changes.maxValue &&\n                changes.minValue.currentValue < changes.maxValue.currentValue) {\n            this._maxValue = changes.maxValue.currentValue;\n            this._minValue = changes.minValue.currentValue;\n        }\n    }\n\n    public ngAfterContentInit() {\n        this.setValue(this._value);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit() {\n        this._hasViewInit = true;\n        this.positionHandlersAndUpdateTrack();\n        this.setTickInterval();\n        this.changeThumbFocusableState(this.disabled);\n\n        this.subscribeTo(this.thumbFrom, this.thumbChanged.bind(this));\n        this.subscribeTo(this.thumbTo, this.thumbChanged.bind(this));\n\n        this.thumbs.changes.pipe(takeUntil(this._destroyer$)).subscribe(change => {\n            const thumbFrom = change.find((thumb: IgxSliderThumbComponent) => thumb.type === SliderHandle.FROM);\n            this.positionHandler(thumbFrom, null, this.lowerValue);\n            this.subscribeTo(thumbFrom, this.thumbChanged.bind(this));\n            this.changeThumbFocusableState(this.disabled);\n        });\n\n        this.labelRefs.changes.pipe(takeUntil(this._destroyer$)).subscribe(change => {\n            const labelFrom = this.labelRefs.find((label: IgxThumbLabelComponent) => label.type === SliderHandle.FROM);\n            this.positionHandler(null, labelFrom, this.lowerValue);\n        });\n\n        this._ngZone.runOutsideAngular(() => {\n            resizeObservable(this._el.nativeElement).pipe(\n                throttleTime(40),\n                takeUntil(this._destroyer$)).subscribe(() => this._ngZone.run( () => {\n                    this.stepDistance = this.calculateStepDistance();\n                }));\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy() {\n        this._destroyer$.next(true);\n        this._destroyer$.complete();\n\n        this._indicatorsDestroyer$.next(true);\n        this._indicatorsDestroyer$.complete();\n    }\n\n    /**\n     * @hidden\n     */\n    public writeValue(value: IRangeSliderValue | number): void {\n        if (!value) {\n            return;\n        }\n\n        this.normalizeByStep(value);\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnChange(fn: any): void {\n        this._onChangeCallback = fn;\n    }\n\n    /**\n     * @hidden\n     */\n    public registerOnTouched(fn: any): void {\n        this._onTouchedCallback = fn;\n    }\n\n    /** @hidden */\n     public getEditElement() {\n        return this.isRange ? this.thumbFrom.nativeElement : this.thumbTo.nativeElement;\n    }\n\n    /**\n     *\n     * @hidden\n     */\n    public update(mouseX) {\n        if (this.disabled) {\n            return;\n        }\n\n        // Update To/From Values\n        this.onPan.next(mouseX);\n\n        // Finally do positionHandlersAndUpdateTrack the DOM\n        // based on data values\n        this.positionHandlersAndUpdateTrack();\n        this._onTouchedCallback();\n    }\n\n    /**\n     * @hidden\n     */\n    public thumbChanged(value: number, thumbType: number) {\n        const oldValue = this.value;\n\n        let newVal: IRangeSliderValue;\n        if (this.isRange) {\n            if (thumbType === SliderHandle.FROM) {\n                newVal = {\n                    lower: (this.value as IRangeSliderValue).lower + value,\n                    upper: (this.value as IRangeSliderValue).upper\n                };\n            } else {\n                newVal = {\n                    lower: (this.value as IRangeSliderValue).lower,\n                    upper: (this.value as IRangeSliderValue).upper + value\n                };\n            }\n\n            // Swap the thumbs if a collision appears.\n            if (newVal.lower >= newVal.upper) {\n                this.value = this.swapThumb(newVal);\n            } else {\n                this.value = newVal;\n            }\n\n        } else {\n            this.value = this.value as number + value;\n        }\n\n        if (this.hasValueChanged(oldValue)) {\n            this.emitValueChanged(oldValue);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public onThumbChange() {\n        this.toggleSliderIndicators();\n    }\n\n    /**\n     * @hidden\n     */\n    public onHoverChange(state: boolean) {\n        return state ? this.showSliderIndicators() : this.hideSliderIndicators();\n    }\n\n\n\n    private swapThumb(value: IRangeSliderValue) {\n        if (this.thumbFrom.isActive) {\n            value.upper = this.upperValue;\n            value.lower = this.upperValue;\n        } else {\n            value.upper = this.lowerValue;\n            value.lower = this.lowerValue;\n        }\n\n        this.toggleThumb();\n        return value;\n    }\n\n    private findClosestThumb(event: PointerEvent) {\n        if (this.isRange) {\n            this.closestHandle(event);\n        } else {\n            this.thumbTo.nativeElement.focus();\n        }\n\n        this.update(event.clientX);\n    }\n\n    private updateLowerBoundAndMinTravelZone() {\n        this.lowerBound = this.minValue;\n        this._pMin = 0;\n    }\n\n    private updateUpperBoundAndMaxTravelZone() {\n        this.upperBound = this.maxValue;\n        this._pMax = 1;\n    }\n\n    private sliderSetup() {\n        /**\n         * if {@link SliderType.SLIDER} than the initial value shold be the lowest one.\n         */\n        if (!this.isRange && this._upperValue === undefined) {\n            this._upperValue = this.lowerBound;\n        }\n    }\n\n    private calculateStepDistance() {\n        return this._el.nativeElement.getBoundingClientRect().width / (this.maxValue - this.minValue) * this.step;\n    }\n\n    private toggleThumb() {\n        return this.thumbFrom.isActive ?\n            this.thumbTo.nativeElement.focus() :\n            this.thumbFrom.nativeElement.focus();\n    }\n\n    private valueInRange(value, min = 0, max = 100) {\n        return Math.max(Math.min(value, max), min);\n    }\n\n    private generateTickMarks(color: string, interval: number) {\n        return interval !== null ? `repeating-linear-gradient(\n            ${'to left'},\n            ${color},\n            ${color} 1.5px,\n            transparent 1.5px,\n            transparent ${interval}%\n        ), repeating-linear-gradient(\n            ${'to right'},\n            ${color},\n            ${color} 1.5px,\n            transparent 1.5px,\n            transparent ${interval}%\n        )` : interval;\n    }\n\n    private positionHandler(thumbHandle: ElementRef, labelHandle: ElementRef, position: number) {\n        const positionLeft = `${this.valueToFraction(position) * 100}%`;\n\n        if (thumbHandle) {\n            thumbHandle.nativeElement.style.left = positionLeft;\n        }\n\n        if (labelHandle) {\n            labelHandle.nativeElement.style.left = positionLeft;\n        }\n    }\n\n    private positionHandlersAndUpdateTrack() {\n        if (!this.isRange) {\n            this.positionHandler(this.thumbTo, this.labelTo, this.value as number);\n        } else {\n            this.positionHandler(this.thumbTo, this.labelTo, (this.value as IRangeSliderValue).upper);\n            this.positionHandler(this.thumbFrom, this.labelFrom, (this.value as IRangeSliderValue).lower);\n        }\n\n        if (this._hasViewInit) {\n            this.updateTrack();\n        }\n    }\n\n    private closestHandle(event: PointerEvent) {\n        const fromOffset = this.thumbFrom.nativeElement.offsetLeft + this.thumbFrom.nativeElement.offsetWidth / 2;\n        const toOffset = this.thumbTo.nativeElement.offsetLeft + this.thumbTo.nativeElement.offsetWidth / 2;\n        const xPointer = event.clientX - this._el.nativeElement.getBoundingClientRect().left;\n        const match = this.closestTo(xPointer, [fromOffset, toOffset]);\n\n        if (fromOffset === toOffset && toOffset < xPointer) {\n            this.thumbTo.nativeElement.focus();\n        } else if (fromOffset === toOffset && toOffset > xPointer ) {\n            this.thumbFrom.nativeElement.focus();\n        } else if (match === fromOffset) {\n            this.thumbFrom.nativeElement.focus();\n        } else {\n            this.thumbTo.nativeElement.focus();\n        }\n    }\n\n    private setTickInterval() {\n        let interval;\n        const trackProgress = 100;\n        if (this.labelsViewEnabled) {\n            // Calc ticks depending on the labels length;\n            interval = ((trackProgress / (this.labels.length - 1) * 10)) / 10;\n        } else {\n            const trackRange = this.maxValue - this.minValue;\n            interval = this.step > 1 ?\n                (trackProgress / ((trackRange / this.step)) * 10) / 10\n                : null;\n        }\n\n        const renderCallbackExecution = !this.continuous ? this.generateTickMarks('white', interval) : null;\n        this.renderer.setStyle(this.ticks.nativeElement, 'background', renderCallbackExecution);\n    }\n\n    private showSliderIndicators() {\n        if (this.disabled) {\n            return;\n        }\n\n        if (this._indicatorsTimer) {\n            this._indicatorsDestroyer$.next(true);\n            this._indicatorsTimer = null;\n        }\n\n        this.thumbTo.showThumbIndicators();\n        this.labelTo.active = true;\n        if (this.thumbFrom) {\n            this.thumbFrom.showThumbIndicators();\n        }\n\n        if (this.labelFrom) {\n            this.labelFrom.active = true;\n        }\n\n    }\n\n    private hideSliderIndicators() {\n        if (this.disabled) {\n            return;\n        }\n\n        this._indicatorsTimer = timer(this.thumbLabelVisibilityDuration);\n        this._indicatorsTimer.pipe(takeUntil(this._indicatorsDestroyer$)).subscribe(() => {\n            this.thumbTo.hideThumbIndicators();\n            this.labelTo.active = false;\n            if (this.thumbFrom) {\n                this.thumbFrom.hideThumbIndicators();\n            }\n\n            if (this.labelFrom) {\n                this.labelFrom.active = false;\n            }\n        });\n    }\n\n    private toggleSliderIndicators() {\n        this.showSliderIndicators();\n        this.hideSliderIndicators();\n    }\n\n    private changeThumbFocusableState(state: boolean) {\n        const value = state ? -1 : 1;\n\n        if (this.isRange) {\n            this.thumbFrom.tabindex = value;\n        }\n\n        this.thumbTo.tabindex = value;\n\n        this._cdr.detectChanges();\n    }\n\n    private closestTo(goal: number, positions: number[]): number {\n        return positions.reduce((previous, current) => {\n            return (Math.abs(goal - current) < Math.abs(goal - previous) ? current : previous);\n        });\n    }\n\n    private valueToFraction(value: number, pMin = this._pMin, pMax = this._pMax) {\n        return this.valueInRange((value - this.minValue) / (this.maxValue - this.minValue), pMin, pMax);\n    }\n\n    /**\n     * @hidden\n     * Normaliz the value when two-way data bind is used and {@link this.step} is set.\n     * @param value\n     */\n    private normalizeByStep(value: IRangeSliderValue | number) {\n        if (this.isRange) {\n            this.value =  {\n                lower: (value as IRangeSliderValue).lower - ((value as IRangeSliderValue).lower % this.step),\n                upper: (value as IRangeSliderValue).upper - ((value as IRangeSliderValue).upper % this.step)\n            };\n        } else {\n            this.value = (value as number) - ((value as number) % this.step);\n        }\n    }\n\n    private updateTrack() {\n        const fromPosition = this.valueToFraction(this.lowerValue);\n        const toPosition = this.valueToFraction(this.upperValue);\n        const positionGap = toPosition - fromPosition;\n\n        let trackLeftIndention = fromPosition;\n        if (this.isRange) {\n            if (positionGap) {\n                trackLeftIndention = Math.round((1 / positionGap * fromPosition) * 100);\n            }\n\n            this.renderer.setStyle(this.trackRef.nativeElement, 'transform', `scaleX(${positionGap}) translateX(${trackLeftIndention}%)`);\n        } else {\n            this.renderer.setStyle(this.trackRef.nativeElement, 'transform', `scaleX(${toPosition})`);\n        }\n    }\n\n    private validateInitialValue(value: IRangeSliderValue) {\n        if (value.lower < this.lowerBound && value.upper < this.lowerBound) {\n            value.upper = this.lowerBound;\n            value.lower = this.lowerBound;\n        }\n\n        if (value.lower > this.upperBound && value.upper > this.upperBound) {\n            value.upper = this.upperBound;\n            value.lower = this.upperBound;\n        }\n\n        if (value.upper < value.lower) {\n            value.upper = this.upperValue;\n            value.lower = this.lowerValue;\n        }\n\n        return value;\n    }\n\n    private subscribeTo(thumb: IgxSliderThumbComponent, callback: (a: number, b: number) => void) {\n        if (!thumb) {\n            return;\n        }\n\n        thumb.onThumbValueChange\n            .pipe(takeUntil(this.unsubscriber(thumb)))\n            .subscribe(value => callback(value, thumb.type));\n    }\n\n    private unsubscriber(thumb: IgxSliderThumbComponent) {\n        return merge(this._destroyer$, thumb.destroy);\n    }\n\n    private hasValueChanged(oldValue) {\n        const isSliderWithDifferentValue: boolean = !this.isRange && oldValue !== this.value;\n        const isRangeWithOneDifferentValue: boolean = this.isRange &&\n            ((oldValue as IRangeSliderValue).lower !== (this.value as IRangeSliderValue).lower ||\n                (oldValue as IRangeSliderValue).upper !== (this.value as IRangeSliderValue).upper);\n\n        return isSliderWithDifferentValue || isRangeWithOneDifferentValue;\n    }\n\n    public setValue(value: number | IRangeSliderValue) {\n        if (!this.isRange) {\n            this.upperValue = value as number - (value as number % this.step);\n        } else {\n            value = this.validateInitialValue(value as IRangeSliderValue);\n            this.upperValue = (value as IRangeSliderValue).upper;\n            this.lowerValue = (value as IRangeSliderValue).lower;\n        }\n\n        this._onChangeCallback(this.value);\n    }\n\n    private emitValueChanged(oldValue: number | IRangeSliderValue) {\n        this.onValueChange.emit({ oldValue, value: this.value });\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxSliderComponent,\n        IgxThumbFromTemplateDirective,\n        IgxThumbToTemplateDirective,\n        IgxTickLabelTemplateDirective,\n        IgxSliderThumbComponent,\n        IgxThumbLabelComponent,\n        IgxTicksComponent,\n        IgxTickLabelsPipe],\n    exports: [\n        IgxSliderComponent,\n        IgxThumbFromTemplateDirective,\n        IgxThumbToTemplateDirective,\n        IgxTickLabelTemplateDirective,\n        IgxSliderThumbComponent,\n        IgxThumbLabelComponent,\n        IgxTicksComponent],\n    imports: [CommonModule, FormsModule]\n})\nexport class IgxSliderModule {\n}\n","import {\n    AnimationEvent,\n    transition,\n    trigger,\n    useAnimation\n} from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport {\n    Component,\n    EventEmitter,\n    HostBinding,\n    Input,\n    NgModule,\n    NgZone,\n    Output\n} from '@angular/core';\nimport { fadeIn, fadeOut, slideInBottom, slideOutBottom } from '../animations/main';\n\nlet NEXT_ID = 0;\n/**\n * **Ignite UI for Angular Snackbar** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/snackbar.html)\n *\n * The Ignite UI Snack Bar provides feedback about an operation with a single-line message, which can\n * include a link to an action such as Undo.\n *\n * Example:\n * ```html\n * <button (click)=\"snackbar.show()\">Send message</button>\n * <div>\n *   <igx-snackbar #snackbar message=\"Message sent\">\n *   </igx-snackbar>\n * </div>\n * ```\n */\n@Component({\n    animations: [\n        trigger('slideInOut', [\n            transition('void => *', [\n                useAnimation(slideInBottom, {\n                    params: {\n                        duration: '.35s',\n                        easing: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n                        fromPosition: 'translateY(100%)',\n                        toPosition: 'translateY(0)'\n                    }\n                })\n            ]),\n            transition('* => void', [\n                useAnimation(slideOutBottom, {\n                    params: {\n                        duration: '.2s',\n                        easing: 'cubic-bezier(0.4, 0.0, 1, 1)',\n                        fromPosition: 'translateY(0)',\n                        toOpacity: 1,\n                        toPosition: 'translateY(100%)'\n                    }\n                })\n            ])\n        ]),\n        trigger('fadeInOut', [\n            transition('void => *', [\n                useAnimation(fadeIn, {\n                    params: {\n                        duration: '.35s',\n                        easing: 'ease-out'\n                    }\n                })\n            ]),\n            transition('* => void', [\n                useAnimation(fadeOut, {\n                    params: {\n                        duration: '.2s',\n                        easing: 'ease-out'\n                    }\n                })\n            ])\n        ])\n    ],\n    selector: 'igx-snackbar',\n    templateUrl: 'snackbar.component.html',\n    styles: [`\n        :host {\n            display: block;\n        }\n    `]\n})\nexport class IgxSnackbarComponent {\n\n    /**\n     * Sets/gets the `id` of the snackbar.\n     * If not set, the `id` of the first snackbar component  will be `\"igx-snackbar-0\"`;\n     * ```html\n     * <igx-snackbar id = \"Snackbar1\"></igx-snackbar>\n     * ```\n     * ```typescript\n     * let snackbarId = this.snackbar.id;\n     * ```\n     * @memberof IgxSnackbarComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-snackbar-${NEXT_ID++}`;\n    /**\n     * Sets/gets the `message` attribute.\n     * ```html\n     * <igx-snackbar [message] = \"'Snackbar Component'\"></igx-snackbar>\n     * ```\n     * ```typescript\n     * let message =  this.snackbar.message;\n     * ```\n     */\n    @Input() public message: string;\n\n    /**\n     * Enables/Disables the visibility of the snackbar.\n     * If not set, the `isVisible` attribute will have value `false`.\n     * ```html\n     * <igx-snackbar [isVisible] = \"true\"></igx-snackbar>\n     * ```\n     * ```typescript\n     * let isVisible =  this.snackbar.isVisible;\n     * ```\n     */\n    @Input() public isVisible = false;\n\n    /**\n     * Sets/gets if the snackbar will be automatically hidden after the `displayTime` is over.\n     * Default value is `true`.\n     * ```html\n     * <igx-snackbar [autoHide] = \"false\"></igx-snackbar>\n     * ```\n     * ```typescript\n     * let autoHide =  this.snackbar.autoHide;\n     * ```\n     */\n    @Input() public autoHide = true;\n\n    /**\n     * Sets/gets the duration of time(in milliseconds) in which the snackbar will be visible after it is being shown.\n     * Default value is 4000.\n     * ```html\n     * <igx-snackbar [displayTime] = \"2000\"></igx-snackbar>\n     * ```\n     * ```typescript\n     * let displayTime = this.snackbar.displayTime;\n     * ```\n     */\n    @Input() public displayTime = 4000;\n\n    /**\n     * Sets/gets the `actionText` attribute.\n     * ```html\n     * <igx-snackbar [actionText] = \"'Action Text'\"></igx-snackbar>\n     * ```\n     */\n    @Input() public actionText?: string;\n\n    /**\n     * An event that will be emitted when the action is executed.\n     * Provides reference to the `IgxSnackbarComponent` as an argument.\n     * ```html\n     * <igx-snackbar (onAction) = \"onAction($event)\"></igx-snackbar>\n     * ```\n     */\n    @Output() public onAction = new EventEmitter<IgxSnackbarComponent>();\n\n    /**\n     * An event that will be emitted when the snackbar animation starts.\n     * Provides reference to the `AnimationEvent` interface as an argument.\n     * ```html\n     * <igx-snackbar (animationStarted) = \"animationStarted($event)\"></igx-snackbar>\n     * ```\n     */\n    @Output() public animationStarted = new EventEmitter<AnimationEvent>();\n\n    /**\n     * An event that will be emitted when the snackbar animation ends.\n     * Provides reference to the `AnimationEvent` interface as an argument.\n     * ```html\n     * <igx-snackbar (animationDone) = \"animationDone($event)\"></igx-snackbar>\n     * ```\n     */\n    @Output() public animationDone = new EventEmitter<AnimationEvent>();\n    /**\n     *@hidden\n     */\n    private timeoutId;\n\n    constructor(private zone: NgZone) { }\n\n    /**\n     * Shows the snackbar and hides it after the `displayTime` is over if `autoHide` is set to `true`.\n     * ```typescript\n     * this.snackbar.show();\n     * ```\n     */\n    public show(): void {\n        clearTimeout(this.timeoutId);\n        setTimeout(this.timeoutId);\n        this.isVisible = true;\n\n        if (this.autoHide) {\n            this.timeoutId = setTimeout(() => {\n                this.hide();\n            }, this.displayTime);\n        }\n    }\n\n    /**\n     * Hides the snackbar.\n     * ```typescript\n     * this.snackbar.hide();\n     * ```\n     */\n    public hide(): void {\n        this.isVisible = false;\n        clearTimeout(this.timeoutId);\n    }\n    /**\n     *@hidden\n     */\n    public triggerAction(): void {\n        this.onAction.emit(this);\n    }\n    /**\n     *@hidden\n     * @memberof IgxSnackbarComponent\n     */\n    public snackbarAnimationStarted(evt: AnimationEvent): void {\n        if (evt.fromState === 'void') {\n            this.animationStarted.emit(evt);\n        }\n    }\n    /**\n     *@hidden\n     * @memberof IgxSnackbarComponent\n     */\n    public snackbarAnimationDone(evt: AnimationEvent): void {\n        if (evt.fromState === 'show') {\n            this.animationDone.emit(evt);\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxSnackbarComponent],\n    exports: [IgxSnackbarComponent],\n    imports: [CommonModule]\n})\nexport class IgxSnackbarModule { }\n","import {\n    Component,\n    Directive,\n    EventEmitter,\n    forwardRef,\n    HostBinding,\n    Input,\n    NgModule,\n    Output,\n    Provider,\n    ViewChild,\n    ElementRef\n} from '@angular/core';\nimport { CheckboxRequiredValidator, ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { isIE, IBaseEventArgs } from '../core/utils';\nimport { EditorProvider } from '../core/edit-provider';\n\nexport enum SwitchLabelPosition {\n    BEFORE = 'before',\n    AFTER = 'after'\n}\n\nexport interface IChangeSwitchEventArgs extends IBaseEventArgs {\n    checked: boolean;\n    switch: IgxSwitchComponent;\n}\n\nconst noop = () => { };\nlet nextId = 0;\n/**\n *\n * The Switch component is a binary choice selection component.\n *\n * @igxModule IgxSwitchModule\n *\n * @igxTheme igx-switch-theme, igx-tooltip-theme\n *\n * @igxKeywords switch, states, tooltip\n *\n * @igxGroup Data Entry & Display\n *\n * @remarks\n *\n * The Ignite UI Switch lets the user toggle between on/off or true/false states.\n *\n * @example\n * ```html\n * <igx-switch [checked]=\"true\">\n *   Simple switch\n * </igx-switch>\n * ```\n */\n@Component({\n    providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: IgxSwitchComponent, multi: true }],\n    selector: 'igx-switch',\n    templateUrl: 'switch.component.html'\n})\nexport class IgxSwitchComponent implements ControlValueAccessor, EditorProvider {\n    /**\n     * @hidden\n     * @internal\n     */\n    protected _value: any;\n    /**\n     * Returns a reference to the native checkbox element.\n     *\n     * @example\n     * ```typescript\n     * let checkboxElement =  this.switch.nativeCheckbox;\n     * ```\n     */\n    @ViewChild('checkbox', { static: true }) public nativeCheckbox: ElementRef;\n    /**\n     * Returns reference to the native label element.\n     *\n     * @example\n     * ```typescript\n     * let labelElement =  this.switch.nativeLabel;\n     * ```\n     */\n    @ViewChild('label', { static: true }) public nativeLabel;\n    /**\n     * Returns reference to the label placeholder element.\n     *\n     * @example\n     * ```typescript\n     * let labelPlaceholder = this.switch.placeholderLabel;\n     * ```\n     */\n    @ViewChild('placeholderLabel', { static: true }) public placeholderLabel;\n\n    /**\n     * Sets/gets the `id` of the switch component.\n     * If not set, the `id` of the first switch component will be `\"igx-switch-0\"`.\n     *\n     * @example\n     * ```html\n     * <igx-switch id=\"my-first-switch\"></igx-switch>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input() public id = `igx-switch-${nextId++}`;\n    /**\n     * Sets/gets the id of the `label` element of the switch component.\n     * If not set, the label of the first switch component will have value `\"igx-switch-0-label\"`.\n     *\n     * @example\n     * ```html\n     * <igx-switch labelId=\"Label1\"></igx-switch>\n     * ```\n     */\n    @Input() public labelId = `${this.id}-label`;\n    /**\n     * Sets/gets the `value` attribute of the switch component.\n     *\n     * @example\n     * ```html\n     * <igx-switch [value]=\"switchValue\"></igx-switch>\n     * ```\n     */\n    @Input() public value: any;\n    /**\n     * Sets/gets the `name` attribute of the switch component.\n     *\n     * @example\n     * ```html\n     * <igx-switch name=\"Switch1\"></igx-switch>\n     * ```\n     */\n    @Input() public name: string;\n    /**\n     * Sets/gets the value of the `tabindex` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-switch [tabindex]=\"1\"></igx-switch>\n     * ```\n     */\n    @Input() public tabindex: number = null;\n    /**\n     * Sets/gets the position of the `label` in the switch component.\n     * If not set, `labelPosition` will have value `\"after\"`.\n     *\n     * @example\n     * ```html\n     * <igx-switch labelPosition=\"before\"></igx-switch>\n     * ```\n     */\n    @Input() public labelPosition: SwitchLabelPosition | string = 'after';\n    /**\n     * Enables/Disables the ripple effect\n     * If not set, `disableRipple` will have value `false`.\n     *\n     * @example\n     * ```html\n     * <igx-switch [disableRipple]=\"true\"></igx-switch>\n     * ```\n     */\n    @Input() public disableRipple = false;\n    /**\n     * Sets/gets whether switch is required.\n     * If not set, `required` will have value `false`.\n     *\n     * @example\n     * ```html\n     * <igx-switch [required]=\"true\"></igx-switch>\n     * ```\n     */\n    @Input() public required = false;\n    /**\n     * Sets/gets the `aria-labelledBy` attribute.\n     * If not set, the  value of `aria-labelledBy` will be equal to the value of `labelId` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-switch aria-labelledby = \"Label1\"></igx-switch>\n     * ```\n     */\n    @Input('aria-labelledby')\n    public ariaLabelledBy = this.labelId;\n    /**\n     * Sets/gets the value of the `aria-label` attribute.\n     *\n     * @example\n     * ```html\n     * <igx-switch aria-label=\"Label1\"></igx-switch>\n     * ```\n     */\n    @Input('aria-label')\n    public ariaLabel: string | null = null;\n    /**\n     * An event that is emitted after the switch state is changed.\n     * Provides references to the `IgxSwitchComponent` and the `checked` property as event arguments.\n     */\n    @Output()\n    readonly change: EventEmitter<IChangeSwitchEventArgs> = new EventEmitter<IChangeSwitchEventArgs>();\n    /**\n     * @hidden\n     * @internal\n     */\n    private _onTouchedCallback: () => void = noop;\n    /**\n     * @hidden\n     * @internal\n     */\n    private _onChangeCallback: (_: any) => void = noop;\n    /**\n     * Returns the class of the switch component.\n     *\n     * @example\n     * ```typescript\n     * let switchClass = this.switch.cssClass;\n     * ```\n     */\n    @HostBinding('class.igx-switch')\n    public cssClass = 'igx-switch';\n    /**\n     * Sets/gets whether the switch is on or off.\n     * Default value is 'false'.\n     *\n     * @example\n     * ```html\n     *  <igx-switch [checked]=\"true\"></igx-switch>\n     * ```\n     */\n    @HostBinding('class.igx-switch--checked')\n    @Input() public checked = false;\n    /**\n     * Sets/gets the `disabled` attribute.\n     * Default value is `false`.\n     *\n     * @example\n     * ```html\n     * <igx-switch [disabled]=\"true\"><igx-switch>\n     * ```\n     */\n    @HostBinding('class.igx-switch--disabled')\n    @Input() public disabled = false;\n    /**\n     * Sets/gets whether the switch component is on focus.\n     * Default value is `false`.\n     *\n     * @example\n     * ```typescript\n     * this.switch.focused = true;\n     * ```\n     */\n    @HostBinding('class.igx-switch--focused')\n    public focused = false;\n    /**\n     * @hidden\n     * @internal\n     */\n    public inputId = `${this.id}-input`;\n    /**\n     * Toggles the checked state of the switch.\n     *\n     * @example\n     * ```typescript\n     * this.switch.toggle();\n     * ```\n     */\n    public toggle() {\n        if (this.disabled) {\n            return;\n        }\n\n        this.checked = !this.checked;\n        this.focused = false;\n        this.change.emit({ checked: this.checked, switch: this });\n        this._onChangeCallback(this.checked);\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public _onSwitchChange(event) {\n        event.stopPropagation();\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public _onSwitchClick(event) {\n        event.stopPropagation();\n        this.toggle();\n\n        if (isIE()) {\n            this.nativeCheckbox.nativeElement.blur();\n        }\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public _onLabelClick(event) {\n        this.toggle();\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public onFocus(event) {\n        this.focused = true;\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public onBlur(event) {\n        this.focused = false;\n        this._onTouchedCallback();\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public writeValue(value) {\n        this._value = value;\n        this.checked = !!this._value;\n    }\n    /**\n     * @hidden\n     * @internal\n     * */\n    public getEditElement() {\n        return this.nativeCheckbox.nativeElement;\n    }\n\n    /**\n     * @hidden\n     * @internal\n     */\n    public get labelClass(): string {\n        switch (this.labelPosition) {\n            case SwitchLabelPosition.BEFORE:\n                return `${this.cssClass}__label--before`;\n            case SwitchLabelPosition.AFTER:\n            default:\n                return `${this.cssClass}__label`;\n        }\n    }\n    /**\n     * @hidden\n     * @internal\n     */\n    public registerOnChange(fn: (_: any) => void) { this._onChangeCallback = fn; }\n    /**\n     * @hidden\n     * @internal\n     */\n    public registerOnTouched(fn: () => void) { this._onTouchedCallback = fn; }\n}\n\nexport const IGX_SWITCH_REQUIRED_VALIDATOR: Provider = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef(() => IgxSwitchRequiredDirective),\n    multi: true\n};\n\n/* tslint:disable directive-selector */\n@Directive({\n    selector: `igx-switch[required][formControlName],\n    igx-switch[required][formControl],\n    igx-switch[required][ngModel]`,\n    providers: [IGX_SWITCH_REQUIRED_VALIDATOR]\n})\nexport class IgxSwitchRequiredDirective extends CheckboxRequiredValidator { }\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxSwitchComponent, IgxSwitchRequiredDirective],\n    exports: [IgxSwitchComponent, IgxSwitchRequiredDirective],\n    imports: [IgxRippleModule]\n})\nexport class IgxSwitchModule { }\n","import { CommonModule } from '@angular/common';\nimport {\n    AfterContentInit,\n    AfterViewChecked,\n    AfterViewInit,\n    Component,\n    ContentChild,\n    ContentChildren,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Input,\n    NgModule,\n    Output,\n    QueryList,\n    TemplateRef,\n    ViewChild,\n    ViewChildren\n} from '@angular/core';\nimport { IgxBadgeModule } from '../badge/badge.component';\nimport { IgxIconModule } from '../icon/index';\nimport { IBaseEventArgs } from '../core/utils';\n\nexport interface ISelectTabEventArgs extends IBaseEventArgs {\n    tab: IgxTabComponent;\n    panel: IgxTabPanelComponent;\n}\n\nlet NEXT_ID = 0;\n\n@Directive({\n    selector: '[igxTab]'\n})\nexport class IgxTabTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) {\n    }\n}\n/**\n * **Ignite UI for Angular Tab Bar** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/tabbar.html)\n *\n * The Ignite UI Tab Bar enables the user to navigate among a number of content panels displayed in a single view.\n *\n * Example:\n * ```html\n * <igx-bottom-nav>\n *   <igx-tab-panel label=\"Tab 1\">Tab 1 Content</igx-tab-panel>\n *   <igx-tab-panel label=\"Tab 2\">Tab 2 Content</igx-tab-panel>\n *   <igx-tab-panel label=\"Tab 3\">Tab 3 Content</igx-tab-panel>\n * </igx-bottom-nav>\n * ```\n */\n@Component({\n    selector: 'igx-bottom-nav',\n    templateUrl: 'tab-bar-content.component.html',\n    styles: [`\n        :host {\n            display: block;\n        }\n    `]\n})\nexport class IgxBottomNavComponent implements AfterViewInit {\n\n    /**\n     * Gets the `IgxTabComponent` elements in the tab bar component created based on the provided panels.\n     * ```typescript\n     * let tabs: QueryList<IgxTabComponent> =  this.tabBar.viewTabs;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    @ViewChildren(forwardRef(() => IgxTabComponent))\n    public viewTabs: QueryList<IgxTabComponent>;\n\n    /**\n     * Gets the `IgxTabComponent` elements in the tab bar component defined as content child.\n     * ```typescript\n     * let tabs: QueryList<IgxTabComponent> =  this.tabBar.contentTabs;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    @ContentChildren(forwardRef(() => IgxTabComponent))\n    public contentTabs: QueryList<IgxTabComponent>;\n\n    /**\n     * Gets the `IgxTabComponent` elements for this bottom navigation component.\n     * First try to get them as content children if not available get them as view children.\n     * ```typescript\n     * let tabs: QueryList<IgxTabComponent> =  this.tabBar.tabs;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    public get tabs(): QueryList<IgxTabComponent> {\n        return this.hasContentTabs ? this.contentTabs : this.viewTabs;\n    }\n\n    /**\n     * Gets the `IgxTabPanelComponent` elements in the tab bar component.\n     * ```typescript\n     * let tabPanels: QueryList<IgxTabPanelComponent> = this.tabBar.panels;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    @ContentChildren(forwardRef(() => IgxTabPanelComponent))\n    public panels: QueryList<IgxTabPanelComponent>;\n\n    /**\n     * Sets/gets the `id` of the tab bar.\n     * If not set, the `id` of the first tab bar component will be `\"igx-bottom-nav-0\"`.\n     * ```html\n     * <igx-bottom-nav id = \"my-first-tab-bar\"></igx-bottom-nav>\n     * ```\n     * ```typescript\n     * let tabBarId =  this.tabBar.id;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-bottom-nav-${NEXT_ID++}`;\n\n    /**\n     * Emits an event when a new tab is selected.\n     * Provides references to the `IgxTabComponent` and `IgxTabPanelComponent` as event arguments.\n     * ```html\n     * <igx-bottom-nav (onTableSelected) = \"onTabSelected($event)\"><igx-bottom-nav>\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    @Output() public onTabSelected = new EventEmitter<ISelectTabEventArgs>();\n\n    /**\n     * Emits an event when a tab is deselected.\n     * Provides references to the `IgxTabComponent` and `IgxTabPanelComponent` as event arguments.\n     * ```html\n     * <igx-bottom-nav (onTabDeselected) = \"onTabDeselected($event)\"><igx-bottom-nav>\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    @Output() public onTabDeselected = new EventEmitter<ISelectTabEventArgs>();\n\n    /**\n     * Gets the `index` of selected tab/panel in the respective collection.\n     * ```typescript\n     * let index =  this.tabBar.selectedIndex;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    public selectedIndex = -1;\n\n    /**\n     * Gets the `itemStyle` of the tab bar.\n     * ```typescript\n     * let itemStyle =  this.tabBar.itemStyle;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    public get itemStyle(): string {\n        return this._itemStyle;\n    }\n\n    /**\n     *@hidden\n     */\n    public get hasContentTabs(): boolean {\n        return (this.contentTabs && this.contentTabs.length > 0);\n    }\n\n    /**\n     *@hidden\n     */\n    private _itemStyle = 'igx-bottom-nav';\n\n    /**\n     * Gets the selected tab in the tab bar.\n     * ```typescript\n     * let tab =  this.tabBar.selectedTab;\n     * ```\n     * @memberof IgxBottomNavComponent\n     */\n    get selectedTab(): IgxTabComponent {\n        if (this.tabs && this.selectedIndex !== undefined) {\n            return this.tabs.toArray()[this.selectedIndex];\n        }\n    }\n\n    constructor(private _element: ElementRef) {\n    }\n\n    /**\n     *@hidden\n     */\n    public ngAfterViewInit() {\n        // initial selection\n        setTimeout(() => {\n            if (this.selectedIndex === -1) {\n                const selectablePanels = this.panels.filter((p) => !p.disabled);\n                const panel = selectablePanels[0];\n                if (panel) {\n                    panel.select();\n                }\n            }\n        }, 0);\n    }\n\n    /**\n     *@hidden\n     */\n    @HostListener('onTabSelected', ['$event'])\n    public _selectedPanelHandler(args) {\n        if (this.hasContentTabs) {\n            this.selectedIndex = args.tab.index;\n            this.contentTabs.forEach((t) => {\n                if (t !== args.tab) {\n                    this._deselectTab(t);\n                }\n            });\n        } else {\n            if (args.panel) {\n                this.selectedIndex = args.panel.index;\n                this.panels.forEach((p) => {\n                    if (p.index !== this.selectedIndex) {\n                        this._deselectPanel(p);\n                    }\n                });\n            }\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    private _deselectPanel(panel: IgxTabPanelComponent) {\n        // Cannot deselect the selected tab - this will mean that there will be not selected tab left\n        if (panel.disabled || this.selectedTab.index === panel.index) {\n            return;\n        }\n\n        panel.isSelected = false;\n        this.onTabDeselected.emit({ tab: this.tabs[panel.index], panel });\n    }\n\n    private _deselectTab(aTab: IgxTabComponent) {\n        aTab.isSelected = false;\n        this.onTabDeselected.emit({ tab: aTab, panel: null });\n    }\n}\n\n// ================================= IgxTabPanelComponent ======================================\n\n@Component({\n    selector: 'igx-tab-panel',\n    templateUrl: 'tab-panel.component.html'\n})\nexport class IgxTabPanelComponent implements AfterContentInit, AfterViewChecked {\n\n    /**\n     *@hidden\n     */\n    private _itemStyle = 'igx-tab-panel';\n\n    /**\n     *@hidden\n     */\n    private _isSelected = false;\n\n    /**\n     * Sets/gets the `label` of the tab panel.\n     * ```html\n     * <igx-tab-panel [label] = \"'Tab panel label'\"><igx-tab-panel>\n     * ```\n     * ```typescript\n     * let tabPanelLabel = this.tabPanel.label;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    @Input() public label: string;\n\n    /**\n     * Sets/gets  the `icon` of the tab panel.\n     * ```html\n     * <igx-tab-panel [icon] = \"panel_icon\"><igx-tab-panel>\n     * ```\n     * ```typescript\n     * let tabPanelIcon =  this.tabPanel.icon;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    @Input() public icon: string;\n\n    /**\n     * Sets/gets whether the tab panel is disabled.\n     * ```html\n     * <igx-tab-panel [disabled] = \"true\"><igx-tab-panel>\n     * ```\n     * ```typescript\n     * let isDisabled = this.tabPanel.disabled;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    @Input() public disabled: boolean;\n\n    /**\n     * Gets the role of the tab panel.\n     * ```typescript\n     * let tabPanelRole = this.tabPanel.role;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    @HostBinding('attr.role') public role = 'tabpanel';\n\n    /**\n     * Gets whether a tab panel will have `igx-bottom-nav__panel` class.\n     * ```typescript\n     * let styleClass = this.tabPanel.styleClass;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    @HostBinding('class.igx-bottom-nav__panel')\n    get styleClass(): boolean {\n        return (!this.isSelected);\n    }\n\n    /**\n     * Sets/gets whether a tab panel is selected.\n     * ```typescript\n     * this.tabPanel.isSelected = true;\n     * ```\n     * ```typescript\n     * let isSelected =  this.tabPanel.isSelected;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    @HostBinding('class.igx-bottom-nav__panel--selected')\n    public get isSelected(): boolean {\n        return this._isSelected;\n    }\n    public set isSelected(newValue: boolean) {\n        if (this._isSelected !== newValue) {\n            if (newValue) {\n                this.select();\n            } else {\n                this._isSelected = newValue;\n            }\n        }\n    }\n\n    /**\n     * Gets the `itemStyle` of the tab panel.\n     * ```typescript\n     * let itemStyle = this.tabPanel.itemStyle;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    public get itemStyle(): string {\n        return this._itemStyle;\n    }\n\n    /**\n     * Gets the tab associated with the panel.\n     * ```typescript\n     * let tab = this.tabPanel.relatedTab;\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    get relatedTab(): IgxTabComponent {\n        if (this._tabBar.tabs) {\n            return this._tabBar.tabs.toArray()[this.index];\n        }\n    }\n\n    /**\n     * Gets the changes and updates accordingly applied to the tab/panel.\n     *\n     * @memberof IgxTabComponent\n     */\n    get changesCount(): number {\n        return this.relatedTab ? this.relatedTab.changesCount : 0;\n    }\n\n    /**\n     * Gets the index of a panel in the panels collection.\n     * ```typescript\n     * let panelIndex =  this.tabPanel.index\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    get index() {\n        if (this._tabBar.panels) {\n            return this._tabBar.panels.toArray().indexOf(this);\n        }\n    }\n\n    /**\n     * Gets the tab template.\n     * ```typescript\n     * let tabTemplate = this.tabPanel.customTabTemplate\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    get customTabTemplate(): TemplateRef<any> {\n        return this._tabTemplate;\n    }\n\n    /**\n     * Sets the tab template.\n     * ```typescript\n     * this.tabPanel.customTabTemplate(tabTemplate);\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    set customTabTemplate(template: TemplateRef<any>) {\n        this._tabTemplate = template;\n    }\n\n    /**\n     *@hidden\n     */\n    private _tabTemplate: TemplateRef<any>;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxTabTemplateDirective, { read: IgxTabTemplateDirective })\n    protected tabTemplate: IgxTabTemplateDirective;\n\n    constructor(private _tabBar: IgxBottomNavComponent, private _element: ElementRef) {\n    }\n\n    /**\n     *@hidden\n     */\n    public ngAfterContentInit(): void {\n        if (this.tabTemplate) {\n            this._tabTemplate = this.tabTemplate.template;\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    public ngAfterViewChecked() {\n        this._element.nativeElement.setAttribute('aria-labelledby', `igx-tab-${this.index}`);\n        this._element.nativeElement.setAttribute('id', `igx-bottom-nav__panel-${this.index}`);\n    }\n\n    /**\n     * Selects the current tab and the tab panel.\n     * ```typescript\n     * this.tabPanel.select();\n     * ```\n     * @memberof IgxTabPanelComponent\n     */\n    public select() {\n        if (this.disabled || this._tabBar.selectedIndex === this.index) {\n            return;\n        }\n\n        this._isSelected = true;\n        this._tabBar.onTabSelected.emit({ tab: this._tabBar.tabs.toArray()[this.index], panel: this });\n    }\n}\n\n// ======================================= IgxTabComponent ==========================================\n\n@Component({\n    selector: 'igx-tab',\n    templateUrl: 'tab.component.html'\n})\nexport class IgxTabComponent {\n    /**\n     * Gets the `role` attribute.\n     * ```typescript\n     * let tabRole = this.tab.role;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    @HostBinding('attr.role')\n    public role = 'tab';\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.id')\n    public id = 'igx-tab-' + this.index;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-label')\n    public ariaLabel = this.label;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-disabled')\n    public ariaDisabled = this.disabled;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-selected')\n    public ariaSelected = this.isSelected;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-controls')\n    public ariaControls = 'igx-tab-panel-' + this.index;\n\n    /**\n     * Gets the panel associated with the tab.\n     * ```typescript\n     * let tabPanel =  this.tab.relatedPanel;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    @Input()\n    public relatedPanel: IgxTabPanelComponent;\n\n    /**\n     *@hidden\n     */\n    private _label: string;\n\n    /**\n     * Sets/gets the `label` of the tab panel.\n     * ```html\n     * <igx-tab [label] = \"'Tab label'\"><igx-tab>\n     * ```\n     * ```typescript\n     * let tabLabel = this.tab.label;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    @Input()\n    public get label(): string {\n        return this.relatedPanel ? this.relatedPanel.label : this._label;\n    }\n    public set label(newValue: string) {\n        if (this.relatedPanel) {\n            this.relatedPanel.label = newValue;\n        }\n        this._label = newValue;\n    }\n\n    /**\n     *@hidden\n     */\n    private _icon: string;\n\n    /**\n     * Sets/gets  the `icon` of the tab panel.\n     * ```html\n     * <igx-tab [icon] = \"tab_icon\"><igx-tab>\n     * ```\n     * ```typescript\n     * let tabIcon =  this.tab.icon;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    @Input()\n    public get icon(): string {\n        return this.relatedPanel ? this.relatedPanel.icon : this._icon;\n    }\n    public set icon(newValue: string) {\n        if (this.relatedPanel) {\n            this.relatedPanel.icon = newValue;\n        }\n        this._icon = newValue;\n    }\n\n    /**\n     *@hidden\n     */\n    private _changesCount = 0; // changes and updates accordingly applied to the tab.\n\n    /**\n     * Gets the changes and updates accordingly applied to the tab.\n     *\n     * @memberof IgxTabComponent\n     */\n    get changesCount(): number {\n        return this._changesCount;\n    }\n\n    private _disabled = false;\n\n    /**\n     * Gets whether the tab is disabled.\n     * ```typescript\n     * let isDisabled = this.tab.disabled;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    @Input()\n    get disabled(): boolean {\n        return this.relatedPanel ? this.relatedPanel.disabled : this._disabled;\n    }\n    set disabled(newValue: boolean) {\n        if (this.relatedPanel) {\n            this.relatedPanel.disabled = newValue;\n        } else {\n            this._disabled = newValue;\n        }\n    }\n\n    public _selected = false;\n\n    /**\n     * Gets whether the tab is selected.\n     * ```typescript\n     * let isSelected  = this.tab.isSelected;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    @Input()\n    set isSelected(newValue: boolean) {\n        if (this.relatedPanel) {\n            this.relatedPanel.isSelected = newValue;\n        } else if (this._selected !== newValue) {\n            this._selected = newValue;\n            if (this._selected) {\n                this._tabBar.onTabSelected.emit({ tab: this, panel: null });\n            }\n        }\n    }\n    get isSelected(): boolean {\n        return this.relatedPanel ? this.relatedPanel.isSelected : this._selected;\n    }\n\n    @HostBinding('class.igx-bottom-nav__menu-item--selected')\n    public get cssClassSelected(): boolean {\n        return this.isSelected;\n    }\n\n    @HostBinding('class.igx-bottom-nav__menu-item--disabled')\n    public get cssClassDisabled(): boolean {\n        return this.disabled;\n    }\n\n    @HostBinding('class.igx-bottom-nav__menu-item')\n    public get cssClass(): boolean {\n        return (!this.disabled && !this.isSelected);\n    }\n\n    /**\n     * Gets the `index` of the tab.\n     * ```typescript\n     * let tabIndex = this.tab.index;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    public get index(): number {\n        if (this._tabBar.tabs) {\n            return this._tabBar.tabs.toArray().indexOf(this);\n        }\n    }\n\n    /**@hidden*/\n    @ViewChild('defaultTabTemplate', { read: TemplateRef, static: true })\n    protected defaultTabTemplate: TemplateRef<any>;\n\n    /**@hidden*/\n    @ContentChild(IgxTabTemplateDirective, { read: IgxTabTemplateDirective })\n    protected customTabTemplateDir: IgxTabTemplateDirective;\n\n    /**\n     * Returns the `template` for this IgxTabComponent.\n     * ```typescript\n     * let tabItemTemplate = this.tabItem.template;\n     * ```\n     * @memberof IgxTabComponent\n     */\n    public get template(): TemplateRef<any> {\n        if (this.relatedPanel && this.relatedPanel.customTabTemplate) {\n            return this.relatedPanel.customTabTemplate;\n        }\n        if (this.customTabTemplateDir) {\n            return this.customTabTemplateDir.template;\n        }\n        return this.defaultTabTemplate;\n    }\n\n    /**\n     * Returns the `context` object for the template of this `IgxTabComponent`.\n     * ```typescript\n     * let tabItemContext = this.tabItem.context;\n     * ```\n     */\n    public get context(): any {\n        return this.relatedPanel ? this.relatedPanel : this;\n    }\n\n    constructor(private _tabBar: IgxBottomNavComponent, private _element: ElementRef) {\n    }\n\n    /**\n     * Selects the current tab and the associated panel.\n     * ```typescript\n     * this.tab.select();\n     * ```\n     * @memberof IgxTabComponent\n     */\n    public select() {\n        if (this.relatedPanel) {\n            this.relatedPanel.select();\n        } else {\n            this._selected = true;\n            this._tabBar.onTabSelected.emit({ tab: this, panel: null });\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('click')\n    public onClick() {\n        this.select();\n    }\n\n    public elementRef(): ElementRef {\n        return this._element;\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxBottomNavComponent, IgxTabPanelComponent, IgxTabComponent, IgxTabTemplateDirective],\n    exports: [IgxBottomNavComponent, IgxTabPanelComponent, IgxTabComponent, IgxTabTemplateDirective],\n    imports: [CommonModule, IgxBadgeModule, IgxIconModule]\n})\nexport class IgxBottomNavModule {\n}\n","import { ElementRef, QueryList, EventEmitter } from '@angular/core';\n\n/** @hidden */\nexport abstract class IgxTabsBase {\n    selectedIndicator: ElementRef<any>;\n    tabs: QueryList<IgxTabItemBase>;\n    groups: QueryList<IgxTabsGroupBase>;\n    offset: number;\n    selectedIndex: number;\n    viewPort: ElementRef;\n    contentsContainer: ElementRef;\n    tabsContainer: ElementRef;\n    itemsContainer: ElementRef;\n    headerContainer: ElementRef;\n    onTabItemSelected: EventEmitter<{}>; // TODO: Define event arg interface!\n    hasContentTabs: boolean;\n    scrollElement(element: any, scrollRight: boolean) {}\n    performSelectionChange(newTab: IgxTabItemBase) {}\n    transformContentAnimation(tab: IgxTabItemBase, duration: number) {}\n    transformIndicatorAnimation(element: HTMLElement, duration?: number) {}\n}\n\n/** @hidden */\nexport abstract class IgxTabItemBase {\n    nativeTabItem: ElementRef;\n    get index(): number { return 0; }\n    select(): void {}\n    setSelectedInternal(newValue: boolean) {}\n}\n\n/** @hidden */\nexport abstract class IgxTabsGroupBase {\n    select(): void {}\n    setSelectedInternal(newValue: boolean) {}\n}\n","import {\n    Directive,\n    HostBinding,\n    TemplateRef\n} from '@angular/core';\nimport { IgxTabsBase } from './tabs.common';\n\nenum ButtonStyle {\n    VISIBLE = 'visible',\n    HIDDEN = 'hidden',\n    NOT_DISPLAYED = 'not_displayed'\n}\n\n@Directive({\n    selector: '[igxRightButtonStyle]'\n})\n\nexport class IgxRightButtonStyleDirective {\n    constructor(public tabs: IgxTabsBase) {\n    }\n\n    @HostBinding('class.igx-tabs__header-button')\n    get visibleCSS(): boolean {\n        return (this.getRightButtonStyle() === ButtonStyle.VISIBLE) ? true : false;\n    }\n\n    @HostBinding('class.igx-tabs__header-button--hidden')\n    get hiddenCSS(): boolean {\n        return (this.getRightButtonStyle() === ButtonStyle.HIDDEN) ? true : false;\n    }\n\n    @HostBinding('class.igx-tabs__header-button--none')\n    get notDisplayedCSS(): boolean {\n        return (this.getRightButtonStyle() === ButtonStyle.NOT_DISPLAYED) ? true : false;\n    }\n\n    private getRightButtonStyle(): string {\n        const viewPortWidth = this.tabs.viewPort.nativeElement.offsetWidth;\n\n        // We use this hacky way to get the width of the itemsContainer,\n        // because there is inconsistency in IE we cannot use offsetWidth or scrollOffset.\n        const itemsContainerChildrenCount = this.tabs.itemsContainer.nativeElement.children.length;\n        let itemsContainerWidth = 0;\n        if (itemsContainerChildrenCount > 1) {\n            const lastTab = this.tabs.itemsContainer.nativeElement.children[itemsContainerChildrenCount - 2];\n            itemsContainerWidth = lastTab.offsetLeft + lastTab.offsetWidth;\n        }\n        const headerContainerWidth = this.tabs.headerContainer.nativeElement.offsetWidth;\n        const offset = this.tabs.offset;\n        const total = offset + viewPortWidth;\n\n        // Fix for IE 11, a difference is accumulated from the widths calculations.\n        if (itemsContainerWidth - headerContainerWidth <= 1 && offset === 0) {\n            return ButtonStyle.NOT_DISPLAYED;\n        }\n\n        if (itemsContainerWidth > total) {\n            return ButtonStyle.VISIBLE;\n        } else {\n            return ButtonStyle.HIDDEN;\n        }\n    }\n}\n\n@Directive({\n    selector: '[igxLeftButtonStyle]'\n})\n\nexport class IgxLeftButtonStyleDirective {\n    constructor(public tabs: IgxTabsBase) {\n    }\n\n    @HostBinding('class.igx-tabs__header-button')\n    get visibleCSS(): boolean {\n        return (this.getLeftButtonStyle() === ButtonStyle.VISIBLE) ? true : false;\n    }\n\n    @HostBinding('class.igx-tabs__header-button--hidden')\n    get hiddenCSS(): boolean {\n        return (this.getLeftButtonStyle() === ButtonStyle.HIDDEN) ? true : false;\n    }\n\n    @HostBinding('class.igx-tabs__header-button--none')\n    get notDisplayedCSS(): boolean {\n        return (this.getLeftButtonStyle() === ButtonStyle.NOT_DISPLAYED) ? true : false;\n    }\n\n    private getLeftButtonStyle(): string {\n        // We use this hacky way to get the width of the itemsContainer,\n        // because there is inconsistency in IE we cannot use offsetWidth or scrollOffset.\n        const itemsContainerChildrenCount = this.tabs.itemsContainer.nativeElement.children.length;\n        let itemsContainerWidth = 0;\n        if (itemsContainerChildrenCount > 1) {\n            const lastTab = this.tabs.itemsContainer.nativeElement.children[itemsContainerChildrenCount - 2];\n            itemsContainerWidth = lastTab.offsetLeft + lastTab.offsetWidth;\n        }\n        const headerContainerWidth = this.tabs.headerContainer.nativeElement.offsetWidth;\n        const offset = this.tabs.offset;\n        if (offset === 0) {\n            // Fix for IE 11, a difference is accumulated from the widths calculations.\n            if (itemsContainerWidth - headerContainerWidth <= 1) {\n                return ButtonStyle.NOT_DISPLAYED;\n            }\n            return ButtonStyle.HIDDEN;\n        } else {\n            return ButtonStyle.VISIBLE;\n        }\n    }\n}\n\n@Directive({\n    selector: '[igxTab]'\n})\nexport class IgxTabItemTemplateDirective {\n\n    constructor(public template: TemplateRef<any>) {\n    }\n}\n","import {\n    Component,\n    ContentChild,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Input,\n    TemplateRef,\n    ViewChild,\n    NgZone,\n    AfterViewInit,\n    OnDestroy\n} from '@angular/core';\n\nimport { IgxTabsGroupComponent } from './tabs-group.component';\nimport { IgxTabItemBase, IgxTabsBase } from './tabs.common';\nimport { IgxTabItemTemplateDirective } from './tabs.directives';\nimport ResizeObserver from 'resize-observer-polyfill';\n\n@Component({\n    selector: 'igx-tab-item',\n    templateUrl: 'tab-item.component.html'\n})\n\nexport class IgxTabItemComponent extends IgxTabItemBase implements AfterViewInit, OnDestroy {\n    /**\n    * Gets the group associated with the tab.\n    * ```html\n    * const relatedGroup = this.tabbar.tabs.toArray()[1].relatedGroup;\n    * ```\n    */\n    @Input()\n    public relatedGroup: IgxTabsGroupComponent;\n\n    /**@hidden*/\n    private _icon: string;\n\n    /**\n    * An @Input property that sets the value of the `icon`.\n    * The value should be valid icon name from {@link https://material.io/tools/icons/?style=baseline}.\n    *```html\n    *<igx-tab-item label=\"Tab 1\" icon=\"home\">\n    *```\n    */\n    @Input()\n    public get icon(): string {\n        return this.relatedGroup ? this.relatedGroup.icon : this._icon;\n    }\n    public set icon(newValue: string) {\n        if (this.relatedGroup) {\n            this.relatedGroup.icon = newValue;\n        }\n        this._icon = newValue;\n    }\n\n    /**@hidden*/\n    private _label: string;\n\n    /**\n    * An @Input property that sets the value of the `label`.\n    *```html\n    *<igx-tabs-item label=\"Tab 2\" icon=\"folder\">\n    *```\n    */\n    @Input()\n    public get label(): string {\n        return this.relatedGroup ? this.relatedGroup.label : this._label;\n    }\n    public set label(newValue: string) {\n        if (this.relatedGroup) {\n            this.relatedGroup.label = newValue;\n        }\n        this._label = newValue;\n    }\n\n    /**@hidden*/\n    @ViewChild('defaultTabTemplate', { read: TemplateRef, static: true })\n    protected defaultTabTemplate: TemplateRef<any>;\n\n    /**@hidden*/\n    @ContentChild(IgxTabItemTemplateDirective, { read: IgxTabItemTemplateDirective })\n    protected customTabTemplateDir: IgxTabItemTemplateDirective;\n\n    private _nativeTabItem: ElementRef;\n    private _changesCount = 0; // changes and updates accordingly applied to the tab.\n    private _isSelected = false;\n    private _disabled = false;\n    private _resizeObserver: ResizeObserver;\n\n    constructor(private _tabs: IgxTabsBase, private _element: ElementRef, private _ngZone: NgZone) {\n        super();\n        this._nativeTabItem = _element;\n    }\n\n    @HostBinding('class.igx-tabs__header-menu-item--selected')\n    public get provideCssClassSelected(): boolean {\n        return this.isSelected;\n    }\n\n    @HostBinding('class.igx-tabs__header-menu-item--disabled')\n    public get provideCssClassDisabled(): boolean {\n        return this.disabled;\n    }\n\n    @HostBinding('class.igx-tabs__header-menu-item')\n    public get provideCssClass(): boolean {\n        return (!this.disabled && !this.isSelected);\n    }\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.role')\n    public role = 'tab';\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.tabindex')\n    public tabindex;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.id')\n    public id = 'igx-tab-item-' + this.index;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-label')\n    public ariaLabel = this.label;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-disabled')\n    public ariaDisabled = this.disabled;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-selected')\n    public ariaSelected = this.isSelected;\n\n    /**\n     * @hidden @internal\n     */\n    @HostBinding('attr.aria-controls')\n    public ariaControls = 'igx-tab-item-group-' + this.index;\n\n    ngAfterViewInit(): void {\n        this._ngZone.runOutsideAngular(() => {\n            this._resizeObserver = new ResizeObserver(() => {\n                this._tabs.transformIndicatorAnimation(this._nativeTabItem.nativeElement, 0);\n            });\n        });\n    }\n\n    ngOnDestroy(): void {\n        this._ngZone.runOutsideAngular(() => {\n            this._resizeObserver.disconnect();\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('click', ['$event'])\n    public onClick(event) {\n        this.select();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowright', ['$event'])\n    public onKeydownArrowRight(event: KeyboardEvent) {\n        this.onKeyDown(false);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowleft', ['$event'])\n    public onKeydownArrowLeft(event: KeyboardEvent) {\n        this.onKeyDown(true);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.home', ['$event'])\n    public onKeydownHome(event: KeyboardEvent) {\n        event.preventDefault();\n        this.onKeyDown(false, 0);\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.end', ['$event'])\n    public onKeydownEnd(event: KeyboardEvent) {\n        event.preventDefault();\n        this.onKeyDown(false, this._tabs.tabs.toArray().length - 1);\n    }\n\n    /**\n     * @hidden\n     */\n    get changesCount(): number {\n        return this._changesCount;\n    }\n\n    /**\n     * @hidden\n     */\n    get nativeTabItem(): ElementRef {\n        return this._nativeTabItem;\n    }\n\n    /**\n    * \tGets whether the tab is disabled.\n    * ```\n    * const disabledItem = this.myTabComponent.tabs.first.disabled;\n    * ```\n    */\n    @Input()\n    get disabled(): boolean {\n        return this.relatedGroup ? this.relatedGroup.disabled : this._disabled;\n    }\n    set disabled(newValue: boolean) {\n        if (this.relatedGroup) {\n            this.relatedGroup.disabled = newValue;\n        } else {\n            this._disabled = newValue;\n        }\n    }\n\n    /**\n     * Gets whether the tab is selected.\n     * ```typescript\n     * const selectedItem = this.myTabComponent.tabs.first.isSelected;\n     * ```\n     */\n    @Input()\n    get isSelected(): boolean {\n        return this.relatedGroup ? this.relatedGroup.isSelected : this._isSelected;\n    }\n    set isSelected(newValue: boolean) {\n        if (!this.disabled && this.isSelected !== newValue) {\n            this._tabs.performSelectionChange(newValue ? this : null);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public select(): void {\n        if (!this.disabled && !this.isSelected) {\n            this._tabs.performSelectionChange(this);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    get index(): number {\n        if (this._tabs.tabs) {\n            return this._tabs.tabs.toArray().indexOf(this);\n        }\n        return -1;\n    }\n\n    /**\n     * @hidden\n     */\n    public setSelectedInternal(newValue: boolean) {\n        this._isSelected = newValue;\n        this._ngZone.runOutsideAngular(() => {\n            if (this._resizeObserver) {\n                if (this._isSelected) {\n                    this._resizeObserver.observe(this._element.nativeElement);\n                } else {\n                    this._resizeObserver.disconnect();\n                }\n            }\n        });\n        this.tabindex = newValue ? 0 : -1;\n    }\n\n    private onKeyDown(isLeftArrow: boolean, index = null): void {\n        const tabsArray = this._tabs.tabs.toArray();\n        if (index === null) {\n            index = (isLeftArrow)\n                ? (this._tabs.selectedIndex === 0) ? tabsArray.length - 1 : this._tabs.selectedIndex - 1\n                : (this._tabs.selectedIndex === tabsArray.length - 1) ? 0 : this._tabs.selectedIndex + 1;\n        }\n        const tab = tabsArray[index];\n        tab.select();\n    }\n\n    /**\n     * @hidden\n     */\n    public get template(): TemplateRef<any> {\n        if (this.relatedGroup && this.relatedGroup.customTabTemplate) {\n            return this.relatedGroup.customTabTemplate;\n        }\n        if (this.customTabTemplateDir) {\n            return this.customTabTemplateDir.template;\n        }\n        return this.defaultTabTemplate;\n    }\n\n    /**\n     * @hidden\n     */\n    public get context(): any {\n        return this.relatedGroup ? this.relatedGroup : this;\n    }\n\n}\n","import {\n    AfterContentInit,\n    AfterViewChecked,\n    Component,\n    ContentChild,\n    ElementRef,\n    HostBinding,\n    Input,\n    TemplateRef,\n    HostListener\n} from '@angular/core';\n\nimport { IgxTabItemComponent } from './tab-item.component';\nimport { IgxTabItemTemplateDirective } from './tabs.directives';\nimport { IgxTabsBase, IgxTabsGroupBase } from './tabs.common';\n\n@Component({\n    selector: 'igx-tabs-group',\n    templateUrl: 'tabs-group.component.html'\n})\n\nexport class IgxTabsGroupComponent extends IgxTabsGroupBase implements AfterContentInit, AfterViewChecked {\n\n    /**\n    * An @Input property that allows you to enable/disable the `IgxTabGroupComponent`.\n    *```html\n    *<igx-tabs-group label=\"Tab 2  Lorem ipsum dolor sit\" icon=\"home\" [disabled]=\"true\">\n    *```\n    */\n    @Input()\n    public disabled = false;\n\n    /**\n    * An @Input property that sets the value of the `icon`.\n    * The value should be valid icon name from {@link https://material.io/tools/icons/?style=baseline}.\n    *```html\n    *<igx-tabs-group label=\"Tab 1\" icon=\"home\">\n    *```\n    */\n    @Input()\n    public icon: string;\n\n    /**\n    * An @Input property that sets the value of the `label`.\n    *```html\n    *<igx-tabs-group label=\"Tab 1\" icon=\"folder\">\n    *```\n    */\n    @Input()\n    public label: string;\n\n    /**\n     * Sets/gets whether a tab group is selected.\n     * ```typescript\n     * this.tabGroup.isSelected = true;\n     * ```\n     * ```typescript\n     * let isSelected = this.tabGroup.isSelected;\n     * ```\n     * @memberof IgxTabsGroupComponent\n     */\n    public get isSelected(): boolean {\n        return this._isSelected;\n    }\n    public set isSelected(newValue: boolean) {\n        if (!this.disabled && this.isSelected !== newValue) {\n            this._tabs.performSelectionChange(newValue ? this.relatedTab : null);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @ContentChild(IgxTabItemTemplateDirective, { read: IgxTabItemTemplateDirective })\n    protected tabTemplate: IgxTabItemTemplateDirective;\n\n    private _tabTemplate: TemplateRef<any>;\n    private _isSelected = false;\n\n    constructor(private _tabs: IgxTabsBase, private _element: ElementRef) {\n        super();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.role')\n    public role = 'tabpanel';\n\n    /**\n     * @hidden\n     */\n    @HostBinding('class.igx-tabs__group')\n    public styleClass = true;\n\n    /**\n     * An accessor that returns the `IgxTabItemComponent` component.\n     * ```typescript\n     * @ViewChild(\"MyTabsGroup\")\n     * public tab: IgxTabsGroupComponent;\n     * ngAfterViewInIt(){\n     *    let tabComponent = this.tab.relatedTab;\n     * }\n     * ```\n     */\n    get relatedTab(): IgxTabItemComponent {\n        if (this._tabs.tabs) {\n            return this._tabs.tabs.toArray()[this.index] as IgxTabItemComponent;\n        }\n    }\n\n    /**\n     * An accessor that returns the value of the index of the `IgxTabsGroupComponent`.\n     * ```typescript\n     * @ViewChild(\"MyTabsGroup\")\n     * public tab: IgxTabsGroupComponent;\n     * ngAfterViewInIt(){\n     *    let tabIndex = this.tab.index;\n     * }\n     * ```\n     */\n    get index(): number {\n        if (this._tabs.groups) {\n            return this._tabs.groups.toArray().indexOf(this);\n        }\n        return -1;\n    }\n\n    /**\n     * @hidden\n     */\n    get customTabTemplate(): TemplateRef<any> {\n        return this._tabTemplate;\n    }\n\n    /**\n     *@hidden\n     */\n    set customTabTemplate(template: TemplateRef<any>) {\n        this._tabTemplate = template;\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterContentInit(): void {\n        if (this.tabTemplate) {\n            this._tabTemplate = this.tabTemplate.template;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewChecked() {\n        this._element.nativeElement.setAttribute('aria-labelledby', `igx-tab-item-${this.index}`);\n        this._element.nativeElement.setAttribute('id', `igx-tabs__group-${this.index}`);\n    }\n\n    /**\n     * A method that sets the focus on a tab.\n     * @memberof {@link IgxTabsGroupComponent}\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *public tab : IgxTabsGroupComponent;\n     *ngAfterViewInit(){\n     *    this.tab.select();\n     *}\n     *```\n     */\n    public select(): void {\n        if (!this.disabled && !this.isSelected) {\n            this._tabs.performSelectionChange(this.relatedTab);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public setSelectedInternal(newValue: boolean) {\n        this._isSelected = newValue;\n    }\n\n}\n","import { CommonModule } from '@angular/common';\nimport {\n    AfterViewInit,\n    Component,\n    ContentChildren,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    HostBinding,\n    Input,\n    NgModule,\n    Output,\n    QueryList,\n    ViewChild,\n    ViewChildren,\n    OnDestroy,\n    NgZone\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { IgxBadgeModule } from '../badge/badge.component';\nimport { IgxRippleModule } from '../directives/ripple/ripple.directive';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxTabItemComponent } from './tab-item.component';\nimport { IgxTabsGroupComponent } from './tabs-group.component';\nimport { IgxLeftButtonStyleDirective, IgxRightButtonStyleDirective, IgxTabItemTemplateDirective } from './tabs.directives';\nimport { IgxTabsBase, IgxTabItemBase } from './tabs.common';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { PlatformUtil } from '../core/utils';\n\nexport enum IgxTabsType {\n    FIXED = 'fixed',\n    CONTENTFIT = 'contentfit'\n}\n\n@Component({\n    selector: 'igx-tabs',\n    templateUrl: 'tabs.component.html',\n    providers: [{ provide: IgxTabsBase, useExisting: IgxTabsComponent }]\n})\n\nexport class IgxTabsComponent implements IgxTabsBase, AfterViewInit, OnDestroy {\n    /**\n    * Provides an observable collection of all `IgxTabsGroupComponent`s.\n    * ```typescript\n    * const groupItems = this.myTabComponent.groups;\n    * ```\n    */\n    @ContentChildren(forwardRef(() => IgxTabsGroupComponent))\n    public groups: QueryList<IgxTabsGroupComponent>;\n\n    /**\n    * Provides an observable collection of all `IgxTabItemComponent`s defined in the page.\n    * ```typescript\n    * const tabItems = this.myTabComponent.contentTabs;\n    * ```\n    */\n    @ContentChildren(forwardRef(() => IgxTabItemComponent))\n    public contentTabs: QueryList<IgxTabItemComponent>;\n\n    /**\n    * An @Input property that sets the value of the `selectedIndex`.\n    * Default value is 0.\n    * ```html\n    * <igx-tabs selectedIndex=\"1\">\n    * ```\n    *\n    * Two-way data binding.\n    * ```html\n    * <igx-tabs [(selectedIndex)]=\"model.selectedIndex\">\n    * ```\n    */\n    @Input()\n    public get selectedIndex(): number {\n        return this._selectedIndex;\n    }\n\n    public set selectedIndex(index: number) {\n        const newIndex = typeof index !== 'number' ? parseInt(index, 10) : index;\n        if (this._selectedIndex !== newIndex) {\n            if (this.tabs && this.tabs.length > 0) {\n                const newTab = this.tabs.toArray()[newIndex];\n                if (newTab) {\n                   this.performSelectionChange(newTab);\n                }\n            } else {\n                this._selectedIndex = newIndex;\n            }\n        }\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public selectedIndexChange = new EventEmitter<number>();\n\n    /**\n     * Defines the tab header sizing mode. You can choose between `contentfit` or `fixed`.\n     * By default the header sizing mode is `contentfit`.\n     * ```html\n     * <igx-tabs type=\"fixed\">\n     *     <igx-tabs-group label=\"HOME\">Home</igx-tabs-group>\n     * </igx-tabs>\n     * ```\n     */\n    @Input('type')\n    public type: string | IgxTabsType = 'contentfit';\n\n    /**\n    * @hidden\n    */\n    @Input()\n    public class = '';\n\n    /**\n     * Emitted when a tab item is deselected.\n     * ```html\n     * <igx-tabs (onTabItemDeselected)=\"itemDeselected($event)\">\n     *      <igx-tabs-group label=\"Tab 1\">This is Tab 1 content.</igx-tabs-group>\n     *      <igx-tabs-group label=\"Tab 2\">This is Tab 2 content.</igx-tabs-group>\n     * </igx-tabs>\n     * ```\n     * ```typescript\n     * itemDeselected(e){\n     *      const tabGroup = e.group;\n     *      const tabItem = e.tab;\n     * }\n     * ```\n     */\n    @Output()\n    public onTabItemDeselected = new EventEmitter();\n\n    /**\n    * Emitted when a tab item is selected.\n    * ```html\n    * <igx-tabs (onTabItemSelected)=\"itemSelected($event)\">\n    *      <igx-tabs-group label=\"Tab 1\">This is Tab 1 content.</igx-tabs-group>\n    *      <igx-tabs-group label=\"Tab 2\">This is Tab 2 content.</igx-tabs-group>\n    * </igx-tabs>\n    * ```\n    * ```typescript\n    * itemSelected(e){\n    *      const tabGroup = e.group;\n    *      const tabItem = e.tab;\n    * }\n    * ```\n    */\n    @Output()\n    public onTabItemSelected = new EventEmitter();\n\n    /**\n     * @hidden\n     */\n    @ViewChild('contentsContainer', { static: true })\n    public contentsContainer: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('headerContainer', { static: true })\n    public headerContainer: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('itemsContainer', { static: true })\n    public itemsContainer: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('selectedIndicator')\n    public selectedIndicator: ElementRef;\n\n    /**\n    * @hidden\n    */\n    @ViewChild('tabsContainer', { static: true })\n    public tabsContainer: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('viewPort', { static: true })\n    public viewPort: ElementRef;\n\n    /**\n     * Provides an observable collection of all `IgxTabItemComponent`s.\n     * ```typescript\n     * const tabItems = this.myTabComponent.viewTabs;\n     * ```\n     */\n    @ViewChildren(forwardRef(() => IgxTabItemComponent))\n    public viewTabs: QueryList<IgxTabItemComponent>;\n\n    /**\n     * Provides an observable collection of all `IgxTabItemComponent`s.\n     * First try to get them as content children if not available get them as view children.\n     * ```typescript\n     * const tabItems = this.myTabComponent.tabs;\n     * ```\n     */\n    public get tabs(): QueryList<IgxTabItemComponent> {\n        if (this.hasContentTabs) {\n            return this.contentTabs;\n        }\n        return this.viewTabs;\n    }\n\n    /**\n     *@hidden\n     */\n    public get hasContentTabs(): boolean {\n        return (this.contentTabs && this.contentTabs.length > 0);\n    }\n\n    /**\n     * @hidden\n     */\n    public calculatedWidth: number;\n\n    /**\n     * @hidden\n     */\n    public visibleItemsWidth: number;\n\n    /**\n     * @hidden\n     */\n    public offset = 0;\n\n    private _groupChanges$: Subscription;\n    private _selectedIndex = -1;\n    private _resizeObserver: ResizeObserver;\n\n    /**\n     * @hidden\n     */\n    @HostBinding('attr.class')\n    public get cssClass() {\n        const defaultStyle = `igx-tabs`;\n        const fixedStyle = `igx-tabs--fixed`;\n        const iconStyle = `igx-tabs--icons`;\n        const iconLabelFoundInGroups = this.groups.find((group) => group.icon != null && group.label != null);\n        const iconLabelFoundInTabs = this.contentTabs.find((tab) => tab.icon != null && tab.label != null);\n        let css: string;\n        switch (IgxTabsType[this.type.toUpperCase()]) {\n            case IgxTabsType.FIXED: {\n                css = fixedStyle;\n                break;\n            }\n            default: {\n                css = defaultStyle;\n                break;\n            }\n        }\n\n        // Layout fix for items with icons\n        if (iconLabelFoundInGroups !== undefined || iconLabelFoundInTabs !== undefined) {\n            css = `${css} ${iconStyle}`;\n        }\n\n        return `${css} ${this.class}`;\n    }\n\n    /**\n     * @hidden\n     */\n    public scrollLeft(event): void {\n        this.scroll(false);\n    }\n\n    /**\n     * @hidden\n     */\n    public scrollRight(event): void {\n        this.scroll(true);\n    }\n\n    /**\n     * @hidden\n     */\n    public scrollElement(element: any, scrollRight: boolean): void {\n        const viewPortWidth = this.viewPort.nativeElement.offsetWidth;\n\n        this.offset = (scrollRight) ? element.offsetWidth + element.offsetLeft - viewPortWidth : element.offsetLeft;\n        this.itemsContainer.nativeElement.style.transform = `translate(${-this.offset}px)`;\n    }\n\n    /**\n     * Gets the selected `IgxTabItemComponent`.\n     * ```\n     * const selectedItem = this.myTabComponent.selectedTabItem;\n     * ```\n     */\n    get selectedTabItem(): IgxTabItemComponent {\n        if (this.tabs && this.selectedIndex !== undefined) {\n            return this.tabs.toArray()[this.selectedIndex];\n        }\n    }\n\n    constructor(private _element: ElementRef, private _ngZone: NgZone, private platformUtil: PlatformUtil) {\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit() {\n        if (this._selectedIndex === -1) {\n            this.tabs.forEach((t) => {\n                if (t.isSelected) {\n                    this._selectedIndex = t.index;\n                }\n            });\n        }\n\n        if (!this.hasContentTabs && (this.selectedIndex < 0 || this.selectedIndex >= this.groups.length)) {\n            this._selectedIndex = 0;\n        }\n\n        if (this.platformUtil.isBrowser) {\n            requestAnimationFrame(() => {\n                const newTab = this.tabs.toArray()[this._selectedIndex];\n                if (newTab) {\n                    this.performSelection(newTab);\n                } else {\n                    this.hideIndicator();\n                }\n            });\n            this._ngZone.runOutsideAngular(() => {\n                this._resizeObserver = new ResizeObserver(() => {\n                    if (!this.hasContentTabs && this._selectedIndex >= 0 && this._selectedIndex < this.tabs.length) {\n                        const newTab = this.tabs.toArray()[this._selectedIndex];\n                        this.transformContentAnimation(newTab, 0);\n                    }\n                });\n\n                this._resizeObserver.observe(this.tabsContainer.nativeElement);\n            });\n        }\n\n        this._groupChanges$ = this.groups.changes.subscribe(() => {\n            this.resetSelectionOnCollectionChanged();\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy(): void {\n        if (this._groupChanges$) {\n            this._groupChanges$.unsubscribe();\n        }\n        if (this._resizeObserver) {\n            this._ngZone.runOutsideAngular(() => {\n                this._resizeObserver.disconnect();\n            });\n        }\n    }\n\n    private resetSelectionOnCollectionChanged(): void {\n        requestAnimationFrame(() => {\n            const currentTab = this.tabs.toArray()[this.selectedIndex];\n            if (currentTab) {\n                this.performSelectionChange(currentTab);\n            } else if (this.selectedIndex >= this.tabs.length) {\n                this.performSelectionChange(this.tabs.last);\n            } else {\n                this.hideIndicator();\n            }\n        });\n    }\n\n    private scroll(scrollRight: boolean): void {\n        const tabsArray = this.tabs.toArray();\n        for (const tab of tabsArray) {\n            const element = tab.nativeTabItem.nativeElement;\n            if (scrollRight) {\n                if (element.offsetWidth + element.offsetLeft > this.viewPort.nativeElement.offsetWidth + this.offset) {\n                    this.scrollElement(element, scrollRight);\n                    break;\n                }\n            } else {\n                if (element.offsetWidth + element.offsetLeft >= this.offset) {\n                    this.scrollElement(element, scrollRight);\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public performSelectionChange(newTab: IgxTabItemBase): void {\n        const oldTab = this.selectedTabItem;\n        if (oldTab) {\n            this.performDeselection(oldTab);\n        }\n        if (newTab) {\n            this.performSelection(newTab);\n        } else {\n            // if there is no new selected tab hide the selection indicator\n            this.hideIndicator();\n        }\n        this.selectedIndexChange.emit(this._selectedIndex);\n    }\n\n    private performDeselection(oldTab: IgxTabItemBase): void {\n        oldTab.setSelectedInternal(false);\n        const oldTabRelatedGroup = this.groups.toArray()[oldTab.index];\n        if (oldTabRelatedGroup) {\n            oldTabRelatedGroup.setSelectedInternal(false);\n        }\n        this._selectedIndex = -1;\n        this.onTabItemDeselected.emit({ tab: oldTab, group: oldTabRelatedGroup });\n    }\n\n    private performSelection(newTab: IgxTabItemBase): void {\n        newTab.setSelectedInternal(true);\n        this._selectedIndex = newTab.index;\n\n        let newTabRelatedGroup = null;\n        if (!this.hasContentTabs && this.groups) {\n            newTabRelatedGroup = this.groups.toArray()[newTab.index];\n            if (newTabRelatedGroup) {\n                newTabRelatedGroup.setSelectedInternal(true);\n            }\n        }\n\n        this.onTabItemSelected.emit({ tab: newTab, group: newTabRelatedGroup });\n\n        requestAnimationFrame(() => {\n            // bring the new selected tab into view if it is not\n            this.bringNewTabIntoView(newTab);\n            // animate the new selection indicator\n            this.transformIndicatorAnimation(newTab.nativeTabItem.nativeElement);\n            // animate the new tab's group content\n            if (!this.hasContentTabs) {\n                this.transformContentAnimation(newTab, 0.2);\n            }\n        });\n    }\n\n    private bringNewTabIntoView(newTab: IgxTabItemBase): void {\n        const tabNativeElement = newTab.nativeTabItem.nativeElement;\n\n        // Scroll left if there is need\n        if (tabNativeElement.offsetLeft < this.offset) {\n            this.scrollElement(tabNativeElement, false);\n        }\n\n        // Scroll right if there is need\n        const viewPortOffsetWidth = this.viewPort.nativeElement.offsetWidth;\n        const delta = (tabNativeElement.offsetLeft + tabNativeElement.offsetWidth) - (viewPortOffsetWidth + this.offset);\n\n        // Fix for IE 11, a difference is accumulated from the widths calculations\n        if (delta > 1) {\n            this.scrollElement(tabNativeElement, true);\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    // animation for the new panel/group (not needed for tab only mode)\n    public transformContentAnimation(tab: IgxTabItemBase, duration: number): void {\n        const contentOffset = this.tabsContainer.nativeElement.offsetWidth * tab.index;\n        this.contentsContainer.nativeElement.style.transitionDuration = duration > 0 ? `${duration}s` : 'initial';\n        this.contentsContainer.nativeElement.style.transform = `translate(${-contentOffset}px)`;\n    }\n\n    /**\n     * @hidden\n     */\n    public transformIndicatorAnimation(element: HTMLElement, duration = 0.3): void {\n        if (this.selectedIndicator) {\n            this.selectedIndicator.nativeElement.style.visibility = 'visible';\n            this.selectedIndicator.nativeElement.style.transitionDuration = duration > 0 ? `${duration}s` : 'initial';\n            this.selectedIndicator.nativeElement.style.width = `${element.offsetWidth}px`;\n            this.selectedIndicator.nativeElement.style.transform = `translate(${element.offsetLeft}px)`;\n        }\n    }\n\n    public hideIndicator(): void {\n        if (this.selectedIndicator) {\n            this.selectedIndicator.nativeElement.style.visibility = 'hidden';\n        }\n    }\n\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxTabsComponent,\n        IgxTabsGroupComponent,\n        IgxTabItemComponent,\n        IgxTabItemTemplateDirective,\n        IgxRightButtonStyleDirective,\n        IgxLeftButtonStyleDirective],\n    exports: [IgxTabsComponent,\n        IgxTabsGroupComponent,\n        IgxTabItemComponent,\n        IgxTabItemTemplateDirective,\n        IgxRightButtonStyleDirective,\n        IgxLeftButtonStyleDirective],\n    imports: [CommonModule, IgxBadgeModule, IgxIconModule, IgxRippleModule]\n})\n\nexport class IgxTabsModule {\n}\n","import { ElementRef } from '@angular/core';\nimport { InteractionMode } from '../core/enums';\n\n/** @hidden */\nexport const IGX_TIME_PICKER_COMPONENT = 'IgxTimePickerComponentToken';\n\n/** @hidden */\nexport interface IgxTimePickerBase {\n    hourList: ElementRef;\n    minuteList: ElementRef;\n    secondsList: ElementRef;\n    ampmList: ElementRef;\n    selectedHour: string;\n    selectedMinute: string;\n    selectedSeconds: string;\n    selectedAmPm: string;\n    format: string;\n    promptChar: string;\n    cleared: boolean;\n    mode: InteractionMode;\n    showHoursList: boolean;\n    showMinutesList: boolean;\n    showSecondsList: boolean;\n    showAmPmList: boolean;\n    nextHour();\n    prevHour();\n    nextMinute();\n    prevMinute();\n    nextSeconds();\n    prevSeconds();\n    nextAmPm();\n    prevAmPm();\n    okButtonClick(): boolean;\n    cancelButtonClick(): void;\n    scrollHourIntoView(item: string): void;\n    scrollMinuteIntoView(item: string): void;\n    scrollSecondsIntoView(item: string): void;\n    scrollAmPmIntoView(item: string): void;\n    close(): void;\n    parseMask(preserveAmPm?: boolean): string;\n}\n\n","/**\n * This file contains all the directives used by the @link IgxTimePickerComponent.\n * You should generally not use them directly.\n * @preferred\n */\nimport {\n    Directive,\n    ElementRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    TemplateRef\n} from '@angular/core';\nimport { IGX_TIME_PICKER_COMPONENT, IgxTimePickerBase } from './time-picker.common';\nimport { InteractionMode } from '../core/enums';\n\n/** @hidden */\n@Directive({\n    selector: '[igxItemList]'\n})\nexport class IgxItemListDirective {\n\n    @Input('igxItemList')\n    public type: string;\n\n    public isActive: boolean;\n\n    constructor(\n        @Inject(IGX_TIME_PICKER_COMPONENT) public timePicker: IgxTimePickerBase,\n        private elementRef: ElementRef\n    ) { }\n\n    @HostBinding('attr.tabindex')\n    public tabindex = 0;\n\n    @HostBinding('class.igx-time-picker__column')\n    get defaultCSS(): boolean {\n        return true;\n    }\n\n    @HostBinding('class.igx-time-picker__hourList')\n    get hourCSS(): boolean {\n        return this.type === 'hourList';\n    }\n\n    @HostBinding('class.igx-time-picker__minuteList')\n    get minuteCSS(): boolean {\n        return this.type === 'minuteList';\n    }\n\n    @HostBinding('class.igx-time-picker__secondsList')\n    get secondsCSS(): boolean {\n        return this.type === 'secondsList';\n    }\n\n    @HostBinding('class.igx-time-picker__ampmList')\n    get ampmCSS(): boolean {\n        return this.type === 'ampmList';\n    }\n\n    @HostListener('focus')\n    public onFocus() {\n        this.isActive = true;\n    }\n\n    @HostListener('blur')\n    public onBlur() {\n        this.isActive = false;\n    }\n\n    private nextItem(): void {\n        switch (this.type) {\n            case 'hourList': {\n                this.timePicker.nextHour();\n                break;\n            }\n            case 'minuteList': {\n                this.timePicker.nextMinute();\n                break;\n            }\n            case 'secondsList': {\n                this.timePicker.nextSeconds();\n                break;\n            }\n            case 'ampmList': {\n                this.timePicker.nextAmPm();\n                break;\n            }\n        }\n    }\n\n    private prevItem(): void {\n        switch (this.type) {\n            case 'hourList': {\n                this.timePicker.prevHour();\n                break;\n            }\n            case 'minuteList': {\n                this.timePicker.prevMinute();\n                break;\n            }\n            case 'secondsList': {\n                this.timePicker.prevSeconds();\n                break;\n            }\n            case 'ampmList': {\n                this.timePicker.prevAmPm();\n                break;\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowdown', ['$event'])\n    public onKeydownArrowDown(event: KeyboardEvent) {\n        event.preventDefault();\n\n        this.nextItem();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowup', ['$event'])\n    public onKeydownArrowUp(event: KeyboardEvent) {\n        event.preventDefault();\n\n        this.prevItem();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowright', ['$event'])\n    public onKeydownArrowRight(event: KeyboardEvent) {\n        event.preventDefault();\n\n        const listName = (event.target as HTMLElement).className;\n\n        if (listName.indexOf('hourList') !== -1 && this.timePicker.minuteList) {\n            this.timePicker.minuteList.nativeElement.focus();\n        } else if ((listName.indexOf('hourList') !== -1 || listName.indexOf('minuteList') !== -1) && this.timePicker.secondsList) {\n            this.timePicker.secondsList.nativeElement.focus();\n        } else if ((listName.indexOf('hourList') !== -1 || listName.indexOf('minuteList') !== -1 ||\n            listName.indexOf('secondsList') !== -1) && this.timePicker.ampmList) {\n            this.timePicker.ampmList.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.arrowleft', ['$event'])\n    public onKeydownArrowLeft(event: KeyboardEvent) {\n        event.preventDefault();\n        const listName = (event.target as HTMLElement).className;\n\n        if (listName.indexOf('ampmList') !== -1 && this.timePicker.secondsList) {\n            this.timePicker.secondsList.nativeElement.focus();\n        } else if (listName.indexOf('secondsList') !== -1 && this.timePicker.secondsList\n            && listName.indexOf('minutesList') && this.timePicker.minuteList) {\n            this.timePicker.minuteList.nativeElement.focus();\n        } else if (listName.indexOf('ampmList') !== -1 && this.timePicker.minuteList) {\n            this.timePicker.minuteList.nativeElement.focus();\n        } else if ((listName.indexOf('ampmList') !== -1 || listName.indexOf('secondsList') !== -1 ||\n            listName.indexOf('minuteList') !== -1) && this.timePicker.hourList) {\n            this.timePicker.hourList.nativeElement.focus();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.enter', ['$event'])\n    public onKeydownEnter(event: KeyboardEvent) {\n        event.preventDefault();\n\n        if (this.timePicker.mode === InteractionMode.DropDown) {\n            this.timePicker.close();\n            return;\n        }\n        this.timePicker.okButtonClick();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.escape', ['$event'])\n    public onKeydownEscape(event: KeyboardEvent) {\n        event.preventDefault();\n\n        this.timePicker.cancelButtonClick();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('mouseover')\n    public onHover() {\n        this.elementRef.nativeElement.focus();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('wheel', ['$event'])\n    public onScroll(event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        if (event.deltaY > 0) {\n            this.nextItem();\n        } else if (event.deltaY < 0) {\n            this.prevItem();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('panmove', ['$event'])\n    public onPanMove(event) {\n        if (event.deltaY < 0) {\n            this.nextItem();\n        } else if (event.deltaY > 0) {\n            this.prevItem();\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxHourItem]'\n})\nexport class IgxHourItemDirective {\n\n    @Input('igxHourItem')\n    public value: string;\n\n    @HostBinding('class.igx-time-picker__item')\n    get defaultCSS(): boolean {\n        return true;\n    }\n\n    @HostBinding('class.igx-time-picker__item--selected')\n    get selectedCSS(): boolean {\n        return this.isSelectedHour;\n    }\n\n    @HostBinding('class.igx-time-picker__item--active')\n    get activeCSS(): boolean {\n        return this.isSelectedHour && this.itemList.isActive;\n    }\n\n    get isSelectedHour(): boolean {\n        return this.timePicker.selectedHour === this.value;\n    }\n\n    constructor(@Inject(IGX_TIME_PICKER_COMPONENT)\n    public timePicker: IgxTimePickerBase,\n        private itemList: IgxItemListDirective) { }\n\n    @HostListener('click', ['value'])\n    public onClick(item) {\n        if (item !== '') {\n            this.timePicker.scrollHourIntoView(item);\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxMinuteItem]'\n})\nexport class IgxMinuteItemDirective {\n\n    @Input('igxMinuteItem')\n    public value: string;\n\n    @HostBinding('class.igx-time-picker__item')\n    get defaultCSS(): boolean {\n        return true;\n    }\n\n    @HostBinding('class.igx-time-picker__item--selected')\n    get selectedCSS(): boolean {\n        return this.isSelectedMinute;\n    }\n\n    @HostBinding('class.igx-time-picker__item--active')\n    get activeCSS(): boolean {\n        return this.isSelectedMinute && this.itemList.isActive;\n    }\n\n    get isSelectedMinute(): boolean {\n        return this.timePicker.selectedMinute === this.value;\n    }\n\n    constructor(@Inject(IGX_TIME_PICKER_COMPONENT)\n    public timePicker: IgxTimePickerBase,\n        private itemList: IgxItemListDirective) { }\n\n    @HostListener('click', ['value'])\n    public onClick(item) {\n        if (item !== '') {\n            this.timePicker.scrollMinuteIntoView(item);\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxSecondsItem]'\n})\nexport class IgxSecondsItemDirective {\n\n    @Input('igxSecondsItem')\n    public value: string;\n\n    @HostBinding('class.igx-time-picker__item')\n    get defaultCSS(): boolean {\n        return true;\n    }\n\n    @HostBinding('class.igx-time-picker__item--selected')\n    get selectedCSS(): boolean {\n        return this.isSelectedSeconds;\n    }\n\n    @HostBinding('class.igx-time-picker__item--active')\n    get activeCSS(): boolean {\n        return this.isSelectedSeconds && this.itemList.isActive;\n    }\n\n    get isSelectedSeconds(): boolean {\n        return this.timePicker.selectedSeconds === this.value;\n    }\n\n    constructor(@Inject(IGX_TIME_PICKER_COMPONENT)\n    public timePicker: IgxTimePickerBase,\n        private itemList: IgxItemListDirective) { }\n\n    @HostListener('click', ['value'])\n    public onClick(item) {\n        if (item !== '') {\n            this.timePicker.scrollSecondsIntoView(item);\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@Directive({\n    selector: '[igxAmPmItem]'\n})\nexport class IgxAmPmItemDirective {\n\n    @Input('igxAmPmItem')\n    public value: string;\n\n    @HostBinding('class.igx-time-picker__item')\n    get defaultCSS(): boolean {\n        return true;\n    }\n\n    @HostBinding('class.igx-time-picker__item--selected')\n    get selectedCSS(): boolean {\n        return this.isSelectedAmPm;\n    }\n\n    @HostBinding('class.igx-time-picker__item--active')\n    get activeCSS(): boolean {\n        return this.isSelectedAmPm && this.itemList.isActive;\n    }\n\n    get isSelectedAmPm(): boolean {\n        return this.timePicker.selectedAmPm === this.value;\n    }\n\n    constructor(@Inject(IGX_TIME_PICKER_COMPONENT)\n    public timePicker: IgxTimePickerBase,\n        private itemList: IgxItemListDirective) { }\n\n    @HostListener('click', ['value'])\n    public onClick(item) {\n        if (item !== '') {\n            this.timePicker.scrollAmPmIntoView(item);\n        }\n    }\n}\n\n/**\n * This directive should be used to mark which ng-template will be used from IgxTimePicker when re-templating its input group.\n */\n@Directive({\n    selector: '[igxTimePickerTemplate]'\n})\nexport class IgxTimePickerTemplateDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n\n/**\n * This directive can be used to add custom action buttons to the dropdownb/dialog.\n */\n@Directive({\n    selector: '[igxTimePickerActions]'\n})\nexport class IgxTimePickerActionsDirective {\n    constructor(public template: TemplateRef<any>) { }\n}\n","import { Pipe, PipeTransform, Inject } from '@angular/core';\nimport { IGX_TIME_PICKER_COMPONENT, IgxTimePickerBase } from './time-picker.common';\n\n\n/**\n * Formats `IgxTimePickerComponent` display value according to the `format` property,\n * when the input element loses focus.\n **/\n@Pipe({ name: 'displayFormat' })\nexport class TimeDisplayFormatPipe implements PipeTransform {\n    constructor(@Inject(IGX_TIME_PICKER_COMPONENT) private timePicker: IgxTimePickerBase) { }\n\n    transform(value: any): string {\n        let hour, minutes, seconds, amPM;\n\n        const maskAmPM = this.timePicker.parseMask();\n        const mask = this.timePicker.parseMask(false);\n        if (!value || value === mask || value === maskAmPM) {\n            return '';\n        }\n\n        const sections = value.split(/[\\s:]+/);\n\n        if (this.timePicker.showHoursList) {\n            hour = sections[0];\n        }\n\n        if (this.timePicker.showMinutesList) {\n            minutes = this.timePicker.showHoursList ? sections[1] : sections[0];\n        }\n\n        if (this.timePicker.showSecondsList) {\n            seconds = sections[sections.length - (this.timePicker.showAmPmList ? 2 : 1)];\n        }\n\n        if (this.timePicker.showAmPmList) {\n            amPM = sections[sections.length - 1];\n        }\n\n        const format = this.timePicker.format;\n        const prompt = this.timePicker.promptChar;\n        const regExp = new RegExp(this.timePicker.promptChar, 'g');\n\n        if (format.indexOf('hh') !== -1 || format.indexOf('HH') !== -1 && hour.indexOf(prompt) !== -1) {\n            hour = hour === prompt + prompt ? '00' : hour.replace(regExp, '0');\n        }\n\n        if (format.indexOf('mm') !== -1 && minutes.indexOf(prompt) !== -1) {\n            minutes = minutes === prompt + prompt ? '00' : minutes.replace(regExp, '0');\n        }\n\n        if (format.indexOf('ss') !== -1 && seconds.indexOf(prompt) !== -1) {\n            seconds = seconds === prompt + prompt ? '00' : seconds.replace(regExp, '0');\n        }\n\n        if (format.indexOf('hh') === -1 && format.indexOf('HH') === -1 && hour !== undefined) {\n            hour = hour.indexOf(prompt) !== -1 ? hour.replace(regExp, '') : hour;\n            const hourVal = parseInt(hour, 10);\n            hour = !hourVal ? '0' : hourVal < 10 && hourVal !== 0 ? hour.replace('0', '') : hour;\n        }\n\n        if (format.indexOf('mm') === -1 && minutes !== undefined) {\n            minutes = minutes.indexOf(prompt) !== -1 ? minutes.replace(regExp, '') : minutes;\n            const minutesVal = parseInt(minutes, 10);\n            minutes = !minutesVal ? '0' : minutesVal < 10 && minutesVal !== 0 ? minutes.replace('0', '') : minutes;\n        }\n\n        if (format.indexOf('ss') === -1 && seconds !== undefined) {\n            seconds = seconds.indexOf(prompt) !== -1 ? seconds.replace(regExp, '') : seconds;\n            const secondsVal = parseInt(seconds, 10);\n            seconds = !secondsVal ? '0' : secondsVal < 10 && secondsVal !== 0 ? seconds.replace('0', '') : seconds;\n        }\n\n        if (format.indexOf('tt') !== -1 && (amPM !== 'AM' || amPM !== 'PM')) {\n            amPM = amPM.indexOf('p') !== -1 || amPM.indexOf('P') !== -1 ? 'PM' : 'AM';\n        }\n\n        let result = `${hour}:${minutes}:${seconds}`;\n        if (!hour) {\n            // remove the hours\n            result = result.slice(result.indexOf(':') + 1);\n        }\n        if (!minutes) {\n            if (hour) {\n                // get the hours and seconds and concat them\n                result = result.slice(0, result.indexOf(':')) +\n                    result.slice(result.lastIndexOf(':'), result.length);\n            } else {\n                // remove the minutes\n                result = result.slice(result.indexOf(':') + 1);\n            }\n        }\n        if (!seconds) {\n            // remove the seconds\n            result = result.slice(0, result.lastIndexOf(':'));\n        }\n\n        return amPM ? `${result} ${amPM}` : result;\n    }\n}\n\n/**\n * Formats `IgxTimePickerComponent` display value according to the `format` property,\n * when the input element gets focus.\n **/\n@Pipe({ name: 'inputFormat' })\nexport class TimeInputFormatPipe implements PipeTransform {\n    constructor(@Inject(IGX_TIME_PICKER_COMPONENT) private timePicker: IgxTimePickerBase) { }\n\n    transform(value: any): string {\n        const prompt = this.timePicker.promptChar;\n        const regExp = new RegExp(prompt, 'g');\n\n        let mask, hour, minutes, seconds, amPM;\n\n        if (this.timePicker.cleared) {\n            this.timePicker.cleared = false;\n            mask = this.timePicker.parseMask(false);\n        } else {\n            mask = this.timePicker.parseMask();\n        }\n\n        if (!value || value === mask) {\n            return mask;\n        }\n\n        const sections = value.split(/[\\s:]+/);\n\n        if (this.timePicker.showHoursList) {\n            hour = sections[0];\n            hour = hour.replace(regExp, '');\n\n            const leadZeroHour = (parseInt(hour, 10) < 10 && !hour.startsWith('0')) || hour === '0';\n            hour = leadZeroHour ? '0' + hour : hour;\n        }\n\n        if (this.timePicker.showMinutesList) {\n            minutes = this.timePicker.showHoursList ? sections[1] : sections[0];\n            minutes = minutes.replace(regExp, '');\n\n            const leadZeroMinutes = (parseInt(minutes, 10) < 10 && !minutes.startsWith('0')) || minutes === '0';\n            minutes = leadZeroMinutes ? '0' + minutes : minutes;\n        }\n\n        if (this.timePicker.showSecondsList) {\n            seconds = sections[sections.length - (this.timePicker.showAmPmList ? 2 : 1)];\n            seconds = seconds.replace(regExp, '');\n\n            const leadZeroSeconds = (parseInt(seconds, 10) < 10 && !seconds.startsWith('0')) || seconds === '0';\n            seconds = leadZeroSeconds ? '0' + seconds : seconds;\n        }\n\n        if (this.timePicker.showAmPmList) {\n            amPM = sections[sections.length - 1];\n        }\n\n        let result = `${hour}:${minutes}:${seconds}`;\n        if (!hour) {\n            // remove the hours\n            result = result.slice(result.indexOf(':') + 1);\n        }\n        if (!minutes) {\n            if (hour) {\n                // get the hours and seconds and concat them\n                result = result.slice(0, result.indexOf(':')) +\n                    result.slice(result.lastIndexOf(':'), result.length);\n            } else {\n                // remove the minutes\n                result = result.slice(result.indexOf(':') + 1);\n            }\n        }\n        if (!seconds) {\n            // remove the seconds\n            result = result.slice(0, result.lastIndexOf(':'));\n        }\n\n        return amPM ? `${result} ${amPM}` : result;\n    }\n}\n","import {\n    CommonModule\n} from '@angular/common';\nimport {\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    HostListener,\n    Input,\n    NgModule,\n    OnDestroy,\n    OnInit,\n    Output,\n    TemplateRef,\n    ViewChild,\n    ContentChild,\n    Injectable,\n    AfterViewInit,\n    Injector,\n    ChangeDetectorRef,\n    AfterViewChecked\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, NgControl, AbstractControl } from '@angular/forms';\nimport { HAMMER_GESTURE_CONFIG, HammerGestureConfig } from '@angular/platform-browser';\nimport { IgxIconModule } from '../icon/index';\nimport { IgxInputGroupModule, IgxInputGroupComponent } from '../input-group/input-group.component';\nimport { IgxInputDirective, IgxInputState } from '../directives/input/input.directive';\nimport {\n    IgxAmPmItemDirective,\n    IgxHourItemDirective,\n    IgxMinuteItemDirective,\n    IgxSecondsItemDirective,\n    IgxItemListDirective,\n    IgxTimePickerTemplateDirective,\n    IgxTimePickerActionsDirective\n} from './time-picker.directives';\nimport { Subject, fromEvent, interval, animationFrameScheduler, Subscription } from 'rxjs';\nimport { EditorProvider } from '../core/edit-provider';\nimport { IgxTimePickerBase, IGX_TIME_PICKER_COMPONENT } from './time-picker.common';\nimport { AbsoluteScrollStrategy } from '../services/overlay/scroll';\nimport { AutoPositionStrategy } from '../services/overlay/position';\nimport { OverlaySettings } from '../services/overlay/utilities';\nimport { takeUntil, throttle } from 'rxjs/operators';\nimport { IgxButtonModule } from '../directives/button/button.directive';\nimport { IgxMaskModule } from '../directives/mask/mask.directive';\nimport { IgxOverlayOutletDirective, IgxToggleModule, IgxToggleDirective } from '../directives/toggle/toggle.directive';\nimport { TimeDisplayFormatPipe, TimeInputFormatPipe } from './time-picker.pipes';\nimport { ITimePickerResourceStrings } from '../core/i18n/time-picker-resources';\nimport { CurrentResourceStrings } from '../core/i18n/resources';\nimport { KEYS, CancelableBrowserEventArgs, IBaseEventArgs } from '../core/utils';\nimport { InteractionMode } from '../core/enums';\nimport { DeprecateProperty } from '../core/deprecateDecorators';\n\nlet NEXT_ID = 0;\nconst ITEMS_COUNT = 7;\n\n@Injectable()\nexport class TimePickerHammerConfig extends HammerGestureConfig {\n    public overrides = {\n        pan: { direction: Hammer.DIRECTION_VERTICAL, threshold: 1 }\n    };\n}\n\nexport interface IgxTimePickerValueChangedEventArgs extends IBaseEventArgs {\n    oldValue: Date;\n    newValue: Date;\n}\n\nexport interface IgxTimePickerValidationFailedEventArgs extends IBaseEventArgs {\n    timePicker: IgxTimePickerComponent;\n    currentValue: Date;\n    setThroughUI: boolean;\n}\n\nconst noop = () => { };\n\n@Component({\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: IgxTimePickerComponent,\n            multi: true\n        },\n        {\n            provide: HAMMER_GESTURE_CONFIG,\n            useClass: TimePickerHammerConfig\n        },\n        {\n            provide: IGX_TIME_PICKER_COMPONENT,\n            useExisting: IgxTimePickerComponent\n        }\n    ],\n    selector: 'igx-time-picker',\n    templateUrl: 'time-picker.component.html',\n    styles: [\n        `:host {\n            display: block;\n        }`\n    ]\n})\nexport class IgxTimePickerComponent implements\n    IgxTimePickerBase,\n    ControlValueAccessor,\n    EditorProvider,\n    OnInit,\n    OnDestroy,\n    AfterViewInit,\n    AfterViewChecked {\n\n    /**\n     * An @Input property that sets the value of the `id` attribute.\n     * ```html\n     * <igx-time-picker [id]=\"'igx-time-picker-5'\" format=\"h:mm tt\" ></igx-time-picker>\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-time-picker-${NEXT_ID++}`;\n\n    /**\n     * An accessor that allows you to set a time using the `value` input.\n     * ```html\n     *public date: Date = new Date(Date.now());\n     *  //...\n     *<igx-time-picker [value]=\"date\" format=\"h:mm tt\"></igx-time-picker>\n     * ```\n     */\n    @Input()\n    set value(value: Date) {\n        if (this._isValueValid(value)) {\n            const oldVal = this._value;\n\n            this._value = value;\n            this._onChangeCallback(value);\n\n            const dispVal = this._formatTime(this.value, this.format);\n            if (this.mode === InteractionMode.DropDown && this._displayValue !== dispVal) {\n                this.displayValue = dispVal;\n            }\n\n            const args: IgxTimePickerValueChangedEventArgs = {\n                oldValue: oldVal,\n                newValue: value\n            };\n            this.onValueChanged.emit(args);\n        } else {\n            const args: IgxTimePickerValidationFailedEventArgs = {\n                timePicker: this,\n                currentValue: value,\n                setThroughUI: false\n            };\n            this.onValidationFailed.emit(args);\n        }\n    }\n\n    /**\n     * An accessor that returns the value of `igx-time-picker` component.\n     * ```html\n     *@ViewChild(\"MyPick\")\n     *public pick: IgxTimePickerComponent;\n     *ngAfterViewInit(){\n     *    let pickSelect = this.pick.value;\n     * }\n     * ```\n     */\n    get value(): Date {\n        return this._value;\n    }\n\n    /**\n     * An @Input property that allows you to disable the `igx-time-picker` component. By default `disabled` is set to false.\n     * ```html\n     * <igx-time-picker [disabled]=\"'true'\" [vertical]=\"true\" format=\"h:mm tt\" ></igx-time-picker>\n     * ```\n     */\n    @Input()\n    public disabled = false;\n\n    /**\n     * An accessor that sets the resource strings.\n     * By default it uses EN resources.\n    */\n    @Input()\n    set resourceStrings(value: ITimePickerResourceStrings) {\n        this._resourceStrings = Object.assign({}, this._resourceStrings, value);\n    }\n\n    /**\n     * An accessor that returns the resource strings.\n    */\n    get resourceStrings(): ITimePickerResourceStrings {\n        return this._resourceStrings;\n    }\n\n    /**\n     * An @Input property that renders OK button with custom text. By default `okButtonLabel` is set to OK.\n     * ```html\n     * <igx-time-picker okButtonLabel='SET' [value]=\"date\" format=\"h:mm tt\"></igx-time-picker>\n     * ```\n     */\n    @Input()\n    set okButtonLabel(value: string) {\n        this._okButtonLabel = value;\n    }\n\n    /**\n     * An accessor that returns the label of ok button.\n    */\n    get okButtonLabel(): string {\n        if (this._okButtonLabel === null) {\n            return this.resourceStrings.igx_time_picker_ok;\n        }\n        return this._okButtonLabel;\n    }\n\n    /**\n     * An @Input property that renders cancel button with custom text.\n     * By default `cancelButtonLabel` is set to Cancel.\n     * ```html\n     * <igx-time-picker cancelButtonLabel='Exit' [value]=\"date\" format=\"h:mm tt\"></igx-time-picker>\n     * ```\n     */\n    @Input()\n    set cancelButtonLabel(value: string) {\n        this._cancelButtonLabel = value;\n    }\n\n    /**\n    * An accessor that returns the label of cancel button.\n    */\n    get cancelButtonLabel(): string {\n        if (this._cancelButtonLabel === null) {\n            return this.resourceStrings.igx_time_picker_cancel;\n        }\n        return this._cancelButtonLabel;\n    }\n\n    /**\n     * An @Input property that gets/sets the delta by which hour and minute items would be changed <br>\n     * when the user presses the Up/Down keys.\n     * By default `itemsDelta` is set to `{hours: 1, minutes: 1, seconds: 1}`\n     * ```html\n     *<igx-time-picker [itemsDelta]=\"{hours:3, minutes:5, seconds:10}\" id=\"time-picker\"></igx-time-picker>\n     *```\n     */\n    @Input()\n    set itemsDelta(value) {\n        this._itemsDelta = { hours: 1, minutes: 1, seconds: 1, ...value };\n    }\n\n    get itemsDelta(): { hours: number, minutes: number, seconds: number } {\n        return this._itemsDelta;\n    }\n\n    /**\n     * An @Input property that allows you to set the `minValue` to limit the user input.\n     *```html\n     *public min: string = \"09:00\";\n     *  //..\n     *<igx-time-picker format=\"HH:mm\" [vertical]=\"true\" [minValue]=\"min\"></igx-time-picker>\n     *```\n     */\n    @Input()\n    public minValue: string;\n\n    /**\n     * An @Input property that allows you to set the `maxValue` to limit the user input.\n     *```html\n     *public max: string = \"18:00\";\n     *  //..\n     *<igx-time-picker format=\"HH:mm\" [vertical]=\"true\" [maxValue]=\"max\"></igx-time-picker>\n     *```\n     */\n    @Input()\n    public maxValue: string;\n\n    /**\n     * An @Input property that determines the spin behavior. By default `isSpinLoop` is set to true.\n     * The seconds, minutes and hour spinning will wrap around by default.\n     *```html\n     *<igx-time-picker [isSpinLoop]=\"false\" id=\"time-picker\"></igx-time-picker>\n     *```\n     */\n    @Input()\n    public isSpinLoop = true;\n\n    /**\n     * An @Input property that Gets/Sets the orientation of the `igxTimePicker`. By default `vertical` is set to false.\n     * ```html\n     *<igx-time-picker [vertical]=\"true\" id=\"time-picker\"></igx-time-picker>\n     * ```\n     */\n    @Input()\n    public vertical = false;\n\n    /**\n     * An @Input property that Gets/Sets format of time while `igxTimePicker` does not have focus. <br>\n     * By default `format` is set to hh:mm tt. <br>\n     * List of time-flags: <br>\n     * `h` : hours field in 12-hours format without leading zero <br>\n     * `hh` : hours field in 12-hours format with leading zero <br>\n     * `H` : hours field in 24-hours format without leading zero <br>\n     * `HH` : hours field in 24-hours format with leading zero <br>\n     * `m` : minutes field without leading zero <br>\n     * `mm` : minutes field with leading zero <br>\n     * `s` : seconds field without leading zero <br>\n     * `ss` : seconds field with leading zero <br>\n     * `tt` : 2 character string which represents AM/PM field <br>\n     * ```html\n     *<igx-time-picker format=\"HH:m\" id=\"time-picker\"></igx-time-picker>\n     * ```\n     */\n    @Input()\n    get format() {\n        return this._format || 'hh:mm tt';\n    }\n\n    set format(formatValue: string) {\n        this._format = formatValue;\n        this.mask = this._format.indexOf('tt') !== -1 ? '00:00:00 LL' : '00:00:00';\n\n        if (!this.showHoursList || !this.showMinutesList) {\n            this.trimMask();\n        }\n\n        if (!this.showSecondsList) {\n            this.trimMask();\n        }\n\n        if (this.displayValue) {\n            this.displayValue = this._formatTime(this.value, this._format);\n        }\n\n        this.determineCursorPos();\n    }\n\n    /**\n     * Sets the character used to prompt the user for input.\n     * Default value is \"'-'\".\n     * ```html\n     * <igx-time-picker [promptChar] = \"'_'\">\n     * ```\n     * @memberof IgxTimePickerComponent\n     */\n    @Input()\n    public promptChar = '-';\n\n    /**\n     * An @Input property that allows you to switch the interaction mode between\n     * a dialog picker or dropdown with editable masked input.\n     * Deafult is dialog picker.\n     *```html\n     *public mode = InteractionMode.DROPDOWN;\n     *  //..\n     *<igx-time-picker [mode]=\"mode\"></igx-time-picker>\n     *```\n     * @memberof IgxTimePickerComponent\n     */\n    @Input()\n    public mode = InteractionMode.Dialog;\n\n    /**\n     * Determines the container the popup element should be attached to.\n     *\n     * ```html\n     * <div igxOverlayOutlet #outlet=\"overlay-outlet\"></div>\n     * //..\n     * <igx-time-picker [outlet]=\"outlet\"></igx-time-picker>\n     * //..\n     * ```\n     * Where `outlet` is an instance of `IgxOverlayOutletDirective` or an `ElementRef`.\n     */\n    @Input()\n    public outlet: IgxOverlayOutletDirective | ElementRef;\n\n    /**\n    * An @Input property that allows you to modify overlay positioning, interaction and scroll behavior.\n    * ```typescript\n    * const settings: OverlaySettings = {\n    *      closeOnOutsideClick: true,\n    *      modal: false\n    *  }\n    * ```\n    * ---\n    * ```html\n    * <igx-time-picker [overlaySettings]=\"settings\"></igx-time-picker>\n    * ```\n     * @memberof IgxTimePickerComponent\n     */\n    @Input()\n    public set overlaySettings(value: OverlaySettings) {\n        this._overlaySettings = value;\n    }\n\n    public get overlaySettings(): OverlaySettings {\n        return this._overlaySettings ? this._overlaySettings :\n            (this.mode === InteractionMode.Dialog ? this._dialogOverlaySettings : this._dropDownOverlaySettings);\n    }\n\n    /**\n     * Emitted when selection is made. The event contains the selected value. Returns {`oldValue`: `Date`, `newValue`: `Date`}.\n     *```typescript\n     * @ViewChild(\"toast\")\n     *private toast: IgxToastComponent;\n     *public onValueChanged(timepicker){\n     *    this.toast.show()\n     *}\n     * //...\n     * ```\n     * ```html\n     *<igx-time-picker (onValueChanged)=\"onValueChanged($event)\"></igx-time-picker>\n     *<igx-toast #toast message=\"The value has been changed!\"></igx-toast>\n     *```\n     */\n    @Output()\n    public onValueChanged = new EventEmitter<IgxTimePickerValueChangedEventArgs>();\n\n    /**\n     * Emitted when an invalid value is being set. Returns {`timePicker`: `any`, `currentValue`: `Date`, `setThroughUI`: `boolean`}\n     * ```typescript\n     *public min: string = \"09:00\";\n     *public max: string = \"18:00\";\n     *@ViewChild(\"toast\")\n     *private toast: IgxToastComponent;\n     *public onValidationFailed(timepicker){\n     *    this.toast.show();\n     *}\n     * //...\n     * ```\n     * ```html\n     *<igx-time-picker [minValue]=\"min\" [maxValue]=\"max\" (onValidationFailed)=\"onValidationFailed($event)\"></igx-time-picker>\n     *<igx-toast #toast message=\"Value must be between 09:00 and 18:00!\"></igx-toast>\n     * ```\n     */\n    @Output()\n    public onValidationFailed = new EventEmitter<IgxTimePickerValidationFailedEventArgs>();\n\n    /**\n     * @deprecated Use 'onOpened' instead.\n     * Emitted when a timePicker is being opened.\n     * ```html\n     *@ViewChild(\"toast\")\n     *private toast: IgxToastComponent;\n     *public onOpen(timepicker){\n     *    this.toast.show();\n     *}\n     * //...\n     * ```\n     * ```html\n     *<igx-time-picker [minValue]=\"min\" [maxValue]=\"max\" (onOpen)=\"onOpen($event)\"></igx-time-picker>\n     *<igx-toast #toast message=\"The time picker has been opened!\"></igx-toast>\n     * ```\n     */\n    @DeprecateProperty(`'onOpen' @Output property is deprecated. Use 'onOpened' instead.`)\n    @Output()\n    public get onOpen(): EventEmitter<IgxTimePickerComponent> {\n        return this._onOpen;\n    }\n\n    public set onOpen(val: EventEmitter<IgxTimePickerComponent>) {\n        this._onOpen = val;\n    }\n\n    /**\n     * Emitted when a timePicker is opened.\n     */\n    @Output()\n    public onOpened = new EventEmitter<IgxTimePickerComponent>();\n\n    /**\n     * @deprecated Use 'onClosed' instead.\n     * Emitted when a timePicker is being closed.\n     */\n    @DeprecateProperty(`'onClose' @Output property is deprecated. Use 'onClosed' instead.`)\n    @Output()\n    public get onClose(): EventEmitter<IgxTimePickerComponent> {\n        return this._onClose;\n    }\n\n    public set onClose(val: EventEmitter<IgxTimePickerComponent>) {\n        this._onClose = val;\n    }\n\n    /**\n     * Emitted when a timePicker is closed.\n     */\n    @Output()\n    public onClosed = new EventEmitter<IgxTimePickerComponent>();\n\n    /**\n     * Emitted when a timePicker is being closed.\n     */\n    @Output()\n    public onClosing = new EventEmitter<CancelableBrowserEventArgs & IBaseEventArgs>();\n\n    /**\n     * @hidden\n     */\n    @ViewChild('hourList')\n    public hourList: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('minuteList')\n    public minuteList: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('secondsList')\n    public secondsList: ElementRef;\n\n    /**\n     * @hidden\n     */\n    @ViewChild('ampmList')\n    public ampmList: ElementRef;\n\n    /*\n     * @hidden\n     */\n    @ViewChild('defaultTimePickerTemplate', { read: TemplateRef, static: true })\n    protected defaultTimePickerTemplate: TemplateRef<any>;\n\n    @ViewChild('dropdownInputTemplate', { read: TemplateRef, static: true })\n    private dropdownInputTemplate: TemplateRef<any>;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxTimePickerTemplateDirective, { read: IgxTimePickerTemplateDirective })\n    protected timePickerTemplateDirective: IgxTimePickerTemplateDirective;\n\n    /**\n     *@hidden\n     */\n    @ContentChild(IgxTimePickerActionsDirective, { read: IgxTimePickerActionsDirective })\n    public timePickerActionsDirective: IgxTimePickerActionsDirective;\n\n    /**\n     * @hidden\n     */\n    @ViewChild(IgxToggleDirective, { static: true })\n    public toggleRef: IgxToggleDirective;\n\n    @ViewChild(IgxInputDirective, { read: ElementRef })\n    private _inputElementRef: ElementRef;\n\n    @ViewChild(IgxInputDirective, { read: IgxInputDirective})\n    private _inputDirective: IgxInputDirective;\n\n    @ContentChild(IgxInputDirective, { read: IgxInputDirective})\n    private _inputDirectiveUserTemplate: IgxInputDirective;\n\n    @ViewChild(IgxInputGroupComponent, { read: IgxInputGroupComponent })\n    private _inputGroup: IgxInputGroupComponent;\n\n    private _overlaySettings: OverlaySettings;\n\n    /**\n     * @hidden\n     */\n    public _hourItems = [];\n\n    /**\n     * @hidden\n     */\n    public _minuteItems = [];\n\n    /**\n     * @hidden\n     */\n    public _secondsItems = [];\n\n    /**\n     * @hidden\n     */\n    public _ampmItems = [];\n\n    /**\n     * @hidden\n    */\n    public cleared = false;\n\n    /**\n     * @hidden\n    */\n    public isNotEmpty = false;\n\n    /**\n     * @hidden\n    */\n    public displayFormat = new TimeDisplayFormatPipe(this);\n\n    /**\n     * @hidden\n    */\n    public inputFormat = new TimeInputFormatPipe(this);\n\n    /**\n     * @hidden\n     */\n    public selectedHour: string;\n\n    /**\n     * @hidden\n     */\n    public selectedMinute: string;\n\n    /**\n     * @hidden\n     */\n    public selectedSeconds: string;\n\n    /**\n     * @hidden\n     */\n    public selectedAmPm: string;\n\n    /** @hidden @internal */\n    private _value: Date;\n    private _resourceStrings = CurrentResourceStrings.TimePickerResStrings;\n    private _okButtonLabel = null;\n    private _cancelButtonLabel = null;\n    private _format: string;\n    private _mask: string;\n    private _displayValue: string;\n    private _itemsDelta: { hours: number, minutes: number, seconds: number } = { hours: 1, minutes: 1, seconds: 1 };\n\n    private _isHourListLoop = this.isSpinLoop;\n    private _isMinuteListLoop = this.isSpinLoop;\n    private _isSecondsListLoop = this.isSpinLoop;\n\n    private _hourView = [];\n    private _minuteView = [];\n    private _secondsView = [];\n    private _ampmView = [];\n\n    private _dateFromModel: Date;\n    private _destroy$ = new Subject<boolean>();\n    private _statusChanges$: Subscription;\n    private _dropDownOverlaySettings: OverlaySettings;\n    private _dialogOverlaySettings: OverlaySettings;\n\n    private _prevSelectedHour: string;\n    private _prevSelectedMinute: string;\n    private _prevSelectedSeconds: string;\n    private _prevSelectedAmPm: string;\n\n    private _onOpen = new EventEmitter<IgxTimePickerComponent>();\n    private _onClose = new EventEmitter<IgxTimePickerComponent>();\n\n    private _hoursPos = new Set();\n    private _minutesPos = new Set();\n    private _secondsPos = new Set();\n    private _amPmPos = new Set();\n    private _ngControl: NgControl = null;\n\n    //#region ControlValueAccessor\n\n    private _onChangeCallback: (_: Date) => void = noop;\n    private _onTouchedCallback: () => void = noop;\n\n    /** @hidden @internal */\n    public writeValue(value: Date) {\n        // use this flag to make sure that min/maxValue are checked (in _convertMinMaxValue() method)\n        // against the real value when initializing the component and value is bound via ngModel\n        this._dateFromModel = value;\n\n        this._value = value;\n\n        if (this.mode === InteractionMode.DropDown) {\n            this.displayValue = this._formatTime(this.value, this.format);\n        }\n    }\n\n    /** @hidden @internal */\n    public registerOnChange(fn: (_: Date) => void) { this._onChangeCallback = fn; }\n\n    /** @hidden @internal */\n    public registerOnTouched(fn: () => void) { this._onTouchedCallback = fn; }\n\n    /** @hidden @internal */\n    public setDisabledState(isDisabled: boolean): void { this.disabled = isDisabled; }\n\n    //#endregion\n\n    private trimMask(): void {\n        this.mask = this.mask.slice(this.mask.indexOf(':') + 1, this.mask.length);\n    }\n\n    /**\n     * @hidden\n    */\n    get mask(): string {\n        return this._mask || '00:00 LL';\n    }\n\n    set mask(val: string) {\n        this._mask = val;\n    }\n\n    /**\n     * @hidden\n     */\n    get displayValue(): string {\n        if (this._displayValue === undefined) {\n            return this._formatTime(this.value, this.format);\n        }\n        return this._displayValue;\n    }\n\n    set displayValue(value: string) {\n        this._displayValue = value;\n    }\n\n    /**\n     * Returns the current time formatted as string using the `format` option.\n     * If there is no set time the return is an empty string.\n     *```typescript\n     *@ViewChild(\"MyChild\")\n     *private picker: IgxTimePickerComponent;\n     *ngAfterViewInit(){\n     *    let time = this.picker.displayTime;\n     *}\n     *```\n     */\n    public get displayTime(): string {\n        if (this.value) {\n            return this._formatTime(this.value, this.format);\n        }\n        return '';\n    }\n\n    /**\n     * @hidden\n     */\n    get hourView(): string[] {\n        return this._hourView;\n    }\n\n    /**\n     * @hidden\n     */\n    get minuteView(): string[] {\n        return this._minuteView;\n    }\n\n    /**\n     * @hidden\n     */\n    get secondsView(): string[] {\n        return this._secondsView;\n    }\n\n    /**\n     * @hidden\n     */\n    get ampmView(): string[] {\n        return this._ampmView;\n    }\n\n    /**\n     * @hidden\n     */\n    get showClearButton(): boolean {\n        return (this.displayValue && this.displayValue !== this.parseMask(false)) || this.isNotEmpty;\n    }\n\n    /**\n     * @hidden\n     */\n    get showHoursList(): boolean {\n        return this.format.indexOf('h') !== - 1 || this.format.indexOf('H') !== - 1;\n    }\n\n    /**\n     * @hidden\n     */\n    get showMinutesList(): boolean {\n        return this.format.indexOf('m') !== - 1;\n    }\n\n    /**\n     * @hidden\n     */\n    get showSecondsList(): boolean {\n        return this.format.indexOf('s') !== - 1;\n    }\n\n    /**\n     * @hidden\n     */\n    get showAmPmList(): boolean {\n        return this.format.indexOf('t') !== - 1;\n    }\n\n    /**\n     * @hidden\n     */\n    get validSecondsEntries(): any[] {\n        const secondsEntries = [];\n        for (let i = 0; i < 60; i++) {\n            secondsEntries.push(i);\n        }\n        return secondsEntries;\n    }\n\n    /**\n     * @hidden\n     */\n    get validMinuteEntries(): any[] {\n        const minuteEntries = [];\n        for (let i = 0; i < 60; i++) {\n            minuteEntries.push(i);\n        }\n        return minuteEntries;\n    }\n\n    /**\n     * @hidden\n     */\n    get validHourEntries(): any[] {\n        const hourEntries = [];\n        const index = this.format.indexOf('h') !== -1 ? 13 : 24;\n        for (let i = 0; i < index; i++) {\n            hourEntries.push(i);\n        }\n        return hourEntries;\n    }\n\n    /**\n     * Gets the input group template.\n     * ```typescript\n     * let template = this.template();\n     * ```\n     * @memberof IgxTimePickerComponent\n     */\n    get template(): TemplateRef<any> {\n        if (this.timePickerTemplateDirective) {\n            return this.timePickerTemplateDirective.template;\n        }\n        return this.mode === InteractionMode.Dialog ? this.defaultTimePickerTemplate : this.dropdownInputTemplate;\n    }\n\n    /**\n     * Gets the context passed to the input group template.\n     * @memberof IgxTimePickerComponent\n     */\n    get context() {\n        return {\n            value: this.value,\n            displayTime: this.displayTime,\n            displayValue: this.displayValue,\n            openDialog: (target?: HTMLElement) => this.openDialog(target)\n        };\n    }\n\n    private get required(): boolean {\n        if (this._ngControl && this._ngControl.control && this._ngControl.control.validator) {\n            // Run the validation with empty object to check if required is enabled.\n            const error = this._ngControl.control.validator({} as AbstractControl);\n            return error && error.required;\n        }\n\n        return false;\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnInit(): void {\n        this._generateHours();\n        this._generateMinutes();\n        this._generateSeconds();\n        if (this.format.indexOf('tt') !== -1) {\n            this._generateAmPm();\n        }\n\n        this._dropDownOverlaySettings = {\n            modal: false,\n            closeOnOutsideClick: true,\n            scrollStrategy: new AbsoluteScrollStrategy(),\n            positionStrategy: new AutoPositionStrategy()\n        };\n        this._dialogOverlaySettings = {};\n        this._ngControl = this._injector.get<NgControl>(NgControl, null);\n    }\n\n    /**\n     * @hidden\n     */\n    public ngAfterViewInit(): void {\n        if (this.mode === InteractionMode.DropDown && this._inputElementRef) {\n            fromEvent(this._inputElementRef.nativeElement, 'keydown').pipe(\n                throttle(() => interval(0, animationFrameScheduler)),\n                takeUntil(this._destroy$)\n            ).subscribe((event: KeyboardEvent) => {\n                if (event.key === KEYS.UP_ARROW || event.key === KEYS.UP_ARROW_IE ||\n                    event.key === KEYS.DOWN_ARROW || event.key === KEYS.DOWN_ARROW_IE) {\n                    this.spinOnEdit(event);\n                }\n            });\n        }\n\n        if (this.toggleRef && this._inputGroup) {\n            this.toggleRef.element.style.width = this._inputGroup.element.nativeElement.getBoundingClientRect().width + 'px';\n        }\n\n        if (this.toggleRef) {\n            this.toggleRef.onClosed.pipe(takeUntil(this._destroy$)).subscribe(() => {\n                if (this.mode === InteractionMode.DropDown) {\n                    this._onDropDownClosed();\n                }\n\n                this.onClosed.emit(this);\n\n                // TODO: remove this line after deprecating 'onClose'\n                this._onClose.emit(this);\n            });\n\n            this.toggleRef.onOpened.pipe(takeUntil(this._destroy$)).subscribe(() => {\n                this.onOpened.emit(this);\n\n                // TODO: remove this line after deprecating 'onOpen'\n                this._onOpen.emit(this);\n            });\n\n            this.toggleRef.onClosing.pipe(takeUntil(this._destroy$)).subscribe((event) => {\n                this.onClosing.emit(event);\n                // If canceled in a user onClosing handler\n                if (event.cancel) {\n                    return;\n                }\n                // Do not focus the input if clicking outside in dropdown mode\n                const input = this.getEditElement();\n                if (input && !(event.event && this.mode === InteractionMode.DropDown)) {\n                    input.focus();\n                } else {\n                    this._updateValidityOnBlur();\n                }\n            });\n\n            this.determineCursorPos();\n\n            if (this._ngControl) {\n                this._statusChanges$ = this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this));\n            }\n        }\n    }\n\n    public ngAfterViewChecked() {\n        // if one sets mode at run time this forces initialization of new igxInputGroup\n        // As a result a new igxInputDirective is initialized too. In ngAfterViewInit of\n        // the new directive isRequired of the igxInputGroup is set again. However\n        // ngAfterViewInit of the time picker is not called again and we may finish with wrong\n        // isRequired in igxInputGroup. This is why we should set it her, only when needed\n        if (this._inputGroup && this._inputGroup.isRequired !== this.required) {\n            this._inputGroup.isRequired = this.required;\n            this._cdr.detectChanges();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public ngOnDestroy(): void {\n        this._destroy$.next(true);\n        this._destroy$.complete();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.spacebar', ['$event'])\n    @HostListener('keydown.space', ['$event'])\n    public onKeydownSpace(event) {\n        this.openDialog(this.getInputGroupElement());\n        event.preventDefault();\n    }\n\n    /**\n     * @hidden\n     */\n    @HostListener('keydown.Alt.ArrowDown')\n    public onAltArrowDown() {\n        this.openDialog(this.getInputGroupElement());\n    }\n\n    constructor(\n        private _injector: Injector,\n        private _cdr: ChangeDetectorRef) { }\n\n    private determineCursorPos(): void {\n        this.clearCursorPos();\n        for (const char of this.format) {\n            switch (char) {\n                case 'H':\n                case 'h':\n                    this._hoursPos.size === 0 ? this._hoursPos.add(this.format.indexOf(char)) :\n                        this._hoursPos.add(this.format.lastIndexOf(char));\n                    this._hoursPos.add(this.format.lastIndexOf(char) + 1);\n                    break;\n                case 'M':\n                case 'm':\n                    this._minutesPos.size === 0 ? this._minutesPos.add(this.format.indexOf(char)) :\n                        this._minutesPos.add(this.format.lastIndexOf(char));\n                    this._minutesPos.add(this.format.lastIndexOf(char) + 1);\n                    break;\n                case 'S':\n                case 's':\n                    this._secondsPos.size === 0 ? this._secondsPos.add(this.format.indexOf(char)) :\n                        this._secondsPos.add(this.format.lastIndexOf(char));\n                    this._secondsPos.add(this.format.lastIndexOf(char) + 1);\n                    break;\n                case 'T':\n                case 't':\n                    this._amPmPos.size === 0 ? this._amPmPos.add(this.format.indexOf(char)) :\n                        this._amPmPos.add(this.format.lastIndexOf(char));\n                    this._amPmPos.add(this.format.lastIndexOf(char) + 1);\n                    break;\n            }\n        }\n    }\n\n    private clearCursorPos() {\n        this._hoursPos.forEach(v => this._hoursPos.delete(v));\n        this._minutesPos.forEach(v => this._minutesPos.delete(v));\n        this._secondsPos.forEach(v => this._secondsPos.delete(v));\n        this._amPmPos.forEach(v => this._amPmPos.delete(v));\n    }\n\n    private _scrollItemIntoView(item: string, items: any[], selectedItem: string, isListLoop: boolean, viewType: string): any {\n        let itemIntoView;\n        if (items) {\n            const index = (item === 'AM' || item === 'PM') ? items.indexOf(item) : items.indexOf(parseInt(item, 10));\n            let view;\n\n            if (index !== -1) {\n                if (isListLoop) {\n                    if (index > 0) {\n                        selectedItem = this._itemToString(items[index - 1], viewType);\n                        itemIntoView = this._nextItem(items, selectedItem, isListLoop, viewType);\n                    } else {\n                        selectedItem = this._itemToString(items[1], viewType);\n                        itemIntoView = this._prevItem(items, selectedItem, isListLoop, viewType);\n                    }\n                } else {\n                    view = items.slice(index - 3, index + 4);\n                    selectedItem = this._itemToString(items[index], viewType);\n                    itemIntoView = { selectedItem, view };\n                }\n                itemIntoView.view = this._viewToString(itemIntoView.view, viewType);\n            }\n        }\n        return itemIntoView;\n    }\n\n    private _viewToString(view: any, viewType: string): any {\n        for (let i = 0; i < view.length; i++) {\n            if (typeof (view[i]) !== 'string') {\n                view[i] = this._itemToString(view[i], viewType);\n            }\n        }\n        return view;\n    }\n\n    private _itemToString(item: any, viewType: string): string {\n        if (item === null) {\n            item = '';\n        } else if (viewType && typeof (item) !== 'string') {\n            const leadZeroHour = (item < 10 && (this.format.indexOf('hh') !== -1 || this.format.indexOf('HH') !== -1));\n            const leadZeroMinute = (item < 10 && this.format.indexOf('mm') !== -1);\n            const leadZeroSeconds = (item < 10 && this.format.indexOf('ss') !== -1);\n\n            const leadZero = {\n                hour: leadZeroHour,\n                minute: leadZeroMinute,\n                seconds: leadZeroSeconds\n            }[viewType];\n\n            item = (leadZero) ? '0' + item : `${item}`;\n        }\n        return item;\n    }\n\n    private _prevItem(items: any[], selectedItem: string, isListLoop: boolean, viewType: string): any {\n        const selectedIndex = items.indexOf(parseInt(selectedItem, 10));\n        const itemsCount = items.length;\n        let view;\n\n        if (selectedIndex === -1) {\n            view = items.slice(0, 7);\n            selectedItem = items[3];\n        } else if (isListLoop) {\n            if (selectedIndex - 4 < 0) {\n                view = items.slice(itemsCount - (4 - selectedIndex), itemsCount);\n                view = view.concat(items.slice(0, selectedIndex + 3));\n            } else if (selectedIndex + 4 > itemsCount) {\n                view = items.slice(selectedIndex - 4, itemsCount);\n                view = view.concat(items.slice(0, selectedIndex + 3 - itemsCount));\n            } else {\n                view = items.slice(selectedIndex - 4, selectedIndex + 3);\n            }\n\n            selectedItem = (selectedIndex === 0) ? items[itemsCount - 1] : items[selectedIndex - 1];\n        } else if (selectedIndex > 3) {\n            view = items.slice(selectedIndex - 4, selectedIndex + 3);\n            selectedItem = items[selectedIndex - 1];\n        } else if (selectedIndex === 3) {\n            view = items.slice(0, 7);\n        }\n        view = this._viewToString(view, viewType);\n        selectedItem = this._itemToString(selectedItem, viewType);\n        return {\n            selectedItem,\n            view\n        };\n    }\n\n    private _nextItem(items: any[], selectedItem: string, isListLoop: boolean, viewType: string): any {\n        const selectedIndex = items.indexOf(parseInt(selectedItem, 10));\n        const itemsCount = items.length;\n        let view;\n\n        if (selectedIndex === -1) {\n            view = items.slice(0, 7);\n            selectedItem = items[3];\n        } else if (isListLoop) {\n            if (selectedIndex < 2) {\n                view = items.slice(itemsCount - (2 - selectedIndex), itemsCount);\n                view = view.concat(items.slice(0, selectedIndex + 5));\n            } else if (selectedIndex + 4 >= itemsCount) {\n                view = items.slice(selectedIndex - 2, itemsCount);\n                view = view.concat(items.slice(0, selectedIndex + 5 - itemsCount));\n            } else {\n                view = items.slice(selectedIndex - 2, selectedIndex + 5);\n            }\n\n            selectedItem = (selectedIndex === itemsCount - 1) ? items[0] : items[selectedIndex + 1];\n        } else if (selectedIndex + 1 < itemsCount - 3) {\n            view = items.slice(selectedIndex - 2, selectedIndex + 5);\n            selectedItem = items[selectedIndex + 1];\n        } else if (selectedIndex === itemsCount - 4) {\n            view = items.slice(selectedIndex - 3, itemsCount);\n        }\n        view = this._viewToString(view, viewType);\n        selectedItem = this._itemToString(selectedItem, viewType);\n        return {\n            selectedItem,\n            view\n        };\n    }\n\n    private _formatTime(value: Date, format: string): string {\n        if (!value) {\n            return '';\n        } else {\n            let hour = value.getHours();\n            let formattedSeconds, formattedMinute, formattedHour;\n\n            const minute = value.getMinutes();\n            const seconds = value.getSeconds();\n            const amPM = (hour > 11) ? 'PM' : 'AM';\n\n            if (format.indexOf('h') !== -1) {\n                if (hour > 12) {\n                    hour -= 12;\n                    formattedHour = hour < 10 && format.indexOf('hh') !== -1 ? '0' + hour : `${hour}`;\n                } else if (hour === 0) {\n                    formattedHour = '12';\n                } else if (hour < 10 && format.indexOf('hh') !== -1) {\n                    formattedHour = '0' + hour;\n                } else {\n                    formattedHour = `${hour}`;\n                }\n            } else {\n                if (hour < 10 && format.indexOf('HH') !== -1) {\n                    formattedHour = '0' + hour;\n                } else {\n                    formattedHour = `${hour}`;\n                }\n            }\n\n            formattedMinute = minute < 10 && format.indexOf('mm') !== -1 ? '0' + minute : `${minute}`;\n\n            formattedSeconds = seconds < 10 && format.indexOf('ss') !== -1 ? '0' + seconds : `${seconds}`;\n\n            return format.replace('hh', formattedHour).replace('h', formattedHour)\n                .replace('HH', formattedHour).replace('H', formattedHour)\n                .replace('mm', formattedMinute).replace('m', formattedMinute)\n                .replace('ss', formattedSeconds).replace('s', formattedSeconds)\n                .replace('tt', amPM);\n        }\n    }\n\n    private _updateHourView(start: any, end: any): void {\n        this._hourView = this._viewToString(this._hourItems.slice(start, end), 'hour');\n    }\n\n    private _updateMinuteView(start: any, end: any): void {\n        this._minuteView = this._viewToString(this._minuteItems.slice(start, end), 'minute');\n    }\n\n    private _updateSecondsView(start: any, end: any): void {\n        this._secondsView = this._viewToString(this._secondsItems.slice(start, end), 'seconds');\n    }\n\n    private _updateAmPmView(start: any, end: any): void {\n        this._ampmView = this._ampmItems.slice(start, end);\n    }\n\n    private _addEmptyItems(items: string[]): void {\n        for (let i = 0; i < 3; i++) {\n            items.push(null);\n        }\n    }\n\n    private _generateHours(): void {\n        let hourItemsCount = 24;\n        if (this.format.indexOf('h') !== -1) {\n            hourItemsCount = 13;\n        }\n\n        hourItemsCount /= this.itemsDelta.hours;\n\n        let i = this.format.indexOf('H') !== -1 ? 0 : 1;\n\n        if (hourItemsCount < 7 || !this.isSpinLoop) {\n            this._addEmptyItems(this._hourItems);\n            this._isHourListLoop = false;\n        }\n\n        if (hourItemsCount > 1) {\n            for (i; i < hourItemsCount; i++) {\n                this._hourItems.push(i * this.itemsDelta.hours);\n            }\n        } else {\n            this._hourItems.push(0);\n        }\n\n        if (hourItemsCount < 7 || !this.isSpinLoop) {\n            this._addEmptyItems(this._hourItems);\n        }\n    }\n\n    private _generateMinutes(): void {\n        const minuteItemsCount = 60 / this.itemsDelta.minutes;\n\n        if (minuteItemsCount < 7 || !this.isSpinLoop) {\n            this._addEmptyItems(this._minuteItems);\n            this._isMinuteListLoop = false;\n        }\n\n        for (let i = 0; i < minuteItemsCount; i++) {\n            this._minuteItems.push(i * this.itemsDelta.minutes);\n        }\n\n        if (minuteItemsCount < 7 || !this.isSpinLoop) {\n            this._addEmptyItems(this._minuteItems);\n        }\n    }\n\n    private _generateSeconds(): void {\n        const secondsItemsCount = 60 / this.itemsDelta.seconds;\n\n        if (secondsItemsCount < 7 || !this.isSpinLoop) {\n            this._addEmptyItems(this._secondsItems);\n            this._isSecondsListLoop = false;\n        }\n\n        for (let i = 0; i < secondsItemsCount; i++) {\n            this._secondsItems.push(i * this.itemsDelta.seconds);\n        }\n\n        if (secondsItemsCount < 7 || !this.isSpinLoop) {\n            this._addEmptyItems(this._secondsItems);\n        }\n    }\n\n    private _generateAmPm(): void {\n\n        this._addEmptyItems(this._ampmItems);\n\n        this._ampmItems.push('AM');\n        this._ampmItems.push('PM');\n\n        this._addEmptyItems(this._ampmItems);\n    }\n\n    private _getSelectedTime(): Date {\n        const date = this.value ? new Date(this.value) : new Date();\n        if (this.selectedHour) {\n            date.setHours(parseInt(this.selectedHour, 10));\n        }\n        if (this.selectedMinute) {\n            date.setMinutes(parseInt(this.selectedMinute, 10));\n        }\n        if (this.selectedSeconds) {\n            date.setSeconds(parseInt(this.selectedSeconds, 10));\n        }\n        if (((this.showHoursList && this.selectedHour !== '12') || (!this.showHoursList && this.selectedHour <= '11')) &&\n            this.selectedAmPm === 'PM') {\n            date.setHours(date.getHours() + 12);\n        }\n        if (!this.showHoursList && this.selectedAmPm === 'AM' && this.selectedHour > '11') {\n            date.setHours(date.getHours() - 12);\n        }\n        if (this.selectedAmPm === 'AM' && this.selectedHour === '12') {\n            date.setHours(0);\n        }\n        return date;\n    }\n\n    private _convertMinMaxValue(value: string): Date {\n        const date = this.value ? new Date(this.value) : this._dateFromModel ? new Date(this._dateFromModel) : new Date();\n        const sections = value.split(/[\\s:]+/);\n        let hour, minutes, seconds, amPM;\n\n        date.setSeconds(0);\n\n        if (this.showHoursList) {\n            hour = sections[0];\n            date.setHours(parseInt(hour, 10));\n        }\n\n        if (this.showMinutesList) {\n            minutes = this.showHoursList ? sections[1] : sections[0];\n            date.setMinutes(parseInt(minutes, 10));\n        }\n\n        if (this.showSecondsList) {\n            seconds = sections[sections.length - (this.showAmPmList ? 2 : 1)];\n            date.setSeconds(parseInt(seconds, 10));\n        }\n\n        if (this.showAmPmList) {\n            amPM = sections[sections.length - 1];\n\n            if (((this.showHoursList && date.getHours().toString() !== '12') ||\n                (!this.showHoursList && date.getHours().toString() <= '11')) && amPM === 'PM') {\n                date.setHours(date.getHours() + 12);\n            }\n\n            if (!this.showHoursList && amPM === 'AM' && date.getHours().toString() > '11') {\n                date.setHours(date.getHours() - 12);\n            }\n\n            if (this.showHoursList && date.getHours() === 12 && amPM === 'AM') {\n                date.setHours(0);\n            }\n        }\n\n        return date;\n    }\n\n    private _isValueValid(value: Date): boolean {\n        if (this.maxValue && value > this._convertMinMaxValue(this.maxValue)) {\n            return false;\n        } else if (this.minValue && value < this._convertMinMaxValue(this.minValue)) {\n            return false;\n        }\n\n        return true;\n    }\n\n    private _isEntryValid(val: string): boolean {\n        let validH = true;\n        let validM = true;\n        let validS = true;\n\n        const sections = val.split(/[\\s:]+/);\n        const re = new RegExp(this.promptChar, 'g');\n\n        if (this.showHoursList) {\n            validH = this.validHourEntries.indexOf(parseInt(sections[0].replace(re, ''), 10)) !== -1;\n        }\n\n        if (this.showMinutesList) {\n            const minutes = this.showHoursList ? sections[1] : sections[0];\n            validM = this.validMinuteEntries.indexOf(parseInt(minutes.replace(re, ''), 10)) !== -1;\n        }\n\n        if (this.showSecondsList) {\n            const seconds = sections[sections.length - (this.showAmPmList ? 2 : 1)];\n            validS = this.validSecondsEntries.indexOf(parseInt(seconds.replace(re, ''), 10)) !== -1;\n        }\n\n        return validH && validM && validS;\n    }\n\n    private _getCursorPosition(): number {\n        return this._inputElementRef.nativeElement.selectionStart;\n    }\n\n    private _setCursorPosition(start: number, end: number = start): void {\n        this._inputElementRef.nativeElement.setSelectionRange(start, end);\n    }\n\n    private _updateEditableInput(): void {\n        if (this.mode === InteractionMode.DropDown) {\n            this.displayValue = this._formatTime(this._getSelectedTime(), this.format);\n        }\n    }\n\n    private _spinHours(currentVal: Date, minVal: Date, maxVal: Date, hDelta: number, sign: number): Date {\n        const oldVal = new Date(currentVal);\n\n        currentVal.setMinutes(sign * hDelta);\n        if (currentVal.getDate() !== oldVal.getDate() && this.isSpinLoop) {\n            currentVal.setDate(oldVal.getDate());\n        }\n\n        let minutes = currentVal.getMinutes();\n        if (currentVal.getTime() > maxVal.getTime()) {\n            if (this.isSpinLoop) {\n                minutes = minutes < minVal.getMinutes() ? 60 + minutes : minutes;\n                minVal.setMinutes(sign * minutes);\n                return minVal;\n            } else {\n                return oldVal;\n            }\n        } else if (currentVal.getTime() < minVal.getTime()) {\n            if (this.isSpinLoop) {\n                minutes = minutes <= maxVal.getMinutes() ? minutes : minutes - 60;\n                maxVal.setMinutes(minutes);\n                return maxVal;\n            } else {\n                return oldVal;\n            }\n        } else {\n            return currentVal;\n        }\n    }\n\n    private _spinMinutes(currentVal: Date, mDelta: number, sign: number) {\n        let minutes = currentVal.getMinutes() + (sign * mDelta);\n\n        if (minutes < 0 || minutes >= 60) {\n            minutes = this.isSpinLoop ? minutes - (sign * 60) : currentVal.getMinutes();\n        }\n\n        currentVal.setMinutes(minutes);\n        return currentVal;\n    }\n\n    private _spinSeconds(currentVal: Date, sDelta: number, sign: number) {\n        let seconds = currentVal.getSeconds() + (sign * sDelta);\n\n        if (seconds < 0 || seconds >= 60) {\n            seconds = this.isSpinLoop ? seconds - (sign * 60) : currentVal.getSeconds();\n        }\n\n        currentVal.setSeconds(seconds);\n        return currentVal;\n    }\n\n    private _initializeContainer() {\n        if (this.value) {\n            const formttedTime = this._formatTime(this.value, this.format);\n            const sections = formttedTime.split(/[\\s:]+/);\n\n            if (this.showHoursList) {\n                this.selectedHour = sections[0];\n            }\n\n            if (this.showMinutesList) {\n                this.selectedMinute = this.showHoursList ? sections[1] : sections[0];\n            }\n\n            if (this.showSecondsList) {\n                this.selectedSeconds = sections[sections.length - (this.showAmPmList ? 2 : 1)];\n            }\n\n            if (this.showAmPmList && this._ampmItems !== null) {\n                this.selectedAmPm = sections[sections.length - 1];\n            }\n        }\n\n        if (this.selectedHour === undefined) {\n            this.selectedHour = !this.showHoursList && this.value ? this.value.getHours().toString() :\n                this.showHoursList ? `${this._hourItems[3]}` : '0';\n        }\n        if (this.selectedMinute === undefined) {\n            this.selectedMinute = !this.showMinutesList && this.value ? this.value.getMinutes().toString() : '0';\n        }\n        if (this.selectedSeconds === undefined) {\n            this.selectedSeconds = !this.showSecondsList && this.value ? this.value.getSeconds().toString() : '0';\n        }\n        if (this.selectedAmPm === undefined && this._ampmItems !== null) {\n            this.selectedAmPm = this._ampmItems[3];\n        }\n\n        this._prevSelectedHour = this.selectedHour;\n        this._prevSelectedMinute = this.selectedMinute;\n        this._prevSelectedSeconds = this.selectedSeconds;\n        this._prevSelectedAmPm = this.selectedAmPm;\n\n        this._onTouchedCallback();\n\n        this._updateHourView(0, ITEMS_COUNT);\n        this._updateMinuteView(0, ITEMS_COUNT);\n        this._updateSecondsView(0, ITEMS_COUNT);\n        this._updateAmPmView(0, ITEMS_COUNT);\n\n        if (this.selectedHour) {\n            this.scrollHourIntoView(this.selectedHour);\n        }\n        if (this.selectedMinute) {\n            this.scrollMinuteIntoView(this.selectedMinute);\n        }\n        if (this.selectedSeconds) {\n            this.scrollSecondsIntoView(this.selectedSeconds);\n        }\n        if (this.selectedAmPm) {\n            this.scrollAmPmIntoView(this.selectedAmPm);\n        }\n\n        requestAnimationFrame(() => {\n            if (this.hourList) {\n                this.hourList.nativeElement.focus();\n            } else if (this.minuteList) {\n                this.minuteList.nativeElement.focus();\n            } else if (this.secondsList) {\n                this.secondsList.nativeElement.focus();\n            }\n        });\n    }\n\n    private _onDropDownClosed(): void {\n        const oldValue = this.value;\n        const newVal = this._convertMinMaxValue(this.displayValue);\n\n        if (this.displayValue === this.parseMask(false)) {\n            return;\n        }\n\n        if (this._isValueValid(newVal)) {\n            if (!this.value || oldValue.getTime() !== newVal.getTime()) {\n                this.value = newVal;\n            }\n        } else {\n            this.displayValue = this.inputFormat.transform(this._formatTime(oldValue, this.format));\n\n            const args: IgxTimePickerValidationFailedEventArgs = {\n                timePicker: this,\n                currentValue: newVal,\n                setThroughUI: true\n            };\n            this.onValidationFailed.emit(args);\n        }\n    }\n\n    protected onStatusChanged() {\n        if ((this._ngControl.control.touched || this._ngControl.control.dirty) &&\n            (this._ngControl.control.validator || this._ngControl.control.asyncValidator)) {\n            const input = this._inputDirective || this._inputDirectiveUserTemplate;\n            if (this._inputGroup.isFocused) {\n                input.valid = this._ngControl.valid ? IgxInputState.VALID : IgxInputState.INVALID;\n            } else {\n                input.valid = this._ngControl.valid ? IgxInputState.INITIAL : IgxInputState.INVALID;\n            }\n        }\n\n        if (this._inputGroup && this._inputGroup.isRequired !== this.required) {\n            this._inputGroup.isRequired = this.required;\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    getEditElement() {\n        return this._inputElementRef ? this._inputElementRef.nativeElement : null;\n    }\n\n    /**\n     * @hidden\n     */\n    public getInputGroupElement() {\n        return this._inputGroup ? this._inputGroup.element.nativeElement : null;\n    }\n\n\n    /**\n     * opens the dialog.\n     * @param target HTMLElement - the target element to use for positioning the drop down container according to\n     * ```html\n     * <igx-time-picker [value]=\"date\" mode=\"dropdown\" #retemplated>\n     *   <ng-template igxTimePickerTemplate let-openDialog=\"openDialog\"\n     *                let-displayTime=\"displayTime\">\n     *     <igx-input-group>\n     *       <input #dropDownTarget igxInput [value]=\"displayTime\" />\n     *       <igx-suffix (click)=\"openDialog(dropDownTarget)\">\n     *         <igx-icon>alarm</igx-icon>\n     *       </igx-suffix>\n     *     </igx-input-group>\n     *   </ng-template>\n     * </igx-time-picker>\n     * ```\n     */\n    public openDialog(target?: HTMLElement): void {\n        if (!this.toggleRef.collapsed) {\n            return this._onDropDownClosed();\n        }\n        const settings = this.overlaySettings;\n\n        if (target && settings && settings.positionStrategy) {\n            settings.positionStrategy.settings.target = target;\n        }\n        if (this.outlet) {\n            settings.outlet = this.outlet;\n        }\n\n        this.toggleRef.open(settings);\n        this._initializeContainer();\n    }\n\n    /**\n     * Scrolls a hour item into view.\n     * ```typescript\n     *scrhintoView(picker) {\n     *picker.scrollHourIntoView('2');\n     *}\n     * ```\n     *```html\n     *<igx-time-picker #picker format=\"h:mm tt\" (onOpen)=\"scrhintoView(picker)\"></igx-time-picker>\n     *```\n     *@param item to be scrolled in view.\n     */\n    public scrollHourIntoView(item: string): void {\n        if (this.showHoursList) {\n            const hourIntoView = this._scrollItemIntoView(item, this._hourItems, this.selectedHour, this._isHourListLoop, 'hour');\n            if (hourIntoView) {\n                this._hourView = hourIntoView.view;\n                this.selectedHour = hourIntoView.selectedItem;\n                this._updateEditableInput();\n            }\n        }\n    }\n\n    /**\n     * Scrolls a minute item into view.\n     * ```typescript\n     *scrMintoView(picker) {\n     *picker.scrollMinuteIntoView('3');\n     *}\n     * ```\n     *```html\n     *<igx-time-picker #picker format=\"h:mm tt\" (onOpen)=\"scrMintoView(picker)\"></igx-time-picker>\n     *```\n     * @param item to be scrolled in view.\n     */\n    public scrollMinuteIntoView(item: string): void {\n        if (this.showMinutesList) {\n            const minuteIntoView = this._scrollItemIntoView(item, this._minuteItems, this.selectedMinute, this._isMinuteListLoop, 'minute');\n            if (minuteIntoView) {\n                this._minuteView = minuteIntoView.view;\n                this.selectedMinute = minuteIntoView.selectedItem;\n                this._updateEditableInput();\n            }\n        }\n    }\n\n    /**\n     * Scrolls a seconds item into view.\n     * ```typescript\n     *scrMintoView(picker) {\n     *picker.scrollSecondsIntoView('4');\n     *}\n     * ```\n     *```html\n     *<igx-time-picker #picker format=\"h:mm tt\" (onOpen)=\"scrMintoView(picker)\"></igx-time-picker>\n     *```\n     * @param item to be scrolled in view.\n     */\n    public scrollSecondsIntoView(item: string): void {\n        if (this.showSecondsList) {\n            const secondsIntoView = this._scrollItemIntoView(item,\n                this._secondsItems, this.selectedSeconds, this._isSecondsListLoop, 'seconds');\n            if (secondsIntoView) {\n                this._secondsView = secondsIntoView.view;\n                this.selectedSeconds = secondsIntoView.selectedItem;\n                this._updateEditableInput();\n            }\n        }\n    }\n\n    /**\n     * Scrolls an ampm item into view.\n     * ```typescript\n     *scrAmPmIntoView(picker) {\n     *picker.scrollAmPmIntoView('PM');\n     *}\n     * ```\n     *```html\n     *<igx-time-picker #picker format=\"h:mm tt\" (onOpen)=\"scrAmPmIntoView(picker)\"></igx-time-picker>\n     *```\n     * @param item to be scrolled in view.\n     */\n    public scrollAmPmIntoView(item: string): void {\n        if (this.showAmPmList) {\n            const ampmIntoView = this._scrollItemIntoView(item, this._ampmItems, this.selectedAmPm, false, null);\n            if (ampmIntoView) {\n                this._ampmView = ampmIntoView.view;\n                this.selectedAmPm = ampmIntoView.selectedItem;\n                this._updateEditableInput();\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public nextHour() {\n        const nextHour = this._nextItem(this._hourItems, this.selectedHour, this._isHourListLoop, 'hour');\n        this._hourView = nextHour.view;\n        this.selectedHour = nextHour.selectedItem;\n\n        this._updateEditableInput();\n    }\n\n    /**\n     * @hidden\n     */\n    public prevHour() {\n        const prevHour = this._prevItem(this._hourItems, this.selectedHour, this._isHourListLoop, 'hour');\n        this._hourView = prevHour.view;\n        this.selectedHour = prevHour.selectedItem;\n\n        this._updateEditableInput();\n    }\n\n    /**\n     * @hidden\n     */\n    public nextMinute() {\n        const nextMinute = this._nextItem(this._minuteItems, this.selectedMinute, this._isMinuteListLoop, 'minute');\n        this._minuteView = nextMinute.view;\n        this.selectedMinute = nextMinute.selectedItem;\n\n        this._updateEditableInput();\n    }\n\n    /**\n     * @hidden\n     */\n    public prevMinute() {\n        const prevMinute = this._prevItem(this._minuteItems, this.selectedMinute, this._isMinuteListLoop, 'minute');\n        this._minuteView = prevMinute.view;\n        this.selectedMinute = prevMinute.selectedItem;\n\n        this._updateEditableInput();\n    }\n\n    /**\n     * @hidden\n     */\n    public nextSeconds() {\n        const nextSeconds = this._nextItem(this._secondsItems, this.selectedSeconds, this._isSecondsListLoop, 'seconds');\n        this._secondsView = nextSeconds.view;\n        this.selectedSeconds = nextSeconds.selectedItem;\n\n        this._updateEditableInput();\n    }\n\n    /**\n     * @hidden\n     */\n    public prevSeconds() {\n        const prevSeconds = this._prevItem(this._secondsItems, this.selectedSeconds, this._isSecondsListLoop, 'seconds');\n        this._secondsView = prevSeconds.view;\n        this.selectedSeconds = prevSeconds.selectedItem;\n\n        this._updateEditableInput();\n    }\n\n    /**\n     * @hidden\n     */\n    public nextAmPm() {\n        const selectedIndex = this._ampmItems.indexOf(this.selectedAmPm);\n\n        if (selectedIndex + 1 < this._ampmItems.length - 3) {\n            this._updateAmPmView(selectedIndex - 2, selectedIndex + 5);\n            this.selectedAmPm = this._ampmItems[selectedIndex + 1];\n\n            this._updateEditableInput();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public prevAmPm() {\n        const selectedIndex = this._ampmItems.indexOf(this.selectedAmPm);\n\n        if (selectedIndex > 3) {\n            this._updateAmPmView(selectedIndex - 4, selectedIndex + 3);\n            this.selectedAmPm = this._ampmItems[selectedIndex - 1];\n\n            this._updateEditableInput();\n        }\n    }\n\n    /**\n     * If current value is valid selects it, closes the dialog and returns true, otherwise returns false.\n     * ```html\n     * <igx-dialog class=\"igx-time-picker__dialog-popup\" [rightButtonLabel]=\"okButtonLabel\" (onRightButtonSelect)=\"okButtonClick()\">\n     * //..\n     * </igx-dialog>\n     * ```\n     */\n    public okButtonClick(): boolean {\n        const time = this._getSelectedTime();\n        if (this._isValueValid(time)) {\n            this.close();\n            this.value = time;\n            return true;\n        } else {\n            const args: IgxTimePickerValidationFailedEventArgs = {\n                timePicker: this,\n                currentValue: time,\n                setThroughUI: true\n            };\n            this.onValidationFailed.emit(args);\n            return false;\n        }\n    }\n\n    /**\n     * Closes the dialog without selecting the current value.\n     * ```html\n     * <igx-dialog class=\"igx-time-picker__dialog-popup\" [leftButtonLabel]=\"cancelButtonLabel\" (onLeftButtonSelect)=\"cancelButtonClick()\">\n     * //...\n     * </igx-dialog>\n     * ```\n     */\n    public cancelButtonClick(): void {\n        if (this.mode === InteractionMode.DropDown) {\n            this.displayValue = this.value ? this._formatTime(this.value, this.format) : this.parseMask(false);\n        }\n\n        this.close();\n\n        this.selectedHour = this._prevSelectedHour;\n        this.selectedMinute = this._prevSelectedMinute;\n        this.selectedSeconds = this._prevSelectedSeconds;\n        this.selectedAmPm = this._prevSelectedAmPm;\n    }\n\n    /**\n     * Returns an array of the hours currently in view.\n     *```html\n     *@ViewChild(\"MyChild\")\n     *private picker: IgxTimePickerComponent;\n     *ngAfterViewInit(){\n     *    let hInView = this.picker.hoursInView;\n     *}\n     *```\n     */\n    public hoursInView(): string[] {\n        return this._hourView.filter((hour) => hour !== '');\n    }\n\n    /**\n     * Returns an array of the minutes currently in view.\n     *```html\n     *@ViewChild(\"MyChild\")\n     *private picker: IgxTimePickerComponent;\n     *ngAfterViewInit(){\n     *    let minInView = this.picker.minutesInView;\n     *}\n     *```\n     */\n    public minutesInView(): string[] {\n        return this._minuteView.filter((minute) => minute !== '');\n    }\n\n    /**\n     * Returns an array of the seconds currently in view.\n     *```html\n     *@ViewChild(\"MyChild\")\n     *private picker: IgxTimePickerComponent;\n     *ngAfterViewInit(){\n     *    let minInView = this.picker.secondsInView;\n     *}\n     *```\n     */\n    public secondsInView(): string[] {\n        return this._secondsView.filter((seconds) => seconds !== '');\n    }\n\n    /**\n     * Returns an array of the AM/PM currently in view.\n     *```html\n     *@ViewChild(\"MyChild\")\n     *private picker: IgxTimePickerComponent;\n     *ngAfterViewInit(){\n     *    let ApInView = this.picker.ampmInView;\n     *}\n     *```\n     */\n    public ampmInView(): string[] {\n        return this._ampmView.filter((ampm) => ampm !== '');\n    }\n\n    /**\n     * Closes the dropdown/dialog.\n     * ```html\n     *<igx-time-picker #timePicker></igx-time-picker>\n     * ```\n     * ```typescript\n     * @ViewChild('timePicker', { read: IgxTimePickerComponent }) picker: IgxTimePickerComponent;\n     * picker.close();\n     * ```\n     */\n    public close(): void {\n        this.toggleRef.close();\n    }\n\n    /**\n     * @hidden\n     */\n    public parseMask(preserveAmPm = true): string {\n        const maskWithAmPm = this.mask.replace(new RegExp('0', 'g'), this.promptChar).replace('LL', 'AM');\n        const pureMask = this.mask.replace(new RegExp('0', 'g'), this.promptChar).replace(new RegExp('L', 'g'), this.promptChar);\n\n        return preserveAmPm ? maskWithAmPm : pureMask;\n    }\n\n    /**\n     * @hidden\n     */\n    public clear(): void {\n        if (this.toggleRef.collapsed) {\n            this.cleared = true;\n            this.isNotEmpty = false;\n\n            const oldVal = new Date(this.value);\n\n            this.displayValue = '';\n            this.value.setHours(0, 0);\n\n            if (oldVal.getTime() !== this.value.getTime()) {\n                const args: IgxTimePickerValueChangedEventArgs = {\n                    oldValue: oldVal,\n                    newValue: this.value\n                };\n                this.onValueChanged.emit(args);\n            }\n        } else {\n            this.close();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public onInput(event): void {\n        const val = event.target.value;\n        const oldVal = new Date(this.value);\n\n        this.isNotEmpty = val !== this.parseMask(false);\n\n        // handle cases where all empty positions (promts) are filled and we want to update\n        // timepicker own value property if it is a valid Date\n        if (val.indexOf(this.promptChar) === -1) {\n            if (this._isEntryValid(val)) {\n                const newVal = this._convertMinMaxValue(val);\n                if (oldVal.getTime() !== newVal.getTime()) {\n                    this.value = newVal;\n                }\n            } else {\n                const args: IgxTimePickerValidationFailedEventArgs = {\n                    timePicker: this,\n                    currentValue: val,\n                    setThroughUI: false\n                };\n                this.onValidationFailed.emit(args);\n            }\n            // handle cases where the user deletes the display value (when pressing backspace or delete)\n        } else if (!this.value || !val || val === this.parseMask(false)) {\n            this.isNotEmpty = false;\n\n            this.value.setHours(0, 0);\n            this.displayValue = val;\n\n            if (oldVal.getTime() !== this.value.getTime()) {\n                const args: IgxTimePickerValueChangedEventArgs = {\n                    oldValue: oldVal,\n                    newValue: this.value\n                };\n                this.onValueChanged.emit(args);\n            }\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public onFocus(event): void {\n        this.isNotEmpty = event.target.value !== this.parseMask(false);\n    }\n\n    /**\n     * @hidden\n     */\n    public onBlur(event): void {\n        if (this.mode === InteractionMode.DropDown) {\n            const value = event.target.value;\n\n            this.isNotEmpty = value !== '';\n            this.displayValue = value;\n\n            if (value && value !== this.parseMask()) {\n                if (this._isEntryValid(value)) {\n                    const newVal = this._convertMinMaxValue(value);\n                    if (!this.value || this.value.getTime() !== newVal.getTime()) {\n                        this.value = newVal;\n                    }\n                } else {\n                    const args: IgxTimePickerValidationFailedEventArgs = {\n                        timePicker: this,\n                        currentValue: value,\n                        setThroughUI: false\n                    };\n                    this.onValidationFailed.emit(args);\n                }\n            }\n        }\n\n        if (this.toggleRef.collapsed) {\n            this._updateValidityOnBlur();\n        }\n    }\n\n    public mouseDown(event: MouseEvent): void {\n        // if the click is not on the input but in input group\n        // e.g. on prefix or suffix, prevent default and this way prevent blur\n        if (event.target !== this.getEditElement()) {\n            event.preventDefault();\n        }\n    }\n\n    /**\n     * @hidden\n     */\n    public spinOnEdit(event): void {\n        event.preventDefault();\n\n        let sign: number;\n        let displayVal: string;\n        const currentVal = new Date(this.value);\n        const min = this.minValue ? this._convertMinMaxValue(this.minValue) : this._convertMinMaxValue('00:00');\n        const max = this.maxValue ? this._convertMinMaxValue(this.maxValue) : this._convertMinMaxValue('24:00');\n\n        const cursor = this._getCursorPosition();\n\n        if (event.key) {\n            const key = event.key;\n            sign = key === KEYS.DOWN_ARROW || key === KEYS.DOWN_ARROW_IE ? -1 : 1;\n        }\n\n        if (event.deltaY) {\n            sign = event.deltaY < 0 ? 1 : -1;\n        }\n\n        if (!this.displayValue) {\n            this.value = min;\n            displayVal = this._formatTime(this.value, this.format);\n        } else {\n            const hDelta = this.itemsDelta.hours * 60 + (sign * this.value.getMinutes());\n            const mDelta = this.itemsDelta.minutes;\n            const sDelta = this.itemsDelta.seconds;\n\n            if (this.cursorOnHours(cursor, this.showHoursList)) {\n                this.value = this._spinHours(currentVal, min, max, hDelta, sign);\n            }\n            if (this.cursorOnMinutes(cursor, this.showHoursList, this.showMinutesList)) {\n                this.value = this._spinMinutes(currentVal, mDelta, sign);\n            }\n            if (this.cursorOnSeconds(cursor, this.showHoursList, this.showMinutesList, this.showSecondsList)) {\n                this.value = this._spinSeconds(currentVal, sDelta, sign);\n            }\n            if (this.cursorOnAmPm(cursor, this.showHoursList, this.showMinutesList, this.showSecondsList, this.showAmPmList)) {\n                const sections = this.displayValue.split(/[\\s:]+/);\n                sign = sections[sections.length - 1] === 'AM' ? 1 : -1;\n                currentVal.setHours(currentVal.getHours() + (sign * 12));\n\n                this.value = currentVal;\n            }\n\n            displayVal = this._formatTime(this.value, this.format);\n        }\n\n        // minor hack for preventing cursor jumping in IE\n        this._displayValue = this.inputFormat.transform(displayVal);\n        this._inputElementRef.nativeElement.value = this._displayValue;\n        this._setCursorPosition(cursor);\n\n        requestAnimationFrame(() => {\n            this._setCursorPosition(cursor);\n        });\n    }\n\n    private cursorOnHours(cursor: number, showHours: boolean): boolean {\n        return showHours && this._hoursPos.has(cursor);\n    }\n\n    private cursorOnMinutes(cursor: number, showHours: boolean, showMinutes: boolean): boolean {\n        return showMinutes &&\n            (showHours && this._minutesPos.has(cursor)) ||\n            (!showHours && this._minutesPos.has(cursor));\n    }\n\n    private cursorOnSeconds(cursor: number, showHours: boolean, showMinutes: boolean, showSeconds: boolean): boolean {\n        return showSeconds &&\n            (showHours && showMinutes && this._secondsPos.has(cursor)) ||\n            ((!showHours || !showMinutes) && this._secondsPos.has(cursor)) ||\n            (!showHours && !showMinutes && this._secondsPos.has(cursor));\n    }\n\n    private cursorOnAmPm(cursor: number, showHours: boolean, showMinutes: boolean,\n        showSeconds: boolean, showAmPm: boolean): boolean {\n        return showAmPm &&\n            (showHours && showMinutes && showSeconds && this._amPmPos.has(cursor)) ||\n            ((!showHours || !showMinutes || !showSeconds) && this._amPmPos.has(cursor)) ||\n            (!showHours && (!showMinutes || !showSeconds) && this._amPmPos.has(cursor));\n    }\n\n    private _updateValidityOnBlur() {\n        this._onTouchedCallback();\n        const input = this._inputDirective || this._inputDirectiveUserTemplate;\n        if (this._ngControl && !this._ngControl.valid) {\n            input.valid = IgxInputState.INVALID;\n        } else {\n            input.valid = IgxInputState.INITIAL;\n        }\n    }\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [\n        IgxTimePickerComponent,\n        IgxHourItemDirective,\n        IgxMinuteItemDirective,\n        IgxSecondsItemDirective,\n        IgxItemListDirective,\n        IgxAmPmItemDirective,\n        IgxTimePickerTemplateDirective,\n        IgxTimePickerActionsDirective,\n        TimeDisplayFormatPipe,\n        TimeInputFormatPipe\n    ],\n    exports: [\n        IgxTimePickerComponent,\n        IgxTimePickerTemplateDirective,\n        IgxTimePickerActionsDirective,\n        TimeDisplayFormatPipe,\n        TimeInputFormatPipe\n    ],\n    imports: [\n        CommonModule,\n        IgxInputGroupModule,\n        IgxIconModule,\n        IgxButtonModule,\n        IgxMaskModule,\n        IgxToggleModule\n    ],\n    providers: []\n})\nexport class IgxTimePickerModule { }\n","import { animate, state, style, transition, trigger } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\nimport {\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    NgModule,\n    OnDestroy,\n    OnInit,\n    Optional,\n    Output\n} from '@angular/core';\nimport { IgxNavigationService, IToggleView } from '../core/navigation';\n\nlet NEXT_ID = 0;\n/**\n * **Ignite UI for Angular Toast** -\n * [Documentation](https://www.infragistics.com/products/ignite-ui-angular/angular/components/toast.html)\n *\n * The Ignite UI Toast provides information and warning messages that are non-interactive and cannot\n * be dismissed by the user. Toasts can be displayed at the bottom, middle, or top of the page.\n *\n * Example:\n * ```html\n * <button (click)=\"toast.show()\">Show notification</button>\n * <igx-toast #toast\n *           message=\"Notification displayed\"\n *           displayTime=\"1000\">\n * </igx-toast>\n * ```\n */\n@Component({\n    animations: [\n        trigger('animate', [\n            state('show', style({\n                opacity: 1\n            })),\n            transition('* => show', animate('.20s ease')),\n            transition('show => *', animate('.40s ease-out'))\n        ])\n    ],\n    selector: 'igx-toast',\n    templateUrl: 'toast.component.html',\n    styles: [`\n        :host {\n            display: block;\n        }\n    `]\n})\nexport class IgxToastComponent implements IToggleView, OnInit, OnDestroy {\n    private _isVisible = false;\n    /**\n     * Returns a list of available CSS classes.\n     * ```typescript\n     * let toastClasses =  this.toast.CSS_CLASSES;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    public readonly CSS_CLASSES = {\n        IGX_TOAST_BOTTOM: 'igx-toast--bottom',\n        IGX_TOAST_MIDDLE: 'igx-toast--middle',\n        IGX_TOAST_TOP: 'igx-toast--top'\n    };\n\n    /**\n     * Sets/gets the `id` of the toast.\n     * If not set, the `id` will have value `\"igx-toast-0\"`.\n     * ```html\n     * <igx-toast id = \"my-first-toast\"></igx-toast>\n     * ```\n     * ```typescript\n     * let toastId = this.toast.id;\n     * ```\n     */\n    @HostBinding('attr.id')\n    @Input()\n    public id = `igx-toast-${NEXT_ID++}`;\n\n    /**\n     * Emits an event prior the toast is shown.\n     * Provides reference to the `IgxToastComponent` as event argument.\n     * ```html\n     * <igx-toast (onShowing) = \"onShowing($event)\"></igx-toast>\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Output()\n    public onShowing = new EventEmitter<IgxToastComponent>();\n\n    /**\n     * Emits an event when the toast is shown.\n     * Provides reference to the `IgxToastComponent` as event argument.\n     * ```html\n     * <igx-toast (onShown) = \"onShown($event)\"></igx-toast>\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Output()\n    public onShown = new EventEmitter<IgxToastComponent>();\n\n    /**\n     * Emits an event prior the toast is hidden.\n     * Provides reference to the `IgxToastComponent` as event argument.\n     * ```html\n     * <igx-toast (onHiding) = \"onHiding($event)\"></igx-toast>\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Output()\n    public onHiding = new EventEmitter<IgxToastComponent>();\n\n    /**\n     *  Emits an event when the toast is hidden.\n     *  Provides reference to the `IgxToastComponent` as event argument.\n     * ```html\n     * <igx-toast (onHidden) = \"onHidden($event)\"></igx-toast>\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Output()\n    public onHidden = new EventEmitter<IgxToastComponent>();\n    /**\n     * Sets/gets the `role` attribute.\n     * If not set, `role` will have value `\"alert\"`.\n     * ```html\n     * <igx-toast [role] = \"'notify'\"></igx-toast>\n     * ```\n     * ```typescript\n     * let toastRole = this.toast.role;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Input()\n    public role = 'alert';\n    /**\n     * Sets/gets whether the toast will be hidden after the `displayTime` is over.\n     * Default value is `true`.\n     * ```html\n     * <igx-toast [autoHide] = \"false\"></igx-toast>\n     * ```\n     * ```typescript\n     * let autoHide = this.toast.autoHide;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Input()\n    public autoHide = true;\n\n    /**\n     * Sets/gets the duration of time span(in milliseconds) which the toast will be visible\n     * after it is being shown.\n     * Default value is `4000`.\n     * ```html\n     * <igx-toast [displayTime] = \"2500\"></igx-toast>\n     * ```\n     * ```typescript\n     * let displayTime = this.toast.displayTime;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Input()\n    public displayTime = 4000;\n\n    /**\n     * Enables/Disables the visibility of the toast.\n     * If not set, the `isVisible` attribute will have value `false`.\n     * ```html\n     * <igx-toast [isVisible] = \"true\"></igx-toast>\n     * ```\n     * ```typescript\n     * let isVisible = this.toast.isVisible;\n     * ```\n     *\n     * Two-way data binding.\n     * ```html\n     * <igx-toast [(isVisible)] = \"model.isVisible\"></igx-toast>\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Input()\n    public get isVisible() {\n        return this._isVisible;\n    }\n    public set isVisible(value) {\n        this._isVisible = value;\n        this.isVisibleChange.emit(this._isVisible);\n\n    }\n\n    /**\n     *@hidden\n     */\n    @Output()\n    public isVisibleChange = new EventEmitter<boolean>();\n\n    /**\n     * Sets/gets the message that will be shown by the toast.\n     * ```html\n     * <igx-toast [message] = \"Notification\"></igx-toast>\n     * ```\n     * ```typescript\n     * let toastMessage = this.toast.message;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Input()\n    public message: string;\n\n    /**\n     * Sets/gets the position of the toast.\n     * If not set, the `position` attribute will have value `IgxToastPosition.Bottom`.\n     * ```html\n     * <igx-toast [position] = \"top\"></igx-toast>\n     * ```\n     * ```typescript\n     * let toastPosition = this.toast.position;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    @Input()\n    public position: IgxToastPosition = IgxToastPosition.Bottom;\n\n    /**\n     * Gets the nativeElement of the toast.\n     * ```typescript\n     * let nativeElement = this.toast.element;\n     * ```\n     * @memberof IgxToastComponent\n     */\n    public get element() {\n        return this.elementRef.nativeElement;\n    }\n    /**\n     *@hidden\n     */\n    private timeoutId;\n\n    constructor(\n        private elementRef: ElementRef,\n        @Optional() private navService: IgxNavigationService) { }\n\n    /**\n     * Shows the toast.\n     * If `autoHide` is enabled, the toast will hide after `displayTime` is over.\n     * ```typescript\n     * this.toast.show();\n     * ```\n     * @memberof IgxToastComponent\n     */\n    public show(): void {\n        clearInterval(this.timeoutId);\n        this.onShowing.emit(this);\n        this.isVisible = true;\n\n        if (this.autoHide) {\n            this.timeoutId = setTimeout(() => {\n                this.hide();\n            }, this.displayTime);\n        }\n\n        this.onShown.emit(this);\n    }\n\n    /**\n     * Hides the toast.\n     * ```typescript\n     * this.toast.hide();\n     * ```\n     * @memberof IgxToastComponent\n     */\n    public hide(): void {\n        this.onHiding.emit(this);\n        this.isVisible = false;\n        this.onHidden.emit(this);\n\n        clearInterval(this.timeoutId);\n    }\n\n    /**\n     * Wraps @show() method due @IToggleView interface implementation.\n     * @hidden\n     */\n    public open() {\n        this.show();\n    }\n\n    /**\n     * Wraps @hide() method due @IToggleView interface implementation.\n     * @hidden\n     */\n    public close() {\n        this.hide();\n    }\n\n    /**\n     * Toggles the visible state of the toast.\n     * ```typescript\n     * this.toast.toggle();\n     * ```\n     * @memberof IgxToastComponent\n     */\n    public toggle() {\n        this.isVisible ? this.close() : this.open();\n    }\n    /**\n     * Sets/gets the class name of the toast based on the `position` value.\n     * ```typescript\n     * let className =  this.toast.mapPositionToClassName();\n     * ```\n     * @memberof IgxToastComponent\n     */\n    public mapPositionToClassName(): any {\n        if (this.position === IgxToastPosition.Top) {\n            return this.CSS_CLASSES.IGX_TOAST_TOP;\n        }\n\n        if (this.position === IgxToastPosition.Middle) {\n            return this.CSS_CLASSES.IGX_TOAST_MIDDLE;\n        }\n\n        if (this.position === IgxToastPosition.Bottom) {\n            return this.CSS_CLASSES.IGX_TOAST_BOTTOM;\n        }\n    }\n    /**\n     *@hidden\n     */\n    public ngOnInit() {\n        if (this.navService && this.id) {\n            this.navService.add(this.id, this);\n        }\n    }\n    /**\n     *@hidden\n     */\n    public ngOnDestroy() {\n        if (this.navService && this.id) {\n            this.navService.remove(this.id);\n        }\n    }\n}\n\n/**\n * Enumeration for toast position\n * Can be:\n * Bottom\n * Middle\n * Top\n */\nexport enum IgxToastPosition {\n    Bottom,\n    Middle,\n    Top\n}\n\n/**\n * @hidden\n */\n@NgModule({\n    declarations: [IgxToastComponent],\n    exports: [IgxToastComponent],\n    imports: [CommonModule]\n})\nexport class IgxToastModule { }\n"],"names":["EaseIn","EaseOut","style","animate","animation","keyframes","baseParams","baseRecipe","base","baseInParams","baseOutParams","Injectable","Input","HostListener","Directive","NgModule","isPlatformBrowser","Inject","PLATFORM_ID","Observable","SortingDirection","PagingError","FilteringLogic","FilteringExpressionsTreeType","TransactionType","DataType","debounceTime","first","Pipe","EventEmitter","CsvFileTypes","Output","HorizontalAlignment","VerticalAlignment","isDevMode","Subject","ElementRef","fromEvent","filter","takeUntil","ComponentFactoryResolver","ApplicationRef","Injector","AnimationBuilder","DOCUMENT","NgZone","ChangeDetectorRef","Optional","HostBinding","InjectionToken","Component","NEXT_ID","warningShown","DisplayDensity","ViewContainerRef","ViewChild","CommonModule","throttleTime","TemplateRef","IterableDiffers","take","ContentChild","ContentChildren","forwardRef","Self","IgxInputState","NgModel","FormControlName","Renderer2","IgxDividerType","RestrictDrag","throttle","interval","animationFrameScheduler","NG_VALUE_ACCESSOR","RadioLabelPosition","noop","nextId","useAnimation","SecurityContext","DomSanitizer","IgxAvatarSize","IgxAvatarType","IgxBadgeType","Host","ButtonGroupAlignment","ViewChildren","DateRangeType","WEEKDAYS","debounce","tap","CalendarView","HammerGestureConfig","HAMMER_GESTURE_CONFIG","switchMap","skipLast","trigger","transition","FormsModule","IgxCardType","IgxCardActionsLayout","Direction","CarouselIndicatorsOrientation","CarouselAnimationType","merge","LabelPosition","NG_VALIDATORS","CheckboxRequiredValidator","IgxComboState","NgControl","ReactiveFormsModule","InteractionMode","PredefinedFormatOptions","formatDate","NgModuleRef","inject","IgxTextAlign","IgxProgressType","Subscription","timer","SimpleChange","getDOM","FilterMode","GridSummaryPosition","GridSummaryCalculationMode","GridKeydownTargetType","GridSelectionMode","ColumnDisplayOrder","ChangeDetectionStrategy","LOCALE_ID","DatePipe","DecimalPipe","IgxListPanState","map","QueryList","pipe","flatten","IgxSliderType","SliderHandle","TickLabelsOrientation","TicksOrientation","SwitchLabelPosition","IgxTabsType","IgxToastPosition","state"],"mappings":"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"}